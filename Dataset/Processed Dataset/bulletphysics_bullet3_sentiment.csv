id,original_comment,processed_comment,source,sentiment_VADER,sentiment_textblob,sentiment_pattern,sentiment_bert,sentiment_spacy,max_voted_sentiment
2021702427,"Hey any idea how could I import a terrain like material in Pybullet onto a simple platform like structure?

",hey idea could import terrain like material onto simple platform like structure,issue,positive,neutral,neutral,neutral,neutral,neutral
2020171564,Problem is that python 3.12 no longer bundles `distutils` which is used by `build3/cmake/FindLibPython.py`.,problem python longer used,issue,negative,neutral,neutral,neutral,neutral,neutral
1974016614,"The expression:
	if (m_angularFactor)
	{
		...
	}
is always true.  Looks like the compiler implicitly casts ""operator  btScalar *()""  from pointer to bool.
",expression always true like compiler implicitly operator pointer bool,issue,positive,positive,positive,positive,positive,positive
1970234536,"Hi @erwincoumans, we were hoping to resolve an issue in Gazebo with this PR. Would you be able to review it?",hi resolve issue gazebo would able review,issue,negative,positive,positive,positive,positive,positive
1969104206,"I was able to fix it. It was an issue with the language encoding, changing it by using:
export LC_NUMERIC=""en_US.UTF-8""
was the solution.

It has to do with whether you use '.' or ',' as the foat point separator",able fix issue language export solution whether use point separator,issue,negative,positive,positive,positive,positive,positive
1966888861,"For anyone having this issue, see this pull request: https://github.com/bulletphysics/bullet3/pull/4585#issue-2156970218",anyone issue see pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
1937382193,"> closing out-of-date issues. btKinematicCharacterController is not supported.

Is it still not supported or was it added back? Because I still see it in the codebase and there is no comment indicating it's not supported? Could you confirm if it indeed should not be used or if it is okay to use now?",still added back still see comment could confirm indeed used use,issue,negative,neutral,neutral,neutral,neutral,neutral
1892381307,"@erwincoumans is it still possible to use a multi sphere shape as an ellipsoid, as was suggested many years ago?

https://pybullet.org/Bullet/phpBB3/viewtopic.php?p=2822&sid=fb649a2193c4c61a217adbd1ea584ef9#p2822",still possible use sphere shape ellipsoid many ago,issue,negative,positive,positive,positive,positive,positive
1884641831,I accidentally added a binary file modification that I have now removed from the pull request,accidentally added binary file modification removed pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
1884465875,"I just noticed that this seems to be fixed in the meantime.  If I repeat the steps from above now, I get the following output (note that NumPy enabled is 1 now, as expected):
```
NumPy version: 1.26.3
PyBullet version: 3.2.6
pybullet build time: Nov 28 2023 23:45:17
NumPy enabled: 1
```
",fixed repeat get following output note version version build time,issue,negative,positive,neutral,neutral,positive,positive
1874570484,"I would also appreciate clarification on this, as I also ran into this NaN when trying to use a fixed point type for btScalar, and I'm not certain what the proper behavior is supposed to be.",would also appreciate clarification also ran nan trying use fixed point type certain proper behavior supposed,issue,positive,positive,positive,positive,positive,positive
1873432910,"```

#include <glad/glad.h>
#include <GLFW/glfw3.h>

int main() {
    // Initialize GLFW and create a window
    glfwInit();
    // Configure GLFW window hints here...

    GLFWwindow* window = glfwCreateWindow(800, 600, ""My OpenGL Application"", NULL, NULL);
    if (!window) {
        glfwTerminate();
        return -1;
    }

    glfwMakeContextCurrent(window);

    // Initialize GLAD (must be done after creating the context)
    if (!gladLoadGLLoader((GLADloadproc)glfwGetProcAddress)) {
        // GLAD initialization failed
        return -1;
    }

    // Now you can use OpenGL functions

    // Rest of your code...

    glfwTerminate();
    return 0;
}
```",include include main initialize create window configure window window application null null window return window initialize glad must done context glad return use rest code return,issue,positive,positive,positive,positive,positive,positive
1873032410,"@ghiboz If you're still stuck on this, you can start a btRigidBody off as sleeping like this:
`bBody->setActivationState(ISLAND_SLEEPING);`

When it is acted upon by another object it will become active.",still stuck start sleeping like upon another object become active,issue,negative,negative,negative,negative,negative,negative
1867049344,"> @CedricSchmeits did you have any luck?

Sorry did not find the time yet to try it out. Will defiantly try it beginning next year. ",luck sorry find time yet try defiantly try beginning next year,issue,negative,negative,negative,negative,negative,negative
1862125675,"I'm not sure if the example browser respects what written in the documentation:

![image](https://github.com/bulletphysics/bullet3/assets/19198104/1a38d40d-ef57-4d03-b70e-7a52b329d50f)

Assuming it matches in a color coordinated way that should give the answer
",sure example browser written documentation image assuming color way give answer,issue,negative,positive,positive,positive,positive,positive
1862121834,"Hey @lyssdod I just found this issue and noticed you were having some build issues. I also ran into the same errors while using cmake but I managed to get everything working eventually and I documented it in this wiki that I'm working on: https://cuppajoeman.github.io/bullet-physics-manual/Building.html (eventually I'll try to make a pull request into official bullet)

The page I just linked describes a method to use cmake to bulid using a `CMakeLists.txt` file. I tested it out today to verify it's all working alright and it is.

Can you try again using this method?

I'm pretty sure the error has to do with the order in which libraries are linked btw.",hey found issue build also ran get everything working eventually working eventually try make pull request official bullet page linked method use file tested today verify working alright try method pretty sure error order linked,issue,positive,positive,positive,positive,positive,positive
1862022905,"Personally when I'm working with bullet I just clone in bullet and build it with my project to test things out. 

I don't think I'll be able to help with Debian 12 specific issues, but maybe others can talk about their experience using bullet by installing it through their package managers.

If your willing to try the direct method, then see if you can get things running through the wiki I'm creating: https://cuppajoeman.github.io/bullet-physics-manual/Building.html",personally working bullet clone bullet build project test think able help specific maybe talk experience bullet package willing try direct method see get running,issue,negative,positive,positive,positive,positive,positive
1860122732,Yes I wanted to use that file as starting point of a new project. But it doesn't seem to be working,yes use file starting point new project seem working,issue,negative,positive,neutral,neutral,positive,positive
1859694715,"I'm assuming you're talking about this file? https://github.com/bulletphysics/bullet3/blob/master/examples/HelloWorld/HelloWorld.cpp

Otherwise post the contents of the file you're working with. I remember being able to use the `HelloWorld.cpp` program as a starting point and it working correctly, I'm running on manjaro linux.",assuming talking file otherwise post content file working remember able use program starting point working correctly running,issue,negative,positive,positive,positive,positive,positive
1859691824,"I can also confirm this, running on linux. Already mentioned here: https://github.com/bulletphysics/bullet3/issues/4493",also confirm running already,issue,negative,neutral,neutral,neutral,neutral,neutral
1855486442,"I had the same issue
Try running your script using
python -i 'youFIlePathName'",issue try running script python,issue,negative,neutral,neutral,neutral,neutral,neutral
1852160733,"Are you using a Mac by any chance?

I don't have a solution but I started running into this issue after switching to a Mac (M2). I am using it in a C++ program linking to bullet version 3.24. It does not exhibit this issue on Windows.

EDIT: Looking at your GPU, it is pretty unlikely you were on a Mac, so the problem isn't isolated to that, or is unrelated.",mac chance solution running issue switching mac program linking bullet version exhibit issue edit looking pretty unlikely mac problem isolated unrelated,issue,negative,negative,negative,negative,negative,negative
1851507985,"hello,I face the problem that my robots endeffector cant touch completly with a curved face,as shown in the figrue
![Snipaste_2023-12-12_16-15-48](https://github.com/bulletphysics/bullet3/assets/91457205/a22e94c2-8d39-4345-8110-7bcc90d4630f)
,I tried to add concave=""yes"" to link label of the urdf,but they still cant touch compeletly.Do you have any solutions to this problem?
thank you.",hello face problem cant touch curved face shown tried add yes link label still cant touch problem thank,issue,negative,neutral,neutral,neutral,neutral,neutral
1831663843,"I think you have to play around with the gravity parameter for this.

On Wed, Nov 29, 2023 at 8:46 PM Lu-Meichen ***@***.***> wrote:

> 我正在尝试对水下环境进行建模。我认为通过改变重力和空气摩擦力应该是可能的。问题是 pybullet
> 是否支持空气摩擦？另外，有没有更好的方法可以在pybullet中对水下环境进行建模？
>
> Did you succeed to model an underwater enviroment? I want to do it based
> on pyBullet, but I do not get enough useful sources. Could you help me?
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3328#issuecomment-1831650962>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AK3SVERN4WYZPYCQOBOGMKDYG4G6XAVCNFSM42FXISHKU5DIOJSWCZC7NNSXTN2JONZXKZKDN5WW2ZLOOQ5TCOBTGE3DKMBZGYZA>
> .
> You are receiving this because you authored the thread.Message ID:
> ***@***.***>
>
",think play around gravity parameter wed wrote succeed model underwater want based get enough useful could help reply directly view id,issue,positive,positive,positive,positive,positive,positive
1831650962,"> 我正在尝试对水下环境进行建模。我认为通过改变重力和空气摩擦力应该是可能的。问题是 pybullet 是否支持空气摩擦？另外，有没有更好的方法可以在pybullet中对水下环境进行建模？

Did you succeed to model an underwater enviroment? I want to do it based on pyBullet, but I do not get enough useful sources. Could you help me?",succeed model underwater want based get enough useful could help,issue,positive,positive,positive,positive,positive,positive
1827898427,"Just also tried it on a Debian 12 system with bullet version: 3.24+dfsg-2

Here the same thing happens.",also tried system bullet version thing,issue,negative,neutral,neutral,neutral,neutral,neutral
1826286651,Sorry for the late response. Thanks for your kind help!,sorry late response thanks kind help,issue,positive,negative,neutral,neutral,negative,negative
1820094580,"I don't think this is possible when running the demos as standalone programs, but if you run the ExampleBrowser pressing 'i' will pause/resume stepping through the simulation.

I would recommend searching through https://pybullet.org/Bullet/phpBB3/ for these sorts of questions.",think possible running demo run pressing stepping simulation would recommend searching,issue,negative,neutral,neutral,neutral,neutral,neutral
1812839338,"Nice catch! I just updated the code to now get the first friction constraint based on its index, rather than the old (potentially invalid) reference.",nice catch code get first friction constraint based index rather old potentially invalid reference,issue,negative,positive,positive,positive,positive,positive
1812659000,"> Hmm, it seems no project maintainer is available to move forward on this?
> 
> This PR only adds b3RobotSimulatorClientAPI to the robotics GUI target. As far as I can tell it shouldn't break anything (and it will benefit users who face the same problem I did).

As I see - no any changes from 4th May.
Is Bullet closed?",project maintainer available move forward target far tell break anything benefit face problem see th may bullet closed,issue,negative,positive,positive,positive,positive,positive
1812381144," Potential issue with using the result of addMultiBodyFrictionConstraint like that, it expands each time you call it, so if during the 2nd call the vector grows it might move itself, make the reference to the first friction invalid.  



",potential issue result like time call call vector might move make reference first friction invalid,issue,negative,positive,positive,positive,positive,positive
1812165653,"Hmm, it seems no project maintainer is available to move forward on this?

This PR only adds b3RobotSimulatorClientAPI to the robotics GUI target. As far as I can tell it shouldn't break anything (and it will benefit users who face the same problem I did).",project maintainer available move forward target far tell break anything benefit face problem,issue,negative,positive,positive,positive,positive,positive
1801903129,"Fyi, I pushed and released on pypi a subset of pybullet envs compatible with gymnasium: https://github.com/araffin/pybullet_envs_gymnasium
`pip install pybullet_envs_gymnasium` (I will crosspost this message as it may interest several people)",subset compatible gymnasium pip install message may interest several people,issue,negative,neutral,neutral,neutral,neutral,neutral
1801811998,"The cable model exploded because the parameters of the cable were set incorrectly, and I solved the problem by setting the parameters as follows
kabelId = p.loadSoftBody(""M:/Hiwi/Pybullet/Modelle/Kabel/Tetild/Kabel_05_sf.obj"", 
                         simFileName=""M:/Hiwi/Pybullet/Modelle/Kabel/TetWild/Kabel_05.vtk"", 
                         scale = 0.4,
                         mass = 0.5,
                         basePosition = [5,-15,-15],
                         useMassSpring = 1,
                         useNeoHookean = 1, 
                         NeoHookeanMu = 100, 
                         NeoHookeanLambda = 300, 
                         NeoHookeanDamping = 0.4, 
                         collisionMargin = 0.002, 
                         useSelfCollision = 1, 
                         frictionCoeff = 1, 
                         repulsionStiffness = 800)",cable model exploded cable set incorrectly problem setting scale mass,issue,negative,neutral,neutral,neutral,neutral,neutral
1788832052,Looks like it works if you make sure to cd into the directory with setup.py in it first and not try to put a long path before setup.py when you call it.,like work make sure directory first try put long path call,issue,positive,positive,positive,positive,positive,positive
1788818895,"I am having the same issue, I will let you know if I figure it out.",issue let know figure,issue,negative,neutral,neutral,neutral,neutral,neutral
1779640218,"> If any windows users are having trouble building tetwild for windows 10/possibly 11 there is a link to the binary here: [Yixin-Hu/TetWild#47](https://github.com/Yixin-Hu/TetWild/issues/47). Does anyone know how to create a command line argument for tetwild to convert stl to msh for instance?

Bump! I'm also struggling here.",trouble building link binary anyone know create command line argument convert instance bump also struggling,issue,negative,negative,negative,negative,negative,negative
1771616449,I worked myself through the implementation of Jolt and provided my findings here: https://github.com/jrouwe/JoltPhysics/discussions/628#discussioncomment-7331656. It might be helpful for someone who wants to get an overview before digging into the code.,worked implementation jolt provided might helpful someone get overview digging code,issue,negative,neutral,neutral,neutral,neutral,neutral
1759522035,"*Can use ""pMultibody->AddJointTorque()"" as a workaround (you may need to scale the torque applied). 

Happy to close this if asked, but will leave open for now as the desired behaviour of setVelocityTargetMultiDof() is not being met. ",use may need scale torque applied happy close leave open desired behaviour met,issue,positive,positive,positive,positive,positive,positive
1759227327,"Ok so, after a lot of tinkering I have now fixed this problem on my end. Posting here in case anyone else experiences this.

Basically, I was having strange behaviours on machine B with a number of bullet functions. In this example the problems were caused by `sim->getPhysicsEngineParameters(args);`, but I also observed some problems elsewhere in my codebase relating to `sim->getDyanmicsInfo`.  These were caused by the install being a bit bugged. I'm not sure why, but none of the official install options work for me. 

- vcpkg does not contain the robotics functions I was interested in
- premake failed to build for reasons I don't entirely understand
- executing `./build_cmake_pybullet_double.sh` appeared to work (this is what I did on machine B) but then produced undefined behaviour for several functions.

In the end what worked for me was building bullet the good old fashioned way:
```
mkdir build
cd build
cmake .. -DBUILD_SHARED_LIBS=ON
make
```
After doing this, the behaviour of Machine B lined up with what I expected, though I have no idea why. So anyone else having this issue, maybe try that?",lot fixed problem end posting case anyone else basically strange machine number bullet example also elsewhere install bit sure none official install work contain interested premake build entirely understand work machine produced undefined behaviour several end worked building bullet good old fashioned way build build make behaviour machine lined though idea anyone else issue maybe try,issue,positive,positive,positive,positive,positive,positive
1757245143,The issue seems only to happen on certain meshes I use and doesn't seem to be a problem within Bullet.,issue happen certain use seem problem within bullet,issue,negative,positive,positive,positive,positive,positive
1753282208,"As a further test, if I use the Python library urdfpy to load the same file it works fine and correctly identifies the links on **both machines**. I use this code:
```
from urdfpy import URDF

robot=URDF.load('basics/models/Drake_Corin.urdf')
for joint in robot.joints:
    print(joint.name)
robot.show()
```

And it correctly prints out the names of the 24 joints and then correctly visualises the robot on **both** machine A and machine B.",test use python library load file work fine correctly link use code import joint print correctly correctly robot machine machine,issue,negative,positive,positive,positive,positive,positive
1753258227,"As an update, i wanted to check if it was something to do with my URDF file, so I tried it with the `humanoid.urdf` file from the `data` directory (which I moved to `basics/models` for consistency) . On machine A i got:
```
Using direct mode
loading robot with ID 0 and path basics/models/humanoid.urdf
    robot has 33 joints
```
Whereas on machine B i got:
```
Using direct mode
loading robot with ID 0 and path basics/models/humanoid.urdf
    robot has 0 joints
```
Which implies to me that this issue isnt being caused by my URDF file",update check something file tried file data directory consistency machine got direct mode loading robot id path robot whereas machine got direct mode loading robot id path robot issue file,issue,negative,positive,neutral,neutral,positive,positive
1744226066,"I cannot load URDF from pybullet.GRAPHICS_SERVER on device 1. However, I can load URDF from the pybullet.GRAPHICS_SERVER_TCP on device 2 to connect to device 1.
Is there any way for me to be able to load URDF at a single server from two different devices connected over the TCP or UDP?

Device 1 code-

```
`import pybullet as p
import time
import pybullet_data

p.disconnect() if p.isConnected() else print(""Ready"")
pid=p.connect(p.GRAPHICS_SERVER)
p.setAdditionalSearchPath(pybullet_data.getDataPath())
print(""started graphics server"",pid)

p.loadURDF(""plane.urdf"")                         #this line throws error - cannot load URDF files
`
```

Device 2 code-

```
`import pybullet as p
import pybullet_data as pd
import time

ip_addr = 192.xxx.xx.x                                               #ip v4 address of device 1

p.connect(p.GRAPHICS_SERVER_TCP,ip_addr,6667)
p.setAdditionalSearchPath(pd.getDataPath())
p.syncBodyInfo()

p.loadURDF(""r2d2.urdf"", [1,1,3])
p.setGravity(0,0,-10)

if p.isConnected():
  for _ in range(100):
    p.stepSimulation()
    time.sleep(0.01)
 `
```
```
    
I am using Windows 11 x64 operating system and VScode version 1.82.3

",load device however load device connect device way able load single server two different connected device import import time import else print ready print graphic server line error load device import import import time address device range operating system version,issue,negative,positive,positive,positive,positive,positive
1722421944,"> Hi, I would like to suppress the pybullet build time message that is printed when you import pybullet in python. These messages become especially cumbersome as they print for each process if you use multiprocessing. It also spams the terminal during unit tests.

I have encountered the same problem. Have you resolved it?",hi would like suppress build time message printed import python become especially cumbersome print process use also terminal unit problem resolved,issue,negative,neutral,neutral,neutral,neutral,neutral
1714645223,"There's a brief overview of the algorithm here: https://github.com/bulletphysics/bullet3/blob/39b8de74df93721add193e5b3d9ebee579faebf8/src/BulletSoftBody/btDeformableMultiBodyDynamicsWorld.cpp#L16-L30

It also contains the relevant references.",brief overview algorithm also relevant,issue,negative,positive,positive,positive,positive,positive
1714077735,"I do not have the issue in a different environment (using a container) with an older NumPy version.  There I get
```
NumPy version: 1.23.3
PyBullet version: 3.2.5
pybullet build time: Aug 23 2023 11:35:33
NumPy enabled: 1
```
However, just downgrading NumPy in the ""steps to reproduce"" above does not help.  I noticed that even though the PyBullet version is the same, the build time differs by one day, so it seems that's actually also not exactly the same version.",issue different environment container older version get version version build time however reproduce help even though version build time one day actually also exactly version,issue,negative,positive,positive,positive,positive,positive
1712909922,Not 100% sure this is your exact problem but you may want to consider adding your geometry as a .vtk file. See https://github.com/bulletphysics/bullet3/issues/2726,sure exact problem may want consider geometry file see,issue,negative,positive,positive,positive,positive,positive
1712512353,"Same error here. Resolved for me by including libLinearMath.a, which is not named as a bullet lib. As a cmake argument in target_link_libraries, we should add -lLinearMath.",error resolved bullet argument add,issue,negative,neutral,neutral,neutral,neutral,neutral
1699051574,"Hey, I also encountered this problem and used this workaround, although its a dirty hack :( 

I was unable to find a simpler way to do this.

```python
import ctypes
import sys
class RedirectStream(object):

  @staticmethod
  def _flush_c_stream(stream):
    streamname = stream.name[1:-1]
    libc = ctypes.CDLL(None)
    libc.fflush(ctypes.c_void_p.in_dll(libc, streamname))

  def __init__(self, stream=sys.stdout, file=os.devnull):
    self.stream = stream
    self.file = file

  def __enter__(self):
    self.stream.flush()  # ensures python stream unaffected 
    self.fd = open(self.file, ""w+"")
    self.dup_stream = os.dup(self.stream.fileno())
    os.dup2(self.fd.fileno(), self.stream.fileno()) # replaces stream
  
  def __exit__(self, type, value, traceback):
    RedirectStream._flush_c_stream(self.stream)  # ensures C stream buffer empty
    os.dup2(self.dup_stream, self.stream.fileno()) # restores stream
    os.close(self.dup_stream)
    self.fd.close()
```

And then run the code that generates `argv[0]=` inside a `with RedirectStream(sys.stdout):`. So in your case,

```python
with RedirectStream(sys.stdout):
    for _ in range(10):
        client = bc.BulletClient(connection_mode=p.DIRECT)
```

If you find a simpler way let me know :)",hey also problem used although dirty hack unable find simpler way python import import class object stream none self stream file self python stream unaffected open stream self type value stream buffer empty stream run code inside case python range client find simpler way let know,issue,negative,negative,negative,negative,negative,negative
1694961434,"I think I have found the solution to this problem.
```
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING, 0)
load your model or transform your model dynamically
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING, 1)
```
If you can ensure that your change can be made in one step, you can also write code like this which also helps solve the problem.
```
p.configureDebugVisualizer(p.COV_ENABLE_SINGLE_STEP_RENDERING,1)
```",think found solution problem load model transform model dynamically ensure change made one step also write code like also solve problem,issue,positive,neutral,neutral,neutral,neutral,neutral
1689364038,"hello, I meet the same problem as yours. Have you figure out why it happens?",hello meet problem figure,issue,negative,neutral,neutral,neutral,neutral,neutral
1687910136,"Yes, I just fiddled with some cmake flags and it worked.
________________________________
From: MirrorYuChen ***@***.***>
Sent: Tuesday, August 22, 2023 1:17:30 PM
To: bulletphysics/bullet3 ***@***.***>
Cc: eLeCtrOssSnake ***@***.***>; Author ***@***.***>
Subject: Re: [bulletphysics/bullet3] CMake build fails on windows (MinGW-w64) (Issue #4112)


Meet the same problem，everything same to you, have you solved the problem?

—
Reply to this email directly, view it on GitHub<https://github.com/bulletphysics/bullet3/issues/4112#issuecomment-1687907340>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AJSXC4W6UF4TK7XO3CF3JUTXWSBLVANCNFSM5KX4UTEA>.
You are receiving this because you authored the thread.Message ID: ***@***.***>
",yes worked sent august author subject build issue meet problem reply directly view id,issue,negative,negative,neutral,neutral,negative,negative
1683238062,"Can I stop rendering to update points' positions and then start rendering manually?
Is there any function in pybullet which can control the GUI's rendering?",stop rendering update start rendering manually function control rendering,issue,negative,neutral,neutral,neutral,neutral,neutral
1682447372,@nematoli did you solve the problem? I'm also using the RQ-factorization but the result seems wrong.,solve problem also result wrong,issue,negative,negative,negative,negative,negative,negative
1682446254,"In the function `computeProjectionMatrixFOV` the FOV is horizontal, vertical or diagonal?",function horizontal vertical diagonal,issue,negative,neutral,neutral,neutral,neutral,neutral
1682407163,"Any update? @erwincoumans can you provide more information instead of just answering `google`? I searched on google but can't find useful information, a lot of people seems to struggle on this problem.",update provide information instead ca find useful information lot people struggle problem,issue,negative,positive,positive,positive,positive,positive
1678758577,"Solved! For others facing the same issue in the future, it was a dependency issue, that I solved by installing the required stuff:

```
conda install -c conda-forge libgcc=5.2.0
conda install -c anaconda libstdcxx-ng
conda install -c conda-forge gcc=12.1.0
```",facing issue future dependency issue stuff install install anaconda install,issue,negative,neutral,neutral,neutral,neutral,neutral
1670402568,Using PyBullet you can query any contact points (and filter them for particular objects/sensors) and check the forces (impulses) and penetration and contact locations. See getContactPoints in https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3,query contact filter particular check penetration contact see,issue,negative,positive,positive,positive,positive,positive
1666912634,"I had issues with this matter in the past weeks, turns out that the package installation takes 9 minutes. If you wait that long it'll work without a hassle.",matter past turn package installation wait long work without hassle,issue,negative,negative,negative,negative,negative,negative
1655402266,"i have done some research and based on what this https://github.com/kmammou/v-hacd git says in its presentation (slide 16)
the meshes have to be watertight (whatever that means) with no holes inside.
Could anyone confirm me if this is also true in pybullet?
Also what does ""watertight"" means mesh wise? is it that it is not closed or is it that is not connected? 

",done research based git presentation slide watertight whatever inside could anyone confirm also true also watertight mesh wise closed connected,issue,positive,positive,positive,positive,positive,positive
1647762745,"Hi there, i use the v-hacd tool and in general i have no problems, but recently i had problems with some meshes. 
Do someone know what requirements does my mesh needs to have? 
Im thinking about things like:
- if its a closed mesh
- the size of the mesh (if its too heavy)
- connectivity

The error i get is just ""b3Printf: Request createCollisionShape failed""

My .stl files come from a Solid Works assembled project so i think that there might be some screws or  litle parts inside my main part that may cause problems. 

Here is one of my STLs [my_piece.zip](https://github.com/bulletphysics/bullet3/files/12145466/my_piece.zip)
Thank you in advance 

",hi use tool general recently someone know mesh need thinking like closed mesh size mesh heavy connectivity error get request come solid work project think might inside main part may cause one thank advance,issue,negative,negative,neutral,neutral,negative,negative
1647188355,"Successfully downloaded, possibly because I didn't log in to my account during the previous download",successfully possibly log account previous,issue,negative,negative,neutral,neutral,negative,negative
1643046002,"This worked for me:

import gmsh
gmsh.initialize()

stl = gmsh.merge('Test.stl')
gmsh.model.mesh.classifySurfaces(gmsh.pi, True, True, gmsh.pi)
gmsh.model.mesh.createGeometry()

s = gmsh.model.getEntities(2)
surf = gmsh.model.geo.addSurfaceLoop([e[1] for e in s])
vol = gmsh.model.geo.addVolume([surf])
gmsh.model.geo.synchronize()
gmsh.model.occ.removeAllDuplicates()
gmsh.option.setNumber('Mesh.Algorithm', 1)
gmsh.option.setNumber('Mesh.MeshSizeMax', 5)
gmsh.option.setNumber('Mesh.MeshSizeMin', 0.5)

gmsh.model.addPhysicalGroup(3, [1], 1)
gmsh.model.setPhysicalName(3, 1, ""The volume"")
gmsh.model.occ.synchronize()
gmsh.model.mesh.generate(3)
gmsh.write(""output.vtk"")
gmsh.finalize()",worked import true true surf vol surf volume,issue,positive,positive,positive,positive,positive,positive
1639214308,If any windows users are having trouble building tetwild for windows 10/possibly 11 there is a link to the binary here:   https://github.com/Yixin-Hu/TetWild/issues/47. Does anyone know how to create a command line argument for tetwild to convert stl to msh for instance?,trouble building link binary anyone know create command line argument convert instance,issue,negative,negative,negative,negative,negative,negative
1635542518,"> Are there any plans to include this in the roadmap? I don't think this will be too hard, and I would love to help with any existing effort.

I quickly checked if I could quickly migrate the examples to Gymnasium, although it is not hard, I think the job takes quite an effort since not only the import has to be changed but also the:

- Step method.
- Reset method.
- Seeding behaviour.
- Rendering behaviour.

For more information, see https://gymnasium.farama.org/content/migration-guide. In the end, decided to use the compatibility wrappers provided by Farama for my research (see https://gymnasium.farama.org/content/gym_compatibility/).

```python
register(
    id=""WrappedMinitaur"",
    entry_point=""pybullet_envs.bullet.minitaur_gym_env:MinitaurBulletEnv"",
    disable_env_checker=True,
    apply_api_compatibility=True,
)
```",include think hard would love help effort quickly checked could quickly migrate gymnasium although hard think job quite effort since import also step method reset method behaviour rendering behaviour information see end decided use compatibility provided research see python register,issue,positive,positive,positive,positive,positive,positive
1625526598,"I've found this issue can be caused by passing a pointer to a local variable, like this. This is bad:

```
  {
    btTransform tf;
    tf.setIdentity();
    tf.setOrigin(btVector3(1e5, 1e5, 1e5));
    bed_collision_object_->setWorldTransform(tf);
    btSphereShape sphere_shape(btScalar(0.1));  // Goes out of scope
    bed_collision_object_->setCollisionShape(&sphere_shape);
    addCollisionObjectToBroadphase(sphere_collision_object_, broadphase_, dispatcher_);
  }
```
  
  Fixed version:
  
```
  btSphereShape sphere_shape(btScalar(0.1));
  {
    btTransform tf;
    tf.setIdentity();
    tf.setOrigin(btVector3(1e5, 1e5, 1e5));
    bed_collision_object_->setWorldTransform(tf);
    bed_collision_object_->setCollisionShape(&sphere_shape);
    addCollisionObjectToBroadphase(sphere_collision_object_, broadphase_, dispatcher_);
  }
```

So this was probably user error. Closing.",found issue passing pointer local variable like bad go scope fixed version probably user error,issue,negative,negative,negative,negative,negative,negative
1625417511,"I worked around this by using the lower-level API of `std::unique_ptr<btCollisionDispatcher> dispatcher_`. That's good enough for my purposes. I don't even use btCollisionWorld or btDiscreteDynamicWorld. I used the MoveIt implementation as an example:

https://github.com/ros-planning/moveit/blob/1a95deb9ccf8c1f8da65f6afcdc25878c5800f8f/moveit_core/collision_detection_bullet/src/bullet_integration/bullet_discrete_bvh_manager.cpp#L60",worked around good enough even use used implementation example,issue,negative,positive,positive,positive,positive,positive
1623313456,"It seems that installing pybullet on colab is very slow, because there is no wheel available on PyPI for python 3.10 (see https://pypi.org/project/pybullet/#files). Therefore pybullet is built from source which takes some time.",slow wheel available python see therefore built source time,issue,negative,positive,neutral,neutral,positive,positive
1610969279,Are there any plans to include this into the roadmap? I don't think that this will be too hard and I would love to help with any existing effort.,include think hard would love help effort,issue,positive,positive,positive,positive,positive,positive
1610901666,"what are two lateral friction direction can anyone explain?
",two lateral friction direction anyone explain,issue,negative,neutral,neutral,neutral,neutral,neutral
1610900924,"Ok, I've solved this problem. It looks like a problem with intelGraphics - windows DCH drivers. The solution can be to upgrade the driver, or add: GALLIUM_DRIVER=llvmpipe to the command line.

refer to:
https://github.com/microsoft/wslg/issues/654
https://github.com/microsoft/wslg/issues/334/",problem like problem solution upgrade driver add command line refer,issue,negative,neutral,neutral,neutral,neutral,neutral
1607142485,I request someone to answer my query. Thanks,request someone answer query thanks,issue,negative,positive,positive,positive,positive,positive
1591135743,"Additionally I noticed that contacts are reported for bodies that have been removed.
I even see contacts for the same body getting reported.
Using a simple AABB overlap check shows that the supposedly colliding bodies are distinct.

```python
from typing import Tuple

for contact in bullet.getContactPoints(physicsClientId=physics_client):
    (
        contact_flag,
        body_unique_id_a,
        body_unique_id_b,
        link_index_a,
        link_index_b,
        position_on_a,
        position_on_b,
        contact_normal_on_b,
        contact_distance,
        normal_force,
        lateral_friction_1,
        lateral_friction_dir_1,
        lateral_friction_2,
        lateral_friction_dir_2,
    ) = contact
    if body_unique_id_a == body_unique_id_b:
        continue
    # I keep a list of all body IDs that are in the scene
    if (
        body_unique_id_a not in used_body_ids
        or body_unique_id_b not in used_body_ids
    ):
        # bullet seems to return body IDs we have already removed
        continue

    aabb_a = bullet.getAABB(body_unique_id_a, physicsClientId=physics_client)
    aabb_b = bullet.getAABB(body_unique_id_b, physicsClientId=physics_client)
    if not aabb_overlap(aabb_a, aabb_b, tolerance=0.15):
        continue        

AABB = Tuple[Tuple[float, float, float], Tuple[float, float, float]]

def aabb_overlap(aabb1: AABB, aabb2: AABB, tolerance: float = 0):
    """"""
    Returns true if aabb1 and aabb2 overlap using given tolerance.
    """"""
    return (
        aabb1[0][0] - tolerance <= aabb2[1][0] + tolerance
        and aabb1[1][0] + tolerance >= aabb2[0][0] - tolerance
        and aabb1[0][1] - tolerance <= aabb2[1][1] + tolerance
        and aabb1[1][1] + tolerance >= aabb2[0][1] - tolerance
        and aabb1[0][2] - tolerance <= aabb2[1][2] + tolerance
        and aabb1[1][2] - tolerance >= aabb2[0][2] - tolerance
    )

```",additionally removed even see body getting simple overlap check supposedly distinct python import contact contact continue keep list body scene bullet return body already removed continue continue float float float float float float tolerance float true overlap given return tolerance tolerance tolerance tolerance tolerance tolerance tolerance tolerance tolerance tolerance tolerance tolerance,issue,positive,positive,positive,positive,positive,positive
1580821702,"there is a lib - bpy which imports headless blender,

you can use this for a bool operation I bet and get the evaluated mesh back triangulated and use it.
https://pypi.org/project/bpy/",headless blender use bool operation bet get mesh back use,issue,negative,neutral,neutral,neutral,neutral,neutral
1580665270,"Wouldn't it be possible to do something like this (pseudocode):


class CollsionShapeWithHole {
    mainCollisionShape: CollisionShape;
    hole: CollisionShape;
}

bool collidesWith(Collidible other) {
    return MainShape.collidesWith(other) && (!holeShape.CollidesWith(other))
}


With similar changes to narrow sweep tests and such?

This would alsp have the advantage of being faster then mesh based shapes, and still working with convex shapes internally.",would possible something like class hole bool return similar narrow sweep would advantage faster mesh based still working convex internally,issue,positive,neutral,neutral,neutral,neutral,neutral
1575574433,"same issue, I am not compiling for ARM, could not compile in windows",issue arm could compile,issue,negative,neutral,neutral,neutral,neutral,neutral
1568485883,"Nevermind, I figured out what my issue was: 
The VHACD decomposition that I had created did not have the faces as vertex groups as you explained[ here](https://github.com/bulletphysics/bullet3/issues/2692#issuecomment-604411825).
I used a different tool to create it than the oneintegrated into pybullet. 
After creating the vhacd decomposition again with the [script you provided ](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/vhacd.py). everything worked as expected. 

Thank you very much for your work. ",figured issue decomposition vertex used different tool create decomposition script provided everything worked thank much work,issue,positive,positive,neutral,neutral,positive,positive
1568450364,"when using an obj that has been decomposed into multiple meshes with VHACD, pybullet still seems to use the convex hull of all meshes, instead of each individual mesh. Without selecting `concave =""yes""` the collision shape that is visible when looking at the wireframe view in pybullet does not change when compared to the normal obj. 
What am I missing? ",decomposed multiple still use convex hull instead individual mesh without concave yes collision shape visible looking view change normal missing,issue,negative,positive,neutral,neutral,positive,positive
1566043715,"> > Thanks for the quick reply. Can you tell how did you make the nao.urdf or give contact of the person who made it? It will help me a lot.
> 
> Hello, I got the exactly same issue as you had, we wanna stay with Mujoco, but modify this xml file so that it won't be colliding (shaking) all the time. Have you solved this issue? Thanks a lot!

Hey, did you find a solution or have you modified the xml file?",thanks quick reply tell make give contact person made help lot hello got exactly issue wan na stay modify file wo shaking time issue thanks lot hey find solution file,issue,positive,positive,positive,positive,positive,positive
1556175886,"For example, the model of glb suffix names  file",example model suffix file,issue,negative,neutral,neutral,neutral,neutral,neutral
1550537758,"> Solution: update Microsoft build Tools from [here](https://visualstudio.microsoft.com/visual-cpp-build-tools/), get bullet 3.2.1 release and extract from [here](https://github.com/bulletphysics/bullet3/releases/tag/3.21), extract the files
> 
> ```shell
> cd bullet3-3.21
> python setup.py build
> python setup.py install
> ```

Followed your instructions exactly. After `python setup.py build` I get this error:
error: Microsoft Visual C++ 14.0 or greater is required. Get it with ""Microsoft C++ Build Tools"": https://visualstudio.microsoft.com/visual-cpp-build-tools/

I already have build tools installed (Version 17.6.0):
![image](https://github.com/bulletphysics/bullet3/assets/109635064/af821e17-f243-4d05-860e-6d7bf6947e0c)

I get the same error if I continue to the next step. 

**UPDATE:** Fixed it by following this stack overflow guide: https://stackoverflow.com/questions/64261546/how-to-solve-error-microsoft-visual-c-14-0-or-greater-is-required-when-inst

Just forgot to tick the Desktop Development with C++ box. 

thanks for the help @rohit-kumar-j  
",solution update build get bullet release extract extract shell python build python install exactly python build get error error visual greater get build already build version image get error continue next step update fixed following stack overflow guide forgot tick development box thanks help,issue,negative,positive,positive,positive,positive,positive
1548923627,"With the new numbers I can confirm the issue in double precision. The first ray hits, the second doesn't.
To make it a bit more obvious I changed it to this:

`
btBoxShape* boxShape = createBoxShape(btVector3(btScalar(2.0), btScalar(2.0), btScalar(2.0)));
	boxShape->setMargin(0.001);
	btTransform startTransform;
	startTransform.setIdentity();
	startTransform.setOrigin(btVector3(0, 2.0, 0.0));
	createRigidBody(0.0f, startTransform, boxShape);

	const btVector3 Point1(200.0, 1, 1);
	const btVector3 Point2(-2.00000001, 1, 1); //2nd ray doesn't hit
	//const btVector3 Point2(-2.0000001, 1, 1); //this works
	
	{
		btCollisionWorld::ClosestRayResultCallback cb(Point1, Point2);
		cb.m_collisionFilterGroup = static_cast<int>(0xFFFFFFFF);
		cb.m_collisionFilterMask = static_cast<int>(0xFFFFFFFF);
		m_dynamicsWorld->rayTest(Point1, Point2, cb);
		assert(cb.hasHit());
	}
	
	{
		btCollisionWorld::ClosestRayResultCallback cb(Point2, Point1);
		cb.m_collisionFilterGroup = static_cast<int>(0xFFFFFFFF);
		cb.m_collisionFilterMask = static_cast<int>(0xFFFFFFFF);
		m_dynamicsWorld->rayTest(Point2, Point1, cb);
		assert(cb.hasHit());
	}`
With the ray only moving along the x axis the error is <0.0000001. It doesn't make use of the full double precision, so that could be improved. 
I would say the issue title ""rayTest incredibly wrong/inaccurate"" is a bit over exaggerated. 
Otherwise I agree there should be a ray that detects a hit if it starts inside an object. Either a separate ray or a setting that's off by default. In that case the floating point error would probably exist if the ray starts at the end of an object.

As a workaround you could use a ghostobject at the start of the ray to see if it collides with anything. Maybe a small sphere that you reuse for each gun that fires.

> However turning double precision on is not a solution because rays originating inside the cube won't be reported and that's not acceptable for me. <

Regardless of this issue using double precision is recommended for bullet, unless you have a reason not to.

Bullet development is unfortunately slow compared to Ogre, I have 3 open PRs with trivial stuff, so I didn`t bother to contribute more. But give it a try, I would like to see the engine get better. 
",new confirm issue double precision first ray second make bit obvious point point ray hit point work point point point point assert point point point point assert ray moving along axis error make use full double precision could would say issue title incredibly bit exaggerated otherwise agree ray hit inside object either separate ray setting default case floating point error would probably exist ray end object could use start ray see anything maybe small sphere reuse gun however turning double precision solution inside cube wo acceptable regardless issue double precision bullet unless reason bullet development unfortunately slow ogre open trivial stuff bother contribute give try would like see engine get better,issue,negative,positive,neutral,neutral,positive,positive
1548678375,"For double precision, you can try this patch instead:

```diff
diff --git a/examples/BasicDemo/BasicExample.cpp b/examples/BasicDemo/BasicExample.cpp
index 67f670d07..fb4cd3dc6 100644
--- a/examples/BasicDemo/BasicExample.cpp
+++ b/examples/BasicDemo/BasicExample.cpp
@@ -55,6 +55,7 @@ void BasicExample::initPhysics()
 	if (m_dynamicsWorld->getDebugDrawer())
 		m_dynamicsWorld->getDebugDrawer()->setDebugMode(btIDebugDraw::DBG_DrawWireframe + btIDebugDraw::DBG_DrawContactPoints);
 
+#if 0
 	///create a few basic rigid bodies
 	btBoxShape* groundShape = createBoxShape(btVector3(btScalar(50.), btScalar(50.), btScalar(50.)));
 
@@ -110,6 +111,43 @@ void BasicExample::initPhysics()
 			}
 		}
 	}
+#endif
+
+	btBoxShape* boxShape = createBoxShape(btVector3(btScalar(2.024000), btScalar(2.024000), btScalar(2.024000)));
+
+	boxShape->setMargin( 0.001 );
+
+	btTransform startTransform;
+	startTransform.setIdentity();
+	startTransform.setOrigin(btVector3(0, 2.024, 0.0));
+
+	createRigidBody(0.0f, startTransform, boxShape);
+
+	{
+		const btVector3 rayFrom( 5.506727, 1.292858, 1.102663 );
+		const btVector3 rayTo( -2.007535, 1.323740, -1.894639 );
+
+		btCollisionWorld::ClosestRayResultCallback cb( rayFrom, rayTo );
+		cb.m_collisionFilterGroup = static_cast<int>( 0xFFFFFFFF );
+		cb.m_collisionFilterMask = static_cast<int>( 0xFFFFFFFF );
+
+		m_dynamicsWorld->rayTest( rayFrom, rayTo, cb );
+
+		assert( cb.hasHit() );
+	}
+
+	{
+		const btVector3 rayFrom( -2.007535, 1.323740, -1.894639 );
+		const btVector3 rayTo( 5.506727, 1.292858, 1.102663 );
+
+		btCollisionWorld::ClosestRayResultCallback cb( rayFrom, rayTo );
+		cb.m_collisionFilterGroup = static_cast<int>( 0xFFFFFFFF );
+		cb.m_collisionFilterMask = static_cast<int>( 0xFFFFFFFF );
+
+		m_dynamicsWorld->rayTest( rayFrom, rayTo, cb );
+
+		assert( cb.hasHit() );
+	}
 
 	m_guiHelper->autogenerateGraphicsObjects(m_dynamicsWorld);
 }
```

You can see rayFrom & rayTo have identical values, but swapped. One hits, the other one misses.

I will repeat [this again:](https://github.com/bulletphysics/bullet3/issues/4464#issuecomment-1548671775) in some scenarios this is a desirable property, but in other scenarios this is not.",double precision try patch instead git index void basic rigid void assert assert see identical one one repeat desirable property,issue,negative,neutral,neutral,neutral,neutral,neutral
1548671775,"I'm using single precision, not double. No SIMD.

To be more specific:

```bash
/usr/bin/clang++-12 -DBT_USE_EGL -DUSE_GRAPHICAL_BENCHMARK -I/home/matias/Projects/bullet3/src -g -D_DEBUG -MD -MT src/BulletCollision/CMakeFiles/BulletCollision.dir/CollisionDispatch/btCollisionWorld.o -MF src/BulletCollision/CMakeFiles/BulletCollision.dir/CollisionDispatch/btCollisionWorld.o.d -o src/BulletCollision/CMakeFiles/BulletCollision.dir/CollisionDispatch/btCollisionWorld.o -c /home/matias/Projects/bullet3/src/BulletCollision/CollisionDispatch/btCollisionWorld.cpp

/usr/bin/clang++-12 -DB3_USE_STANDALONE_EXAMPLE -DBT_USE_EGL -DGLEW_DYNAMIC_LOAD_ALL_GLX_FUNCTIONS=1 -DGLEW_INIT_OPENGL11_FUNCTIONS=1 -DGLEW_STATIC -DUSE_GRAPHICAL_BENCHMARK -I/home/matias/Projects/bullet3/src -I/home/matias/Projects/bullet3/btgui -I/home/matias/Projects/bullet3/examples -I/home/matias/Projects/bullet3/examples/ThirdPartyLibs/glad -I/home/matias/Projects/bullet3/btgui/OpenGLWindow/GlewWindows -g -D_DEBUG -MD -MT examples/BasicDemo/CMakeFiles/AppBasicExampleGui.dir/BasicExample.o -MF examples/BasicDemo/CMakeFiles/AppBasicExampleGui.dir/BasicExample.o.d -o examples/BasicDemo/CMakeFiles/AppBasicExampleGui.dir/BasicExample.o -c /home/matias/Projects/bullet3/examples/BasicDemo/BasicExample.cpp
```

> I can add that I've used the raytests extensively in the past and never had problems with them.

As I said [before](https://github.com/bulletphysics/bullet3/issues/4464#issuecomment-1537540059), this looks like a duplicate of #4286 where ray casts originating inside an shape are not reported as hit; and the difference between that ticket and mine is that although mine is originating outside the cube, it is so close to being inside that some floating point error could explain it (i.e. double vs single precision).

However turning double precision on is not a solution because rays originating inside the cube won't be reported and that's not acceptable for me.

I gave a lot of thinking to this issue, and the only solution is to modify the API to select the desired behavior:

1. Ray casts originating inside the shape should be reported
    - This is useful when we need to know if the ray collides against something (e.g. in a game, whether a projectile hits any target)
    - It needs different code to handle this type of ray test (see my [proposed solution](https://github.com/bulletphysics/bullet3/issues/4464#issuecomment-1542881715) for rays vs box)
2. Ray casts originating inside the shape should not be reported
    - This is useful on certain simulations, because it allows objects to ""escape"" the inside of a shape.
    - Without this property, objects that rely on ray testing but for some reason originated inside a shape would never be able to escape the object they were encased in.
    - This is the current behavior because the ray tests were implemented as a sphere sweep test of with 0 radius

It's not a matter of fixing a bug, it's a matter of having very different goals.

For some applications, the current behavior is not a bug, it's a feature.",single precision double specific bash add used extensively past never said like duplicate ray inside shape hit difference ticket mine although mine outside cube close inside floating point error could explain double single precision however turning double precision solution inside cube wo acceptable gave lot thinking issue solution modify select desired behavior ray inside shape useful need know ray something game whether projectile target need different code handle type ray test see solution box ray inside shape useful certain escape inside shape without property rely ray testing reason inside shape would never able escape object current behavior ray sphere sweep test radius matter fixing bug matter different current behavior bug feature,issue,positive,negative,neutral,neutral,negative,negative
1548231321,`p.getBodyInfo(model_id)[0].decode('UTF-8')` returns the base link name. [Code above](https://github.com/bulletphysics/bullet3/pull/1082#issuecomment-516545497) should return all link names including the base/root link,base link name code return link link,issue,negative,negative,negative,negative,negative,negative
1547782370,"It misses the root link (at least in my case).
For instance, in your example:
l1 -> missed
j1 -> joint index 0
l2 -> link index 0
When checking for collisions, l1 is expressed as -1 link, but there's no link index -1, if you try to check the -1 index link state it crashes.
Missing the first link ensures that the number of joints equals the number of links. The main limitation with the current approach is that you can't get the root link name, also this one on one relation between joints and links feels weird for newcomers. 
",root link least case instance example joint index link index expressed link link index try check index link state missing first link number number link main limitation current approach ca get root link name also one one relation link weird,issue,negative,negative,neutral,neutral,negative,negative
1547272190,"I have found the answer. When you use tetwild on Linux and Gmsh on Windows, this will result in an error. Only when both are used on Linux can success.",found answer use result error used success,issue,negative,positive,positive,positive,positive,positive
1547211770,"I tried your change to basicexample.cpp in bullet 2.89 (with double precision on) and can't reproduce your problem. I run the basic example from the example browser and both rays return true. 
If I don't create the rigidbody I don't get a hit- as expected.

Then I tried the values from your first comment and it works too. I get the following hit point:
m_hitPointWorld.x(): -2.024
m_hitPointWorld.y(): 1.32372
m_hitPointWorld.z(): -4.89246

I can add that I've used the raytests extensively in the past and never had problems with them.",tried change bullet double precision ca reproduce problem run basic example example browser return true create get tried first comment work get following hit point add used extensively past never,issue,negative,positive,neutral,neutral,positive,positive
1545067693,please tell me how to fix this problem,please tell fix problem,issue,negative,neutral,neutral,neutral,neutral,neutral
1542881715,"If anyone finds it useful, I derived from btDiscreteDynamicsWorld as CustomBulletWorld via `CustomBulletWorld::rayTest2`  to implement a new ray test that performs a more accurate Ray vs Box test and fallbacks to regular code for other tests.

I didn't want to change Bullet's code because I was unsure if it wouldn't break anything; because the current rayTest may be undesirable for end users; but depending on the use-case it has the desirable property that rays that start inside other objects can ""escape"" out of the object.

If someone needs a ray test that works even if the ray is spawned inside the shape, here's a solution.

I don't know if it compiles with BT_USE_SSE/BT_USE_NEON enabled.

# CustomBulletWorld.h

```cpp
#pragma once

#include ""BulletDynamics/Dynamics/btDiscreteDynamicsWorld.h""

class CustomBulletWorld final : public btDiscreteDynamicsWorld
{
public:
	CustomBulletWorld( btDispatcher *dispatcher, btBroadphaseInterface *pairCache,
					  btConstraintSolver       *constraintSolver,
					  btCollisionConfiguration *collisionConfiguration );

	/** Replaces rayTest with a custom implementation that deals with some ray to shape (e.g. Box)
		intersectaions with more accuracy than the original.

		See https://github.com/bulletphysics/bullet3/issues/4464
	@remarks
		It can deal with compount shapes to RayResultCallback,
		but we won't report which child shape got hit.

		When a particular shape is not implemented, we fallback to the same code
		as btDiscreteDynamicsWorld rayTest().

		This only affects world ray tests, not ray tests made by ghosts.
	@param rayFromWorld
	@param rayToWorld
	@param resultCallback
	*/
	void rayTest2( const btVector3 &rayFromWorld, const btVector3 &rayToWorld,
				   RayResultCallback &resultCallback ) const;

	static void rayTestSingle2( const btTransform &rayFromTrans, const btTransform &rayToTrans,
								const btCollisionObject *collisionObject,
								const btCollisionShape  *collisionShape,
								const btTransform       &colObjWorldTransform,
								RayResultCallback       &resultCallback );
};
```

# CustomBulletWorld.cpp

```cpp
#include ""CustomBulletWorld.h""

#include ""BulletCollision/BroadphaseCollision/btDbvt.h""
#include ""BulletCollision/CollisionShapes/btBoxShape.h""
#include ""BulletCollision/CollisionShapes/btCompoundShape.h""
#include ""BulletCollision/CollisionShapes/btConvexShape.h""

#include <algorithm>
#include <limits>

struct btSingleRayCallback2 : public btBroadphaseRayCallback
{
	btVector3 m_rayFromWorld;
	btVector3 m_rayToWorld;
	btTransform m_rayFromTrans;
	btTransform m_rayToTrans;
	btVector3 m_hitNormal;

	const CustomBulletWorld *m_world;
	btCollisionWorld::RayResultCallback &m_resultCallback;

	btSingleRayCallback2( const btVector3 &rayFromWorld, const btVector3 &rayToWorld,
						  const CustomBulletWorld *world,
						  btCollisionWorld::RayResultCallback &resultCallback ) :
		m_rayFromWorld( rayFromWorld ),
		m_rayToWorld( rayToWorld ),
		m_world( world ),
		m_resultCallback( resultCallback )
	{
		m_rayFromTrans.setIdentity();
		m_rayFromTrans.setOrigin( m_rayFromWorld );
		m_rayToTrans.setIdentity();
		m_rayToTrans.setOrigin( m_rayToWorld );

		btVector3 rayDir = ( rayToWorld - rayFromWorld );

		rayDir.normalize();
		/// what about division by zero? --> just set rayDirection[i] to INF/BT_LARGE_FLOAT
		m_rayDirectionInverse[0] =
			rayDir[0] == btScalar( 0.0 ) ? btScalar( BT_LARGE_FLOAT ) : btScalar( 1.0 ) / rayDir[0];
		m_rayDirectionInverse[1] =
			rayDir[1] == btScalar( 0.0 ) ? btScalar( BT_LARGE_FLOAT ) : btScalar( 1.0 ) / rayDir[1];
		m_rayDirectionInverse[2] =
			rayDir[2] == btScalar( 0.0 ) ? btScalar( BT_LARGE_FLOAT ) : btScalar( 1.0 ) / rayDir[2];
		m_signs[0] = m_rayDirectionInverse[0] < 0.0;
		m_signs[1] = m_rayDirectionInverse[1] < 0.0;
		m_signs[2] = m_rayDirectionInverse[2] < 0.0;

		m_lambda_max = rayDir.dot( m_rayToWorld - m_rayFromWorld );
	}

	bool process( const btBroadphaseProxy *proxy ) override;
};
//-----------------------------------------------------------------------------
bool btSingleRayCallback2::process( const btBroadphaseProxy *proxy )
{
	/// terminate further ray tests, once the closestHitFraction reached zero
	if( m_resultCallback.m_closestHitFraction <= btScalar( 0.f ) )
		return false;

	btCollisionObject *collisionObject = (btCollisionObject *)proxy->m_clientObject;

	// only perform raycast if filterMask matches
	if( m_resultCallback.needsCollision( collisionObject->getBroadphaseHandle() ) )
	{
		// RigidcollisionObject* collisionObject = ctrl->GetRigidcollisionObject();
		// btVector3 collisionObjectAabbMin,collisionObjectAabbMax;
#if 0
#	ifdef RECALCULATE_AABB
		btVector3 collisionObjectAabbMin,collisionObjectAabbMax;
		collisionObject->getCollisionShape()->getAabb(
				// collisionObject->getWorldTransform(),collisionObjectAabbMin,collisionObjectAabbMax);
#	else
		//getBroadphase()->getAabb(collisionObject->getBroadphaseHandle(),
		//  collisionObjectAabbMin,collisionObjectAabbMax);
		const btVector3& collisionObjectAabbMin = collisionObject->getBroadphaseHandle()->m_aabbMin;
		const btVector3& collisionObjectAabbMax = collisionObject->getBroadphaseHandle()->m_aabbMax;
#	endif
#endif
		// btScalar hitLambda = m_resultCallback.m_closestHitFraction;
		// culling already done by broadphase
		// if( btRayAabb( m_rayFromWorld, m_rayToWorld, collisionObjectAabbMin, collisionObjectAabbMax,
		//			   hitLambda, m_hitNormal ) )
		{
			m_world->rayTestSingle2( m_rayFromTrans, m_rayToTrans, collisionObject,
									 collisionObject->getCollisionShape(),
									 collisionObject->getWorldTransform(), m_resultCallback );
		}
	}
	return true;
}
//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
CustomBulletWorld::CustomBulletWorld( btDispatcher *dispatcher, btBroadphaseInterface *pairCache,
									  btConstraintSolver *constraintSolver,
									  btCollisionConfiguration *collisionConfiguration ) :
	btDiscreteDynamicsWorld( dispatcher, pairCache, constraintSolver, collisionConfiguration )
{
}
//-----------------------------------------------------------------------------
void CustomBulletWorld::rayTest2( const btVector3 &rayFromWorld, const btVector3 &rayToWorld,
								  RayResultCallback &resultCallback ) const
{
	btSingleRayCallback2 rayCB( rayFromWorld, rayToWorld, this, resultCallback );

#ifndef USE_BRUTEFORCE_RAYBROADPHASE
	m_broadphasePairCache->rayTest( rayFromWorld, rayToWorld, rayCB );
#else
	for( int i = 0; i < this->getNumCollisionObjects(); i++ )
	{
		rayCB.process( m_collisionObjects[i]->getBroadphaseHandle() );
	}
#endif  // USE_BRUTEFORCE_RAYBROADPHASE
}
//-----------------------------------------------------------------------------
static inline bool testSegmentVsBox( const btTransform &rayFromTrans, const btTransform &rayToTrans,
									 const btBoxShape *box, const btTransform &colObjWorldTransform,
									 btVector3 &outNormal, btScalar &outFraction )
{
	const btVector3 localFrom = colObjWorldTransform.invXform( rayFromTrans.getOrigin() );
	const btVector3 localTo = colObjWorldTransform.invXform( rayToTrans.getOrigin() );

	const btVector3 rayDir = localTo - localFrom;

	const btVector3 halfSize = box->getHalfExtentsWithMargin();
	const btVector3 vMin = -halfSize;
	const btVector3 vMax = halfSize;

	btScalar minT = std::numeric_limits<btScalar>::max();
	btVector3 normal;

	const btVector3 tMin = ( vMin - localFrom ) / rayDir;
	const btVector3 tMax = ( vMax - localFrom ) / rayDir;

	// Check each face in turn Min + Max x, y & z
	for( size_t j = 0u; j < 3u; ++j )
	{
		if( tMin.m_floats[j] >= btScalar( 0.0 ) && tMin.m_floats[j] < minT )
		{
			// Check the point is actually inside the AABB
			btVector3 pt = ( localFrom + rayDir * tMin.m_floats[j] ).absolute();

			// Fix accuracy issues (this value will lay exactly in the extend,
			// but often is slightly beyond it, causing the test to fail)
			pt.m_floats[j] = 0.0f;

			if( pt.x() <= halfSize.x() && pt.y() <= halfSize.y() && pt.z() <= halfSize.z() )
			{
				minT = tMin.m_floats[j];
				normal.setZero();
				normal.m_floats[j] = btScalar( -1.0 );
			}
		}
		if( tMax.m_floats[j] >= btScalar( 0.0 ) && tMax.m_floats[j] < minT )
		{
			// Check the point is actually inside the AABB
			btVector3 pt = ( localFrom + rayDir * tMax.m_floats[j] ).absolute();

			// Fix accuracy issues (this value will lay exactly in the extend,
			// but often is slightly beyond it, causing the test to fail)
			pt.m_floats[j] = 0.0f;

			if( pt.x() <= halfSize.x() && pt.y() <= halfSize.y() && pt.z() <= halfSize.z() )
			{
				minT = tMax.m_floats[j];
				normal.setZero();
				normal.m_floats[j] = btScalar( -1.0 );
			}
		}
	}

	if( minT < btScalar( 0.0 ) || minT > btScalar( 1.0 ) )
		return false;

	outFraction = minT;
	outNormal = normal * colObjWorldTransform.getBasis();

	return true;
}
//-----------------------------------------------------------------------------
void CustomBulletWorld::rayTestSingle2( const btTransform &rayFromTrans, const btTransform &rayToTrans,
										const btCollisionObject *collisionObject,
										const btCollisionShape *collisionShape,
										const btTransform &colObjWorldTransform,
										RayResultCallback &resultCallback )
{
	if( collisionShape->isConvex() )
	{
		switch( collisionShape->getShapeType() )
		{
		case BOX_SHAPE_PROXYTYPE:
		{
			btVector3 normal;
			btScalar fraction;
			if( testSegmentVsBox( rayFromTrans, rayToTrans,
								  static_cast<const btBoxShape *>( collisionShape ),
								  colObjWorldTransform, normal, fraction ) )
			{
				if( fraction < resultCallback.m_closestHitFraction )
				{
					btCollisionWorld::LocalRayResult localRayResult( collisionObject, 0, normal,
																	 fraction );
					bool normalInWorldSpace = true;
					resultCallback.addSingleResult( localRayResult, normalInWorldSpace );
				}
			}
			break;
		}
		default:
		{
			// Fallback to Bullet's code
			btCollisionObjectWrapper collisionObjectWrap( 0, collisionShape, collisionObject,
														  colObjWorldTransform, -1, -1 );
			rayTestSingleInternal( rayFromTrans, rayToTrans, &collisionObjectWrap, resultCallback );
			break;
		}
		}
	}
	else
	{
		//	BT_PROFILE(""rayTestCompound"");
		if( collisionShape->isCompound() )
		{
			// Deal with compound objects because we may handle some of the children.
			struct RayTester final : btDbvt::ICollide
			{
				const btCollisionObject *m_collisionObject;
				const btCompoundShape *m_compoundShape;
				const btTransform &m_colObjWorldTransform;
				const btTransform &m_rayFromTrans;
				const btTransform &m_rayToTrans;
				RayResultCallback &m_resultCallback;

				RayTester( const btCollisionObject *collisionObject,
						   const btCompoundShape *compoundShape, const btTransform &colObjWorldTransform,
						   const btTransform &rayFromTrans, const btTransform &rayToTrans,
						   RayResultCallback &resultCallback ) :
					m_collisionObject( collisionObject ),
					m_compoundShape( compoundShape ),
					m_colObjWorldTransform( colObjWorldTransform ),
					m_rayFromTrans( rayFromTrans ),
					m_rayToTrans( rayToTrans ),
					m_resultCallback( resultCallback )
				{
				}

				void ProcessLeaf( int i )
				{
					const btCollisionShape *childCollisionShape = m_compoundShape->getChildShape( i );
					const btTransform &childTrans = m_compoundShape->getChildTransform( i );
					btTransform childWorldTrans = m_colObjWorldTransform * childTrans;
					rayTestSingle2( m_rayFromTrans, m_rayToTrans, m_collisionObject, childCollisionShape,
									childWorldTrans, m_resultCallback );
				}

				void Process( const btDbvtNode *leaf ) override { ProcessLeaf( leaf->dataAsInt ); }
			};

			const btCompoundShape *compoundShape =
				static_cast<const btCompoundShape *>( collisionShape );
			const btDbvt *dbvt = compoundShape->getDynamicAabbTree();

			RayTester rayCB( collisionObject, compoundShape, colObjWorldTransform, rayFromTrans,
							 rayToTrans, resultCallback );
#ifndef DISABLE_DBVT_COMPOUNDSHAPE_RAYCAST_ACCELERATION
			if( dbvt )
			{
				btVector3 localRayFrom = colObjWorldTransform.inverseTimes( rayFromTrans ).getOrigin();
				btVector3 localRayTo = colObjWorldTransform.inverseTimes( rayToTrans ).getOrigin();
				btDbvt::rayTest( dbvt->m_root, localRayFrom, localRayTo, rayCB );
			}
			else
#endif  // DISABLE_DBVT_COMPOUNDSHAPE_RAYCAST_ACCELERATION
			{
				for( int i = 0, n = compoundShape->getNumChildShapes(); i < n; ++i )
				{
					rayCB.ProcessLeaf( i );
				}
			}
		}
		else
		{
			// Fallback to Bullet's code
			btCollisionObjectWrapper collisionObjectWrap( 0, collisionShape, collisionObject,
														  colObjWorldTransform, -1, -1 );
			rayTestSingleInternal( rayFromTrans, rayToTrans, &collisionObjectWrap, resultCallback );
		}
	}
}
```",anyone useful derived via implement new ray test accurate ray box test regular code want change bullet code unsure would break anything current may undesirable end depending desirable property start inside escape object someone need ray test work even ray inside shape solution know include class final public public dispatcher custom implementation ray shape box accuracy original see deal wo report child shape got hit particular shape fallback code world ray ray made param param param void static void include include include include include include algorithm include public world world division zero set bool process proxy override bool proxy terminate ray zero return false perform else culling already done return true dispatcher dispatcher void else static bool box mint normal check face turn min mint check point actually inside fix accuracy value lay exactly extend often slightly beyond causing test fail mint mint check point actually inside fix accuracy value lay exactly extend often slightly beyond causing test fail mint mint mint return false mint normal return true void switch case normal fraction normal fraction fraction normal fraction bool true break default fallback bullet code break else deal compound may handle final void void process leaf override else else fallback bullet code,issue,positive,positive,neutral,neutral,positive,positive
1539038625,"Hmm, the angular velocity implementation might actually be incorrect. Linear velocity looks great though :D
I'll do a little more testing this afternoon",angular velocity implementation might actually incorrect linear velocity great though little testing afternoon,issue,positive,positive,positive,positive,positive,positive
1538903809,"Hey Erwin, I decided to implement this - here's the PR https://github.com/bulletphysics/bullet3/pull/4465/
Let me know if there is anything you'd like changed, or if there's anything important I missed!",hey decided implement let know anything like anything important,issue,positive,positive,positive,positive,positive,positive
1537853718,"Hello @erwincoumans ! Would you kindly review this PR? If there are any concerns or comments, I would greatly appreciate your input and am happy to address them. Thank you very much for your time and consideration!",hello would kindly review would greatly appreciate input happy address thank much time consideration,issue,positive,positive,positive,positive,positive,positive
1537540059,This may be a duplicate of #4286 except in this case the origin is very close yet not inside to the box (i.e. locally the point is at x = -2.027535 and would be considered inside the box if x >= -2.024 and x <= 2.024),may duplicate except case origin close yet inside box locally point would considered inside box,issue,negative,neutral,neutral,neutral,neutral,neutral
1537536736,"I upgraded to Bullet 3.25 (that was surprisingly painless) commit 2c204c49e56ed15ec5fcfa71d199ab6d6570b3f5 and I'm afraid the problems remain.

The following patch applied on top of that commit can repro the problem:

```diff
diff --git a/examples/BasicDemo/BasicExample.cpp b/examples/BasicDemo/BasicExample.cpp
index 67f670d07..21a7f3a3f 100644
--- a/examples/BasicDemo/BasicExample.cpp
+++ b/examples/BasicDemo/BasicExample.cpp
@@ -55,6 +55,7 @@ void BasicExample::initPhysics()
 	if (m_dynamicsWorld->getDebugDrawer())
 		m_dynamicsWorld->getDebugDrawer()->setDebugMode(btIDebugDraw::DBG_DrawWireframe + btIDebugDraw::DBG_DrawContactPoints);
 
+#if 0
 	///create a few basic rigid bodies
 	btBoxShape* groundShape = createBoxShape(btVector3(btScalar(50.), btScalar(50.), btScalar(50.)));
 
@@ -110,6 +111,41 @@ void BasicExample::initPhysics()
 			}
 		}
 	}
+#endif
+
+	btBoxShape* boxShape = createBoxShape(btVector3(btScalar(2.024000), btScalar(2.024000), btScalar(2.024000)));
+
+	btTransform startTransform;
+	startTransform.setIdentity();
+	startTransform.setOrigin(btVector3(0, 2.024, -3.0));
+
+	createRigidBody(0.0f, startTransform, boxShape);
+
+	{
+		const btVector3 rayFrom( 2.506727+3.0, 1.292858, -2.102663 );
+		const btVector3 rayTo( -2.027535, 1.323740, -4.894639 );
+
+		btCollisionWorld::ClosestRayResultCallback cb( rayFrom, rayTo );
+		cb.m_collisionFilterGroup = static_cast<int>( 0xFFFFFFFF );
+		cb.m_collisionFilterMask = static_cast<int>( 0xFFFFFFFF );
+
+		m_dynamicsWorld->rayTest( rayFrom, rayTo, cb );
+
+		assert( cb.hasHit() );
+	}
+
+	{
+		const btVector3 rayFrom( -2.027535, 1.323740, -4.894639 );
+		const btVector3 rayTo( 2.506727+3.0, 1.292858, -2.102663 );
+
+		btCollisionWorld::ClosestRayResultCallback cb( rayFrom, rayTo );
+		cb.m_collisionFilterGroup = static_cast<int>( 0xFFFFFFFF );
+		cb.m_collisionFilterMask = static_cast<int>( 0xFFFFFFFF );
+
+		m_dynamicsWorld->rayTest( rayFrom, rayTo, cb );
+
+		assert( cb.hasHit() );
+	}
 
 	m_guiHelper->autogenerateGraphicsObjects(m_dynamicsWorld);
 }
```

The first assert won't hit but the second one will despite being the exact same ray, just swapped.

You can make it even more extreme:

```cpp
const btVector3 rayFrom( 5.506727, 1.292858, -2.102663 );
const btVector3 rayTo( -2.027535, 1.323740, -4.894639 );

vs 

const btVector3 rayFrom( -2.027535, 1.323740, -4.894639 );
const btVector3 rayTo( 5.506727, 1.292858, -2.102663 );
```

And the problem remains. This doesn't look like a simple floating point error. This is a huge error:

![Screenshot_2023-05-07_17-44-24](https://user-images.githubusercontent.com/3395130/236701753-494c10df-34b9-4800-8fd9-dad1a51fc12e.jpg)

We can see the ray goes a very long distance through the box yet one version returns true and the other false!

I tried `boxShape->setMargin( 0.001 );` but the problem persists.",bullet surprisingly painless commit afraid remain following patch applied top commit problem git index void basic rigid void assert assert first assert wo hit second one despite exact ray make even extreme problem remains look like simple floating point error huge error see ray go long distance box yet one version true false tried problem,issue,negative,positive,neutral,neutral,positive,positive
1537474818,"OK I just looked at which version I'm using and it looks like I'm using a really old version of the library.

I will update it first (commit 688d750d8a9f5d53403b2d96e215dbbf925b6270) today and if the problem is fixed I will close this issue.",version like really old version library update first commit today problem fixed close issue,issue,negative,positive,positive,positive,positive,positive
1537215364,"@erwincoumans  Thanks alot, the g button to hide all utility columns worked for me. But I met another issue with the debug slider tool. On ubuntu it works fine. However, on macOS, there are quite frequent pybullet error message failed to load parameters of the debug sliders I created. I have around 5 of them, each time random slider shows the error message like below. Should I open another issue?
![image](https://user-images.githubusercontent.com/46727070/236644785-5b43a458-400d-4b96-be13-e1f24514ebe7.png)
",thanks button hide utility worked met another issue slider tool work fine however quite frequent error message load around time random slider error message like open another issue image,issue,negative,positive,neutral,neutral,positive,positive
1535864448,"@zhanshenlc, for euler joints:

Note: this is pseudo code
```
joint velocity =  ( mocap_jnt[i].frame[j+1] - mocap_jnt[i].frame[j] ) / time_between_mocap_frames;
```
mocap_jnt[i].frame[j] = mocap position value of joint i in the mocap-data set, at frame j

time_between_mocap_frames ~= 0.0332, acccording to the mocap data.
Hope this helps",note pseudo code joint velocity position value joint set frame data hope,issue,positive,neutral,neutral,neutral,neutral,neutral
1535168056,"Margin may be set (we have code to change margin of shapes) but I cannot provide you real case, it is too big. Case happens on first ragdoll added. Since code has 3 possible places where isValid set to true but only one of this places inits orgNormalInB I think code may enter if (isValid) codepath and then use zero orgNormalInB.
Change I showed before has fixed problem for our code.",margin may set code change margin provide real case big case first added since code possible set true one think code may enter use zero change fixed problem code,issue,negative,positive,positive,positive,positive,positive
1529979762,When will these changes for compatibility with Gym 0.26 be merged to the master branch? Thanks!,compatibility gym master branch thanks,issue,negative,positive,positive,positive,positive,positive
1525850836,"![image](https://user-images.githubusercontent.com/11874996/234902142-ed5e8055-88c5-40a3-9afb-761b3c8adc93.png)
This is the error I get, which looks like a memory access violation. How would I go about debugging such an issue? 
I am currently trying to build pybullet from source in debug mode to see if I can investigate more.",image error get like memory access violation would go issue currently trying build source mode see investigate,issue,negative,neutral,neutral,neutral,neutral,neutral
1522609941,"It is likely the shadow or transparency in rendering, or the text rendering. Try pressing 'g' or 's' and see if that helps.",likely shadow transparency rendering text rendering try pressing see,issue,negative,neutral,neutral,neutral,neutral,neutral
1522609402,"One option is to use a library for boolean operations, then generate triangle meshes from the surface and use those to perform collision detection. It can be done, but requires effort.",one option use library generate triangle surface use perform collision detection done effort,issue,negative,neutral,neutral,neutral,neutral,neutral
1522607901,"You could try to assign collision filter, see setCollisionFilterGroupMask https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#
or ask ChatGPT:

![Screenshot from 2023-04-25 17-56-16](https://user-images.githubusercontent.com/725468/234438996-541493f1-c4cb-4a67-904a-af8a123afc5c.png)

",could try assign collision filter see ask,issue,negative,neutral,neutral,neutral,neutral,neutral
1522603305,"Yes, it is a totally different render engine, one using a simple cpu c++ tiny renderer and the other hardware OpenGL3 GPU. It is expected and not going to be fixed.",yes totally different render engine one simple tiny renderer hardware going fixed,issue,negative,positive,neutral,neutral,positive,positive
1522602412,Thanks for the report. orgNormalInB shouldn't be zero length. Can you provide some reproduction case? Is the collision margin set to 0 and the objects touch exactly?,thanks report zero length provide reproduction case collision margin set touch exactly,issue,negative,positive,positive,positive,positive,positive
1522598818,"I think the solution is acceptable. In a nutshell, in PyBullet we run ABA twice, the first time to get unconstrained accelerations. Then we run the constraint solver (iterative impulse/PGS by default). After that, we know the constraint forces, and run ABA to compute the joint forces taking the constraint forces into account. I haven't investigated properly, but it could be that we don't need to run the coriolis/spatial forces a second time.

Yes, please create a PR and I merge it.",think solution acceptable nutshell run aba twice first time get unconstrained run constraint solver iterative default know constraint run aba compute joint taking constraint account properly could need run second time yes please create merge,issue,positive,positive,neutral,neutral,positive,positive
1520926393,"> Thanks a lot for reporting this, tracking it down and proposing a fix! Also, very nice to see that Gazebo gets the option for Bullet Featherstone articulations!

You're welcome. And, yes, we're excited to be able to use Bullet-Featherstone. 

Can you confirm if the proposed fix is a good solution? If so I'd be happy to create a PR.",thanks lot fix also nice see gazebo option bullet welcome yes excited able use confirm fix good solution happy create,issue,positive,positive,positive,positive,positive,positive
1515691263,"Confirmed, many APIs were developed purely for multibodies. Once the softbody/deformables were added, those APIs haven't been implemented. ",confirmed many purely added,issue,negative,positive,positive,positive,positive,positive
1515689809,"Thanks a lot for reporting this, tracking it down and proposing a fix!
Also, very nice to see that Gazebo gets the option for Bullet Featherstone articulations!",thanks lot fix also nice see gazebo option bullet,issue,positive,positive,positive,positive,positive,positive
1506538912,"> Hey, as far as I understand .obj file is only for surface details (texture)--->useful for simulation of surface objects like cloth. For volumetric consideration, you need .vtk file with tetrahedral meshes. Being said that for volumetric simulation you don't need .obj file. You can create .obj file from most of the CAD software and for .vtk file please check [#2726](https://github.com/bulletphysics/bullet3/issues/2726) & #4388

Thanks a lot, and I have already solved it!",hey far understand file surface texture useful simulation surface like cloth volumetric consideration need file tetrahedral said volumetric simulation need file create file cad file please check thanks lot already,issue,positive,positive,positive,positive,positive,positive
1506535092,"> I've gotten this issue before with a tetrahedral mesh I've made when I tried a different mesh generator other than GMSH. In general, the best workflow I've found is using GMSH on Ubuntu and manually deleting the lines corresponding to the triangular faces in the VTK file (and updating the CELLS and CELL_TYPES counts accordingly).
> 
> You may also want to try a re-meshing of the object to improve regularity in the triangles. I use MeshMixer for this (on Windows) but I believe MeshLab on Linux will do something similar
> 
> Apparently there is a way to export only the tetrahedral elements in GMSH, but I didn't figure this out yet. Since I don't need to make a ton of meshes, it wasn't a high priority for me

Thanks a lot, and I have already deal the problem! Using tetwild and gmsh both in Ubuntu can sovle the problem quickly.",gotten issue tetrahedral mesh made tried different mesh generator general best found manually corresponding triangular file accordingly may also want try object improve regularity use believe something similar apparently way export tetrahedral figure yet since need make ton high priority thanks lot already deal problem problem quickly,issue,positive,positive,positive,positive,positive,positive
1500588496,"check the upbge fork of blender - they have 'soft body physics' you can pin to objects using 'rigid body joints' 
",check fork blender body physic pin body,issue,negative,neutral,neutral,neutral,neutral,neutral
1500567704,"I've gotten this issue before with a tetrahedral mesh I've made when I tried a different mesh generator other than GMSH. In general, the best workflow I've found is using GMSH on Ubuntu and manually deleting the lines corresponding to the triangular faces in the VTK file (and updating the CELLS and CELL_TYPES counts accordingly). 

You may also want to try a re-meshing of the object to improve regularity in the triangles. I use MeshMixer for this (on Windows) but I believe MeshLab on Linux will do something similar

Apparently there is a way to export only the tetrahedral elements in GMSH, but I didn't figure this out yet. Since I don't need to make a ton of meshes, it wasn't a high priority for me",gotten issue tetrahedral mesh made tried different mesh generator general best found manually corresponding triangular file accordingly may also want try object improve regularity use believe something similar apparently way export tetrahedral figure yet since need make ton high priority,issue,positive,positive,positive,positive,positive,positive
1492983753,"The process I translate to vtk is same to you, and I got error in Ubuntu PyBullet: malloc():memory corruption. Do you get the reason now?",process translate got error memory corruption get reason,issue,negative,neutral,neutral,neutral,neutral,neutral
1486481133,"Hi @erwincoumans ! From what I understand, when I use PD Controller to give the motion to humanoid, pybullet is calculating some force internally to move the joint from one position to another. 
From physics laws, without any external force the center of mass of body should not drift, so is there a way where the overall force could be made zero when there are no external forces and we are using PD controller to give the motion ?",hi understand use controller give motion humanoid calculating force internally move joint one position another physic without external force center mass body drift way overall force could made zero external controller give motion,issue,negative,negative,neutral,neutral,negative,negative
1484119505,"
Thank you. I solved this problem by myself. The reason for the problem is that I did not consider the degree of freedom of the floating base. However, I am not sure what specific changes have occurred after the addition of the `flags `keyword, as I did not find a description of the `flags `keyword in the help documentation. Can you provide further explanation for this keyword? Thank you very much in advance.

> > you can try passing flags=1, see also https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pdControllerStable.py#L83 used by https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py
> 
> I encountered the same problem. This solution cannot solve my problem. The error is reported as follows:
> 
> ```
>   File ""E:\VirtualMachine\OneLeg\pdControllerStable.py"", line 138, in computePD
>     G = self._pb.calculateInverseDynamics(bodyUniqueId, q1, qdot1, zeroAccelerations)
> SystemError: <built-in function calculateInverseDynamics> returned a result with an error set
> b3Printf: b3Warning[examples/SharedMemory/PhysicsClientSharedMemory.cpp,1083]:
> 
> b3Printf: Inverse Dynamics computations failed
> ```
> 
> How can I solve it? Could you give me a hand? @erwincoumans

",thank problem reason problem consider degree freedom floating base however sure specific addition find description help documentation provide explanation thank much advance try passing see also used problem solution solve problem error file line function returned result error set inverse dynamic solve could give hand,issue,positive,negative,neutral,neutral,negative,negative
1481806014,"Fixed it by moving the wheels down 0.001f, as the chassis was a cube of size 1, and suspension was 1 long as well. Which meant they could potentially interact.",fixed moving chassis cube size suspension long well meant could potentially interact,issue,negative,positive,neutral,neutral,positive,positive
1481363035,"> you can try passing flags=1, see also https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pdControllerStable.py#L83 used by https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py

I encountered the same problem. This solution cannot solve my problem. The error is reported as follows:
```
  File ""E:\VirtualMachine\OneLeg\pdControllerStable.py"", line 138, in computePD
    G = self._pb.calculateInverseDynamics(bodyUniqueId, q1, qdot1, zeroAccelerations)
SystemError: <built-in function calculateInverseDynamics> returned a result with an error set
b3Printf: b3Warning[examples/SharedMemory/PhysicsClientSharedMemory.cpp,1083]:

b3Printf: Inverse Dynamics computations failed
```
How can I solve it? Could you give me a hand?
@erwincoumans ",try passing see also used problem solution solve problem error file line function returned result error set inverse dynamic solve could give hand,issue,negative,neutral,neutral,neutral,neutral,neutral
1481080381,"The problem seems to be that [surfNormalWS](https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Vehicle/btRaycastVehicle.cpp#L533) gets a coordinate of -1 in the first position. 
When `surfNormalWS.m_floats[0] == -1`, it crashes due to `m_axle[i] -= surfNormalWS * proj`.

This value gets assigned at <https://github.com/bulletphysics/bullet3/blob/0e59474e1cf1fd69e3ca512826cfbe15cd6a9cec/src/BulletDynamics/Vehicle/btRaycastVehicle.cpp#L187>

Which is in turn assigned from `btDefaultVehicleRaycaster::castRay`, where a `rayCallback.m_hitNormalWorld = (-1, 9.65595e-06, 1.66297e-05)`. 
But only after many steps of simulation with a ray hit result of `(0, 1, 0)`.

The problem occurs even in if the only two objects in the dynamic world is a vehicle and a `btStaticPlaneShape` or a `btBvhTriangleMeshShape`.

It's only a small change when the normal changes to be negative, with the plane having a normal vector of `(0, 1, 0)` and a planeConstant of 0. 
```
updateWheelInfo index: 0
from: -1.19337, 0.979308, 0.83563
to: -1.19112, -0.12069, 0.83605
hit normal: 0, 1, 0

updateWheelInfo index: 0
from: -1.19376, 0.979179, 0.835647
to: -1.19151, -0.120819, 0.836047
hit normal: -0.990617, -0.00207001, -0.136649
```

The problem seems to be that the ray from the wheel interacts with the chassis, which causes a problem.
This can be avoided by setting the 0th bit in the chassis's mask, but that does not seem like a good solution.",problem first position due value assigned turn assigned many simulation ray hit result problem even two dynamic world vehicle small change normal negative plane normal vector index hit normal index hit normal problem ray wheel chassis problem setting th bit chassis mask seem like good solution,issue,negative,positive,positive,positive,positive,positive
1477077472,"Hey, as far as I understand .obj file is only for surface details (texture)--->useful for simulation of surface objects like cloth. For volumetric consideration, you need .vtk file with tetrahedral meshes. Being said that for volumetric simulation you don't need .obj file. 
You can create .obj file from most of the CAD software and for .vtk file please check [#2726](https://github.com/bulletphysics/bullet3/issues/2726) & #4388 ",hey far understand file surface texture useful simulation surface like cloth volumetric consideration need file tetrahedral said volumetric simulation need file create file cad file please check,issue,positive,positive,positive,positive,positive,positive
1476001530,"Btw if i create triangle mesh shape without quantization:
            auto collisionShape = new btBvhTriangleMeshShape(triangleMesh.get(), false, true);

The performance of collision detection is ten times faster (faster than colDet), but not accurate. Very often rayCast picks wrong surface (Quantized mode is always accurate).

So looks like there are some bugs in the collision library. Will try to update to new version...
",create triangle mesh shape without quantization auto new false true performance collision detection ten time faster faster accurate often wrong surface mode always accurate like collision library try update new version,issue,negative,positive,neutral,neutral,positive,positive
1474987788,"See the Quickstart Guide: https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#
Contact stiffness and damping are converted into the LCP parameters constraint force mixing (CFM, a small value on the main diagonal of the LCP matrix A) and the Baumgate error reduction parameter (ERP) as explained in Erin Catto's Soft Constraints document: https://box2d.org/files/ErinCatto_SoftConstraints_GDC2011.pdf
Similar to a spring, those parameters interact with object mass, so it requires some tuning. The stiffness acts on the positional level, and the damping on the velocity level. Here is a script, thanks to ChatGPT for creating it:
```

import pybullet as p
import pybullet_data
import time

# Initialize pybullet
physicsClient = p.connect(p.GUI)
p.setAdditionalSearchPath(pybullet_data.getDataPath())
p.setGravity(0, 0, -9.81)

# Load ground plane
planeId = p.loadURDF(""plane.urdf"")

# Load sphere
startPos = [0, 0, 5]
startOrientation = p.getQuaternionFromEuler([0, 0, 0])
sphereId = p.loadURDF(""sphere2.urdf"", startPos, startOrientation)

# Add slider to control contactStiffness and contactDamping
slider = p.addUserDebugParameter(""Stiffness"", 0, 10000, 10000)
slider2 = p.addUserDebugParameter(""Damping"", 0, 100, 100)

# Simulation loop
while True:
    # Get slider values
    stiffness = p.readUserDebugParameter(slider)
    damping = p.readUserDebugParameter(slider2)

    # Set contact parameters
    p.changeDynamics(planeId, -1, contactStiffness=stiffness, contactDamping=damping)
    p.changeDynamics(sphereId, -1, contactStiffness=stiffness, contactDamping=damping)

    # Step simulation
    p.stepSimulation()
    time.sleep(1./240.)

    # Get sphere position
    spherePos, sphereOrn = p.getBasePositionAndOrientation(sphereId)

# Disconnect from pybullet
p.disconnect()
```
",see guide contact stiffness damping converted constraint force small value main diagonal matrix error reduction parameter soft document similar spring interact object mass tuning stiffness positional level damping velocity level script thanks import import import time initialize load ground plane load sphere add slider control slider stiffness slider damping simulation loop true get slider stiffness slider damping slider set contact step simulation get sphere position disconnect,issue,positive,positive,neutral,neutral,positive,positive
1472248099,"Hello! 

Here is a gif (speed 4x) : I am not applying any external force but as we can see in the gif the COM of humanoid is drifting away. Ideally by physics laws, COM should not change if there is no external force.

![ezgif com-video-to-gif](https://user-images.githubusercontent.com/28755817/225680634-f51d455d-b7c0-4ccc-bbf0-dbbe6dfeca9e.gif)


This is a sample python script where I am using PD controller to pass MoCAP data in zero gravity conditions. 

```
def run_simulation(trans_1, clean_dofs1, dofs_1, model1):
    """"""
    Running the simulation for the model using the data obtained from the studio motion capture
    """"""
    
    for i in range(clean_dofs1.shape[0]):
        for k in range(100):
            p.setJointMotorControlArray(model1, jnt_ids, p.POSITION_CONTROL, targetPositions=clean_dofs1[i], targetVelocities = vel,forces=np.ones(72)*p.readUserDebugParameter(max_force), positionGains=np.ones(72)* p.readUserDebugParameter(kp), velocityGains=np.ones(72)* p.readUserDebugParameter(kd)) 


if __name__ == ""__main__"":   
    id_sim = p.connect(p.GUI)


    p.configureDebugVisualizer(p.COV_ENABLE_Y_AXIS_UP, 1)
    p.configureDebugVisualizer(flag=p.COV_ENABLE_MOUSE_PICKING, enable=1)
    p.configureDebugVisualizer(p.COV_ENABLE_RENDERING, 1)
    p.setGravity(0, 0, 0)
    p.setAdditionalSearchPath(pybullet_data.getDataPath())
    dofs_1, trans_1 = get_data(3, 0)
    model_path1 = ""studio_new.urdf""
    startPos = trans_1[0] 
    model1 = p.loadURDF(model_path1, startPos, [1,0,0,1], useFixedBase=False,flags=p.URDF_USE_INERTIA_FROM_FILE)  #,flags=p.URDF_USE_INERTIA_FROM_FILE
    #model2 = p.loadURDF(model_path1, startPos, [1.5,0,0,1], useFixedBase=False,flags=p.URDF_USE_INERTIA_FROM_FILE)  #,flags=p.URDF_USE_INERTIA_FROM_FILE
    clean_dofs1, jnt_ids = data_arrangement(dofs_1)

    run_simulation(trans_1, clean_dofs1, dofs_1, model1)
 
```

My URDF file is:

```
<?xml version=""1.0"" ?>
<robot name=""dumpURDF"">
	<link name=""base"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.0001"" ixy=""0"" ixz=""0"" iyy=""0.0001"" iyz=""0"" izz=""0.0001""/>
		</inertial>
	</link>
	<link name=""Hips"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""15""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.01""/>
			</geometry>
		</collision>
	</link>
	<joint name=""Hips"" type=""floating"">
		<parent link=""base""/>
		<child link=""Hips""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Hips_ori"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.1""/>
			</geometry>
		</collision>
	</link>
	<joint name=""Hips_ori"" type=""fixed"">
		<parent link=""Hips""/>
		<child link=""Hips_ori""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightUpLeg_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightUpLeg_dummy"" type=""fixed"">
		<parent link=""Hips_ori""/>
		<child link=""RightUpLeg_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0959256 -0.033597999999999996 -0.017140799999999998""/>
	</joint>
	<link name=""RightUpLeg_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightUpLeg_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightUpLeg_dummy""/>
		<child link=""RightUpLeg_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightUpLeg_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightUpLeg_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightUpLeg_rx""/>
		<child link=""RightUpLeg_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_RightUpLeg_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightUpLeg_ry""/>
		<child link=""RightUpLeg_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightUpLeg_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 -0.19915950000000002 0.0""/>
			<mass value=""7.3""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 -0.19915950000000002 0.0""/>
			<geometry>
				<cylinder radius=""0.06"" length=""0.39831900000000003""/>
			</geometry>
		</collision>
	</link>
	<link name=""LeftUpLeg_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftUpLeg_dummy"" type=""fixed"">
		<parent link=""Hips_ori""/>
		<child link=""LeftUpLeg_dummy""/>
		<origin rpy=""0 0 0"" xyz=""-0.0959256 -0.033597999999999996 -0.017140799999999998""/>
	</joint>
	<link name=""LeftUpLeg_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftUpLeg_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftUpLeg_dummy""/>
		<child link=""LeftUpLeg_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftUpLeg_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftUpLeg_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftUpLeg_rx""/>
		<child link=""LeftUpLeg_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_LeftUpLeg_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftUpLeg_ry""/>
		<child link=""LeftUpLeg_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftUpLeg_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 -0.19915950000000002 0.0""/>
			<mass value=""7.3""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 -0.19915950000000002 0.0""/>
			<geometry>
				<cylinder radius=""0.06"" length=""0.39831900000000003""/>
			</geometry>
		</collision>
	</link>
	<link name=""RightLeg_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightLeg_dummy"" type=""fixed"">
		<parent link=""RightUpLeg_limb""/>
		<child link=""RightLeg_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 -0.39831900000000003 0.0""/>
	</joint>
	<link name=""RightLeg_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightLeg_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightLeg_dummy""/>
		<child link=""RightLeg_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightLeg_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightLeg_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightLeg_rx""/>
		<child link=""RightLeg_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_RightLeg_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightLeg_ry""/>
		<child link=""RightLeg_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightLeg_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 -0.1920165 0.0""/>
			<mass value=""5.16""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 -0.1920165 0.0""/>
			<geometry>
				<cylinder radius=""0.06"" length=""0.384033""/>
			</geometry>
		</collision>
	</link>
	<link name=""LeftLeg_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftLeg_dummy"" type=""fixed"">
		<parent link=""LeftUpLeg_limb""/>
		<child link=""LeftLeg_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 -0.39831900000000003 0.0""/>
	</joint>
	<link name=""LeftLeg_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftLeg_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftLeg_dummy""/>
		<child link=""LeftLeg_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftLeg_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftLeg_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftLeg_rx""/>
		<child link=""LeftLeg_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_LeftLeg_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftLeg_ry""/>
		<child link=""LeftLeg_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftLeg_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 -0.1920165 0.0""/>
			<mass value=""5.16""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 -0.1920165 0.0""/>
			<geometry>
				<cylinder radius=""0.06"" length=""0.384033""/>
			</geometry>
		</collision>
	</link>
	<link name=""RightFoot_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightFoot_dummy"" type=""fixed"">
		<parent link=""RightLeg_limb""/>
		<child link=""RightFoot_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 -0.384033 0.0""/>
	</joint>
	<link name=""RightFoot_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightFoot_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightFoot_dummy""/>
		<child link=""RightFoot_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightFoot_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightFoot_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightFoot_rx""/>
		<child link=""RightFoot_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_RightFoot_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightFoot_ry""/>
		<child link=""RightFoot_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightFoot_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""-0.00142735 -0.0201752 -0.07179600000000001""/>
			<mass value=""1.8""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""-0.00142735 -0.0201752 -0.07179600000000001""/>
			<geometry>
				<cylinder radius=""0.04"" length=""0.0403504""/>
			</geometry>
		</collision>
	</link>
	<link name=""LeftFoot_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftFoot_dummy"" type=""fixed"">
		<parent link=""LeftLeg_limb""/>
		<child link=""LeftFoot_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 -0.384033 0.0""/>
	</joint>
	<link name=""LeftFoot_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftFoot_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftFoot_dummy""/>
		<child link=""LeftFoot_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftFoot_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftFoot_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftFoot_rx""/>
		<child link=""LeftFoot_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_LeftFoot_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftFoot_ry""/>
		<child link=""LeftFoot_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftFoot_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.00142735 -0.0201752 -0.07179600000000001""/>
			<mass value=""1.8""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.00142735 -0.0201752 -0.07179600000000001""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.0403504""/>
			</geometry>
		</collision>
	</link>
	<link name=""RightToeBase_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightToeBase_dummy"" type=""fixed"">
		<parent link=""RightFoot_limb""/>
		<child link=""RightToeBase_dummy""/>
		<origin rpy=""0 0 0"" xyz=""-0.0028547 -0.0403504 -0.14359200000000003""/>
	</joint>
	<link name=""RightToeBase_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightToeBase_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightToeBase_dummy""/>
		<child link=""RightToeBase_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightToeBase_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightToeBase_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightToeBase_rx""/>
		<child link=""RightToeBase_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_RightToeBase_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightToeBase_ry""/>
		<child link=""RightToeBase_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightToeBase_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""-0.00057165 -0.0068612000000000005 -0.04279605""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 1.5705 "" xyz=""-0.00057165 -0.0068612000000000005 -0.04279605""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.013722400000000001""/>
			</geometry>
		</collision>
	</link>
	<link name=""LeftToeBase_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 1.5705 "" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftToeBase_dummy"" type=""fixed"">
		<parent link=""LeftFoot_limb""/>
		<child link=""LeftToeBase_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0028547 -0.0403504 -0.14359200000000003""/>
	</joint>
	<link name=""LeftToeBase_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftToeBase_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftToeBase_dummy""/>
		<child link=""LeftToeBase_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftToeBase_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftToeBase_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftToeBase_rx""/>
		<child link=""LeftToeBase_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_LeftToeBase_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftToeBase_ry""/>
		<child link=""LeftToeBase_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftToeBase_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.00057165 -0.0068612000000000005 -0.04279605""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 1.5705"" xyz=""0.00057165 -0.0068612000000000005 -0.04279605""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.013722400000000001""/>
			</geometry>
		</collision>
	</link>
	<link name=""Spine_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine_dummy"" type=""fixed"">
		<parent link=""Hips_ori""/>
		<child link=""Spine_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 0.0671961 0.0342815""/>
	</joint>
	<link name=""Spine_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine_dummy""/>
		<child link=""Spine_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine_rx""/>
		<child link=""Spine_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_Spine_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine_ry""/>
		<child link=""Spine_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 0.0579405 -0.0155198""/>
			<mass value=""3""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 0.0579405 -0.0155198""/>
			<geometry>
				<cylinder radius=""0.15"" length=""0.115881""/>
			</geometry>
		</collision>
	</link>
	<link name=""Spine1_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine1_dummy"" type=""fixed"">
		<parent link=""Spine_limb""/>
		<child link=""Spine1_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 0.115881 -0.0310396""/>
	</joint>
	<link name=""Spine1_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine1_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine1_dummy""/>
		<child link=""Spine1_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine1_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine1_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine1_rx""/>
		<child link=""Spine1_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_Spine1_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine1_ry""/>
		<child link=""Spine1_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine1_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 0.04392105 0.004707670000000001""/>
			<mass value=""3""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 0.04392105 0.004707670000000001""/>
			<geometry>
				<cylinder radius=""0.15"" length=""0.0878421""/>
			</geometry>
		</collision>
	</link>
	<link name=""Spine2_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine2_dummy"" type=""fixed"">
		<parent link=""Spine1_limb""/>
		<child link=""Spine2_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 0.0878421 0.009415340000000001""/>
	</joint>
	<link name=""Spine2_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine2_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine2_dummy""/>
		<child link=""Spine2_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine2_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine2_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine2_rx""/>
		<child link=""Spine2_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_Spine2_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine2_ry""/>
		<child link=""Spine2_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine2_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 0.052560499999999996 0.0032074250000000003""/>
			<mass value=""2""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 0.052560499999999996 0.0032074250000000003""/>
			<geometry>
				<cylinder radius=""0.15"" length=""0.10512099999999999""/>
			</geometry>
		</collision>
	</link>
	<link name=""Spine3_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine3_dummy"" type=""fixed"">
		<parent link=""Spine2_limb""/>
		<child link=""Spine3_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 0.10512099999999999 0.006414850000000001""/>
	</joint>
	<link name=""Spine3_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine3_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine3_dummy""/>
		<child link=""Spine3_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine3_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine3_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine3_rx""/>
		<child link=""Spine3_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_Spine3_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine3_ry""/>
		<child link=""Spine3_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine3_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 0.077806 -0.00589755""/>
			<mass value=""0.1""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 0.077806 -0.00589755""/>
			<geometry>
				<cylinder radius=""0.15"" length=""0.155612""/>
			</geometry>
		</collision>
	</link>
	<link name=""Spine4_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine4_dummy"" type=""fixed"">
		<parent link=""Spine3_limb""/>
		<child link=""Spine4_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 0.155612 -0.0117951""/>
	</joint>
	<link name=""Spine4_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine4_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine4_dummy""/>
		<child link=""Spine4_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine4_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Spine4_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine4_rx""/>
		<child link=""Spine4_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_Spine4_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Spine4_ry""/>
		<child link=""Spine4_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Spine4_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 0.03714405 -0.02602155""/>
			<mass value=""1""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 0.03714405 -0.02602155""/>
			<geometry>
				<cylinder radius=""0.05"" length=""0.0742881""/>
			</geometry>
		</collision>
	</link>
	<link name=""Neck_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Neck_dummy"" type=""fixed"">
		<parent link=""Spine4_limb""/>
		<child link=""Neck_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 0.0742881 -0.0520431""/>
	</joint>
	<link name=""Neck_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Neck_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Neck_dummy""/>
		<child link=""Neck_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Neck_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Neck_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Neck_rx""/>
		<child link=""Neck_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_Neck_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Neck_ry""/>
		<child link=""Neck_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Neck_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 0.04459355 -0.01334705""/>
			<mass value=""1""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 0.04459355 -0.01334705""/>
			<geometry>
				<cylinder radius=""0.06"" length=""0.0891871""/>
			</geometry>
		</collision>
	</link>
	<link name=""Head_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Head_dummy"" type=""fixed"">
		<parent link=""Neck_limb""/>
		<child link=""Head_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.0 0.0891871 -0.0266941""/>
	</joint>
	<link name=""Head_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Head_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Head_dummy""/>
		<child link=""Head_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Head_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_Head_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Head_rx""/>
		<child link=""Head_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_Head_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""Head_ry""/>
		<child link=""Head_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""Head_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.0 0.0930155 -0.0045007400000000005""/>
			<mass value=""5""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""1.5705 0 0"" xyz=""0.0 0.0930155 -0.0045007400000000005""/>
			<geometry>
				<cylinder radius=""0.06"" length=""0.186031""/>
			</geometry>
		</collision>
	</link>
	<link name=""RightShoulder_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightShoulder_dummy"" type=""fixed"">
		<parent link=""Spine3_limb""/>
		<child link=""RightShoulder_dummy""/>
		<origin rpy=""0 0 0 "" xyz=""0.044697 0.189135 -0.0850485""/>
	</joint>
	<link name=""RightShoulder_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightShoulder_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightShoulder_dummy""/>
		<child link=""RightShoulder_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightShoulder_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightShoulder_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightShoulder_rx""/>
		<child link=""RightShoulder_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_RightShoulder_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightShoulder_ry""/>
		<child link=""RightShoulder_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightShoulder_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.06375549999999999 -0.01334705 0.0171236""/>
			<mass value=""2""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0.06375549999999999 -0.01334705 0.0171236""/>
			<geometry>
				<cylinder radius=""0.04"" length=""0.12751099999999999""/>
			</geometry>
		</collision>
	</link>
	<link name=""LeftShoulder_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftShoulder_dummy"" type=""fixed"">
		<parent link=""Spine3_limb""/>
		<child link=""LeftShoulder_dummy""/>
		<origin rpy=""0 0 0"" xyz=""-0.044697 0.189135 -0.0850485""/>
	</joint>
	<link name=""LeftShoulder_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftShoulder_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftShoulder_dummy""/>
		<child link=""LeftShoulder_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftShoulder_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftShoulder_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftShoulder_rx""/>
		<child link=""LeftShoulder_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_LeftShoulder_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftShoulder_ry""/>
		<child link=""LeftShoulder_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftShoulder_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""-0.06375549999999999 -0.01334705 0.0171236""/>
			<mass value=""2""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""-0.06375549999999999 -0.01334705 0.0171236""/>
			<geometry>
				<cylinder radius=""0.04"" length=""0.12751099999999999""/>
			</geometry>
		</collision>
	</link>
	<link name=""RightArm_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightArm_dummy"" type=""fixed"">
		<parent link=""RightShoulder_limb""/>
		<child link=""RightArm_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.12751099999999999 -0.0266941 0.0342472""/>
	</joint>
	<link name=""RightArm_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightArm_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightArm_dummy""/>
		<child link=""RightArm_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightArm_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightArm_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightArm_rx""/>
		<child link=""RightArm_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_RightArm_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightArm_ry""/>
		<child link=""RightArm_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightArm_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.1316535 0.0 0.0""/>
			<mass value=""1.7""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0.1316535 0.0 0.0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.263307""/>
			</geometry>
		</collision>
	</link>
	<link name=""LeftArm_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftArm_dummy"" type=""fixed"">
		<parent link=""LeftShoulder_limb""/>
		<child link=""LeftArm_dummy""/>
		<origin rpy=""0 0 0"" xyz=""-0.12751099999999999 -0.0266941 0.0342472""/>
	</joint>
	<link name=""LeftArm_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftArm_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftArm_dummy""/>
		<child link=""LeftArm_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftArm_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftArm_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftArm_rx""/>
		<child link=""LeftArm_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_LeftArm_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftArm_ry""/>
		<child link=""LeftArm_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftArm_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""-0.1316535 0.0 0.0""/>
			<mass value=""1.7""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""-0.1316535 0.0 0.0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.263307""/>
			</geometry>
		</collision>
	</link>
	<link name=""RightForeArm_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightForeArm_dummy"" type=""fixed"">
		<parent link=""RightArm_limb""/>
		<child link=""RightForeArm_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.263307 0.0 0.0""/>
	</joint>
	<link name=""RightForeArm_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightForeArm_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightForeArm_dummy""/>
		<child link=""RightForeArm_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightForeArm_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightForeArm_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightForeArm_rx""/>
		<child link=""RightForeArm_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_RightForeArm_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightForeArm_ry""/>
		<child link=""RightForeArm_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightForeArm_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.11840300000000001 0.0 0.0""/>
			<mass value=""1""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0.11840300000000001 0.0 0.0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.23680600000000002""/>
			</geometry>
		</collision>
	</link>
	<link name=""LeftForeArm_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftForeArm_dummy"" type=""fixed"">
		<parent link=""LeftArm_limb""/>
		<child link=""LeftForeArm_dummy""/>
		<origin rpy=""0 0 0"" xyz=""-0.263307 0.0 0.0""/>
	</joint>
	<link name=""LeftForeArm_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftForeArm_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftForeArm_dummy""/>
		<child link=""LeftForeArm_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftForeArm_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftForeArm_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftForeArm_rx""/>
		<child link=""LeftForeArm_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_LeftForeArm_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftForeArm_ry""/>
		<child link=""LeftForeArm_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftForeArm_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""-0.11840300000000001 0.0 0.0""/>
			<mass value=""1""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""-0.11840300000000001 0.0 0.0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.23680600000000002""/>
			</geometry>
		</collision>
	</link>
	<link name=""RightHand_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightHand_dummy"" type=""fixed"">
		<parent link=""RightForeArm_limb""/>
		<child link=""RightHand_dummy""/>
		<origin rpy=""0 0 0"" xyz=""0.23680600000000002 0.0 0.0""/>
	</joint>
	<link name=""RightHand_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightHand_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightHand_dummy""/>
		<child link=""RightHand_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightHand_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_RightHand_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightHand_rx""/>
		<child link=""RightHand_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_RightHand_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""RightHand_ry""/>
		<child link=""RightHand_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""RightHand_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0.04321125 0.0 -1.969335e-07""/>
			<mass value=""0.5""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0.04321125 0.0 -1.969335e-07""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.0864225""/>
			</geometry>
		</collision>
	</link>
	<link name=""LeftHand_dummy"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""0 0 0""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftHand_dummy"" type=""fixed"">
		<parent link=""LeftForeArm_limb""/>
		<child link=""LeftHand_dummy""/>
		<origin rpy=""0 0 0"" xyz=""-0.23680600000000002 0.0 0.0""/>
	</joint>
	<link name=""LeftHand_rx"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.00001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftHand_rx"" type=""revolute"">
		<axis xyz=""1 0 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftHand_dummy""/>
		<child link=""LeftHand_rx""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftHand_ry"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<mass value=""0.00001""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 0 0"" xyz=""0 0 0""/>
			<geometry>
				<sphere radius=""0.000001""/>
			</geometry>
		</collision>
	</link>
	<joint name=""j_LeftHand_ry"" type=""revolute"">
		<axis xyz=""0 1 0""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftHand_rx""/>
		<child link=""LeftHand_ry""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<joint name=""j_LeftHand_rz"" type=""revolute"">
		<axis xyz=""0 0 1""/>
		<limit effort=""1000.0"" lower=""-2.5"" upper=""2.5"" velocity=""1.5""/>
		<parent link=""LeftHand_ry""/>
		<child link=""LeftHand_limb""/>
		<origin rpy=""0 0 0"" xyz=""0 0 0""/>
	</joint>
	<link name=""LeftHand_limb"">
		<inertial>
			<origin rpy=""0 0 0"" xyz=""-0.04321125 0.0 -1.969335e-07""/>
			<mass value=""0.5""/>
			<inertia ixx=""0.1"" ixy=""0"" ixz=""0"" iyy=""0.1"" iyz=""0"" izz=""0.1""/>
		</inertial>
		<collision>
			<origin rpy=""0 1.5705 0"" xyz=""-0.04321125 0.0 -1.969335e-07""/>
			<geometry>
				<cylinder radius=""0.03"" length=""0.0864225""/>
			</geometry>
		</collision>
	</link>
</robot>

```



",hello gif speed external force see gif humanoid drifting away ideally physic change external force sample python script controller pas data zero gravity model running simulation model data studio motion capture range range model model model model file robot link base inertial origin mass inertia link inertial origin mass inertia collision origin geometry sphere joint floating parent base child origin link inertial origin mass inertia collision origin geometry sphere joint fixed parent child origin link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder link inertial origin mass inertia collision origin geometry cylinder joint fixed parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry sphere joint revolute axis limit parent child origin joint revolute axis limit parent child origin link inertial origin mass inertia collision origin geometry cylinder,issue,negative,positive,neutral,neutral,positive,positive
1465889503,"> > > I guess it is mostly due to the symbolic framework while pybullet does not take in symbolic variables in the function. I did not find any solution I used another physics engine in place of this to make it work.
> > > Can you tell me what physics engine you used afterwards? @prakrutk
> 
> I used Mujoco for my application. But it depends on what you are using it for.

 Thanks. Can Mujoco work inside casadi? @prakrutk ",guess mostly due symbolic framework take symbolic function find solution used another physic engine place make work tell physic engine used afterwards used application thanks work inside,issue,positive,positive,neutral,neutral,positive,positive
1465874377,"> > I guess it is mostly due to the symbolic framework while pybullet does not take in symbolic variables in the function. I did not find any solution I used another physics engine in place of this to make it work.
> > Can you tell me what physics engine you used afterwards? @prakrutk

I used Mujoco for my application. But it depends on what you are using it for.",guess mostly due symbolic framework take symbolic function find solution used another physic engine place make work tell physic engine used afterwards used application,issue,negative,negative,negative,negative,negative,negative
1465850792,"

> I guess it is mostly due to the symbolic framework while pybullet does not take in symbolic variables in the function. I did not find any solution I used another physics engine in place of this to make it work.
Can you tell me what physics engine you used afterwards? @prakrutk 
",guess mostly due symbolic framework take symbolic function find solution used another physic engine place make work tell physic engine used afterwards,issue,negative,negative,negative,negative,negative,negative
1465778173,I guess it is mostly due to the symbolic framework while pybullet does not take in symbolic variables in the function. I did not find any solution I used another physics engine in place of this to make it work.,guess mostly due symbolic framework take symbolic function find solution used another physic engine place make work,issue,negative,negative,negative,negative,negative,negative
1465058402,"Setting the max size to 500 allocates around 900kB
![image](https://user-images.githubusercontent.com/9803128/224517694-ceedc5fa-ecfa-4417-b357-9e28c98f527b.png)
",setting size around image,issue,negative,neutral,neutral,neutral,neutral,neutral
1465057354,"For a single instance reducing it from 4096 to 100 take it form ~7MB  to 0B but not sure what implications this has.

Comparison:
![image](https://user-images.githubusercontent.com/9803128/224517416-c31d8861-a462-4138-a890-74d1aa999d3d.png)

Before:
![image](https://user-images.githubusercontent.com/9803128/224517489-d867a2de-201c-4e96-b4b0-e704a5facbef.png)

After:
![image](https://user-images.githubusercontent.com/9803128/224517463-2df23c5d-f453-4254-aad1-7f569b0eff50.png)


",single instance reducing take form sure comparison image image image,issue,negative,positive,positive,positive,positive,positive
1465055343,"For the purpose of testing I reduced the max size from 4096 to 100 and a unit test I have which create multiple clones of the contact checker one per thread and the memory was reduced 28MB.
![image](https://user-images.githubusercontent.com/9803128/224517228-4060b90f-dbd4-4b68-b27b-34c14559d179.png)
",purpose testing reduced size unit test create multiple contact checker one per thread memory reduced image,issue,negative,neutral,neutral,neutral,neutral,neutral
1446285026,"> This requires a fix in Bullet? Is there a run-time version check of gym, so we can implement both old and new method?

This PR should already fix it: https://github.com/bulletphysics/bullet3/pull/4332 (it should work with both gym 0.21 and 0.26)

The check in gym is here: https://github.com/openai/gym/blob/master/gym/envs/registration.py#L497-L498",fix bullet version check gym implement old new method already fix work gym check gym,issue,negative,positive,positive,positive,positive,positive
1445117190,"I dived deeper into the problem and to my findings instead of using the information already existing about the object in the buffer with every iteration the buffer kept growing. I couldn't really clear myself if it was growing out of adding vertex information, some indexing error or some metadata of each object. It was some time ago and let it on the side but I could come back to it and provide more detailed information.

But for this case the warning Buffer Limit would help the user to know.",problem instead information already object buffer every iteration buffer kept growing could really clear growing vertex information indexing error object time ago let side could come back provide detailed information case warning buffer limit would help user know,issue,negative,positive,positive,positive,positive,positive
1444358800,"Here is the implementation, in pybullet.c:

````````````````````````````

/// quaternion <-> euler yaw/pitch/roll convention from URDF/SDF, see Gazebo
/// https://github.com/arpg/Gazebo/blob/master/gazebo/math/Quaternion.cc
static PyObject* pybullet_getEulerFromQuaternion(PyObject* self,
												 PyObject* args, PyObject* keywds)
{
	double squ;
	double sqx;
	double sqy;
	double sqz;

	double quat[4];

	PyObject* quatObj;

	int physicsClientId = 0;

	static char* kwlist[] = {""quaternion"", ""physicsClientId"", NULL};

	if (!PyArg_ParseTupleAndKeywords(args, keywds, ""O|i"", kwlist, &quatObj, &physicsClientId))
	{
		return NULL;
	}

	if (quatObj)
	{
		PyObject* seq;
		int len, i;
		seq = PySequence_Fast(quatObj, ""expected a sequence"");
		len = PySequence_Size(quatObj);
		if (len == 4)
		{
			for (i = 0; i < 4; i++)
			{
				quat[i] = pybullet_internalGetFloatFromSequence(seq, i);
			}
		}
		else
		{
			PyErr_SetString(SpamError, ""Quaternion need a 4 components [x,y,z,w]."");
			Py_DECREF(seq);
			return NULL;
		}
		Py_DECREF(seq);
	}
	else
	{
		PyErr_SetString(SpamError, ""Quaternion need a 4 components [x,y,z,w]."");
		return NULL;
	}

	{
		double rpy[3];
		double sarg;
		sqx = quat[0] * quat[0];
		sqy = quat[1] * quat[1];
		sqz = quat[2] * quat[2];
		squ = quat[3] * quat[3];
		sarg = -2 * (quat[0] * quat[2] - quat[3] * quat[1]);

		// If the pitch angle is PI/2 or -PI/2, we can only compute
		// the sum roll + yaw.  However, any combination that gives
		// the right sum will produce the correct orientation, so we
		// set rollX = 0 and compute yawZ.
		if (sarg <= -0.99999)
		{
			rpy[0] = 0;
			rpy[1] = -0.5 * PYBULLET_PI;
			rpy[2] = 2 * atan2(quat[0], -quat[1]);
		}
		else if (sarg >= 0.99999)
		{
			rpy[0] = 0;
			rpy[1] = 0.5 * PYBULLET_PI;
			rpy[2] = 2 * atan2(-quat[0], quat[1]);
		}
		else
		{
			rpy[0] = atan2(2 * (quat[1] * quat[2] + quat[3] * quat[0]), squ - sqx - sqy + sqz);
			rpy[1] = asin(sarg);
			rpy[2] = atan2(2 * (quat[0] * quat[1] + quat[3] * quat[2]), squ + sqx - sqy - sqz);
		}
		{
			PyObject* pylist;
			int i;
			pylist = PyTuple_New(3);
			for (i = 0; i < 3; i++)
				PyTuple_SetItem(pylist, i, PyFloat_FromDouble(rpy[i]));
			return pylist;
		}
	}
	Py_INCREF(Py_None);
	return Py_None;
}

````````````````````````````",implementation quaternion convention see gazebo static self double double double double double quat static char quaternion null return null sequence quat else quaternion need return null else quaternion need return null double double quat quat quat quat quat quat quat quat quat quat quat quat pitch angle compute sum roll yaw however combination right sum produce correct orientation set compute quat else quat else quat quat quat quat quat quat quat quat return return,issue,negative,positive,positive,positive,positive,positive
1444346321,"Not out-of-the-box, but you can implement custom shapes and colliders and register those algorithms. We don't use octrees.",implement custom register use,issue,negative,neutral,neutral,neutral,neutral,neutral
1444344505,"Thanks a lot for the reproduction and pull request, it has been merged.",thanks lot reproduction pull request,issue,negative,positive,positive,positive,positive,positive
1444343383,"This requires a fix in Bullet? Is there a run-time version check of gym, so we can implement both old and new method?",fix bullet version check gym implement old new method,issue,negative,positive,positive,positive,positive,positive
1444339412,"It requires a reproduction case Python script, closing for now.",reproduction case python script,issue,negative,neutral,neutral,neutral,neutral,neutral
1444336329,"Eventually the GPU/OpenGL will run out of memory, we don't handle this case. Try running separate instances of the simulation in different threads/processes instead.",eventually run memory handle case try running separate simulation different instead,issue,negative,neutral,neutral,neutral,neutral,neutral
1444332163,You need to clone the full bullet github repo and run the example from within that repo directory.,need clone full bullet run example within directory,issue,negative,positive,positive,positive,positive,positive
1444284116,"The method requires an iktree, and since there is no check for it, it crashes. I'll add the check to prevent a crash (but it won't compute IK). You can use the C++ Bullet Example Browser to run the SDLS example, see screenshot. Not sure how to tune the thresholds for the IK implementation.

![image](https://user-images.githubusercontent.com/725468/221269570-32a8c282-5187-448d-9105-39d01c102139.png)
",method since check add check prevent crash wo compute use bullet example browser run example see sure tune implementation image,issue,negative,positive,positive,positive,positive,positive
1444263011,"Thanks for the report, but this is impossible to answer without a reproduction case to look at. Please re-open if you have some small pybullet python example + urdf to check.",thanks report impossible answer without reproduction case look please small python example check,issue,positive,negative,negative,negative,negative,negative
1444260092,It has been merged and will be available in next pybullet release. Thanks!,available next release thanks,issue,negative,positive,positive,positive,positive,positive
1444259203,"Thanks for the contribution, let's enable it again and see if it requires further fixes.",thanks contribution let enable see,issue,negative,positive,positive,positive,positive,positive
1444218765,"Thanks for the report, let's merge it.",thanks report let merge,issue,negative,positive,positive,positive,positive,positive
1444211071,"Let's try to re-enable, here is the pull request:
https://github.com/bulletphysics/bullet3/pull/4413",let try pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
1444200584,"It is roll, pitch, yaw indeed, changed the doc. Thanks!",roll pitch yaw indeed doc thanks,issue,negative,positive,positive,positive,positive,positive
1438851237,I am interested in this as well. Is there a script you would recommend looking at for someone who might write a plugin? Would be happy to take a crack at it!,interested well script would recommend looking someone might write would happy take crack,issue,positive,positive,positive,positive,positive,positive
1427737837,"In PyBullet [version 3.21](https://github.com/bulletphysics/bullet3/tree/3.21), the soft contact info was implemented. It got removed again for version 3.22 due to some internal tests. :man_shrugging:

I [commented on that issue](https://github.com/bulletphysics/bullet3/pull/3979), but never received an answer.",version soft contact got removed version due internal issue never received answer,issue,negative,negative,neutral,neutral,negative,negative
1427153335,"C:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\BIN\x86_amd64\cl.exe /c /nologo /Ox /W3 /GL /DNDEBUG /MD -Id:\coding\lib\site-packages\numpy\core\include -Isrc -Iexamples/ThirdPartyLibs -Iexamples/ThirdPartyLibs/glad -Iexamples/ThirdPartyLibs/enet/include -Iexamples/ThirdPartyLibs/clsocket/src -IExtras/VHACD/inc -IExtras/VHACD/public -Id:\coding\include -Id:\coding\include ""-IC:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\INCLUDE"" ""-IC:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\ATLMFC\INCLUDE"" ""-IC:\Program Files (x86)\Windows Kits\10\include\10.0.10240.0\ucrt"" /Tcexamples/pybullet/pybullet.c /Fobuild\temp.win-amd64-3.7\Release\examples/pybullet/pybullet.obj -DGWEN_COMPILE_STATIC -DBT_USE_DOUBLE_PRECISION -DBT_ENABLE_ENET -DBT_ENABLE_CLSOCKET -DB3_DUMP_PYTHON_VERSION -DEGL_ADD_PYTHON_INIT -DB3_ENABLE_FILEIO_PLUGIN -DB3_USE_ZIPFILE_FILEIO -DBT_THREADSAFE=1 -DSTATIC_LINK_SPD_PLUGIN -DBT_ENABLE_VHACD -DPYBULLET_USE_NUMPY -DWIN32 -DGLEW_STATIC
    pybullet.c
    d:\coding\include\pyconfig.h(203): fatal error C1083: Cannot open include file: 'basetsd.h': No such file or directory
    error: command 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe' failed with exit status 2
    ----------------------------------------
ERROR: Command errored out with exit status 1: 'd:\coding\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '""'""'C:\\Users\\hp\\AppData\\Local\\Temp\\pip-install-hxd2kl73\\pybullet\\setup.py'""'""'; __file__='""'""'C:\\Users\\hp\\AppData\\Local\\Temp\\pip-install-hxd2kl73\\pybullet\\setup.py'""'""';f=getattr(tokenize, '""'""'open'""'""', open)(__file__);code=f.read().replace('""'""'\r\n'""'""', '""'""'\n'""'""');f.close();exec(compile(code, __file__, '""'""'exec'""'""'))' install --record 'C:\Users\hp\AppData\Local\Temp\pip-record-o7y7ou3t\install-record.txt' --single-version-externally-managed --compile Check the logs for full command output.",visual studio visual studio visual studio fatal error open include file file directory error command visual studio exit status error command exit status open compile code install record compile check full command output,issue,negative,positive,neutral,neutral,positive,positive
1426649611,"> @erwincoumans would really appreciate it please, really stuck at the moment

have you solve it?I met the same problem,could you help me.",would really appreciate please really stuck moment solve met problem could help,issue,positive,positive,positive,positive,positive,positive
1426648759,"> I am using virtualbox with Ubuntu 20.04 and whenever I try to run an example, I get the following error:
> 
> ```
> 
> pybullet build time: Aug 14 2020 02:51:12
> startThreads creating 1 threads.
> starting thread 0
> started thread 0 
> argc=2
> argv[0] = --unused
> argv[1] = --start_demo_name=Physics Server
> ExampleBrowserThreadFunc started
> X11 functions dynamically loaded using dlopen/dlsym OK!
> X11 functions dynamically loaded using dlopen/dlsym OK!
> Creating context
> Failed to create GL 3.3 context ... using old-style GLX context
> Direct GLX rendering context obtained
> Making context current
> GL_VENDOR=VMware, Inc.
> GL_RENDERER=SVGA3D; build: RELEASE;  LLVM;
> GL_VERSION=2.1 Mesa 20.0.8
> GL_SHADING_LANGUAGE_VERSION=1.20
> pthread_getconcurrency()=0
> Version = 2.1 Mesa 20.0.8
> Vendor = VMware, Inc.
> Renderer = SVGA3D; build: RELEASE;  LLVM;
> Compile failed:
> 0:1(10): error: GLSL 1.50 is not supported. Supported versions are: 1.10, 1.20, and 1.00 ES
> 
> Segmentation fault (core dumped)
> ```
> 
> Can someone help me with how to rectify this error?

have you solve it?I met the same problem,could you help me.",whenever try run example get following error build time starting thread thread unused server dynamically loaded dynamically loaded context create context context direct rendering context making context current build release mesa version mesa vendor renderer build release compile error e segmentation fault core someone help rectify error solve met problem could help,issue,negative,positive,neutral,neutral,positive,positive
1425673256,"Unfortunately, some internal tests failed and the contact force calculation was removed from PyBullet.

We created a fork in which it is possible to obtain contact forces to soft bodies (and the full state of a tetrahedral mesh):

https://github.com/aprilprojecteu/bullet3

with commits of @johbrust and @MaartenBehn
",unfortunately internal contact force calculation removed fork possible obtain contact soft full state tetrahedral mesh,issue,negative,positive,positive,positive,positive,positive
1408877793,"Hi @manas96, so happy you replied. Well i'm not really working on excatly the same issue. 
Here is the issue I'm working on, just made a post: https://github.com/bulletphysics/bullet3/issues/4402",hi manas happy well really working issue issue working made post,issue,positive,positive,positive,positive,positive,positive
1408859397,"Hi @yogha001, I ended up building on top of the workaround I posted above.",hi ended building top posted,issue,negative,positive,positive,positive,positive,positive
1407922686,"And when I load models that are not primitives, I create either btGImpactMeshShape or btGImpactConvexDecompositionShape polygons. However, btGImpactConvexDecompositionShape can only be created for whole objects that do not contain holes because they cannot be passed through.",load create either however whole contain,issue,negative,positive,positive,positive,positive,positive
1407682326,"> > Thanks for the PR. From Appveyor failed build, it looks like the build is broken. Some cmake or premake build files need updating, adding the new c++ file?
> 
> Hello. Sorry for the late reply. I hope I'm not too late to get this PR accepted. I'm not sure what part of the cmake file to update or what c++ file I should add to resolve this. What should I do?

I might be wrong but I think I figured it out. I think I have to update this cmake file under this directory:
<img width=""514"" alt=""Screen Shot 2023-01-29 at 10 38 27 PM"" src=""https://user-images.githubusercontent.com/37253663/215333839-da97ceaf-9721-4165-bb78-e556c71d54ec.png"">

I have to add in my `DOF6SpringQuatSetup` somewhere here:

<img width=""760"" alt=""Screen Shot 2023-01-29 at 10 38 19 PM"" src=""https://user-images.githubusercontent.com/37253663/215333935-7ea80de7-c0c6-42cd-8b0b-bf140eab249c.png"">

brb...
",thanks build like build broken premake build need new file hello sorry late reply hope late get accepted sure part file update file add resolve might wrong think figured think update file directory screen shot add somewhere screen shot,issue,positive,negative,negative,negative,negative,negative
1407664947,"> Thanks for the PR. From Appveyor failed build, it looks like the build is broken. Some cmake or premake build files need updating, adding the new c++ file?

Hello. Sorry for the late reply. I hope I'm not too late to get this PR accepted. I'm not sure what part of the cmake file to update or what c++ file I should add to resolve this. What should I do?",thanks build like build broken premake build need new file hello sorry late reply hope late get accepted sure part file update file add resolve,issue,positive,negative,neutral,neutral,negative,negative
1407362418,"Hello,

No it is not possible. You should create an STL/obj file with any 3D editor, this is a beginner friendly CAD editor that you could use -> https://www.tinkercad.com/

Then with the STL/obj you can do an URDF like int https://github.com/bulletphysics/bullet3/blob/master/data/cube.urdf",hello possible create file editor beginner friendly cad editor could use like,issue,positive,positive,positive,positive,positive,positive
1406779180,"Hi @manas96, I am currently working on the same issue and I was wondering if you have found a solution for it since then?
Or @erwincoumans  could you help us ?
",hi manas currently working issue wondering found solution since could help u,issue,positive,neutral,neutral,neutral,neutral,neutral
1406195672,"> 



> > You could use 'rayTestBatch' to simulate laser/radar and lidar. For IMU, you can start with the actual world position and orientation and linear/angular velocity etc, and add some noise model. Similar for GPS. There is no GPS triangulation model. For camera image sensor you can use getCameraImage.
> 
> Hi, for IMU, How can I get the acceleration?

Maybe this is late but you can use `getBaseVelocity` to get the linear velocity and calculate the acceleration by taking its derivative.",could use simulate imu start actual world position orientation velocity add noise model similar triangulation model camera image sensor use hi imu get acceleration maybe late use get linear velocity calculate acceleration taking derivative,issue,negative,negative,neutral,neutral,negative,negative
1387443386,"Ok, I think i've found the source of the problem, it seems that using numpy arrays has somehow caused the seg fault?

When i replace the line:
`jacobian=p.calculateJacobian(robotId, 7, [0, 0, 0], np.zeros(18) ,np.zeros(18),np.zeros(18), physicsClientId=phyID)`
with:
`jacobian =p.calculateJacobian(robotId, 7, [0, 0, 0], np.zeros(18).tolist(), np.zeros(18).tolist(), np.zeros(18).tolist(), physicsClientId=phyID)`
I dont get a fault, and I am assuming that the result is indeed the correct jacobian.",think found source problem somehow seg fault replace line dont get fault assuming result indeed correct,issue,negative,neutral,neutral,neutral,neutral,neutral
1386726665,"@jadon995 I'd looked it up for a while, and here's my opinion.
If you want to load static parts, you can use triangle mesh
see [#2531](https://github.com/bulletphysics/bullet3/issues/2531)
also you can find this information in the pybullet documentation.

But if you want to load moving parts(like robot ee), you cannot use triangle meshes, but rather convex hulls. therefore I recommend using VHACD",opinion want load static use triangle mesh see also find information documentation want load moving like robot use triangle rather convex therefore recommend,issue,positive,positive,positive,positive,positive,positive
1376726319,"I try it on Windows PyBullet and it works! But when I try it on VMware Ubuntu 20.04 PyBullet, the problem occurs. Why?",try work try problem,issue,negative,neutral,neutral,neutral,neutral,neutral
1374882674,"> All the files are attached in the [files.zip]

I generated .vtk file from yours and it works. Don't forget to check the ""save all elements"" mark and choose ""ASCII"" format when exporting .vtk file using GMSH.",attached file work forget check save mark choose ascii format file,issue,negative,neutral,neutral,neutral,neutral,neutral
1367912207,"This error is caused by [this](https://github.com/openai/gym/pull/3041) update to the gym environment (since 0.26), the `env_spec` was removed in favour of a simple dictionary. The suggested change looks good to me. I used the following temporary workaround to keep using 0.26:

```
from collections import UserDict

import gym
import gym.envs.registration

# Do this before importing pybullet_envs (adds an extra property env_specs as a property to the registry, so it looks like the <0.26 envspec version)
registry = UserDict(gym.envs.registration.registry)
registry.env_specs = gym.envs.registration.registry
gym.envs.registration.registry = registry

import pybullet_envs
racecar_env = gym.make('RacecarBulletEnv-v0')
```

",error update gym environment since removed simple dictionary change good used following temporary keep import import gym import extra property property registry like version registry registry import,issue,negative,positive,positive,positive,positive,positive
1367494864,"Actually, the google style guide recommends a maximum of 80 characters. 
[Google Style Guide - Line length](https://google.github.io/styleguide/cppguide.html#Line_Length)",actually style guide maximum style guide line length,issue,negative,neutral,neutral,neutral,neutral,neutral
1367303567,"I can confirm I also get this error running the script, still see the collision shape pressing w.",confirm also get error running script still see collision shape pressing,issue,negative,neutral,neutral,neutral,neutral,neutral
1365754503,"> This resolution is not work for me, do you have any other method?

when i change gym0.26.0 -> 0.18.0,it works",resolution work method change gym work,issue,negative,neutral,neutral,neutral,neutral,neutral
1364454349,"Hi, I have the same problem with physics server in  google colab my evaluation function is source of the problem specifically the env.reset() function  

```
def evaluate_policy(policy, eval_episodes=10):
  avg_reward = 0.
  for _ in range(eval_episodes):
    obs = env.reset()
    done = False
    while not done:
      action = policy.select_action(np.array(obs))
      obs, reward, done, _ = env.step(action)
      avg_reward += reward
    env.close()
    gc.collect()
  avg_reward /= eval_episodes
  print (""------------------------------------------------"")
  print (""Recompensa promedio en el paso de Evaluación: %f"" % (avg_reward))
  print (""------------------------------------------------"")
  return avg_reward
```
even with  the gc.collect function the mistake persistents

```
[/usr/local/lib/python3.8/dist-packages/pybullet_envs/gym_locomotion_envs.py](https://localhost:8080/#) in reset(self)
     28     if (self.stateId >= 0):
     29       #print(""restoreState self.stateId:"",self.stateId)
---> 30       self._p.restoreState(self.stateId)
     31 
     32     r = MJCFBaseBulletEnv.reset(self)

error: Not connected to physics server.
```

I'm using pybullet 3.2.5 

",hi problem physic server evaluation function source problem specifically function policy range done false done action reward done action reward print print en el de print return even function mistake reset self print self error connected physic server,issue,negative,negative,neutral,neutral,negative,negative
1363269019,"You can patch gym as done in the RL Zoo: https://github.com/DLR-RM/rl-baselines3-zoo/pull/256

The file: https://github.com/DLR-RM/rl-baselines3-zoo/blob/feat/gym-0.24/rl_zoo3/gym_patches.py
and then use `apply_api_compatibility=True` when creating the env.

(soon you will be able to apply the patches by simply doing `import rl_zoo3.gym_patches`)",patch gym done zoo file use soon able apply simply import,issue,negative,positive,positive,positive,positive,positive
1349467846,"Could you please provide more details like OS, steps you are making for compilation, etc?

In my case I just compiled it in a fresh Linux Mint OS install.
`sudo apt-get install build-essential && sudo apt-get install cmake`
Then let `./build_cmake_pybullet_double.sh` run. I hope that can provide some help!
",could please provide like o making compilation case fresh mint o install install install let run hope provide help,issue,positive,positive,positive,positive,positive,positive
1349408385,"I am just wondering but this might be the case, do you have a pip pybullet installation outside conda? Either pip or pip3 installation could mess if you have the same package in conda.",wondering might case pip installation outside either pip pip installation could mess package,issue,negative,negative,neutral,neutral,negative,negative
1349293173,"Hello Enzo!

I don't have much experience with the backend of the library but I would tell you so.

Also as stated in the README, for support questions go to the Bullet forum https://pybullet.org/Bullet/phpBB3/ ",hello much experience library would tell also stated support go bullet forum,issue,negative,positive,positive,positive,positive,positive
1340368881,"> CMake prints wrong order of linked libraries by target_link_libraries

It is not Cmake which prints libraries, but vcpkg, based on a text file.
And the ""libraries"" actually are targets which are exported from cmake, based on patching in vcpkg.

However, it would be usefull if there was official *exported* cmake config, instead of the simple variable-based file. In particular, vcpkg wants to support multi-config cmake generators.",wrong order linked based text file actually based however would official instead simple file particular support,issue,negative,negative,neutral,neutral,negative,negative
1334919549,Tab style fixed. Any other blocker on this?,tab style fixed blocker,issue,negative,positive,neutral,neutral,positive,positive
1313183494,"I'm sorry. I'm now not sure anymore if it's a bug or not about `return mat[i][j]`.

Because `mat` is orthogonal, its transpose is equal to its inverse.
Matrix `mat` rotates rb_A to rb_B, so its inverse is
a matrix which rotates rb_B to rb_A.
So, if the codes of btGeneric6DofSpring2Constraint::matrixToEulerXYZ() and their siblings
are intended to calculate the Euler angles of the rotation rb_B to rb_A (not rb_A to rb_B),
`return mat[i][j]` is correct, though its' very hard to read.

By the way, my first question about inconsistency of the Euler angles is alive and not closed.",sorry sure bug return mat mat orthogonal transpose equal inverse matrix mat inverse matrix intended calculate rotation return mat correct though hard read way first question inconsistency alive closed,issue,negative,negative,neutral,neutral,negative,negative
1312767031,"Now I found a big bug in btGeneric6DofSpring2Constraint::btGetMatrixElem(). (line 76)
The columns and rows of matrix mat are transposed.

`return mat[i][j];`
should be
`return mat[j][i];`

All comments and codes in btGeneric6DofSpring2Constraint::matrixToEulerXYZ() and their siblings
are written for Euler angle intrinsic order, but they depend on the definitions of the columns and rows
modified as above. The current definition neither calculates intrinsic nor extrinsic order.",found big bug line matrix mat return mat return mat written angle intrinsic order depend current definition neither intrinsic extrinsic order,issue,negative,neutral,neutral,neutral,neutral,neutral
1308269335,"> > > when I try to run something
> 
> What did you run exactly?
I tried to import ur10 from urdf file, but I guess the file is lacking in the robot simulator files.
Sorry for the inconvenience.
",try run something run exactly tried import ur file guess file robot simulator sorry inconvenience,issue,negative,negative,negative,negative,negative,negative
1307740891,">> when I try to run something 

What did you run exactly?",try run something run exactly,issue,negative,positive,positive,positive,positive,positive
1297802449," Hi @erwincoumans , what is the status of this pr? I encountered issues when using jointReactionForces and this pr can fix the issue. Thanks",hi status fix issue thanks,issue,negative,positive,positive,positive,positive,positive
1294458062,"Just encountered the same issue. Looks like removing the following line at the beginning of the URDF file would work:
```xml
<link name=""world""/>
  <joint name="""" type=""floating"">
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
    <parent link=""world""/>
    <child link=""trunk""/>
  </joint>
```",issue like removing following line beginning file would work link world joint floating origin parent world child trunk,issue,negative,neutral,neutral,neutral,neutral,neutral
1288476887,"


> 

Hi. I am having the same problem in simulating a contact-rich task. Do you have any solutions to this problem?",hi problem task problem,issue,negative,neutral,neutral,neutral,neutral,neutral
1286287580,"I am having the same issue, when trying to run the ""two_cubes.py"" file after downloading the ""two_cubes.zip"", it is still not loading resulting in the below error message

`b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,257]:

b3Printf: SDF file 'data/two_cubes.sdf' not found

Traceback (most recent call last):
  File ""c:\Users\<path_to_folder>\two_cubes.py"", line 4, in <module>
    cubes = p.loadSDF(""data/two_cubes.sdf"")
pybullet.error: Cannot load SDF file.` 

Any advice?",issue trying run file still loading resulting error message file found recent call last file line module load advice,issue,negative,neutral,neutral,neutral,neutral,neutral
1281345557,"> Thanks for the quick reply. Can you tell how did you make the nao.urdf or give contact of the person who made it? It will help me a lot.

Hello, I got the exactly same issue as you had, we wanna stay with Mujoco, but modify this xml file so that it won't be colliding (shaking) all the time. Have you solved this issue? Thanks a lot!",thanks quick reply tell make give contact person made help lot hello got exactly issue wan na stay modify file wo shaking time issue thanks lot,issue,positive,positive,positive,positive,positive,positive
1280374643,"> For anyone searching for this in the future, the best workaround I could find is to just move the base with resetBasePositionAndOrientation() for the simulation and then let a ROS controller determine the actual wheel actuation based on the state of the base centre if needed.

Hi, do you find a good way to control Omni-wheels robots? It seems that it is difficult to control a Mecanum robot in Pybullet because the complex frictions...",anyone searching future best could find move base simulation let controller determine actual wheel actuation based state base hi find good way control difficult control robot complex,issue,positive,negative,neutral,neutral,negative,negative
1277050536,"This paper is good for me understand the above problem :
https://sites.google.com/nvidia.com/factory/",paper good understand problem,issue,negative,positive,positive,positive,positive,positive
1274367252,"It's not the pole. It's the cart. The action space is torque (force)
applied to the cart in either the right or left direction, one of which has
a positive sign and the other negative. How much is the cart being pushed
in one direction or the other? That's the scalar action.
ᐧ

On Thu, Jul 21, 2022 at 8:39 PM GHUserNameLL ***@***.***>
wrote:

> Hi, Same issue here. But BTW, do you know the meaning of action space in
> invertedPendulumBulletEnv-v0? I see the action space is 1-dimension, but I
> don't know if it means the pole's moving position or velocity?
>
> —
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/4307#issuecomment-1192062575>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AAK45772EC3NERAJI6BXTODVVHUTVANCNFSM54FKOWRA>
> .
> You are receiving this because you authored the thread.Message ID:
> ***@***.***>
>


-- 
Matthew Retchin (he/him/his)
Columbia University
M.S. in Computer Science (2023)
***@***.*** - (804) 339-7760
",pole cart action space torque force applied cart either right left direction one positive sign negative much cart one direction scalar action wrote hi issue know meaning action space see action space know pole moving position velocity reply directly view id university computer science,issue,negative,positive,neutral,neutral,positive,positive
1273428772,"> It’s the latest version of macOS ! No, I didn’t find any 🤷‍♂️

Have you found a solution?

I am using a M1 mac with Monterey and I have the same problem. GUI stuck unless I call stepSimulate()",latest version find found solution mac problem stuck unless call,issue,negative,positive,positive,positive,positive,positive
1267476226,"On further thought, I should be using `pb.getNumConstraints()` in the loading script (since I am creating a user-defined constraint). However, this too returns 0 when it should be returning 1.

It seems that during `loadBullet()` the function `btWorldImporter::convertConstraintDouble()` is called, which creates a rigidbody p2p constraint (`btPoint2PointConstraint`). It should be creating a multibody p2p constraint (`btMultiBodyPoint2Point`) instead, right? I'd be happy to work out a fix with PR if my assessment is correct :)


",thought loading script since constraint however function constraint constraint instead right happy work fix assessment correct,issue,positive,positive,positive,positive,positive,positive
1263477099,"I managed to generate valid .vtk meshes.
1) Blender: .obj -> .stl
2) TetWild: .stl -> .msh
3) gmsh: .msh -> .vtk
see [my post](https://medium.com/@renatyv/generating-vtk-mesh-from-for-pybullet-softbody-simulation-ccc5f2f39139) for more details",generate valid blender see post,issue,negative,neutral,neutral,neutral,neutral,neutral
1261920126,"> Hi! Any news on this issue? I am specifically interested in https://pybullet.org/mediawiki-1.5.8/index.php?title=Scaling_The_World and can not find a substitute anywhere as well as in the Wayback Machine... I would be so glad if the information somehow resurfaced!
> 
> EDIT: Just as I wrote this, i found a (suboptimal) way of accessing it: https://web.archive.org/web/20170706235814/http://www.bulletphysics.org/mediawiki-1.5.8/index.php/Main_Page
> 
> Hope this helps anyone who might stumble upon this on the search.

Thank you so much! this help me a lot",hi news issue specifically interested find substitute anywhere well wayback machine would glad information somehow edit wrote found suboptimal way hope anyone might stumble upon search thank much help lot,issue,positive,positive,positive,positive,positive,positive
1258336990,"@xhighway999 do you think you could track down what are the values of `m_triBodyWrap->getWorldTransform()`, `triangle`,  and resulting `v0` `v1` `v2` when encountering the issue?

Also before `triangle_normal_world.normalize()` line you can add `if (triangle_normal_world.x() + triangle_normal_world.y() + triangle_normal_world.z() == btScalar(0.)) printf(""Invalid normal \n"");` and see if this prints out when encountering the issue.

If this shows up I'll look further into the issue.
",think could track triangle resulting issue also line add invalid normal see issue look issue,issue,negative,positive,positive,positive,positive,positive
1257108729,"There are more changes than the wrapper, because Gym 0.26.0 use new form of `env.reset()` and `env.step()`.

It will be incompatible with the older Gym..... But checking the Gym version can solve this problem.

Thanks.",wrapper gym use new form incompatible older gym gym version solve problem thanks,issue,negative,positive,positive,positive,positive,positive
1257108020,"Thanks for the PR. From Appveyor failed build, it looks like the build is broken. Some cmake or premake build files need updating, adding the new c++ file?",thanks build like build broken premake build need new file,issue,negative,negative,neutral,neutral,negative,negative
1257107746,"Thanks for the pull request. Would this change also make PyBullet incompatible with all older versions of Gym? Is there some gym version check possible? Or remove the order enforcing wrapper after make externally?
",thanks pull request would change also make incompatible older gym gym version check possible remove order wrapper make externally,issue,negative,positive,neutral,neutral,positive,positive
1247142789,"For compatibility with Gym 0.26.0 and newer, I must change all `step()` and `reset()`, too.

The new form of `step()` is:
```python
observation, reward, terminated, truncated, info = env.step(action)
```

The new form of `reset()` is:
```python
observation, info = env.reset()
```

The `render` or `renders` argument in `__init__()` in all envs is changed to `render_mode`.

@erwincoumans Please can you do tests of the correctness?
",compatibility gym must change step reset new form step python observation reward truncated action new form reset python observation render argument please correctness,issue,positive,positive,positive,positive,positive,positive
1243709008,"For compatibility with Gym 0.26.0 is needed to change the:
`if id in registry.env_specs:`
To:
`if id in registry.keys():`

Thanks.",compatibility gym change id id thanks,issue,negative,positive,positive,positive,positive,positive
1243136724,"In some circumstances `triangle_normal_world` can have 0,0,0 values after `( v1 - v0).cross(v2 - v0)` and normalizing in the next line causes it to turn into NaNs. Maybe it's due to a somehow broken geometry I'm using but it might be part of the issue here.",next line turn maybe due somehow broken geometry might part issue,issue,negative,negative,negative,negative,negative,negative
1236045776,"The next line is:
`walkSpeed = walkVelocity * dt;`
replaced the line
`walkSpeed = walkVelocity / GameData.threadData.gameTimer.trueFPS;`
and moving the character, including rotations, became stable. But the question about using the btMotionState class or its analog for the btPairCachingGhostObject / btKinematicCharacterController object still stands.",next line line moving character stable question class object still,issue,negative,neutral,neutral,neutral,neutral,neutral
1235738018,"Thanks a lot for sharing the improvements and the test cases. Let's merge it. Also, your Lemke implementation seems to perform well! By default, we use an iterative constraint solver in Bullet, and for joints we typically use reduced coordinates (Featherstone articulated body algorithm), so the Lemke implementation hasn't received much attention.",thanks lot test let merge also implementation perform well default use iterative constraint solver bullet typically use reduced articulated body algorithm implementation received much attention,issue,positive,positive,neutral,neutral,positive,positive
1213264081,"Hello, guys! I know how to fix it, won't mind if I'll make a PR?",hello know fix wo mind make,issue,negative,neutral,neutral,neutral,neutral,neutral
1210071882,"> ![image](https://user-images.githubusercontent.com/37253663/183793520-c58e40c1-3afa-42ec-a2d2-48cb875459c6.png) Nope, still didn't work... what gives?

Its an exact copy of Dof6Spring2Setup.cpp (.h) I just renamed the function",image nope still work exact copy function,issue,negative,positive,positive,positive,positive,positive
1210062902,"![image](https://user-images.githubusercontent.com/37253663/183793520-c58e40c1-3afa-42ec-a2d2-48cb875459c6.png)
Nope, still didn't work... what gives?",image nope still work,issue,negative,neutral,neutral,neutral,neutral,neutral
1210050528,"![image](https://user-images.githubusercontent.com/37253663/183790379-3fe35772-54f9-496c-8324-f9fd7c5fc099.png)
hmm, for some reason it found function ""Dof6SpringQuatCreateFunc"" unresolved...",image reason found function unresolved,issue,negative,neutral,neutral,neutral,neutral,neutral
1207411565,"Hi @erwincoumans, 
Thanks for the answer. Unfortunately, adding a visualization robot to a different simulation will not work. 

I want to visualize the difference between the goal pose of the robot and a pre-collected trajectory (collected by a demonstration or a learned agent), by repeating the actions in the trajectory while keeping the goal fixed. Therefore I need the robot to visit the exact same states.

Do you think it will somehow be possible? Any alternative solution that visualizes the original trajectory alongside the goal would be great.

Thanks,
Tom",hi thanks answer unfortunately visualization robot different simulation work want visualize difference goal pose robot trajectory collected demonstration learned agent trajectory keeping goal fixed therefore need robot visit exact think somehow possible alternative solution original trajectory alongside goal would great thanks,issue,positive,positive,positive,positive,positive,positive
1205585038,"Some determinism issue (small differences) are expected, since the visual robot is still added to the simulation (even with collisions turned off). You can add the visual robot to a different simulation if needed?",determinism issue small since visual robot still added simulation even turned add visual robot different simulation,issue,negative,negative,neutral,neutral,negative,negative
1200737117,"yes. the graphical memory, ram and cpu were used.
![cpu](https://user-images.githubusercontent.com/55731265/182080298-f923c466-6df3-4d02-8bc2-bdc9d5e09cd7.jpg)
![gpu](https://user-images.githubusercontent.com/55731265/182080302-0ee53f35-9ea2-40d3-88d7-eb630125dbe8.jpg)
",yes graphical memory ram used,issue,negative,neutral,neutral,neutral,neutral,neutral
1196575059,"Bullet is very easy to be used for iOS!  ^_^
Closed!",bullet easy used closed,issue,negative,positive,positive,positive,positive,positive
1192203437,"> It's not the pole. It's the cart. The action space is torque (force) applied to the cart in either the right or left direction, one of which has a positive sign and the other negative. How much is the cart being pushed in one direction or the other? That's the scalar action.

Thanks!!! Your answer really helps me a lot!",pole cart action space torque force applied cart either right left direction one positive sign negative much cart one direction scalar action thanks answer really lot,issue,negative,positive,positive,positive,positive,positive
1192081928,"It's not the pole. It's the cart. The action space is force applied to the cart in either the right or left direction, one of which has a positive sign and the other negative. How much is the cart being pushed in one direction or the other? That's the scalar action.",pole cart action space force applied cart either right left direction one positive sign negative much cart one direction scalar action,issue,negative,positive,neutral,neutral,positive,positive
1192062575,"Hi, Same issue here. But BTW, do you know the meaning of action space in invertedPendulumBulletEnv-v0? I see the action space is 1-dimension, but I don't know if it means the pole's moving position or velocity? 
",hi issue know meaning action space see action space know pole moving position velocity,issue,negative,positive,neutral,neutral,positive,positive
1190995876,"Use cmake instead of premake (through the bat file).

cmake -G ""Visual Studio 16 2019"" -A x64 -DCMAKE_INSTALL_PREFIX:PATH=C:/<your_path_to_bullet_folder> -DINSTALL_LIBS=ON

cmake --build . --config Release --parallel 8 --target install",use instead premake bat file visual studio build release parallel target install,issue,negative,neutral,neutral,neutral,neutral,neutral
1189381343,'d' or any other key doesn't do anything unfortunately. Does this mean Bullet is not suitable for low gravity simulations?,key anything unfortunately mean bullet suitable low gravity,issue,negative,positive,neutral,neutral,positive,positive
1189127201,"> If you want to use MinGW you'd have to tweak the build system and consider providing a patch.

Related to this, you can find a few useful patches in `msys2`'s packages of bullet in https://github.com/msys2/MINGW-packages/tree/5a9088586678df1b90019a3e5f9dd1502d3d6c6a/mingw-w64-bullet .",want use tweak build system consider providing patch related find useful bullet,issue,negative,positive,positive,positive,positive,positive
1188963323,"> Are you actually using BulletInverseDynamics? You should be able to skip/ignore that library.

It seems like we don't indeed, I'll spend some more time reviewing what we do need and removing the components we don't.

But for our specific use case I already solved the coupling problem by defining `BT_USE_INVERSE_DYNAMICS_WITH_BULLET2`, I mostly opened that issue for discussion of potentially improving this upstream too if that's useful.",actually able library like indeed spend time need removing specific use case already coupling problem mostly issue discussion potentially improving upstream useful,issue,positive,positive,positive,positive,positive,positive
1188960809,This should have been fixed in recent trunk. Maybe vcpkg needs some update?,fixed recent trunk maybe need update,issue,negative,positive,neutral,neutral,positive,positive
1188960511,"Have you check resources, in particular memory usage?",check particular memory usage,issue,negative,positive,positive,positive,positive,positive
1188959480,"This is MinGW specific, we only support Visual Studio on Windows. If you want to use MinGW you'd have to tweak the build system and consider providing a patch.",specific support visual studio want use tweak build system consider providing patch,issue,negative,neutral,neutral,neutral,neutral,neutral
1188958052,"It could be object deactivation (sleeping), can you press 'd' key and see if that helps?",could object deactivation sleeping press key see,issue,negative,neutral,neutral,neutral,neutral,neutral
1180706300,"I think I found a workaround for this. It largely follows @erwincoumans's recommendation in [issue 1109](https://github.com/bulletphysics/bullet3/issues/1109) but it took some piecing together of different parts. I'll try to document them here:

__First:__ 
Generate the original `.stl` meshes (see my original post for instructions using procedural generation for gazebo)

__Second:__
Convert the `.stl` files to `.obj` using blender. Blender is a complex tool and I did not find a simple set of instructions to do this conversion. The script from [this stackoverflow thread](https://stackoverflow.com/a/38098605/4055705) seemed to give the right approach. In short, I download blender to `~/blender/blender-3.2.1-linux-x64` and then create a script called `blender_convert_stl_to_obj.py` which contains the following:

```python
import bpy
import sys

argv = sys.argv
argv = argv[argv.index(""--"") + 1:] # get all args after --

stl_in = argv[0]
obj_out = argv[1]

bpy.ops.import_mesh.stl(filepath=stl_in, axis_forward='-Z', axis_up='Y')
bpy.ops.export_scene.obj(filepath=obj_out, axis_forward='-Z', axis_up='Y')
```
I then call the conversion script with the mesh file `qUwYeQXbgT.stl` (this assumes the `blender_convert_stl_to_obj.py` is in the same directory as the `meshes/` folder that holds the `.stl` file and to which I output the `.obj` file

```bash
~/blender/blender-3.2.1-linux-x64/blender -b --python blender_convert_stl_to_obj.py -- meshes/qUwYeQXbgT.stl meshes/qUwYeQXbgT.obj
``` 

__Third:__

Create a collision and visual mesh of convert `.obj` file in PyBullet. This is based of tutorials such as [this one](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/createVisualShape.py), but I've boiled it down to this python script which is in the same directory as the blender conversion script

```python
import pybullet as p
import time

p.connect(p.GUI)
dt = p.getPhysicsEngineParameters()['fixedTimeStep']
mesh_file = ""meshes/qUwYeQXbgT.obj""

col_shape_id = p.createCollisionShape(
    shapeType=p.GEOM_MESH,
    fileName=mesh_file,
    flags=p.URDF_INITIALIZE_SAT_FEATURES
)

viz_shape_id = p.createVisualShape(
    shapeType=p.GEOM_MESH,
    fileName=mesh_file,
)

body_id = p.createMultiBody(
    baseMass = 1,
    baseCollisionShapeIndex=col_shape_id,
    baseVisualShapeIndex=viz_shape_id,
    basePosition=(0, 0, 0),
    baseOrientation=(0, 0, 0, 1),
)

while p.isConnected():
p.stepSimulation()
time.sleep(dt)
```

__Finally:__

I can see and interact with the procedurally generated obstacle space with pybullet's GUI (*note* this is a different mesh file that was displayed at the start of this thread, thus it looks different)

![Screenshot from 2022-07-11 10-01-04](https://user-images.githubusercontent.com/7907092/178328432-3370b136-8480-4796-8862-c4cc2197727a.png)

",think found largely recommendation issue took piecing together different try document generate original see original post procedural generation gazebo convert blender blender complex tool find simple set conversion script thread give right approach short blender create script following python import import get call conversion script mesh file directory folder file output file bash python create collision visual mesh convert file based one boiled python script directory blender conversion script python import import time see interact obstacle space note different mesh file displayed start thread thus different,issue,negative,positive,neutral,neutral,positive,positive
1176426345,Just a friendly bump on this issue. @erwincoumans would you happen to have any insight on why stl meshes could not be extracted?,friendly bump issue would happen insight could extracted,issue,negative,positive,positive,positive,positive,positive
1176153667,"Okay I see, but are you suggesting I use p.getNumBodies() to iterate over all bodies?
I ask because `p.getNumBodies()` reports 0 bodies in this case. Or are MultiBodies not counted when reporting rigid bodies? If yes, how do I retrieve the count of MultiBodies? I couldn't find any API call for that.
Thanks!
",see suggesting use iterate ask case rigid yes retrieve count could find call thanks,issue,positive,positive,positive,positive,positive,positive
1176149602,"I was able to hack something together by maintaining two copies of geometry objects. That is, if we have geometries {X,Y} on p1, {A,B} on p2, I maintain geometries {X,Y,A,B} on the GUI server and update their positions every frame. 
But happy to hear if there is a cleaner solution.
",able hack something together two geometry maintain server update every frame happy hear cleaner solution,issue,positive,positive,positive,positive,positive,positive
1175939017,"@zhangy76, the mocap file has only the time_stamp, root_link pos/orn and the joint angles. It is like a video playback. 

Deep mimic uses the joint angles at a specific time-stamp(""in phase, according to the paper"") to compare and learn from the simulation.

[`humanoid_stable_pd.py`](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/deep_mimic/env/humanoid_stable_pd.py) and [`humanoid_pose_interpolator.py`](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/deep_mimic/env/humanoid_pose_interpolator.py) use this playback and compute the difference in the joint angles to the compute a reward.

(1) In order to get the joint torques, both applied and experienced, you need to query them during the run-time of the policy. Forces can be computed only when there is contact, in the mocap data, there is no contact, even if there is some contact between the ground and the humanoid, it is forced. This might not give reliable results.",file joint like video playback deep mimic joint specific phase according paper compare learn simulation use playback compute difference joint compute reward order get joint torque applied experienced need query policy contact data contact even contact ground humanoid forced might give reliable,issue,negative,positive,positive,positive,positive,positive
1175916798,"Thanks, I build it with `./build_cmake_pybullet_double.sh` first then run cmake after that. Guess I should create build directory instead of using the `./build_cmake_pybullet_double.sh`",thanks build first run guess create build directory instead,issue,positive,positive,positive,positive,positive,positive
1175912161,"Thanks for the report, it is likely a bug indeed.",thanks report likely bug indeed,issue,negative,positive,neutral,neutral,positive,positive
1175911071,"There shouldn't be any examplesfull directory when using:

```
mkdir build
cd build
cmake ..
make -j
```",directory build build make,issue,negative,neutral,neutral,neutral,neutral,neutral
1175910688,"cmake should build the examples by default:
```
mkdir build
cd build
cmake ..
make -j
```",build default build build make,issue,negative,neutral,neutral,neutral,neutral,neutral
1169817118,"As well, if you try to hit from main thread - everything is OK.
From physics thread - random shaking.",well try hit main thread everything physic thread random shaking,issue,negative,negative,negative,negative,negative,negative
1165783603,"> I was having the same problem using `CFLAGS='-stdlib=libc++' pip install pybullet` worked for me.

Ran into this issue on macOS Monterey (OSX 12.3, still on Intel chip though) and this solution worked for me with also having to symlink to the 10.15 SDK.

xcrun to get path first. In my case, I'm using the CommandLineTools SDK instead of the Xcode application SDK. Then, create the symlink. Then, use the stdlib flags.

```
xcrun --sdk macosx --show-sdk-path
sudo ln -s /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk /Library/Developer/CommandLineTools/SDKs/MacOSX10.15.sdk
CFLAGS='-stdlib=libc++' pip install pybullet
```

",problem pip install worked ran issue still chip though solution worked also get path first case instead application create use pip install,issue,negative,positive,positive,positive,positive,positive
1161692243,"In the two comparisons `dist > contact_threshold` there may be `abs` needed on `dist`s and/or square roots(or normalization if this is about angles not distances?) on `proj_distPt` and `proj_distTr`.
",two may square normalization,issue,negative,neutral,neutral,neutral,neutral,neutral
1160779425,"can you do one for c api without cmake, i really have no idea how to do it, c api has only 1 example with premake and no docs really..",one without really idea example premake really,issue,negative,positive,positive,positive,positive,positive
1152715470,"For further context, I can try to load the wall meshes more directly from the `pcg_walls_test_walls/model.sdf` (see attached in original post) which fails but with a more informative set of warnings

```
In [3]: pb.loadSDF(""pcg_walls_test_walls/model.sdf"")
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: expected a world element, continuing without it.
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: No inertial data for link, using mass=1, localinertiadiagonal = 1,1,1, identity local inertial frame
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: mesh
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,846]:

b3Printf: pcg_walls_test_walls/: cannot extract mesh from '/home/ross/Projects/AIIA/risk_metric_maps/notebooks/teststl/meshes/pcg_walls_test_walls/meshes/qUwYeQXbgT.stl'

b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,1166]:

b3Printf: pcg_walls_test_walls/: cannot extract anything useful from mesh '/home/ross/Projects/AIIA/risk_metric_maps/notebooks/teststl/meshes/pcg_walls_test_walls/meshes/yDTLilNbdR.stl'

b3Printf: b3Warning[examples/SharedMemory/plugins/tinyRendererPlugin/TinyRendererVisualShapeConverter.cpp,558]:

b3Printf: issue extracting mesh from COLLADA/STL file /home/ross/Projects/AIIA/risk_metric_maps/notebooks/teststl/meshes/pcg_walls_test_walls/meshes/yDTLilNbdR.stl

Out[3]: (0,)
```",context try load wall directly see attached original post informative set world element without inertial data link identity local inertial frame mesh extract mesh extract anything useful mesh issue mesh file,issue,positive,positive,positive,positive,positive,positive
1146923458,"I was recently looking into this and I have some questions related to porting. I was mainly interested in unifying SIMD optimizations and cleaning library's code a bit, because it has a lot of arch-specific SIMD ifdefs. Eigen definitely looks like a proper choice for optimizing LinearMath code; my main argument is backend support (a lot of archs), which should make bullet even faster. However:

- According to this: https://gitlab.com/libeigen/eigen/-/issues/2447, they're gonna switch to C++14 in the future (can be within few stable releases), and I've seen around the repo you've been trying to minimize this feature bump;
- They also appear to use STL for some things, which you've been against here (in the contribution guide);
- My main question is testing: imagine I hooked all relevant `LinearMath` code to Eigen, how can I run unittests to verify it's working correctly? Right now build fails with the following error:
```
$ mkdir build && cd build && cmake .. -DBUILD_BULLET2_DEMOS=OFF && make
...
Consolidate compiler generated dependencies of target Test_BulletInverseDynamicsJacobian
[ 83%] Built target Test_BulletInverseDynamicsJacobian
Consolidate compiler generated dependencies of target Test_BulletInverseForwardDynamics
[ 87%] Built target Test_BulletInverseForwardDynamics
Consolidate compiler generated dependencies of target Test_BulletInverseDynamics
[ 87%] Built target Test_BulletInverseDynamics
Consolidate compiler generated dependencies of target Test_PhysicsClientServer
[ 88%] Linking CXX executable Test_PhysicsClientServer
ld: library not found for -lBussIK
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [test/SharedMemory/Test_PhysicsClientServer] Error 1
make[1]: *** [test/SharedMemory/CMakeFiles/Test_PhysicsClientServer.dir/all] Error 2
make: *** [all] Error 2
```

Thank you!",recently looking related mainly interested cleaning library code bit lot definitely like proper choice code main argument support lot make bullet even faster however according gon na switch future within stable seen around trying minimize feature bump also appear use contribution guide main question testing imagine hooked relevant code run verify working correctly right build following error build build make consolidate compiler target built target consolidate compiler target built target consolidate compiler target built target consolidate compiler target linking executable library found clang error linker command exit code use see invocation make error make error make error thank,issue,negative,positive,positive,positive,positive,positive
1145098815,"Think build_cmake_pybullet_double.sh is not good enough
Following standard way of cmake did the trick(using parameters)

mkdir build
cd build
cmake .. -DBUILD_SHARED_LIBS=OFF -> optional but helped for me, can add other parameters as well
make

Note: tweaking build_cmake_pybullet_double.sh by adding  -DBUILD_SHARED_LIBS=OFF doesn't seem to work, It seems to ignore these parameters for no reason.
Clear cmake cache, if any changes are made to library paths.",think good enough following standard way trick build build optional add well make note seem work ignore reason clear cache made library,issue,positive,positive,positive,positive,positive,positive
1144115548,"> you can try passing flags=1, see also https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pdControllerStable.py#L83 used by https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py

What does flags=1 do?",try passing see also used,issue,negative,neutral,neutral,neutral,neutral,neutral
1133925492,It's a first pack of fixes. I will push more fixes in additional merge request.,first pack push additional merge request,issue,negative,positive,positive,positive,positive,positive
1133236639,"The number of triangles is likely too high, please simplify the visual (and possibly collision) meshes.",number likely high please simplify visual possibly collision,issue,negative,positive,neutral,neutral,positive,positive
1133233208,A small C++ example would be great! You could modify one of the existing Bullet examples (in the ExampleBrowser?),small example would great could modify one bullet,issue,positive,positive,positive,positive,positive,positive
1128638949,@erwincoumans Although we can shift the collision and visual geometry to make the rigid body center of mass frame aligned with the principle axis of inertia and the center of mass. i still hope to provide more options.,although shift collision visual geometry make rigid body center mass frame principle axis inertia center mass still hope provide,issue,negative,negative,neutral,neutral,negative,negative
1128636521,"Well, looking at bullet's debug draw, it seems like not all collisions are registered. Th
e simplest mesh to reproduce this behavior can be found in the zip file. I guess I do something wonky when loading the mesh as I call addTriangle (from the btTriangleMesh class) and generate a mesh this way.
Another video demonstrating the problem with a plane trimesh and a cube: https://youtu.be/eoaDEF4w32Q
The file: [plane.glb.zip](https://github.com/bulletphysics/bullet3/files/8706969/plane.glb.zip)

If you want me to I can probably write an C/C++ example with the same behavior when I have some spare time
",well looking bullet draw like registered th mesh reproduce behavior found zip file guess something wonky loading mesh call class generate mesh way another video problem plane cube file want probably write example behavior spare time,issue,negative,negative,negative,negative,negative,negative
1128366160,"Thanks for tracking this down! Apparently the early out causes issues. Do you have some reproduction case? Some triangle mesh and the collision objects / ray tests against it?

Let's revert the logic and disable this early-out by default.",thanks apparently early reproduction case triangle mesh collision ray let revert logic disable default,issue,negative,positive,positive,positive,positive,positive
1128365224,"It is not, since the rigid body center of mass frame is aligned with the principle axis of inertia and the center of mass. You can shift the collision and visual geometry the opposite way. This is done in PyBullet and the URDF importer.",since rigid body center mass frame principle axis inertia center mass shift collision visual geometry opposite way done importer,issue,negative,negative,neutral,neutral,negative,negative
1126653369,"I have tried using different computers, including laptop with CPU or a PC with GPU, but when I import multiple URDFs, only top 7 or 8 or 9 of them can be shown, the rest of them are just ignored.",tried different import multiple top shown rest,issue,negative,positive,positive,positive,positive,positive
1126652769,"![image](https://user-images.githubusercontent.com/44229958/168413453-a080bc09-1e7c-43a3-baad-fe9deb8a55c3.png)
For example, each robot is located under each green line, but only a few of them can be shown, anyone know the reason?",image example robot green line shown anyone know reason,issue,negative,negative,negative,negative,negative,negative
1123879972,"Hi @erwincoumans, I did use python's `input` function, since during the middle of the program run, I'd need to pause and let the user make a choice by inputting a key. I didn't add any other events through pybullet.",hi use python input function since middle program run need pause let user make choice key add,issue,negative,neutral,neutral,neutral,neutral,neutral
1123196611,"You can keep it open, we should disable compiling the stable pd control plugin by default, and make it optional through a CMake flag, that also enables C++11 again optionally.",keep open disable stable control default make optional flag also optionally,issue,negative,neutral,neutral,neutral,neutral,neutral
1123195379,"pybullet doesn't require cmake, you can use pip install pybullet.",require use pip install,issue,negative,neutral,neutral,neutral,neutral,neutral
1123194520,"Are the files in the current working directory? We can't support C++ use, you'll have to figure this out yourself or use Python.",current working directory ca support use figure use python,issue,negative,neutral,neutral,neutral,neutral,neutral
1123193922,"It seems some GUI events are overflowing. Are some Keyboard, Mouse or VR controller events added?",overflowing keyboard mouse controller added,issue,negative,neutral,neutral,neutral,neutral,neutral
1115546061,"> 

I second that.
If at some point, the maintainers of this repo are willing to open a new Wiki (why not on this Github repo?), I will be interested to join the effort of migrating the old wiki to the new one.",second point willing open new interested join effort old new one,issue,positive,positive,positive,positive,positive,positive
1114420456,"@erwincoumans Should I close this issue? If so, where could I get help with those other build errors? Maybe the forums?",close issue could get help build maybe,issue,negative,neutral,neutral,neutral,neutral,neutral
1111437008,"`In bullet linkIndex == jointIndex`

But a robot can have more links than the joint, right? For example: l1---j1---l2. This robot has two links connected by a joint. The reason I ask this question is if I want to do calculateInverseKinematics for l2, pybullet raises index out of range error.",bullet robot link joint right example robot two link connected joint reason ask question want index range error,issue,negative,positive,positive,positive,positive,positive
1110183403,"Update: I've tried building with 3.24, now the override errors are gone and the remaining errors are more consistent. i686 consistently whines about ""invalid use of incomplete type"" somewhere in the Stable PD plugin (required by the Eigen 3rd-party lib), and PowerPC complains about ""invalid parameter combination for AltiVec intrinsic"" as shown above. Idk if either of those are related to C++ 11 though.",update tried building override gone consistent consistently invalid use incomplete type somewhere stable invalid parameter combination intrinsic shown either related though,issue,negative,positive,positive,positive,positive,positive
1109616729,"Additionally, the replaced heightfield doesn't used neither the original nor the new textureScaling.
It can be solved by inserting following code to line 5026:
```c
double textureScaling = clientCmd.m_createUserShapeArgs.m_shapes[i].m_heightfieldTextureScaling;
col.m_textureScaling = textureScaling;
```

https://github.com/bulletphysics/bullet3/blob/7dee3436e747958e7088dfdcea0e4ae031ce619e/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L5023-L5027
Thx!",additionally used neither original new following code line double,issue,negative,positive,positive,positive,positive,positive
1109095698,"Awesome, thanks for working on this! Yes, I am using cmake to build, but the only references I could find to STATIC_LINK_SPD_PLUGIN were in lua files: https://github.com/bulletphysics/bullet3/search?q=STATIC_LINK_SPD_PLUGIN

It also refers to an enable_stable_pd flag: https://github.com/bulletphysics/bullet3/search?q=enable_stable_pd

Searching instead for ""stable"" yields https://github.com/bulletphysics/bullet3/search?q=stable

I notice that the CMakeLists.txt for BulletRobotics refers to the source files for the plugin, but doesn't seem to pay attention to any STATIC_LINK_SPD_PLUGIN flag.

The short answer to your question is no, I don't know where STATIC_LINK_SPD_PLUGIN is defined. But I also don't know lua.

Sorry I can't give you more than that. :frowning_face: ",awesome thanks working yes build could find also flag searching instead stable notice source seem pay attention flag short answer question know defined also know sorry ca give,issue,positive,positive,positive,positive,positive,positive
1108138519,Urho3D project test Bullet with many compilers. You can see the changes here <https://github.com/urho3d/Urho3D/tree/master/Source/ThirdParty/Bullet> Changes marked Urho3D,project test bullet many see marked,issue,negative,positive,positive,positive,positive,positive
1107951120,"A minor note: to improve file loading in PyBullet, disable rendering before, and re-enable rendering after loading:
```
p.connect(p.GUI)
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,0)

root_dir = ""YCB_Video_Models""
for i, model_dir in enumerate(os.listdir(root_dir)[:10]):
    model_dir = osp.join(root_dir, model_dir)
    obj_file = osp.join(model_dir, ""textured_simple.obj"")
    mesh = trimesh.load_mesh(obj_file)
    mesh.apply_translation([i * 0.2 - 1, 0, 0])
    points = mesh.vertices
    colors = mesh.visual.to_color().vertex_colors
    p.addUserDebugPoints(points[:5000], colors[:5000, :3] / 255)

p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,1)
```",minor note improve file loading disable rendering rendering loading enumerate mesh color color,issue,negative,negative,neutral,neutral,negative,negative
1107937389,"Are you using CMake to build? Do you know where STATIC_LINK_SPD_PLUGIN is defined? It shouldn't be enabled by default, since that uses C++11. We could conditionally enable C++11 only iff STATIC_LINK_SPD_PLUGIN is enabled.",build know defined default since could conditionally enable,issue,negative,neutral,neutral,neutral,neutral,neutral
1107936911,"override will be removed here: https://github.com/bulletphysics/bullet3/pull/4251
Need to check how to disable the stablePDPlugin by default in cmake.",override removed need check disable default,issue,negative,neutral,neutral,neutral,neutral,neutral
1107936295,"The mouse picking forces are very large, causing the constraint to be violated. You can make the rope root body fixed?
Other options are decreasing the time step, increasing the number of solver iterations, or decreasing the mouse picking strength. See the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3).

You can also try changing the constraint solver to 'Dantzig LCP' but you may run into limitations, and it is not supported.
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/switchConstraintSolver.py
",mouse large causing constraint make rope root body fixed decreasing time step increasing number solver decreasing mouse strength see guide also try constraint solver may run,issue,positive,positive,positive,positive,positive,positive
1107935721,"We only tested it for Visual Studio/_WIN32, it may work with other compilers. Please try it.",tested visual may work please try,issue,negative,neutral,neutral,neutral,neutral,neutral
1107661643,"Thanks. I think stablePDPlugin build is optional, perhaps it can be disabled? I'll look into fixing the other things.",thanks think build optional perhaps disabled look fixing,issue,negative,neutral,neutral,neutral,neutral,neutral
1105827929,"Ok so I took a trip back over to the build system via https://github.com/JuliaPackaging/Yggdrasil/pull/4804, where the changes involved removing ""-DCMAKE_CXX_STANDARD=""11"""" and ""-DBUILD_EXTRAS=OFF"", and there are two errors that show up on i686 and PowerPC, it appears to be a crapshoot which shows up where:

[22:12:21] In file included from /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/Core:251:0,

[22:12:21]                  from /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/Dense:1,

[22:12:21]                  from /workspace/srcdir/bullet3-3.22b/examples/SharedMemory/plugins/stablePDPlugin/MathUtil.h:4,

[22:12:21]                  from /workspace/srcdir/bullet3-3.22b/examples/SharedMemory/plugins/stablePDPlugin/MathUtil.cpp:1:

[22:12:21] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/Default/GenericPacketMathFunctions.h: In instantiation of ‘Packet Eigen::internal::pfrexp_generic(const Packet&, Packet&) [with Packet = __vector(2) double]’:

[22:12:21] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/SSE/PacketMath.h:919:36:   required from here

[22:12:21] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/Default/GenericPacketMathFunctions.h:42:77: error: invalid use of incomplete type ‘struct Eigen::internal::make_unsigned<long long int>’

[22:12:21]    typedef typename make_unsigned<typename make_integer<Scalar>::type>::type ScalarUI;

[22:12:21]                                                                              ^

[22:12:21] In file included from /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/Core:163:0,

[22:12:21]                  from /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/Dense:1,

[22:12:21]                  from /workspace/srcdir/bullet3-3.22b/examples/SharedMemory/plugins/stablePDPlugin/MathUtil.h:4,

[22:12:21]                  from /workspace/srcdir/bullet3-3.22b/examples/SharedMemory/plugins/stablePDPlugin/MathUtil.cpp:1:

[22:12:21] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/util/Meta.h:182:27: note: declaration of ‘struct Eigen::internal::make_unsigned<long long int>’
[22:12:21]  template<typename> struct make_unsigned;

[22:12:21]                            ^


and then there's:

[22:12:05] /workspace/srcdir/bullet3-3.22b/examples/SharedMemory/PhysicsServerExample.cpp:658:26: warning: override controls (override/final) only available with -std=c++11 or -std=gnu++11

[22:12:05]   virtual void clearLines() override

[22:12:05]                           ^

It builds successfully on all other platforms, including Mac, Windows, FreeBSD, Linux x86 and Linux Arm. GCC version is 5.2. Adding the C++11 flag back in fixes the build on i686 and changes the error on PowerPC to:

[22:33:42] In file included from /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/Core:211:0,

[22:33:42]                  from /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/Dense:1,

[22:33:42]                  from /workspace/srcdir/bullet3-3.22b/examples/SharedMemory/plugins/stablePDPlugin/MathUtil.h:4,

[22:33:42]                  from /workspace/srcdir/bullet3-3.22b/examples/SharedMemory/plugins/stablePDPlugin/SpAlg.h:3,

[22:33:46]    quad = vec_mul(pair, vec_sld(pair, pair, 4));

[22:33:46]                                               ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1564:46: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    octo = vec_mul(quad, vec_sld(quad, quad, 2));

[22:33:46]                                               ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h: In function ‘typename Eigen::internal::unpacket_traits<T>::type Eigen::internal::predux_mul(const Packet&) [with Packet = __vector(16) signed char; typename Eigen::internal::unpacket_traits<T>::type = signed char]’:

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1582:37: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    pair = vec_mul(a, vec_sld(a, a, 8));

[22:33:46]                                      ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1583:46: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    quad = vec_mul(pair, vec_sld(pair, pair, 4));

[22:33:46]                                               ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1584:46: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    octo = vec_mul(quad, vec_sld(quad, quad, 2));

[22:33:46]                                               ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1585:48: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    result = vec_mul(octo, vec_sld(octo, octo, 1));

[22:33:46]                                                 ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h: In function ‘typename Eigen::internal::unpacket_traits<T>::type Eigen::internal::predux_mul(const Packet&) [with Packet = __vector(16) unsigned char; typename Eigen::internal::unpacket_traits<T>::type = unsigned char]’:

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1594:37: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    pair = vec_mul(a, vec_sld(a, a, 8));

[22:33:46]                                      ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1595:46: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    quad = vec_mul(pair, vec_sld(pair, pair, 4));

[22:33:46]                                               ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1596:46: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    octo = vec_mul(quad, vec_sld(quad, quad, 2));

[22:33:46]                                               ^

[22:33:46] /workspace/srcdir/bullet3-3.22b/examples/ThirdPartyLibs/Eigen/src/Core/arch/AltiVec/PacketMath.h:1597:48: error: invalid parameter combination for AltiVec intrinsic

[22:33:46]    result = vec_mul(octo, vec_sld(octo, octo, 1));

[22:33:46]                                                 ^

Let me know if there's anything else I can do.",took trip back build system via involved removing two show file included packet packet packet packet double error invalid use incomplete type long long scalar file included note declaration long long template warning override available virtual void override successfully mac arm version flag back build error file included quad pair pair pair error invalid parameter combination intrinsic quad quad quad function packet packet char char error invalid parameter combination intrinsic pair error invalid parameter combination intrinsic quad pair pair pair error invalid parameter combination intrinsic quad quad quad error invalid parameter combination intrinsic result function packet packet unsigned char unsigned char error invalid parameter combination intrinsic pair error invalid parameter combination intrinsic quad pair pair pair error invalid parameter combination intrinsic quad quad quad error invalid parameter combination intrinsic result let know anything else,issue,negative,positive,positive,positive,positive,positive
1105771458,"> The nullptr shouldn't be used in Bullet, and needs to be removed.

Several of the examples use it: https://github.com/bulletphysics/bullet3/search?q=nullptr

> Thanks for the PR. What file(s) require C++11?

I'll be right back with potential other examples, isolating broken cases take a bit with build systems. :upside_down_face: Having to re-run things.",used bullet need removed several use thanks file require right back potential isolating broken take bit build,issue,negative,positive,neutral,neutral,positive,positive
1105753936,">> Funny thing is, without that flag it complains about nullptr

The nullptr shouldn't be used in Bullet, and needs to be removed.",funny thing without flag used bullet need removed,issue,negative,positive,positive,positive,positive,positive
1102384753,"Hi, i want to do the same as yours? have you ever train a minitaur in pybullet with PPO?",hi want ever train,issue,negative,neutral,neutral,neutral,neutral,neutral
1101991815,"Thanks for the report. Yes, this API is supposed to mimic PyBullet in C++. I don't recall why not adding it to the CMakeListst file, perhaps some undesired dependency. Let's add it for now, and deal with it if needed.",thanks report yes supposed mimic recall file perhaps undesired dependency let add deal,issue,positive,positive,positive,positive,positive,positive
1101969388,"It hasn't been implemented, and likely won't be anytime soon (unless there is a contribution).",likely wo soon unless contribution,issue,negative,neutral,neutral,neutral,neutral,neutral
1101968137,"Indeed, the urdfEditor is very limited and doesn't support all features. There isn't going to be development in this area, so closing for now. If someone has a contribution, please file a pull request.",indeed limited support going development area someone contribution please file pull request,issue,negative,negative,neutral,neutral,negative,negative
1100375846,"There is a regression in line drawing. Not clear if this is related to this PR, but if so, we may have to revert it until fixed:

![image](https://user-images.githubusercontent.com/725468/163628472-36bf2b83-af20-49d9-8a29-567d3e9c3d39.png)

I will check if reverting this PR fixes it.",regression line drawing clear related may revert fixed image check,issue,negative,positive,neutral,neutral,positive,positive
1100087854,"> Thank you so much for your response, i have done the pip install. Could you please give detailed step by step procedure for running NAO.Thanks

@OlalekanIsola  @erwincoumans can u please provide the nao robot pybullet files. I am not able to find them on the internet, the files I found are showing errors like ""cannot load urdf file"".",thank much response done pip install could please give detailed step step procedure running please provide robot able find found showing like load file,issue,positive,positive,positive,positive,positive,positive
1099249399,"@Flacedoo Glad to hear someone else faced the same issue. Thanks for narrowing it down. When I faced this issue, I always had my laptop connected to an external display. It's very possible that the external display contributed to the freezing issue. For anyone else who might face this issue in the future, I was also using an AMD processor and graphics chip. 

My laptop with an Intel processor does not have this issue!",glad hear someone else faced issue thanks faced issue always connected external display possible external display freezing issue anyone else might face issue future also processor graphic chip processor issue,issue,positive,positive,neutral,neutral,positive,positive
1098788691,"I actually just experienced the exact same behaviour when switching to another MacBook, this time a 2019 pro 16inch. Newest macOS installed (12.3.1), freshly installed pybullet. When launching the gui, the window freezes, as soon as I resize it it works without any problem. But I narrowed it down a bit on my side: this only happens when my display link dock is connected? As soon as I unplug it everything works directly. When plugged in, the window freezes. When moving the window to one of the external screens, even resizing doesn’t work and the window is frozen at all times. Moving it back to the internal screen makes it work again? 

Hint: I also have the exact same setup with another MacBook working, without any problems. Could this also be related to the graphics chip from AMD which is only installed in the MacBook with problems?

edit: is there a possibility to force pybullet to use the Intel renderer instead of the AMD one? Could this be the issue combined with displaylink?",actually experienced exact behaviour switching another time pro inch freshly window soon resize work without problem bit side display link dock connected soon unplug everything work directly plugged window moving window one external even work window frozen time moving back internal screen work hint also exact setup another working without could also related graphic chip edit possibility force use renderer instead one could issue combined,issue,negative,positive,positive,positive,positive,positive
1098689795,"Thanks for the report, I overlooked that indeed. Need to see how this can be fixed better (copy/paste of code will become a problem sooner or later).",thanks report indeed need see fixed better code become problem sooner later,issue,negative,positive,positive,positive,positive,positive
1098688795,"Wow, that is well spotted! Thanks for the fix and report.",wow well spotted thanks fix report,issue,positive,positive,positive,positive,positive,positive
1098687617,"The documentation for createVisualShape mentions length, not height for GEOM_CYLINDER
See page 14 of https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3

<img width=""766"" alt=""image"" src=""https://user-images.githubusercontent.com/725468/163311604-f9d9b5a5-7fa8-4f0a-94fa-9ce453163e38.png"">

Yes, it is an annoying inconsistency in the implementation, but we want to maintain backward compatibility and not breaking everyones code. So we just have to mention it in the documentation.

If above doesn't answer the question, where in the documentation does it suggest using height for pybullet.createVisualShape?",documentation length height see page image yes annoying inconsistency implementation want maintain backward compatibility breaking code mention documentation answer question documentation suggest height,issue,negative,negative,negative,negative,negative,negative
1098684791,"It was reverted since the new cmake broke various things (don't remember what exactly). I agree the build system and the code base should be improved, but we lack resources to work on this and rather keep it as-is.",since new broke various remember exactly agree build system code base lack work rather keep,issue,negative,negative,negative,negative,negative,negative
1098683505,"You can try modifying the constants in https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/SharedMemoryPublic.h and recompile PyBullet.  By the way, PyBullet doesn't use the GPU, it is just a CPU multithreaded implementation.

",try recompile way use multithreaded implementation,issue,negative,neutral,neutral,neutral,neutral,neutral
1098682555,"It requires some profiling to see where performance goes, which is beyond the scope of support. You may want to use 'DIRECT' mode instead of 'GUI' mode to see if that helps. In GUI mode, you can briefly press 'p' and release, and it will generate a performance profile json file. You can compile Bullet using C++ with cmake, and then run the App_HelloBulletRobotics. Again, in order to use and optimize this, you need to be prolific in C++ and low-level optimizations.",see performance go beyond scope support may want use mode instead mode see mode briefly press release generate performance profile file compile bullet run order use optimize need prolific,issue,positive,neutral,neutral,neutral,neutral,neutral
1098680513,"POSITION_CONTROL uses the constraint solver (MLCP) to compute the forces/torques, so it has a full (white-box) model of the dynamics. It is implemented here: https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Featherstone/btMultiBodyConstraintSolver.cpp

More background on motors and constraint solver are in attached PhD thesis by Jakub Stępień:
[jstepien-pba.pdf.zip](https://github.com/bulletphysics/bullet3/files/8486080/jstepien-pba.pdf.zip)
",constraint solver compute full model dynamic background constraint solver attached thesis,issue,negative,positive,positive,positive,positive,positive
1098679135,"This is expected, since the inertial frame includes rotation. PyBullet requires the inertial frame to be aligned with the body, so it adds a rotation to compensate.",since inertial frame rotation inertial frame body rotation compensate,issue,negative,neutral,neutral,neutral,neutral,neutral
1098678156,"This is usually to to invalid input or divergence in control and/or simulation. Without a reproduction case we close such issues, since it is impossible to fix. Please re-open with a new reproduction case attached (zip files work).",usually invalid input divergence control simulation without reproduction case close since impossible fix please new reproduction case attached zip work,issue,negative,negative,negative,negative,negative,negative
1094638870,"Ok thanks I see now ! 
I checked your video, indeed he places a texture on the cube in blender but it does not show how to export the picture afterwards and I tried some things but it did not work :/ ",thanks see checked video indeed texture cube blender show export picture afterwards tried work,issue,negative,positive,positive,positive,positive,positive
1091876325,"This issue is four years old but it shows up on Google.
Here's simple vectorized code for getting point clouds in world coordinates:

```
import numpy as np
import pybullet as pb


def get_point_cloud(width, height, view_matrix, proj_matrix):
    # based on https://stackoverflow.com/questions/59128880/getting-world-coordinates-from-opengl-depth-buffer

    # get a depth image
    # ""infinite"" depths will have a value close to 1
    image_arr = pb.getCameraImage(width=width, height=height, viewMatrix=view_matrix, projectionMatrix=proj_matrix)
    depth = image_arr[3]

    # create a 4x4 transform matrix that goes from pixel coordinates (and depth values) to world coordinates
    proj_matrix = np.asarray(proj_matrix).reshape([4, 4], order=""F"")
    view_matrix = np.asarray(view_matrix).reshape([4, 4], order=""F"")
    tran_pix_world = np.linalg.inv(np.matmul(proj_matrix, view_matrix))

    # create a grid with pixel coordinates and depth values
    y, x = np.mgrid[-1:1:2 / height, -1:1:2 / width]
    y *= -1.
    x, y, z = x.reshape(-1), y.reshape(-1), depth.reshape(-1)
    h = np.ones_like(z)

    pixels = np.stack([x, y, z, h], axis=1)
    # filter out ""infinite"" depths
    pixels = pixels[z < 0.99]
    pixels[:, 2] = 2 * pixels[:, 2] - 1

    # turn pixels to world coordinates
    points = np.matmul(tran_pix_world, pixels.T).T
    points /= points[:, 3: 4]
    points = points[:, :3]

    return points
```",issue four old simple code getting point world import import width height based get depth image infinite value close depth create transform matrix go depth world create grid depth height width filter infinite turn world return,issue,positive,positive,neutral,neutral,positive,positive
1083546624,"@louisdehaybe 
I think you misunderstood my answer.
As I mentioned, you need to first create your own png texture file that is suitable for your object,  The png file I provided is suitable for my object only so you cannot use that png to load for your cube (here is the [picture](https://drive.google.com/file/d/1OvuR2VPOfTByiye0RbYLDSCryLURIPZH/view?usp=sharing) of my object, that's why I have the corresponding png texture file). I also mentioned the youtube tutorial on how to create that kind of png file in my previous comment.

So in general, my suggestion is you load your urdf cube into the blender app and follow the youtube link that I mentioned to create a png texture file.",think misunderstood answer need first create texture file suitable object file provided suitable object use load cube picture object corresponding texture file also tutorial create kind file previous comment general suggestion load cube blender follow link create texture file,issue,positive,positive,positive,positive,positive,positive
1083095645,"In the last month I have changed the friction values to positive values. But I still have a problem with the understanding of the timestep. In fact, if I use 0.001 or below, the robot starts to move abruptly without reaching the point desired.",last month friction positive still problem understanding fact use robot move abruptly without reaching point desired,issue,negative,positive,neutral,neutral,positive,positive
1082610626,"We should add some batch query for this indeed, it hasn't been added. One option is writing the code in a C or C++ PyBullet plugin. Otherwise, you may want to try out [NVIDIA Isaac Gym](https://developer.nvidia.com/isaac-gym) or [Brax](https://github.com/google/brax), both support batch simulation. If/when this gets added, we can re-open/reply to this issue.",add batch query indeed added one option writing code otherwise may want try gym support batch simulation added issue,issue,negative,neutral,neutral,neutral,neutral,neutral
1082610231,"Most environments probably require Python 3.x, but you should be able to use PyBullet using your own code with Python 2.7",probably require python able use code python,issue,negative,positive,positive,positive,positive,positive
1082600254,"Don't set friction to negative values. Also, the default timestep of 240Hz should be able to simulate an arm, and we often use 240Hz or 1000Hz. Using 10k Hz seems excessive, so the setup has some issue.
",set friction negative also default able simulate arm often use excessive setup issue,issue,negative,negative,neutral,neutral,negative,negative
1082598824,"It could be that the VR sdk is heavily out-of-date, are you using compatible versions? I haven't used VR in a few years, may find some time in a rainy weekend (note, I live in California though)",could heavily compatible used may find time rainy weekend note live though,issue,negative,negative,neutral,neutral,negative,negative
1082241543,"Thanks a lot for your quick answer. 
However, I get the same problem when I try with the texture you sent.  The whole picture appears on every face of the cube, instead of having each face covered with one colour. 

See below: 

![PICTURE](https://user-images.githubusercontent.com/70482637/160681592-ca278158-dd8c-4e81-a9f2-2658618e64ba.JPG)

Is this also what you get ? My goal is to have each face of the cube with one color. 

Cheers 
Louis",thanks lot quick answer however get problem try texture sent whole picture every face cube instead face covered one colour see picture also get goal face cube one color,issue,negative,positive,positive,positive,positive,positive
1082151656,"@louisdehaybe 
Here is the [png file](https://drive.google.com/file/d/1rY-T7Nnu3rVUOyXSNXKWrDchuitGxuat/view?usp=sharing) I used to load the texture on my object. 
Actually, my colleague helps me with that, I think this is [one](https://www.youtube.com/watch?v=r5YNJghc81U) of her references

About the loading code, here is my code on creating an object instance in pybullet, actually when you have the right png file for the object, you can load the texture with its path and then apply changeVisualShape. Hope this helps:
```
import pybullet_data
import os


class StepStone:
    def __init__(self,
                 physics_client,
                 basePosition,
                 baseRPY,
                 useFixedBase=True,
                 globalScaling=1.0,
                 rgbaColor=None,
                 texture_path=None):
        self._p = physics_client
        self._p.setAdditionalSearchPath(pybullet_data.getDataPath())
        urdf = os.getcwd() + 'bureau/assets/step_stone/step_stone.urdf'
        self.id = self._p.loadURDF(urdf,
                                   basePosition=basePosition,
                                   baseOrientation=self._p.getQuaternionFromEuler(baseRPY),
                                   useMaximalCoordinates=0,
                                   useFixedBase=useFixedBase,
                                   flags=0,
                                   globalScaling=globalScaling,
                                   physicsClientId=0)
        if texture_path:
            texture = self._p.loadTexture(texture_path)
            self._p.changeVisualShape(self.id, -1, textureUniqueId=texture)
        if rgbaColor:
            self._p.changeVisualShape(self.id, -1, rgbaColor=rgbaColor)
```",file used load texture object actually colleague think one loading code code object instance actually right file object load texture path apply hope import import o class stepstone self texture,issue,negative,positive,positive,positive,positive,positive
1082008609,"Hey, please could you show the file you used ? And also how you loaded it in pybullet ? 
I have tried with some textures on internet but it basically replicates the whole png on each face of the cube instead of using each subset of the texture for each face..

Thanks ! ",hey please could show file used also loaded tried basically whole face cube instead subset texture face thanks,issue,positive,positive,positive,positive,positive,positive
1080794535,"Yes, pretty much. In your example, there should be 4 contact points, one at each vertex of the dashed rectangle. 
The [btPersistentManifold::addManifoldPoint](https://github.com/bulletphysics/bullet3/blob/22d9eec148d3a7dec9d7b10a4344808bf766f73a/src/BulletCollision/NarrowPhaseCollision/btPersistentManifold.cpp#L212) function will select which point to replace if the maximum count has been reached. `btPersistentManifold::sortCachedPoints` implements that logic using the `calcArea4Points` function to make the best choice..",yes pretty much example contact one vertex dashed rectangle function select point replace maximum count logic function make best choice,issue,positive,positive,positive,positive,positive,positive
1080786898,"Just to confirm, is the contact polygon the intersection surface between the two rigid bodies, as shown in the figure below? Do you mind sharing a reference to the code/algorithm that you talked about? Many thanks!

![Image from iOS (12)](https://user-images.githubusercontent.com/15113241/160430943-fcab1ca4-7fa4-4437-9596-c28ccff1bdd8.jpg)

",confirm contact polygon intersection surface two rigid shown figure mind reference many thanks image,issue,negative,positive,positive,positive,positive,positive
1080739267,"There's a limit of four contact points, which define a contact polygon. As part of collision detection, there is an algorithm which chooses which points to keep as to maximize the area of the contact polygon.",limit four contact define contact polygon part collision detection algorithm keep maximize area contact polygon,issue,negative,neutral,neutral,neutral,neutral,neutral
1079602790,"tested with pybullet 3.22 (pip install pybullet) and it works:
![Screenshot from 2022-03-25 21-45-29](https://user-images.githubusercontent.com/725468/160225054-66495577-161c-4cd7-b6d6-58043890045f.png)

",tested pip install work,issue,negative,neutral,neutral,neutral,neutral,neutral
1072610135,Hi @asit2898 I'm running into the exact same issue. Have you fixed this by any chance?,hi running exact issue fixed chance,issue,negative,positive,positive,positive,positive,positive
1070518260,"Thank you for your reply.
I'll close this issue now.",thank reply close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
1070390751,"> You didn't call createMultiBody a second time in your code.

Why should I call createMultiBody again? I want to replace current height field instead of creating another height field.",call second time code call want replace current height field instead another height field,issue,negative,neutral,neutral,neutral,neutral,neutral
1069410646,"Actually, I see that it was added few years ago in https://github.com/bulletphysics/bullet3/pull/1303 then reverted in https://github.com/bulletphysics/bullet3/pull/1306 :(",actually see added ago,issue,negative,neutral,neutral,neutral,neutral,neutral
1069111130,"Thanks for reporting, it is likely a copy / paste bug in the data.",thanks likely copy paste bug data,issue,negative,positive,neutral,neutral,positive,positive
1069109130,"Thanks, well spotted, please create a PR. We mostly use multibody for robotics, so we didn't notice it.",thanks well spotted please create mostly use notice,issue,positive,positive,positive,positive,positive,positive
1067547921,"Unfortunately, we cannot help debugging custom environments, so closing the issue.",unfortunately help custom issue,issue,negative,negative,negative,negative,negative,negative
1067541165,"The example hasn't been tuned well, using a smaller time step (1./240.) and more solver iterations (50 for example) will reduce (but not eliminate) the drift.",example tuned well smaller time step solver example reduce eliminate drift,issue,negative,neutral,neutral,neutral,neutral,neutral
1067530739,"Press 'g', the Mac OpenGL drivers probably don't support certain features of the GUI renderer in hardware, and have a CPU software fallback. Indeed, press 'g' or use that line 
```
pybullet_client.configureDebugVisualizer(p.COV_ENABLE_GUI, 0)
```
to make it faster.

We should probably switch to Dear ImGui, haven't gotten around that yet (running various other projects at the moment).",press mac probably support certain renderer hardware fallback indeed press use line make faster probably switch dear gotten around yet running various moment,issue,positive,positive,positive,positive,positive,positive
1067529511,"Unless someone fixes it, we can just drop TBB support. Please just use the older TBB version for now, just use OpenMP.",unless someone drop support please use older version use,issue,negative,positive,positive,positive,positive,positive
1067528524,You didn't call createMultiBody a second time in your code.,call second time code,issue,negative,neutral,neutral,neutral,neutral,neutral
1067518884,"here action is joint angles
```
self.robot.ApplyAction(init_motor_angles)
```
and now it became torques:
```
self.robot.ApplyAction(torques)
```

is that intentional?

It is best to make sure torques and motor angles don't change dramatically between simulation steps (which are 0.001), apply some filter.",action joint torque torque intentional best make sure torque motor change dramatically simulation apply filter,issue,positive,positive,positive,positive,positive,positive
1063298353,"> Hi!
> 
> I am not sure if you have figured this out, but this is, in fact, a relevant functionality that is missing in Pybullet (**I am also in need of it**). It would be nice to add this functionality to Pybullet or to know if there is a way to do it.

Hi, did you solve it, I also have that problem!",hi sure figured fact relevant functionality missing also need would nice add functionality know way hi solve also problem,issue,negative,positive,positive,positive,positive,positive
1062881209,"
The attached folder contains the code to reproduce the issue without having to install  the StableBaseline3 or RL-zoo library. They have been used to get the controller contained in the folder.
[quadruped_flying.zip](https://github.com/bulletphysics/bullet3/files/8214692/quadruped_flying.zip)

Actually Torque commands are as expected clipped into [-33.5, 33.5] [Nm].",attached folder code reproduce issue without install library used get controller folder actually torque clipped,issue,negative,neutral,neutral,neutral,neutral,neutral
1062114034,"I tracked down a regression due to this PR.


In PhysicsServerCommandProcessor::processDeformable, right after the line psb->initializeFaceTree();
those lines are added, and break the deformable_ball.py and deformable_torus.py

deformWorld->setImplicit(true);
deformWorld->setLineSearch(false);
deformWorld->setUseProjection(true);

Will remove those lines in a follow up PR.",tracked regression due right line added break true false true remove follow,issue,positive,positive,neutral,neutral,positive,positive
1060193406,"LGTM, let's merge the PR. Thanks for the contribution!",let merge thanks contribution,issue,negative,positive,positive,positive,positive,positive
1060134221,"Got answer from https://github.com/bulletphysics/bullet3/issues/2347
use tag `<collision concave=""yes"">`",got answer use tag collision yes,issue,negative,neutral,neutral,neutral,neutral,neutral
1059836747,"The one who creates memory, should also delete it. I think btMLCPSolver doesn't allocate the memory, so it shouldn't delete it.",one memory also delete think allocate memory delete,issue,negative,neutral,neutral,neutral,neutral,neutral
1059836153,Thanks for the modifications. Let's merge it and fix what is needed (build files for setup.py and premake for example).,thanks let merge fix build premake example,issue,negative,positive,positive,positive,positive,positive
1059021384,"Hi,
to solve your memory leak you should use p.saveState() and p.restoreState() instead.
There's also an example provided https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/saveRestoreState.py .",hi solve memory leak use instead also example provided,issue,negative,neutral,neutral,neutral,neutral,neutral
1058262612,"I have fixed the poor performance problem by setting:
pybullet_client.configureDebugVisualizer(p.COV_ENABLE_GUI, 0)

Right now it is x25 faster than before. But I am still confused why it is so expensive to enable GUI.
",fixed poor performance problem setting right faster still confused expensive enable,issue,negative,negative,negative,negative,negative,negative
1054386412,"Thanks! I suppose this may break older trained policies? Anyway, those can use a pinned version of pybullet.",thanks suppose may break older trained anyway use pinned version,issue,negative,positive,positive,positive,positive,positive
1049108284,"@erwincoumans 

My patch has been accepted into main branch of Eigen library.
- https://gitlab.com/libeigen/eigen/-/merge_requests/867",patch accepted main branch library,issue,negative,positive,positive,positive,positive,positive
1048435153,"Hi @erwincoumans :)

Are there any changes to this? Is it still preferable to use Bullet 2.x?",hi still preferable use bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
1046010163,"Hi,
regarding `int contactNodeIdx = contact->m_bary.maxAxis();`: This line is getting the index of the maximum weight (which corresponds to the wanted node) through `.maxAxis()` and not the weight itself.
Regarding the reversed distance sign: I checked it multiple times to be correct by letting a deformable body drop in simulation and checking the distance over time. If not inverted, the distance starts with negative values and approaches zero afterwards.
(I can't open the link provided in your comment.)",hi regarding line getting index maximum weight node weight regarding reversed distance sign checked multiple time correct deformable body drop simulation distance time inverted distance negative zero afterwards ca open link provided comment,issue,negative,negative,neutral,neutral,negative,negative
1045408467,"The pull request makes our internal tests fail, so reverting.

line 8077 int contactNodeIdx = contact->m_bary.maxAxis(); m_bary has weights not node index. line 8152 reversed the sign of distance.
That offset is distance calculated directly from collision detection algorithms http://google3/third_party/bullet/src/BulletSoftBody/btSoftBody.cpp;l=546;rcl=429192192
",pull request internal fail line node index line reversed sign distance offset distance calculated directly collision detection,issue,negative,negative,negative,negative,negative,negative
1043017785,"See https://github.com/bulletphysics/bullet3/discussions/3810 there was a PR that resolved the issue in that discussion, so the code example should work.",see resolved issue discussion code example work,issue,negative,neutral,neutral,neutral,neutral,neutral
1042441561,"Hi, but the velocities for the body parts of the kinematic character are still zeroes. Any idea on solving this?",hi body kinematic character still idea,issue,negative,neutral,neutral,neutral,neutral,neutral
1041508890,"I have investigated on my problem and I have seen that it happens only if I do `resetJointState` to change the initial pendulum angle. If I don't do it and I move the pendulum with the mouse after the simulation is started the oscillations are as expected.
Has everyone experienced some issue with resetJointState and fixed joint constraint together ?",problem seen change initial pendulum angle move pendulum mouse simulation everyone experienced issue fixed joint constraint together,issue,negative,positive,positive,positive,positive,positive
1037896309,"Yes. You may refer to Sec. 5.3 of ""Harmonic Analysis for Engineers and Applied Scientists (Updated & Expanded Edition)"" by G. S. Chirikjian and A. B. Kyatkin.",yes may refer sec harmonic analysis applied expanded edition,issue,positive,negative,neutral,neutral,negative,negative
1037856564,"Thanks for your reply! 

This is interesting. Basically, you are saying if we look from left to right, it is intrinsic. If we look right to left, it is extrinsic. Why is that? Any references?",thanks reply interesting basically saying look left right intrinsic look right left extrinsic,issue,positive,positive,positive,positive,positive,positive
1037768684,"I think you probably have it flipped. If you multiply a rotation matrix Q on the left of R, i.e. QR, it has the effect of rotating R for Q relative to the world/base frame. And if you multiply Q on the right, i.e., RQ, it has the effect of rotating R for Q relative the frame specified by R.

I believe the pybullet use R = Rz(c)Ry(b)Rx(a) when you input Euler angle [a, b, c] (apologize for flipping the a and c in the previous comment. I have it fixed now). In this case, the seqeunce of rotation should be
  1. rotate along the x-axis for a degrees
  2. rotate along the y-axis for b degrees
  3. rotate along the z-axis for c degrees
  
but with each rotation relevant to the fixed world frame (extrinsic). But you can also think of it from the intrinsic perspective. In that case, the order of the seqeunce is flipped and each rotation is relevant to the newly generated frame.",think probably multiply rotation matrix left effect rotating relative frame multiply right effect rotating relative frame believe use input angle apologize previous comment fixed case rotation rotate along rotate along rotate along rotation relevant fixed world frame extrinsic also think intrinsic perspective case order rotation relevant newly frame,issue,negative,positive,positive,positive,positive,positive
1037737826,"According to your rotation matrix, the sequence of transformation for Euler angle [a, b, c] is

1) rotate along the x-axis for c degrees
2) rotate along the y-axis for b degrees
3) rotate along the z-axis for a degrees

Also, each transformation is relevant to the newly generated frames (intrinsic).

Does it sound right?
",according rotation matrix sequence transformation angle rotate along rotate along rotate along also transformation relevant newly intrinsic sound right,issue,negative,positive,positive,positive,positive,positive
1037735058,I don't have any reference. And I didn't find a description on the Pybullet quickstart guide. I found this out by sending in different input. ,reference find description guide found sending different input,issue,negative,neutral,neutral,neutral,neutral,neutral
1037732934,Do you have any references? I find it annoying that people don't rigorously define the Euler angle type for their applications.,find annoying people rigorously define angle type,issue,negative,negative,negative,negative,negative,negative
1037731678,"From my past experience, I believe when you specify [a, b, c] as your Euler angle, the rotation matrix you get is Rz(c)Ry(b)Rx(a).",past experience believe specify angle rotation matrix get,issue,negative,negative,negative,negative,negative,negative
1037690570,"Hi, I also have the same question but I don't think you have answered it.

The difference between intrinsic and extrinsic is if you rotate around the axis of the newly generated axis or the original axis. We all know that [X, Y, Z] Euler angle means rotation along X-axis, Y-axis, and then Z-axis. However, after the first rotation, a new frame is generated. Is the second rotation along the new Y-axis (**intrinsic**) or the original Y-axis (**extrinsic**)?",hi also question think difference intrinsic extrinsic rotate around axis newly axis original axis know angle rotation along however first rotation new frame second rotation along new intrinsic original extrinsic,issue,positive,positive,positive,positive,positive,positive
1035996274,"> You could use 'rayTestBatch' to simulate laser/radar and lidar. For IMU, you can start with the actual world position and orientation and linear/angular velocity etc, and add some noise model. Similar for GPS. There is no GPS triangulation model. For camera image sensor you can use getCameraImage.

Hi, for IMU,
How can I get the acceleration?",could use simulate imu start actual world position orientation velocity add noise model similar triangulation model camera image sensor use hi imu get acceleration,issue,negative,neutral,neutral,neutral,neutral,neutral
1019417857,"> You can already do btVector3(btScalar(1),btScalar(0.3),btScalar(0.3));
> Equally ugly and overly verbose indeed, hence the warnings are still there.

this is not same

https://stackoverflow.com/questions/55408191/is-literal-double-to-float-conversion-equal-to-float-literal

```
#include <utility>
#include <iostream>

using namespace std;

int main()
{
    float f1 =       1.0000000596046447753906250000000000000000000000000001f;
    float f2 = float(1.0000000596046447753906250000000000000000000000000001);

    if (f1 == f2)
        cout << ""f1 == f2"" << endl;
    else
        cout << ""f1 != f2"" << endl;
}
```

Output:

```
f1 != f2
```
",already equally ugly overly verbose indeed hence still include utility include main float float float else output,issue,negative,negative,negative,negative,negative,negative
1019292312,"Actually it seems I'm mistaken. I was looking through godot source and found this code:

```
// Triangle index is an odd name but contains the compound shape ID.
// A shape part of -1 indicates the index is a shape index and not a triangle index.
if (convexResult.m_localShapeInfo && convexResult.m_localShapeInfo->m_shapePart == -1) {
	m_shapeId = convexResult.m_localShapeInfo->m_triangleIndex;
} else {
	m_shapeId = 0;
}
```

With that shape ID you can retrieve the (actually colliding) child shape from the compound object.

Unfortunately I can't confirm currently, so I'll come back with an update later",actually mistaken looking source found code triangle index odd name compound shape id shape part index shape index triangle index else shape id retrieve actually child shape compound object unfortunately ca confirm currently come back update later,issue,negative,negative,neutral,neutral,negative,negative
1018830250,"I'm currently running MacOS High Sierra on my 2011 Macbook Pro, and I am trying to run a program that uses pybullet. I get the following error:

b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: expected a world element, continuing without it.

I've tried to troubleshoot and it seems that MacOS High Sierra is not supported.

So now I've just tried to install pybullet on a new Macbook Pro 2018 that has MacOS Big Sur. I have all python3 requirements downloaded.

I receive the same error as one of the users above:
https://docs.google.com/document/d/1DlFLc9sz-SsJh1lD918Yg2WykNiFtMTKzsY_JGf9evc/edit

**My question is this:** If I install MacOS Big Sur on my 2011 Macbook, will I encounter this same installation failure with pybullet?",currently running high sierra pro trying run program get following error world element without tried high sierra tried install new pro big sur python receive error one question install big sur encounter installation failure,issue,negative,positive,neutral,neutral,positive,positive
1018175336,"Possible, but you would have to dig into the underlying C++ code. It depends on which soft body, position based dynamics (default) or the newer 'deformable' using FEM/mass spring.
```
p.resetSimulation(p.RESET_USE_DEFORMABLE_WORLD)
```
It is somewhere under Bullet/src/BulletSoftBody. We don't have resources to work on this at the moment, so closing.",possible would dig underlying code soft body position based dynamic default spring somewhere work moment,issue,negative,positive,neutral,neutral,positive,positive
1018174405,"We compute the mass matrix for stable PD control (used for DeepMimic), see the code here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pdControllerStable.py#L78
",compute mass matrix stable control used see code,issue,negative,neutral,neutral,neutral,neutral,neutral
1018173425,"useMaximalCoordinates=True isn't well supported for articulated bodies. It likely won't be anytime soon, too many other projects and priorities. Please use useMaximalCoordinates=False for articulated bodies.
",well articulated likely wo soon many please use articulated,issue,positive,positive,positive,positive,positive,positive
1018173039,"Thanks for the report, it is likely an issue indeed. For now, please use your suggested workaround (only set one parameter at a time). Will get back if/when I have time (too many other projects going on).",thanks report likely issue indeed please use set one parameter time get back time many going,issue,positive,positive,positive,positive,positive,positive
1018171427,"The C API only exposes what we needed for our robotics learning research, not every single C++ feature.
The [PyBullet Quickstart Guide documentation](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) and the pybullet.c is the reference for the features.
",learning research every single feature guide documentation reference,issue,negative,negative,neutral,neutral,negative,negative
1015127770,"@erwincoumans I'd be happy to add a flag as well. Please, let me know your decision.",happy add flag well please let know decision,issue,positive,positive,positive,positive,positive,positive
1012167669,"> I just realize the first 6 `qdot` of the floating joints should be represented in the base frame. Also, the jacobian achieved from `calculateJacobian` is also represented in the base frame, so I should pre-multiply the base rotation matrix. I will close this issue.

Hello,
Thanks for your code sharing firstly and I also try to verify the Jacobian of a floating base system following your example. I found that the angular velocity matches the result of getLinkstate() but the linear velocity is slightly different from (the CoM offset of link is considered). Any help will be appreciated! Thanks.",realize first floating base frame also also base frame base rotation matrix close issue hello thanks code firstly also try verify floating base system following example found angular velocity result linear velocity slightly different offset link considered help thanks,issue,positive,negative,negative,negative,negative,negative
1011819399,"I'm using bullet 3.2.0, and I also struggled with this problem for a day or two. 

It would be nice if the changes were reflected soon.",bullet also problem day two would nice reflected soon,issue,negative,positive,positive,positive,positive,positive
1010269280,"For some background as to why I was trying to limit the joint velocity via the changeDynamics function, I was hoping to use the setJointMotorControlArray function but it doesn't take a max velocity parameter like setJointMotorControl2. ",background trying limit joint velocity via function use function take velocity parameter like,issue,negative,neutral,neutral,neutral,neutral,neutral
1008862661,"Update: 
I tried this in a new environment with the latest version of PyBullet (3.2.1) and the issue persists.",update tried new environment latest version issue,issue,negative,positive,positive,positive,positive,positive
1008075139,"I still have this issue, occurs only in debug mode. Is there any solution for this yet?",still issue mode solution yet,issue,negative,neutral,neutral,neutral,neutral,neutral
1006136598,"That's a disappointing response for me. I've managed to build it by fiddling around with the checkboxes in cmake-gui. I might dig
deeper to find the real cause, and then (hopefully) submit a patch. ",disappointing response build fiddling around might dig find real cause hopefully submit patch,issue,negative,negative,negative,negative,negative,negative
1004439350,We use visual studio on Windows. For MinGW Makefiles you have to manually fix the build and consider sending a patch.,use visual studio manually fix build consider sending patch,issue,negative,neutral,neutral,neutral,neutral,neutral
1004438923,"Since you disabled rendering, you need to call 
```
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,1)
```
after loafing the urdf

",since disabled rendering need call loafing,issue,negative,negative,negative,negative,negative,negative
1003876646,"Thanks for the report. Can you check if this PR helps?
https://github.com/bulletphysics/bullet3/pull/4119

You can increate the performance slightly by setting the s_minimumContactManifoldsForBatching as follows:

```
	// Create solver
		gSolver = new btSequentialImpulseConstraintSolverMt();
		btSequentialImpulseConstraintSolverMt::s_minimumContactManifoldsForBatching = 2000;
```

Note that Bullet isn't as well optimized as PhysX or Jolt.",thanks report check increate performance slightly setting create solver new note bullet well jolt,issue,positive,positive,neutral,neutral,positive,positive
1003781078,"Note for a repro, take the code from here: 

https://github.com/jrouwe/BulletPerformanceTest

And in PerformanceTest.cpp change 'for (int mq = 0; mq < 2; ++mq)' into 'int mq = 1;' and change 'for (int num_threads = 1; num_threads <= (int)thread::hardware_concurrency(); ++num_threads)' into 'int num_threads=8'.",note take code change change thread,issue,negative,neutral,neutral,neutral,neutral,neutral
1003779789,"Okay, as suggested above, I made a forum post here: https://pybullet.org/Bullet/phpBB3/viewtopic.php?f=9&t=13345

---

Also, to answer @bestgodok:

> I used the API getCameraImage, but it returns values between 0 and 1

`getCameraImage` returns a 5-item `tuple` object, I am not sure what you did.  Try downloading and locally running the [`pointCloudFromCameraImage.py`](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pointCloudFromCameraImage.py) or [`getCameraImageTest.py`](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/getCameraImageTest.py) files with a debugger, and then inspect the return from `getCameraImage`... should return a bunch of things.  Personally, I find PyCharm's built-in debugger is great.

Also, for what it's worth, `getCameraImage`'s returns are documented in the [PyBullet Quickstart Guide here](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.u1jisfnt6984).  Hope this helps.",made forum post also answer used object sure try locally running inspect return return bunch personally find great also worth guide hope,issue,positive,positive,positive,positive,positive,positive
1003761826,"was that issue solved?
it would be nice to have an env variable to control this print.",issue would nice variable control print,issue,negative,positive,positive,positive,positive,positive
1001561876,I compared the generated SDF file with the original file and found that the generated file is different from the original file of the project. Is there a problem with the obj2sdf program?,file original file found file different original file project problem program,issue,negative,positive,positive,positive,positive,positive
1001364586,"You might want to use the discussions: https://github.com/bulletphysics/bullet3/discussions
In the meantime can you exactly reproduce your installation steps plus the command you use?",might want use exactly reproduce installation plus command use,issue,negative,positive,positive,positive,positive,positive
1001069091,"@GoktugGuvercin did you ever figure out the units?  I have the same question as you.

Looking through the `pointCloudFromCameraImage.py` file there is not a single mention of units, and I am not finding any relevant forum posts either.",ever figure question looking file single mention finding relevant forum either,issue,negative,positive,positive,positive,positive,positive
998489698,"@theophanemayaud I'm not exactly sure what Monterey is but the PyBullet GUI is frozen for me when I try to use the addUserDebugparameter(). My code was working a few weeks ago with no issues. I made no changes, and the GUI is now frozen. I'm not sure what happened. Did you find a fix to your problem? ",exactly sure frozen try use code working ago made frozen sure find fix problem,issue,negative,positive,positive,positive,positive,positive
986608581,"Thank you so much for your response @xhan0619 
So I was able to install TetWild in Ubuntu but the problem is that the object is not being able to be loaded as a softbody into pybullet:
1. It is taking more than 10 min to load (does the softbody implementation in pybullet has size limitation on objects?)
2. Also the .vtk file from gmsh is not loading - **Pybullet crashes or closes** when I am trying to load it, could you kindly see if there is any bug in pybullet implementation or is there any other reason for this behavior or any specific settings in TetWild?

*  Here are the object files, as a .zip folder attached below, which I am trying to load as a softbody in pybullet:
.stl -> is the source file
.obj -> created using blender, like the files used in pybullet examples
.msh -> created using TetWild, following the comments above
.vtk -> created using gmsh export, like the files used in pybullet examples
[Sample-Spinner_Press_obj-SoftBodyTestPyb.zip](https://github.com/bulletphysics/bullet3/files/7659697/Sample-Spinner_Press_obj-SoftBodyTestPyb.zip)

Update_1:
For more clarity I have uploaded all the above objects and the python file I am running (based on the deformable_ball.py  example) in this public github repo: https://github.com/aprath1/Pybullet_SoftBody_Test

Update_2:
I tried this with other objects, including a simple cube, 3 of them are in the above github repo, still when I load pybullet is crashing... @erwincoumans or @xhan0619 could you guys please provide some insight in to solving this?",thank much response able install problem object able loaded taking min load implementation size limitation also file loading trying load could kindly see bug implementation reason behavior specific object folder attached trying load source file blender like used following export like used clarity python file running based example public tried simple cube still load could please provide insight,issue,positive,positive,positive,positive,positive,positive
986315762,"I personally use Ubuntu 18.04 and 20.04. I haven't tried compiling in Windows, but according to their github page windows should be supported (https://github.com/Yixin-Hu/TetWild).

It doesn't matter where the geometry asset comes from as long as the format conforms to the vtk reader in bullet. See, for example, a geometry created from Gmsh for example: https://github.com/bulletphysics/bullet3/blob/5ae9a15ecac7bc7e71f1ec1b544a55135d7d7e32/data/ball.vtk",personally use tried according page matter geometry asset come long format reader bullet see example geometry example,issue,negative,negative,neutral,neutral,negative,negative
986107155,"Solution: update Microsoft build Tools from [here](https://visualstudio.microsoft.com/visual-cpp-build-tools/),
get bullet 3.2.1 release and extract from [here](https://github.com/bulletphysics/bullet3/releases/tag/3.21),
extract the files
```shell
cd bullet3-3.21
python setup.py build
python setup.py install
```",solution update build get bullet release extract extract shell python build python install,issue,negative,neutral,neutral,neutral,neutral,neutral
985316649,"@HainingLuo or @xhan0619 ,
Could any of you guys kindly share the OS and version for setting up and installing TetWild, can we do it in Ubuntu? Will be much appreciated. 
I tried in windows and ran into multiple build and compilation issues, seems like its a big library with multiple other dependencies as well.

So seems like TetWild is the only library which will be supported by Pybullet softbody functionality and should be I guess mentioned as a direct dependency, may be in the Documentation. I tried other libs like - VTK, tetgen, gmsh, wildmeshing and **none** of the resultant .msh and converted .vtk files were compatible with Pybullet softbody loading (Unless I am missing something here!).",could kindly share o version setting much tried ran multiple build compilation like big library multiple well like library functionality guess direct dependency may documentation tried like none resultant converted compatible loading unless missing something,issue,positive,positive,neutral,neutral,positive,positive
984239090,"Thanks so much for your reply.

I cannot find the getTotalForce() method in pybullet document. Is that only for c++?",thanks much reply find method document,issue,negative,positive,positive,positive,positive,positive
983616818,"Guess the line 686 in [Bullet C API](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h) gives an insight to this. 
But it would be great if any one can share where are all the python wrappers or binding functions in the  [pybullet quick start guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) is defined...? ",guess line bullet insight would great one share python binding quick start guide defined,issue,positive,positive,positive,positive,positive,positive
982860249,"Is it just me or has this problem come back with Monterey ? I seem to get a frozen (spinner) pybullet whenever python is not calling simulation updates... 
However when calling pybullet.stepSimulation() often, the simulation, and zoom/moving around the view are possible.
",problem come back seem get frozen spinner whenever python calling simulation however calling often simulation around view possible,issue,negative,neutral,neutral,neutral,neutral,neutral
981220205,"> No problem! You could experiment with the resolution.

Hi, I find that if I run pybullet in DIRECT mode rather than GUI mode, the depth image can not detect the objects, do you know how to solve it?",problem could experiment resolution hi find run direct mode rather mode depth image detect know solve,issue,negative,positive,neutral,neutral,positive,positive
980492989,"> No problem! You could experiment with the resolution.

Thank you! I made it!",problem could experiment resolution thank made,issue,negative,neutral,neutral,neutral,neutral,neutral
979872676,"To my best knowledge, this is not possible. You need to keep track of the velocities and calculate the accelerations yourself, e.g.,
a(t) = (v(t) - v(t-1)) / dt, where v is the velocity and dt the sampling time (time step). The smaller your time step, the better the approximation. Note, however, that this is not the instantaneous acceleration and therefore not necessarily usable in controllers. 

The instantaneous acceleration could be calculated via f = m * a, where f is the acting force, m the mass and a the acceleration. This formula is used in Gazebo (search for Link::WorldLinearAccel in [linki](https://github.com/osrf/gazebo/blob/88afb773c10f5fd6399748da8ab334550df61431/gazebo/physics/Link.cc)). So, you would need to find out all acting forces on the desired link. But this information is only available for RigidBodies, i.e., https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Dynamics/btRigidBody.h provides getTotalForce(). Featherstone Bodies do not have this option for some reason, at least I can not find it. Thus, at the moment you need to find out all acting forces yourself if you want the instantaneous acceleration.",best knowledge possible need keep track calculate velocity sampling time time step smaller time step better approximation note however instantaneous acceleration therefore necessarily usable instantaneous acceleration could calculated via acting force mass acceleration formula used gazebo search link would need find acting desired link information available option reason least find thus moment need find acting want instantaneous acceleration,issue,positive,positive,positive,positive,positive,positive
979858057,No problem! You could experiment with the resolution.,problem could experiment resolution,issue,negative,neutral,neutral,neutral,neutral,neutral
979792957,"Well, I just realized that one can set the flag URDF_USE_IMPLICIT_CYLINDER to tell Bullet to not convert a cylinder to a convex hull. Then the output is as expected (except for the wrongly assigned link indices -> see problem 1). 

Regardless, it would be great if Bullet could recover the information that the convex hull is actually a cylinder and return the appropriate shape type and dimensions.",well one set flag tell bullet convert cylinder convex hull output except wrongly assigned link index see problem regardless would great bullet could recover information convex hull actually cylinder return appropriate shape type,issue,positive,positive,positive,positive,positive,positive
979347953,"> Kindly put these queries in [Discussions](https://github.com/bulletphysics/bullet3/discussions) This is for a 3D point cloud... [pointCloudFromCameraImage.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pointCloudFromCameraImage.py). You can put this in 2D as well. All you need to do is put it in the while loop for making the scan.
> 
> Idk why the video is so choppy
> 
>  Point.Cloud.mp4

Thanks! I will try it! Hope this method is accuracy enough.",kindly put point cloud put well need put loop making scan video choppy thanks try hope method accuracy enough,issue,positive,positive,positive,positive,positive,positive
979304031,"Kindly put these queries in [Discussions](https://github.com/bulletphysics/bullet3/discussions)
This is for a 3D point cloud... [pointCloudFromCameraImage.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pointCloudFromCameraImage.py). You can put this in 2D as well. All you need to do is put it in the while loop for making the scan.

Idk why the video is so choppy

https://user-images.githubusercontent.com/37873142/143469463-be880296-276f-46e9-a0bd-655d17b576f1.mp4



",kindly put point cloud put well need put loop making scan video choppy,issue,positive,positive,positive,positive,positive,positive
977545725,"Thanks for the PR. The STL meshes are a bit large, and this repo is hitting close to the maximum for pypi uploads. Need to use some mesh simplification to reduce the file size (I can help with that, will check so that the large commit won't get into the git history).",thanks bit large close maximum need use mesh simplification reduce file size help check large commit wo get git history,issue,positive,positive,positive,positive,positive,positive
974530254,"I know that this is long closed but first, let me say that there are reasons why it may be prohibitive to deal with warnings. In my case, I am iteratively loading from a dataset of more than 80 URDF files  (not created by me) and which seem to never provide inertial data for the links, resulting in warnings like the following:

```
link_1b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:
No inertial data for link, using mass=1, localinertiadiagonal = 1,1,1, identity local inertial frameb3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:
```

 In my setting, the models corresponding to the URDF files need not respond to physical forces so it is a non-issue to me. Meanwhile, I am not going to go through and correct 80-odd URDF files by hand just to suppress a warning.

So for those who find themselves in a similar position, the following (borrowed from https://stackoverflow.com/a/17954769/4176597) worked for me:

```python
@contextmanager
def suppress_stdout():
    fd = sys.stdout.fileno()

    def _redirect_stdout(to):
        sys.stdout.close()  # + implicit flush()
        os.dup2(to.fileno(), fd)  # fd writes to 'to' file
        sys.stdout = os.fdopen(fd, ""w"")  # Python writes to fd

    with os.fdopen(os.dup(fd), ""w"") as old_stdout:
        with open(os.devnull, ""w"") as file:
            _redirect_stdout(to=file)
        try:
            yield  # allow code to be run with the redirected stdout
        finally:
            _redirect_stdout(to=old_stdout)  # restore stdout.
            # buffering and flags such as
            # CLOEXEC may be different
```
and then 
```python
  with suppress_stdout():
      model = self._p.loadURDF(path).  # This line used to cause the warning.
```
",know long closed first let say may prohibitive deal case iteratively loading seem never provide inertial data link resulting like following inertial data link identity local inertial setting corresponding need respond physical meanwhile going go correct hand suppress warning find similar position following worked python implicit flush file python open file try yield allow code run finally restore may different python model path line used cause warning,issue,positive,positive,neutral,neutral,positive,positive
968279222,"Does this work for you? [my_example.zip](https://github.com/bulletphysics/bullet3/files/7533668/my_example.zip)

```
pip install trimesh[easy]
python example_01.py
```

<img width=""1136"" alt=""Screen Shot 2021-11-14 at 12 08 09"" src=""https://user-images.githubusercontent.com/4310419/141680497-9b336d2f-9ba0-4734-9921-d26badf2a5d3.png"">",work pip install easy python screen shot,issue,negative,positive,positive,positive,positive,positive
968216925,"Thanks for the contribution, sorry for the huge delay, haven't taken the time to check out pull requests.",thanks contribution sorry huge delay taken time check pull,issue,negative,positive,neutral,neutral,positive,positive
968216788,"Thanks for the fixes! One last request, do you have a simple example python script how to use it? You could reply with a zipped attachment (zip files work, other extension often don't).",thanks one last request simple example python script use could reply attachment zip work extension often,issue,positive,positive,neutral,neutral,positive,positive
967713259,"Indeed, passing in tuples voids the warranty of PyBullet, so pass in lists.
```
p.createCollisionShapeArray(shapeTypes=(p.GEOM_SPHERE, p.GEOM_CYLINDER), radii=(0.08, 0.08), lengths=(0., 0.1),
collisionFramePositions=[[0., 0., 0.05], [0., 0., 0.]])
```",indeed passing warranty pas,issue,negative,neutral,neutral,neutral,neutral,neutral
966834073,Removing SimpleCamera.cpp from the CMakeLists.txt fixed App_TwoJoint on clang-cl. Thanks for the report!,removing fixed thanks report,issue,negative,positive,positive,positive,positive,positive
966832512,"Nice, thanks for the PR (and good to see you again 👍 )",nice thanks good see,issue,positive,positive,positive,positive,positive,positive
966831039,"Ah, thanks for the pull request (didn't get the notification, working some other projects, including Tiny Differentiable Simulator etc). Will check it out.",ah thanks pull request get notification working tiny differentiable simulator check,issue,negative,positive,neutral,neutral,positive,positive
966821366,Could be a bug. Best to use the constructor with two bodies.,could bug best use constructor two,issue,positive,positive,positive,positive,positive,positive
966821263,"Thanks! Please consider a pull request if you get to it, closing this for now.",thanks please consider pull request get,issue,positive,positive,positive,positive,positive,positive
966821034,"The left view shows the most recent image rendered, so it replaces the other ones. Best to visualize multiple images using MatPlotLib for example.",left view recent image best visualize multiple example,issue,positive,positive,positive,positive,positive,positive
966820331,"There is no such thing, best to fix the URDF file, read the feedback. Good idea though, moving to discussion.",thing best fix file read feedback good idea though moving discussion,issue,positive,positive,positive,positive,positive,positive
966820060,"The mimic contraint will syncronize the joint angles/velocity. A base (-1) doesn't have a joint or angle, so it won't work.
",mimic joint base joint angle wo work,issue,negative,negative,negative,negative,negative,negative
964945790,"On the page with logos on the texts of the titles, added hyperlinks to the sites.
[manual EN.pdf](https://github.com/bulletphysics/bullet3/files/7511529/manual.EN.pdf)",page logo added manual,issue,negative,neutral,neutral,neutral,neutral,neutral
964922310,"I ran into the same issue and implemented a very similar fix. Only found this PR a little later, so I've now closed my PR in favor of yours.",ran issue similar fix found little later closed favor,issue,negative,negative,neutral,neutral,negative,negative
962465518,"Yes, that's right, here's the full error:
```
lld-link : error : duplicate symbol: public: __cdecl SimpleCamera::SimpleCamera(void) [D:\tmp\bullet3-3.17\build\examples\TwoJoint\App_TwoJoint.vcxproj]
  >>> defined at App_TwoJoint.dir\Release\SimpleCamera.obj
  >>> defined at OpenGLWindow.lib(SimpleCamera.obj)
```
`RobotSimulator_SRCS` inside `exmaples/TwoJoint/CMakeLists.txt` contains `../../examples/OpenGLWindow/SimpleCamera.cpp`, however `App_TwoJoint` links with `OpenGLWindow` which already has this symbol defined.

Simply removing `SimpleCamera.cpp` from the list of sources doesn't seem to help, anyway there're some other places where it happens. Unfortunately CMakeLists scripts of this project seem too messy for me to try to dig into them and provide a fix with PR.

If there's an interest in full list of errors, here they are: [bullet3-lld-errors.txt](https://github.com/bulletphysics/bullet3/files/7490698/bullet3-lld-errors.txt)",yes right full error error duplicate symbol public void defined defined inside however link already symbol defined simply removing list seem help anyway unfortunately project seem messy try dig provide fix interest full list,issue,negative,positive,neutral,neutral,positive,positive
962424143,"I might eventually get around to it, yes",might eventually get around yes,issue,negative,neutral,neutral,neutral,neutral,neutral
962398296,"I had a closer look. The friction in the x direction goes to zero, which is correct: there is no velocity anymore due to static friction, the object pushes onto the ground, and there are no forces along the x, since the object can float along the x direction. 

The forces along the Y should be ignored, since there are no degrees of freedom. The reported values are due to floating point noise, some denominator reaches 1e-9 and causes the misleading readings.

We could add some tolerance larger than DBL_EPSILON in btMultiBodyConstraintSolver line 708 to filter this noise, then the image looks like this:

```
                btScalar d = denom0 + denom1 + cfm;
                ///instead of if (d > DBL_EPSILON ) use
                btScalar tolerance  = 1e-7;
		if (d > tolerance)
		{
			solverConstraint.m_jacDiagABInv = relaxation / (d);
		}
		else
		{
			//disable the constraint row to handle singularity/redundant constraint
			solverConstraint.m_jacDiagABInv = 0.f;
		}
```

![image](https://user-images.githubusercontent.com/725468/140599187-ed51baeb-2dd0-4adb-b835-2e3ace34ea96.png)

",closer look friction direction go zero correct velocity due static friction object onto ground along since object float along direction along since freedom due floating point noise denominator misleading could add tolerance line filter noise image like use tolerance tolerance relaxation else constraint row handle constraint image,issue,positive,positive,neutral,neutral,positive,positive
962391240,I wonder about the bugs origin? Is it because some files (SimpleCamera.cpp?) appear in multiple libraries that are used in a single executable?,wonder origin appear multiple used single executable,issue,negative,negative,neutral,neutral,negative,negative
962389742,Thanks for the report. Please create a new issue if the problem persists.,thanks report please create new issue problem,issue,positive,positive,positive,positive,positive,positive
962389632,"That sounds reasonable, we could define ATTRIBUTE_ALIGNED16  using alignas for modern compilers. Do you mind creating a PR?",reasonable could define modern mind,issue,negative,positive,positive,positive,positive,positive
960519618,"Thanks @erwincoumans, I will update and see if the problem persists.",thanks update see problem,issue,negative,positive,positive,positive,positive,positive
960259451,"okay so the code you compile might adhere to c++03 or c++11, but the compiler compiling might have had the `-std=c++17` or higher switch enabled.

All I'm asking is that you defer to your complex ladder of preprocessor checks only if `__cplusplus<201703L`

Does that somehow interfere?",code compile might adhere compiler might higher switch defer complex ladder somehow interfere,issue,negative,negative,neutral,neutral,negative,negative
960128550,"I can't reproduce the issue on a recent MacOS 11.6 version.
'''
import gym
import pybullet_envs
env = gym.make('HopperBulletEnv-v0')
env.reset()
'''
works fine.

",ca reproduce issue recent import gym import work fine,issue,negative,positive,positive,positive,positive,positive
960091968,"pybullet is still c++2003 (with optional parts c++2011), you are supposed to add the preprocessor checks for your platform (android).

",still optional supposed add platform android,issue,negative,neutral,neutral,neutral,neutral,neutral
955133040,"Here is the code that can reproduce the crash:

`import pybullet as p`
`p.connect(p.DIRECT)`
`p.createCollisionShapeArray(shapeTypes=(p.GEOM_SPHERE, p.GEOM_CYLINDER), radii=(0.08, 0.08), lengths=(0., 0.1),`
`                            collisionFramePositions=((0., 0., 0.05), (0., 0., 0.)))`

And the terminal outputs:

pybullet build time: Oct 11 2021 21:00:24
[1]    4025 segmentation fault  python3 ./crash.py",code reproduce crash import terminal build time segmentation fault python,issue,negative,neutral,neutral,neutral,neutral,neutral
955115918,"Thanks, do you have a minimal pybullet script that reproduces the crash?",thanks minimal script crash,issue,negative,positive,neutral,neutral,positive,positive
951113873,"> Since you already have a workaround, what change(s) do you suggest?

Just set `LDFLAGS` environment variable to `/force:multiple` before running CMake. I think we could append this argument in CMakeLists script (as a temporary workaround) -- if you are ok with such workaround, I can submit a PR. Nevertheless, as I've said above, even if you fix this problem, another problem arises: clang generates incorrect code which results in crashes for some `ctest` tests.",since already change suggest set environment variable multiple running think could append argument script temporary submit nevertheless said even fix problem another problem clang incorrect code,issue,negative,neutral,neutral,neutral,neutral,neutral
951091356,"This would only create the .pc file. I'm pretty sure if the user doesn't have pkg-conf, it will be just be ignored. Even if they do have pkg-conf, they can still use vanilla cmake. The file will only be used if the user explicitly uses pkg-conf.

However, if you still want me to hide this behind an option, I can do so.",would create file pretty sure user even still use vanilla file used user explicitly however still want hide behind option,issue,positive,positive,positive,positive,positive,positive
951087832,"Thanks for the report. Since you already have a workaround, what change(s) do you suggest?

If you make it work, can you share a pull request?",thanks report since already change suggest make work share pull request,issue,positive,positive,positive,positive,positive,positive
951085083,"Oh nice. I just noticed this nice contribution (busy with new physics engines, Tiny Differentiable Simulator and Brax).
Will check it out and merge asap.",oh nice nice contribution busy new physic tiny differentiable simulator check merge,issue,positive,positive,positive,positive,positive,positive
951083745,"We don't add a change log in readme, there is a github history for that.",add change log history,issue,negative,neutral,neutral,neutral,neutral,neutral
951082841,"I would suggest adding a flag, that is disabled for Windows, and enabled for other flags. Then someone can enable the flag on Windows.",would suggest flag disabled someone enable flag,issue,negative,negative,negative,negative,negative,negative
951082155,"Not everyone uses pkg-conf, the build system should work with vanilla cmake as well.",everyone build system work vanilla well,issue,negative,neutral,neutral,neutral,neutral,neutral
951079102," Thanks! Haven't used UPW, but if this fixes the issue, let's merge it.",thanks used issue let merge,issue,negative,positive,positive,positive,positive,positive
951076190,"Very nice, thanks for the contribution. I will check it, make sure it still works on various platforms.

 Some minor suggestions:

Please add fields in 'examples/SharedMemory/SharedMemoryCommands.h' at the end of a structure, to avoid crashes when using different versions. In particular, UserDebugDrawArgs, add m_debugPointNum and m_pointSize as last new members, not in the middle of the struct.

Change comment from
```
""Add a user debug draw point
```
to
```
""Add user debug draw points
```
",nice thanks contribution check make sure still work various minor please add end structure avoid different particular add last new middle change comment add user draw point add user draw,issue,positive,positive,positive,positive,positive,positive
948253210,"You are welcome, and thanks a lot for clear description of reproduction of both bugs! I've been busy with [Brax](https://github.com/google/brax) and [tiny-differentiable-simulator](https://github.com/google-research/tiny-differentiable-simulator) projects, hope to sometimes come back to PyBullet to improve things like this.",welcome thanks lot clear description reproduction busy hope sometimes come back improve like,issue,positive,positive,positive,positive,positive,positive
947441212,"Not using `setCollisionFilterPair` does not seem to do anything. 
I am not sure what do you mean by getting ContactPoints without any arguments (when there is a clear collision) - is that even possible?

I 'solved' the issue by using [pybullet-planning](https://github.com/caelan/pybullet-planning) module with `get_collision_fn`. This seem to handle collisions without any trouble. To anyone having similar issues I would recommend trying out pybullet-planning and [this demo](https://github.com/yijiangh/pybullet_planning_tutorials).

As debugging this issue seems hard and time consuming, and is probably caused by some trivial mistake on my part, i will close this issue. Thanks for help though!",seem anything sure mean getting without clear collision even possible issue module seem handle without trouble anyone similar would recommend trying issue hard time consuming probably trivial mistake part close issue thanks help though,issue,positive,negative,neutral,neutral,negative,negative
946932621,"I see! Thank you so much for clarifying Erwin! Feel free to close the issue, I just wanted to documented/provide a test-case if this was an untracked bug. ",see thank much feel free close issue untracked bug,issue,positive,positive,positive,positive,positive,positive
946932605,"Thanks for reporting, we only use Visual Studio on Windows so we don't see this problem. If others using mingw64 run into the same issue, they can find your workaround. Or if you can, share a patch that fixes it.",thanks use visual studio see problem run issue find share patch,issue,negative,positive,neutral,neutral,positive,positive
946930965,"Indeed. Save/restore state is not compatible with sleeping/deactivation at the moment. For now, it is best to disable sleeping if you rely on determinism and save/restore state.",indeed state compatible moment best disable sleeping rely determinism state,issue,positive,positive,positive,positive,positive,positive
946929265,"Thanks for the reproduction/example. There is no degree of freedom in the y direction in your example, is it? Can you try adding it and see if that changes things?",thanks degree freedom direction example try see,issue,positive,positive,positive,positive,positive,positive
946914003,"Those are two orthogonal friction directions. They are also orthogonal to the contact normal and lie in the separating plane between A and B. Friction doesn't 'belong' to a single body, it acts between two bodies.",two orthogonal friction also orthogonal contact normal lie separating plane friction single body two,issue,negative,positive,neutral,neutral,positive,positive
946912729,"It is best to use pip3 install pybullet or python setup.py install --develop
",best use pip install python install develop,issue,positive,positive,positive,positive,positive,positive
946911979,"Not clear what is wrong, it works fine here. Perhaps you can create a google colab and share it?",clear wrong work fine perhaps create share,issue,positive,positive,neutral,neutral,positive,positive
946910729,"The resolution of the STL meshes is way too high. Best to approximate them, or use mesh decimation (in Blender for example).",resolution way high best approximate use mesh decimation blender example,issue,positive,positive,positive,positive,positive,positive
946908518,"It is not supported to programmatically set the value of a slider bar at the moment. It would require modifying the C++ code.

If I find time, I'll have a look implementing this.",programmatically set value slider bar moment would require code find time look,issue,negative,neutral,neutral,neutral,neutral,neutral
946908054,"What if you do getContactPoints without any arguments? Also, try not configuring the setCollisionFilterPair.

Without a small self-contained example it is not possible to figure out what is wrong.",without also try without small example possible figure wrong,issue,negative,negative,negative,negative,negative,negative
930570678,"After 8 months, I'm curious why this PR hasn't been integrated. If the Bullet project is no longer accepting PRs from outsiders, or if it's no longer accepting PRs to ""BulletDynamics/Vehicle"", that would be nice to know.",curious bullet project longer longer would nice know,issue,positive,positive,positive,positive,positive,positive
929764914,"Thanks for your patient reply. I also dived into the code of Bullet and found the clear explaination in <Bullet3Dynamics\ConstraintSolver\b3PgsJacobiSolver.cpp> : 

```
	void b3PgsJacobiSolver::setFrictionConstraintImpulse(b3RigidBodyData* bodies, b3InertiaData* inertias,b3SolverConstraint& solverConstraint, int solverBodyIdA, int solverBodyIdB, b3ContactPoint& cp, const b3ContactSolverInfo& infoGlobal)
	{
		b3SolverBody* bodyA = &m_tmpSolverBodyPool[solverBodyIdA];
		b3SolverBody* bodyB = &m_tmpSolverBodyPool[solverBodyIdB];

		{
			b3SolverConstraint& frictionConstraint1 = m_tmpSolverContactFrictionConstraintPool[solverConstraint.m_frictionIndex];
			if (infoGlobal.m_solverMode & B3_SOLVER_USE_WARMSTARTING)
			{
				frictionConstraint1.m_appliedImpulse = cp.m_appliedImpulseLateral1 * infoGlobal.m_warmstartingFactor;
				if (bodies[bodyA->m_originalBodyIndex].m_invMass)
					bodyA->internalApplyImpulse(frictionConstraint1.m_contactNormal * bodies[bodyA->m_originalBodyIndex].m_invMass, frictionConstraint1.m_angularComponentA, frictionConstraint1.m_appliedImpulse);
				if (bodies[bodyB->m_originalBodyIndex].m_invMass)
					bodyB->internalApplyImpulse(frictionConstraint1.m_contactNormal * bodies[bodyB->m_originalBodyIndex].m_invMass, -frictionConstraint1.m_angularComponentB, -(b3Scalar)frictionConstraint1.m_appliedImpulse);
			}
			else
			{
				frictionConstraint1.m_appliedImpulse = 0.f;
			}
		}

		if ((infoGlobal.m_solverMode & B3_SOLVER_USE_2_FRICTION_DIRECTIONS))
		{
			b3SolverConstraint& frictionConstraint2 = m_tmpSolverContactFrictionConstraintPool[solverConstraint.m_frictionIndex + 1];
			if (infoGlobal.m_solverMode & B3_SOLVER_USE_WARMSTARTING)
			{
				frictionConstraint2.m_appliedImpulse = cp.m_appliedImpulseLateral2 * infoGlobal.m_warmstartingFactor;
				if (bodies[bodyA->m_originalBodyIndex].m_invMass)
					bodyA->internalApplyImpulse(frictionConstraint2.m_contactNormal * bodies[bodyA->m_originalBodyIndex].m_invMass, frictionConstraint2.m_angularComponentA, frictionConstraint2.m_appliedImpulse);
				if (bodies[bodyB->m_originalBodyIndex].m_invMass)
					bodyB->internalApplyImpulse(frictionConstraint2.m_contactNormal * bodies[bodyB->m_originalBodyIndex].m_invMass, -frictionConstraint2.m_angularComponentB, -(b3Scalar)frictionConstraint2.m_appliedImpulse);
			}
			else
			{
				frictionConstraint2.m_appliedImpulse = 0.f;
			}
		}
	}
```",thanks patient reply also code bullet found clear void else else,issue,positive,positive,positive,positive,positive,positive
929643507,"Hi, both forces act on both bodies (because of Newton's third law). Those forces act in the contact plane perpendicular to the contact normal. Therefore, `lateralFrictionDir1` and `lateralFrictionDir2` are orthogonal to the contact normal and to each other (e.g., calculated for deformable contacts at [this position](https://github.com/bulletphysics/bullet3/blob/master/src/BulletSoftBody/btSoftBodyInternals.h#L1707)). The respective forces are the projections of the total friction force in the contact plane in those directions.",hi act newton third law act contact plane perpendicular contact normal therefore orthogonal contact normal calculated deformable position respective total friction force contact plane,issue,negative,positive,neutral,neutral,positive,positive
927325280,"Thanks for letting me know of the issue @erwincoumans - sorry for the late response.

~Can you point me to the exact use-case that would result in an error, so that I could address the bug if possible? Furthermore, can you clarify what you're referring to as pointers to `local` memory? As far as my understanding goes, the pointer to `linkName` isn't ever a local stack pointer, and it should remain in scope at least up until its usage (in `getLinkName()`...) during loading, so I'd like to know exactly when it becomes problematic. Perhaps when the address space doesn't match?~

I had considered alternatives like `m_linkNames[MAX_CREATE_MULTI_BODY_LINKS][MAX_FILENAME_LENGTH]` which felt excessively wasteful in memory, so I disregarded that option.
We could certainly consider storing link uids instead, but wouldn't that add inconsistencies in the API where all other loaders (besides `createMultibody`) would also need to support setting and querying uids, as opposed to the `linkName` and `jointName` parameters which are already present in the current API?
Otherwise, are you suggesting that the uids will be passed in as `integer`s , then be converted as `string`s to become the `linkName` instead of the previous defaults (sequentially labeled `link%d`)? (e.g. so that `createMultibody(..., linkUids=[88,10,15])` would result in `link88, link10, link15`?)

It would be ideal if the `linkNames` parameter can stay, but if that would not be possible due to fundamental limitations (and it results in a bug / undesirable behavior) then we should definitely revert the PR and consider alternatives.

**EDIT**: After looking at the commit from #3963, it appears to the case that the issue arises for use-cases either over the network or via the shared memory. I agree that in this case it would require nontrivial modifications to `b3CreateMultiBodyArgs` struct, such as:
* Treating `m_linkNames` as a flat buffer of fixed size (in which to store linkNames separated by e.g. `\0`) and parsing it downstream
* Capping the max length of each `linkName` to a short limit (e.g. `m_linkNames[MAX_NUM_LINKS][MAX_LINKNAME_LENGTH]` where `MAX_LINKNAME_LENGTH` << `1024`) so that the size of the buffer would remain somewhat reasonable
* Interpreting integer-valued `linkUids` arguments as `linkName`s (as hinted above)

I suppose there are more options, but I think as long as the original goal could be achieved (deterministic, repeatable identifier to the links of a robot created via `createMultibody`) then it would work for me since the `name-id` pair bookkeeping could be done elsewhere. Let me know if your suggestions on the `uid` is consistent with my interpretation.",thanks know issue sorry late response point exact would result error could address bug possible furthermore clarify local memory far understanding go pointer ever local stack pointer remain scope least usage loading like know exactly becomes problematic perhaps address space match considered like felt excessively wasteful memory option could certainly consider link instead would add besides would also need support setting querying opposed already present current otherwise suggesting integer converted string become instead previous sequentially link would result link link link would ideal parameter stay would possible due fundamental bug undesirable behavior definitely revert consider edit looking commit case issue either network via memory agree case would require treating flat buffer fixed size store downstream capping length short limit size buffer would remain somewhat reasonable suppose think long original goal could deterministic repeatable identifier link robot via would work since pair bookkeeping could done elsewhere let know consistent interpretation,issue,positive,positive,neutral,neutral,positive,positive
923214875,"Have to revert the PR, since we cannot store pointers to local memory in the shared memory structures.",revert since store local memory memory,issue,negative,neutral,neutral,neutral,neutral,neutral
920415822,"Thanks a lot for looking into this, it is indeed sloppy that this API is not working consistently (we don't use that API in our work much). Also, maximal coordinates doesn't implement various APIs indeed. Will check the PR, hope it doesn't break too much.",thanks lot looking indeed sloppy working consistently use work much also maximal implement various indeed check hope break much,issue,positive,positive,neutral,neutral,positive,positive
920410371,"Ah indeed, stopped paying for that domain a while ago. LGTM, thanks!",ah indeed stopped paying domain ago thanks,issue,negative,positive,positive,positive,positive,positive
915446090,"> Do you mean that this cylinder has a too big inertia ? This is not what I am seeing as increasing the inertia of the object fix my problems (jitters, ""explosions"" and general instability)

Sorry, i didn't meant ""issue"" i meant pull request. This pull request is about another problem, it's not about solver instability, but about the inertia of small objects being calculated wrongly.

If you want to enable double precision, search for `BT_USE_DOUBLE_PRECISION`. If there are still questions or problems, i would suggest to create a GitHub issue.",mean cylinder big inertia seeing increasing inertia object fix jitter general instability sorry meant issue meant pull request pull request another problem solver instability inertia small calculated wrongly want enable double precision search still would suggest create issue,issue,negative,negative,negative,negative,negative,negative
915433411,"> This issue is about small object's having a too large inertia, so enabling double precision wouldn't help.
> 
> If you have a different problem that you think can be solved by enabling double precision, look for the build flag `BT_USE_DOUBLE_PRECISION`.

Do you mean that this cylinder has a too big inertia ? This is not what I am seeing as increasing the inertia of the object fix my problems (jitters, ""explosions"" and general instability) ",issue small object large inertia double precision would help different problem think double precision look build flag mean cylinder big inertia seeing increasing inertia object fix jitter general instability,issue,negative,negative,neutral,neutral,negative,negative
915430646,"This issue is about small object's having a too large inertia, so enabling double precision wouldn't help.

If you have a different problem that you think can be solved by enabling double precision, look for the build flag `BT_USE_DOUBLE_PRECISION`.",issue small object large inertia double precision would help different problem think double precision look build flag,issue,negative,negative,neutral,neutral,negative,negative
915424431,"I am still encountering issues originating from small objects with small inertias like a cylinder radius = 1cm, height = 4cm and weight = 17g.

Did you finish moving pybullet to double precision ?
Is this available using the pip installation or do I need to build with a double precision flag or something ?",still small small like cylinder radius height weight finish moving double precision available pip installation need build double precision flag something,issue,negative,negative,neutral,neutral,negative,negative
908156416,"> Is there a list of pybullet environments that are tested with SB-3?

If by tested you mean tuned hyperparams + pre-trained models, you can take a look at the [RL Zoo](https://github.com/DLR-RM/rl-baselines3-zoo), the pre-trained models (with associated performance) are listed in https://github.com/DLR-RM/rl-baselines3-zoo/blob/master/benchmark.md ;) (the hyperparameters are in the `hyperparams/` folder)",list tested tested mean tuned take look zoo associated performance listed folder,issue,negative,negative,negative,negative,negative,negative
908101433,[musl](https://musl.libc.org/) is a C library (like the well known [glibc](https://www.gnu.org/software/libc/) or the less known [uclibc-ng](https://uclibc-ng.org/)). musl is stricter than glibc on standards compliance. ,library like well known le known compliance,issue,positive,neutral,neutral,neutral,neutral,neutral
907889060,"What is musl?
If it doesn't break or affect regular Linux and MacOS builds, I suppose we can merge this.",break affect regular suppose merge,issue,negative,neutral,neutral,neutral,neutral,neutral
907881801,Thanks for the update! Is there a list of pybullet environments that are tested with SB-3?,thanks update list tested,issue,negative,positive,positive,positive,positive,positive
903186090,"Hey thanks a lot for this, I was thinking I was doing something wrong in my Cmake setup :)

I ended up doing this in my CMakeLists.txt
```cmake
# Fetch Bullet3
FetchContent_Declare(
  bullet
  GIT_REPOSITORY https://github.com/bulletphysics/bullet3
  GIT_SHALLOW    TRUE
  GIT_PROGRESS   TRUE
  GIT_TAG        master)
set(BUILD_EXTRAS OFF CACHE BOOL """" FORCE)
set(BUILD_PYBULLET OFF CACHE BOOL """" FORCE)
set(BUILD_BULLET2_DEMOS OFF CACHE BOOL """" FORCE)
set(BUILD_UNIT_TESTS OFF CACHE BOOL """" FORCE)
set(BUILD_CPU_DEMOS OFF CACHE BOOL """" FORCE)
set(BUILD_OPENGL3_DEMOS OFF CACHE BOOL """" FORCE)
set(BUILD_OPENGL3_DEMOS OFF CACHE BOOL """" FORCE)

FetchContent_GetProperties(bullet)
if(NOT bullet_POPULATED)
  FetchContent_Populate(bullet)
  add_subdirectory(${bullet_SOURCE_DIR} ${bullet_BINARY_DIR})
  target_include_directories(Bullet3Collision PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(Bullet3Common PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(Bullet3Dynamics PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(Bullet3Geometry PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(Bullet3OpenCL_clew PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(Bullet2FileLoader PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(BulletCollision PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(BulletDynamics PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(BulletInverseDynamics PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(BulletSoftBody PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
  target_include_directories(LinearMath PUBLIC ${BULLET_PHYSICS_SOURCE_DIR}/src)
endif()
```
Worked quite ok",hey thanks lot thinking something wrong setup ended fetch bullet bullet true true master set cache bool force set cache bool force set cache bool force set cache bool force set cache bool force set cache bool force set cache bool force bullet bullet public public public public public public public public public public public worked quite,issue,positive,positive,neutral,neutral,positive,positive
856019746,"Unfortunately, the deformable code is an unsupported internship project. Not more we can do then just turn it into a discussion.
If you, or someone else, has time/resources to fix it, please let us know.",unfortunately deformable code unsupported internship project turn discussion someone else fix please let u know,issue,negative,negative,negative,negative,negative,negative
847973689,What is the size of the mesh file? There is a limit to the maximum visual/collision shape.,size mesh file limit maximum shape,issue,negative,neutral,neutral,neutral,neutral,neutral
847585954,"Hi, I have been summoned to return with a new working link to the ""Scaling the World"" article: https://web.archive.org/web/20170713085948/http://www.bulletphysics.org/mediawiki-1.5.8/index.php/Scaling_The_World
That is all I can do for you. Have a nice day!",hi return new working link scaling world article nice day,issue,negative,positive,positive,positive,positive,positive
846517857,@erwincoumans to which joint will this (min and max limits through the changeDynamics) apply as there is no joint index argument mentioned? Is it for the joint-related with the link or for all joints?,joint min apply joint index argument link,issue,negative,neutral,neutral,neutral,neutral,neutral
846449438,Is the friction force computation exposed in pybullet? How can I extract it?,friction force computation exposed extract,issue,negative,neutral,neutral,neutral,neutral,neutral
844418393,"+1 to this. The content of https://pybullet.org/mediawiki-1.5.8/index.php?title=Scaling_The_World is not available anywhere anymore, not even on webarchive...",content available anywhere even,issue,negative,positive,positive,positive,positive,positive
844314789,I'd go further and enable it as a pre-commit hook so it's enforced on every commit: https://pre-commit.com/hooks.html @erwincoumans ,go enable hook enforced every commit,issue,negative,neutral,neutral,neutral,neutral,neutral
842794397,"There are zero dependencies.
Both gym and numpy are optional, you only need gym if you want to run one of the gym environments.
you can also run setup.py without numpy installed, it should work, but it is best to have numpy installed (you get better performance for 'getCameraImage' that's all it is used for, copying large image data).

",zero gym optional need gym want run one gym also run without work best get better performance used large image data,issue,negative,positive,positive,positive,positive,positive
834644622,"You can use position control, torque control or implicit pd control.

The 3 modes are implemented in this example (Stable PD in Python, Stable PD internal (C++), Spherical position control, Explicit PD)
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py
also
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_examples/humanoidMotionCapture.py
or
```
python -m pybullet_examples.humanoidMotionCapture.py
```
There is no velocity control indeed.
Torques are applied in joint frame, which is attached to the parent link.",use position control torque control implicit control example stable python stable internal spherical position control explicit also python velocity control indeed torque applied joint frame attached parent link,issue,positive,neutral,neutral,neutral,neutral,neutral
833695505,"You could use pybullet.addUserDebugLine, see the [pybullet quickstart guide ](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3)for the API

Adding too many lines may become slow (depends on GPU etc), so there is a 'life time' to remove old debug lines, or just add the lines once in a while, if performs drops too much.",could use see guide many may become slow time remove old add much,issue,negative,positive,positive,positive,positive,positive
831679123,"Moving to discussion. If you have inprovements to deformables, you can create a new issue or pull request.",moving discussion create new issue pull request,issue,negative,positive,positive,positive,positive,positive
831669104,"@ShoujingZheng, the constitutive model implemented is a from [this paper from pixar](https://graphics.pixar.com/library/StableElasticity/paper.pdf), so the class name NeoHookean is somewhat misleading. 
The main motivation for adopting this model is that it doesn't have the log(J) term that is troublesome when the elements invert (which almost always happen with the size of the time step we are taking). ",constitutive model paper class name somewhat misleading main motivation model log term troublesome invert almost always happen size time step taking,issue,negative,positive,positive,positive,positive,positive
831621633,"Thank you, I'll try to get in touch with the original author. 

Do you mind creating a pull request in the meanwhile?",thank try get touch original author mind pull request meanwhile,issue,positive,positive,positive,positive,positive,positive
829881625,"I modify the code according to :https://en.wikipedia.org/wiki/Neo-Hookean_solid 
![image](https://user-images.githubusercontent.com/83384895/116658839-2f2b0f00-a9c3-11eb-9de5-268b4880f70e.png)
",modify code according image,issue,negative,neutral,neutral,neutral,neutral,neutral
829876128,"the first Piola stress differential in line 367-375 should be:
	void firstPiolaDifferential(const btSoftBody::TetraScratch& s, const btMatrix3x3& dF, btMatrix3x3& dP)
	{
		btScalar c1 = m_mu ;
		btScalar c2 = 0;
		btScalar c3 = (((m_lambda +2. * m_mu / 3.)+m_mu /( s.m_J* s.m_J))* DotProduct(s.m_cofF, dF));
		dP = dF * c1 + s.m_F * c2;
		addScaledCofactorMatrixDifferential(s.m_F, dF, (m_lambda +2. * m_mu / 3.)* (s.m_J - 1.) - m_mu / s.m_J, dP);
		dP += s.m_cofF * c3;
	}",first stress differential line void,issue,negative,positive,positive,positive,positive,positive
829872823,"the first Piola stress in line 358-363 should be:
	void firstPiola(const btSoftBody::TetraScratch& s, btMatrix3x3& P)
	{
		btScalar c1 = m_mu;
		btScalar c2 =(m_lambda +2. * m_mu / 3.)* (s.m_J - 1.) - m_mu / s.m_J;
		P = s.m_F * c1 + s.m_cofF * c2;
	}",first stress line void,issue,negative,positive,positive,positive,positive,positive
829766075,"I run 10 envs parallel using rllib. But if I test the only one env not using rllib, it doesn't encounter the nan error.",run parallel test one encounter nan error,issue,negative,neutral,neutral,neutral,neutral,neutral
827090994,"performCollisionDetection would be a replacement for stepSimulation, to provide contact points, only for getContactPoints.
It is not needed for getClosestPoints.
The easiest is to keep a copy of a world, and synchronize their transforms and perform collision queries in the separate world. Have you considered that?",would replacement provide contact easiest keep copy world synchronize perform collision separate world considered,issue,negative,neutral,neutral,neutral,neutral,neutral
827084908,@cadop That is fair. And i noticed very recently that he has included the performCollisionDetection call in a PR. I will close and move this to the discussion board. Thank you.,fair recently included call close move discussion board thank,issue,positive,positive,positive,positive,positive,positive
827081368,"If this is actually a question and not issue, it may be better for you to post it in the discussion as a Q&A category. 

https://github.com/bulletphysics/bullet3/discussions

Just my two-cents, since erwin did create it I think as part of keeping the issues clean, which I appreciated. ",actually question issue may better post discussion category since create think part keeping clean,issue,positive,positive,positive,positive,positive,positive
826889053,"+1
Peg in hole experiments can hardly be conducted right now.",peg hole hardly right,issue,negative,positive,positive,positive,positive,positive
826477574,"Yes, the base frame == CoM, and the base frame is aligned with the principal axis of inertia. This is always possible, no matter if the shape is irregular.",yes base frame base frame principal axis inertia always possible matter shape irregular,issue,negative,negative,negative,negative,negative,negative
826475416,"OK, I enabled 'discussions', but I can't promise to spend a lot of time on it (same for issues and forum).",ca promise spend lot time forum,issue,negative,neutral,neutral,neutral,neutral,neutral
826473490,"Thanks for the report, I made some mistake in configuring the server and email doesn't work at the moment. Need to find some time to fix that.",thanks report made mistake server work moment need find time fix,issue,negative,positive,positive,positive,positive,positive
825743018,"Having the same issue. Tried to open two different accounts a few month ago, no success.
This is why I turned to gitlab issues personally. 

I agree that closed issues are a goldmine of info.",issue tried open two different month ago success turned personally agree closed,issue,positive,positive,neutral,neutral,positive,positive
825242402,"Thanks. There is a similar PR that was a bit earlier, so I pick that one (assuming they are the same):
https://github.com/bulletphysics/bullet3/pull/3353",thanks similar bit pick one assuming,issue,negative,positive,neutral,neutral,positive,positive
824516985,"You will need to texture-map the cube in a program such as Blender, use a texture with different colors, and assign the UV's accordingly.",need cube program blender use texture different color assign accordingly,issue,negative,neutral,neutral,neutral,neutral,neutral
824516753,"It should work fine, if you follow the same functions as other ones, in pybullet.c, PhysicsClientC_API.cpp and PhysicsClientC_API.h
Not sure what went wrong.",work fine follow sure went wrong,issue,negative,positive,positive,positive,positive,positive
824516250,"It is an OpenGL question, pybullet provides a method to compute both projection and view matrix. You can compute the model matrix, using getBasePositionAndOrientation or getLinkState for links and convert to matrix 4x4.",question method compute projection view matrix compute model matrix link convert matrix,issue,negative,neutral,neutral,neutral,neutral,neutral
823692896,"> Area should indeed be half ('volume' also seems to miss a factor). I'm not very familiar with all the details of the soft body code, and I'd rather not start refactoring the soft body code, some comment would help indeed, but a fix is more involved than just adding a 0.5 factor, since some other parts may assume twice area indeed. If you need the API better to write your own version.

Yes, I agree. A refactor would be a pain in the neck. I mostly created the PR to hear your thoughts and discover if you knew of some logic behind it that would build my confidence in the soft body code's correctness. Thanks. I'll review the rest of the code.",area indeed half also miss factor familiar soft body code rather start soft body code comment would help indeed fix involved factor since may assume twice area indeed need better write version yes agree would pain neck mostly hear discover knew logic behind would build confidence soft body code correctness thanks review rest code,issue,positive,positive,positive,positive,positive,positive
823625928,"Area should indeed be half ('volume' also seems to miss a factor). I'm not very familiar with all the details of the soft body code, and I'd rather not start refactoring the soft body code, some comment would help indeed, but a fix is more involved than just adding a 0.5 factor, since some other parts may assume twice area indeed. If you need the API better to write your own version.",area indeed half also miss factor familiar soft body code rather start soft body code comment would help indeed fix involved factor since may assume twice area indeed need better write version,issue,positive,positive,positive,positive,positive,positive
823588984,"Good point, thanks for the PR. Looks good to me.",good point thanks good,issue,positive,positive,positive,positive,positive,positive
821738983,"It looks like maybe this *is* deliberate? See in the [source](https://github.com/bulletphysics/bullet3/blob/48ba5a37ad9daef5f80ffeb896d535eeb9b451df/src/BulletSoftBody/btSoftBody.cpp#L957)

```
const btScalar twicearea = AreaOf(
     f.m_n[0]->m_x,
     f.m_n[1]->m_x,
     f.m_n[2]->m_x
);
```

I guess it's unclear why you wouldn't compute the correct area and multiply by two if you want `twicearea`.

Some computations of interest (e.g. barycentric mass for vertices of a cloth or any forces proportional to surface area, like the wind) do assume the correct face area, and my concern would be that folks might invoke this function and unwittingly double or halve the intended result.",like maybe deliberate see source guess unclear would compute correct area multiply two want interest barycentric mass vertex cloth proportional surface area like wind assume correct face area concern would might invoke function unwittingly double halve intended result,issue,positive,neutral,neutral,neutral,neutral,neutral
819613358,"fixed linker errors by setting relevant cmake options default values to ON, this way new functionality won't break existing build routines",fixed linker setting relevant default way new functionality wo break build,issue,negative,positive,positive,positive,positive,positive
819052153,"ok, closing then. I would recommend prototyping in PyBullet using Python, hard to tell what is going wrong in C++ code.
",would recommend python hard tell going wrong code,issue,negative,negative,negative,negative,negative,negative
818414150,"Hi,
Thanks for your reply. Sorry, I made a mistake. Please ignore the pull
request.
BTW, would you like to give me some advice? I tried to use multibody and
btMultiBodySphericalJointMotor to create a chain so that it will behave
like a rope but also can restore to its initial poses/angles when static.
Eg, the initial pose may be the rope winds up 45 degrees.  I use the
following config:
link number = 16
base link mass = 1.0
other links' mass = 1.0
I setup the multibody with floating set to be true, and use
the btMultiBodyPoint2Point to drive the base link oscilatoring around  zero
point in axis.
I bind btMultiBodySphericalJointMotor to each link, in setPositionTarget to
btQuaternion(0,0,0,1) for other 15 links, and set the first link to rorate
around x axis 45 degree.
I wish to use the m_kp to control how the rope will restore back to initial
pose. But it seems like that the rope behave slowly even I set m_kp to
0.0f.

Another problem is that btMultiBodySphericalJointMotor does not work when
the rope is static and floating set to true. I don't know why.

Any suggestions are realy appreciated. Thanks a lot.


On Thu, Apr 8, 2021 at 12:40 PM erwincoumans ***@***.***>
wrote:

> Thanks. Can you provide some description what the PR is trying to do? Does
> the magic spring act on rigid or multi bodies? What are its feature(s)?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/3344#issuecomment-815440172>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AADQQDX7GUN4NAFSB3XEZLTTHUXSHANCNFSM42R66NJA>
> .
>
",hi thanks reply sorry made mistake please ignore pull request would like give advice tried use create chain behave like rope also restore initial static initial pose may rope use following link number base link mass link mass setup floating set true use drive base link around zero point axis bind link link set first link around axis degree wish use control rope restore back initial pose like rope behave slowly even set another problem work rope static floating set true know thanks lot wrote thanks provide description trying magic spring act rigid feature thread reply directly view,issue,positive,positive,neutral,neutral,positive,positive
817214077,"Sorry for not welcoming the contribution, too many issue/PR reports, no team to process it.",sorry welcoming contribution many team process,issue,negative,neutral,neutral,neutral,neutral,neutral
817213454,"Thanks, but I'll leave it disabled, since it changes behavior in subtle ways and leave it up to the user to enable and test corner cases.",thanks leave disabled since behavior subtle way leave user enable test corner,issue,negative,negative,negative,negative,negative,negative
817212677,"There is no air model built-in. There is some air model for soft body, but only exposed in C++ (see the Example Browser)",air model air model soft body exposed see example browser,issue,negative,positive,neutral,neutral,positive,positive
817212599,"The textures seem very big when expanded (they are stored compressed), and stored at least twice (once for regular OpenGL, another time for TinyRenderer). Then the vertices are bigger in memory as well, but that has much smaller effect.
I would recommend using lower resolution textures.",seem big expanded compressed least twice regular another time vertex bigger memory well much smaller effect would recommend lower resolution,issue,negative,negative,neutral,neutral,negative,negative
817211839,"PyBullet uses OpenGL matrices, check somewhere else for details about OpenGL / rendering matrices.",matrix check somewhere else rendering matrix,issue,negative,neutral,neutral,neutral,neutral,neutral
817211779,"cmake with default settings should work, premake is just for my own use, not supported.",default work premake use,issue,negative,neutral,neutral,neutral,neutral,neutral
817211710,"If you need a mass matrix and jacobian, it is best to model a 'floating' base using a fixed base, and explicitly add the degrees of freedom for the moving base (x,y,z translational, and x,y,z rotational). There is no jacobian version of flags=1.

This this example:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/biped2d_pybullet.py

Just add one more translational dof, and 2 more rotational dofs to the URDF file.
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/biped/biped2d_pybullet.urdf

Here is another URDF example of a floating body using fixed base and explicit translational/rotational joints:
https://github.com/erwincoumans/tiny-differentiable-simulator/blob/master/data/humanoid_partial_xyz_xyz_fixed.urdf",need mass matrix best model base fixed base explicitly add freedom moving base translational rotational version example add one translational rotational file another example floating body fixed base explicit,issue,positive,negative,negative,negative,negative,negative
817168533,"@erwincoumans 
Got it, is there any plan to expose at least the visual shape indices? Pybullet must be internally using them somewhere. Perhaps just additionally return the face indices for experimenta/advanced usage?",got plan expose least visual shape index must internally somewhere perhaps additionally return face index usage,issue,negative,negative,neutral,neutral,negative,negative
817168054,The indices are not exposed at the moment. Note that the rendering indices maybe different from physics indices (many collision shapes don't keep indices at all),index exposed moment note rendering index maybe different physic index many collision keep index,issue,negative,positive,positive,positive,positive,positive
817161356,"@DanielTakeshi 
Hi, I wanted to do the same thing as above, to get triangular indices as well. You mentioned that the vertex orders don't change in pybullet. Does it mean the only way is to maintain the triangular indices separately myself, by reading them from each .obj or .stl file in a urdf? That sounds a little bit inconvenient, when the urdf has multiple links.

My pybullet version is 3.0.8

```
import pybullet as p
import time
import pybullet_data

physicsClient = p.connect(p.DIRECT)#or p.DIRECT for non-graphical version
p.setAdditionalSearchPath(pybullet_data.getDataPath()) #optionally
p.setGravity(0,0,-10)
planeId = p.loadURDF(""plane.urdf"")
cubeStartPos = [0,0,1]
cubeStartOrientation = p.getQuaternionFromEuler([0,0,0])
boxId = p.loadURDF(""r2d2.urdf"",cubeStartPos, cubeStartOrientation)

for i in range(p.getNumJoints(boxId)):	
	name = p.getJointInfo(boxId,i)[1]
	nb, vertices = p.getMeshData(boxId,i)
	if nb < 1:
		continue
	print(name,nb,len(vertices))

```

",hi thing get triangular index well vertex change mean way maintain triangular index separately reading file little bit inconvenient multiple link version import import time import version optionally range name vertex continue print name vertex,issue,negative,negative,negative,negative,negative,negative
817160821,"@Guptajakala  what exactly are you trying to do? Can you paste a simple 10-line code snippet, then show why the result is not what you expected? Also please include the PyBullet version.",exactly trying paste simple code snippet show result also please include version,issue,negative,positive,positive,positive,positive,positive
817051285,"thanks much Erwin, trying above and update, in case I run into issues.",thanks much trying update case run,issue,negative,positive,positive,positive,positive,positive
816869840,"If there the collision geometry has an offset, relative to the center of mass, you can get the local offset (position, orientation) transform using pybullet.getCollisionShapeData (see PyBullet Quickstart Guide)
Then you can multiply the transforms using 
~~~
geom_global_pos, geom_global_orn = pybullet.multiplyTransforms(base_pos, base_orn, colgeom_pos, colgeom_orn)
~~~
after that, you can use pybullet.invertTransform and multiply that with the contact point position to get the local position relative to the collision geometry (mesh data)",collision geometry offset relative center mass get local offset position orientation transform see guide multiply use multiply contact point position get local position relative collision geometry mesh data,issue,negative,negative,neutral,neutral,negative,negative
816396766,"

> > > When I move the robot arm to a position (tilt),
> 
> Are you using position control for all joints? (pybullet.setJointMotorControl2(robot, joint, pybullet.POSITION_CONTROL, pos,...)
> See https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_examples/vr_kuka_setup.py#L46
> 
> Also, load the URDF using useFixedBase=True
> 
> and URDF files need elements, see the URDF for KUKA.

I just used mouse to move and control the ur5 robot and the robot will move down by itself.",move robot arm position tilt position control robot joint see also load need see used mouse move control ur robot robot move,issue,negative,neutral,neutral,neutral,neutral,neutral
816394960,">> When I move the robot arm to a position (tilt),

Are you using position control for all joints? (pybullet.setJointMotorControl2(robot, joint, pybullet.POSITION_CONTROL, pos,...)
See https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_examples/vr_kuka_setup.py#L46


Also, load the URDF using useFixedBase=True

and URDF files need <inertia> elements, see the URDF for KUKA.",move robot arm position tilt position control robot joint see also load need inertia see,issue,negative,neutral,neutral,neutral,neutral,neutral
815548456,"It works perfectly, thanks a lot!",work perfectly thanks lot,issue,positive,positive,positive,positive,positive,positive
815457858,"Can't reproduce on MacOS, all works fine. Which OS are you on, what compiler (version etc)?",ca reproduce work fine o compiler version,issue,negative,positive,positive,positive,positive,positive
815440172,Thanks. Can you provide some description what the PR is trying to do? Does the magic spring act on rigid or multi bodies? What are its feature(s)?,thanks provide description trying magic spring act rigid feature,issue,negative,positive,positive,positive,positive,positive
815381273,"> Make sure the executable name on Windows for the VR server is App_PhysicsServer_SharedMemory_VR_vs2010_x64_release.exe
> ![image](https://user-images.githubusercontent.com/725468/113902709-0c6f5700-9785-11eb-9a37-52a6e30464a1.png)
> When generating the visual studio project files with premake, it expect Python installation to be located in c:\python***
> so it can find the right include and library files.
> 
> It is about the version of pybullet, not of Python.
> Best is to do this:
> pip uninstall pybullet
> then in the root of your installation run
> python setup.py install
> (replace with pip3 and python3 if needed)

omg, it works thanks a lot!!!

I think my mistake is that I forget to change ""Win32"" to ""x64"", so this is why it can not run the code.

![image](https://user-images.githubusercontent.com/36726128/113954831-2e341100-984d-11eb-97fc-fb31480366af.png)
",make sure executable name server image generating visual studio project premake expect python installation find right include library version python best pip root installation run python install replace pip python work thanks lot think mistake forget change win run code image,issue,positive,positive,positive,positive,positive,positive
815153011,"You need to create a convex decomposition of the object, for example using vhacd (which is part of pybullet).
First convert from stl to obj, then run vhacd.
See also https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_examples/vhacd.py

The quickstart guide has some parameters of vhacd if needed.",need create convex decomposition object example part first convert run see also guide,issue,negative,positive,positive,positive,positive,positive
815056875,"Make sure the executable name on Windows for the VR server is App_PhysicsServer_SharedMemory_VR_vs2010_x64_release.exe
![image](https://user-images.githubusercontent.com/725468/113902709-0c6f5700-9785-11eb-9a37-52a6e30464a1.png)
When generating the visual studio project files with premake, it expect Python installation to be located in c:\python***
so it can find the right include and library files.

It is about the version of pybullet, not of Python.
Best is to do this:
pip uninstall pybullet
then in the root of your installation run
python setup.py install
(replace with pip3 and python3 if needed)
",make sure executable name server image generating visual studio project premake expect python installation find right include library version python best pip root installation run python install replace pip python,issue,positive,positive,positive,positive,positive,positive
814967668,"Thanks for the report. An intern has been adding FEM deformables, and may have broken PDB cloth. Will check it out.",thanks report intern may broken cloth check,issue,negative,negative,neutral,neutral,negative,negative
814669626,"or maybe it is on the wedge or any inclined plane or object?
",maybe wedge plane object,issue,negative,neutral,neutral,neutral,neutral,neutral
814665903,"> You need to leave that ""App_PhysicsServer_SharedMemory_VR running of course. Also, it needs to compiled in 64bit mode.
> 
> The run that vr_kuka_setup.py from a regular Python (64bit) terminal:
> 
> python3 path/to/vr_kuka_setup.py
> 
> Note that the pybullet plugin needs to ge up-to-date.
> Ot should connect using SHARED_MEMORY.

Thanks for your patient and I try your method but it still didn't work.

![image](https://user-images.githubusercontent.com/36726128/113825146-32abeb80-97b3-11eb-86fa-e72d9026f16f.png)

![image](https://user-images.githubusercontent.com/36726128/113825315-6850d480-97b3-11eb-9ea7-fad5b1cb6c81.png)

It seems that the program doesn't work anymore at line 7：
![image](https://user-images.githubusercontent.com/36726128/113825493-9e8e5400-97b3-11eb-9253-fa9e6ff95fa2.png)
![image](https://user-images.githubusercontent.com/36726128/113825523-abab4300-97b3-11eb-8abb-77820b419d04.png)

My python version is 3.9.4：

![image](https://user-images.githubusercontent.com/36726128/113825560-b534ab00-97b3-11eb-9d9e-3f9ede3b8ba9.png)

Again, thanks for your patient.

",need leave running course also need bit mode run regular python bit terminal python note need ge connect thanks patient try method still work image image program work line image image python version image thanks patient,issue,positive,positive,positive,positive,positive,positive
814070472,"You need to leave that ""App_PhysicsServer_SharedMemory_VR running of course. Also, it needs to compiled in 64bit mode.

The run that vr_kuka_setup.py from a regular Python (64bit) terminal:

python3 path/to/vr_kuka_setup.py

Note that the pybullet plugin needs to ge up-to-date.
Ot should connect using SHARED_MEMORY.
",need leave running course also need bit mode run regular python bit terminal python note need ge connect,issue,negative,neutral,neutral,neutral,neutral,neutral
813932138,"> Are you running App_PhysicsServer_SharedMemory_VR?
> Once that runs fine, and you see an empty world, I recommend try running vr_kuka_setup.py next:
> https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/vr_kuka_setup.py
> 
> Best to run a plain terminal and regular python (3) version, no ipython or other versions.


![image](https://user-images.githubusercontent.com/36726128/113681331-6d028380-96f4-11eb-9d6e-d463b5ca3633.png)


I performed a series of operations based on what is shown in the image above.

![image](https://user-images.githubusercontent.com/36726128/113681379-7855af00-96f4-11eb-97d0-c36baeade474.png)


The script generates a series of files. Actually I did not see ""App_PhysicsServer_SharedMemory_VR.exe"", I saw files with the name ""App_PhysicsServer_SharedMemory_VR"" in other formats, which I then opened in MSVC.
I try to run the ""App_PhysicsServer_SharedMemory_VR"":

![image](https://user-images.githubusercontent.com/36726128/113681414-84da0780-96f4-11eb-8798-545bc2951747.png)


Right-click on ""App_PhysicsServer_SharedMemory_VR"" and run it. All I can see is the following image.

![image](https://user-images.githubusercontent.com/36726128/113681445-8c99ac00-96f4-11eb-9de5-e70d2ea67126.png)


I run other codes that give the following screen, this may not have anything to do with VR.

![image](https://user-images.githubusercontent.com/36726128/113681475-96231400-96f4-11eb-8779-ea3f13e6d73f.png)



And then I try to run ""https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/vr_kuka_setup.py"", and nothing happened. The steps I ran were as follows: 1. Right-click on ""App_PhysicsServer_SharedMemory_VR"" and run it and I would see a blank screen in VR (with nothing in it but two handles). And then I run ""https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/vr_kuka_setup.py"" and it just runs there by himself, nothing is output, nothing happens, and nothing is visible in VR.

![image](https://user-images.githubusercontent.com/36726128/113681506-9de2b880-96f4-11eb-95cc-d82e5b3f7451.png)


Am I doing the steps correctly? I know maybe I am a little stupid but I am try my best to do these things, so pls tell me about this, thanks a lot!!",running fine see empty world recommend try running next best run plain terminal regular python version image series based shown image image script series actually see saw name try run image run see following image image run give following screen may anything image try run nothing ran run would see blank screen nothing two run nothing output nothing nothing visible image correctly know maybe little stupid try best tell thanks lot,issue,positive,positive,neutral,neutral,positive,positive
813808779,"Are you running App_PhysicsServer_SharedMemory_VR?
Once that runs fine, and you see an empty world, I recommend try running vr_kuka_setup.py next:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/vr_kuka_setup.py

Best to run a plain terminal and regular python (3) version, no ipython or other versions.",running fine see empty world recommend try running next best run plain terminal regular python version,issue,positive,positive,positive,positive,positive,positive
813797861,"![image](https://user-images.githubusercontent.com/36726128/113655057-b8546c00-96cb-11eb-8a2e-33a68f2c0d43.png)
Now I can only run an empty VR world and there is nothing in this world. I can not see the robot or any other items in the world. And I run the ""https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/examples/vrEvent.py"", nothing happened, I even can not see any output in the output page.
![image](https://user-images.githubusercontent.com/36726128/113655458-6fe97e00-96cc-11eb-9086-fa96191dc18d.png)
",image run empty world nothing world see robot world run nothing even see output output page image,issue,negative,negative,neutral,neutral,negative,negative
813776233,"blender xr_action branch is wrapping openXR

I think window_manager.c has the relevant code to run a XR session

On Mon, Apr 5, 2021 at 5:00 PM 1210652636 ***@***.***> wrote:

> Thanks a lot! I have known these three links and I even tried the examples
> about VR, but it didn't work, the program can not connect to my VR and I do
> not know why. I didn't find a very detailed tutorial to help me connect to
> VR.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3334#issuecomment-813749021>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABW3SWLVF6YFMSRMN7IWYC3THJMLLANCNFSM42IFMYDA>
> .
>
",blender branch wrapping think relevant code run session mon wrote thanks lot known three link even tried work program connect know find detailed tutorial help connect thread reply directly view,issue,positive,positive,positive,positive,positive,positive
813749021,"Thanks a lot! I have known these three links and I even tried the examples about VR, but it didn't work, the program can not connect to my VR and I do not know why. I didn't find a very detailed tutorial to help me connect to VR.",thanks lot known three link even tried work program connect know find detailed tutorial help connect,issue,positive,positive,positive,positive,positive,positive
813614808,The feature has been added separately. Thanks for the PR!,feature added separately thanks,issue,negative,positive,positive,positive,positive,positive
813614496,"Somehow the merging cause too many diff files in this PR.
I applied the patch with some changes, so it doesn't break some of the existing examples.
See https://github.com/erwincoumans/bullet3/commit/8b8c1af6a4b9db8b596af57da1a7073a3db862d9
Best to reset your fork and update to latest. Please check if the features work are as requested.
Thanks!",somehow cause many applied patch break see best reset fork update latest please check work thanks,issue,positive,positive,positive,positive,positive,positive
812584499,"Hopefully these resources can help

1. Page 72 of the pybullet quickstart guide https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3
1. Examples folder has a few VR things https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/examples
1. This kind of sparse doc (referenced in the quickstart guide) https://docs.google.com/document/d/1I4m0Letbkw4je5uIBxuCfhBcllnwKojJAyYSTjHbrH8/edit#

",hopefully help page guide folder kind sparse doc guide,issue,positive,positive,positive,positive,positive,positive
812574916,"I don't get an error. What OS are you using? 

I do get 0's on the `viewMat` when using your example, but I suspect that is because you are running `p.DIRECT` instead of `p.GUI`.  If I change to `p.GUI`, 

```
viewMat = p.getDebugVisualizerCamera()[2]
print(viewMat)
```

outputs:

`(0.642787516117096, -0.4393851161003113, 0.6275069713592529, 0.0, 0.766044557094574, 0.36868777871131897, -0.5265407562255859, 0.0, -0.0, 0.8191521167755127, 0.5735764503479004, 0.0, 2.384185791015625e-07, 2.384185791015625e-07, -5.000000476837158, 1.0)`

Check the example for rendering which is set as direct mode, which creates a camera view. 

https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/testrender_np.py",get error o get example suspect running instead change print check example rendering set direct mode camera view,issue,negative,positive,neutral,neutral,positive,positive
812062711,"For spherical joints, kd, kp and damping have either 1 or 3 components (0 or 0,1,2).
So dofCount check should be >=0  && dofCount < 3, not <=4.
~~~
if ((dofIndex >= 0) && (dofIndex < MAX_DEGREE_OF_FREEDOM ) && dofCount >= 0 && dofCount <= 4)
~~~",spherical damping either check,issue,negative,neutral,neutral,neutral,neutral,neutral
812052832,"The example is still broken (https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py).

Damping is only initialized for the first component, so 2 components are not initialized.
It is not clear if SIM_DESIRED_STATE_USE_MULTI_DOF refers to kd, kp or damping, and multidof damping is set, but not multidof kp/kd, then logic can easily break. So better to remove the SIM_DESIRED_STATE_USE_MULTI_DOF flag and check for each individual dof if the appropriate flag is set.",example still broken damping first component clear damping damping set logic easily break better remove flag check individual appropriate flag set,issue,positive,positive,positive,positive,positive,positive
812031087,"Thanks! There is already a PR in flight, https://github.com/bulletphysics/bullet3/pull/3331 probably similar.",thanks already flight probably similar,issue,negative,positive,neutral,neutral,positive,positive
812012967,"@erwincoumans 
Here is a gist to load the models, but the models have to be downloaded separately, as written at the top of the script... If this is a problem, please tell me
https://gist.github.com/seann999/bb01271dc2d20c84ed1495e08e025887",gist load separately written top script problem please tell,issue,negative,positive,positive,positive,positive,positive
811998125,Hard to tell without an example file (urdf + obj + texture) + simple script to load it.,hard tell without example file texture simple script load,issue,negative,negative,negative,negative,negative,negative
811502764,"I was confused at first running the sample code without the updated urdf. 

For future people:

The original urdf file was: 

```
    <visual>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
      <geometry>
				<mesh filename=""cube_10_6_6.obj"" scale="".1 .1 .1""/>
      </geometry>
       <material name=""white"">
        <color rgba=""1 1 1 1""/>
      </material>
    </visual>
    <collision>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
      <geometry>
	 	<box size=""1 1 1""/>
      </geometry>
    </collision>
```

Which in the collision tag had geometry as a box.  

Instead it should be:

```
    <visual>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
      <geometry>
				<mesh filename=""cube_10_6_6.obj"" scale="".1 .1 .1""/>
      </geometry>
       <material name=""white"">
        <color rgba=""1 1 1 1""/>
      </material>
    </visual>
    <collision>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
      <geometry>
	 		<mesh filename=""cube_10_6_6.obj"" scale="".1 .1 .1""/>
      </geometry>
    </collision>
```

So it seems to use the collision shape info, not visual shape. 

",confused first running sample code without future people original file visual origin geometry mesh material white color collision origin geometry box collision tag geometry box instead visual origin geometry mesh material white color collision origin geometry mesh use collision shape visual shape,issue,negative,positive,neutral,neutral,positive,positive
811480167,"The feature is very limited. In a nutshell, your collision shape needs to be a mesh (obj file), not an implicit shape (cube, sphere etc). Then you need to iterate over all collision shapes. Attached is an example.
[getmesh.zip](https://github.com/bulletphysics/bullet3/files/6239663/getmesh.zip)

So generally it is best to just write your own mesh/obj parser or use assimp.",feature limited nutshell collision shape need mesh file implicit shape cube sphere need iterate collision attached example generally best write parser use,issue,negative,positive,positive,positive,positive,positive
811407923,"Thank you, I am also working on it but haven't really had any luck until your post. so, thank you tons",thank also working really luck post thank,issue,positive,positive,positive,positive,positive,positive
811394152,"sorry I don't get an error, but it is an empty tuple. 

From the documentation it says it is experimental and undocumented, so at least the documentation is accurate in that sense.  

I noticed that it does work on softbodies, so maybe it was a feature to help with that. 

```
import pybullet as p
import time
import pybullet_data

physicsClient = p.connect(p.GUI)
p.setGravity(0,0,-10)
cubeStartPos = [0,0,1]
cubeStartOrientation = p.getQuaternionFromEuler([0,0,0])
cube = p.loadURDF(""cube_10_6_6.urdf"",cubeStartPos, cubeStartOrientation, )
mesh_info = p.getMeshData(cube)
print(mesh_info)

cube_soft = p.loadSoftBody(""cube_10_6_6.obj"")
meshData = p.getMeshData(cube_soft)
print(meshData)
```

Running the above code for me yields:

```
?
(0, ())
(36, ((-0.6279969811439514, -0.6034669876098633, -0.5967980027198792), (-0.6237949728965759, 0.5964879989624023, -0.6062560081481934), (0.09619399905204773, 0.5939909815788269, -0.6031540036201477), (-0.6279969811439514, -0.6034669876098633, -0.5967980027198792), (0.09619399905204773, 0.5939909815788269, -0.6031540036201477), (0.09199199825525284, -0.6059640049934387, -0.5936959981918335), (-0.6331340074539185, -0.5939909815788269, 0.6031540036201477), (-0.628931999206543, 0.6059640049934387, 0.5936959981918335), (-0.6237949728965759, 0.5964879989624023, -0.6062560081481934), (-0.6331340074539185, -0.5939909815788269, 0.6031540036201477), (-0.6237949728965759, 0.5964879989624023, -0.6062560081481934), (-0.6279969811439514, -0.6034669876098633, -0.5967980027198792), (0.08685500174760818, -0.5964879989624023, 0.6062560081481934), (0.09105700254440308, 0.6034669876098633, 0.5967980027198792), (-0.628931999206543, 0.6059640049934387, 0.5936959981918335), (0.08685500174760818, -0.5964879989624023, 0.6062560081481934), (-0.628931999206543, 0.6059640049934387, 0.5936959981918335), (-0.6331340074539185, -0.5939909815788269, 0.6031540036201477), (0.09199199825525284, -0.6059640049934387, -0.5936959981918335), (0.09619399905204773, 0.5939909815788269, -0.6031540036201477), (0.09105700254440308, 0.6034669876098633, 0.5967980027198792), (0.09199199825525284, -0.6059640049934387, -0.5936959981918335), (0.09105700254440308, 0.6034669876098633, 0.5967980027198792), (0.08685500174760818, -0.5964879989624023, 0.6062560081481934), (0.09619399905204773, 0.5939909815788269, -0.6031540036201477), (-0.6237949728965759, 0.5964879989624023, -0.6062560081481934), (-0.628931999206543, 0.6059640049934387, 0.5936959981918335), (0.09619399905204773, 0.5939909815788269, -0.6031540036201477), (-0.628931999206543, 0.6059640049934387, 0.5936959981918335), (0.09105700254440308, 0.6034669876098633, 0.5967980027198792), (-0.6279969811439514, -0.6034669876098633, -0.5967980027198792), (0.09199199825525284, -0.6059640049934387, -0.5936959981918335), (0.08685500174760818, 
-0.5964879989624023, 0.6062560081481934), (-0.6279969811439514, -0.6034669876098633, -0.5967980027198792), (0.08685500174760818, -0.5964879989624023, 0.6062560081481934), (-0.6331340074539185, -0.5939909815788269, 0.6031540036201477)))
```

I'll comment again if I find anything more in the future. ",sorry get error empty documentation experimental undocumented least documentation accurate sense work maybe feature help import import time import cube cube print print running code comment find anything future,issue,negative,negative,neutral,neutral,negative,negative
811345496,"I did provide a obj file in the zip folder, if not here 
[cube_obj.zip](https://github.com/bulletphysics/bullet3/files/6238846/cube_obj.zip)

",provide file zip folder,issue,negative,neutral,neutral,neutral,neutral,neutral
811337182,"If you look at the urdf file you gave in the zip, Line 17 is `<mesh filename=""cube_10_6_6.obj"" scale="".1 .1 .1""/>`. So I think if there is no `.obj` file, there is no mesh, so _possibly_ thats why you get the error. ",look file gave zip line mesh think file mesh thats get error,issue,negative,neutral,neutral,neutral,neutral,neutral
811329950,I wasn't aware you have a separate mesh file. I used blender to create the cube.,aware separate mesh file used blender create cube,issue,negative,positive,positive,positive,positive,positive
811268913,"@cadop 's link is indeed the pybullet python binding, the actual C++ processing of the commands happens here:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L13839",link indeed python binding actual,issue,negative,neutral,neutral,neutral,neutral,neutral
811266679,"If the link was able to answer it, maybe you could close the issue?",link able answer maybe could close issue,issue,negative,positive,positive,positive,positive,positive
811051683,"For future references, `pip uninstall typing` seems to solve the issue. It must be some sort of conflict between pybullet and typing.",future pip solve issue must sort conflict,issue,negative,neutral,neutral,neutral,neutral,neutral
810846792,"@erwincoumans This difference is actually caused by the behavior of substeps (~~similar to  #1488 I guess~~ correction : similar to #2765). 
I had `numSubSteps = 4`, and observed today that the ratio between the two methods was always close to 4.
With `numSubSteps = 1` the two methods give similar results.

Any way to correct this behavior when the number of substep has to be higher than 1 ?",difference actually behavior correction similar today ratio two always close two give similar way correct behavior number higher,issue,negative,positive,neutral,neutral,positive,positive
810504436,"@tlemarec can you provide a reproduction case, with a simple pybullet Python file and urdf file (self-contained)? With a 5kg robot, and default gravity (0,0,-10) we would expect total normal forces of around 50N.",provide reproduction case simple python file file robot default gravity would expect total normal around,issue,negative,positive,neutral,neutral,positive,positive
810470674,"I am getting conflicted results from the 2 methods.
For a 5 kg robot stabilized on the ground : 
- Method 1 : The sum of the normal forces is around 13.6 N. Lateral frictions are really small.
- Method 2 : The sum of the forces along Fz of each Foot Joints (fixed) is close to 50 N. In this setup the Z axis of those joints in almost perfectly vertical so everything checks out.",getting robot ground method sum normal around lateral really small method sum along foot fixed close setup axis almost perfectly vertical everything,issue,positive,positive,positive,positive,positive,positive
810080997,"Hi @erwincoumans, sorry for the naive question but wouldn't make the joints ""fixed"" just block them from rotating? I would actually find a way to anchor the character so that, even if it moves the upper body, it doesn't fall",hi sorry naive question would make fixed block rotating would actually find way anchor character even upper body fall,issue,negative,negative,negative,negative,negative,negative
809714508,"Well, maybe not your problem, but your zip file is only a urdf file, there is no mesh in it. ",well maybe problem zip file file mesh,issue,negative,neutral,neutral,neutral,neutral,neutral
809152408,"After debugging step by step, I finally found the problem: I have to set `maxSubSteps`=0 (whose default value is 1) of `btDiscreteDynamicsWorld::stepSimulation(btScalar timeStep, int maxSubSteps, btScalar fixedTimeStep)`.",step step finally found problem set whose default value,issue,negative,neutral,neutral,neutral,neutral,neutral
808966797,"Are you packaging bullet (for C++) or pybullet (for Python) or both?
Either way, you don't need lua (ignore/exclude the build3 folder), you don't need openvr either. It should be easy to replace anything in the examples/ThirdPartyLibs, such as Eigen, zlib and libxml2. The only dependency you need to include is Gwen. We can update the CMakeLists.txt to make that easier.",bullet python either way need build folder need either easy replace anything dependency need include update make easier,issue,positive,positive,positive,positive,positive,positive
808341351,"Here is a suggested fix that automatically updates the AABB when using 'resetBasePositionAndOrientation' and 'resetJointState':
https://github.com/bulletphysics/bullet3/pull/3311/commits/0196edd4d2e0cde2de5c8138d5f69df2cea9fce4

Exposing a 'performDiscreteCollisionDetection' would be useful too (it would update all aabb's as well as computing contact points, without running a full stepSimulation with forward dynamics, and collision response etc).",fix automatically would useful would update well contact without running full forward dynamic collision response,issue,positive,positive,positive,positive,positive,positive
808324647,"so I wasn't sure if this is intended behavior for some reason, or actually a bug.  Since I was using pybullet:  for myself, I would rather spend the time to expose the C function to updateAABB in the python interface as a method to be called by users if they manually move an object, but this is also an interface design decision. ",sure intended behavior reason actually bug since would rather spend time expose function python interface method manually move object also interface design decision,issue,negative,positive,positive,positive,positive,positive
808317182,"@cadop Probably, my not responding is the reason why this PR is not pulled. 
@erwincoumans 
I am sorry that I didn't respond to
``` 
It is best to just update a single AABB, using the
world->updateSingleAabb(colObj); 
```
6 month ago, I attempted to interpret this comment for couple of hours, but I couldn't. 
it would be nice you make a new PR to fix this problem ",probably reason sorry respond best update single month ago interpret comment couple could would nice make new fix problem,issue,positive,positive,positive,positive,positive,positive
808194832,"@erwincoumans  is there any reason not to pull this, or is it being solved somewhere else? I ran into the same issue with pybullet today. ",reason pull somewhere else ran issue today,issue,negative,neutral,neutral,neutral,neutral,neutral
807215103,"I had a look, and m_use_multi_dof_params is not properly initialized (only for the first 7 values).
The 'm_hasDesiredStateFlags' is probably a better way: remove m_use_multi_dof_params  and add a flag for that (see EnumSimDesiredStateUpdateFlags enums in SharedMemoryCommands.h)",look properly first probably better way remove add flag see,issue,negative,positive,positive,positive,positive,positive
807131260,"This CL breaks the spherical motor. See for example this example: humanoidMotionCapture.py
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py
",spherical motor see example example,issue,negative,neutral,neutral,neutral,neutral,neutral
806940405,"Hi, can you please expand more on how to get impulse from getClosestPoints() instead of getContactPoints() func",hi please expand get impulse instead,issue,positive,neutral,neutral,neutral,neutral,neutral
806305637,"Thank you a lot! I have successfully run the example codes. 
Compare to the example, my codes load urdf model without using fixed base, and this is why I get an error. 
But how to calculate inverse dynamics for a float base model? (the *Quickstart Guide* show it's ok for a float base.)
![image](https://user-images.githubusercontent.com/38244220/112407494-22c2ef00-8d51-11eb-8871-073362eb24df.png)
",thank lot successfully run example compare example load model without fixed base get error calculate inverse dynamic float base model guide show float base image,issue,positive,negative,negative,negative,negative,negative
805978524,"> Thanks for the update. I had a closer look and decided that it is better to add this feature in the 'configureDebugVisualizer', to keep it separate from the 'getCameraImage' which also has a lightPosition argument.
> See #2298
> This also exposes the shadowMapWorldSize and shadowMapResolution (texture resolution)
> There is an example in pybullet/examples/configureDebugVisualizer.py, like this
> 
> ![animate_light](https://user-images.githubusercontent.com/725468/59784759-15252f00-9278-11e9-8b32-8776245c2506.gif)
> 
> Thanks for the PR anyway!

Is there any method to change the intensity of the light source? Thanks in advance!",thanks update closer look decided better add feature keep separate also argument see also texture resolution example like thanks anyway method change intensity light source thanks advance,issue,positive,positive,positive,positive,positive,positive
805047160,"@erwincoumans I finally got around to compile bullet-cpp and pybullet in this PR: https://github.com/conda-forge/bullet-feedstock/pull/28

Do you have any feedback?",finally got around compile feedback,issue,negative,neutral,neutral,neutral,neutral,neutral
804805027,"Never mind, I now realize that EGL instances don't like sharing the same process (https://github.com/bulletphysics/bullet3/issues/2507#issuecomment-558696974), using multiprocessing solves this.",never mind realize like process,issue,negative,neutral,neutral,neutral,neutral,neutral
804283442,"There is pybullet.getBasePositionAndOrientation for the base, and for links there is
pybullet.getLinkState(s), see the PyBullet Quickstart Guide.
https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA",base link see guide,issue,negative,negative,negative,negative,negative,negative
803644239,"Each link, and the base, has a 'world transform' that you can use to build the Model matrix.",link base transform use build model matrix,issue,negative,negative,negative,negative,negative,negative
803068694,"The collision shape is not removed (it can be shared among multiple bodies), you will need a resetSimulation to remove the collision shape. Generally it is best to create objects up-front, and only use saveState/restoreState.",collision shape removed among multiple need remove collision shape generally best create use,issue,negative,positive,positive,positive,positive,positive
802778980,"This script leaks for me too, GPU memory keeps rising when loading EGL plugin but seems fine without. 

Ubuntu 18.04
Nvidia 2080Ti
pybullet 3.1.0
",script memory rising loading fine without ti,issue,negative,positive,positive,positive,positive,positive
802142438,"Since the cube is just a 'base' with no joints/links, you need to request the base, which is index -1, not 0.
",since cube need request base index,issue,negative,negative,negative,negative,negative,negative
802116000,"You have to share the urdf for anyone to help, thanks. (attach a zip file)",share anyone help thanks attach zip file,issue,positive,positive,positive,positive,positive,positive
801612759,@lorepieri8 It works! Thank you so much. I need to analyze it more.,work thank much need analyze,issue,negative,positive,positive,positive,positive,positive
801546583,"Does it improve the performance? 
Perhaps it should be enabled by default, e.g.:

```
#if defined(__aarch64__) && !defined(USE_ARM_64_ASM)
#define USE_ARM_64_ASM 1
#endif
```",improve performance perhaps default defined defined define,issue,negative,neutral,neutral,neutral,neutral,neutral
801542495,"Thanks for the comments!

1. The velocityError added to fillMultiBodyConstraint call has been removed/restored.
2. The original pybullet function should have been fixed (with one more optional parameter for damping.)
",thanks added call original function fixed one optional parameter damping,issue,positive,positive,positive,positive,positive,positive
801188869,"It turns out that passing all three damping values (linear, angular, joint) does work without contactStiffness/contactDamping.
Personally, I would still consider the behavior of my provided script as a bug (especially since it fails without telling the user), but of course I can work around the problem.

Thank you for the info and your time.
",turn passing three damping linear angular joint work without personally would still consider behavior provided script bug especially since without telling user course work around problem thank time,issue,negative,neutral,neutral,neutral,neutral,neutral
801183149,"No function to return the value, since you have the values, just keep track of it.

~~~
import pybullet as p
import pybullet_data as pd
import time

p.connect(p.GUI)
p.setAdditionalSearchPath(pd.getDataPath())
p.setGravity(0,0,-10)

orn = p.getQuaternionFromEuler([-0.005,0,0])
p.loadURDF(""plane.urdf"", [0,0,0], orn)

r2d2 = p.loadURDF(""r2d2.urdf"",[0,0,0.5],orn)
wheels=[b""right_front_wheel_joint"",b""right_back_wheel_joint"",
        b""left_front_wheel_joint"",b""left_back_wheel_joint""]



for j in range (p.getNumJoints(r2d2)):
  info = p.getJointInfo(r2d2,j)
  if info[1] in wheels:
    print(""info["",j,""]="",info)
    p.changeDynamics(r2d2,j,linearDamping=0, angularDamping=0, jointDamping=0, mass=99)
    print (""mass="",p.getDynamicsInfo(r2d2,j)[0])
    p.setJointMotorControl2(r2d2,j,p.VELOCITY_CONTROL,force=0)



dt = p.getPhysicsEngineParameters()[""fixedTimeStep""]
print(""dt="",dt)
while p.isConnected():
  p.stepSimulation()
  time.sleep(dt)

~~~
mass prints 99 for me.",function return value since keep track import import import time range print print print mass,issue,negative,neutral,neutral,neutral,neutral,neutral
801178801,"Thank you for replying so quickly!

Ok, getDynamicsInfo does not return linearDamping and angularDamping, but is there a function which does return those values. As fas as I can see getJointInfo doesn't return them either.

And regarding the main problem: Simply skipping fixed joints does not change anything. Replace 'range(3)' in my previous script with '[2, 3, 6, 7]' (the wheel indicies according to your example). changeDynamics does not set the mass if linearDaming is passed in as a key word argument.",thank quickly return function return see return either regarding main problem simply skipping fixed change anything replace previous script wheel according example set mass key word argument,issue,negative,positive,neutral,neutral,positive,positive
801166174,"Check the PyBullet quickstart guide, those values are not returned in getDynamicsInfo. 
You need to skip fixed joints, here is a test script:

~~~
import pybullet as p
import pybullet_data as pd
import time

p.connect(p.GUI)
p.setAdditionalSearchPath(pd.getDataPath())
p.setGravity(0,0,-10)

orn = p.getQuaternionFromEuler([-0.005,0,0])
p.loadURDF(""plane.urdf"", [0,0,0], orn)

r2d2 = p.loadURDF(""r2d2.urdf"",[0,0,0.5],orn)
wheels=[b""right_front_wheel_joint"",b""right_back_wheel_joint"",
        b""left_front_wheel_joint"",b""left_back_wheel_joint""]



for j in range (p.getNumJoints(r2d2)):
  info = p.getJointInfo(r2d2,j)
  if info[1] in wheels:
    print(""info["",j,""]="",info)
    #p.changeDynamics(r2d2,j,linearDamping=0, angularDamping=0, jointDamping=0)
    p.setJointMotorControl2(r2d2,j,p.VELOCITY_CONTROL,force=0)



dt = p.getPhysicsEngineParameters()[""fixedTimeStep""]
print(""dt="",dt)
while p.isConnected():
  p.stepSimulation()
  time.sleep(dt)
   
~~~",check guide returned need skip fixed test script import import import time range print print,issue,negative,positive,neutral,neutral,positive,positive
801083884,"By the way, the *getDynamicsInfo()* only return **inertia diagonal**. What if it's not enough for a Irregular shape?",way return inertia diagonal enough irregular shape,issue,negative,neutral,neutral,neutral,neutral,neutral
801014824,"@seolhokim 

I think you where considering the wrong links, try:

`p.setJointMotorControlArray(robotID,range(1,len(target_position)+1),p.POSITION_CONTROL,targetPositions = target_position)`
",think considering wrong link try range,issue,negative,negative,negative,negative,negative,negative
800824030,"What I want to ask is why gripper doesn't move to coordinates where i wanted to move correctly.

I calculated InverseKinematics and do setJointMotorControl like I did in kukagymenv.
If call kuka_iiwa/kuka_with_gripper2.sdf and do exactly same work, then It works well. but xarm6_with_gripper.urdf not.",want ask gripper move move correctly calculated like call exactly work work well,issue,positive,positive,positive,positive,positive,positive
800725339,"You can see a working example here: 
https://github.com/erwincoumans/xArm-Python-SDK/tree/master/example/wrapper/xarm6
run 
~~~
python loadarm_sim.py
~~~
Good luck!",see working example run python good luck,issue,positive,positive,positive,positive,positive,positive
800638395,"This PR looks solid and makes Bullet usable with CMake - right now the targets don't define include dirs so linking to Bulet targets via `target_link_libraries` is not enough to use Bullet properly.

P.S. It will also be nice to add aliases for targets as was done in https://github.com/bulletphysics/bullet3/pull/1303 which was reverted, unfortunately.",solid bullet usable right define include linking via enough use bullet properly also nice add done unfortunately,issue,negative,positive,neutral,neutral,positive,positive
800541168,"I'm still using it + packaging it for conan-center-index.
If problems/issues arrive, I'd be happy to look at them.
But I think the main issue is that @erwincoumans is overloaded with other work to perform a thorough review.",still arrive happy look think main issue work perform thorough review,issue,positive,positive,positive,positive,positive,positive
800538014,"@erwincoumans Looks like @madebr did good work here and has a solid understanding of CMake. Any chance you can have a look at this and later the other CMake PR?

@madebr Are you still using bullet CMake actively? Will you be able to take care of following-up on bug reports if this is merged?",like good work solid understanding chance look later still bullet actively able take care bug,issue,positive,positive,positive,positive,positive,positive
800203079,"> We aim to generate RGB and Depth images of objects by using pybullet. Then, we plan to generate 3D point clouds of those objects by using these two kinds of images. Unfortunately, there is no built-in function for point cloud generation in pybullet.
> 
> However, we do not know the measure units of nearVal and farVal parameters used in computation of projection matrix. Is it millimeter or meter ?

Do you know how to generate the Depth images?I used the API getCameraImage, but  it returns values between 0 and 1",aim generate depth plan generate point two unfortunately function point cloud generation however know measure used computation projection matrix millimeter meter know generate depth used,issue,negative,negative,negative,negative,negative,negative
799972112,"Note that you can use a flag, URDF_MAINTAIN_LINK_ORDER, to maintain the link order. This only works if the links and joints in the URDF are added in the proper order: parents go before childs, for both links and joints.",note use flag maintain link order work link added proper order go link,issue,negative,neutral,neutral,neutral,neutral,neutral
799752080,"I figured the joint limits are not respected in `p.resetJointState`.

Thanks for bullet3!
Mahyar",figured joint thanks bullet,issue,negative,positive,positive,positive,positive,positive
798839031,need to check robot arm manipulation bound.,need check robot arm manipulation bound,issue,negative,neutral,neutral,neutral,neutral,neutral
797642371,"Try increasing the (global) variable gContactBreakingThreshold (to allow checking collisions at a larger distance), and increase the contactProcessingThreshold (allow contacts with larger positive distance to enter the LCP). You may need to do more work, use a debugger and enter the Bullet source code, put breakpoints and see where things are discarded.",try increasing global variable allow distance increase allow positive distance enter may need work use enter bullet source code put see,issue,positive,positive,positive,positive,positive,positive
797637061,"Yes, that's exactly what we want to do. How we can do this and is there a function to set this distance? ",yes exactly want function set distance,issue,negative,positive,positive,positive,positive,positive
797633850,"If there is no collision detection, and no contact points there is no way to generate the LCP.

I think you mean, there IS collision detection, and there ARE contact points (with positive distance, so a positive separation instead of penetration), but Bullet is discarding those contact points?

You want to disable the discarding of contact points with positive distance, and allow to generate contact points at (large) distance?",collision detection contact way generate think mean collision detection contact positive distance positive separation instead penetration bullet contact want disable contact positive distance allow generate contact large distance,issue,positive,positive,positive,positive,positive,positive
797533092,"Hi Erwin,
Thank you for the answer, I work with Devesh on the same problem and we are specifically looking into the second case where Bullet builds the complete MLCP and solves it.
our main point is how to force bullet to compute the LCP each time step even if there is no contact or any other constraint (I know this doesn't make much sense because there is no problem to solve ) but this will help us in our project.
1- How we can do this? 
I can be more specific we think that this parameter  ""CONVEX_DISTANCE_MARGIN"" is making the decision when to create the MLCP for the contact constraint or not? 
2- IS our thought is correct? 
3- we tried to change this parameter beside the safe margin parameter but it didn't change anything? Any suggestions?
#define CONVEX_DISTANCE_MARGIN btScalar(0.04)",hi thank answer work problem specifically looking second case bullet complete main point force bullet compute time step even contact constraint know make much sense problem solve help u project specific think parameter making decision create contact constraint thought correct tried change parameter beside safe margin parameter change anything define,issue,positive,positive,positive,positive,positive,positive
797162802,"Good point, thanks for the contribution!",good point thanks contribution,issue,positive,positive,positive,positive,positive,positive
797126078,"@erwincoumans Hi Erwin, any chance you'll be able to review/merge this and #3293 sometime soon?
This seems fairly straightforward and it greatly improves heightfield collision performance.

Tested with a basic unit test and play-tested with OpenMW.",hi chance able sometime soon fairly straightforward greatly collision performance tested basic unit test,issue,negative,positive,positive,positive,positive,positive
797069039,"1) Which Jacobians exactly? By default, Bullet and PyBullet use the PGS iterative constraint solver (projected Gauss Seidel). This solver doesn't explicitly build the Jacobian vector or mass matrix (or A=J*M-1*Jt matrix).

2) If there are no contact points, and no other constraints (such as joint limits, joint motors etc), then there is no MLCP problem, so there is nothing to solve. If there a no contacts, but still joint limits and joint motors, then the LCP or MLCP is solved for those non-contact constraints. You will have to enable the MLCP solver instead of the iterative PGS solver.",exactly default bullet use iterative constraint solver gauss seidel solver explicitly build vector mass matrix matrix contact joint joint problem nothing solve still joint joint enable solver instead iterative solver,issue,negative,positive,positive,positive,positive,positive
797050057,Can you please help us understand this implementation in Bullet?,please help u understand implementation bullet,issue,positive,neutral,neutral,neutral,neutral,neutral
793523448,"Good Day @erwincoumans, happy it was accepted.

I did not know there was a C++ implementation, could you share a link to it for clearer access to it on the repo (or API docs or on an example, the only references that I found of stable PD in the repo directed me to the python implementation). I believe people could use clearer access to this information.",good day happy accepted know implementation could share link clearer access example found stable directed python implementation believe people could use clearer access information,issue,positive,positive,positive,positive,positive,positive
792946394,"Should be fixed now with pybullet-3.1.0 compiled against numpy==1.19.5
~~~
!pip install pybullet --upgrade
import pybullet as p
~~~",fixed pip install upgrade import,issue,negative,positive,neutral,neutral,positive,positive
792924296,"pybullet 3.0.9 is compiled against latest numpy (1.20.1). It seems colab still uses 1.19.5
I'll upload a new package (3.0.10) against numpy 1.19.5. Alternatively, pip install numpy==1.20.1
or install from source (takes about 5 minutes, grab a tea/coffee/other drink)
~~~
!pip install pybullet --no-binary :all:
~~~

",latest still new package alternatively pip install install source grab drink pip install,issue,negative,positive,positive,positive,positive,positive
792923806,"pybullet 3.0.9 is compiled against latest numpy (1.20.1). It seems colab still uses 1.19.5
I'll upload a new package (3.0.10) against numpy 1.19.5. Alternatively, pip install numpy==1.20.1
",latest still new package alternatively pip install,issue,negative,positive,positive,positive,positive,positive
792770790,"Colab.

Create a new colab and run 

```
!pip install pybullet
import pybullet
```

to reproduce the error.",create new run pip install import reproduce error,issue,negative,positive,positive,positive,positive,positive
792726604,"@erwincoumans  
The Error arise in the pip version 3.0.9, while it's not there in 3.0.8.

This works without errors: 

```
pip install pybullet==3.0.8
import pybullet as p
```",error arise pip version work without pip install import,issue,negative,neutral,neutral,neutral,neutral,neutral
792320636,"You could create a separate URDF file, without the gripper.",could create separate file without gripper,issue,negative,neutral,neutral,neutral,neutral,neutral
792320551,"The cmake files are just for convenience, we don't support them. If you have an issue, just edit the files.",convenience support issue edit,issue,negative,neutral,neutral,neutral,neutral,neutral
792320429,"You can edit the URDF file and make the joints ""fixed"", instead of ""revolute"" / ""continuous"" / ""spherical""",edit file make fixed instead revolute continuous spherical,issue,negative,positive,neutral,neutral,positive,positive
792320113,"No idea about the request, but unless you have a small reproduction case in a small pybullet test showing a bug, it is best to discuss this in the forums (and hope someone can help).",idea request unless small reproduction case small test showing bug best discus hope someone help,issue,positive,positive,positive,positive,positive,positive
792319133,Please use the forum for discussions like this. We don't support details about the panda robot here.,please use forum like support panda robot,issue,positive,neutral,neutral,neutral,neutral,neutral
792304199,"Thanks for making the effort of fixing this! LGTM. Note that by default, we use a C++ implementation, not the Python version. I implemented the Python version for clarity.",thanks making effort fixing note default use implementation python version python version clarity,issue,positive,positive,positive,positive,positive,positive
792303330,"How did you install pybullet with cmake? Usually it involved some manual creation of symbolic links, just remove those.",install usually involved manual creation symbolic link remove,issue,negative,negative,negative,negative,negative,negative
792303226,"There is no way, unless you modify the source code and recompile.",way unless modify source code recompile,issue,negative,neutral,neutral,neutral,neutral,neutral
792302767,"I checked it, and there is no memory leak in above script, using PyBullet 3.0.9.  Make sure you properly uninstall older pybullet versions (pip uninstall pybullet)

Also, don't load urdf files in a reset function, use saveState/restoreState instead.

![image](https://user-images.githubusercontent.com/725468/110246494-ab9df600-7f1c-11eb-9571-8f7536d64142.png)
",checked memory leak script make sure properly older pip also load reset function use instead image,issue,negative,positive,positive,positive,positive,positive
792247493,"Thanks for the new version, but it seems it's still happening for some specific URDF file.

I tested it on my machine. It works fine if i load rd2d.urdf. But the GPU Memory consumption keep increase when i load a1/a1.urdf.

",thanks new version still happening specific file tested machine work fine load memory consumption keep increase load,issue,positive,positive,positive,positive,positive,positive
790953026,"Yes, pybullet_utils.bullet_client allows you to run multiple instances in parallel. The link you shared explains how to do this. Yes indeed, 4 worker processes, each one running 25 sims_per_worker.",yes run multiple parallel link yes indeed worker one running,issue,positive,neutral,neutral,neutral,neutral,neutral
790951471,"If you care, you can create an option in the setup.py process for system-wide zlib (disabled by default!).
I'd like to keep PyBullet to be self-contained (note that we don't need to link against GL and GLEW btw, it can be removed).
Not all  systems have zlib installed system wide.
Closing for now, so if you care, please create a pull request with setup.py option (not changing the default behavior).",care create option process disabled default like keep note need link removed system wide care please create pull request option default behavior,issue,positive,negative,negative,negative,negative,negative
790950214,"eg. with the code below, `obj_arr` is what you want.
```
        if info:
            flag = self.p.ER_SEGMENTATION_MASK_OBJECT_AND_LINKINDEX
        else:
            flag = self.p.ER_NO_SEGMENTATION_MASK

        camera_images = self.p.getCameraImage(width=zoom_width,
                                              height=zoom_height,
                                              viewMatrix=view_mat,
                                              projectionMatrix=self.proj_matrix,
                                              shadow=1, 
                                              lightDirection=light_direction,
                                              renderer=self.p.ER_BULLET_HARDWARE_OPENGL,
                                              flags=flag,
                                              physicsClientId=self.cid)

        hight, width, img_arr, depth_arr, obj_arr =  camera_images
        ```
        ",code want flag else flag hight width,issue,negative,neutral,neutral,neutral,neutral,neutral
790949001,"You could, just change the source code, it it Python.",could change source code python,issue,negative,neutral,neutral,neutral,neutral,neutral
790947776,"The problem is most likely in the calling code, not inside the Bullet SDK. Closing for now. Please create a new issue, if you can re-create it in any of the example of the ExampleBrowser or in PyBullet.

Note that if you make changes to a collision shape/collision object, you first have to remove the object from the world, make the change, and re-insert it in the world.",problem likely calling code inside bullet please create new issue example note make collision object first remove object world make change world,issue,negative,positive,positive,positive,positive,positive
790782153,"Thanks for the report. 
You can avoid this by not loading a URDF file each time a simulation is reset. You can get deterministic behavior using saveState/restoreState, and it is much better for reset performance. See here how this is done in some PyBullet Gym environments:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/gym_pendulum_envs.py#L20

It is due to a texture not released (colors.png for the Panda robot, delete the file, and the leak is gone). Fixed here: https://github.com/bulletphysics/bullet3/pull/3296",thanks report avoid loading file time simulation reset get deterministic behavior much better reset performance see done gym due texture panda robot delete file leak gone fixed,issue,negative,positive,positive,positive,positive,positive
790410802,"Hi. It seems I'm still getting the same problem that pybullet.removeBody did not release GPU Memory with EGL.
I did use resetSimulation from time to time. I was able to reproduce the problem with example code and a few line more.

I'm using pybullet 3.0.8 & CUDA 11 

```
import pybullet as p
import time
import pkgutil
egl = pkgutil.get_loader('eglRenderer')
import pybullet_data

p.connect(p.DIRECT)
p.setAdditionalSearchPath(pybullet_data.getDataPath())
plugin = p.loadPlugin(egl.get_filename(), ""_eglRendererPlugin"")
print(""plugin="", plugin)

p.configureDebugVisualizer(p.COV_ENABLE_RENDERING, 0)
p.configureDebugVisualizer(p.COV_ENABLE_GUI, 0)

p.setGravity(0, 0, -10)
idp = p.loadURDF(""plane.urdf"", [0, 0, -1])
r2d2 = p.loadURDF(""r2d2.urdf"")

pixelWidth = 320
pixelHeight = 220
camTargetPos = [0, 0, 0]
camDistance = 4
pitch = -10.0
roll = 0
upAxisIndex = 2

while (p.isConnected()):
    p.removeBody(idp)
    p.removeBody(r2d2)

    p.resetSimulation()

    idp = p.loadURDF(""plane.urdf"", [0, 0, -1])
    r2d2 = p.loadURDF(""r2d2.urdf"")

    
    for yaw in range(0, 360, 10):
        start = time.time()
        p.stepSimulation()
        stop = time.time()
        print(""stepSimulation %f"" % (stop - start))

        #viewMatrix = [1.0, 0.0, -0.0, 0.0, -0.0, 0.1736481785774231, -0.9848078489303589, 0.0, 0.0, 0.9848078489303589, 0.1736481785774231, 0.0, -0.0, -5.960464477539063e-08, -4.0, 1.0]
        viewMatrix = p.computeViewMatrixFromYawPitchRoll(camTargetPos, camDistance, yaw, pitch, roll,
                                                        upAxisIndex)
        projectionMatrix = [
            1.0825318098068237, 0.0, 0.0, 0.0, 0.0, 1.732050895690918, 0.0, 0.0, 0.0, 0.0,
            -1.0002000331878662, -1.0, 0.0, 0.0, -0.020002000033855438, 0.0
        ]

        start = time.time()
        img_arr = p.getCameraImage(pixelWidth,
                                pixelHeight,
                                viewMatrix=viewMatrix,
                                projectionMatrix=projectionMatrix,
                                shadow=1,
                                lightDirection=[1, 1, 1])
        stop = time.time()
        print(""renderImage %f"" % (stop - start))
        #time.sleep(.1)
        #print(""img_arr="",img_arr)

p.unloadPlugin(plugin)
```",hi still getting problem release memory use time time able reproduce problem example code line import import time import import print pitch roll yaw range start stop print stop start yaw pitch roll start stop print stop start print,issue,negative,positive,positive,positive,positive,positive
790081072,"Additionally, copying from the above issue ^

>The sphere gets stuck in mid-air (much above the floor) and only falls to the floor when either:
>
>* Floor is set to kinematic and then back
>* Sphere is set to kinematic and then back
>* Floor dimensions are changed",additionally issue sphere stuck much floor floor either floor set kinematic back sphere set kinematic back floor,issue,negative,positive,neutral,neutral,positive,positive
789907668,"Indeed, STL files can be loaded using the createCollisionShape and createVisualShape API, and also be referenced in a URDF file.
[teststl.zip](https://github.com/bulletphysics/bullet3/files/6077867/teststl.zip)

Wavefront OBJ files are better: 
1) they can have textures (for visualShape)
2) they can store a convex decomposition (for collision shapes), so you can have moving concave colliders.
See attached teststl.zip, the testobj.py script shows a textured obj and also a convex decomposition (use 'w' to see the wireframe, and compare teststl with testobj. 
You can use Blender to create a manual convex decomposition (go to edit more, select parts (faces, vertices, edges) and press 'p' to make the selection into a separate obkject in the obj file. When export to obj, you can choose to have objects being separate. PyBullet will properly store them in a compound shape (btCompoundShape) under the hood.
",indeed loaded also file better store convex decomposition collision moving concave see attached script also convex decomposition use see compare use blender create manual convex decomposition go edit select vertex press make selection separate file export choose separate properly store compound shape hood,issue,negative,positive,positive,positive,positive,positive
789764181,"For an object with collisions:
```python
shape_id = pybullet.createCollisionShape(
    shapeType=pybullet.GEOM_MESH,
    fileName=""path/to/mesh.stl"",
)
body_id = pybullet.createMultiBody(
    baseCollisionShapeIndex=shape_id,
    basePosition=(0, 0, 0),
    baseOrientation=(0, 0, 0, 1),
)
```
For an object without collisions (i.e. only for visualisation):
```python
shape_id = pybullet.createVisualShape(
    shapeType=pybullet.GEOM_MESH,
    fileName=""path/to/mesh.stl"",
)
body_id = pybullet.createMultiBody(
    baseVisualShapeIndex=shape_id,
    basePosition=(0, 0, 0),
    baseOrientation=(0, 0, 0, 1),
)
```",object python object without python,issue,negative,neutral,neutral,neutral,neutral,neutral
789731551,"How are you loading them? Right now I'm calling them from a URDF file. 
Ideally there could be an API like: p.loadSTL(...)",loading right calling file ideally could like,issue,positive,positive,positive,positive,positive,positive
789721491,I think this is already resolved since quite a while.  At least I'm using STL meshes with pyBullet and everything is working.,think already resolved since quite least everything working,issue,negative,negative,negative,negative,negative,negative
788937484,"Thanks @erwincoumans, thought as much, probably more efficient to just query the urdf and do the computation by hand, but for now I'm lazy, so I'll use what I've got!  Thanks for the library btw, documentation and examples are a bit thin, but it's way faster than Gazebo, and I will deal with quite a few transition issues for that benefit alone! :)",thanks thought much probably efficient query computation hand lazy use got thanks library documentation bit thin way faster gazebo deal quite transition benefit alone,issue,positive,negative,neutral,neutral,negative,negative
788348282,"The easiest for now is create a second DIRECT pybullet connection, load the arm there, reset it to the angles, and run the forward kinematics in that second 'dummy' robot.",easiest create second direct connection load arm reset run forward kinematics second robot,issue,positive,positive,neutral,neutral,positive,positive
788098802,"@erwincoumans I saw this functionality, but doesn't it require the robot to already be in the specific configuration? How would I get the forward kinematics of an arbitrary configuration of jointAngles as per the original question (without setting the robot to the config)?",saw functionality require robot already specific configuration would get forward kinematics arbitrary configuration per original question without setting robot,issue,negative,positive,neutral,neutral,positive,positive
787777829,"After #2062, in areas where heightfield collision is still slow, perf report looks like this:

![perf report showing most time spent in btGjkPairDetector::getClosestPointsNonVirtual](https://user-images.githubusercontent.com/216339/109474023-f4ad0080-7a6b-11eb-8923-d80714dbbabd.png)
",collision still slow report like report showing time spent,issue,negative,negative,negative,negative,negative,negative
787607026,@houliwei  We have been able to use deformables in PyBullet in this recent work: https://berkeleyautomation.github.io/bags/,able use recent work,issue,negative,positive,positive,positive,positive,positive
787423646,"> @moistchi, please link the specific file that you are referring to.
> 
> Warm Regards,
> Rohit
it's in panda_sim.py
https://github.com/bulletphysics/bullet3/blob/afa4fb54505fd071103b8e2e8793c38fd40f6fb6/examples/pybullet/gym/pybullet_envs/examples/panda_sim.py
",please link specific file warm,issue,negative,positive,positive,positive,positive,positive
784413351,"Yes, we reimplemented the URDF parser and added additional features (and not all URDF tags are used). We use Python to enable actuators. Please just check the example I send in previous post.",yes parser added additional used use python enable please check example send previous post,issue,positive,negative,negative,negative,negative,negative
784411291,I was under the impression that URDF did to have the spherical joint type according to http://wiki.ros.org/urdf/XML/joint. Does pyBullet have a special interpreter for this type of joints? ,impression spherical joint type according special interpreter type,issue,positive,positive,positive,positive,positive,positive
784393618,"Thank you for the prompt response. This is very helpful, the actuation of the spherical joint may be the part I was missing. 

",thank prompt response helpful actuation spherical joint may part missing,issue,negative,negative,negative,negative,negative,negative
784373344,"Hi, you could attach the ball to the robot torso using a spherical joint. This spherical joint can be actuated in various ways, for example explicit PD control, implicit (stable) PD control or using a spherical joint motor. See this example how to configure this: https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py
An example of a URDF with spherical joint is here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/humanoid/humanoid.urdf",hi could attach ball robot torso spherical joint spherical joint various way example explicit control implicit stable control spherical joint motor see example configure example spherical joint,issue,negative,neutral,neutral,neutral,neutral,neutral
784092083,"Ok I fixed it.

The JOINT_GEAR constraint is the way to go to simulate belt / pulleys systems. What I didn't understand is that a gear constraint does not act on links but on joints, they constrain two angles.
Which angles ? The angles between the links passed in argument to ```createConstraint``` and their parent body. 

To create a gear constraint in a system such as :
Pulley 1 -> Arm -> Pulley 2
The two links given to ```createConstraint``` must be Arm and Pulley 2.

Comment here if someone needs more explanation. 

@erwincoumans I feel the doc would benefit from an update regarding constraints, tell me if I can help.",fixed constraint way go simulate belt understand gear constraint act link constrain two link argument parent body create gear constraint system pulley arm pulley two link given must arm pulley comment someone need explanation feel doc would benefit update regarding tell help,issue,positive,positive,neutral,neutral,positive,positive
783138523,"The user reported that:
```
 the i965_dri module dynamically links the system version of zlib:

/usr/local/lib/dri/i965_dri.so:
        libz.so.6 => /lib/libz.so.6 (0x80086a000)
        libglapi.so.0 => /usr/local/lib/libglapi.so.0 (0x800886000)
        libdrm_intel.so.1 => /usr/local/lib/libdrm_intel.so.1 (0x8008e6000)
        libdrm_radeon.so.1 => /usr/local/lib/libdrm_radeon.so.1 (0x80090e000)
        libdrm.so.2 => /usr/local/lib/libdrm.so.2 (0x80091c000)
        libexpat.so.1 => /usr/local/lib/libexpat.so.1 (0x800933000)
        libthr.so.3 => /lib/libthr.so.3 (0x8007c0000)
        libc++.so.1 => /usr/lib/libc++.so.1 (0x801b31000)
        libcxxrt.so.1 => /lib/libcxxrt.so.1 (0x800960000)
        libm.so.5 => /lib/libm.so.5 (0x800982000)
        libc.so.7 => /lib/libc.so.7 (0x800253000)
        libgcc_s.so.1 => /lib/libgcc_s.so.1 (0x8009b4000)
        libpciaccess.so.0 => /usr/local/lib/libpciaccess.so.0 (0x8009ce000)
```
and the conflict arises.

This patch helps:
```
--- setup.py.orig	2021-02-22 06:17:11 UTC
+++ setup.py
@@ -160,21 +160,6 @@ sources = [""examples/pybullet/pybullet.c""]\
 +[""examples/ThirdPartyLibs/minizip/ioapi.c""]\
 +[""examples/ThirdPartyLibs/minizip/unzip.c""]\
 +[""examples/ThirdPartyLibs/minizip/zip.c""]\
-+[""examples/ThirdPartyLibs/zlib/adler32.c""]\
-+[""examples/ThirdPartyLibs/zlib/compress.c""]\
-+[""examples/ThirdPartyLibs/zlib/crc32.c""]\
-+[""examples/ThirdPartyLibs/zlib/deflate.c""]\
-+[""examples/ThirdPartyLibs/zlib/gzclose.c""]\
-+[""examples/ThirdPartyLibs/zlib/gzlib.c""]\
-+[""examples/ThirdPartyLibs/zlib/gzread.c""]\
-+[""examples/ThirdPartyLibs/zlib/gzwrite.c""]\
-+[""examples/ThirdPartyLibs/zlib/infback.c""]\
-+[""examples/ThirdPartyLibs/zlib/inffast.c""]\
-+[""examples/ThirdPartyLibs/zlib/inflate.c""]\
-+[""examples/ThirdPartyLibs/zlib/inftrees.c""]\
-+[""examples/ThirdPartyLibs/zlib/trees.c""]\
-+[""examples/ThirdPartyLibs/zlib/uncompr.c""]\
-+[""examples/ThirdPartyLibs/zlib/zutil.c""]\
 +[""examples/Importers/ImportColladaDemo/LoadMeshFromCollada.cpp""]\
 +[""examples/Importers/ImportObjDemo/LoadMeshFromObj.cpp""]\
 +[""examples/Importers/ImportObjDemo/Wavefront2GLInstanceGraphicsShape.cpp""]\
@@ -438,7 +423,7 @@ elif _platform == ""darwin"":
   +[""examples/OpenGLWindow/MacOpenGLWindowObjC.m""]
 else:
   print(""bsd!"")
-  libraries = ['GL', 'GLEW', 'pthread']
+  libraries = ['GL', 'GLEW', 'pthread', 'z']
   os.environ['LDFLAGS'] = '-L/usr/X11R6/lib'
   CXX_FLAGS += '-D_BSD '
   CXX_FLAGS += '-I/usr/X11R6/include '
```",user module dynamically link system version conflict patch else print,issue,negative,neutral,neutral,neutral,neutral,neutral
782762536,There is: getJointState and getLinkState(s) with the compute forward dynamics flag enabled.,compute forward dynamic flag,issue,negative,neutral,neutral,neutral,neutral,neutral
782762315,Bump; the documentation mentions forward kinematics in the table of contents but there is no such function.,bump documentation forward kinematics table content function,issue,negative,neutral,neutral,neutral,neutral,neutral
782677152,"I'd love to see this TODO addressed:

https://github.com/bulletphysics/bullet3/blob/abea1a848411cf53385fb8288c89db05e5751ef7/src/BulletCollision/CollisionShapes/btHeightfieldTerrainShape.cpp#L336

`btHeightfieldTerrainShape::processAllTriangles` is 15% of the total frame time in openmw:

![perf report showing heighfield collision taking a significant amount of time in openmw](https://user-images.githubusercontent.com/216339/108598406-3e6b5c00-7385-11eb-9a1b-e3e1a4e96630.png)

/cc @psi29a",love see total frame time report showing collision taking significant amount time,issue,positive,positive,positive,positive,positive,positive
782603208,There is a good guide here on how to move a directory to a separate repository while preserving history git history https://medium.com/@ayushya/move-directory-from-one-repository-to-another-preserving-git-history-d210fa049d4b,good guide move directory separate repository history git history,issue,negative,positive,positive,positive,positive,positive
782268252,"As the error reports, you need a full installation of Visual Studio 2019 with C++ support, it is free, download it from Microsoft.",error need full installation visual studio support free,issue,positive,positive,positive,positive,positive,positive
782187340,Your guess was spot on--one of my teammates had exported the STLs with the screws included and the number of vertices was ridiculous. Reduced them via meshlab and everything works great. Thanks again for the help!,guess spot one included number vertex ridiculous reduced via everything work great thanks help,issue,positive,positive,positive,positive,positive,positive
782145562,Sounds good! I'll try to simplify the models and I'll let you know if that works! Thank you for the quick response!,good try simplify let know work thank quick response,issue,positive,positive,positive,positive,positive,positive
782144478,"Can't tell without repro case, but most likely your models have too many vertices (and/or triangles). Please simply them a lot, for example using Blender (mesh reduction). Sometimes, people even add screws of thousands of vertices that are invisible. We use a very conservative limit on the GPU memory usage.",ca tell without case likely many vertex please simply lot example blender mesh reduction sometimes people even add vertex invisible use conservative limit memory usage,issue,negative,positive,positive,positive,positive,positive
781244257,"@tfederico , you can try:
```
pos = <whatever_existing _joint_position_you_want>
maxForce = <It is stated as 500 in the Pybullet quick start guide, but i think you can make it higher>
p.setJointMotorControl2(<robotUId>,<joint_index>,controlMode=p.POSITION_CONTROL,tragetPosition=pos,maxForce=maxForce)
```
Warm  Regards, 
Rohit",try stated quick start guide think make higher warm,issue,negative,positive,positive,positive,positive,positive
780969861,"That file was contributed by Apple under the zlib license. I have never heard of OSFMK or APSL, but there is no relationship with that project.",file apple license never relationship project,issue,negative,neutral,neutral,neutral,neutral,neutral
780752658,@erwincoumans Are there any plans for adding collision margin in the python API? Thanks,collision margin python thanks,issue,negative,positive,positive,positive,positive,positive
780682629,"@erwincoumans if I increase the mass of the lower-body parts, would the center of mass automatically move closer to the ground?",increase mass would center mass automatically move closer ground,issue,negative,negative,neutral,neutral,negative,negative
779383348,"Are you clamping the data you send to PyBullet in the range [-1,1] ? If you can reproduce it in a small case, please share the code.",data send range reproduce small case please share code,issue,positive,negative,negative,negative,negative,negative
779029424,"> I just had a RL agent trick me several times by sending NaN into my pybullet controlled simulation. I had this problem before with bullet physics that the rest of my simulator somehow produced NaNs and set them for positions or similar, which messed up the physics simulation. Given that people using pybullet may not be aware of such an issue, maybe it could help to check if values are numerical values (e.g. not NaN).

I am also finding this issue, GetBasePositionOrientation( ) is returning NaN during the training. I am training robot on custom heighfield map. What might be the reason for getting NaNs,  I am sure in my env I amnot setting any simulation parameters to NaN. ",agent trick several time sending nan simulation problem bullet physic rest simulator somehow produced set similar physic simulation given people may aware issue maybe could help check numerical nan also finding issue nan training training robot custom map might reason getting sure setting simulation nan,issue,negative,positive,positive,positive,positive,positive
776323716,"These instructions for setting up Xcode worked for me:
https://github.com/nodejs/node-gyp/issues/569#issuecomment-255589932

They are consistent with @erwincoumans suggestion to try:
sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer

System:
macOS Big Sur
Version 11.2

Thanks for all your help @erwincoumans, I've slowly pieced together a solution for myself from many of your posts online.",setting worked consistent suggestion try system big sur version thanks help slowly together solution many,issue,positive,positive,positive,positive,positive,positive
776220574,"According to [here](https://github.com/bulletphysics/bullet3/blob/abea1a848411cf53385fb8288c89db05e5751ef7/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L11132), setting the `flags` to 1 uses RBD Model (I don't know what exactly it is, but it's for stable PD controller) instead of solving inverse dynamics directly. However, setting `flag` to 0 when keeping the dimension of `q` to `dof + 7` and that of `dq`, `ddq` to `dof + 6` may also work.",according setting model know exactly stable controller instead inverse dynamic directly however setting flag keeping dimension may also work,issue,positive,positive,positive,positive,positive,positive
775530334,"> Never mind. I figured out that the Jacobian is computed in the base frame. Marking issue as resolved.

Hello Alescontrela, 

Would you please explain me what do you mean by computed in the base frame?

I am trying to implement cartesian impedance controller for KUKA lwr robot. I would want to convert the cartesian forces to Joint torques. I tried converting by multiplying with Jacobian Transpose. However, I observed the unexpected behaviour of the robot. 

Would any one please help me to resolve this issue  that the best way to convert Cartesian forces and torques to joint torques using Jacobian obtained from pybullet.calculateJacobian ?",never mind figured base frame marking issue resolved hello would please explain mean base frame trying implement impedance controller robot would want convert joint torque tried converting multiplying transpose however unexpected behaviour robot would one please help resolve issue best way convert torque joint torque,issue,positive,negative,negative,negative,negative,negative
775410708,"Hi @erwincoumans,

Thank you very much for your reply. I am not sure what you mean by `root` directory, this command `build_cmake_pybullet_double.sh` is located in the directory of `bulletphysics`. I guess you mean the root directory of this repo, instead of my computer?

Did you mean that when I ran `./build_cmake_pybullet_double.sh`, I don't need to `cd` to each example and built them separately?

Thanks!
",hi thank much reply sure mean root directory command directory guess mean root directory instead computer mean ran need example built separately thanks,issue,positive,negative,neutral,neutral,negative,negative
775399883,"I think cmake defines that variable, if ran from the root directory.

./build_cmake_pybullet_double.sh
This should already build all the examples, you shouldn't need to build them again.

We use this to build Bullet from a different repo:

~~~~~~~~~~~~~~~~~
cmake  -DUSE_DOUBLE_PRECISION=ON -DCMAKE_DEBUG_POSTFIX="""" -DINSTALL_LIBS=ON -DCMAKE_BUILD_TYPE=Release  -DCMAKE_INSTALL_PREFIX:PATH=local_install  ..
make -j4
make install
~~~~~~~~~~~~~~~~~

See also this simple cmake example:
https://github.com/erwincoumans/hello_bullet_cmake
",think variable ran root directory already build need build use build bullet different make make install see also simple example,issue,negative,neutral,neutral,neutral,neutral,neutral
775254949,"I added license files for all directories in Extras and examples/ThirdPartyLibs.
Often the license information is at the top of source code files, the build files in Bullet as also zlib license, if you want to re-use them.",added license often license information top source code build bullet also license want,issue,negative,positive,positive,positive,positive,positive
775233530,"ok, thanks. i randomly opened https://github.com/bulletphysics/bullet3/blob/master/Extras/BulletRobotics/premake4.lua which does not have license information, but on the other hand it is a build file. checking some .cpp and .h files i found no missing license information.",thanks randomly license information hand build file found missing license information,issue,positive,negative,negative,negative,negative,negative
775202701,Dis you check the license header inside any of the cpp/header files? Which specific file(s) have an unclear license?,dis check license header inside specific file unclear license,issue,negative,neutral,neutral,neutral,neutral,neutral
774683921,PyBullet GUI mode requires proper OpenGL 3.2 or above. Your virtual machine doesn't support that.,mode proper virtual machine support,issue,negative,neutral,neutral,neutral,neutral,neutral
774345212,"Another thing that may help, read and write the URDF file using the PyBullet UrdfEditor, it may re-align the joint frame as it us used internally:

Run this script (replace capsule.urdf with your robot)
~~~~~~~~~~~~~~~
from pybullet_utils import bullet_client as bc
from pybullet_utils import urdfEditor as ed
import pybullet
import pybullet_data
import time

p0 = bc.BulletClient(connection_mode=pybullet.DIRECT)
p0.setAdditionalSearchPath(pybullet_data.getDataPath())


kuka = p0.loadURDF(""capsule.urdf"")

ed0 = ed.UrdfEditor()
ed0.initializeFromBulletBody(kuka, p0._client)

ed0.saveUrdf(""capsule_out.urdf"")
~~~~~~~~~~~~~~~

(this script requires a reasonably recent updated pip install pybullet)",another thing may help read write file may joint frame u used internally run script replace robot import import import import import time script reasonably recent pip install,issue,negative,neutral,neutral,neutral,neutral,neutral
774331239,"Can you provide a small full working script, together with a specific URDF file, so someone maybe able to verify?
(PyBullet has a few rudimentary methods such as pybullet.multiplyTransforms and pybullet.inverseTransform if needed)
I doubt this is a bug, but the joint frame could be re-aligned, since URDF and PyBullet have different conventions, but it shouldn't affect joint angles or world-space coordinates.",provide small full working script together specific file someone maybe able verify rudimentary doubt bug joint frame could since different affect joint,issue,negative,positive,positive,positive,positive,positive
772825524,"@erwincoumans Is the URDF join method easily reversible? Other sims stacks (Gazebo/MoveIt) expose an ""attach object"" method so that we can fake an effective pick/grasp with an end-effector. Ideally, there is also a detachObject method. The PyBullet 'createConstraint' methods works in some cases, but in a situation where we want to measure force feedback on the object without it violating the constraint or being released from the end-effector, a URDF fusing approach might be more ideal. It there an easy way to ""detach"" or ""unjoin"" the two urdfs?",join method easily reversible expose attach object method fake effective ideally also method work situation want measure force feedback object without constraint approach might ideal easy way detach unjoin two,issue,positive,positive,positive,positive,positive,positive
770206176,"To others that want to know what the actual reason is you get this error: a joint can have multiple states. So let's say you have an object with 3 hinge joints, which you want to assign the angles `[-pi,+pi,-pi]`. Then don't do:

```
pybullet.resetJointStatesMultiDof(objectId, [0, 1, 2], [-np.pi, np.pi, -np.pi])
```

But do

```
pybullet.resetJointStatesMultiDof(objectId, [0, 1, 2], [[-np.pi], [np.pi], [-np.pi]])
```

In other words, add an extra dimension.",want know actual reason get error joint multiple let say object hinge want assign add extra dimension,issue,negative,neutral,neutral,neutral,neutral,neutral
769912064,"Sorry to revive such an old issue but these leaks are still here. I tested this with:
- python 2.7, 3.6, 3.7, 3.8
- pybullet 3.0.8.
- openGL 2 and 3
They happen with **any** Keyboard event. Basically, keeping a button pressed when the GUI is on focus (e.g. to pan the camera) causes leaks. Any clue what could cause this?

Of course, I can use DIRECT or move the camera from code to avoid the problem, but maybe we can find an actual solution 
Here a simple script I was using to debug this:
```python
#! /usr/bin/env python3

import pybullet as pb
import pybullet_data as pb_data
import math


def setup_panda_environment():
    flags = pb.URDF_ENABLE_CACHED_GRAPHICS_SHAPES

    floor = pb.loadURDF(""plane.urdf"", basePosition=[0., 0., -0.65],
                        useFixedBase=False)
    table = pb.loadURDF(""table/table.urdf"", [0.5, 0.25, -0.625],
                        pb.getQuaternionFromEuler([0., 0., 0]),
                        useFixedBase=False, flags=flags)

    # base orientation wrt world frame
    orn = pb.getQuaternionFromEuler([0., 0., - math.pi/2.])
    panda = pb.loadURDF(""franka_panda/panda.urdf"", [0., 0., 0.], orn,
                        useFixedBase=True, flags=flags)


def state_to_message(state, state_dictionary):
    message = """"
    for flag in state_dictionary:
        if (state & flag) == flag:
            message += str(state_dictionary[flag])
    return message


if __name__ == ""__main__"":
    pb.connect(pb.GUI)
    pb.setAdditionalSearchPath(pb_data.getDataPath())
    setup_panda_environment()

    keyboard_states = {
        pb.KEY_WAS_TRIGGERED: ""Pressed"",
        pb.KEY_IS_DOWN: ""Down"",
        pb.KEY_WAS_RELEASED: ""Released""
    }

    keyboard_events = {
        pb.B3G_ALT: ""ALT"",
        pb.B3G_CONTROL: ""CTLR"",
        pb.B3G_RIGHT_ARROW: ""RIGHT"",
        pb.B3G_LEFT_ARROW: ""LEFT"",
        pb.B3G_SHIFT: ""SHIFT"",
        pb.B3G_HOME: ""HOME""
    }

    while(True):
        user_input = input('Logging key events [q to quit]...')

        if user_input == ""q"":
            break

        ke = pb.getKeyboardEvents()
        for key in ke:
            print('{}: {}'.format(keyboard_events.get(key, key),
                                  state_to_message(ke[key], keyboard_states)))

    pb.disconnect()
```",sorry revive old issue still tested python happen keyboard event basically keeping button focus pan camera clue could cause course use direct move camera code avoid problem maybe find actual solution simple script python python import import import math floor table base orientation world frame panda state message flag state flag flag message flag return message alt right left shift home true input key quit break key print key key key,issue,negative,negative,neutral,neutral,negative,negative
769864457,Thanks for getting back to me so quickly! Apologies for misunderstanding the usage of saveState! ,thanks getting back quickly misunderstanding usage,issue,negative,positive,positive,positive,positive,positive
769197658,"pybullet.saveState saves the state to memory, you are supposed to call it only once, and then use loadState from then on. Alternatively, use saveState to disk, instead of memory.

If you need to saveState to memory repeatedly,  make sure to call resetSimulation before, so all previous saveState memory is discarded.",state memory supposed call use alternatively use disk instead memory need memory repeatedly make sure call previous memory,issue,negative,positive,positive,positive,positive,positive
768823881,"you need a valid python installation with python.h and a working c++ compiler. custom environments are left as an exercise for the reader, good luck!",need valid python installation working compiler custom left exercise reader good luck,issue,positive,positive,positive,positive,positive,positive
766287658,"Thanks a lot for the contribution! Will check it out soon, and merge it if all is fine.",thanks lot contribution check soon merge fine,issue,positive,positive,positive,positive,positive,positive
766156741,"Thanks, wasn't aware of Threads, thanks for the contribution. LGTM.",thanks aware thanks contribution,issue,positive,positive,positive,positive,positive,positive
766112237,"Hi, @erwincoumans,  i meet the same problem recently. when i create some constriants between two joints for each finger in  a robotics hand. Some of the joint show unresonable behaviour. When i click on my hand, the ring (fourth) finger got shaked at same time, corresponding joint index pair is (16, 17)
the code is shown as blew.

    cid_thumb = p.createConstraint(hithandId, 4, hithandId, 5, jointType=p.JOINT_GEAR,
                                   jointAxis=[1, 0, 0],
                                   parentFramePosition=[0, 0, 0],
                                   childFramePosition=[0, 0, 0],
                                   )
    p.changeConstraint(cid_thumb, gearRatio=-1.0, erp=2.0, maxForce=1500)
   
    cid_fore = p.createConstraint(hithandId, 8, hithandId, 9, jointType=p.JOINT_GEAR,
                                  jointAxis=[1, 0, 0],
                                  parentFramePosition=[0, 0, 0],
                                  childFramePosition=[0, 0, 0],
                                  )
    p.changeConstraint(cid_fore, gearRatio=-1.0, erp=2.0, maxForce=1500)
  
    cid_middle = p.createConstraint(hithandId, 12, hithandId, 13, jointType=p.JOINT_GEAR,
                                    jointAxis=[1, 0, 0],
                                    parentFramePosition=[0, 0, 0],
                                    childFramePosition=[0, 0, 0],
                                    )
    p.changeConstraint(cid_middle, gearRatio=-1.0, erp=2.0, maxForce=1500)
    
    cid_ring = p.createConstraint(hithandId, 16, hithandId, 17, jointType=p.JOINT_GEAR,
                                  jointAxis=[1, 0, 0],
                                  parentFramePosition=[0, 0, 0],
                                  childFramePosition=[0, 0, 0],
                                  )
    p.changeConstraint(cid_ring, gearRatio=-1.0, erp=2.0, maxForce=1500)
    
    cid_little = p.createConstraint(hithandId, 20, hithandId, 21, jointType=p.JOINT_GEAR,
                                    jointAxis=[1, 0, 0],
                                    parentFramePosition=[0, 0, 0],
                                    childFramePosition=[0, 0, 0],
                                    )
    p.changeConstraint(cid_little, gearRatio=-1.0, erp=2.0, maxForce=1500)

but if only create costraint for joint  (16, 17) , it works.
",hi meet problem recently create two finger hand joint show behaviour click hand ring fourth finger got time corresponding joint index pair code shown create joint work,issue,positive,neutral,neutral,neutral,neutral,neutral
765571561,"Yes, the 'reset' functions just set the current joint pose/velocity, and are not meant to be used during the simulation, only when setting up the simulation, or during a real 'reset' (after calling resetSimulation). 
Since setJointMotorControl2 is still active, it will drive the joint back to the desired position/velocity.",yes set current joint meant used simulation setting simulation real calling since still active drive joint back desired,issue,positive,positive,neutral,neutral,positive,positive
765544959,I think this is a expected behaviour as without setJointMotorControl2 the controller stills will try to go to the old position.,think behaviour without controller try go old position,issue,negative,positive,neutral,neutral,positive,positive
765040767,"q are the joint coordinates. The first 7 are for the base (3 position, 4 orientation quaternion). From 7 onward, there are the revolute joints. -1 refers to a fixed joint.",joint first base position orientation quaternion onward revolute fixed joint,issue,negative,negative,negative,negative,negative,negative
764862441,Any plan to close this issue? It would be pretty handy.,plan close issue would pretty handy,issue,negative,positive,positive,positive,positive,positive
763313436,"I just realize the first 6 ```qdot``` of the floating joints should be represented in the base frame.
Also, the jacobian achieved from ```calculateJacobian``` is also represented in the base frame, so I should pre-multiply the base rotation matrix.
I will close this issue.",realize first floating base frame also also base frame base rotation matrix close issue,issue,negative,negative,negative,negative,negative,negative
762832763,"(Oops, deleted comment on accident)

pybullet==3.0.8

```
count, vertices = p.getMeshData(body_id, link_idx)
vertices = np.array(vertices)
???
```

(My goal is to convert this to an Open3D TriangleMesh)
",comment accident count vertex vertex vertex goal convert,issue,negative,neutral,neutral,neutral,neutral,neutral
762617507,"My current solution is to cache the inverse camera transform whenever it's moved:
```python
p.resetDebugVisualizerCamera(...)
# wait for reset
for _ in range(1000):
    p.stepSimulation()
info = p.getDebugVisualizerCamera()
view_matrix = np.array(info[2]).reshape(4, 4).T
self._inv_camera_tsf = np.linalg.inv(view_matrix)
```
And then for drawing to screen,
```python
pos_in = np.r_[camera_frame_pos, 1]
world_frame_pos = self._inv_camera_tsf @ pos_in
p.addUserDebugText(text, world_frame_pos[:3], ...)
```
Let me know if there's a better option.",current solution cache inverse camera transform whenever python wait reset range drawing screen python text let know better option,issue,positive,positive,positive,positive,positive,positive
762527037,"I still don't understand the data structure this is using... My mesh has 814 vertices, but how do I get the triplets?",still understand data structure mesh vertex get,issue,negative,neutral,neutral,neutral,neutral,neutral
761856322,"(Hopefully)... Correct version: (Directly from [inverse_kinematics.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_kinematics.py)) -- line 54

```
i=0
while 1:
  i+=1
  if (useRealTimeSimulation):
    dt = datetime.now()
    t = (dt.second / 60.) * 2. * math.pi
  else:
    t = t + 0.01

  if (useSimulation and useRealTimeSimulation == 0):
    p.stepSimulation()
```
",hopefully correct version directly line else,issue,negative,positive,neutral,neutral,positive,positive
761553756,"Thank you very much for your kind reply @rohit-kumar-j . I simplify my code. Here is the code:
```
import pybullet as p
import gym_tmwk as gt
import numpy as np
import pybullet_data
import os

p.connect(p.GUI)
p.resetDebugVisualizerCamera(cameraDistance=0.9, cameraYaw=180, cameraPitch=0, cameraTargetPosition=[0.,0.3,0.1])

p.resetSimulation()
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,0)
p.setGravity(0,0,-10)
urdfRootPath=pybullet_data.getDataPath()
planeUid = p.loadURDF(os.path.join(urdfRootPath,""plane.urdf""), basePosition=[0,0,-0.65])
rest_poses = [0, 0.32, 0, -2.41, 0, 1.16, 2.356, 0, 0]
panda1Uid = p.loadURDF(os.path.join(urdfRootPath, ""franka_panda/panda.urdf""),useFixedBase=True, 
                                                                basePosition=[0,0,0], baseOrientation=[0, 0, 0.707, 0.707])
p.enableJointForceTorqueSensor(panda1Uid, 8, True)

for i in range(7):
    p.resetJointState(panda1Uid,i, rest_poses[i])

p.resetJointState(panda1Uid, 9, 0.08)
p.resetJointState(panda1Uid,10, 0.08)

tableUid = p.loadURDF(os.path.join(urdfRootPath, ""table/table.urdf""),basePosition=[0.5,0.2,-0.65])
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,1)

position = [0.,0.3,0.2]
orientation = [0.717,0.,0.,0.717]
fm_list = []
p.addUserDebugLine([0,0,0],[0.3,0,0],[1,0,0],parentObjectUniqueId=panda1Uid, parentLinkIndex=8)
p.addUserDebugLine([0,0,0],[0,0.3,0],[0,1,0],parentObjectUniqueId=panda1Uid, parentLinkIndex=8)
p.addUserDebugLine([0,0,0],[0,0,0.3],[0,0,1],parentObjectUniqueId=panda1Uid, parentLinkIndex=8)
for i in range(10000):
    jointPoses = p.calculateInverseKinematics(panda1Uid, 8, position, orientation)[0:7]
    p.setJointMotorControlArray(panda1Uid, list(range(7))+[9,10], p.POSITION_CONTROL, list(jointPoses)+2*[0])
    #get measured force and torque
    fm = np.array(p.getJointState(panda1Uid, 8)[2])
    fm_list.append(fm)
    p.stepSimulation()

import matplotlib.pyplot as plt
list_size = len(fm_list)
fig = plt.figure(figsize=(20,7))
ax = fig.add_subplot(111)
plt.plot(range(list_size), np.array([elem[0] for elem in fm_list]), label='fm_fx')
plt.plot(range(list_size), np.array([elem[1] for elem in fm_list]), label='fm_fy')
plt.plot(range(list_size), np.array([elem[2] for elem in fm_list]), label='fm_fz')
plt.plot(range(list_size), np.array([elem[3] for elem in fm_list]), label='fm_mx')
plt.plot(range(list_size), np.array([elem[4] for elem in fm_list]), label='fm_my')
plt.plot(range(list_size), np.array([elem[5] for elem in fm_list]), label='fm_mz')
plt.title(""measured force/torque"")
plt.legend()
plt.show()
```
Here is the ouput:
![new](https://user-images.githubusercontent.com/54715057/104810378-0f664580-582f-11eb-9312-1172184a9f80.png)
>1.Could you recheck if the values are mapped correctly to the labels in the graph?

The values show in graph are just the return of pybullet function getJointState().
>2.Are the axes in the link frame are aligned as expected? (perhaps running a 1D motion individually in X, Y, Z axes could help differentiate the correct child-link frame orientation)

The dark blue line represent the measured force in y direction of the sensor frame. It should be zero but not. I think this may be caused by inaccurate movement. I don't care about it so much, what I'm really care about is the measured torque.
I have checked the frame.The frame of force/torque sensor is different from the link frame.The reason why I rotate the end-effector rather than run a 1D motion individually is that  I want to test whether the output of force/torque sensor is correct or not. And the graph shows that the output torque is not correct--the measured torques are all equal to zero but according to the common sense, they shouldn't. 

I have thought it might be because the mass of finger (equipped on the hand) is too small so the torque is close to zero. So I modified the mass of fingers in <panda.urdf>, but the measured torques were still out of my expection.",thank much kind reply simplify code code import import import import import o true range position orientation range position orientation list range list get measured force torque import fig ax range range range range range range measured new recheck correctly graph show graph return function ax link frame perhaps running motion individually ax could help differentiate correct frame orientation dark blue line represent measured force direction sensor frame zero think may inaccurate movement care much really care measured torque checked frame sensor different link reason rotate rather run motion individually want test whether output sensor correct graph output torque correct measured torque equal zero according common sense thought might mass finger hand small torque close zero mass measured torque still,issue,positive,positive,neutral,neutral,positive,positive
760388569,"Yeah it works with the latest one, but I'd be curious what the problem is, as that version used to work. Anyhow, might be useful for others seeing this issue. 

On 14 January 2021 15:53:44 CET, erwincoumans <notifications@github.com> wrote:
>> Here' how I can reproduce this problem:
>> 
>> * MacOS Catalina 10.15.7
>> * Python 3.8.7 (from homebrew)
>> * A `requirements.txt` with only `pybullet~=2.8.7` in it
>> 
>> ```
>> python3 -m venv test_venv
>> source test_venv/bin/activate
>> pip install -r requirements.txt --no-cache-dir
>> ```
>> 
>> Maybe the problem exists only in this specific verions
>
>please try using the latest version
>
>-- 
>You are receiving this because you authored the thread.
>Reply to this email directly or view it on GitHub:
>https://github.com/bulletphysics/bullet3/issues/3175#issuecomment-760246729
",yeah work latest one curious problem version used work anyhow might useful seeing issue wrote reproduce problem catalina python python source pip install maybe problem specific please try latest version thread reply directly view,issue,negative,positive,positive,positive,positive,positive
760246729,"> Here' how I can reproduce this problem:
> 
> * MacOS Catalina 10.15.7
> * Python 3.8.7 (from homebrew)
> * A `requirements.txt` with only `pybullet~=2.8.7` in it
> 
> ```
> python3 -m venv test_venv
> source test_venv/bin/activate
> pip install -r requirements.txt --no-cache-dir
> ```
> 
> Maybe the problem exists only in this specific verions

please try using the latest version",reproduce problem catalina python python source pip install maybe problem specific please try latest version,issue,negative,positive,positive,positive,positive,positive
760241059,"@Magikod
Cool! Did my suggestion work? (I'm experimenting this myself and needed to know if it worked) ",cool suggestion work know worked,issue,negative,positive,positive,positive,positive,positive
760229396,"Here' how I can reproduce this problem:

- MacOS Catalina 10.15.7 
- Python 3.8.7 (from homebrew)
- A `requirements.txt` with only `pybullet~=2.8.7` in it

```
python3 -m venv test_venv
source test_venv/bin/activate
pip install -r requirements.txt --no-cache-dir
```

Maybe the problem exists only in this specific verions",reproduce problem catalina python python source pip install maybe problem specific,issue,negative,neutral,neutral,neutral,neutral,neutral
759893697,"> ### Works now !
> not yet available!
> I've downloaded the source code and when I navigate to it's directory and run `python setup.py build` I get the following message:
> 
> > c1: fatal error C1083: Cannot open source file: 'examples/pybullet/pybullet.c': No such file or directory
> > error: command 'C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Tools\MSVC\14.15.26726\bin\HostX86\x64\cl.exe' failed with exit status 2
> 
> But when I go to examples/pybullet directory the file pybullet.c is there ! Can't figure out the issue.
> 
> I'm using python 3.6 standalone, not in anaconda distro.
> Visual studio community edition 2017.
> 
> When I try `pip install pybullet` I get a different error:
> 
> > error: command 'C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Tools\MSVC\14.15.26726\bin\HostX86\x64\link.exe' failed with exit status 1120

how ?",work yet available source code navigate directory run python build get following message fatal error open source file file directory error command visual exit status go directory file ca figure issue python anaconda visual studio community edition try pip install get different error error command visual exit status,issue,negative,positive,neutral,neutral,positive,positive
759893618,"> No problem, things got fixed somehow.

how ?",problem got fixed somehow,issue,negative,positive,neutral,neutral,positive,positive
758043472,"> Never seen that error. You can also simply do
> 
> ```
> git clone https://github.com/bulletphysics/bullet3
> or download and unzip https://github.com/bulletphysics/bullet3/archive/master.zip and then:
> cd bullet3
> python setup.py build
> python setup.py install
> ```

hey, i am getting the error "" Cannot open source file: 'examples/pybullet/pybullet.c': No such file or directory"".
Can you help me out with this.",never seen error also simply git clone bullet python build python install hey getting error open source file file directory help,issue,positive,neutral,neutral,neutral,neutral,neutral
757557901,"On a similar note, I was looking for the function definition of pybullet.getQuaternionSlerp().  #3164 Is there a way to read the pre-existing function definitions within pybullet.",similar note looking function definition way read function within,issue,negative,neutral,neutral,neutral,neutral,neutral
757556255," @erwincoumans  I think the following might be a workaround. Is there a way to access the internal time_stamp of the simulation and print it like below?


```
import time
import pybullet as p

dummy = 0
time_step=1/240
p.setTimeStep(time_step)
p.setRealTimeSimulation(1)

while 1:  
	p.stepSimulation()
	dummy = dummy + 1
	if dummy == 1 :
		delay = time.time()
		time.sleep(1)
		print('delay')
		print('time starts now!')
	#else: print('no delay')
	
	print(time.time()-delay)

p.setRealTimeSimulation(0)

```

These are the values that I get (real-time values not internal time_stamp):

```
delay
time starts now!
1.0009171962738037
1.119473934173584
1.226822853088379
1.3307716846466064
1.4232892990112305
1.5069279670715332
1.6108765602111816
1.7392501831054688
1.8484127521514893
1.9666316509246826
2.0784430503845215
2.1850509643554688
2.286367177963257
2.3844828605651855
2.4708166122436523
2.5747876167297363
2.678741693496704
2.79878306388855
2.8956520557403564
2.9949910640716553
3.098883628845215
3.202812671661377
3.308270215988159
3.4229214191436768
```",think following might way access internal simulation print like import time import dummy dummy dummy dummy delay print print else print delay print get internal delay time,issue,negative,neutral,neutral,neutral,neutral,neutral
757380880,"Well.. this is not exactly correct (I think), but try this...  (if it doesn't work, try force = 0)

Try: 

```
import pybullet as p
pandaId = p.loadURDF(""franka_panda/panda.urdf"")

#Open the gripper
target_vel_1 = (finger_target2 - finger_target1) / t1
    p.setJointMotorControl2(pandaId, i, p.VELOCITY_CONTROL, targetVelocity = target_vel_1,force = 10)
time.sleep(t1)

#Move the robot 
for j in range(p.getNumJoints(pandaId))
    s2 = targetPositionsJoints[ j ] # To get final position data 
    s1 = getJointState[ j ] # To get intial position data
    vel = (s2[<final_joint_pos_index>] - s1[<inital_joint_pos_index>]  - ) / t_motion
    p.setJointMotorControl2(pandaId, i, p.VELOCITY_CONTROL, targetVelocity = vel ,force = 10)
time.sleep( t_motion )

#Close the gripper
target_vel_2 = (finger_target1 - finger_target2) / t2
    p.setJointMotorControl2(pandaId, i, p.VELOCITY_CONTROL, targetVelocity = target_vel_2,force = 10)
time.sleep(t2)
```",well exactly correct think try work try force try import open gripper force move robot range get final position data get position data force close gripper force,issue,negative,positive,neutral,neutral,positive,positive
757378645,"Thank you for the description, there may be a few indexing or labeling problems
> < fm_mx > should not equal to zero ( but the curve shows that it really is zero )

If you have manually mapped these values in the code, then you could try this:

1. Could you recheck if the values are mapped correctly to the labels in the graph?
2. Are the axes in the link frame are aligned as expected? (perhaps running a 1D motion individually in X, Y, Z axes could help differentiate the correct child-link frame orientation) 

If there is an inbuilt function to generate the values on the graph, then most likely the axes in the link frame may not be aligned as expected. then you can try No.2. (What I mean is, the dark green line is perhaps not labeled correctly).

Also, it would be helpful if you could provide the code.",thank description may indexing equal zero curve really zero manually code could try could recheck correctly graph ax link frame perhaps running motion individually ax could help differentiate correct frame orientation inbuilt function generate graph likely ax link frame may try mean dark green line perhaps correctly also would helpful could provide code,issue,positive,negative,neutral,neutral,negative,negative
756119919,"> Indeed, resetSimulation will remove objects and debug text.

But in the first case before `sleep(2)`, there should be sth on the screen. Even I've tried `p.stepSimulation()` before `sleep(2)` but it didn't work yet.",indeed remove text first case sleep screen even tried sleep work yet,issue,negative,positive,positive,positive,positive,positive
756081337,"The issue is real and it is in pybullet-gym implementation.
The fix is here: https://github.com/benelot/pybullet-gym/pull/61",issue real implementation fix,issue,negative,positive,positive,positive,positive,positive
755633300,"@shpigi unfortunately I still haven't solved that. I'm not dealing with that problem anymore, though",unfortunately still dealing problem though,issue,negative,negative,negative,negative,negative,negative
754406733,"@BluePrintRandom thank you, I will try CCD.
But the problem still exists when the floor thickness is 4 cm.

I put the green cube under the plane and fix it to solve the problem which is shown in the picture below![below_plane](https://user-images.githubusercontent.com/25145866/103609691-5e6fc900-4f59-11eb-9e01-3a8abc8346f2.PNG) 
the red line without collision property is just right on the plane.

I wonder if I just put the floor right on the plane, there might be some small space that will make the robot stuck in the mesh.


",thank try problem still floor thickness put green cube plane fix solve problem shown picture red line without collision property right plane wonder put floor right plane might small space make robot stuck mesh,issue,negative,positive,neutral,neutral,positive,positive
754399676,"you can use CCD to ensure that a object does not pop through another - but
it's typically easier to simulate a more realistic environment (ie a
thicker floor)


On Mon, Jan 4, 2021 at 9:00 PM KH-Hsu <notifications@github.com> wrote:

> @BluePrintRandom <https://github.com/BluePrintRandom>
> I'm a bit confused because the plane.urdf given by Pybullet has thickness
> which can be found in
> plane.urdf
> <https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/plane.urdf#L22>
>
> I made the red cube by loading cube.obj
> <https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/cube.obj>
> into urdf
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3214#issuecomment-754397414>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABW3SWMLIXPQZV6WHGWEL5DSYKMIVANCNFSM4VSNDZGA>
> .
>
",use ensure object pop another typically easier simulate realistic environment ie floor mon wrote bit confused given thickness found made red cube loading reply directly view,issue,negative,negative,neutral,neutral,negative,negative
754397414,"@BluePrintRandom 
I'm a bit confused because the plane.urdf given by Pybullet has thickness which can be found in 
[plane.urdf](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/plane.urdf#L22), and I made the red cube by loading [cube.obj](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/cube.obj) into urdf
",bit confused given thickness found made red cube loading,issue,negative,negative,negative,negative,negative,negative
754369753,"a plane has zero thickness - try a very short cube instead using the cube
bound.

On Mon, Jan 4, 2021 at 6:09 PM KH-Hsu <notifications@github.com> wrote:

> I solved it by
>
>    1. putting the board base under the plane ( I put it just right on the
>    plane before ),
>    2. set the numSolverIterations to 1000.
>    I'm still curious if there are other solutions because I want to use
>    Heightfield to do experiment.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3214#issuecomment-754338913>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABW3SWKQ5RYUK7BASNUJMC3SYJYHJANCNFSM4VSNDZGA>
> .
>
",plane zero thickness try short cube instead cube bound mon wrote board base plane put right plane set still curious want use experiment thread reply directly view,issue,negative,negative,negative,negative,negative,negative
754338913,"I solved it by 
1. putting the board base under the plane ( I put it just right on the plane before ), 
2. set the numSolverIterations to 1000. 
I'm still curious if there are other solutions because I want to use Heightfield to do experiment.",board base plane put right plane set still curious want use experiment,issue,negative,negative,negative,negative,negative,negative
753481036,"Thank you for your reply @rohit-kumar-j.  I'm so sorry that I have not elaborate the data. Here is what these data mean:
```
fm_fx, fm_fy, fm_fz -- measured force in link frame
fm_fx, fm_fy, fm_fz -- measured torque in link frame
```
After the motion stops, only the gravity of the end-effector produce force and torque.  After the curve flattens out, one of the measured torque < fm_mx > should not equal to zero ( but the curve shows that it really is zero ), which should be around 0.32N*m as my expect. The force measured was in line with my expectations.",thank reply sorry elaborate data data mean measured force link frame measured torque link frame motion gravity produce force torque curve one measured torque equal zero curve really zero around expect force measured line,issue,negative,negative,neutral,neutral,negative,negative
753368650,"As it says in the documentation, it's given in world coordinates, unless you specify this ""currentPosition"" argument, which makes it in the local body frame. I can confirm that this is true.",documentation given world unless specify argument local body frame confirm true,issue,negative,positive,positive,positive,positive,positive
753368235,"> Indeed, silverjoda, calculateInverseKinematics2 is recommended. Fixing existing APIs breaks user scripts. To avoid that, I added the new API, v2. For currentPosition, you can provide the current joint positions, often they are close to the solution.

So @erwincoumans , when you initialize does the calculateInverseKinematics2(), operate in the local body(base) frame of the robot (i.e should the end effector target positions be given with respect to the base of the robot?). Something of similar meaning is given in the docs and also calculating inverse kinematics with the targets in the world co ordinates is not very flexible at times.
",indeed fixing user avoid added new provide current joint often close solution initialize operate local body base frame robot end effector target given respect base robot something similar meaning given also calculating inverse kinematics world flexible time,issue,positive,negative,negative,negative,negative,negative
753326251,"Hi, Erwin. I initially used the current joint positions for the currentPosition but it ended up doing something different to what I expected so I stuck with using zeros. 
I tried it just now on on a trained policy and it looks like it works when using current joint angles as well, so perhaps I was doing 
something wrong initially.
Thanks

EDIT: Nope, it completely screws up the policy when I use the current joint angles as the currentPosition


https://user-images.githubusercontent.com/21022992/103442285-18fb8500-4c55-11eb-9c03-4ad4b296afdf.mp4

",hi initially used current joint ended something different stuck tried trained policy like work current joint well perhaps something wrong initially thanks edit nope completely policy use current joint,issue,negative,negative,neutral,neutral,negative,negative
753317204,"It does seem to reach the expected value right? Like at the end of the graph, the motion stops, and the value is recorded. 

You did say that you 'drive the arm' to the position. IMO, the torque was recorded as a consequence of the accelerations that the end effector faced during the motion. After that, once the motion stops, only the force/ torque flatten out. 

Altought I do not understand the orange line's qty (<fm_fy>) 

Could you please elaborate the data?",seem reach value right like end graph motion value say arm position torque consequence end effector faced motion motion torque flatten understand orange line could please elaborate data,issue,positive,positive,positive,positive,positive,positive
753315765,"Indeed, silverjoda,  calculateInverseKinematics2 is recommended. Fixing existing APIs breaks user scripts. To avoid that, I added the new API, v2. For currentPosition, you can provide the current joint positions, often they are close to the solution.",indeed fixing user avoid added new provide current joint often close solution,issue,negative,positive,neutral,neutral,positive,positive
753297049,"As in several functions in pybullet that I've noticed, their single_input version doesn't work properly or doesn't accept a certain argument. What you can do instead is use calculateInverseKinematics2 and put in all 4 of your leg tips, which is preferable anyway because it's faster. It works for me for my hexapod. I can't figure out what the 'currentPosition' is so I just set it to all zeros and it works.

",several version work properly accept certain argument instead use put leg preferable anyway faster work hexapod ca figure set work,issue,negative,positive,neutral,neutral,positive,positive
752957907,"Hey, any update here? I found a related forum discussion:
https://pybullet.org/Bullet/phpBB3/viewtopic.php?t=9256
It looks to me that the return value should definitely be `clampedSimulationSteps`.",hey update found related forum discussion return value definitely,issue,positive,neutral,neutral,neutral,neutral,neutral
752937773,"Thanks @erwincoumans. ```python setup.py develop``` worked! 

       ~ Download https://files.pythonhosted.org/packages/7b/4b/3dbd2ed72670b872e0bb26b83574dbf4f56e0d11a1a93a82d349ad4f6f31/pybullet-3.0.8.tar.gz
       ~ Extract the file (...\Python37\Lib\pybullet-3.0.8)
       ~ Open terminal on this path
       ~ python setup.py develop ",thanks python develop worked extract file open terminal path python develop,issue,negative,positive,neutral,neutral,positive,positive
752510544,"You forgot to bump the version in `btScalar.h`. Version bumps were also missing for 3.06 and 3.07 until fixed in `master` with #3168, maybe it would be good to document how version bumps should be done / write a script that validates it before tagging a release?",forgot bump version version also missing fixed master maybe would good document version done write script release,issue,negative,positive,positive,positive,positive,positive
751517434,"> OpenCL has higher overhead to launch kernels than GL/Vulkan compute shaders, but they're also more flexible. OpenCL supports a wider range of hardware than vulkan as well. It would be quite a lot of work to convert everything to vulkan but, depending on the number of kernels used, we could potentially get a decent performance boost.

Hey, you never know if you don't try after all :) 

I could fork and give this a shot, on the 0.00001% off chance whatever I pull off works I get to contribute to Bullet!1!1! Xd

EDIT: Also when I said Vulkan I worded it wrongly, what I meant to say was support for Vulkan alongside of OpenCL :P and besides that OpenGL doesn't let you compute general purpose code like Vulkan does, just clearing that up",higher overhead launch compute also flexible range hardware well would quite lot work convert everything depending number used could potentially get decent performance boost hey never know try could fork give shot chance whatever pull work get contribute bullet edit also said worded wrongly meant say support alongside besides let compute general purpose code like clearing,issue,positive,negative,neutral,neutral,negative,negative
751457443,"Thank you @erwincoumans I found a video explaining the SLERP function: [LINK](https://www.youtube.com/watch?v=BXajpAy5-UI)

Is there a way to do a `getEulerSlerp()`? Where can I find the definition of `pybullet.getQuaternionSlerp()?` as implemented in pybullet.

like a pybullet API... perhaps

Should I use setJointMotorControl2() directly instead of getQuaternionSlerp() to control revolute joints in robots?",thank found video explaining function link way find definition like perhaps use directly instead control revolute,issue,positive,positive,neutral,neutral,positive,positive
751456511,"
> I just read this questions and i also do have some kind of problem with my .sdf file.
> A little bit of my backround, i want to simulate and train a ball-on-plate model which i created via CAD (Fusion360).
> The model has three ball joints on the bottomside of the plate, one in the middle of the plate, one at the right edge of the plate and one at the back edge of the plate. Under both ball joints at the edges is one servomotor to controll the angle of the plate in one direction.
> 
> The export via SDFusion works more or less pretty well. I think the problem are the kinematic chains, which are owed to the structure of the ball-on-plate-model.


Hi! @ChristianBecker90 Could you link the .sdf file converter for fusion 360? Is it an Add-in like [this](https://github.com/syuntoku14/fusion2urdf)? ",read also kind problem file little bit want simulate train model via cad fusion model three ball plate one middle plate one right edge plate one back edge plate ball one servomotor angle plate one direction export via work le pretty well think problem kinematic structure hi could link file converter fusion like,issue,positive,positive,positive,positive,positive,positive
751368201,"> Perhaps because the contact points are being merged due to the contact breaking threshold not being low enough?
> 
> Here you can see where they get merged if they're too close
> 
> https://github.com/bulletphysics/bullet3/blob/b1f76960ff630969050f90784b1f254ad6a7ded8/src/BulletCollision/NarrowPhaseCollision/btPersistentManifold.cpp#L192
> 
> and here is where it's calculated and passed to the constructor of `btPersistentManifold`
> https://github.com/bulletphysics/bullet3/blob/b1f76960ff630969050f90784b1f254ad6a7ded8/src/BulletCollision/CollisionDispatch/btCollisionDispatcher.cpp#L74
> 
> Perhaps you could try decreasing the value of `gContactBreakingThreshold` here
> 
> https://github.com/bulletphysics/bullet3/blob/afa4fb54505fd071103b8e2e8793c38fd40f6fb6/src/BulletCollision/NarrowPhaseCollision/btPersistentManifold.cpp#L26

Thank you for your suggestions.
However, it still fails maybe due to collision margin and other jittering effects.
Could it a better way to scale everything up?
I find that there is a long history of discussion for small objects.",perhaps contact due contact breaking threshold low enough see get close calculated constructor perhaps could try decreasing value thank however still maybe due collision margin effect could better way scale everything find long history discussion small,issue,negative,negative,neutral,neutral,negative,negative
751242951,"I am not sure what seal suction is.
But the suction type of mechanism can be shown by applying the equivalent amount of force at the gripper.
I think simulating actual fluid flow is not possible in PyBullet.",sure seal suction suction type mechanism shown equivalent amount force gripper think actual fluid flow possible,issue,negative,positive,positive,positive,positive,positive
751172673,"@NiranthS yet, how to imitation the seal suction mechanism in pybullet?",yet imitation seal suction mechanism,issue,negative,negative,negative,negative,negative,negative
750939497,You can try to imitation suction mechanism using applyExternalForce function of PyBullet,try imitation suction mechanism function,issue,negative,negative,negative,negative,negative,negative
750750709,"Probably yet, PyBullet is open source, learn some C++ and Python and you are good to go.",probably yet open source learn python good go,issue,negative,positive,positive,positive,positive,positive
750750568,"It likely requires more work, no time to help fixing. Good luck!",likely work time help fixing good luck,issue,positive,positive,positive,positive,positive,positive
750750429,"I tried pip3 install pybullet on various new machines (Mac OSX 10.16 Big Sur etc), no issue. Cannot reproduce, lets close",tried pip install various new mac big sur issue reproduce close,issue,negative,positive,neutral,neutral,positive,positive
750750108,"That's interesting, thanks for sharing. At this stage, it is nicer to be self-contained, instead of an additional system dependency. It maybe useful for new platforms though (where we don't ship a premake4 exe). Will keep an eye on your link if needed, but a pull request is not needed. Thanks!",interesting thanks stage instead additional system dependency maybe useful new though ship premake keep eye link pull request thanks,issue,positive,positive,positive,positive,positive,positive
750441722,"I recommend trying the latest version, instead of pinning to a very old version.
pip(3) install pybullet --upgrade --user
",recommend trying latest version instead pinning old version pip install upgrade user,issue,negative,positive,positive,positive,positive,positive
750440787,"Sorry for the long delay, I haven't had time to look into this yet. Looks good to me. Thanks!

Maybe create a CL (or you did already)?",sorry long delay time look yet good thanks maybe create already,issue,positive,positive,neutral,neutral,positive,positive
750440256,"I focus on the Tiny Differentiable Simulator for differentiability and GPU acceleration, it allows code-generation into CUDA as well.
See https://www.youtube.com/watch?v=oaYyLU72lSA",focus tiny differentiable simulator acceleration well see,issue,negative,neutral,neutral,neutral,neutral,neutral
750439486,"Thanks for bringing this up. Most of the example simplify the call indeed, and assume the default internal fixed stepsize of 1./60. for most of the default examples. btScalar is preferred over straight 'float'.
In PyBullet, we use double precision for the simulation, and explicitly let the user specify the fixed internal step size, which is 1./240. for typical robotics usage (some use 1./1000. sec).
",thanks example simplify call indeed assume default internal fixed default preferred straight use double precision simulation explicitly let user specify fixed internal step size typical usage use sec,issue,positive,positive,neutral,neutral,positive,positive
750437410,"There is only 1 connection allowed indeed. You can try getting the GRPC server to work, it allows more connections.",connection indeed try getting server work,issue,negative,neutral,neutral,neutral,neutral,neutral
750437166,You can use pybullet.multiplyTransforms and pybullet.inverseTransform to convert between coordinate frames. There is no plan to change the constraint API (unless someone contributes it). Good luck!,use convert plan change constraint unless someone good luck,issue,positive,positive,positive,positive,positive,positive
749956486,"> Do the original projects also crash (BulletExampleBrowser etc)?
> If you build the library using double precision (BT_USE_DOUBLE_PRECISION), your project also needs this definition.
> Try using cmake, and follow those steps: https://github.com/erwincoumans/hello_bullet_cmake

Thank you, it works!",original also crash build library double precision project also need definition try follow thank work,issue,negative,positive,positive,positive,positive,positive
749898980,"Do the original projects also crash (BulletExampleBrowser etc)?
If you build the library using double precision (BT_USE_DOUBLE_PRECISION), your project also needs this definition.
Try using cmake, and follow those steps: https://github.com/erwincoumans/hello_bullet_cmake",original also crash build library double precision project also need definition try follow,issue,negative,positive,positive,positive,positive,positive
749514901,"Thanks, this seems to resolve the issue! However, it remains unclear to me what behaviour is changed as this keyword `flags` is undocumented. The example uses this undocumented keyword both for `calculateInverseDynamics` and `calculateMassMatrix`. I'll leave this issue open in case someone can add/comment on the `flags` keyword.",thanks resolve issue however remains unclear behaviour undocumented example undocumented leave issue open case someone,issue,positive,positive,neutral,neutral,positive,positive
749297448,"You can try using `flags=1` as in https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/pd_controller_stable.py
For your example that would be
```
if not USE_FIXED_BASE:
    print(""In floating Base..."")
    id_robot2 = bullet.loadURDF(""test_inv_dyn.urdf"", robot_base, robot_orientation, useFixedBase=False)
    n=2+7
    print(bullet.calculateInverseDynamics(id_robot2, [0.0]*6+[1., 0., 0.], [0.0]*n, [0.0]*n, flags=1))
    print(""In floating Base... SUCCES"")
```
Note that the 7th coordinate is for the 4th component (in the order of i,j,k,1) of quaternion base rotation.",try example would print floating base print print floating base note th th component order quaternion base rotation,issue,negative,negative,negative,negative,negative,negative
749208373,"[Stack overflow on creating pip logs](https://stackoverflow.com/questions/53844927/where-are-pip-installation-logs#answers)

Try updating pip and removing the cache. Can you install other pip packages?",stack overflow pip try pip removing cache install pip,issue,negative,neutral,neutral,neutral,neutral,neutral
749202925,"OpenCL has higher overhead to launch kernels than gl/vk compute shaders, but they're also more flexible. OpenCL supports a wider range of hardware than vulkan as well. It would be quite a lot of work to convert everything to vulkan but, depending on the number of kernals used, we could potentially get a decent performance boost.",higher overhead launch compute also flexible range hardware well would quite lot work convert everything depending number used could potentially get decent performance boost,issue,positive,positive,positive,positive,positive,positive
749040734,"Perhaps because the contact points are being merged due to the contact breaking threshold not being low enough? 

Here you can see where they get merged if they're too close https://github.com/bulletphysics/bullet3/blob/b1f76960ff630969050f90784b1f254ad6a7ded8/src/BulletCollision/NarrowPhaseCollision/btPersistentManifold.cpp#L192 and here is where it's calculated and passed to the constructor of `btPersistentManifold` https://github.com/bulletphysics/bullet3/blob/b1f76960ff630969050f90784b1f254ad6a7ded8/src/BulletCollision/CollisionDispatch/btCollisionDispatcher.cpp#L74

Perhaps you could try decreasing the value of `gContactBreakingThreshold` here https://github.com/bulletphysics/bullet3/blob/afa4fb54505fd071103b8e2e8793c38fd40f6fb6/src/BulletCollision/NarrowPhaseCollision/btPersistentManifold.cpp#L26",perhaps contact due contact breaking threshold low enough see get close calculated constructor perhaps could try decreasing value,issue,negative,negative,neutral,neutral,negative,negative
748381989,"Got it running with the following changes:

```
import tensorflow as tf
tf = tf.compat.v1
tf.disable_eager_execution()
...
import pybullet_data

cid = p.connect(p.SHARED_MEMORY)
if (cid < 0):
  cid = p.connect(p.GUI)  #DIRECT is much faster, but GUI shows the running gait

p.setAdditionalSearchPath(pybullet_data.getDataPath())
```",got running following import import direct much faster running gait,issue,negative,positive,positive,positive,positive,positive
744058682,"@wolfv sorry the delay; yes, I can do that. Where should I prepare it? Do I create a brand new staged-recipe for pybullet? or do I create a PR for the existing `bullet` package, but we don't merge, instead you'd take it and do the combination with bullet-cpp?",sorry delay yes prepare create brand new create bullet package merge instead take combination,issue,positive,negative,negative,negative,negative,negative
743983883,"Thank you for your suggestion! I ended up not using the external .sdf files which are seemingly unreliable with inconsistent physics interaction when ported into simulation, and used generated geometries through Pybullet create body functions. 

Thanks. ",thank suggestion ended external seemingly unreliable inconsistent physic interaction ported simulation used create body thanks,issue,positive,positive,neutral,neutral,positive,positive
742912499,"@erwincoumans  would really appreciate it please, really stuck at the moment",would really appreciate please really stuck moment,issue,positive,positive,positive,positive,positive,positive
742835387,"Could you please point me in the right direction on how to do that? i am feeling quite out of my depth sorry
",could please point right direction feeling quite depth sorry,issue,negative,negative,negative,negative,negative,negative
742829335,OpenGL 3 won't work well without a proper installed NVIDIA driver on TX2.,wo work well without proper driver,issue,negative,neutral,neutral,neutral,neutral,neutral
742826432,"@erwincoumans this is all i get when running 'watch nvidia-smi'. And yes i am running with a display monitor attached.
```
sh: 1: nvidia-smi: not found

```

I am also able to run the same program  on a VM so really unsure why its not working",get running yes running display monitor attached sh found also able run program really unsure working,issue,negative,positive,positive,positive,positive,positive
742819353,"It should work on TX2 (have it running here), probably an issue with the display drivers. Also, I assume you run it with a display monitor attached, right (it won't work otherwise). What does nvidia-smi tell?",work running probably issue display also assume run display monitor attached right wo work otherwise tell,issue,negative,positive,positive,positive,positive,positive
742813699,"I am having the same problem on my Nvidia Jetson TX2, running ubuntu 18.04, which has just been rebooted. Have tried what seems to be everything. please help....

Error:
```
pybullet build time: Dec  9 2020 15:39:08
startThreads creating 1 threads.
starting thread 0
started thread 0 
argc=2
argv[0] = --unused
argv[1] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
X11 functions dynamically loaded using dlopen/dlsym OK!
Failed to retrieve a framebuffer config
```",problem running tried everything please help error build time starting thread thread unused server dynamically loaded dynamically loaded retrieve,issue,positive,neutral,neutral,neutral,neutral,neutral
740396150,"set the uv coordinates in an obj file of programmatic created visual shape. you can modify textures on the fly, see the examples/pybullet/examples folder ",set file programmatic visual shape modify fly see folder,issue,negative,positive,positive,positive,positive,positive
740391152,"> Bump; I'm trying to use some software called gmsh but I have no idea what I'm doing

Yes, I am also at the same stage. Pybullet should put up some documentation with respect to the modeling of soft bodies.",bump trying use idea yes also stage put documentation respect modeling soft,issue,positive,positive,neutral,neutral,positive,positive
740182093,Bump; I'm trying to use some software called gmsh but I have no idea what I'm doing,bump trying use idea,issue,negative,neutral,neutral,neutral,neutral,neutral
739479429,"one year later it's still down. web.archive helped, but it's not ideal.",one year later still ideal,issue,positive,positive,positive,positive,positive,positive
739417155,"See here for a working case: https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_dynamics.py
Otherwise please create a new issue with a small full reproduction case (python script and urdf file(s))",see working case otherwise please create new issue small full reproduction case python script file,issue,positive,positive,neutral,neutral,positive,positive
739150889,"There is an inconsistency in the API, for createVisualShape it is length instead of height.",inconsistency length instead height,issue,negative,neutral,neutral,neutral,neutral,neutral
738303918,"Good question. See the examples folder under https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet

The green 'Code' button on the frontpage has a Download button, or use git
git clone https://github.com/bulletphysics/bullet3/",good question see folder green button button use git git clone,issue,negative,positive,positive,positive,positive,positive
737328196,"both options are fine. If you get the standalone pybullet to work, I can combine it with my working bullet-cpp output and we can make a joint PR to the current bullet feedstock :)",fine get work combine working output make joint current bullet,issue,negative,positive,positive,positive,positive,positive
737326453,"I tried the multiple output thing but didn't make it work, and considering that `pybullet` cannot be made to depend on (a theoretical) `bullet-cpp` package, wouldn't it be correct also to just create a new one called `pybullet` and do as @erwincoumans says and just use `setup.py` in there?",tried multiple output thing make work considering made depend theoretical package would correct also create new one use,issue,negative,positive,neutral,neutral,positive,positive
737322881,"We can use the same conda package with multiple outputs:

Ideally we end up with `bullet-cpp`, `pybullet` and `bullet` (`bullet` would depend on both, the C++ and Python package). Also ideally, pybullet would depend on bullet-cpp, but this won't be necessary since we'll build pybullet as statically linked, standalone package.",use package multiple ideally end bullet bullet would depend python package also ideally would depend wo necessary since build statically linked package,issue,positive,positive,positive,positive,positive,positive
737315995,"Correct. setup.py compiles all sources in a single pybullet.so, so it doesn't depend on external Bullet C++ libraries, it compiles them as follows:

~~~~~~~~~~~~~~~~~~~~~
sources = [""examples/pybullet/pybullet.c""]\
...
+[""src/btLinearMathAll.cpp""]\
+[""src/btBulletCollisionAll.cpp""]\
+[""src/btBulletDynamicsAll.cpp""]\
...
~~~~~~~~~~~~~~~~~~~~~

>> conda-forge has a bullet package and installing it actually installs pybullet

How is this 'bullet' conda package build? I would expect it to be called 'pybullet' and using setup.py.
",correct single depend external bullet bullet package actually package build would expect,issue,negative,negative,neutral,neutral,negative,negative
737296270,"> We can just execute the same setup.py.

that would basically be the same thing I tried a while ago which incorrectly removed the c++ part, right? maybe if we try that on a separate conda package?",execute would basically thing tried ago incorrectly removed part right maybe try separate package,issue,negative,positive,positive,positive,positive,positive
737226797,"@erwincoumans I understand that there is some frustration, sorry for that. I guess no-one really has the time to untangle the build system, maybe make pybullet standalone (properly depending on bullet-cpp with dynamic (or static) linkage) etc. 

I think if you would want to package for Debian / Fedora etc. you would be met with similar concerns, and conda-forge really is a distribution just like Debian / Fedora (with the difference of being multi-platform).

I'll see if we can add a statically linked pybullet to conda-forge (even though it's not desired). 

We can just execute the same `setup.py`.
It wouldn't even depend on `bullet-cpp` as far as I can tell, since that is also statically linked into `pybullet`, correct?",understand frustration sorry guess really time untangle build system maybe make properly depending dynamic static linkage think would want package would met similar really distribution like difference see add statically linked even though desired execute would even depend far tell since also statically linked correct,issue,positive,positive,neutral,neutral,positive,positive
737219146,"Since we are not likely getting anywhere with conda, probably better to close this with ""cannot fix"" for now, and recommend to simply use 

~~~~~~~~~~~
pip install
~~~~~~~~~~~

If soneone thinks they can manage to get PyBullet in conda, feel free to reply on how to achieve this. I'm not wasting my time with this.",since likely getting anywhere probably better close fix recommend simply use pip install manage get feel free reply achieve wasting time,issue,positive,positive,positive,positive,positive,positive
737217674,"Traditional Bullet C++ is LinearMath, BulletCollision, BulletDynamics and BulletSoftBody. 

All the other code, including example code for URDF loading and rendering is specific to PyBullet. That is all included in setup.py The PyBullet API is very different from the Bullet C++ API.",traditional bullet code example code loading rendering specific included different bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
737203791,"> Well, can conda just output a message to use pip instead, if someone tries to run conda install pybullet?

Not really, afaik.

> Again, pybullet is not the same as Bullet C++. the setup.py contains all instructions how to build PyBullet for Windows, Linux and Mac.

You usually say this, but I keep failing to understand how they are not the same thing. It's the exact same repo. Pybullet is bindings for the exact same C++ code. Right? What do you refer to exactly when you say they are not the same?",well output message use pip instead someone run install really bullet build mac usually say keep failing understand thing exact exact code right refer exactly say,issue,negative,positive,positive,positive,positive,positive
737196050,"Well, can conda just output a message to use pip instead, if someone tries to run conda install pybullet? Again, pybullet is not the same as Bullet C++. the setup.py contains all instructions how to build PyBullet for Windows, Linux and Mac.",well output message use pip instead someone run install bullet build mac,issue,negative,neutral,neutral,neutral,neutral,neutral
737186296,"thanks for the response. yeah, I am not sure what the best way to go is. I have a working build for the C++ part of bullet, but the python part is ... really tricky with all these thirdparty dependencies, and it seems difficult to get them out of the build system.

I'll ask on conda-forge gitter if we should statically link all this or if we don't accept this in conda-forge. 

I know that it's much easier to have such a tight control over everything, but it really hurts the ""proper"" packaging effort to vendor all these libraries :(",thanks response yeah sure best way go working build part bullet python part really tricky difficult get build system ask statically link accept know much easier tight control everything really proper effort vendor,issue,positive,positive,positive,positive,positive,positive
736951046,Thanks a lot for your detailed reply. I will read them carefully!,thanks lot detailed reply read carefully,issue,positive,positive,positive,positive,positive,positive
736933481,"@wolfv Eigen is header-only so it shouldn't cause conflicts. Both BussIK and gwen are not public libraries but part of Bullet, so we cannot expect incompatibilities. Any other library? You should be able to use system-wide or conda-alternatives for most things in examples/ThirdParty. pip installs pybullet as one whole using setup.py as build system, and I haven't heard about incompatibilities. Also, when using pip to build PyBullet, pybullet.so (or pybullet.pyd on Windows) is a single file and all of Bullet is statically linked into that, no need for further complexity.",cause public part bullet expect library able use pip one whole build system also pip build single file bullet statically linked need complexity,issue,negative,positive,positive,positive,positive,positive
736674671,"There is a Python example that uses spherical joints and inverse dynamics, see 
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py
It would be great if you can make your inverse dynamics spherical joint work with that example.

You can add unit tests in the Bullet/tests folder and run them using
~~~~~~~~~~~~
mkdir build
cd build
cmake ..
ctest
~~~~~~~~~~~~

There are also Python tests, in the https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/unittests directory. You can run those for example using
~~~~~~~~~~~~
python3 examples/pybullet/unittests/unittests.py --verbose
~~~~~~~~~~~~

See also the travis CI script:
https://github.com/bulletphysics/bullet3/blob/master/.ci/script.sh
",python example spherical inverse dynamic see would great make inverse dynamic spherical joint work example add unit folder run build build also python directory run example python verbose see also travis script,issue,positive,positive,positive,positive,positive,positive
736666330,"Another question is about the test and some other fit. ;-) Do I need to do some more test and then recorded them in a particular pipeline? How & What can I tried to do the test in pybullet? 

Very eager to get you guidence! XD",another question test fit need test particular pipeline tried test eager get,issue,positive,positive,positive,positive,positive,positive
736656250,"Hi @erwincoumans , till now I have nearly finished cleaning my code, but I still need to do some verification work before a PR.
I saw that there are literally two examples in the `ExampleBrowser` which are responsible for the `InverseDynamics`. They try to  use the Inverse model to have a more stable PD control. 

It's quite a good way to illurstrate the usage of `InverseDynamic` module. But it cannot teach other guys how to integrate the external contact force (or other cartesian forces) into the Inverse Model, which is also what I want to tell (It troubles me a lot in the begining too ;-)). My plan is to add a new example entry, in the subdirectory of `InverseDynamic`, which can solve the activate control force of a multibody accurately when it is even effected by other contact forces/ perturbation. HDYT?

Bests,
Xudong",hi till nearly finished cleaning code still need verification work saw literally two responsible try use inverse model stable control quite good way usage module teach integrate external contact force inverse model also want tell lot plan add new example entry solve activate control force accurately even contact perturbation,issue,positive,positive,positive,positive,positive,positive
736334135,"@erwincoumans I have been looking into this for the last hour or so. The main issue is that there are a lot of vendored libraries (Eigen, BussIK, gwen) that we have to get out of the pybullet / the examples before we can release this to conda-forge, otherwise there might be incompatibilities when loading pybullet and other Python libraries that depend on those.
I suspect you don't have an easy way to use out-of-tree-dependencies, right?",looking last hour main issue lot get release otherwise might loading python depend suspect easy way use right,issue,negative,positive,positive,positive,positive,positive
736295849,"I can work on this today!

@erwincoumans do you also want to become a maintainer of bullet on conda-forge?",work today also want become maintainer bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
735593905,"As you advised, not using substeps (pybullet.setPhysicsEngineParameter(substeps=1)) solves the problems.
before : 
timestep: 0.030 / substep : 10 => 3.0.6 : stable / 3.0.7 : unstable
after:
timestep: 0.003 / substep : 1 => 3.0.6 : stable / 3.0.7 : stable
Thanks!!",advised stable unstable stable stable thanks,issue,positive,positive,positive,positive,positive,positive
735522754,"@wolfv or @gonzalocasas 
How can we arrange for the latest pubullet version to be included in conda?
3.07 pybullet and C++ is in sync now.",arrange latest version included sync,issue,negative,positive,positive,positive,positive,positive
735411751,"Can you provide a self-contained reproduction case?

Are you using substeps? Try using substeps=1 and smaller timestep",provide reproduction case try smaller,issue,negative,neutral,neutral,neutral,neutral,neutral
735249048,"Linking with BulletDynamics BulletCollision LinearMath instead works, though I needed to set SET(USE_MSVC_RUNTIME_LIBRARY_DLL ON) before add_subdirectory",linking instead work though set set,issue,negative,neutral,neutral,neutral,neutral,neutral
734754646,"Hi @erwincoumans. Using tetwild instead of Gmsh to generate the 3D mesh fixed my problem. For anybody else who is just starting to build 3D models, you can generate your surface mesh in .obj or .stl with any software, grow it to volume mesh with tetwild, then convert to .vtk with Gmsh. Lastly, just feed it to your pybullet environment and enjoy!",hi instead generate mesh fixed problem anybody else starting build generate surface mesh grow volume mesh convert lastly feed environment enjoy,issue,negative,positive,positive,positive,positive,positive
734471687,"Thanks @HenningLuo , what part fixed your issue exactly?",thanks part fixed issue exactly,issue,negative,positive,positive,positive,positive,positive
734462697,"@xhan0619 Thanks so much for sharing your workflow! It works well! The vtk file generated now does not contain 1D and 2D elements anymore! Problem solved!

",thanks much work well file contain problem,issue,negative,positive,positive,positive,positive,positive
734433616,"Hi Xuchen, thanks for your quick response! I have tried both using the GUI of Gmsh and its python package to build the mesh, they reached the same result. My python code is below.

```python
import gmsh
from math import pi

gmsh.initialize()

gmsh.model.add(""cylinder"")

gmsh.option.setNumber(""Mesh.Algorithm3D"", 1)
gmsh.option.setNumber(""Mesh.MeshSizeMin"", 0.4)
gmsh.option.setNumber(""Mesh.MeshSizeMax"", 0.4)
gmsh.option.setNumber(""Mesh.MeshSizeFactor"", 0.1)

x, y, z = 0,0,0
dx, dy, dz = 0,0,1
radius = 0.1
gmsh.model.occ.addCylinder(x, y, z, dx, dy, dz, radius, tag = 1, angle = 2*pi)

gmsh.model.occ.synchronize()

gmsh.model.addPhysicalGroup(3, [1], 1)
gmsh.model.setPhysicalName(3, 1, ""The volume"")

gmsh.model.mesh.generate(3)
gmsh.write(""cylinder.vtk"")

gmsh.fltk.run()
gmsh.finalize()
```
As a matter of fact, I have found an answer from the manual of Gmsh. It says 

> By default, if physical groups are defined, the output mesh only contains those elements
that belong to physical entities. So to save only 3D elements, simply define one (or more)
physical volume(s) and don’t define any physical surfaces, physical curves or physical points.

However, when I add physical volumes in my python codes and in GUI, 2D and 1D elements are still generated. I assume I must have made some mistakes during the process but wasn't able to identify them. 
Any hint is appreciated! I will also try your workflow as you mentioned. Thanks again for your reply and await your insights.",hi thanks quick response tried python package build mesh result python code python import math import pi cylinder radius radius tag angle pi volume matter fact found answer manual default physical defined output mesh belong physical save simply define one physical volume define physical physical physical however add physical python still assume must made process able identify hint also try thanks reply await,issue,positive,positive,positive,positive,positive,positive
734419421,"@HenningLuo, could you briefly outline your workflow for generating the vtk files? I usually hand build the surface mesh and convert it to volume mesh in .msh format with TetWild and then convert to vtk format with Gmsh.",could briefly outline generating usually hand build surface mesh convert volume mesh format convert format,issue,negative,negative,negative,negative,negative,negative
734003219,"I do not think loading objects in obj format is a good choice, since it only specifies the surface polygons of the object. Unless this is fabric or cloth, objects with volume should collapse when loaded in FEM mode. The vtk files in bullet examples are all generated with gmsh, so maybe that is the right software for modelling soft objects. I am only getting started to build these model as well, please forgive me if I am wrong.",think loading format good choice since surface object unless fabric cloth volume collapse loaded mode bullet maybe right soft getting build model well please forgive wrong,issue,negative,positive,positive,positive,positive,positive
734000764,"Hi, I am having the same problem generating vtk files with gmsh. The mesh I generated always contain triangles and I have been searching for a few days but haven't had luck. This may be too much to ask, but is it possible if any bullet developers can shed some light on how to solve this? Many thanks.",hi problem generating mesh always contain searching day luck may much ask possible bullet shed light solve many thanks,issue,positive,positive,positive,positive,positive,positive
733846172,Thanks for working on this! Please let me know if it is ready for merge.,thanks working please let know ready merge,issue,positive,positive,positive,positive,positive,positive
733844678,"Thanks a lot for the reproduction case Erik.
Let's apply the revert and we'll look at the issue.",thanks lot reproduction case let apply revert look issue,issue,negative,positive,positive,positive,positive,positive
733744715,"Hi Erwin!

I made a Notebook that replicates the error. It is made to work on Colab without any modifications.
https://gist.github.com/ErikGartner/a9153c2dafd3c67f39b64c98287ce385

Unfortunately the only way I have reliably replicated the error is when training an RL agent with RLlib in ScaDiver so that's what I do in the notebook. I.e. the notebook runs the training code and prints the velocity error compared to the reference motion during imitation training. The specific error values to not matter but the magnitude changes greatly between older versions of PyBullet and newer.

Best,
Erik",hi made notebook error made work without unfortunately way reliably replicated error training agent notebook notebook training code velocity error reference motion imitation training specific error matter magnitude greatly older best,issue,negative,positive,positive,positive,positive,positive
733724566,"That's something I'm not 100% sure about. DeepMimic's interaction loop is pretty non-standard and it's hard to tell when the rewards are calculated: I think it's with respect to the current state `s_t` before applying the action `a_t` (and getting to state `s_{t+1}`) rather than afterwards.

IMO either one works as long as you make sure the reference pose you're comparing the state to is the right one (same time step).
ScaDiver computes rewards wrt the state at time `t` (using state data from _before_ applying the action)
https://github.com/facebookresearch/ScaDiver/blob/96001537f9ab2eddfe871b78807923a30f7d012f/env_humanoid_base.py#L368-L385",something sure interaction loop pretty hard tell calculated think respect current state action getting state rather afterwards either one work long make sure reference pose state right one time step state time state data action,issue,positive,positive,positive,positive,positive,positive
733506241,"Not sure how to fix the travis build error. Following is the build error log
```
Worker information
There was an error in the .travis.yml file from which we could not recover.
Unfortunately, we do not know much about this error.
Please review https://docs.travis-ci.com, or contact us at support@travis-ci.com with the error ID: 8d252f69a4cf46ca8682f4a64e4f41de
```
Seems like the failing builds are from `BUILD_NAME=XENIAL_CLANG DOCKER_FILE=""ubuntu-xenial""` and `BUILD_NAME=TRUSTY_CLANG SUDO=sudo`

Please advise.",sure fix travis build error following build error log worker information error file could recover unfortunately know much error please review contact u support error id like failing please advise,issue,negative,positive,neutral,neutral,positive,positive
733397802,"Thanks, LGTM. The CI is locking on one Docker config, let's ignore it.",thanks locking one docker let ignore,issue,negative,positive,positive,positive,positive,positive
733089311,"Btw I could help but notice that in `deep_mimic_env.py` you calculate the reward *before* applying the new action, is that intentional?

```
reward = self._internal_env.calc_reward(agent_id)

# Apply control action
self._internal_env.set_action(agent_id, action)
```

I don't think it would actually make a huge difference, but it seemed a bit odd.",could help notice calculate reward new action intentional reward apply control action action think would actually make huge difference bit odd,issue,positive,positive,neutral,neutral,positive,positive
733088314,"They use the more standard BVH format instead of the custom format used in
deepmimic, they have code to convert to character poses in reduced
coordinates to supply to pybullet

On Tue, 24 Nov 2020, 17:18 Federico, <notifications@github.com> wrote:

> I haven't read the paper but I saw their repo and video, seems very
> promising. I am trying to stick with DeepMimic because I don't want to
> change everything halfway :)
>
> Also, if I recall correctly, they use a different format for clips (3d
> joints instead of quaternions maybe?), so I would have to adapt the
> tracking algorithm to that as well.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3161#issuecomment-733085363>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427B7A3AWBIY5AWRD4FDSRPMGPANCNFSM4UBBMUGA>
> .
>
",use standard format instead custom format used code convert character reduced supply tue wrote read paper saw video promising trying stick want change everything halfway also recall correctly use different format clip instead maybe would adapt algorithm well reply directly view,issue,positive,positive,neutral,neutral,positive,positive
733085363,"I haven't read the paper but I saw their repo and video, seems very promising. I am trying to stick with DeepMimic because I don't want to change everything halfway :)

Also, if I recall correctly, they use a different format for clips (3d joints instead of quaternions maybe?), so I would have to adapt the tracking algorithm to that as well.",read paper saw video promising trying stick want change everything halfway also recall correctly use different format clip instead maybe would adapt algorithm well,issue,positive,positive,neutral,neutral,positive,positive
733077310,"Yes, the method is quite brittle I'm afraid, some hyperparameters can send you to very bad local minima. Have you looked at other papers like Facebook's [ScaDiver](https://github.com/facebookresearch/ScaDiver) ? The approach is the same but the subreward aggregation/early termination strategies are different. Maybe it's more robust but I haven't tested yet",yes method quite brittle afraid send bad local minimum like approach termination different maybe robust tested yet,issue,negative,negative,negative,negative,negative,negative
733066191,"I was wondering whether I was doing something wrong in the training setup or when loading the model, but I figured there might be something wrong with the parameters given that the training would get stuck",wondering whether something wrong training setup loading model figured might something wrong given training would get stuck,issue,negative,negative,negative,negative,negative,negative
733063782,"Sorry about that, I use a strategy where I have a default set of PPO params
on top of SB3's defaults, and the values I gave you were the overrides for
the both of them. Check the hyperparams.yml in the Dropbox link I sent, I
use the same discount and lambda (0.95) as Jason Peng. I think one of the
important things was I use 4096 timesteps per env per rollout

On Tue, 24 Nov 2020, 16:47 Federico, <notifications@github.com> wrote:

> @erwincoumans <https://github.com/erwincoumans> I tried a couple of runs
> using my script and another one using the training script from
> stable-baselines 3 zoo
>
> @ManifoldFR <https://github.com/ManifoldFR> I used the default values for
> the discount factor and lambda parameter. Did you use custom values? I
> wondered you also used the default ones given that you didn't list them
> with the other params.
> I used the version with action/observation scaling, so I guess it's the
> same.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3161#issuecomment-733060538>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427DM23A7MY6NJZJAP3DSRPISNANCNFSM4UBBMUGA>
> .
>
",sorry use strategy default set top gave check link sent use discount lambda think one important use per per tue wrote tried couple script another one training script zoo used default discount factor lambda parameter use custom also used default given list used version scaling guess reply directly view,issue,negative,positive,positive,positive,positive,positive
733060538,"@erwincoumans I tried a couple of runs using my script and another one using the training script from stable-baselines 3 zoo

@ManifoldFR I used the default values for the discount factor and lambda parameter. Did you use custom values? I wondered you also used the default ones given that you didn't list them with the other params.
I used the version with action/observation scaling, so I guess it's the same.",tried couple script another one training script zoo used default discount factor lambda parameter use custom also used default given list used version scaling guess,issue,negative,neutral,neutral,neutral,neutral,neutral
733058716,"What about the discount factor and lambda parameter for TD(lambda) ? Also, are you using my branch with the modifications to the Gym env?
Here's a dropbox [link](https://www.dropbox.com/s/0yu6cdzzm5jtdsz/PPO_walk.zip?dl=0) with a policy trained with this (I think for that run I set a slightly higher learning rate)",discount factor lambda parameter lambda also branch gym link policy trained think run set slightly higher learning rate,issue,negative,positive,positive,positive,positive,positive
733056967,Training sometimes get stuck in such behavior. Did you try a couple of training runs?,training sometimes get stuck behavior try couple training,issue,negative,neutral,neutral,neutral,neutral,neutral
733056774,"I started from the parameters of Jason Peng's code, but for things like the maximum grad norm, target KL or vf coef I had to make guesses because these were not parameters in his PPO implementation (also he had two separate optimizers for the policy and value functions).

On Tue, 24 Nov 2020, 16:37 Federico, <notifications@github.com> wrote:

> @ManifoldFR <https://github.com/ManifoldFR> may I ask how you obtained
> the values for the model/policy hyperparams? Did you perform tuning using
> Optuna as in the RL zoo?
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3161#issuecomment-733054328>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427HJQ7DP7TAFYUPRE4DSRPHMLANCNFSM4UBBMUGA>
> .
>
",code like maximum grad norm target make implementation also two separate policy value tue wrote may ask perform tuning zoo reply directly view,issue,positive,positive,neutral,neutral,positive,positive
733054328,@ManifoldFR may I ask how you obtained the values for the model/policy hyperparams? Did you perform tuning using Optuna as in the RL zoo?,may ask perform tuning zoo,issue,negative,neutral,neutral,neutral,neutral,neutral
732705782,"qIndex and uIndex sequentially update within the pybullet.startStateLogging() function.

Basically, qIndex is the position feedback in PyBullet for joints. Say you have 6 joints in a robot, then the indices are q0, q1, q2, q3, q4, q5 and they update constantly over time as the states are being logged. 

But I can't figure out what are the units.... m/s or rad/s, etc....

Here I have a live Plot: 
I have 22 joints in my robot, but since I converted all of them to 'fixed' from revolute within the URDF, only q0 (and u0..not shown in the picture) is being plotted.

Also, I am running another script that reads data from a `.bin` file and plots it in real-time.

![image](https://user-images.githubusercontent.com/37873142/100060687-e63ebf80-2e52-11eb-95d7-3ef24f741051.png)

",sequentially update within function basically position feedback say robot index update constantly time logged ca figure live plot robot since converted revolute within shown picture plotted also running another script data file image,issue,negative,positive,neutral,neutral,positive,positive
732006357,"I found the solution for my own question: **_This is a long answer and I will update it soon_**

What I did is: 1. ran the createMultiBodyLinks.py file with modifications (here it is):

```
import pybullet as p
import time
import pybullet_data
import numpy as np

p.connect(p.GUI)
p.setAdditionalSearchPath(pybullet_data.getDataPath())
p.createCollisionShape(p.GEOM_PLANE)
p.createMultiBody(0, 0)

sphereRadius = 0.05
colSphereId = p.createCollisionShape(p.GEOM_SPHERE, radius=sphereRadius)
colBoxId = p.createCollisionShape(p.GEOM_BOX,
                                  halfExtents=[sphereRadius, sphereRadius, sphereRadius])

mass = 1
visualShapeId = -1

link_Masses = [1]
linkCollisionShapeIndices = [colBoxId]
linkVisualShapeIndices = [-1]
linkPositions = [[0, 0, 0.11]]
linkOrientations = [[0, 0, 0, 1]]
linkInertialFramePositions = [[0, 0, 0]]
linkInertialFrameOrientations = [[0, 0, 0, 1]]
indices = [0]
jointTypes = [p.JOINT_REVOLUTE]
axis = [[0, 0, 1]]

for i in range(2):
  for j in range(2):
    for k in range(2):
      basePosition = [
          1 + i * 5 * sphereRadius, 1 + j * 5 * sphereRadius, 1 + k * 5 * sphereRadius + 1
      ]
      baseOrientation = [0, 0, 0, 1]
      if (k & 2):
        sphereUid = p.createMultiBody(mass, colSphereId, visualShapeId, basePosition,
                                      baseOrientation)
      else:
        sphereUid = p.createMultiBody(mass,
                                      colBoxId,
                                      visualShapeId,
                                      basePosition,
                                      baseOrientation,
                                      linkMasses=link_Masses,
                                      linkCollisionShapeIndices=linkCollisionShapeIndices,
                                      linkVisualShapeIndices=linkVisualShapeIndices,
                                      linkPositions=linkPositions,
                                      linkOrientations=linkOrientations,
                                      linkInertialFramePositions=linkInertialFramePositions,
                                      linkInertialFrameOrientations=linkInertialFrameOrientations,
                                      linkParentIndices=indices,
                                      linkJointTypes=jointTypes,
                                      linkJointAxis=axis)

      p.changeDynamics(sphereUid,
                       -1,
                       spinningFriction=0.001,
                       rollingFriction=0.001,
                       linearDamping=0.0)
      for joint in range(p.getNumJoints(sphereUid)):
        p.setJointMotorControl2(sphereUid, joint, p.VELOCITY_CONTROL, targetVelocity=1, force=10)

p.setGravity(0, 0, -10)

print('\n')

for i in range(p.getNumJoints(sphereUid)):
  body = p.getBodyUniqueId(sphereUid, i)
  print('unique_id = ', body)
  state = p.getJointState(sphereUid, i)
  print('Joint States: ',state)
  info = p.getJointInfo(sphereUid, i)
  print('Joint Info: ',info,'\n')

p.setRealTimeSimulation(0)
p.startStateLogging(loggingType=p.STATE_LOGGING_GENERIC_ROBOT,fileName=""./state_log.bin"",objectUniqueIds=[1,2],logFlags=p.STATE_LOG_JOINT_TORQUES)
p.setRealTimeSimulation(1)

t=10
count=0
while (count<t):
  keys = p.getKeyboardEvents()
  print(keys,'data is currently being logged...')
  # print(p.getJointInfo(sphereUid, 1))
  count=count+1
  time.sleep(0.1)

print('data logging has ended...\n')

p.stopStateLogging(loggingId=1)
# p.setRealTimeSimulation(0)

stop_sim=1
count=0
while(count<stop_sim):
  keys =p.getKeyboardEvents()
  print('...')
  count=count+1
  time.sleep(0.1)

```

2. Once the data was logged in the 'state_log.bin' file, I was able to decode it using the provided code (dumpLog.py), again of course with my own modifications: 

```
import time
import math
from datetime import datetime
import struct
import sys
import os, fnmatch
import argparse
from time import sleep
import matplotlib.pyplot as plt 
import matplotlib.animation as animation

fileName = ""state_log.bin""

def readLogFile(filename, verbose=True):
  f = open(filename, 'rb')

  print('Opened'),
  print(filename)

  keys = f.readline().decode('utf8').rstrip('\n').split(',')
  fmt = f.readline().decode('utf8').rstrip('\n')

  # The byte number of one record
  sz = struct.calcsize(fmt)
  # The type number of one record
  ncols = len(fmt)

  file=open('decoded_states.bin','a')

  if verbose:
    print('Keys:'),
    print(keys)
    print('Format:'),
    print(fmt)
    print('Size:'),
    print(sz)
    print('Columns:'),
    print(ncols)

  lenChunk = sz
  log = list()
  chunkIndex = 0
  while (lenChunk):
    check = f.read(2)
    lenChunk = 0
    if (check == b'\xaa\xbb'):
      mychunk = f.read(sz)
      lenChunk = len(mychunk)
      chunks = [mychunk]
      if verbose:
        print(""num chunks:"")
        print(len(chunks))

      for chunk in chunks:
        print(""len(chunk)="", len(chunk), "" sz = "", sz)
        if len(chunk) == sz:
          print(""chunk #"", chunkIndex)
          chunkIndex = chunkIndex + 1
          values = struct.unpack(fmt, chunk) 
          print('values :..... ',values )
          record = list()
          for i in range(1): # range(ncols)
            record.append(values[i])
            if verbose:
              # print(""    "", keys[41], ""="", values[41], ',', keys[1], '=', values[1])
              print( values[41], ',', values[1])
          torque=values[41]
          time_stamp=values[1]
          # print('values 41 (""t0"")= ', time_stamp,'\n')
          file.write(str(torque)+','+str(time_stamp))
          file.write('\n')
          
          log.append(record)
    else:
      print(""Error, expected aabb terminal"")
      file.close()
  return log


numArgs = len(sys.argv)

print('Number of arguments:', numArgs, 'arguments.')
print('Argument List:', str(sys.argv))

if (numArgs > 1):
  fileName = sys.argv[1]

print(""filename="")
print(fileName)

######################################

while True: 
    verbose_choice = input('Verbose? [y/n] ') 
    if verbose_choice == '' or not verbose_choice[0].lower() in ['y','n']:
      print('Please answer with ""yes"" or ""no""!') 
    else:break 
if verbose_choice[0].lower() == 'y' : 
  print('\nreading from file...')
  verbose = True
  
if verbose_choice[0].lower() == 'n' : 
  print('\nNon verbose method...')
  verbose = False

######################################
plt.plot()
readLogFile(fileName, verbose)
```

3. This populated the 'decoded_states.bin' file, which I then easily decrypted using this code by [Sentdex](https://pythonprogramming.net/live-graphs-matplotlib-tutorial/):

```
import pybullet as p
import pybullet_data as p_data

import time
import matplotlib.pyplot as plt
import numpy as np  #to reshape for matplotlib
import os

import matplotlib.animation as animation 

fig = plt.figure()
ax1 = fig.add_subplot(1,1,1)

def animate(i):
    graph_data = open('solved_states.bin','r').read()
    lines = graph_data.split('\n')
    time_stamp = [] #time
    torque = [] #torque
    for line in lines:
        if len(line) > 1:
            x, y = line.split(',')
            time_stamp.append(float(y))
            torque.append(float(x))
    ax1.clear()
    ax1.plot(time_stamp, torque,color='r',label='Torque')
    ax1.set_title('Torque Vs Time')
    ax1.set_xlabel('Time')
    ax1.set_ylabel('Torque')
    ax1.legend(loc=""upper right"")

ani = animation.FuncAnimation(fig, animate, interval=1000)
plt.show()
```

This produced the following:

![image](https://user-images.githubusercontent.com/37873142/99940576-6b15d480-2d92-11eb-8e86-08269bc3054d.png)

Thereby logging it. Although I am now Integrating it all in one file so that it is all taken care of in one command ...Will update soon...

",found solution question long answer update ran file import import time import import mass index axis range range range mass else mass joint range joint print range body print body state print state print count print currently logged print print logging ended count print data logged file able decode provided code course import time import math import import import import o import time import sleep import import animation open print print number one record type number one record verbose print print print print print print print print log list check check verbose print print chunk print chunk chunk chunk print chunk chunk print record list range range verbose print print print torque record else print error terminal return log print print list print print true input print answer yes else break print file verbose true print verbose method verbose false verbose file easily code import import import time import import reshape import o import animation fig ax animate open time torque torque line line float float torque time upper right ani fig animate produced following image thereby logging although one file taken care one command update soon,issue,positive,positive,positive,positive,positive,positive
731605090,"HI Erwin,

So far the only way I was able to replicate the issue was by running the ScaDiver code. Maybe next week I can try to make a colab to show the problem.

/Erik",hi far way able replicate issue running code maybe next week try make show problem,issue,negative,positive,positive,positive,positive,positive
731478939,Thanks for the report. Can any of you describe some (hopefully) simple steps how to reproduce this issue?,thanks report describe hopefully simple reproduce issue,issue,positive,positive,neutral,neutral,positive,positive
730813245,"After I set joint revolute limit, this problem was solved. By the way, if you want to make your own URDF file, you can use solidworks to set mass and calculate inertia automatically.
",set joint revolute limit problem way want make file use set mass calculate inertia automatically,issue,negative,neutral,neutral,neutral,neutral,neutral
730614129,"Thank you for your response!

I figured out how to query using getEulerFromQuaternion() and apply
iteratively it on resetBasePositionAndOrientation(). I was able to reorient
it correctly within 30 mins.
Thank you for making Pybullet opensource!

Regards,
Rohit Kumar J




On Fri, Nov 20, 2020 at 1:37 AM erwincoumans <notifications@github.com>
wrote:

> Closed #3157 <https://github.com/bulletphysics/bullet3/issues/3157>.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3157#event-4017683130>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AJA6L5WVIENWM2H42EHHM43SQV3IVANCNFSM4T3Y2Q7A>
> .
>
",thank response figured query apply iteratively able reorient correctly within thank making wrote closed thread reply directly view,issue,positive,positive,positive,positive,positive,positive
730607664,"[1,0,0,0] is a unit quaternion, don't make the length longer. If you want to use euler angles, use pybullet.getQuaternionFromEuler

See also https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/rollPitchYaw.py",unit quaternion make length longer want use use see also,issue,negative,neutral,neutral,neutral,neutral,neutral
730484156,Nice catch! I was seeing weird things in my own motion imitation project.,nice catch seeing weird motion imitation project,issue,negative,negative,neutral,neutral,negative,negative
730475308,We need to know the C++ constraint type to reproduce: btHingeConstraint? btGeneric6DofConstraint? btGeneric6DofSpring2Constraint? ,need know constraint type reproduce,issue,negative,neutral,neutral,neutral,neutral,neutral
730471441,"@erwincoumans I made a PR for my new changes, it's gonna be WIP for now. Ideally I'd like to add a Gym env for @tfederico new multiclip env introduced with this PR.",made new gon na ideally like add gym new,issue,positive,positive,positive,positive,positive,positive
730470830,"Oh, you should load the VecNormalize checkpoint, too, as `env = VecNormalize.load(path)`. I think the training script is supposed to dump a `vecnormalize.pkl` which contains the saved mean and stdev.",oh load path think training script supposed dump saved mean,issue,negative,negative,negative,negative,negative,negative
730469593,"During training the reward increases up to ~300, e.g.

```
Eval num_timesteps=34000000, episode_reward=270.24 +/- 14.27
Episode length: 578.40 +/- 11.54
```

But then at test time it's really low.",training reward episode length test time really low,issue,negative,neutral,neutral,neutral,neutral,neutral
730467600,"That's how I load and run the deterministic model:
```
env = make_vec_env('HumanoidDeepMimicWalkBulletEnv-v1')
env = VecNormalize(env, training=False, norm_reward=False)

model = PPO.load(""/tmp/gym/best_model.zip"", env=env)

avg, std = evaluate_policy(model, env, n_eval_episodes=10, deterministic=True)
```
`norm_obs` should be `True` by default.",load run deterministic model model model true default,issue,negative,positive,positive,positive,positive,positive
730464058,"Hello @erwincoumans,
The top cube is connected to the sliding cube by a prismatic joint. the joint's position is controlled by a PID loop. I never used Bullet C++ or PyBullet, so I can't help much there. but I feel pretty confident that if anyone [follows my recipe](https://forum.coppeliarobotics.com/viewtopic.php?f=5&t=8892) the buggy behavior will emerge. I can make an explanation video, to illustrate the wrong behavior better. Please let me know if I can help.",hello top cube connected sliding cube prismatic joint joint position loop never used bullet ca help much feel pretty confident anyone recipe buggy behavior emerge make explanation video illustrate wrong behavior better please let know help,issue,positive,positive,positive,positive,positive,positive
730463834,"Did you run the learned model in deterministic mode? Also be sure to normalize observations too (`norm_obs=True`) during training, that's usually good with continuous observation space control problems.

The training script from the zoo is slightly different from mine, there's a ""normalize"" key in the yaml and setting it to true, sets normalize both obs and reward to true.",run learned model deterministic mode also sure normalize training usually good continuous observation space control training script zoo slightly different mine normalize key setting true normalize reward true,issue,positive,positive,positive,positive,positive,positive
730319509,"I tried training it with a custom script 

```
n_envs = 8
env = make_vec_env('HumanoidDeepMimicWalkBulletEnv-v1', n_envs=n_envs)
env = VecNormalize(env, norm_reward=model_args['norm_reward'])

model = PPO(
    'MlpPolicy',
    env,
    learning_rate=model_args['learning_rate'],
    n_epochs=model_args['n_epochs'],
    ent_coef=model_args['ent_coef'],
    vf_coef=model_args['vf_coef'],
    max_grad_norm=model_args['max_grad_norm'],
    target_kl=model_args['target_kl'],
    policy_kwargs=policy_kwargs
)

n_steps = 60000000

model.learn(n_steps)
```

but when I tried to load the saved model and run a few steps it wouldn't last longer than ~20/30 steps. I will try to use the training script from the zoo as you suggested. 

Are you aware of any major differences between their script and what I implemented?
",tried training custom script model tried load saved model run would last longer try use training script zoo aware major script,issue,negative,positive,positive,positive,positive,positive
730317426,"That's right! I actually load some of the keys within Python but that's
what it boils down to.

On Thu, 19 Nov 2020, 12:09 Federico, <notifications@github.com> wrote:

> @ManifoldFR <https://github.com/ManifoldFR> am I right to assume that you
> hyperparameters file looks something like this?
>
> HumanoidDeepMimicWalkBulletEnv-v1:
>   normalize: ""dict(norm_reward=False)""
>   n_envs: 8
>   learning_rate: 2.5e-6
>   n_timesteps: !!float 6e7
>   policy: 'MlpPolicy'
>   n_epochs: 4
>   target_kl: 0.05
>   ent_coef: 0
>   vf_coef: 5.
>   max_grad_norm: 100.
>   policy_kwargs: ""dict(
>     activation_fn=nn.ReLU,
>     net_arch=[dict(pi=[1024, 512], vf=[1024, 512])],
>     log_std_init=-3,
>     ortho_init=True,
>     optimizer_kwargs=dict(weight_decay=1.0e-5)
> 			)""
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/3076#issuecomment-730300312>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427B5VIILGGBAMQJNFWLSQT4GDANCNFSM4RXGID4A>
> .
>
",right actually load within python wrote right assume file something like normalize float policy reply directly view,issue,negative,positive,positive,positive,positive,positive
730300312,"@ManifoldFR am I right to assume that you hyperparameters file looks something like this?

```
HumanoidDeepMimicWalkBulletEnv-v1:
  normalize: ""dict(norm_reward=False)""
  n_envs: 8
  learning_rate: 2.5e-6
  n_timesteps: !!float 6e7
  policy: 'MlpPolicy'
  n_epochs: 4
  target_kl: 0.05
  ent_coef: 0
  vf_coef: 5.
  max_grad_norm: 100.
  policy_kwargs: ""dict(
    activation_fn=nn.ReLU,
    net_arch=[dict(pi=[1024, 512], vf=[1024, 512])],
    log_std_init=-3,
    ortho_init=True,
    optimizer_kwargs=dict(weight_decay=1.0e-5)
			)""
```",right assume file something like normalize float policy,issue,negative,positive,positive,positive,positive,positive
730045483,"Hi @erwincoumans,

I noticed that panda joint accelerations are exceeding the limits specified in https://frankaemika.github.io/docs/control_parameters.html .
So is there any possibility to limit joint accelerations directly or would I need to implement a limit avoidance on the control side? I am using torque control. Position, velocity and torque limits are set.

Would be thankful for any help!",hi panda joint exceeding possibility limit joint directly would need implement limit avoidance control side torque control position velocity torque set would thankful help,issue,positive,positive,neutral,neutral,positive,positive
729346769,"Not all combinations work, I would use the settings from this script: (don't disable demos etc)
https://github.com/bulletphysics/bullet3/blob/master/build_cmake_pybullet_double.sh",work would use script disable demo,issue,negative,neutral,neutral,neutral,neutral,neutral
727272321,"Please check inverse_kinematics.py example, and set useNullspace=0
https://github.com/erwincoumans/bullet3/blob/master/examples/pybullet/examples/inverse_kinematics.py
",please check example set,issue,negative,neutral,neutral,neutral,neutral,neutral
727132405,"@erwincoumans hi erwin, would it be proper for us to reopen this issue? I would like to track my working progress in this issue, so that you & other people can know my work plan.",hi would proper u reopen issue would like track working progress issue people know work plan,issue,positive,neutral,neutral,neutral,neutral,neutral
727002824,"Thanks for the report.
The contact points are cached, and this doesn't work well for ghost objects, you need to clear the contact points before each simulation step. For example using a pre tick callback, after you created the sensorGhost:
~~~~~~~~~~~~~~~~
m_dynamicsWorld->setInternalTickCallback(tickCallback, sensorGhost, true);
~~~~~~~~~~~~~~~~

~~~~~~~~~~~~~~~~~
void tickCallback(btDynamicsWorld* world, btScalar timeStep)
{
	void* sensorGhost = world->getWorldUserInfo();
	for (int i = 0; i < world->getDispatcher()->getNumManifolds(); i++)
	{
		btPersistentManifold* contactManifold = world->getDispatcher()->getManifoldByIndexInternal(i);
		if (contactManifold->getBody0() == sensorGhost || contactManifold->getBody1() == sensorGhost)
			contactManifold->clearManifold();
	}
}
~~~~~~~~~~~~~~~~~",thanks report contact work well ghost need clear contact simulation step example tick true void world void,issue,positive,positive,positive,positive,positive,positive
726961510,"It is an old, not much used gym env, still good to fix it. Thanks!",old much used gym still good fix thanks,issue,positive,positive,positive,positive,positive,positive
726958493,"This should have been fixed in a recent refactor, please reply if not.",fixed recent please reply,issue,negative,positive,neutral,neutral,positive,positive
726958084,"I think this should be fixed in my recent commit:
https://github.com/bulletphysics/bullet3/commit/1bd82e7d81d3a265563538b7882eef80f215f0e8

Please reply/re-open if not.",think fixed recent commit please,issue,positive,positive,neutral,neutral,positive,positive
726711252,"> > I trained it on multiple walking clips and it works.
> 
> How did you train it exactly, can you provide a full command-line of train and also 'enjoy'/inspect the results?
> 
> Thanks!

`python3 mpi_run_multiclip.py --num_workers 8 --arg_file train_humanoid3d_walker_args.txt` for training and 
`python3 testrl_multiclip.py --arg_file run_humanoid3d_walker_args.txt` for enjoy.

It's almost identical to the walk clip, except that the argument file has a folder instead of a single file as input.

In case of clips with different durations, you can use the flag `self._downsample` to perform down/upsampling (the formed using random uniform downsampling and the latter using SLERP). The only problem with this is that it probably changed the motion speed, so we should probably look into that.",trained multiple walking clip work train exactly provide full train also thanks python training python enjoy almost identical walk clip except argument file folder instead single file input case clip different use flag perform formed random uniform latter problem probably motion speed probably look,issue,negative,positive,neutral,neutral,positive,positive
726553249,"My test code is based on [BasicExample.cpp](https://github.com/bulletphysics/bullet3/blob/master/examples/BasicDemo/BasicExample.cpp) which inheritance [CommonRigidBodyBase.h](https://github.com/bulletphysics/bullet3/blob/master/examples/CommonInterfaces/CommonRigidBodyBase.h)
I don't know where is `CommonRigidBodyBase::stepSimulation(deltaTime)` called.",test code based inheritance know,issue,negative,neutral,neutral,neutral,neutral,neutral
726457971,"We would need a reproduction case. What constraint type is used exactly for the hinge? All the details matter.
If you can reproduce this in Bullet C++ or PyBullet we can fix it.",would need reproduction case constraint type used exactly hinge matter reproduce bullet fix,issue,negative,positive,positive,positive,positive,positive
726451515,"Hi, thank you for your work @erwincoumans and this issue @submagr.
I also found a box that was much larger than the object. 
I know aabb is padded  like https://github.com/bulletphysics/bullet3/issues/2328, but I think it's a lot bigger than that. 
Is this the correct behavior?

[object.zip](https://github.com/bulletphysics/bullet3/files/5534172/object.zip)
![large_aabb](https://user-images.githubusercontent.com/39142679/99016392-63884b80-259a-11eb-904d-8c647e7ed53f.png)
![pybullet_aabb](https://user-images.githubusercontent.com/39142679/99016354-4bb0c780-259a-11eb-8f3f-547ae2a4d46c.gif)
```
import time

import numpy as np
import pybullet as p


lines = []

def get_key_rotatins(use_diagonal=True):
    key_rotations = [
        p.getQuaternionFromEuler([0, 0, 0]),
        p.getQuaternionFromEuler([np.pi / 4, 0, 0]),
        p.getQuaternionFromEuler([np.pi / 2, 0, 0]),
        p.getQuaternionFromEuler([np.pi / 4 * 3, 0, 0]),
        p.getQuaternionFromEuler([np.pi, 0, 0]),
        p.getQuaternionFromEuler([-np.pi / 4 * 3, 0, 0]),
        p.getQuaternionFromEuler([-np.pi / 2, 0, 0]),
        p.getQuaternionFromEuler([-np.pi / 4, 0, 0]),
        p.getQuaternionFromEuler([0, np.pi / 4, 0]),
        p.getQuaternionFromEuler([0, np.pi / 2, 0]),
        p.getQuaternionFromEuler([0, np.pi / 4 * 3, 0]),
        p.getQuaternionFromEuler([0, -np.pi / 4 * 3, 0]),
        p.getQuaternionFromEuler([0, -np.pi / 2, 0]),
        p.getQuaternionFromEuler([0, -np.pi / 4, 0])
    ]
    return key_rotations


def rotate_object(object_id, rot):
    pos, _ = p.getBasePositionAndOrientation(object_id)
    p.resetBasePositionAndOrientation(object_id, pos, rot)


def drawAABB(aabb):
    if len(lines) > 0:
        for line in lines:
            p.removeUserDebugItem(line)
    f = [aabbMin[0], aabbMin[1], aabbMin[2]]
    t = [aabbMax[0], aabbMin[1], aabbMin[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 0, 0]))
    f = [aabbMin[0], aabbMin[1], aabbMin[2]]
    t = [aabbMin[0], aabbMax[1], aabbMin[2]]
    lines.append(p.addUserDebugLine(f, t, [0, 1, 0]))
    f = [aabbMin[0], aabbMin[1], aabbMin[2]]
    t = [aabbMin[0], aabbMin[1], aabbMax[2]]
    lines.append(p.addUserDebugLine(f, t, [0, 0, 1]))

    f = [aabbMin[0], aabbMin[1], aabbMax[2]]
    t = [aabbMin[0], aabbMax[1], aabbMax[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 1, 1]))

    f = [aabbMin[0], aabbMin[1], aabbMax[2]]
    t = [aabbMax[0], aabbMin[1], aabbMax[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 1, 1]))

    f = [aabbMax[0], aabbMin[1], aabbMin[2]]
    t = [aabbMax[0], aabbMin[1], aabbMax[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 1, 1]))

    f = [aabbMax[0], aabbMin[1], aabbMin[2]]
    t = [aabbMax[0], aabbMax[1], aabbMin[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 1, 1]))

    f = [aabbMax[0], aabbMax[1], aabbMin[2]]
    t = [aabbMin[0], aabbMax[1], aabbMin[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 1, 1]))

    f = [aabbMin[0], aabbMax[1], aabbMin[2]]
    t = [aabbMin[0], aabbMax[1], aabbMax[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 1, 1]))

    f = [aabbMax[0], aabbMax[1], aabbMax[2]]
    t = [aabbMin[0], aabbMax[1], aabbMax[2]]
    lines.append(p.addUserDebugLine(f, t, [1.0, 0.5, 0.5]))

    f = [aabbMax[0], aabbMax[1], aabbMax[2]]
    t = [aabbMax[0], aabbMin[1], aabbMax[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 1, 1]))

    f = [aabbMax[0], aabbMax[1], aabbMax[2]]
    t = [aabbMax[0], aabbMax[1], aabbMin[2]]
    lines.append(p.addUserDebugLine(f, t, [1, 1, 1]))


p.connect(p.GUI)
urdf_file = 'object/base.urdf'

object_id = p.loadURDF(urdf_file, [0, 0, 0], [0, 0, 0, 1])


key_rotations = get_key_rotatins()
time.sleep(5)
for i in range(len(key_rotations)):
    rotate_object(object_id, key_rotations[i])
    aabb = p.getAABB(object_id)
    aabbMin = aabb[0]
    aabbMax = aabb[1]
    drawAABB(aabb)
    time.sleep(2)
```

",hi thank work issue also found box much object know like think lot bigger correct behavior import time import import return rot rot line line range,issue,positive,positive,neutral,neutral,positive,positive
726219618,"> I can make a PR again with a few other modifications though (namely the camera), but they go further than modifying just the Gym wrapper

Yes, please can a new PR. Would it be compatible with this PR?
",make though namely camera go gym wrapper yes please new would compatible,issue,positive,positive,positive,positive,positive,positive
726219123,"> I trained it on multiple walking clips and it works.

How did you train it exactly, can you provide a full command-line of train and also 'enjoy'/inspect the results?

Thanks!",trained multiple walking clip work train exactly provide full train also thanks,issue,negative,positive,positive,positive,positive,positive
726193671,"> Yes they did something like that. What's the value of `log_std_init`?

Whoops sorry, it's -3, which gives a std init of about 0.05.

@erwincoumans I did make the `HumanoidDeepMimicWalkBulletEnv` Gym env work, it was a PR I made a few months back. I can make a PR again with a few other modifications though (namely the camera), but they go further than modifying just the Gym wrapper (it includes the COM reward and modifying how the end effector reward is computed).",yes something like value whoop sorry make gym work made back make though namely camera go gym wrapper reward end effector reward,issue,positive,negative,negative,negative,negative,negative
726192168,"If anyone manages to add that, I think the `*_multiclip.py` files can substitute the original ones (e.g., `testrl`, `mpi_run`)",anyone add think substitute original,issue,negative,positive,positive,positive,positive,positive
726191123,"@erwincoumans it includes the multiclip reward, but there is no goal at the moment so it's not easy to evaluate. I trained it on multiple walking clips and it works.",reward goal moment easy evaluate trained multiple walking clip work,issue,positive,positive,positive,positive,positive,positive
726184504,"@tfederico  What is the status of this Pull Request?

@ManifoldFR do you mind creating a pull request so the HumanoidDeepMimicWalkBulletEnv and/or HumanoidDeepMimicBackflipBulletEnv works?

This way to train should work, it is not using the untested HumanoidDeepMimicWalkBulletEnv environment:
~~~~~~~~~~~~~
pip3 install -U pybullet
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt
~~~~~~~~~~~~~

Here is a way to run a trained policy:
~~~~~~~~~~~~~
pip3 install -U pybullet
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt
~~~~~~~~~~~~~
This should be very similar to Jason Peng's original implementation.

Another option is using the motion_imitation environment, it uses baselines to train.

If someone makes the HumanoidDeepMimicWalkBulletEnv gym environment work, please let us know.",status pull request mind pull request work way train work untested environment pip install python way run trained policy pip install python similar original implementation another option environment train someone gym environment work please let u know,issue,positive,positive,positive,positive,positive,positive
726180813,Yes they did something like that. What's the value of `log_std_init`?,yes something like value,issue,positive,neutral,neutral,neutral,neutral,neutral
726172983,"> > Id it still necessary for `bullet` to have this PR?
> 
> Thanks, a PR would be appreciated!
> 
> I haven't had time to digg into this, there are some other projects, including a new tiny differentiable physics engine (see https://github.com/google-research/tiny-differentiable-simulator).

Thanks for your recommendation! Differentiable physics is quite interesting. ;-)  I will try to learn from your new project.

And I will clean my code, write some helpful comment, then create a PR about this module.

I was also a contributor in the [Taichi](https://github.com/taichi-dev/taichi) programming language, it also has a differentiable feature. I just think it maybe helpful to you, hope this is not a bother!",id still necessary bullet thanks would time new tiny differentiable physic engine see thanks recommendation differentiable physic quite interesting try learn new project clean code write helpful comment create module also contributor language also differentiable feature think maybe helpful hope bother,issue,positive,positive,positive,positive,positive,positive
726165998,"If I recall correctly, they subclassed PPO1 and made a few modifications in
the motion imitation repo

On Thu, 12 Nov 2020, 16:34 Federico, <notifications@github.com> wrote:

> Thanks, I will try that. I tried using PPO1 from stable-baselines but it
> would always yield to poor results. I think there are too many differences
> when compared to the original code, even though they managed to use it for motion
> imitation
> <https://github.com/google-research/motion_imitation/tree/d11f131f2d7ddd9db5ee3335b60af8e6749053f9>
> .
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/3076#issuecomment-726153329>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427GESQSZ4T6PVCI4RFTSPP6BNANCNFSM4RXGID4A>
> .
>
",recall correctly made motion imitation wrote thanks try tried would always yield poor think many original code even though use motion imitation reply directly view,issue,negative,positive,neutral,neutral,positive,positive
726162978,"> Id it still necessary for `bullet` to have this PR?

Thanks, a PR would be appreciated! 

I haven't had time to digg into this, there are some other projects, including a new tiny differentiable physics engine (see https://github.com/google-research/tiny-differentiable-simulator).
",id still necessary bullet thanks would time new tiny differentiable physic engine see,issue,negative,positive,neutral,neutral,positive,positive
726162017,"Xudong, thanks for the response! I sent an email to the gmail account you have listed on your github page. ",thanks response sent account listed page,issue,negative,positive,positive,positive,positive,positive
726155540,"> You can try out deep_mimic as part of PyBullet like this:
> 
> pip3 install pybullet --user
> python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_backflip_args.txt
> See the code here:
> https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_envs/deep_mimic

Also, I worked with the C++ version of bullet ;-) so my debugging work also stayed in the C++ part... ",try part like pip install user python see code also worked version bullet work also stayed part,issue,negative,neutral,neutral,neutral,neutral,neutral
726155089,"> The Bullet3/src/BulletInverseDynamics doesn't support spherical joints natively. For spherical joints we use a different code path, as used in deep_mimic, and you need to pass the flags=1 argument:
> 
> ```
> c1 = self._pb.calculateInverseDynamics(bodyUniqueId, q1, qdot1, zeroAccelerations, flags=1)
> ```
> 
> If you can fix the Bullet3/src/BulletInverseDynamics spherical joints, happy to accept a pull request (I'm not very familiar with that part of the code and the original author didn't have time to help out adding spherical joints).

Hi erwin, In feburary I spend a whole month and solved this problem of spherical joints in Inverse Dynamic module (as I claimed, it passed the test on a 50-DOF robot without primstic joints). Id it still necessary for `bullet` to have this PR? If so, I am also glad to offer my help.",support spherical natively spherical use different code path used need pas argument fix spherical happy accept pull request familiar part code original author time help spherical hi spend whole month problem spherical inverse dynamic module test robot without id still necessary bullet also glad offer help,issue,positive,positive,positive,positive,positive,positive
726153329,"Thanks, I will try that. I tried using PPO1 from `stable-baselines` but it would always yield to poor results. I think there are too many differences when compared to the original code, even though they managed to use it for [motion imitation](https://github.com/google-research/motion_imitation/tree/d11f131f2d7ddd9db5ee3335b60af8e6749053f9).",thanks try tried would always yield poor think many original code even though use motion imitation,issue,negative,positive,positive,positive,positive,positive
726151626,"> Note that the issue is only for spherical joints.
> Floating base should be fine, since the floating coordinates are not controlled. There is a C++ example of inverse dynamics using a floating base in the BulletExampleBrowser.

Oh my god... It's totaly my fault, Sorry erwin! I didn't manage to recevie your message until today TAT, really really sorry.

A good news is that I have solved the problem I encountered in bullet Inverse dynamic module. But unfortunately, I do a BIG revision based on my own understanding of the Newton-euler equation ;) Still very grateful for your constructive help! XD



> Great, thank you. Another question: Where is the C++ example of inverse dynamics using a floating base? Above, it was mentioned that ""There is a C++ example of inverse dynamics using a floating base in the BulletExampleBrowser.""
> 
> Thank you for the quick response!



> Great, thank you. Another question: Where is the C++ example of inverse dynamics using a floating base? Above, it was mentioned that ""There is a C++ example of inverse dynamics using a floating base in the BulletExampleBrowser.""

Hi Danny! As you seen I'm the questioner of this issue. I met with this ID problem in the beginning of this year, and after a big struggle & digging in the NE equation, I managed to make the inverse dynamic module work for me. These code snippets now are in my own version of bullet.

If other experts (erwin or other powerful guys) felt hard to offer a timely help, maybe you can try my code. I solved ID successfully with it for an 50-DOF robot, with floating base, spherical, revolute and fixed joints. I am also glad to offer my help on this topic.

Bests,
Xudong",note issue spherical floating base fine since floating example inverse dynamic floating base oh god fault sorry manage message today tat really really sorry good news problem bullet inverse dynamic module unfortunately big revision based understanding equation still grateful constructive help great thank another question example inverse dynamic floating base example inverse dynamic floating base thank quick response great thank another question example inverse dynamic floating base example inverse dynamic floating base hi seen questioner issue met id problem beginning year big struggle digging ne equation make inverse dynamic module work code version bullet powerful felt hard offer timely help maybe try code id successfully robot floating base spherical revolute fixed also glad offer help topic,issue,positive,negative,neutral,neutral,negative,negative
726149173,"Right now my current setup is I'm using the PPO from `stable-baselines3` with the following options for the model kwargs:
```yaml
DeepMimic:
  norm_reward: false
  learning_rate: 2.5e-6
  n_epochs: 4
  target_kl: 0.05
  ent_coef: 0
  vf_coef: 5.
  max_grad_norm: 100.
```
and the following policy kwargs:
```python
log_std_init = -3
weight_decay = 1.0e-5
policy_kwargs = dict(
    activation_fn=nn.ReLU,
    net_arch=[dict(pi=[1024, 512], vf=[1024, 512])],
    log_std_init=log_std_init,
    ortho_init=True,
    optimizer_kwargs=dict(weight_decay=weight_decay)
)
```

Look at the rl-baselines-zoo repo for the training script: https://github.com/DLR-RM/rl-baselines3-zoo

I had a trained policy a few months back for the backflip motion: https://www.youtube.com/watch?v=K-fYcoDdP7M",right current setup following model false following policy python look training script trained policy back motion,issue,negative,negative,neutral,neutral,negative,negative
726135520,"Great, thank you. Another question: Where is the C++ example of inverse dynamics using a floating base? Above, it was mentioned that ""There is a C++ example of inverse dynamics using a floating base in the BulletExampleBrowser.""

Thank you for the quick response!",great thank another question example inverse dynamic floating base example inverse dynamic floating base thank quick response,issue,positive,negative,neutral,neutral,negative,negative
726127922,@ManifoldFR have you actually managed to train an agent using the gym env? Because I tried several times but I didn't manage to achieve anything that was comparable to the original results,actually train agent gym tried several time manage achieve anything comparable original,issue,negative,positive,positive,positive,positive,positive
726111921,The CI failed for one macOS build due to the build taking too much time. Is it possible to check again?,one build due build taking much time possible check,issue,negative,positive,neutral,neutral,positive,positive
725810930,Where is BulletExampleBrowser? I can't seem to find this folder anywhere,ca seem find folder anywhere,issue,negative,neutral,neutral,neutral,neutral,neutral
725636310,"I had a quick look. The m_groundBody is not properly initialized: numLinks is set to one, but that one link is not initialized:
~~~~~~~~~~~~~~
m_groundBody = new btMultiBody(numLinks, baseMass, baseInertiaDiag, !floating, canSleep);
~~~~~~~~~~~~~~

When running it in debug mode, there are asserts that the m_links[0].m_jointType is invalid. Here is a call stack:
~~~~~~~~~~~~~~~~~
>	App_BulletExampleBrowser_vs2010_x64_debug.exe!btMultibodyLink::updateInterpolationCacheMultiDof() Line 294	C++
 	App_BulletExampleBrowser_vs2010_x64_debug.exe!btMultiBody::predictPositionsMultiDof(double dt) Line 1732	C++
 	App_BulletExampleBrowser_vs2010_x64_debug.exe!btMultiBodyDynamicsWorld::predictMultiBodyTransforms(double timeStep) Line 646	C++
 	App_BulletExampleBrowser_vs2010_x64_debug.exe!btMultiBodyDynamicsWorld::predictUnconstraintMotion(double timeStep) Line 41	C++
 	App_BulletExampleBrowser_vs2010_x64_debug.exe!btDiscreteDynamicsWorld::internalSingleStepSimulation(double timeStep) Line 464	C++
 	App_BulletExampleBrowser_vs2010_x64_debug.exe!btDiscreteDynamicsWorld::stepSimulation(double timeStep, int maxSubSteps, double fixedTimeStep) Line 435	C++
 	App_BulletExampleBrowser_vs2010_x64_debug.exe!`anonymous namespace'::KinematicMultiBodyExample::stepSimulation(float deltaTime) Line 58	C++
 	App_BulletExampleBrowser_vs2010_x64_debug.exe!OpenGLExampleBrowser::update(float deltaTime) Line 1239	C++

~~~~~~~~~~~~~~~~~",quick look properly set one one link new floating running mode invalid call stack line double line double line double line double line double double line anonymous float line float line,issue,negative,positive,neutral,neutral,positive,positive
725628044,"You should not disable anything when creating the cmake projects (don't set anything to OFF)

Check build_cmake_pybullet_double.sh as an example, or build_visual_studio_vr_pybullet_double_cmake.bat",disable anything set anything check example,issue,negative,neutral,neutral,neutral,neutral,neutral
723441726,Start saving for a larger harddisk. Issue is closed.,start saving issue closed,issue,negative,negative,neutral,neutral,negative,negative
723430893,"I have a urdf robot description file, but there are loops in the robot structure, so I convert it to a sdf file using the command `gz sdf -p <my_model>.urdf > <my_model>.sdf`, and I can use gazebo to load it. But when I use the pybullet, I can load it use the urdf file format instead of sdf file format.
Here is the code:
```python
import pybullet as p
import pybullet_data
import os

cheetahDIR = os.path.dirname(__file__)

physicsClient = p.connect(p.GUI)  # or p.DIRECT for non-graphical version
p.setGravity(0, 0, -9.81)

p.setAdditionalSearchPath(pybullet_data.getDataPath())
planeId = p.loadURDF(""plane.urdf"")

cheetahStartPos = [0, 0, 0.7]
p.setAdditionalSearchPath(cheetahDIR)
# cheetahId = p.loadURDF('cheetah/cheetah.urdf', cheetahStartPos) # This line can load the robot model without loop constraint.
cheetahId = p.loadSDF('cheetah/cheetah.sdf', cheetahStartPos) # This line cannot run properly even if I have comment the loops in the sdf file
while True:
    p.stepSimulation()
p.disconnect()
```
And I have noticed [this answer](https://github.com/bulletphysics/bullet3/issues/2124#issuecomment-466168345), does this mean that the pybullet does not support loops in a sdf file?
And if I comment loops in the sdf file, pybullet still cannot load the robot. Here are the files I used:
[cheetah.zip](https://github.com/bulletphysics/bullet3/files/5504608/cheetah.zip)



",robot description file robot structure convert file command use gazebo load use load use file format instead file format code python import import import o version line load robot model without loop constraint line run properly even comment file true answer mean support file comment file still load robot used,issue,positive,positive,neutral,neutral,positive,positive
723329933,"Thanks for the repro case, it is a bug in batch creation indeed, will have a look later.",thanks case bug batch creation indeed look later,issue,positive,positive,neutral,neutral,positive,positive
723329587,"Yes, mass is in kg and length in meter.
I would expect the Young modulus units to be N/m2, one of the examples uses the range [0,2000], but it depends on other parameters (see [demo](https://github.com/bulletphysics/bullet3/blob/master/examples/DeformableDemo/VolumetricDeformable.cpp#L246)).
poisson ration has no units, and in the range [0,0.5]
",yes mass length meter would expect young modulus one range see ration range,issue,negative,positive,neutral,neutral,positive,positive
723214628,but visual studio is 7.13 GB . Not enough space  in my PC,visual studio enough space,issue,negative,neutral,neutral,neutral,neutral,neutral
723016510,"Sure, here's a small test case:
```
import pybullet as pb

pb.connect(pb.GUI)
vis = pb.createVisualShape(shapeType = pb.GEOM_SPHERE, radius = 1.0)
col = pb.createCollisionShape(shapeType = pb.GEOM_SPHERE, radius = 1.0)

def create_3_bodies():
    positions = [[ 0.0, 0.0, 0.0],
                 [ 1.0, 0.0, 0.0],
                 [ 2.0, 0.0, 0.0]]
    return pb.createMultiBody(baseMass = 1.0,
                              baseCollisionShapeIndex = col,
                              baseVisualShapeIndex = vis,
                              batchPositions = positions,
                              basePosition = [0, 0, 0],
                              baseOrientation = pb.getQuaternionFromEuler([0, 0, 0]))

bodies = []
# create 3 bodies
bodies += create_3_bodies()
print(bodies)
# [0, 1, 2]

# remove first body
pb.removeBody(bodies[0])
bodies.pop(0)
print(bodies)
# [1, 2]

# create additional bodies
bodies += create_3_bodies()
print(bodies)
# [1, 2, 2, 3, 4]
#     ^--^--repeated IDS!
```",sure small test case import vi radius col radius return col vi create print remove first body print create additional print repeated,issue,positive,positive,positive,positive,positive,positive
722817239,I hope that pybullet can provide a parameter to control the output of these annoying messages as the outputs can be a mess while running with multiprocess.,hope provide parameter control output annoying mess running,issue,negative,negative,negative,negative,negative,negative
722736982,Thanks for the report. Can you create a small repro case/test?,thanks report create small,issue,positive,negative,neutral,neutral,negative,negative
722725962,"Indeed that seems to be the case:

```
int uid = b3GetStatusBodyIndex(statusHandle);
if (numBatchPositions > 0)
{
        PyObject* pyResultList = PyTuple_New(numBatchPositions );
        for (i = 0; i < numBatchPositions; i++)
        {
                PyTuple_SetItem(pyResultList, i, PyLong_FromLong(uid - numBatchPositions + i + 1));
        }
        return pyResultList;
}
else
{
        PyObject* ob = PyLong_FromLong(uid);
        return ob;
}
```",indeed case return else return,issue,negative,neutral,neutral,neutral,neutral,neutral
722489931,"Just reinstall visual studio and make sure to use a MSVC command prompt, not a regular terminal.

~~~~~~~~~~~
he system cannot find the path specified: 'C:\Program
Files (x86)\Microsoft Visual Studio 14.0\VC\PlatformSDK\lib'
~~~~~~~~~~~",reinstall visual studio make sure use command prompt regular terminal system find path visual studio,issue,negative,positive,positive,positive,positive,positive
722419614,"I am also not able to install pybullet . Getting a lot of error .

    copying examples\pybullet\gym\pybullet_data\random_urdfs\986\986.urdf -> bui
ld\lib.win-amd64-3.7\pybullet_data\random_urdfs\986
   
    creating build\lib.win-amd64-3.7\pybullet_data\random_urdfs\992
   
d\lib.win-amd64-3.7\pybullet_data\random_urdfs\993
    copying examples\pybullet\gym\pybullet_data\random_urdfs\993\993.urdf -> bui
ld\lib.win-amd64-3.7\pybullet_data\random_urdfs\993
    creating build\lib.win-amd64-3.7\pybullet_data\random_urdfs\994
    copying examples\pybullet\gym\pybullet_data\random_urdfs\994\994.mtl -> buil
d\lib.win-amd64-3.7\pybullet_data\random_urdfs\994
   
m6\collision\link6_vhacd.obj -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_
description\meshes\xarm6\collision
    creating build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_description\meshes\
xarm6\visual
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_description\meshes\xar
m6\vi
on\meshes\xarm6\visual
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_description\meshes\xar
m6\visual\link6.stl -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_descripti
on\meshes\xarm6\visual
    creating build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper
    creating build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\meshes
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\base_li
nk.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\meshes
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\left_fi
nger.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\meshes
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\left_in
ner_knuckle.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\meshe
s
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\left_ou
ter_knuckle.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\meshe
s
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\right_f
inger.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\meshes
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\right_i
nner_knuckle.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\mesh
es
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\right_o
uter_knuckle.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\mesh
es
    running build_ext
    building 'pybullet' extension
    error: [WinError 3] The system cannot find the path specified: 'C:\\Program
Files (x86)\\Microsoft Visual Studio 14.0\\VC\\PlatformSDK\\lib'
    ----------------------------------------
ERROR: Command ""'C:\Users\SHRIKANT\Anaconda3\python.exe' -u -c 'import setuptool
s, tokenize;__file__='""'""'C:\\Users\\SHRIKANT\\AppData\\Local\\Temp\\pip-install
-hbfo57c2\\pybullet\\setup.py'""'""';f=getattr(tokenize, '""'""'open'""'""', open)(__f
ile__);code=f.read().replace('""'""'\r\n'""'""', '""'""'\n'""'""');f.close();exec(compil
e(code, __file__, '""'""'exec'""'""'))' install --record 'C:\Users\SHRIKANT\AppData\
Local\Temp\pip-record-omd21xdj\install-record.txt' --single-version-externally-m
anaged --compile"" failed with error code 1 in C:\Users\SHRIKANT\AppData\Local\Te
mp\pip-install-hbfo57c2\pybullet\

",also able install getting lot error e e running building extension error system find path visual studio error command open code install record compile error code,issue,negative,positive,positive,positive,positive,positive
721224345,"Thanks, didn't realize anyone cares about the output messages. Some of the printfs go through a common C++ function, so it would be possible to clean up the code (and some people don't like the build time output etc).
I'll leave it open for now, hope to get to this, since the project severely lacks resources.",thanks realize anyone output go common function would possible clean code people like build time output leave open hope get since project severely,issue,positive,positive,neutral,neutral,positive,positive
721222248,"Can you try using a recent ffmpeg from the year 2020?

I tried todays release version and it works just fine:
~~~~~~~~~~~~~~~~~~~
D:\dev\bullet3\examples\pybullet\examples>python video_sync_mp4.py
pybullet build time: Oct 27 2020 08:20:45
argv[0]=--width=1024
argv[1]=--height=768
argv[2]=--mp4=""test.mp4""
argv[3]=--mp4fps=240
starting thread 0
started testThreads thread 0 with threadHandle 0000000000000240
argc=6
argv[0] = --unused
argv[1] = --width=1024
argv[2] = --height=768
argv[3] = --mp4=""test.mp4""
argv[4] = --mp4fps=240
argv[5] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
Version = 4.6.0 NVIDIA 446.14
Vendor = NVIDIA Corporation
Renderer = GeForce RTX 2080/PCIe/SSE2
b3Printf: Selected demo: Physics Server
starting thread 0
started MotionThreads thread 0 with threadHandle 000000000000053C
MotionThreadFunc thread started
ffmpeg version N-99760-gecd379087b-ge5be4c5a88+2 Copyright (c) 2000-2020 the FFmpeg developers
  built with gcc 10.2.0 (Rev4, Built by MSYS2 project)
  configuration:  --cc='ccache gcc' --cxx='ccache g++' --disable-autodetect --enable-amf --enable-bzlib --enable-cuda --enable-cuvid --enable-d3d11va --enable-dxva2 --enable-iconv --enable-lzma --enable-nvenc --enable-zlib --enable-sdl2 --enable-ffnvcodec --enable-nvdec --enable-cuda-llvm --enable-libmp3lame --enable-libopus --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-libdav1d --enable-libaom --disable-debug --enable-fontconfig --enable-libass --enable-libbluray --enable-libfreetype --enable-libmfx --enable-libmysofa --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvo-amrwbenc --enable-libwebp --enable-libxml2 --enable-libzimg --enable-libshine --enable-gpl --enable-avisynth --enable-libxvid --enable-libopenmpt --enable-version3 --enable-librav1e --enable-libsrt --enable-libgsm --enable-libvmaf --enable-libsvtav1 --enable-librtmp --enable-mbedtls --extra-cflags=-DLIBTWOLAME_STATIC --extra-libs=-lstdc++ --extra-cflags=-DLIBXML_STATIC --extra-libs=-liconv --disable-w32threads
  libavutil      56. 60.100 / 56. 60.100
  libavcodec     58.112.100 / 58.112.100
  libavformat    58. 63.100 / 58. 63.100
  libavdevice    58. 11.102 / 58. 11.102
  libavfilter     7. 88.100 /  7. 88.100
  libswscale      5.  8.100 /  5.  8.100
  libswresample   3.  8.100 /  3.  8.100
  libpostproc    55.  8.100 / 55.  8.100
[rawvideo @ 000002068d1ce8c0] Stream #0: not enough frames to estimate rate; consider increasing probesize
Input #0, rawvideo, from 'pipe:':
  Duration: N/A, start: 0.000000, bitrate: 6039797 kb/s
    Stream #0:0: Video: rawvideo (RGBA / 0x41424752), rgba, 1024x768, 6039797 kb/s, 240 tbr, 240 tbn, 240 tbc
Stream mapping:
  Stream #0:0 -> #0:0 (rawvideo (native) -> h264 (libx264))
[libx264 @ 000002068d1e3680] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 000002068d1e3680] profile High, level 5.1, 4:2:0, 8-bit
[libx264 @ 000002068d1e3680] 264 - core 161 r3027 4121277 - H.264/MPEG-4 AVC codec - Copyleft 2003-2020 - http://www.videolan.org/x264.html - options: cabac=1 ref=5 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=8 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=2 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=24 lookahead_threads=4 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=3 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=50 rc=crf mbtree=1 crf=22.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'test.mp4':
  Metadata:
    encoder         : Lavf58.63.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p, 1024x768, q=-1--1, 50000 kb/s, 240 fps, 15360 tbn, 240 tbc
    Metadata:
      encoder         : Lavc58.112.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/50000000 buffer size: 0 vbv_delay: N/A
numActiveThreads = 0q=32.0 size=       0kB time=00:00:02.65 bitrate=   0.1kbits/s speed=0.156x
stopping threads
Thread with taskId 0 with handle 000000000000053C exiting
Thread TERMINATED
finished
numActiveThreads = 0
btShutDownExampleBrowser stopping threads
Thread with taskId 0 with handle 0000000000000240 exiting
Thread TERMINATED
frame=  721 fps= 42 q=-1.0 Lsize=     201kB time=00:00:02.99 bitrate= 549.7kbits/s speed=0.174x
video:191kB audio:0kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 4.833980%
[libx264 @ 000002068d1e3680] frame I:4     Avg QP:16.53  size: 34811
[libx264 @ 000002068d1e3680] frame P:182   Avg QP:22.69  size:   113
[libx264 @ 000002068d1e3680] frame B:535   Avg QP:27.22  size:    66
[libx264 @ 000002068d1e3680] consecutive B-frames:  0.8%  0.3%  1.2% 97.6%
[libx264 @ 000002068d1e3680] mb I  I16..4: 53.4% 18.6% 28.0%
[libx264 @ 000002068d1e3680] mb P  I16..4:  0.0%  0.0%  0.0%  P16..4:  0.1%  0.1%  0.0%  0.0%  0.0%    skip:99.7%
[libx264 @ 000002068d1e3680] mb B  I16..4:  0.0%  0.0%  0.0%  B16..8:  0.2%  0.0%  0.0%  direct: 0.0%  skip:99.7%  L0:40.1% L1:58.0% BI: 1.9%
[libx264 @ 000002068d1e3680] 8x8 transform intra:19.9% inter:14.4%
[libx264 @ 000002068d1e3680] direct mvs  spatial:97.6% temporal:2.4%
[libx264 @ 000002068d1e3680] coded y,uvDC,uvAC intra: 20.1% 31.0% 27.9% inter: 0.0% 0.0% 0.0%
[libx264 @ 000002068d1e3680] i16 v,h,dc,p: 89%  5%  4%  2%
[libx264 @ 000002068d1e3680] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 45% 15% 29%  2%  2%  1%  2%  1%  3%
[libx264 @ 000002068d1e3680] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 10% 18% 26%  5%  5%  3%  8%  6% 19%
[libx264 @ 000002068d1e3680] i8c dc,h,v,p: 82% 12%  5%  2%
[libx264 @ 000002068d1e3680] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 000002068d1e3680] ref P L0: 58.4%  2.9% 10.4%  6.4% 20.8%  1.1%
[libx264 @ 000002068d1e3680] ref B L0: 67.6% 21.9%  9.3%  1.2%
[libx264 @ 000002068d1e3680] ref B L1: 93.9%  6.1%
[libx264 @ 000002068d1e3680] kb/s:520.35

~~~~~~~~~~~~~~~~~~~",try recent year tried release version work fine python build time starting thread thread unused server version vendor corporation renderer selected physic server starting thread thread thread version copyright built rev built project configuration stream enough estimate rate consider increasing input duration start stream video stream stream native de de profile high level de core output stream video side data buffer size stopping thread handle thread finished stopping thread handle thread video audio subtitle global overhead de frame size de frame size de frame size de consecutive de de skip de direct skip de transform inter de direct spatial temporal de inter de de de de de weighted de ref de ref de ref de,issue,negative,positive,neutral,neutral,positive,positive
721216149,"The URDF editor is a starting point indeed. Since the source code is available in Python, you can inspect what is supported and not, and add any features you want or need.",editor starting point indeed since source code available python inspect add want need,issue,negative,positive,positive,positive,positive,positive
721154186,"hello @AdityaKapoor74, @shanki98  I have exactly the same problem as you on my VM environment, Ubuntu 20.04.1. 
Did you eventually solve the problem ? When using p.DIRECT, I don't get a graphics window. I want to be able to see what my simulation does. 
Thank you",hello exactly problem environment eventually solve problem get graphic window want able see simulation thank,issue,negative,positive,positive,positive,positive,positive
720897428,I finally found out that I have to create a well-designed material as a .png file via using Blender or other 3D viewer tools.,finally found create material file via blender viewer,issue,negative,neutral,neutral,neutral,neutral,neutral
720887056,"The question is very legit and early closing the ticket would be questionable.
Please find a recent paper confirming the need for GPU accelerated physics engines : 
""Local Optimization for Robust Signed Distance Field Collision""
https://mmacklin.com/sdfcontact.pdf
and a quick summary video:
https://www.youtube.com/watch?v=ooZ9rUYOFI4
First, has bullet3 an implementation of SDF (Signed Distance Field)?
Kind regards
",question legit early ticket would questionable please find recent paper confirming need accelerated physic local optimization robust distance field collision quick summary video first bullet implementation distance field kind,issue,positive,positive,positive,positive,positive,positive
719124592,"A more cleaned up version, including a potential leak prevention caused by dup.
Not exactly sure how safe and cross-platform `_flush_c_stream` is...

```
class RedirectStream(object):

  @staticmethod
  def _flush_c_stream(stream):
    streamname = stream.name[1:-1]
    libc = ctypes.CDLL(None)
    libc.fflush(ctypes.c_void_p.in_dll(libc, streamname))

  def __init__(self, stream=sys.stdout, file=os.devnull):
    self.stream = stream
    self.file = file

  def __enter__(self):
    self.stream.flush()  # ensures python stream unaffected 
    self.fd = open(self.file, ""w+"")
    self.dup_stream = os.dup(self.stream.fileno())
    os.dup2(self.fd.fileno(), self.stream.fileno()) # replaces stream
  
  def __exit__(self, type, value, traceback):
    RedirectStream._flush_c_stream(self.stream)  # ensures C stream buffer empty
    os.dup2(self.dup_stream, self.stream.fileno()) # restores stream
    os.close(self.dup_stream)
    self.fd.close()

with RedirectStream(sys.stdout):
  import pybullet as pb
```

Anyhow, TL;DR dealing with this externally to pybullet is really painful, would be great if we did not have to?",version potential leak prevention dup exactly sure safe class object stream none self stream file self python stream unaffected open stream self type value stream buffer empty stream import anyhow dealing externally really painful would great,issue,positive,positive,positive,positive,positive,positive
719116179,"Interestingly the fragment above only works when both stdout and stderr are redirected.
It seems pybullet only pollutes stdout, but if I modify the fragment above:
```
# hide diagnostic output
with open(os.devnull, 'w') as devnull:
  # suppress stdout
  orig_stdout_fno = os.dup(sys.stdout.fileno())
  os.dup2(devnull.fileno(), 1)
  import pybullet as pb
  os.fsync(devnull.fileno())
  os.dup2(orig_stdout_fno, 1)  # restore stdout
```

annoyingly the results becomes:
```
Traceback (most recent call last):
  File ""/workspaces/kubric/helloworld.py"", line 44, in <module>
    os.fsync(devnull.fileno())
OSError: [Errno 22] Invalid argument
```
(and of course using `sys.stdout.flush()` instead of os.fsync does not seem to work...)",interestingly fragment work modify fragment hide diagnostic output open suppress import restore annoyingly becomes recent call last file line module invalid argument course instead seem work,issue,negative,negative,neutral,neutral,negative,negative
718850961,"Hi Erwin,

the only problem I saw with that is that I configured PyBullet to make 10 substeps each time I call stepSimulation. If I then specify the maximum velocity accordingly, I cannot guarantee that the acceleration limit is kept at each of the substeps, as the controller is likely going to accelerate a lot in the first substeps, then hit the velocity limit and afterwards maintains a constant velocity.

However, I did a quick comparison and figured out that in my scenario, calling stepSimulation 10 times with 1 substep configured is not substantially slower than calling stepSimulation 1 time with 10 substeps configured. So I am going to do that and use the maxVelocity term.

Thank your very much!

Best,
Tim",hi problem saw make time call specify maximum velocity accordingly guarantee acceleration limit kept controller likely going accelerate lot first hit velocity limit afterwards constant velocity however quick comparison figured scenario calling time substantially calling time going use term thank much best,issue,positive,positive,positive,positive,positive,positive
718814452,"Hi Tim,

There is a maxVelocity term in the setJointControlMode2 that you could use. See the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#).",hi term could use see guide,issue,negative,neutral,neutral,neutral,neutral,neutral
718317733,"Thanks for the PR! btMultiBody always has a collision body in PyBullet and using the Bullet Robotics/SharedMemory C-API, not in general when using the regular C++ API (directly creating btMultiBody etc).
I'll have a look.",thanks always collision body bullet general regular directly look,issue,negative,positive,neutral,neutral,positive,positive
718312897,"@erwincoumans Created this PR for only kinematic multibody changes. You may take a look first. There are two commits coming: 
1) Remove the dynamic type field from btMultiBody and btMultiBodyLink, assuming that they always have a collision body. I tried this but it crashed. I need to debug it.
2) Update the kinematic example to be similar to the rigid body example, so we can see effects of the kinematic velocity. (Previously you said this kinematic multibody example was behaving crazily. It was possible I made a mistake in one of the revisions. The current state is good. You may take a look.)",kinematic may take look first two coming remove dynamic type field assuming always collision body tried need update kinematic example similar rigid body example see effect kinematic velocity previously said kinematic example crazily possible made mistake one current state good may take look,issue,negative,positive,positive,positive,positive,positive
718011794,"As the warning states, there is no inertial information in the .urdf file for some links. My problem is that pybullet assigns default values to these links, which is not very realistic. Since the NAO robot example is provided in their repository, I was expecting it to be complete. This is why I posted this issue. As for immediate solutions, I think you can either complete the .urdf yourself, or change it through the API.",warning inertial information file link problem default link realistic since robot example provided repository complete posted issue immediate think either complete change,issue,negative,positive,positive,positive,positive,positive
717984554,"Oh, you can use scipy.stats' truncnorm with the Box's lower and higher
bounds

On Wed, 28 Oct 2020, 15:46 Federico, <notifications@github.com> wrote:

> sorry, I meant sampling truncated Gaussians! My bad
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/3076#issuecomment-717982313>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427CJDSHFM2DZDNHJO5TSNAVDRANCNFSM4RXGID4A>
> .
>
",oh use box lower higher wed wrote sorry meant sampling truncated bad reply directly view,issue,negative,negative,negative,negative,negative,negative
717982313,"sorry, I meant sampling truncated Gaussians! My bad",sorry meant sampling truncated bad,issue,negative,negative,negative,negative,negative,negative
717979054,"Oh, the sample method on the Box class already samples uniformly

On Wed, 28 Oct 2020, 15:39 Federico, <notifications@github.com> wrote:

> How did you sample uniformly in the action space? Did you define a custom
> Box space and overwrite the sample method?
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/3076#issuecomment-717978042>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427H5SRBABZU56CXYCLDSNAUL7ANCNFSM4RXGID4A>
> .
>
",oh sample method box class already uniformly wed wrote sample uniformly action space define custom box space overwrite sample method reply directly view,issue,negative,positive,neutral,neutral,positive,positive
717978042,How did you sample uniformly in the action space? Did you define a custom Box space and overwrite the sample method?,sample uniformly action space define custom box space overwrite sample method,issue,negative,positive,neutral,neutral,positive,positive
717773847,I'm having a similar issue. Did you ever find what was causing the problem?,similar issue ever find causing problem,issue,negative,neutral,neutral,neutral,neutral,neutral
716973260,"thanks for the quick feedback! For future readers, the issue is that I was using tensorflow 2.3 - 2.4",thanks quick feedback future issue,issue,negative,positive,positive,positive,positive,positive
716943717,"Fair enough, managed to get it nearly running - but encountering the following problem on a win10 install after a few (could be one frame, not sure) frames render:

```
(base) PS C:\Users\$USER> python -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_backflip_args.txt
parentdir= C:\Users\$USER\miniconda3\lib\site-packages
2020-10-26 22:46:32.864089: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library cudart64_110.dll
pybullet build time: Oct 26 2020 22:12:11
run_humanoid3d_backflip_args.txt
enable_draw= True
Initialization strategy: InitializationStrategy.RANDOM
starting thread 0
started testThreads thread 0 with threadHandle 00000000000005E4
argc=2
argv[0] = --unused
argv[1] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
Version = 4.6.0 NVIDIA 456.43
Vendor = NVIDIA Corporation
Renderer = GeForce RTX 2070 with Max-Q Design/PCIe/SSE2
b3Printf: Selected demo: Physics Server
starting thread 0
started MotionThreads thread 0 with threadHandle 0000000000000994
MotionThreadFunc thread started
motion_file= data/motions/humanoid3d_backflip.txt
LOADING humanoid!
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: chest
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: neck
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: right_hip
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: right_ankle
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: right_shoulder
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: left_hip
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: left_ankle
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: left_shoulder
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: chest
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: neck
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: right_hip
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: right_ankle
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: right_shoulder
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: left_hip
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: left_ankle
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: left_shoulder
num_agents= 1

Num Agents: 1
len(agent_files)= 1
Agent 0: data/agents/ct_agent_humanoid_ppo.txt
2020-10-26 22:46:36.518084: I tensorflow/compiler/jit/xla_cpu_device.cc:41] Not creating XLA devices, tf_xla_enable_xla_devices not set
2020-10-26 22:46:36.520016: I tensorflow/stream_executor/platform/default/dso_loader.cc:49] Successfully opened dynamic library nvcuda.dll
2020-10-26 22:46:36.543553: E tensorflow/stream_executor/cuda/cuda_driver.cc:328] failed call to cuInit: CUDA_ERROR_NO_DEVICE: no CUDA-capable device is detected
2020-10-26 22:46:36.543906: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:169] retrieving CUDA diagnostic information for host: MSI
2020-10-26 22:46:36.544172: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:176] hostname: MSI
2020-10-26 22:46:36.544935: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX2
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2020-10-26 22:46:36.545877: I tensorflow/compiler/jit/xla_gpu_device.cc:99] Not creating XLA devices, tf_xla_enable_xla_devices not set
state_offset= [ 0.5 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.  -0.
 -0. ]
state_scale= [0.5 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.
 1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1.  1. ]
2020-10-26 22:46:36.605034: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:196] None of the MLIR optimization passes are enabled (registered 0 passes)
Traceback (most recent call last):
  File ""C:\Users\$USER\miniconda3\lib\site-packages\tensorflow\python\client\session.py"", line 1375, in _do_call
    return fn(*args)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\tensorflow\python\client\session.py"", line 1359, in _run_fn
    return self._call_tf_sessionrun(options, feed_dict, fetch_list,
  File ""C:\Users\$USER\miniconda3\lib\site-packages\tensorflow\python\client\session.py"", line 1451, in _call_tf_sessionrun
    return tf_session.TF_SessionRun_wrapper(self._session, options, feed_dict,
tensorflow.python.framework.errors_impl.FailedPreconditionError: Error while reading resource variable agent/resource/s_norm/std_ph from Container: localhost. This could mean that the variable was uninitialized. Not found: Container localhost does not exist. (Could not find resource: localhost/agent/resource/s_norm/std_ph)
         [[{{node agent/resource/s_norm/ReadVariableOp_4}}]]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""C:\Users\$USER\miniconda3\lib\runpy.py"", line 194, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File ""C:\Users\$USER\miniconda3\lib\runpy.py"", line 87, in _run_code
    exec(code, run_globals)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\testrl.py"", line 97, in <module>
    world = build_world(args, True)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\testrl.py"", line 68, in build_world
    world = RLWorld(env, arg_parser)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\rl_world.py"", line 20, in __init__
    self.build_agents()
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\rl_world.py"", line 75, in build_agents
    curr_agent = self._build_agent(i, curr_file)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\rl_world.py"", line 141, in _build_agent
    agent = AgentBuilder.build_agent(self, id, agent_file)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\agent_builder.py"", line 18, in build_agent
    agent = PPOAgent(world, id, json_data)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\ppo_agent.py"", line 32, in __init__
    super().__init__(world, id, json_data)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\pg_agent.py"", line 43, in __init__
    super().__init__(world, id, json_data)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\tf_agent.py"", line 22, in __init__
    super().__init__(world, id, json_data)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\rl_agent.py"", line 93, in __init__
    self._build_normalizers()
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\pg_agent.py"", line 98, in _build_normalizers
    super()._build_normalizers()
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\tf_agent.py"", line 106, in _build_normalizers
    self.s_norm.set_mean_std(-self.world.env.build_state_offset(self.id),
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\tf_normalizer.py"", line 36, in set_mean_std
    self._update_resource_tf()
  File ""C:\Users\$USER\miniconda3\lib\site-packages\pybullet_envs\deep_mimic\learning\tf_normalizer.py"", line 76, in _update_resource_tf
    self.sess.run(self._update_op, feed_dict=feed)
  File ""C:\Users\$USER\miniconda3\lib\site-packages\tensorflow\python\client\session.py"", line 967, in run
    result = self._run(None, fetches, feed_dict, options_ptr,
  File ""C:\Users\$USER\miniconda3\lib\site-packages\tensorflow\python\client\session.py"", line 1190, in _run
    results = self._do_run(handle, final_targets, final_fetches,
  File ""C:\Users\$USER\miniconda3\lib\site-packages\tensorflow\python\client\session.py"", line 1368, in _do_run
    return self._do_call(_run_fn, feeds, fetches, targets, options,
  File ""C:\Users\$USER\miniconda3\lib\site-packages\tensorflow\python\client\session.py"", line 1394, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.FailedPreconditionError: Error while reading resource variable agent/resource/s_norm/std_ph from Container: localhost. This could mean that the variable was uninitialized. Not found: Container localhost does not exist. (Could not find resource: localhost/agent/resource/s_norm/std_ph)
         [[node agent/resource/s_norm/ReadVariableOp_4 (defined at \site-packages\pybullet_envs\deep_mimic\learning\tf_normalizer.py:67) ]]

Errors may have originated from an input operation.
Input Source operations connected to node agent/resource/s_norm/ReadVariableOp_4:
 agent/resource/s_norm/std_ph (defined at \site-packages\pybullet_envs\deep_mimic\learning\tf_normalizer.py:64)

Original stack trace for 'agent/resource/s_norm/ReadVariableOp_4':
  File ""\runpy.py"", line 194, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File ""\runpy.py"", line 87, in _run_code
    exec(code, run_globals)
  File ""\site-packages\pybullet_envs\deep_mimic\testrl.py"", line 97, in <module>
    world = build_world(args, True)
  File ""\site-packages\pybullet_envs\deep_mimic\testrl.py"", line 68, in build_world
    world = RLWorld(env, arg_parser)
  File ""\site-packages\pybullet_envs\deep_mimic\learning\rl_world.py"", line 20, in __init__
    self.build_agents()
  File ""\site-packages\pybullet_envs\deep_mimic\learning\rl_world.py"", line 75, in build_agents
    curr_agent = self._build_agent(i, curr_file)
  File ""\site-packages\pybullet_envs\deep_mimic\learning\rl_world.py"", line 141, in _build_agent
    agent = AgentBuilder.build_agent(self, id, agent_file)
  File ""\site-packages\pybullet_envs\deep_mimic\learning\agent_builder.py"", line 18, in build_agent
    agent = PPOAgent(world, id, json_data)
  File ""\site-packages\pybullet_envs\deep_mimic\learning\ppo_agent.py"", line 32, in __init__
    super().__init__(world, id, json_data)
  File ""\site-packages\pybullet_envs\deep_mimic\learning\pg_agent.py"", line 43, in __init__
    super().__init__(world, id, json_data)
  File ""\site-packages\pybullet_envs\deep_mimic\learning\tf_agent.py"", line 22, in __init__
    super().__init__(world, id, json_data)
  File ""\site-packages\pybullet_envs\deep_mimic\learning\rl_agent.py"", line 93, in __init__
    self._build_normalizers()
  File ""\site-packages\pybullet_envs\deep_mimic\learning\pg_agent.py"", line 98, in _build_normalizers
    super()._build_normalizers()
  File ""\site-packages\pybullet_envs\deep_mimic\learning\tf_agent.py"", line 100, in _build_normalizers
    self.s_norm = TFNormalizer(self.sess, 's_norm', self.get_state_size(),
  File ""\site-packages\pybullet_envs\deep_mimic\learning\tf_normalizer.py"", line 18, in __init__
    self._build_resource_tf()
  File ""\site-packages\pybullet_envs\deep_mimic\learning\tf_normalizer.py"", line 67, in _build_resource_tf
    self.mean_tf.assign(self.mean_ph), self.std_tf.assign(self.std_ph))
  File ""\site-packages\tensorflow\python\ops\resource_variable_ops.py"", line 882, in assign
    value_tensor = ops.convert_to_tensor(value, dtype=self.dtype)
  File ""\site-packages\tensorflow\python\profiler\trace.py"", line 163, in wrapped
    return func(*args, **kwargs)
  File ""\site-packages\tensorflow\python\framework\ops.py"", line 1540, in convert_to_tensor
    ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)
  File ""\site-packages\tensorflow\python\ops\resource_variable_ops.py"", line 1992, in _dense_var_to_tensor
    return var._dense_var_to_tensor(dtype=dtype, name=name, as_ref=as_ref)  # pylint: disable=protected-access
  File ""\site-packages\tensorflow\python\ops\resource_variable_ops.py"", line 1393, in _dense_var_to_tensor
    return self.value()
  File ""\site-packages\tensorflow\python\ops\resource_variable_ops.py"", line 565, in value
    return self._read_variable_op()
  File ""\site-packages\tensorflow\python\ops\resource_variable_ops.py"", line 672, in _read_variable_op
    result = read_and_set_handle()
  File ""\site-packages\tensorflow\python\ops\resource_variable_ops.py"", line 662, in read_and_set_handle
    result = gen_resource_variable_ops.read_variable_op(
  File ""\site-packages\tensorflow\python\ops\gen_resource_variable_ops.py"", line 483, in read_variable_op
    _, _, _op, _outputs = _op_def_library._apply_op_helper(
  File ""\site-packages\tensorflow\python\framework\op_def_library.py"", line 748, in _apply_op_helper
    op = g._create_op_internal(op_type_name, inputs, dtypes=None,
  File ""\site-packages\tensorflow\python\framework\ops.py"", line 3528, in _create_op_internal
    ret = Operation(
  File ""\site-packages\tensorflow\python\framework\ops.py"", line 1990, in __init__
    self._traceback = tf_stack.extract_stack()

numActiveThreads = 0
stopping threads
Thread with taskId 0 with handle 0000000000000994 exiting
Thread TERMINATED
finished
numActiveThreads = 0
btShutDownExampleBrowser stopping threads
Thread with taskId 0 with handle 00000000000005E4 exiting
Thread TERMINATED
```

Here's a related stackoverflow post I found: https://stackoverflow.com/questions/64216867/error-while-running-deepmimic-example-in-pybullet-with-tensorflow. Is this simply not currently compatible with tf >= 2.0?",fair enough get nearly running following problem win install could one frame sure render base user python successfully dynamic library build time true strategy starting thread thread unused server version vendor corporation renderer selected physic server starting thread thread thread loading humanoid axis joint axis chest axis joint axis neck axis joint axis axis joint axis axis joint axis axis joint axis axis joint axis axis joint axis axis joint axis chest axis joint axis neck axis joint axis axis joint axis axis joint axis axis joint axis axis joint axis axis joint axis agent set successfully dynamic library call device diagnostic information host binary deep neural network library use following enable rebuild appropriate compiler set none optimization registered recent call last file line return file line return file line return error reading resource variable container could mean variable found container exist could find resource node handling exception another exception recent call last file line return code none file line code file line module world true file line world file line file line file line agent self id file line agent world id file line super world id file line super world id file line super world id file line file line super file line file line file line file line run result none file line handle file line return file line raise type message error reading resource variable container could mean variable found container exist could find resource node defined may input operation input source connected node defined original stack trace file line return code none file line code file line module world true file line world file line file line file line agent self id file line agent world id file line super world id file line super world id file line super world id file line file line super file line file line file line file line assign value file line wrapped return file line ret value file line return file line return file line value return file line result file line result file line file line file line ret operation file line stopping thread handle thread finished stopping thread handle thread related post found simply currently compatible,issue,positive,positive,positive,positive,positive,positive
716914608,"It should work after pip3 install pybullet etc, tested on Windows, Linux and Mac OSX. Perhaps try on a different computer? Without output there is nothing we can do, we cannot reproduce it.",work pip install tested mac perhaps try different computer without output nothing reproduce,issue,negative,neutral,neutral,neutral,neutral,neutral
714752623,"i tried it aswell with 3.7.9 - because i have an notebook with debian and it only works with 3.7.9 there..
any ideas...? it seems it has something to do with the world?

 ""Terminating app due to uncaught exception 'NSInternalInconsistencyException'"" - i dont know where i have to catch this exception to get a better debug information.",tried aswell notebook work something world due uncaught exception dont know catch exception get better information,issue,negative,positive,positive,positive,positive,positive
714725704,"When running the KinematicMultiBody demo, the multibody gains energy, moves uncontrollably and doesn't simulate properly, is that intended?

Also, the regular MultiDof demo doesn't have a fixed base at start, as it used to have.",running gain energy uncontrollably simulate properly intended also regular fixed base start used,issue,negative,negative,negative,negative,negative,negative
714677090,"The PR is too ambitious to be accepted. Two features seem requested, it will be better to create a separate PR for each
1) allow btMultiBody to be kinematic, for one-way contact interaction with friction, similar to the [KinematicRigidBodyExample](https://github.com/bulletphysics/bullet3/pull/3120)
2) allow a contact query for kinematic btMultiBody versus other objects.

Only changes that are strictly required, so no additional dynamicsType etc.",ambitious accepted two seem better create separate allow kinematic contact interaction friction similar allow contact query kinematic versus strictly additional,issue,positive,positive,positive,positive,positive,positive
711056446,"You need to install the recent visual studio 2019 on Windows, and use pip in a command-prompt with msvc installed.",need install recent visual studio use pip,issue,negative,neutral,neutral,neutral,neutral,neutral
710986926,"An object needs to be centered around its center if mass. Check out the urdf files in the  Bullet data folder, use obj files.",object need centered around center mass check bullet data folder use,issue,negative,negative,neutral,neutral,negative,negative
710112243,"Also, the Gym env's action space isn't the effective action space since
they are (optionally, but by default) rescaled using the action offset and
scale parameters as in Jason Peng's initial code. I have a fix for the
action space def in my fork of Bullet, https://github.com/ManifoldFR/bullet3/blob/deepmimic-gym-fixes/examples/pybullet/gym/pybullet_envs/deep_mimic/gym_env/deep_mimic_env.py.

On Fri, 16 Oct 2020, 17:20 Will Jallet, <wilson.jallet@gmail.com> wrote:

> Oh yeah, I haven't updated that file. It is actually uniformly sampling
> actions in the action space. Try modifying it and sampling truncated
> Gaussians or something. Uniform actions are very noisy and uncorrelated so
> the character's inertia is going to be all over the place; hence the
> character flies off into space.
>
> On Fri, 16 Oct 2020, 17:16 Federico, <notifications@github.com> wrote:
>
>> I run the deepmimic_test.py file in the gym_env folder
>>
>> —
>> You are receiving this because you were mentioned.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/bulletphysics/bullet3/pull/3076#issuecomment-710108412>,
>> or unsubscribe
>> <https://github.com/notifications/unsubscribe-auth/AFA427GLFQZMI4ALJOW3MZTSLBPVPANCNFSM4RXGID4A>
>> .
>>
>
",also gym action space effective action space since optionally default action offset scale initial code fix action space fork bullet wrote oh yeah file actually uniformly sampling action space try sampling truncated something uniform noisy uncorrelated character inertia going place hence character space wrote run file folder reply directly view,issue,positive,positive,positive,positive,positive,positive
710111242,"Oh yeah, I haven't updated that file. It is actually uniformly sampling
actions in the action space. Try modifying it and sampling truncated
Gaussians or something. Uniform actions are very noisy and uncorrelated so
the character's inertia is going to be all over the place; hence the
character flies off into space.

On Fri, 16 Oct 2020, 17:16 Federico, <notifications@github.com> wrote:

> I run the deepmimic_test.py file in the gym_env folder
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/3076#issuecomment-710108412>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427GLFQZMI4ALJOW3MZTSLBPVPANCNFSM4RXGID4A>
> .
>
",oh yeah file actually uniformly sampling action space try sampling truncated something uniform noisy uncorrelated character inertia going place hence character space wrote run file folder reply directly view,issue,negative,positive,neutral,neutral,positive,positive
710107635,"Which agent are you running ? Are you sampling random actions uniformly in
the action space ?

On Fri, 16 Oct 2020, 17:12 Federico, <notifications@github.com> wrote:

> @ManifoldFR <https://github.com/ManifoldFR> I took a look at you gym
> wrapper and tried to run it, but it seems that the simulated character is
> ""flying away"" at the beginning of each run. Could you confirm this
> behaviour? I think that to see that you need to change renders in
> deep_mimic_env.py to True.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/3076#issuecomment-710106364>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AFA427AQWOMYEV4PAJDXYEDSLBPHPANCNFSM4RXGID4A>
> .
>
",agent running sampling random uniformly action space wrote took look gym wrapper tried run character flying away beginning run could confirm behaviour think see need change true reply directly view,issue,negative,positive,neutral,neutral,positive,positive
710106364,"@ManifoldFR I took a look at you gym wrapper and tried to run it, but it seems that the simulated character is ""flying away"" at the beginning of each run. Could you confirm this behaviour? I think that to see that you need to change `renders` in `deep_mimic_env.py` to `True`.
",took look gym wrapper tried run character flying away beginning run could confirm behaviour think see need change true,issue,negative,positive,positive,positive,positive,positive
708186282,"> Thanks for the report. The most important part of information is missing: what world? and what command-line did you use to cause the crash?

Sorry, its happens when i use `python run.py` or `python3 run.py` i have an alias so i doenst matter if i use python or python3

The pycram bullet world demo
https://github.com/cram2/pycram/tree/master/demos/pycram_pr2_bullet_world_demo",thanks report important part information missing world use cause crash sorry use python python alias matter use python python bullet world,issue,negative,negative,neutral,neutral,negative,negative
708118111,"Is it possible to add a spring (possibly implemented with a bunch of spheres/boxes with constraint, like @erwincoumans mentioned above) as a convenience feature? Also wondering if @krasin was able to get it working, as I'm seeing other issues following this approach facing other issues like #3047 ",possible add spring possibly bunch constraint like convenience feature also wondering able get working seeing following approach facing like,issue,positive,positive,positive,positive,positive,positive
708046745,"Thanks! It took some time to install a while ago but something must have changed, it is fast now. I've removed the notice :)",thanks took time install ago something must fast removed notice,issue,negative,positive,positive,positive,positive,positive
708007794,Thanks for the report. The most important part of information is missing: what world? and what command-line did you use to cause the crash?,thanks report important part information missing world use cause crash,issue,negative,positive,positive,positive,positive,positive
707943815,"Thanks. The installation of PyBullet should use pre-build wheels on Linux, so it takes about 20 seconds, not 5 minutes. Can you please amend it, and I'll merge it.
Note that there are some more advanced notebooks that can do hardware accelerated GPU rendering using OpenGL3, so you can faster and nicer looking images:
https://colab.research.google.com/drive/1u6j7JOqM05vUUjpVp5VNk0pd8q-vqGlx?authuser=1#scrollTo=7tbOVtFp1_5K

And another one training a model of a cartpole:
https://colab.sandbox.google.com/drive/15JSROMJbeiqxcUwifPR2NYeeFBKmyIlX#scrollTo=E2eWDjPZsQc5
",thanks installation use please amend merge note advanced hardware accelerated rendering faster looking another one training model,issue,positive,positive,positive,positive,positive,positive
707857689,Can someone review or help get this merged? I think this would help a lot in the onboarding experience.,someone review help get think would help lot experience,issue,positive,neutral,neutral,neutral,neutral,neutral
707530959,"1. setMassProps has a default parameter to be dynamic. In this way, the original behavior is preserved.
2. override removed
3. BasicExample reverted

4. I merged the recent commit of the master to resolve the conflicts. (I am not sure how to not display other people's changes in this pull request. If I create a new pull request, commits merged from master won't show up.)
 ",default parameter dynamic way original behavior override removed recent commit master resolve sure display people pull request create new pull request master wo show,issue,positive,positive,positive,positive,positive,positive
706884889,"There is a motion plan system for game agents called phase function neural
network, I believe making a plan with this and simulating it could be
supperior to IK and faster.

On Sun, Oct 11, 2020, 10:05 PM erwincoumans <notifications@github.com>
wrote:

> (re-open to keep some discussion going)
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3105#issuecomment-706862304>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABW3SWKKOZQVIM5TTRER2YLSKKFBPANCNFSM4SI5QCUA>
> .
>
",motion plan system game phase function neural network believe making plan could faster sun wrote keep discussion going thread reply directly view,issue,negative,negative,negative,negative,negative,negative
706856301,"PyBullet's IK is numerical, using selectively damped least squares.

>> Does it support any number of DOF?

Yes, PyBullet supports any number of DOF, you just load the URDF (or SDF, MJCF etc).
We also use IK for motion retargeting of a quadruped robot (tree structure), see
https://github.com/google-research/motion_imitation/tree/master/retarget_motion

>> So far I use IKFast, as it is several orders of magnitude faster than numerical solvers.

No, that is not my experience at all, IKFast was must slower than PyBullet.
Timings were in the file: IKFast was 300us versus PyBullet 150us, for the
IK on Xarm6. But I'm not a IKFast expert, so perhaps a matter of tuning?

Aside of being slower, IKFast also often didn't produce a solution, while PyBullet always provided a reasonable solution.
See
https://github.com/erwincoumans/xArm-Python-SDK/blob/master/example/wrapper/xarm6/xarm_sim.py

S-DLS method is described here:
https://www.math.ucsd.edu/~sbuss/ResearchWeb/ikmethods/SdlsPaper.pdf

We use our custom code for computing the Jacobians, and made some improvements of S-DSL,
using velocity IK, using null-space and a few other bits.

At the moment, no motion planning published, some projects using learning
for motion planning.
We also used Reflexxes 2, by Torsten Kroeger, for motion planning before,
also not released.
PyBullet does have various collision queries that can help motion planning.
We didn't expose the swept volumes in Python yet, should be easy to do.

We use PyBullet primarily for quadruped locomotion research @ Google Robotics, sim-to-real,
motion imitation etc, reinforcement learning etc,
and for arm grasping research and robot development. We also did some
projects for miniature car driving (MIT racecar etc).

There are also related projects, such as Stanford Gibson 1/2, and Facebook Habitat that have nicer rendering with PyBullet.
https://pybullet.org/wordpress/index.php/2019/11/22/facebook-habitat-v0-1-3-adds-bullet-physics/
http://gibsonenv.stanford.edu/
We have some nicer render plugins that we didn't open source yet.

Thanks!
Erwin




On Fri, 9 Oct 2020 at 02:22, Simon Steinmann <notifications@github.com>
wrote:

> Heh, I'm a bit sceptical about benchmark papers, since most of the
> 'scientific papers about physics engine benchmarks' so far turn out to be
> advertisements: they are written by an author who has a physics engine in
> the race, and magically the physics engine by the author always comes out
> best
>
> This became very apparent to us as well. We have no affiliation with any
> engine / simulation author. We are a consortium of several research
> institutes (DLR, Fraunhofer) and a few robotics and aerospace companies.
> The goal is to figure out, which engine and simulation is best suited for
> certain tasks. Thank you for your list of information. In a feature
> overview, some of these things will certainly be listed.
>
> While it is not in the scope of this paper, I would be very interested in
> the implemented IK solution. Especially for RL, very fast IK is critical.
> So far I use IKFast, as it is several orders of magnitude faster than
> numerical solvers. Can you link me to some documentation?
>
>    - Is it analytical or numeric?
>    - Does it support any number of DOF?
>    - Does pybullet include a motion planning framework akin to OMPL or
>    MoveIt?
>
> —
> You are receiving this because you modified the open/close state.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/3105#issuecomment-706072131>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AAFRDXHWCDQUPT4FULXOKALSJ3I4ZANCNFSM4SI5QCUA>
> .
>
",numerical selectively damped least support number yes number load also use motion quadruped robot tree structure see far use several magnitude faster numerical experience must file u versus u expert perhaps matter tuning aside also often produce solution always provided reasonable solution see method use custom code made velocity moment motion learning motion also used motion also various collision help motion expose swept python yet easy use primarily quadruped locomotion research motion imitation reinforcement learning arm grasping research robot development also miniature car driving also related habitat rendering render open source yet thanks wrote bit since physic engine far turn written author physic engine race magically physic engine author always come best apparent u well affiliation engine simulation author consortium several research goal figure engine simulation best certain thank list information feature overview certainly listed scope paper would interested solution especially fast critical far use several magnitude faster numerical link documentation analytical support number include motion framework akin state reply directly view,issue,positive,positive,positive,positive,positive,positive
706297560,"I'll leave it open for now, in case we find time to implement getJointState for maximal coordinate rigid bodies.",leave open case find time implement maximal rigid,issue,negative,neutral,neutral,neutral,neutral,neutral
706226967,"Dear @maximecb, thanks for your code. It does work and I am able to see the simulation environment. Does this mean that I can now implement my RL algorithm on this?  Where can I find more information about various action and observation fields used by this simulation? Is there any documentation available for this environment? I am using the Cam version of this environment: `KukaCamGymEnv`.
![image](https://user-images.githubusercontent.com/5118351/95598143-7bbef500-0a47-11eb-9f47-6528b8864559.png)
",dear thanks code work able see simulation environment mean implement algorithm find information various action observation used simulation documentation available environment cam version environment image,issue,positive,positive,positive,positive,positive,positive
706072131,"> Heh, I'm a bit sceptical about benchmark papers, since most of the 'scientific papers about physics engine benchmarks' so far turn out to be advertisements: they are written by an author who has a physics engine in the race, and magically the physics engine by the author always comes out best

This became very apparent to us as well. We have no affiliation with any engine / simulation author. We are a consortium of several research institutes (DLR, Fraunhofer) and a few robotics and aerospace companies. The goal is to figure out, which engine and simulation is best suited for certain tasks. Thank you for your list of information. In a feature overview, some of these things will certainly be listed.

While it is not in the scope of this paper, I would be very interested in the implemented IK solution. Especially for RL, very fast IK is critical. So far I use IKFast, as it is several orders of magnitude faster than numerical solvers. Can you link me to some documentation? 
- Is it analytical or numeric? 
- Does it support any number of DOF? 
- Does pybullet include a motion planning framework akin to OMPL or MoveIt?",bit since physic engine far turn written author physic engine race magically physic engine author always come best apparent u well affiliation engine simulation author consortium several research goal figure engine simulation best certain thank list information feature overview certainly listed scope paper would interested solution especially fast critical far use several magnitude faster numerical link documentation analytical support number include motion framework akin,issue,positive,positive,positive,positive,positive,positive
705728602,"Yes, it is a joint limitation problem.

I deleted these three lines, and everything is so far so good. 
```
<joint armature=""0"" axis=""1 0 0"" damping=""0"" limited=""false"" name=""ignorex"" pos=""0 0 0"" stiffness=""0"" type=""slide""/>
<joint armature=""0"" axis=""0 0 1"" damping=""0"" limited=""false"" name=""ignorez"" pos=""0 0 0"" ref=""1.25"" stiffness=""0"" type=""slide""/>
<joint armature=""0"" axis=""0 1 0"" damping=""0"" limited=""false"" name=""ignorey"" pos=""0 0 0"" stiffness=""0"" type=""hinge""/>
```",yes joint limitation problem three everything far good joint false slide joint false slide joint false hinge,issue,negative,negative,neutral,neutral,negative,negative
705661241,"Heh, I'm a bit sceptical about benchmark papers, since most of the 'scientific papers about physics engine benchmarks' so far turn out to be advertisements: they are written by an author who has a physics engine in the race, and magically the physics engine by the author always comes out best. Usually they 'thank' the other physics engine creators at the end, as if it is an endorsement.

Bullet still has an OpenCL GPU backend, we haven't enabled it at the moment in PyBullet, but we may do so in the future.

Tuning parameters depends on the scenario, there is not one 'best' set of parameters (otherwise we could get rid of them). It takes time to tune a physics engine to work best for a scenario or benchmark.

Some nice features of PyBullet:

1) it can be trivially installed on Windows, Mac OSX, Linux using 
~~~~~~~~~~
pip3 install pybullet --upgrade --user
~~~~~~~~~~
2) PyBullet is 100% deterministic, if used properly (of course it is easy to violate, if desired for a benchmark)
3) PyBullet runs headless in the cloud, on machines without GPU or even X11, since it has a simple CPU renderer. It can also run headless in the cloud using EGL hardware rendering
4) PyBullet has been used for many sim-to-real robot hardware experiments
5) PyBullet has forward kinematics, inverse kinematics (faster and more reliable than IKFast if tuned well, in our experiments), inverse dynamics, virtual reality (using OpenVR)
6) PyBullet has efficient shared memory API (for client server) and can run remote using TCP/TP using a graphics client/server of physics client/server.
7) PyBullet support URDF, SDF and MJCF (subset of its features)
8) You can run PyBullet in a web page using Google Colab, also with hardware OpenGL rendering
9) PyBullet has support for many collision shape types (sphere, box, capsule, cylinder, convex hull, concave triangle mesh, and height field (animated) and signed distance field (SDF)
10) PyBullet uses a Projected Gauss Seidel solver by default, but you can select an alternative constraint solver (Dantzig) which could be better for some scenarios
11) PyBullet uses reduced coordinates (Featherstone style) by default, but also supports maximal coordinates rigid body with constraints, and two-way coupling between those. You can close loops of reduced coordinate methods using constraints.
12) PyBullet support deformable simulation using finite element method, mass-spring or position based dynamics, including two-way interaction with multibodies and rigid bodies",bit since physic engine far turn written author physic engine race magically physic engine author always come best usually physic engine end endorsement bullet still moment may future tuning scenario one set otherwise could get rid time tune physic engine work best scenario nice trivially mac pip install upgrade user deterministic used properly course easy violate desired headless cloud without even since simple renderer also run headless cloud hardware rendering used many robot hardware forward kinematics inverse kinematics faster reliable tuned well inverse dynamic virtual reality efficient memory client server run remote graphic physic support subset run web page also hardware rendering support many collision shape sphere box capsule cylinder convex hull concave triangle mesh height field animated distance field gauss seidel solver default select alternative constraint solver could better reduced style default also maximal rigid body coupling close reduced support deformable simulation finite element method position based dynamic interaction rigid,issue,positive,positive,positive,positive,positive,positive
705619788,"Thank you very much! I'd suggest updating the readme, to reflect these recent changes :)",thank much suggest reflect recent,issue,negative,positive,neutral,neutral,positive,positive
705549494,"The version is now in sync, currently 3.0.6
(six!) for PyBullet and Bullet. Just refer to PyBullet using this bibtex:
~~~~~~~~~~
@MISC{coumans2020,
author =   {Erwin Coumans and Yunfei Bai},
title =    {PyBullet, a Python module for physics simulation for games, robotics and machine learning},
howpublished = {\url{http://pybullet.org}},
year = {2016--2020}
}
~~~~~~~~~~

The version numbers of PyBullet and Bullet were not related until a few weeks ago. Bullet 2.89 and 3.06 are very similar.


PyBullet is used for many sim to real, robotics and reinforcement learning projects, see
https://scholar.google.com/scholar?oi=bibs&hl=en&cites=14155418983690238411,16349027710347673009,15548795680127842422
",version sync currently six bullet refer author title python module physic simulation machine learning year version bullet related ago bullet similar used many real reinforcement learning see,issue,negative,positive,positive,positive,positive,positive
705250314,"Thanks for the PR! It is a tricky PR, since it can potentially break existing behavior. Generally we maintain backward compatibility, so not breaking the API. (unfortunately breaking changes or bugs slip in, but that is usually not intended).

1) new args to setMassProps argument should be optional. In that case, perhaps the arg would be set to 'uninitialized' and behave exactly as before (mass>0 -> dynamic, mass==0 -> static).
2) We don't use C++11 but C++03, so no override. (our new [TDS](https://github.com/google-research/tiny-differentiable-simulator) sim is C++2017)
3) The BasicExample cannot be modified to keep it basic. Since you already added a new example, that could be enough?

Checking the changes to files in Bullet/src will take a bit more time, to avoid regressions.",thanks tricky since potentially break behavior generally maintain backward compatibility breaking unfortunately breaking slip usually intended new argument optional case perhaps would set behave exactly mass dynamic static use override new keep basic since already added new example could enough take bit time avoid,issue,negative,positive,neutral,neutral,positive,positive
705227307,"The OpenGL3 visualizer requires OpenGL 3.x. Most virtual environments don't work well, so it is best to just use DIRECT mode and getCameraImage using the default CPU renderer. Otherwise use a regular non-virtual OS with an up-to-date NVIDIA or AMD display driver.",visualizer virtual work well best use direct mode default renderer otherwise use regular o display driver,issue,positive,positive,positive,positive,positive,positive
705223526,"Hi @AdityaKapoor74 , were you able to solve this issue because I have a similar SEGFAULT before it connects to OpenGL",hi able solve issue similar,issue,negative,positive,positive,positive,positive,positive
705079438,"example to receive return data from a plugin in Python:
~~~~~~~~~~~~~~~~~~~~
import pybullet as p
p.connect(p.DIRECT)
pluginId = p.loadPlugin(""tinyRendererPlugin"")
print(pluginId)
data = p.executePluginCommand(pluginId, ""test"", [1,2,3,4,5,6,7,8,9], [0.1,0.3,0.5])
print(""data="",data)
~~~~~~~~~~~~~~~~~~~~
or in C-API
~~~~~~~~~~~~~~~~~~~~
command = b3CreateCustomCommand(sm);
b3CustomCommandExecutePluginCommand(command, pluginUniqueId, textArgument);
...
struct b3UserDataValue dv;
if (b3GetStatusPluginCommandReturnData(sm, &dv))
{
  //use dv.m_data1/dv.m_length etc
}
~~~~~~~~~~~~~~~~~~~~

Some example return data in the tinyrenderer plugin:

https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/plugins/tinyRendererPlugin/tinyRendererPlugin.cpp#L46

Make sure the lifetime of the return data is either until the plugin terminates, or until the next 'executePluginCommand'.
",example receive return data python import print data test print data command command example return data make sure lifetime return data either next,issue,negative,positive,positive,positive,positive,positive
704926151,"The forces are likely too high. Also this is a forum question, not an issue.",likely high also forum question issue,issue,negative,positive,neutral,neutral,positive,positive
704461502,"Thanks a lot, will merge it and upload to pypi into pybullet 3.0.5 soon.",thanks lot merge soon,issue,negative,positive,positive,positive,positive,positive
704423897,"These changes resolve my issue. Thanks a lot @erwincoumans, I would have never figured this out myself!",resolve issue thanks lot would never figured,issue,positive,positive,positive,positive,positive,positive
704004615,"It can happen when hitting a joint limit, exceeding a velocity threshold or apply to large forces (clamp the action). 
Unfortunately, there are no resources to provide support for these kind of issues, so you'll have to spend time on it.",happen joint limit exceeding velocity threshold apply large clamp action unfortunately provide support kind spend time,issue,positive,positive,positive,positive,positive,positive
704001654,"After training them for a while, they all learned how to fly.
I saw them shaking their ""torso"" back and forth hardly, I don't know if this weird behavior causes them to fly.

another footage video: https://youtu.be/J9PjVFUM8Ys",training learned fly saw shaking torso back forth hardly know weird behavior fly another footage video,issue,negative,positive,positive,positive,positive,positive
703988554,"The restitution issue is an artifact of a some predictive simulation feature (our locomotion and grasping simulation don't use restitution).

Here is an updated script that produces proper restitution. There are some additional settings to avoid gaining energy due to position stabilization. This requires 'maximalCoordinates=True'.

~~~~~~~~~~~~~~~~~~
# pbdebug.py
import pybullet as pb
import time
dt = 1./240.
client = pb.connect(pb.GUI)
pb.setPhysicsEngineParameter(restitutionVelocityThreshold=0, warmStartingFactor=0, useSplitImpulse=True, splitImpulsePenetrationThreshold=0, contactSlop=0)
pb.setPhysicsEngineParameter(enableConeFriction=False)

# create a (static) wall at x=1
wall_collision_shape = pb.createCollisionShape(pb.GEOM_BOX, halfExtents=(0.1, 1.0, 1.0))
wall = pb.createMultiBody(0., wall_collision_shape, -1, basePosition=(1.1, 0., 0.), useMaximalCoordinates=True)
pb.changeDynamics(wall, -1, contactProcessingThreshold=0, restitution=1, linearDamping=0, angularDamping=0)


# create a ball with mass 1.0 at the origin that is headed towards the wall
ball_collision_shape = pb.createCollisionShape(pb.GEOM_SPHERE, radius=0.2)
ball = pb.createMultiBody(1.0, ball_collision_shape, -1, basePosition=(0., 0., 0.), useMaximalCoordinates=True)
pb.resetBaseVelocity(ball, (1., 0., 0.), (0., 0., 0.))
pb.changeDynamics(ball, -1, contactProcessingThreshold=0, restitution=1, linearDamping=0, angularDamping=0)

for current_step in range(40000):
  if current_step % 40 == 0:
    position, quaternion = pb.getBasePositionAndOrientation(ball)
    linvel, angvel = pb.getBaseVelocity(ball)
    print(position[0])
    print(""linvel="",linvel)
  time.sleep(dt)
  pb.stepSimulation()
~~~~~~~~~~~~~~~~~~",restitution issue artifact predictive simulation feature locomotion grasping simulation use restitution script proper restitution additional avoid gaining energy due position stabilization import import time client create static wall wall wall create ball mass origin headed towards wall ball ball ball range position quaternion ball ball print position print,issue,positive,positive,positive,positive,positive,positive
703926340,"Edit: Added `pb.changeDynamics(wall, -1, restitution=1.)` and `pb.changeDynamics(ball, -1, restitution=1.)` (the default is 0 which would lead to no bouncing too). But behaviour is unchanged. ",edit added wall ball default would lead bouncing behaviour unchanged,issue,negative,neutral,neutral,neutral,neutral,neutral
703918889,"I tried `pybullet.setPhysicsEngineParameter(restitutionVelocityThreshold=0)` but it does not change the behavior (added it to the code). Also I can reproduce the sticking behaviour on my Debian (gLinux) with python 3.8. 
Here is the build-log for the docker with all relevant version info:
<details>
  <summary>Docker Build log</summary>
 <pre>
Sending build context to Docker daemon  9.216kB
Step 1/3 : FROM ubuntu:20.04
 ---> bb0eaf4eee00
Step 2/3 : RUN apt-get update --yes  &&     apt-get install --yes --no-install-recommends       build-essential       python3-dev       python3-pip
 ---> Running in bb14f26366bb
Get:1 http://archive.ubuntu.com/ubuntu focal InRelease [265 kB]
Get:2 http://security.ubuntu.com/ubuntu focal-security InRelease [107 kB]
Get:3 http://archive.ubuntu.com/ubuntu focal-updates InRelease [111 kB]
Get:4 http://archive.ubuntu.com/ubuntu focal-backports InRelease [98.3 kB]
Get:5 http://archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [177 kB]
Get:6 http://archive.ubuntu.com/ubuntu focal/main amd64 Packages [1275 kB]
Get:7 http://archive.ubuntu.com/ubuntu focal/universe amd64 Packages [11.3 MB]
Get:8 http://archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [33.4 kB]
Get:9 http://archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [88.7 kB]
Get:10 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [306 kB]
Get:11 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [706 kB]
Get:12 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [21.6 kB]
Get:13 http://archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [4277 B]
Get:14 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [368 kB]
Get:15 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [114 kB]
Get:16 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [75.9 kB]
Get:17 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [1169 B]
Fetched 15.1 MB in 2s (8963 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu ca-certificates cpp cpp-9
  dpkg-dev g++ g++-9 gcc gcc-9 gcc-9-base libasan5 libatomic1 libbinutils
  libc-dev-bin libc6 libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0 libctf0
  libdpkg-perl libexpat1 libexpat1-dev libgcc-9-dev libgdbm-compat4 libgdbm6
  libgomp1 libisl22 libitm1 liblsan0 libmpc3 libmpdec2 libmpfr6 libperl5.30
  libpython3-dev libpython3-stdlib libpython3.8 libpython3.8-dev
  libpython3.8-minimal libpython3.8-stdlib libquadmath0 libreadline8
  libsqlite3-0 libssl1.1 libstdc++-9-dev libtsan0 libubsan1 linux-libc-dev
  make mime-support openssl patch perl perl-modules-5.30 python-pip-whl
  python3 python3-distutils python3-lib2to3 python3-minimal
  python3-pkg-resources python3-setuptools python3-wheel python3.8
  python3.8-dev python3.8-minimal readline-common xz-utils zlib1g zlib1g-dev
Suggested packages:
  binutils-doc cpp-doc gcc-9-locales debian-keyring g++-multilib
  g++-9-multilib gcc-9-doc gcc-multilib manpages-dev autoconf automake libtool
  flex bison gdb gcc-doc gcc-9-multilib glibc-doc locales gnupg | gnupg2 git
  bzr gdbm-l10n libstdc++-9-doc make-doc ed diffutils-doc perl-doc
  libterm-readline-gnu-perl | libterm-readline-perl-perl libb-debug-perl
  liblocale-codes-perl python3-doc python3-tk python3-venv
  python-setuptools-doc python3.8-venv python3.8-doc binfmt-support
  readline-doc
Recommended packages:
  fakeroot gnupg | gnupg2 libalgorithm-merge-perl manpages manpages-dev
  libfile-fcntllock-perl liblocale-gettext-perl file netbase
The following NEW packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu build-essential
  ca-certificates cpp cpp-9 dpkg-dev g++ g++-9 gcc gcc-9 gcc-9-base libasan5
  libatomic1 libbinutils libc-dev-bin libc6-dev libcc1-0 libcrypt-dev
  libctf-nobfd0 libctf0 libdpkg-perl libexpat1 libexpat1-dev libgcc-9-dev
  libgdbm-compat4 libgdbm6 libgomp1 libisl22 libitm1 liblsan0 libmpc3
  libmpdec2 libmpfr6 libperl5.30 libpython3-dev libpython3-stdlib libpython3.8
  libpython3.8-dev libpython3.8-minimal libpython3.8-stdlib libquadmath0
  libreadline8 libsqlite3-0 libssl1.1 libstdc++-9-dev libtsan0 libubsan1
  linux-libc-dev make mime-support openssl patch perl perl-modules-5.30
  python-pip-whl python3 python3-dev python3-distutils python3-lib2to3
  python3-minimal python3-pip python3-pkg-resources python3-setuptools
  python3-wheel python3.8 python3.8-dev python3.8-minimal readline-common
  xz-utils zlib1g-dev
The following packages will be upgraded:
  libc6 zlib1g
2 upgraded, 72 newly installed, 0 to remove and 1 not upgraded.
Need to get 64.4 MB of archives.
After this operation, 280 MB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libc6 amd64 2.31-0ubuntu9.1 [2712 kB]
Get:2 http://archive.ubuntu.com/ubuntu focal/main amd64 libssl1.1 amd64 1.1.1f-1ubuntu2 [1318 kB]
Get:3 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libpython3.8-minimal amd64 3.8.2-1ubuntu1.2 [705 kB]
Get:4 http://archive.ubuntu.com/ubuntu focal/main amd64 libexpat1 amd64 2.2.9-1build1 [73.3 kB]
Get:5 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 zlib1g amd64 1:1.2.11.dfsg-2ubuntu1.1 [53.5 kB]
Get:6 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 python3.8-minimal amd64 3.8.2-1ubuntu1.2 [1896 kB]
Get:7 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-minimal amd64 3.8.2-0ubuntu2 [23.6 kB]
Get:8 http://archive.ubuntu.com/ubuntu focal/main amd64 mime-support all 3.64ubuntu1 [30.6 kB]
Get:9 http://archive.ubuntu.com/ubuntu focal/main amd64 libmpdec2 amd64 2.4.2-3 [81.1 kB]
Get:10 http://archive.ubuntu.com/ubuntu focal/main amd64 readline-common all 8.0-4 [53.5 kB]
Get:11 http://archive.ubuntu.com/ubuntu focal/main amd64 libreadline8 amd64 8.0-4 [131 kB]
Get:12 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsqlite3-0 amd64 3.31.1-4ubuntu0.2 [549 kB]
Get:13 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libpython3.8-stdlib amd64 3.8.2-1ubuntu1.2 [1665 kB]
Get:14 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 python3.8 amd64 3.8.2-1ubuntu1.2 [364 kB]
Get:15 http://archive.ubuntu.com/ubuntu focal/main amd64 libpython3-stdlib amd64 3.8.2-0ubuntu2 [7068 B]
Get:16 http://archive.ubuntu.com/ubuntu focal/main amd64 python3 amd64 3.8.2-0ubuntu2 [47.6 kB]
Get:17 http://archive.ubuntu.com/ubuntu focal/main amd64 perl-modules-5.30 all 5.30.0-9build1 [2737 kB]
Get:18 http://archive.ubuntu.com/ubuntu focal/main amd64 libgdbm6 amd64 1.18.1-5 [27.4 kB]
Get:19 http://archive.ubuntu.com/ubuntu focal/main amd64 libgdbm-compat4 amd64 1.18.1-5 [6244 B]
Get:20 http://archive.ubuntu.com/ubuntu focal/main amd64 libperl5.30 amd64 5.30.0-9build1 [3943 kB]
Get:21 http://archive.ubuntu.com/ubuntu focal/main amd64 perl amd64 5.30.0-9build1 [224 kB]
Get:22 http://archive.ubuntu.com/ubuntu focal/main amd64 openssl amd64 1.1.1f-1ubuntu2 [621 kB]
Get:23 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 ca-certificates all 20190110ubuntu1.1 [145 kB]
Get:24 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-pkg-resources all 45.2.0-1 [130 kB]
Get:25 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 xz-utils amd64 5.2.4-1ubuntu1 [82.5 kB]
Get:26 http://archive.ubuntu.com/ubuntu focal/main amd64 binutils-common amd64 2.34-6ubuntu1 [207 kB]
Get:27 http://archive.ubuntu.com/ubuntu focal/main amd64 libbinutils amd64 2.34-6ubuntu1 [474 kB]
Get:28 http://archive.ubuntu.com/ubuntu focal/main amd64 libctf-nobfd0 amd64 2.34-6ubuntu1 [47.0 kB]
Get:29 http://archive.ubuntu.com/ubuntu focal/main amd64 libctf0 amd64 2.34-6ubuntu1 [46.6 kB]
Get:30 http://archive.ubuntu.com/ubuntu focal/main amd64 binutils-x86-64-linux-gnu amd64 2.34-6ubuntu1 [1614 kB]
Get:31 http://archive.ubuntu.com/ubuntu focal/main amd64 binutils amd64 2.34-6ubuntu1 [3376 B]
Get:32 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libc-dev-bin amd64 2.31-0ubuntu9.1 [71.7 kB]
Get:33 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 linux-libc-dev amd64 5.4.0-48.52 [1138 kB]
Get:34 http://archive.ubuntu.com/ubuntu focal/main amd64 libcrypt-dev amd64 1:4.4.10-10ubuntu4 [104 kB]
Get:35 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libc6-dev amd64 2.31-0ubuntu9.1 [2519 kB]
Get:36 http://archive.ubuntu.com/ubuntu focal/main amd64 gcc-9-base amd64 9.3.0-10ubuntu2 [19.3 kB]
Get:37 http://archive.ubuntu.com/ubuntu focal/main amd64 libisl22 amd64 0.22.1-1 [592 kB]
Get:38 http://archive.ubuntu.com/ubuntu focal/main amd64 libmpfr6 amd64 4.0.2-1 [240 kB]
Get:39 http://archive.ubuntu.com/ubuntu focal/main amd64 libmpc3 amd64 1.1.0-1 [40.8 kB]
Get:40 http://archive.ubuntu.com/ubuntu focal/main amd64 cpp-9 amd64 9.3.0-10ubuntu2 [7491 kB]
Get:41 http://archive.ubuntu.com/ubuntu focal/main amd64 cpp amd64 4:9.3.0-1ubuntu2 [27.6 kB]
Get:42 http://archive.ubuntu.com/ubuntu focal/main amd64 libcc1-0 amd64 10-20200411-0ubuntu1 [41.1 kB]
Get:43 http://archive.ubuntu.com/ubuntu focal/main amd64 libgomp1 amd64 10-20200411-0ubuntu1 [101 kB]
Get:44 http://archive.ubuntu.com/ubuntu focal/main amd64 libitm1 amd64 10-20200411-0ubuntu1 [26.3 kB]
Get:45 http://archive.ubuntu.com/ubuntu focal/main amd64 libatomic1 amd64 10-20200411-0ubuntu1 [9284 B]
Get:46 http://archive.ubuntu.com/ubuntu focal/main amd64 libasan5 amd64 9.3.0-10ubuntu2 [395 kB]
Get:47 http://archive.ubuntu.com/ubuntu focal/main amd64 liblsan0 amd64 10-20200411-0ubuntu1 [144 kB]
Get:48 http://archive.ubuntu.com/ubuntu focal/main amd64 libtsan0 amd64 10-20200411-0ubuntu1 [319 kB]
Get:49 http://archive.ubuntu.com/ubuntu focal/main amd64 libubsan1 amd64 10-20200411-0ubuntu1 [136 kB]
Get:50 http://archive.ubuntu.com/ubuntu focal/main amd64 libquadmath0 amd64 10-20200411-0ubuntu1 [146 kB]
Get:51 http://archive.ubuntu.com/ubuntu focal/main amd64 libgcc-9-dev amd64 9.3.0-10ubuntu2 [2359 kB]
Get:52 http://archive.ubuntu.com/ubuntu focal/main amd64 gcc-9 amd64 9.3.0-10ubuntu2 [8234 kB]
Get:53 http://archive.ubuntu.com/ubuntu focal/main amd64 gcc amd64 4:9.3.0-1ubuntu2 [5208 B]
Get:54 http://archive.ubuntu.com/ubuntu focal/main amd64 libstdc++-9-dev amd64 9.3.0-10ubuntu2 [1711 kB]
Get:55 http://archive.ubuntu.com/ubuntu focal/main amd64 g++-9 amd64 9.3.0-10ubuntu2 [8404 kB]
Get:56 http://archive.ubuntu.com/ubuntu focal/main amd64 g++ amd64 4:9.3.0-1ubuntu2 [1604 B]
Get:57 http://archive.ubuntu.com/ubuntu focal/main amd64 make amd64 4.2.1-1.2 [162 kB]
Get:58 http://archive.ubuntu.com/ubuntu focal/main amd64 libdpkg-perl all 1.19.7ubuntu3 [230 kB]
Get:59 http://archive.ubuntu.com/ubuntu focal/main amd64 patch amd64 2.7.6-6 [105 kB]
Get:60 http://archive.ubuntu.com/ubuntu focal/main amd64 dpkg-dev all 1.19.7ubuntu3 [679 kB]
Get:61 http://archive.ubuntu.com/ubuntu focal/main amd64 build-essential amd64 12.8ubuntu1 [4624 B]
Get:62 http://archive.ubuntu.com/ubuntu focal/main amd64 libexpat1-dev amd64 2.2.9-1build1 [116 kB]
Get:63 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libpython3.8 amd64 3.8.2-1ubuntu1.2 [1620 kB]
Get:64 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libpython3.8-dev amd64 3.8.2-1ubuntu1.2 [3940 kB]
Get:65 http://archive.ubuntu.com/ubuntu focal/main amd64 libpython3-dev amd64 3.8.2-0ubuntu2 [7236 B]
Get:66 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 python-pip-whl all 20.0.2-5ubuntu1.1 [1799 kB]
Get:67 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 zlib1g-dev amd64 1:1.2.11.dfsg-2ubuntu1.1 [155 kB]
Get:68 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 python3.8-dev amd64 3.8.2-1ubuntu1.2 [515 kB]
Get:69 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-lib2to3 all 3.8.2-1ubuntu1 [74.1 kB]
Get:70 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-distutils all 3.8.2-1ubuntu1 [140 kB]
Get:71 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-dev amd64 3.8.2-0ubuntu2 [1212 B]
Get:72 http://archive.ubuntu.com/ubuntu focal/main amd64 python3-setuptools all 45.2.0-1 [330 kB]
Get:73 http://archive.ubuntu.com/ubuntu focal/universe amd64 python3-wheel all 0.34.2-1 [23.8 kB]
Get:74 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 python3-pip all 20.0.2-5ubuntu1.1 [230 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 64.4 MB in 2s (30.4 MB/s)
(Reading database ... 4121 files and directories currently installed.)
Preparing to unpack .../libc6_2.31-0ubuntu9.1_amd64.deb ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.30.0 /usr/local/share/perl/5.30.0 /usr/lib/x86_64-linux-gnu/perl5/5.30 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.30 /usr/share/perl/5.30 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Unpacking libc6:amd64 (2.31-0ubuntu9.1) over (2.31-0ubuntu9) ...
Setting up libc6:amd64 (2.31-0ubuntu9.1) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.30.0 /usr/local/share/perl/5.30.0 /usr/lib/x86_64-linux-gnu/perl5/5.30 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.30 /usr/share/perl/5.30 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Selecting previously unselected package libssl1.1:amd64.
(Reading database ... 4121 files and directories currently installed.)
Preparing to unpack .../libssl1.1_1.1.1f-1ubuntu2_amd64.deb ...
Unpacking libssl1.1:amd64 (1.1.1f-1ubuntu2) ...
Selecting previously unselected package libpython3.8-minimal:amd64.
Preparing to unpack .../libpython3.8-minimal_3.8.2-1ubuntu1.2_amd64.deb ...
Unpacking libpython3.8-minimal:amd64 (3.8.2-1ubuntu1.2) ...
Selecting previously unselected package libexpat1:amd64.
Preparing to unpack .../libexpat1_2.2.9-1build1_amd64.deb ...
Unpacking libexpat1:amd64 (2.2.9-1build1) ...
Preparing to unpack .../zlib1g_1%3a1.2.11.dfsg-2ubuntu1.1_amd64.deb ...
Unpacking zlib1g:amd64 (1:1.2.11.dfsg-2ubuntu1.1) over (1:1.2.11.dfsg-2ubuntu1) ...
Setting up zlib1g:amd64 (1:1.2.11.dfsg-2ubuntu1.1) ...
Selecting previously unselected package python3.8-minimal.
(Reading database ... 4413 files and directories currently installed.)
Preparing to unpack .../python3.8-minimal_3.8.2-1ubuntu1.2_amd64.deb ...
Unpacking python3.8-minimal (3.8.2-1ubuntu1.2) ...
Setting up libssl1.1:amd64 (1.1.1f-1ubuntu2) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
debconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.30.0 /usr/local/share/perl/5.30.0 /usr/lib/x86_64-linux-gnu/perl5/5.30 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.30 /usr/share/perl/5.30 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
debconf: falling back to frontend: Teletype
Setting up libpython3.8-minimal:amd64 (3.8.2-1ubuntu1.2) ...
Setting up libexpat1:amd64 (2.2.9-1build1) ...
Setting up python3.8-minimal (3.8.2-1ubuntu1.2) ...
Selecting previously unselected package python3-minimal.
(Reading database ... 4422 files and directories currently installed.)
Preparing to unpack .../0-python3-minimal_3.8.2-0ubuntu2_amd64.deb ...
Unpacking python3-minimal (3.8.2-0ubuntu2) ...
Selecting previously unselected package mime-support.
Preparing to unpack .../1-mime-support_3.64ubuntu1_all.deb ...
Unpacking mime-support (3.64ubuntu1) ...
Selecting previously unselected package libmpdec2:amd64.
Preparing to unpack .../2-libmpdec2_2.4.2-3_amd64.deb ...
Unpacking libmpdec2:amd64 (2.4.2-3) ...
Selecting previously unselected package readline-common.
Preparing to unpack .../3-readline-common_8.0-4_all.deb ...
Unpacking readline-common (8.0-4) ...
Selecting previously unselected package libreadline8:amd64.
Preparing to unpack .../4-libreadline8_8.0-4_amd64.deb ...
Unpacking libreadline8:amd64 (8.0-4) ...
Selecting previously unselected package libsqlite3-0:amd64.
Preparing to unpack .../5-libsqlite3-0_3.31.1-4ubuntu0.2_amd64.deb ...
Unpacking libsqlite3-0:amd64 (3.31.1-4ubuntu0.2) ...
Selecting previously unselected package libpython3.8-stdlib:amd64.
Preparing to unpack .../6-libpython3.8-stdlib_3.8.2-1ubuntu1.2_amd64.deb ...
Unpacking libpython3.8-stdlib:amd64 (3.8.2-1ubuntu1.2) ...
Selecting previously unselected package python3.8.
Preparing to unpack .../7-python3.8_3.8.2-1ubuntu1.2_amd64.deb ...
Unpacking python3.8 (3.8.2-1ubuntu1.2) ...
Selecting previously unselected package libpython3-stdlib:amd64.
Preparing to unpack .../8-libpython3-stdlib_3.8.2-0ubuntu2_amd64.deb ...
Unpacking libpython3-stdlib:amd64 (3.8.2-0ubuntu2) ...
Setting up python3-minimal (3.8.2-0ubuntu2) ...
Selecting previously unselected package python3.
(Reading database ... 4852 files and directories currently installed.)
Preparing to unpack .../00-python3_3.8.2-0ubuntu2_amd64.deb ...
Unpacking python3 (3.8.2-0ubuntu2) ...
Selecting previously unselected package perl-modules-5.30.
Preparing to unpack .../01-perl-modules-5.30_5.30.0-9build1_all.deb ...
Unpacking perl-modules-5.30 (5.30.0-9build1) ...
Selecting previously unselected package libgdbm6:amd64.
Preparing to unpack .../02-libgdbm6_1.18.1-5_amd64.deb ...
Unpacking libgdbm6:amd64 (1.18.1-5) ...
Selecting previously unselected package libgdbm-compat4:amd64.
Preparing to unpack .../03-libgdbm-compat4_1.18.1-5_amd64.deb ...
Unpacking libgdbm-compat4:amd64 (1.18.1-5) ...
Selecting previously unselected package libperl5.30:amd64.
Preparing to unpack .../04-libperl5.30_5.30.0-9build1_amd64.deb ...
Unpacking libperl5.30:amd64 (5.30.0-9build1) ...
Selecting previously unselected package perl.
Preparing to unpack .../05-perl_5.30.0-9build1_amd64.deb ...
Unpacking perl (5.30.0-9build1) ...
Selecting previously unselected package openssl.
Preparing to unpack .../06-openssl_1.1.1f-1ubuntu2_amd64.deb ...
Unpacking openssl (1.1.1f-1ubuntu2) ...
Selecting previously unselected package ca-certificates.
Preparing to unpack .../07-ca-certificates_20190110ubuntu1.1_all.deb ...
Unpacking ca-certificates (20190110ubuntu1.1) ...
Selecting previously unselected package python3-pkg-resources.
Preparing to unpack .../08-python3-pkg-resources_45.2.0-1_all.deb ...
Unpacking python3-pkg-resources (45.2.0-1) ...
Selecting previously unselected package xz-utils.
Preparing to unpack .../09-xz-utils_5.2.4-1ubuntu1_amd64.deb ...
Unpacking xz-utils (5.2.4-1ubuntu1) ...
Selecting previously unselected package binutils-common:amd64.
Preparing to unpack .../10-binutils-common_2.34-6ubuntu1_amd64.deb ...
Unpacking binutils-common:amd64 (2.34-6ubuntu1) ...
Selecting previously unselected package libbinutils:amd64.
Preparing to unpack .../11-libbinutils_2.34-6ubuntu1_amd64.deb ...
Unpacking libbinutils:amd64 (2.34-6ubuntu1) ...
Selecting previously unselected package libctf-nobfd0:amd64.
Preparing to unpack .../12-libctf-nobfd0_2.34-6ubuntu1_amd64.deb ...
Unpacking libctf-nobfd0:amd64 (2.34-6ubuntu1) ...
Selecting previously unselected package libctf0:amd64.
Preparing to unpack .../13-libctf0_2.34-6ubuntu1_amd64.deb ...
Unpacking libctf0:amd64 (2.34-6ubuntu1) ...
Selecting previously unselected package binutils-x86-64-linux-gnu.
Preparing to unpack .../14-binutils-x86-64-linux-gnu_2.34-6ubuntu1_amd64.deb ...
Unpacking binutils-x86-64-linux-gnu (2.34-6ubuntu1) ...
Selecting previously unselected package binutils.
Preparing to unpack .../15-binutils_2.34-6ubuntu1_amd64.deb ...
Unpacking binutils (2.34-6ubuntu1) ...
Selecting previously unselected package libc-dev-bin.
Preparing to unpack .../16-libc-dev-bin_2.31-0ubuntu9.1_amd64.deb ...
Unpacking libc-dev-bin (2.31-0ubuntu9.1) ...
Selecting previously unselected package linux-libc-dev:amd64.
Preparing to unpack .../17-linux-libc-dev_5.4.0-48.52_amd64.deb ...
Unpacking linux-libc-dev:amd64 (5.4.0-48.52) ...
Selecting previously unselected package libcrypt-dev:amd64.
Preparing to unpack .../18-libcrypt-dev_1%3a4.4.10-10ubuntu4_amd64.deb ...
Unpacking libcrypt-dev:amd64 (1:4.4.10-10ubuntu4) ...
Selecting previously unselected package libc6-dev:amd64.
Preparing to unpack .../19-libc6-dev_2.31-0ubuntu9.1_amd64.deb ...
Unpacking libc6-dev:amd64 (2.31-0ubuntu9.1) ...
Selecting previously unselected package gcc-9-base:amd64.
Preparing to unpack .../20-gcc-9-base_9.3.0-10ubuntu2_amd64.deb ...
Unpacking gcc-9-base:amd64 (9.3.0-10ubuntu2) ...
Selecting previously unselected package libisl22:amd64.
Preparing to unpack .../21-libisl22_0.22.1-1_amd64.deb ...
Unpacking libisl22:amd64 (0.22.1-1) ...
Selecting previously unselected package libmpfr6:amd64.
Preparing to unpack .../22-libmpfr6_4.0.2-1_amd64.deb ...
Unpacking libmpfr6:amd64 (4.0.2-1) ...
Selecting previously unselected package libmpc3:amd64.
Preparing to unpack .../23-libmpc3_1.1.0-1_amd64.deb ...
Unpacking libmpc3:amd64 (1.1.0-1) ...
Selecting previously unselected package cpp-9.
Preparing to unpack .../24-cpp-9_9.3.0-10ubuntu2_amd64.deb ...
Unpacking cpp-9 (9.3.0-10ubuntu2) ...
Selecting previously unselected package cpp.
Preparing to unpack .../25-cpp_4%3a9.3.0-1ubuntu2_amd64.deb ...
Unpacking cpp (4:9.3.0-1ubuntu2) ...
Selecting previously unselected package libcc1-0:amd64.
Preparing to unpack .../26-libcc1-0_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libcc1-0:amd64 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libgomp1:amd64.
Preparing to unpack .../27-libgomp1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libgomp1:amd64 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libitm1:amd64.
Preparing to unpack .../28-libitm1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libitm1:amd64 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libatomic1:amd64.
Preparing to unpack .../29-libatomic1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libatomic1:amd64 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libasan5:amd64.
Preparing to unpack .../30-libasan5_9.3.0-10ubuntu2_amd64.deb ...
Unpacking libasan5:amd64 (9.3.0-10ubuntu2) ...
Selecting previously unselected package liblsan0:amd64.
Preparing to unpack .../31-liblsan0_10-20200411-0ubuntu1_amd64.deb ...
Unpacking liblsan0:amd64 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libtsan0:amd64.
Preparing to unpack .../32-libtsan0_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libtsan0:amd64 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libubsan1:amd64.
Preparing to unpack .../33-libubsan1_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libubsan1:amd64 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libquadmath0:amd64.
Preparing to unpack .../34-libquadmath0_10-20200411-0ubuntu1_amd64.deb ...
Unpacking libquadmath0:amd64 (10-20200411-0ubuntu1) ...
Selecting previously unselected package libgcc-9-dev:amd64.
Preparing to unpack .../35-libgcc-9-dev_9.3.0-10ubuntu2_amd64.deb ...
Unpacking libgcc-9-dev:amd64 (9.3.0-10ubuntu2) ...
Selecting previously unselected package gcc-9.
Preparing to unpack .../36-gcc-9_9.3.0-10ubuntu2_amd64.deb ...
Unpacking gcc-9 (9.3.0-10ubuntu2) ...
Selecting previously unselected package gcc.
Preparing to unpack .../37-gcc_4%3a9.3.0-1ubuntu2_amd64.deb ...
Unpacking gcc (4:9.3.0-1ubuntu2) ...
Selecting previously unselected package libstdc++-9-dev:amd64.
Preparing to unpack .../38-libstdc++-9-dev_9.3.0-10ubuntu2_amd64.deb ...
Unpacking libstdc++-9-dev:amd64 (9.3.0-10ubuntu2) ...
Selecting previously unselected package g++-9.
Preparing to unpack .../39-g++-9_9.3.0-10ubuntu2_amd64.deb ...
Unpacking g++-9 (9.3.0-10ubuntu2) ...
Selecting previously unselected package g++.
Preparing to unpack .../40-g++_4%3a9.3.0-1ubuntu2_amd64.deb ...
Unpacking g++ (4:9.3.0-1ubuntu2) ...
Selecting previously unselected package make.
Preparing to unpack .../41-make_4.2.1-1.2_amd64.deb ...
Unpacking make (4.2.1-1.2) ...
Selecting previously unselected package libdpkg-perl.
Preparing to unpack .../42-libdpkg-perl_1.19.7ubuntu3_all.deb ...
Unpacking libdpkg-perl (1.19.7ubuntu3) ...
Selecting previously unselected package patch.
Preparing to unpack .../43-patch_2.7.6-6_amd64.deb ...
Unpacking patch (2.7.6-6) ...
Selecting previously unselected package dpkg-dev.
Preparing to unpack .../44-dpkg-dev_1.19.7ubuntu3_all.deb ...
Unpacking dpkg-dev (1.19.7ubuntu3) ...
Selecting previously unselected package build-essential.
Preparing to unpack .../45-build-essential_12.8ubuntu1_amd64.deb ...
Unpacking build-essential (12.8ubuntu1) ...
Selecting previously unselected package libexpat1-dev:amd64.
Preparing to unpack .../46-libexpat1-dev_2.2.9-1build1_amd64.deb ...
Unpacking libexpat1-dev:amd64 (2.2.9-1build1) ...
Selecting previously unselected package libpython3.8:amd64.
Preparing to unpack .../47-libpython3.8_3.8.2-1ubuntu1.2_amd64.deb ...
Unpacking libpython3.8:amd64 (3.8.2-1ubuntu1.2) ...
Selecting previously unselected package libpython3.8-dev:amd64.
Preparing to unpack .../48-libpython3.8-dev_3.8.2-1ubuntu1.2_amd64.deb ...
Unpacking libpython3.8-dev:amd64 (3.8.2-1ubuntu1.2) ...
Selecting previously unselected package libpython3-dev:amd64.
Preparing to unpack .../49-libpython3-dev_3.8.2-0ubuntu2_amd64.deb ...
Unpacking libpython3-dev:amd64 (3.8.2-0ubuntu2) ...
Selecting previously unselected package python-pip-whl.
Preparing to unpack .../50-python-pip-whl_20.0.2-5ubuntu1.1_all.deb ...
Unpacking python-pip-whl (20.0.2-5ubuntu1.1) ...
Selecting previously unselected package zlib1g-dev:amd64.
Preparing to unpack .../51-zlib1g-dev_1%3a1.2.11.dfsg-2ubuntu1.1_amd64.deb ...
Unpacking zlib1g-dev:amd64 (1:1.2.11.dfsg-2ubuntu1.1) ...
Selecting previously unselected package python3.8-dev.
Preparing to unpack .../52-python3.8-dev_3.8.2-1ubuntu1.2_amd64.deb ...
Unpacking python3.8-dev (3.8.2-1ubuntu1.2) ...
Selecting previously unselected package python3-lib2to3.
Preparing to unpack .../53-python3-lib2to3_3.8.2-1ubuntu1_all.deb ...
Unpacking python3-lib2to3 (3.8.2-1ubuntu1) ...
Selecting previously unselected package python3-distutils.
Preparing to unpack .../54-python3-distutils_3.8.2-1ubuntu1_all.deb ...
Unpacking python3-distutils (3.8.2-1ubuntu1) ...
Selecting previously unselected package python3-dev.
Preparing to unpack .../55-python3-dev_3.8.2-0ubuntu2_amd64.deb ...
Unpacking python3-dev (3.8.2-0ubuntu2) ...
Selecting previously unselected package python3-setuptools.
Preparing to unpack .../56-python3-setuptools_45.2.0-1_all.deb ...
Unpacking python3-setuptools (45.2.0-1) ...
Selecting previously unselected package python3-wheel.
Preparing to unpack .../57-python3-wheel_0.34.2-1_all.deb ...
Unpacking python3-wheel (0.34.2-1) ...
Selecting previously unselected package python3-pip.
Preparing to unpack .../58-python3-pip_20.0.2-5ubuntu1.1_all.deb ...
Unpacking python3-pip (20.0.2-5ubuntu1.1) ...
Setting up perl-modules-5.30 (5.30.0-9build1) ...
Setting up mime-support (3.64ubuntu1) ...
Setting up libsqlite3-0:amd64 (3.31.1-4ubuntu0.2) ...
Setting up binutils-common:amd64 (2.34-6ubuntu1) ...
Setting up linux-libc-dev:amd64 (5.4.0-48.52) ...
Setting up libctf-nobfd0:amd64 (2.34-6ubuntu1) ...
Setting up libgomp1:amd64 (10-20200411-0ubuntu1) ...
Setting up make (4.2.1-1.2) ...
Setting up libmpfr6:amd64 (4.0.2-1) ...
Setting up xz-utils (5.2.4-1ubuntu1) ...
update-alternatives: using /usr/bin/xz to provide /usr/bin/lzma (lzma) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/lzma.1.gz because associated file /usr/share/man/man1/xz.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/unlzma.1.gz because associated file /usr/share/man/man1/unxz.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzcat.1.gz because associated file /usr/share/man/man1/xzcat.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzmore.1.gz because associated file /usr/share/man/man1/xzmore.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzless.1.gz because associated file /usr/share/man/man1/xzless.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzdiff.1.gz because associated file /usr/share/man/man1/xzdiff.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzcmp.1.gz because associated file /usr/share/man/man1/xzcmp.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzgrep.1.gz because associated file /usr/share/man/man1/xzgrep.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzegrep.1.gz because associated file /usr/share/man/man1/xzegrep.1.gz (of link group lzma) doesn't exist
update-alternatives: warning: skip creation of /usr/share/man/man1/lzfgrep.1.gz because associated file /usr/share/man/man1/xzfgrep.1.gz (of link group lzma) doesn't exist
Setting up libquadmath0:amd64 (10-20200411-0ubuntu1) ...
Setting up libmpc3:amd64 (1.1.0-1) ...
Setting up libatomic1:amd64 (10-20200411-0ubuntu1) ...
Setting up patch (2.7.6-6) ...
Setting up libubsan1:amd64 (10-20200411-0ubuntu1) ...
Setting up libcrypt-dev:amd64 (1:4.4.10-10ubuntu4) ...
Setting up libisl22:amd64 (0.22.1-1) ...
Setting up libmpdec2:amd64 (2.4.2-3) ...
Setting up libbinutils:amd64 (2.34-6ubuntu1) ...
Setting up libc-dev-bin (2.31-0ubuntu9.1) ...
Setting up openssl (1.1.1f-1ubuntu2) ...
Setting up readline-common (8.0-4) ...
Setting up libcc1-0:amd64 (10-20200411-0ubuntu1) ...
Setting up liblsan0:amd64 (10-20200411-0ubuntu1) ...
Setting up libitm1:amd64 (10-20200411-0ubuntu1) ...
Setting up libgdbm6:amd64 (1.18.1-5) ...
Setting up gcc-9-base:amd64 (9.3.0-10ubuntu2) ...
Setting up libtsan0:amd64 (10-20200411-0ubuntu1) ...
Setting up libctf0:amd64 (2.34-6ubuntu1) ...
Setting up libreadline8:amd64 (8.0-4) ...
Setting up ca-certificates (20190110ubuntu1.1) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
Updating certificates in /etc/ssl/certs...
127 added, 0 removed; done.
Setting up libasan5:amd64 (9.3.0-10ubuntu2) ...
Setting up libgdbm-compat4:amd64 (1.18.1-5) ...
Setting up cpp-9 (9.3.0-10ubuntu2) ...
Setting up libperl5.30:amd64 (5.30.0-9build1) ...
Setting up libc6-dev:amd64 (2.31-0ubuntu9.1) ...
Setting up python-pip-whl (20.0.2-5ubuntu1.1) ...
Setting up libpython3.8-stdlib:amd64 (3.8.2-1ubuntu1.2) ...
Setting up python3.8 (3.8.2-1ubuntu1.2) ...
Setting up libpython3-stdlib:amd64 (3.8.2-0ubuntu2) ...
Setting up binutils-x86-64-linux-gnu (2.34-6ubuntu1) ...
Setting up python3 (3.8.2-0ubuntu2) ...
running python rtupdate hooks for python3.8...
running python post-rtupdate hooks for python3.8...
Setting up binutils (2.34-6ubuntu1) ...
Setting up python3-wheel (0.34.2-1) ...
Setting up libgcc-9-dev:amd64 (9.3.0-10ubuntu2) ...
Setting up perl (5.30.0-9build1) ...
Setting up libexpat1-dev:amd64 (2.2.9-1build1) ...
Setting up libpython3.8:amd64 (3.8.2-1ubuntu1.2) ...
Setting up libdpkg-perl (1.19.7ubuntu3) ...
Setting up zlib1g-dev:amd64 (1:1.2.11.dfsg-2ubuntu1.1) ...
Setting up cpp (4:9.3.0-1ubuntu2) ...
Setting up python3-lib2to3 (3.8.2-1ubuntu1) ...
Setting up python3-pkg-resources (45.2.0-1) ...
Setting up python3-distutils (3.8.2-1ubuntu1) ...
Setting up gcc-9 (9.3.0-10ubuntu2) ...
Setting up python3-setuptools (45.2.0-1) ...
Setting up libstdc++-9-dev:amd64 (9.3.0-10ubuntu2) ...
Setting up gcc (4:9.3.0-1ubuntu2) ...
Setting up dpkg-dev (1.19.7ubuntu3) ...
Setting up libpython3.8-dev:amd64 (3.8.2-1ubuntu1.2) ...
Setting up python3-pip (20.0.2-5ubuntu1.1) ...
Setting up g++-9 (9.3.0-10ubuntu2) ...
Setting up python3.8-dev (3.8.2-1ubuntu1.2) ...
Setting up g++ (4:9.3.0-1ubuntu2) ...
update-alternatives: using /usr/bin/g++ to provide /usr/bin/c++ (c++) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/c++.1.gz because associated file /usr/share/man/man1/g++.1.gz (of link group c++) doesn't exist
Setting up build-essential (12.8ubuntu1) ...
Setting up libpython3-dev:amd64 (3.8.2-0ubuntu2) ...
Setting up python3-dev (3.8.2-0ubuntu2) ...
Processing triggers for libc-bin (2.31-0ubuntu9) ...
Processing triggers for ca-certificates (20190110ubuntu1.1) ...
Updating certificates in /etc/ssl/certs...
0 added, 0 removed; done.
Running hooks in /etc/ca-certificates/update.d...
done.
Removing intermediate container bb14f26366bb
 ---> 1af812216278
Step 3/3 : RUN pip3 install --upgrade pip &&     pip3 install numpy pybullet
 ---> Running in cd407ea94070
Collecting pip
  Downloading pip-20.2.3-py2.py3-none-any.whl (1.5 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 20.0.2
    Not uninstalling pip at /usr/lib/python3/dist-packages, outside environment /usr
    Can't uninstall 'pip'. No files were found to uninstall.
Successfully installed pip-20.2.3
Collecting numpy
  Downloading numpy-1.19.2-cp38-cp38-manylinux2010_x86_64.whl (14.5 MB)
Collecting pybullet
  Downloading pybullet-3.0.4-cp38-cp38-manylinux1_x86_64.whl (102.2 MB)
Installing collected packages: numpy, pybullet
Successfully installed numpy-1.19.2 pybullet-3.0.4
Removing intermediate container cd407ea94070
 ---> ed99c0304995
Successfully built ed99c0304995
Successfully tagged pbdebug:latest
 </pre></details>

",tried change behavior added code also reproduce sticking behaviour python docker relevant version summary docker build log sending build context docker daemon step step run update yes install yes running get focal get get get get get get get get get get get get get get get get fetched reading package reading package building dependency tree reading state information following additional base dev dev make patch python python doc flex bison git doc file following new base dev dev make patch python python following newly remove need get operation additional disk space used get get get get get get get get get get get get get get python get get python get get get get get get get get get get get get get get get get get get get get base get get get get get get get get get get get get get get get dev get get get dev get get get make get get patch get get get get get get get get get get get get get get get delaying package configuration since fetched reading currently unpack unable initialize term set usable falling back unable initialize ca locate may need install term module line falling back teletype setting unable initialize term set usable falling back unable initialize ca locate may need install term module line falling back teletype previously unselected package reading currently unpack previously unselected package unpack previously unselected package unpack unpack setting previously unselected package reading currently unpack setting unable initialize term set usable falling back unable initialize ca locate may need install term module line falling back teletype setting setting setting previously unselected package reading currently unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package python unpack python previously unselected package unpack setting previously unselected package python reading currently unpack python previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package base unpack base previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package dev unpack dev previously unselected package unpack previously unselected package unpack previously unselected package dev unpack dev previously unselected package unpack previously unselected package unpack previously unselected package make unpack make previously unselected package unpack previously unselected package patch unpack patch previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack previously unselected package unpack setting setting setting setting setting setting setting setting make setting setting provide auto mode warning skip creation associated file link group exist warning skip creation associated file link group exist warning skip creation associated file link group exist warning skip creation associated file link group exist warning skip creation associated file link group exist warning skip creation associated file link group exist warning skip creation associated file link group exist warning skip creation associated file link group exist warning skip creation associated file link group exist warning skip creation associated file link group exist setting setting setting setting patch setting setting setting setting setting setting setting setting setting setting setting setting setting base setting setting setting setting unable initialize term set usable falling back added removed done setting setting setting setting setting setting setting setting python setting setting setting python running python python running python python setting setting setting dev setting setting setting setting setting setting setting setting setting setting setting setting dev setting setting setting setting setting setting setting provide auto mode warning skip creation associated file link group exist setting setting setting added removed done running done removing intermediate container step run pip install upgrade pip pip install running pip collected pip pip found installation pip pip outside environment ca found successfully collected successfully removing intermediate container successfully built successfully tagged latest,issue,positive,negative,negative,negative,negative,negative
703914717,"At low velocity, the restitution is expected to be zero. That is not 'sticky' but it will not bounce away.
This is due to a threshold to make resting objects a bit more stable. To disable this, use:
~~~~~~~~~~~~~~
pybullet.setPhysicsEngineParameter(restitutionVelocityThreshold=0)
~~~~~~~~~~~~~~

It is not clear why docker behaves different. It could be the compiler.
What is the gcc (or clang) version installed on Mac and Ubuntu?",low velocity restitution zero bounce away due threshold make resting bit stable disable use clear docker different could compiler clang version mac,issue,negative,negative,neutral,neutral,negative,negative
703868395,"It is probably an error in the cmake and visual studio 2019 installation, it works fine here with cmake-3.18.
~~~~~~~
mkdir build
cd build
cmake ..
~~~~~~~",probably error visual studio installation work fine build build,issue,negative,positive,positive,positive,positive,positive
703743992,"The environment needs to be setup for determinism, using saveState/restoreState and also
~~~~~~~~~~~~~~~
 p.setPhysicsEngineParameter(deterministicOverlappingPairs=1)
~~~~~~~~~~~~~~~

See this working example:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/unittests/saveRestoreStateTest.py

For different instances, you will have to saveState to disk instead of memory.",environment need setup determinism also see working example different disk instead memory,issue,negative,neutral,neutral,neutral,neutral,neutral
703583404,"Bump

I'm trying to save grasping demonstration trajectories with saveState and inputs but can't replay them exactly. I'm using `p.setPhysicsEngineParameter(deterministicOverlappingPairs=1)`. Do I need to save the poses of the objects myself? Because I'm assuming restoreState does that for me.

EDIT: I realized I needed to move all parameter-setting code *after* p.resetSimulation(), and that seemed to solve my problem.",bump trying save grasping demonstration ca replay exactly need save assuming edit move code solve problem,issue,positive,positive,positive,positive,positive,positive
703552332,"Hi @Steven89Liu,

Sorry for the late response. I have been been quite busy and forgot to answer. Anyway, you could simply change 
`p.setJointMotorControl2(hinge,hingeJointIndex,p.TORQUE_CONTROL,force=10)`
to 
`p.setJointMotorControl2(hinge,hingeJointIndex,p.POSITION_CONTROL, targetPosition=2, targetVelocity=0, force=10)`
and check for reasonable results.",hi sorry late response quite busy forgot answer anyway could simply change hinge hinge check reasonable,issue,negative,negative,neutral,neutral,negative,negative
703439608,"The function `foundSepAxis = btPolyhedralContactClipping::findSeparatingAxis` is really good for what I've to do, though it uses `btConvexPolyhedron` and not regular shapes.

I'm interested to know why such chose. It's much optimal the curren algorithm compared to the (eventual one) that uses primitive shapes?

I'm asking because this function forces me to also maintain a list of polyhedron, which is not so nice.",function really good though regular interested know chose much optimal algorithm eventual one primitive function also maintain list polyhedron nice,issue,positive,positive,positive,positive,positive,positive
700613814,Would something like [this](https://github.com/facebookresearch/ScaDiver/blob/master/bullet/bullet_client.py) from a recent Facebook paper work ?,would something like recent paper work,issue,negative,neutral,neutral,neutral,neutral,neutral
700477938,"I knew about that. There are also some information here: ```examples/pybullet/gym/pybullet_envs/__init__.py```. But I was looking for something more in detail, like [this](https://github.com/openai/gym/blob/master/gym/envs/classic_control/cartpole.py#L28) for CartPole from OpenAI gym.",knew also information looking something detail like gym,issue,negative,neutral,neutral,neutral,neutral,neutral
700393333,"Please use the Bullet forums for chat and discussion, not the tracker. https://pybullet.org/Bullet/phpBB3/
No idea what an 'ybc_model' is, but I would recommend looking at the plenty of examples that work fine, in Bullet/data and Bullet/examples/pybullet/examples for example.",please use bullet chat discussion tracker idea would recommend looking plenty work fine example,issue,positive,positive,positive,positive,positive,positive
700347906,"i think you should can get these values from the each env definition from the bullet3/examples/pybullet/gym/pybullet_envs/, but i also didn't find any more detail description.
hope this can help you.",think get definition also find detail description hope help,issue,positive,neutral,neutral,neutral,neutral,neutral
699604783,"Are you interested in being a maintainer of the conda-forge package as well? There is a bot which checks GitHub or pypi releases and triggers automatic updates, so most of the time it's just about pressing a green merge button.",interested maintainer package well bot automatic time pressing green merge button,issue,positive,positive,neutral,neutral,positive,positive
699537850,"You need to enable demos, -DBUILD_BULLET2_DEMOS:BOOL=ON -DBUILD_OPENGL3_DEMOS:BOOL=ON
I only every use static libraries, and also Visual Studio on Windows, so I can't verify.",need enable demo every use static also visual studio ca verify,issue,negative,positive,positive,positive,positive,positive
699537681,Can you let me know if/when the conda release is updated to latest 3.05 release? Please check if pybullet works.,let know release latest release please check work,issue,negative,positive,positive,positive,positive,positive
699507948,"The file I edited was [this one](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/deep_mimic/gym_env/deep_mimic_env.py). I think it could be re-used as-is, pretty much",file one think could pretty much,issue,negative,positive,positive,positive,positive,positive
699060345,"For a floating base, the base will add 6 degrees of freedom (3 linear and 3 angular) so the total is 4+6=10 dofs,
hence the jacobian becomes 3x10",floating base base add freedom linear angular total hence becomes,issue,positive,negative,negative,negative,negative,negative
698993238,I can give it a shot when I have time but have honestly no idea about how to do it. Do you have any pointers?,give shot time honestly idea,issue,negative,positive,positive,positive,positive,positive
698988049,Interesting! Would you be interested in making a Gym wrapper for this? I contributed the Gym interface for the base single-clip env a few months back,interesting would interested making gym wrapper gym interface base back,issue,positive,negative,neutral,neutral,negative,negative
698873599,"I sorted out the limping problem by removing one of the motion policies (I guess having 3 ""turn right"" and 2 ""turn left"" created some sort of imbalance), now it uses 5 motion files as described in the paper.",sorted limping problem removing one motion guess turn right turn left sort imbalance motion paper,issue,negative,positive,positive,positive,positive,positive
698478223,"OK, point taken. I tagged the Bullet C++ release today as 3.05
https://github.com/bulletphysics/bullet3/releases/tag/3.05
And will more regularly keep the git tags in sync with PyBullet, so that conda doesn't go out-of-date that much.
Still, using pip3 install pybullet --user --upgrade is the easy/recommended way.",point taken tagged bullet release today regularly keep git sync go much still pip install user upgrade way,issue,negative,positive,neutral,neutral,positive,positive
698294019,"*note: @erwincoumans please correct me if I'm wrong*

It looks to me like pypi's archive for `pybullet` definitely includes the C++ source (according to [the manifest](https://github.com/bulletphysics/bullet3/blob/master/MANIFEST.in), it includes most of `src`, `examples` and `Extras` directories from github). The source code gets compiled on the user's machine during `setup.py`.

Regarding the question of C++ not changing at all: doesn't seem to be the case. There are clearly changes to the C++ code that are being shipped regularly to `pybullet` installs. So I would argue that the pybullet version number should actually also be the bullet c++ version number, because the c++ code shipped is not a match. Ie: `pybullet 3.0.4` is definitely not the same as `bullet 2.98 + python bindings 3.0.4`.

Considering how tightly coupled both these are, I don't quite understand the split version evolution.",note please correct wrong like archive definitely source according manifest source code user machine regarding question seem case clearly code shipped regularly would argue version number actually also bullet version number code shipped match ie definitely bullet python considering tightly coupled quite understand split version evolution,issue,positive,negative,neutral,neutral,negative,negative
698208471,"But does the pypi archive also ship the source for bullet? Or is the bullet C++ side not changing at all, only the Python bindings?",archive also ship source bullet bullet side python,issue,negative,neutral,neutral,neutral,neutral,neutral
698128915,"I'll mark a new github release this week.
Note that the pypi archive contains all files to compile the PyBullet Python plugin.",mark new release week note archive compile python,issue,negative,positive,positive,positive,positive,positive
698127863,"we would need the library AND the Python bindings, so we're sticking to the github archive which is older as the pypi archive does not provide the library",would need library python sticking archive older archive provide library,issue,negative,positive,positive,positive,positive,positive
698108881,"delta time is in seconds, you can also use 1/frequency instead (100Hz == 0.01sec)
maxSolverIterations is a constraint solver setting, and it is best left default (50 iterations). Increase the maxSolverIterations if you need higher accuracy, for example if your simulation has large mass ratios.
In the PyBullet we assume that the simulation delta time is fixed at initialization, and not related to a real wall-clock. For most cases, you just use 'stepSimulation' to process the fixed time step forward in time. 

Only if you use 'setRealTimeSimulation(true) the simulation is synchronized with the wall-clock (real-time-factor == 1), so a human can enjoy watching the simulation in real-time.",delta time also use instead constraint solver setting best left default increase need higher accuracy example simulation large mass assume simulation delta time fixed related real use process fixed time step forward time use true simulation synchronized human enjoy watching simulation,issue,positive,positive,positive,positive,positive,positive
698089047,"All those values are from the original deep mimic repository, so that policies created with deep mimic are compatible.",original deep mimic repository deep mimic compatible,issue,negative,positive,positive,positive,positive,positive
698076230,"I meant writing your own c-extension for Python:
https://docs.python.org/3/extending/extending.html
Or use pybind11 for your own code, not related to PyBullet.
",meant writing python use code related,issue,negative,neutral,neutral,neutral,neutral,neutral
698074901,The documentation suggests only C/C++ plugins are supported. Is there a way to understand how python plugins would work?,documentation way understand python would work,issue,negative,neutral,neutral,neutral,neutral,neutral
698074852,"Github releases are primarily about the C++ SDK.
Pypi are the main pybullet releases. Note that the PyBullet version is not the same as the C++ Bullet SDK version, they are different things.",primarily main note version bullet version different,issue,negative,positive,neutral,neutral,positive,positive
698074522,"You would have to select at the Python level what control (position, velocity, torque).",would select python level control position velocity torque,issue,negative,neutral,neutral,neutral,neutral,neutral
698074314,thanks for the quick response @erikogenvik.. the same logic would work for MacOS and Windows but clarifying to check if there are any constraints for compatibility for certain MacOS and Windows releases? ,thanks quick response logic would work check compatibility certain,issue,positive,positive,positive,positive,positive,positive
698074309,"You could, but it is probably easier to write your own Python program from scratch, without using PyBullet code.",could probably easier write python program scratch without code,issue,negative,neutral,neutral,neutral,neutral,neutral
698074089,"You can just not call stepSimulation, but the main point of PyBullet is stepSimulation, so it is not clear why you would want to use PyBullet at all if not for the simulation.",call main point clear would want use simulation,issue,negative,positive,positive,positive,positive,positive
698073809,This topic is unrelated to 'real-time factor'. Closing out-of-date issue.,topic unrelated factor issue,issue,negative,neutral,neutral,neutral,neutral,neutral
698070052,"PyBullet should work on all Ubuntu versions, as well as Mac OSX and Windows. It is plain C++ code, nothing fancy.",work well mac plain code nothing fancy,issue,negative,negative,negative,negative,negative,negative
698041981,@erwincoumans  I see that you are mentioning delta time in Hz. Does that mean that the real-time-factor(RTF) for pybullet simulations is always(or by default) = 1. Or is the update rate(and hence the RTF) configurable via maxSolverIterations parameter? ,see delta time mean always default update rate hence via parameter,issue,negative,negative,negative,negative,negative,negative
697797018,"gazebo plugins/sensors are not processed. You should be able to implement all sensors using the available data/APIs in Python using PyBullet. For example, a radar sensor can be implemented using ray tests. IMU using getBasePositionAndOrientation and getBaseVelocity in addition with some noise model.",gazebo able implement available python example radar sensor ray imu addition noise model,issue,negative,positive,positive,positive,positive,positive
697506337,I figured the meaning of the proportional and derivative term for the PD controller. Could you tell me how you obtained those values?,figured meaning proportional derivative term controller could tell,issue,negative,neutral,neutral,neutral,neutral,neutral
696998431,"Quick note- if this looks ok, I can also migrate existing examples to `HeadlessInterfaceHelper` and remove `DummyGUIHelper`",quick also migrate remove,issue,negative,positive,positive,positive,positive,positive
696817040,"Based on @ahundt's command, this one-liner will open the GUI and not exit immediately:

    python3 -c ""import pybullet as p; p.connect(p.GUI); input()""

...but it's still does not look very useful, the only thing you can do is to load a URDF from the GUI, but nothing will happen. To visualize `r2d2.urdf`, you can run (from the `data` directory of the repo):

    python3 -c ""import pybullet as p; p.connect(p.GUI); p.loadURDF(\""r2d2.urdf\""); input() """,based command open exit immediately python import input still look useful thing load nothing happen visualize run data directory python import input,issue,negative,positive,positive,positive,positive,positive
696760666,also @erwincoumans is there a fundamental reason for not tagging releases on github? it seems quite strange to me to have a different version on pypi that is not tagged on github.,also fundamental reason quite strange different version tagged,issue,negative,negative,neutral,neutral,negative,negative
696756892,"@gonzalocasas unfortunately that also means that your current fix is broken :) since it doesn't ship the shared libraries, or header files, anymore. I'll try to take care of this since this package is very important for my robotics work.",unfortunately also current fix broken since ship header try take care since package important work,issue,negative,negative,negative,negative,negative,negative
696752342,"Actually, conda is much more than just a ""Python"" library manager, as it also ships compiled `.so` libraries. It's more like `apt`, `dnf` or `yum` in that sense that it's a binary package manager for any programming language (including C++, Python...).",actually much python library manager also like apt sense binary package manager language python,issue,negative,positive,positive,positive,positive,positive
696653327,"I pushed a PR to update the conda-forge package, hopefully @xantares agrees with it and we can have a shiny up-to-date bullet/pybullet package available!
https://github.com/conda-forge/bullet-feedstock/pull/9",update package hopefully shiny package available,issue,negative,positive,positive,positive,positive,positive
696561690,"Thanks Erwin, this works great! really appreciate the help!",thanks work great really appreciate help,issue,positive,positive,positive,positive,positive,positive
696459036,"It would be great to have an updated pybullet in conda-forge. The regular C++ Bullet SDK is almost a year out-of-date, and pypi/pip releases are almost weekly. In the meanwhile, let's mark a new C++ release as well, if that triggers an update for now.",would great regular bullet almost year almost weekly meanwhile let mark new release well update,issue,positive,positive,positive,positive,positive,positive
696421391,"> I recommend using pip install pybullet, that is most up-to-date, aside from git clone and python setup.py install --user.

yes, the recommendation is clear, but neglecting the conda ecosystem which is widely use in scientific computing, feels like a lost opportunity. It is not difficult to keep a conda-forge recipe constantly up-to-date to the latest `pypi` releases. If @xantares agrees, I can definitely help with that maintenance task.  ",recommend pip install aside git clone python install user yes recommendation clear ecosystem widely use scientific like lost opportunity difficult keep recipe constantly latest definitely help maintenance task,issue,positive,neutral,neutral,neutral,neutral,neutral
696415358,"Can't reproduce, and haven't heard a similar issue before. Perhaps a broken graphics driver? Closing for now.",ca reproduce similar issue perhaps broken graphic driver,issue,negative,negative,negative,negative,negative,negative
696414330,"Friction anchors keep track of (and counter-act) numerical drift in static friction.
Yes, they are also applicable in dynamic sitations, we use them for our locomotion research as well.",friction keep track numerical drift static friction yes also applicable dynamic use locomotion research well,issue,positive,positive,positive,positive,positive,positive
696413520,"Closing for now. If you can share a small pybullet reproduction case, we can re-open.",share small reproduction case,issue,negative,negative,negative,negative,negative,negative
696411579,"I recommend using pip install pybullet, that is most up-to-date, aside from git clone and python setup.py install --user.",recommend pip install aside git clone python install user,issue,negative,neutral,neutral,neutral,neutral,neutral
696408618,"> but I suppose they need to call the package pybullet?

Not necessarily.

> Who is the maintainer of conda bullet?

According to the recipe, it is @xantares 

> What about this package? https://anaconda.org/hcc/pybullet

Packages outside conda/conda-forge are not the same level of support. That one in particular seems pretty unmaintained, last released 1+ year ago. That's why forge is so good, it's tied to pypi/github released to auto trigger.",suppose need call package necessarily maintainer bullet according recipe package outside level support one particular pretty unmaintained last year ago forge good tied auto trigger,issue,positive,positive,positive,positive,positive,positive
696376014,"I'm unfamiliar with conda, but I suppose they need to call the package pybullet? I upload the latest pybullet version manually to pypi regularly.

Who is the maintainer of conda bullet?
What about this package? https://anaconda.org/hcc/pybullet",unfamiliar suppose need call package latest version manually regularly maintainer bullet package,issue,negative,positive,positive,positive,positive,positive
695841534,"With many vertices, the pure software renderer, TinyRenderer, is very slow for a large heightfield (like 1 second per frame).
I'll create a PR soon.",many vertex pure renderer slow large like second per frame create soon,issue,positive,positive,positive,positive,positive,positive
695217004,"Thanks Andrea,

>> Due to precision loss, sometimes these AABB fails, 

Could you please provide a small reproduction case that shows the failure? (modify a Bullet example)

Will comment on the rest after that.

",thanks due precision loss sometimes could please provide small reproduction case failure modify bullet example comment rest,issue,negative,negative,negative,negative,negative,negative
695132936,"Thanks, I made various changes to allow textured rendering of deformables in EGL/Tiny and regular OpenGL3 viewport.
Will look into the PR.",thanks made various allow rendering regular look,issue,positive,positive,neutral,neutral,positive,positive
695132610,"Thanks for the contribution. I need to check and deal with some (broken) unit tests, since the behaviour changes.",thanks contribution need check deal broken unit since behaviour,issue,negative,negative,neutral,neutral,negative,negative
695090158,"Yes,  I have fixed joints in URDF, however, those are not listed in the figure. Would that matter?

while I inquire the jointID, I basically search the name to look up each joint id. I also printed the id, and I don't think I skipped the id due to the fixed joint. 

I didn't enable force-torque sensor for any joint. Also I treat the left and right equally.

",yes fixed however listed figure would matter inquire basically search name look joint id also printed id think id due fixed joint enable sensor joint also treat left right equally,issue,positive,positive,neutral,neutral,positive,positive
695051027,"We need a small reproduction case. Did your model have fixed joints in the URDF? Did you skip those? Also, did you enable force-torque sensor for the right joints (skipping the fixed joints)?",need small reproduction case model fixed skip also enable sensor right skipping fixed,issue,negative,positive,neutral,neutral,positive,positive
694805525,"Hi Erwin,

The ability to update heightfields would be handy for me as currently I'm resetting and reloading which is quite slow.

Would you be able to point me in the right direction for code re-use? I'm not sure my c++ is up to scratch but I'd like to take a look.
",hi ability update would handy currently quite slow would able point right direction code sure scratch like take look,issue,positive,positive,positive,positive,positive,positive
694328702,"The default delta time in PyBullet is 1./240.
You can set the delta time using pybullet.setTimeStep(dt), best to keep the dt small, such as in the range of 240 to 2000 Hz
",default delta time set delta time best keep small range,issue,positive,positive,positive,positive,positive,positive
693590518,"@erwincoumans
Thank a lots!! Now it passes all checks 👍
If everything is OK, can you please accept my changes in the code?",thank lot everything please accept code,issue,positive,neutral,neutral,neutral,neutral,neutral
693582970,"I recently implemented textured rendering of deformables, so it should be probably only a few lines to re-use the same code-path for heightfields. That way, you can also animate the heightfield. 
See https://www.youtube.com/watch?v=_EOvLbEEZHk
and https://www.youtube.com/watch?v=o4JMoVMu3sI
enably by setting 'update' to True here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/heightfield.py
",recently rendering probably way also animate see setting true,issue,negative,positive,positive,positive,positive,positive
693568986,"Update, managed to work around this problem by creating temporary .obj files with meshio and a temporary urdf file, then loading with p.loadURDF(). This is similar to the possibly related issue #2777, if anybody has the same problem here's a [gist](https://gist.github.com/ac-93/fdc8fb48dac312dae0bd70da6b66a356) for the workaround.

This should be good enough for my use case, happy to close if there's no better solutions being worked on.",update work around problem temporary temporary file loading similar possibly related issue anybody problem gist good enough use case happy close better worked,issue,positive,positive,positive,positive,positive,positive
693487397,"Yes, there is, but someone needs to spend a little bit of time to clean it up to make it more general. I don't have the cycles for it. I mainly create the project to prepare getting some understanding for my intern Jason Peng last year, which resulted in this project https://xbpeng.github.io/projects/Robotic_Imitation/index.html it has another github repo in the link.",yes someone need spend little bit time clean make general mainly create project prepare getting understanding intern last year project another link,issue,positive,positive,neutral,neutral,positive,positive
693485334,"> A quick update for `xacro`.
> 
> Now the `xacro` has 2.0 version, so the `xacro_standalone.py` mentioned doesn't work anymore. However, we could download the new version of `xacro` here:
> https://github.com/ros-gbp/xacro-release/releases
> 
> and use a `pip install`, and we can use this Python package to produce `urdf` file.
> 
> So we can easily write a small Python tool (basically just modify the `main()` function in xacro package code), converting `xacro` to `urdf` first and calling `p.loadURDF` to get things done.
> 
> > Also note that URDF files online are often obfuscated in the .xacro format, so you need to install ROS (take a vacation for that) or use a rudimentary [xacro_converter.py](https://github.com/bulletphysics/bullet3/blob/master/data/xacro_standalone.py), or do it by hand.
> > Best bet is just to be patient, become familiar with one (or more) of the file formats and deal with it. Understanding the underlying data format is useful in the long run. Welcome to robotics land!

Hi liusida,
I am not quite familiar with xacro, and what you said does not make sense to me. May I ask is it convenient to provide a simple example? Thank you in advance. 
",quick update version work however could new version use pip install use python package produce file easily write small python tool basically modify main function package code converting first calling get done also note often format need install take vacation use rudimentary hand best bet patient become familiar one file deal understanding underlying data format useful long run welcome land hi quite familiar said make sense may ask convenient provide simple example thank advance,issue,positive,positive,positive,positive,positive,positive
693474362,"Thanks, I hoped there was a formula to calculate them for bodies with a different number of joints and links",thanks hoped formula calculate different number link,issue,positive,positive,neutral,neutral,positive,positive
693471458,"It was a quick port a year ago, don't recall the details.  I think DeepMimic also stacks various state variables together and the state is the same size, since we can reuse the same policies.",quick port year ago recall think also various state together state size since reuse,issue,negative,positive,positive,positive,positive,positive
693469711,It is best to discuss this on the Bullet forums or elsewhere (stackoverflow).,best discus bullet elsewhere,issue,positive,positive,positive,positive,positive,positive
693469465,"This would be a lot of work, and part of this would be looking at the existing deformable examples etc.
It is best to discuss this on the Bullet forums or elsewhere (stackoverflow).",would lot work part would looking deformable best discus bullet elsewhere,issue,positive,positive,positive,positive,positive,positive
693445995,@ChristianBecker90 Using constraints in Pybullet it's possible to create closed loop URDF robots. Check this [project](https://github.com/Einsbon/delta-robot-pybullet/tree/master/tripedal-delta-robot) if you want to see an implementation.,possible create closed loop check project want see implementation,issue,negative,negative,neutral,neutral,negative,negative
693316513,"I found the problem origin, it comes from the spawning of my objects as they have a small movement when they are being spawned before reaching an immobile surface.",found problem origin come spawning small movement reaching immobile surface,issue,negative,negative,negative,negative,negative,negative
693304961,I request someone to anwser my query. Thanks,request someone query thanks,issue,negative,positive,positive,positive,positive,positive
692943863,"@erwincoumans
I have no idea why my fixes for the MCST lcc compiler break the build on OSX with clang C++ since in all other cases the Bullet compiles without errors.",idea compiler break build clang since bullet without,issue,negative,neutral,neutral,neutral,neutral,neutral
692736010,"BTW, if in the above example code set `const int x = INT_MAX` instead of `int x = INT_MAX` , compiler (gcc 8.3) will detect the overflow and warn.",example code set instead compiler detect overflow warn,issue,negative,neutral,neutral,neutral,neutral,neutral
692532088,"Thank you very much!
The friction anchor worked and kept the cube in its place. Could you explain shortly what these anchors do? Are they also applicable in dynamic situations? I haven't found any information online.",thank much friction anchor worked kept cube place could explain shortly also applicable dynamic found information,issue,positive,positive,neutral,neutral,positive,positive
691741682,"Hello @erwincoumans ,
Could you please have a look at this? With this fix the test script provided in issue #2782 no longer fails for me.
The modified testrender_egl.py was also running correctly for me.

Tests will fail because the master version of`tinyRendererPlugin/TinyRendererVisualShapeConverter.cpp` was modified.
I can rebase once they are fixed.
",hello could please look fix test script provided issue longer also running correctly fail master version rebase fixed,issue,negative,negative,negative,negative,negative,negative
691703038,"Thanks for the report. There is no activate development on those envs (lack of resources). If you care, you can create a small pull request.",thanks report activate development lack care create small pull request,issue,positive,negative,neutral,neutral,negative,negative
691472739,"Thank you so much. This is highly appreciated. If I can do anything to help or test, let me know. My c++ skills are limited (can read it a bit, but not proficient coder). But I'm good with python. Will this allow one to get the nodeID of a softbody?",thank much highly anything help test let know limited read bit proficient coder good python allow one get,issue,positive,positive,positive,positive,positive,positive
691352303,"I just spend a few days improving the deformables/soft body, and also allowed to get the mesh data of the simulation mesh.
![image](https://user-images.githubusercontent.com/725468/92980485-52607880-f44b-11ea-8b10-8561d8435dfd.png)
Will report when the example/pull request is there.",spend day improving body also get mesh data simulation mesh image report request,issue,negative,neutral,neutral,neutral,neutral,neutral
691324278,"Thanks for the PR.

I have a much larger CL upcoming that allow rendering of deformables with textures, in TinyRenderer, EGL and regular debug visualizer. I applied your patch in there, so we can close this one.",thanks much upcoming allow rendering regular visualizer applied patch close one,issue,positive,positive,positive,positive,positive,positive
691244928,"It must be some test file someone left over in the 'experiments' example.
Delete the 0_Bullet3Demo.txt file to start from the initial example. Also comment-out
~~~~~~~~~~~~~~~~
//m_robotSim.loadDeformableBody(""flat_napkin.obj"", args);
~~~~~~~~~~~~~~~~
in the Bullet/examples/RoboticsLearning/GripperGraspExample.cpp

Thanks for the report, will fix it.
",must test file someone left example delete file start initial example also thanks report fix,issue,negative,positive,neutral,neutral,positive,positive
691234793,I went through examples one by one until one of them crashed. Now ExampleBrowser always crashing on the start probably because it saves the current example and it is most likely broken,went one one one always start probably current example likely broken,issue,negative,negative,negative,negative,negative,negative
691230841,"It shouldn't 'crash' though. If you have a small reproduction case, please share.",though small reproduction case please share,issue,positive,negative,negative,negative,negative,negative
691147246,"There is some small drift that accumulates over time.  Not clear why there is a bias for one of the axis. It could be imprecise collision detection normal or numerical precision/approximation in the constraint solver.

There are a few options to deal with it:

0) enable friction anchors, that explicitly deal with this frictional drift in contact
~~~~~~~~~~~~
pybullet.changeDynamics(objectUniqueId, linkIndex, frictionAnchor=1)
~~~~~~~~~~~~
1) enable sleeping/deactivation
~~~~~~~~~~~~
pybullet.loadURDF(fileName, flags=pybullet.URDF_ENABLE_SLEEPING)
~~~~~~~~~~~~
2) increase the number of solver iterations, this will reduce drift but not fully eliminate it (default iterations = 50).
For example:
~~~~~~~~~~~~
pybullet.setPhysicsEngineParameter(numSolverIterations=250)
~~~~~~~~~~~~
3) descrease the simulation time step (from 1./240. to 1./1000.)
~~~~~~~~~~~~
pybullet.setTimeStep(1./1000.)
~~~~~~~~~~~~
4) use a different constraint solver
~~~~~~~~~~~~
p.setPhysicsEngineParameter(constraintSolverType=p.CONSTRAINT_SOLVER_LCP_DANTZIG,
                            globalCFM=0.000001)
~~~~~~~~~~~~

I would recommend start with friction anchors and/or sleeping.

If you can, please share a link to your term paper and let us know if any of above helps.",small drift time clear bias one axis could imprecise collision detection normal numerical constraint solver deal enable friction explicitly deal frictional drift contact enable increase number solver reduce drift fully eliminate default example simulation time step use different constraint solver would recommend start friction sleeping please share link term paper let u know,issue,positive,positive,neutral,neutral,positive,positive
691101337,"...wasn´t finished :D

So i did a little research to solve my problem, but i just found some infos about the difference between SDF (kinematic loops are possible) and URDF (kinematic loops are not possible, but with an additional .py file it should run somehow). Know can anybody tell me something about how to solve my challenge?

Thanks for your support,
best regards chris",finished little research solve problem found difference kinematic possible kinematic possible additional file run somehow know anybody tell something solve challenge thanks support best,issue,positive,positive,positive,positive,positive,positive
691098624,"I just read this questions and i also do have some kind of problem with my .sdf file. 
A little bit of my backround, i want to simulate and train a ball-on-plate model which i created via CAD (Fusion360). 
The model has three ball joints on the bottomside of the plate, one in the middle of the plate, one at the right edge of the plate and one at the back edge of the plate. Under both ball joints at the edges is one servomotor to controll the angle of the plate in one direction. 

The export via SDFusion works more or less pretty well. I think the problem are the kinematic chains, which are owed to the structure of the ball-on-plate-model. ",read also kind problem file little bit want simulate train model via cad fusion model three ball plate one middle plate one right edge plate one back edge plate ball one servomotor angle plate one direction export via work le pretty well think problem kinematic structure,issue,positive,positive,positive,positive,positive,positive
690317682,I can use the EGL example provided by https://github.com/mmatl/pyrender. I think there is some other problem.,use example provided think problem,issue,negative,neutral,neutral,neutral,neutral,neutral
690230685,"@buoyancy99

I have only looked at at this briefly, so take these suggestions with a grain of salt, but I would look at the following approaches:
A) Try if you can get OpenGLGuiHelper.cpp to send the updateShape to the EGL GLInstancingRenderer and making sure that GLInstancingRenderer handles this information.
B) Replicate the functionality that is in OpenGLGuiHelper.cpp in PhysicsServerCommandProcessor.cpp and send the updateShape to the EGL GLInstancingRenderer and making sure that GLInstancingRenderer handles this information.
",buoyancy briefly take grain salt would look following try get send making sure information replicate functionality send making sure information,issue,positive,positive,positive,positive,positive,positive
690219181,"Probably:
1. No EGL library (libEGL.so.1, libEGL.so), try `ldconfig -p | grep EGL`
2. No default display eglGetCurrentDisplay()/eglGetDisplay(EGL_DEFAULT_DISPLAY)
(https://github.com/Dav1dde/glad/issues/297)",probably library try default display,issue,negative,neutral,neutral,neutral,neutral,neutral
690011004,Unfortunately I did not make any progress so far,unfortunately make progress far,issue,negative,negative,negative,negative,negative,negative
689833916,"Thanks for sharing, the PGE project looks cool!

For PyBullet, I kept the OpenGL 3 features simpler than PGE (just shadow mapping, single light, a few GLSL shaders), but it takes effort to maintain compatibility with Windows, Linux and Mac OSX and EGL.",thanks project cool kept simpler shadow single light effort maintain compatibility mac,issue,positive,positive,positive,positive,positive,positive
689804739,"Just tried that example, seems like an interesting task. I will play around with it!

I have contributed to some other simulations, but I haven't created any of my own with PyBullet. I fleshed out a simulation for the Stanford Pupper robot to make experimenting with that easier. I didn't use it for sim2real, though - I work on stuff that works IRL directly. It was still handy to debug the RL algorithms, though.

Here is a video if what came of that, in case it interests you: [https://www.youtube.com/watch?v=Zl6Rfb3OQoY](https://www.youtube.com/watch?v=Zl6Rfb3OQoY)

Also, I have used regular C++ bullet for a reinforcement learning environment a while ago: [https://github.com/222464/PGE](https://github.com/222464/PGE). I haven't touched that engine in a while, but perhaps I should revive it. It has modern 3D graphics (screen space reflections / global illumination, deferred shading, parallax occlusion mapping, CSM, surface net voxel terrain, etc.), and bullet does all the physics.",tried example like interesting task play around fleshed simulation robot make easier use though work stuff work directly still handy though video came case also used regular bullet reinforcement learning environment ago touched engine perhaps revive modern graphic screen space global illumination deferred shading parallax occlusion surface net terrain bullet physic,issue,positive,positive,positive,positive,positive,positive
689733011,"By the way, did you check out this MPC example?
https://www.youtube.com/watch?v=KPFJdC8Tcm0
You can try it out, the instructions are in the video description. Latest PyBullet has mipmapping enabled, looks much smoother.

Do you have any simulation work to share?",way check example try video description latest much smoother simulation work share,issue,negative,positive,positive,positive,positive,positive
689714589,"Yes, I just fixed it in 2.9.6.
You may still want to disable wait on v-sync. For example, using nvidia-settings (if you have a NVIDIA GPU), AMD and Intel and other GPUs have similar setting.",yes fixed may still want disable wait example similar setting,issue,negative,positive,neutral,neutral,positive,positive
689708358,"Did you just change something? Since I upgraded and now it works fine again!

So here is what I did today:
- installed via pip (my computer was wiped, so I had to reinstall fresh). The issue occurred here.
- installed from the repository directly to make sure I had the latest. The issue still occurred, but for some reason the version number said 2.9.4?
- upgraded on pip again, now it says 2.9.6, and it works again!

In case you still need it:
1. Manjaro Linux, Vega 64.
5. Once per simulation step",change something since work fine today via pip computer reinstall fresh issue repository directly make sure latest issue still reason version number said pip work case still need per simulation step,issue,positive,positive,positive,positive,positive,positive
689670602,"Thanks for the report. I have never seen the performance impact of this resetDebugVisualizerCamera's.

0) Are you using the latest PyBullet version 2.9.5?

1) What GPU and operating system do you use?

2) Did you try profiling it? In the GUI window, hold 'p' key for 1 second, then use Google Chrome to open the timings.json file. It usually is stored in the /tmp folder on Linux and Mac OSX, or in the current working dir for Windows.

3) A small reproduction case is important too, it could be the assets etc.

4) Recently, the reset camera goes to a 'sync', so it happens in the rendering thread. Can you make sure to disable wait-for-vsync in your driver? I can have a look to avoid this sync, it will likely revert performance to previous.

5) How many times per simulation step do you call resetDebugVisualizerCamera? What is the simulation frequency?",thanks report never seen performance impact latest version operating system use try window hold key second use chrome open file usually folder mac current working small reproduction case important could asset recently reset camera go rendering thread make sure disable driver look avoid sync likely revert performance many time per simulation step call simulation frequency,issue,positive,positive,positive,positive,positive,positive
689039791,"On my current branch, with the modified testrender_egl.py script I get the following output: (see image)

From this it looks like there are a few problems:
1. The ground plane is deleted, it shouldn't be.
2. There should be only one r2d2 at a time
3. Also I'm not sure why its yellow.

![image](https://user-images.githubusercontent.com/1850503/92510115-9feea280-f20b-11ea-9fce-dbfb818d8672.png)
",current branch script get following output see image like ground plane one time also sure yellow image,issue,positive,positive,positive,positive,positive,positive
688136359,"Hi @ma-rv,
Could you help test my patch with your test cases? or provide another test about the POSITION_CONTROL, i test it myself. thanks.
```
diff --git a/src/BulletDynamics/Featherstone/btMultiBody.cpp b/src/BulletDynamics/Featherstone/btMultiBody.cpp
index 9862bd2..367933e 100644
--- a/src/BulletDynamics/Featherstone/btMultiBody.cpp
+++ b/src/BulletDynamics/Featherstone/btMultiBody.cpp
@@ -947,7 +947,10 @@ void btMultiBody::computeAccelerationsArticulatedBodyAlgorithmMultiDof(btScalar
                        //
                        hDof = spatInertia[i + 1] * m_links[i].m_axes[dof];
                        //
-                       Y[m_links[i].m_dofOffset + dof] = m_links[i].m_jointTorque[dof] - m_links[i].m_axes[dof].dot(zeroAccSpatFrc[i + 1]) - spatCoriolisAcc[i].dot(hDof);
+                        btScalar jointTorque = 0;
+                        if (isConstraintPass) jointTorque = 0;
+                        else jointTorque = m_links[i].m_jointTorque[dof];
+                       Y[m_links[i].m_dofOffset + dof] = jointTorque - m_links[i].m_axes[dof].dot(zeroAccSpatFrc[i + 1]) - spatCoriolisAcc[i].dot(hDof);
                }
                for (int dof = 0; dof < m_links[i].m_dofCount; ++dof)
                {
```",hi could help test patch test provide another test test thanks git index void else,issue,positive,positive,positive,positive,positive,positive
687839870,"Did you make any progress on this? I am trying to model a compression spring myself, as a prismatic joint",make progress trying model compression spring prismatic joint,issue,negative,neutral,neutral,neutral,neutral,neutral
687738694,"@colin-r-schultz have a look if this works for you: https://github.com/BlGene/bullet3/tree/egl_remove_fix

(This code still contains debug messages, to help if there are still problems.)",look work code still help still,issue,negative,neutral,neutral,neutral,neutral,neutral
687665015,"Great! This is very helpful

I am also trying to implementing egl render of deformable cloth for pybullet but has made no progress so far. Started an issue [here](https://github.com/bulletphysics/bullet3/issues/2951) yet it seems egl cannot reuse the opengl renderer fix in [this](https://github.com/bulletphysics/bullet3/pull/1555) PR. Do you have any suggestions on how to access the cloth data in egl plugin and draw?",great helpful also trying render deformable cloth made progress far issue yet reuse renderer fix access cloth data draw,issue,positive,positive,positive,positive,positive,positive
687663721,"@buoyancy99 

Here is a slightly improved  version : https://github.com/BlGene/bullet3/tree/egl

This version has the following two changes:
1. you can select the EGL device you want to use by setting the environment variable EGL_RENDER_DEVICE=X. Just start at 0 and iterate up until it tells you ""Invalid render_device choice""
2. It requests an EGL context with OpenGL version  > 3.3, which is needed for the EGL plugin. On the machines I was using so far EGL was nice and gave me up to date OpenGL versions, but this was needed for my Intel HD / Mesa laptop.

If you have some time you could test out if it works for you, in which case I would turn it into a PR.

P.S.  If you want to play around with EGL I find this quite useful for development: https://github.com/BlGene/egl_check",buoyancy slightly version version following two select device want use setting environment variable start iterate invalid choice context version far nice gave date mesa time could test work case would turn want play around find quite useful development,issue,positive,positive,positive,positive,positive,positive
687581766,"@buoyancy99 

More or less yes.

There are some rough edges if a specific GPU needs to be selected on a multi-GPU machine. I'm not sure if specifying `m_renderDevice` from the plugin option string works as intended and I had a different solution parsing the environment variable ""EGL_RENDER_DEVICE"" at some point. But people don't seem to have any issues with this at the moment.",buoyancy le yes rough specific need selected machine sure option string work intended different solution environment variable point people seem moment,issue,positive,positive,neutral,neutral,positive,positive
686702541,"I have observed a similar phenomena with the linear reaction force being exactly double what I expect from hand calculations. This is reproducible with the above single hinge joint moving at constant velocity with no gravity. When gravity is added, the reaction force is `m*g` larger, but not doubled, which supports @Steven89Liu 's hypothesis about the two dynamics passes being the source of doubling from constraints.",similar phenomenon linear reaction force exactly double expect hand reproducible single hinge joint moving constant velocity gravity gravity added reaction force doubled hypothesis two dynamic source doubling,issue,positive,negative,neutral,neutral,negative,negative
686155443,"The Windows build was broken due to this PR:
https://github.com/bulletphysics/bullet3/pull/3012
It is fixed now, please try

pip install pybullet --upgrade",build broken due fixed please try pip install upgrade,issue,negative,negative,negative,negative,negative,negative
685820540,"It is likely a huge amount of work, so I wouldn't expect it:
It all happens in this one file. We enabled Numpy for 1 API in pybullet_rayTestBatch:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c#L6681
So closing it for now, we don't have resources to work on this.
If anyone has time, re-open it or create a new issue.",likely huge amount work would expect one file work anyone time create new issue,issue,positive,positive,positive,positive,positive,positive
685807032,My pybullet projects all involve numpy to some degree and I can imagine that this holds true for many other people as well. So I think it would be great to have support for that if it is not too much work.,involve degree imagine true many people well think would great support much work,issue,positive,positive,positive,positive,positive,positive
685798221,"Indeed, the Python bindings are hand-written and don't expect Numpy for most API calls. Should put that in the user manual. Need to check how much work it is to avoid the crash, or support Numpy.
Thanks for the repro!",indeed python expect put user manual need check much work avoid crash support thanks,issue,negative,positive,positive,positive,positive,positive
685442159,"Thanks for the quick response @erwincoumans! The scenario I've posted seems fixed now. However, it seems like it can also happen when `m_bodyUniqueIdA == m_bodyUniqueIdB`, which your new check doesn't catch. So the result would be points that are swapped with respect to the links_ids. Unfortunately, its more difficult to setup a simple example, that showcases this. But if it helps, I'll do it.",thanks quick response scenario posted fixed however like also happen new check catch result would respect unfortunately difficult setup simple example,issue,positive,positive,neutral,neutral,positive,positive
685338131,"thanks for your reply.
Hi @erwincoumans, 
     i still think we should not add the joint actuator (Q) in the second pass when try to calculate the feedback force caused by the constraint force. what do you think about this? thanks.

      ",thanks reply hi still think add joint actuator second pas try calculate feedback force constraint force think thanks,issue,positive,positive,positive,positive,positive,positive
685247605,"This breaks the Windows build, will add a #ifndef _WIN32
~~~~~~~~~~~~~~~~~
  C:\Users\erwincoumans\AppData\Local\Temp\pip-install-lqh3a01b\pybullet\examples\ThirdPartyLibs\zlib\gzguts.h(23): fatal error C1083: Cannot open include file: 'unistd.h': No such file or directory
    error: command 'C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\\Tools\\MSVC\\14.27.29110\\bin\\HostX86\\x64\\cl.exe' failed with exit status 2
    ----------------------------------------
~~~~~~~~~~~~~~~~~",build add fatal error open include file file directory error command visual exit status,issue,negative,neutral,neutral,neutral,neutral,neutral
685238042,"Here is a nice example:
https://github.com/google-research/motion_imitation/blob/master/mpc_controller/laikago_sim.py#L373

IK is used to compute the swing foot trajectory.
Video (using MPC) here: https://www.youtube.com/watch?v=2Qh9r210z_w

And another one:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_kinematics_husky_kuka.py
Video: https://www.youtube.com/watch?v=qZiR6vNcmCU",nice example used compute swing foot trajectory video another one video,issue,negative,positive,positive,positive,positive,positive
685029966,"@stephengold The collision shape is actually a flat disc/circle (no thickness) with a margin of 1 mm. The coin model you see in the video isn't the rigid body, it's just parented to the rigid body.

The shapes are comparable (except that the diameter of the convex hull is 2 mm larger. But that's included in the calculated inertia). They have the same rounded edge, too. You can open the `.blend` file and check it yourself.",collision shape actually flat thickness margin coin model see video rigid body rigid body comparable except diameter convex hull included calculated inertia rounded edge open file check,issue,negative,positive,neutral,neutral,positive,positive
685015325,"With 1mm margins, a 2-mm btConvexHullShape is actually 4 mm thick, since the margin is external to the hull. For btCylinderShape, the margin is internal to the cylinder. Excessive margin distorts a btCylinderShape, but not in the same way as a hull shape. They're very different shapes, and it's not surprising they behave differently.",actually thick since margin external hull margin internal cylinder excessive margin way hull shape different surprising behave differently,issue,negative,positive,neutral,neutral,positive,positive
685007184,"By the way, you can speed up the urdf loading by temporary disabling rendering:
~~~~~~~~~~~~~~~~~
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING, 0)
r2d2_a = p.loadURDF(""r2d2.urdf"", [1.0, 0.0, 0.0], cubeStartOrientation)
r2d2_b = p.loadURDF(""r2d2.urdf"", [-1.0, 0.0, 0.0], cubeStartOrientation)
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING, 1)

~~~~~~~~~~~~~~~~~",way speed loading temporary rendering,issue,negative,neutral,neutral,neutral,neutral,neutral
684982326,"Thanks for the report, it should be fixed in master
https://github.com/bulletphysics/bullet3/pull/3026
Will be uploaded to pypi/pip soon.",thanks report fixed master soon,issue,negative,positive,positive,positive,positive,positive
684901546,"Just to show the difference a bit more, here is a simulation of coins with and without patch:

[Inertia-Test.zip](https://github.com/bulletphysics/bullet3/files/5156742/Inertia-Test.zip)

- Each coin is 20 mm in diameter, and 2 mm thick.
- The bronze colored coins have a convex hull scape of a flat circle with a margin of 1 mm.
- The blue colored coins have cylinders shapes with an embedded margin of 1 mm.

So both coins have about the same collision shape. The bronze ones have a bit larger radius because i haven't reduced it by the margin, but that doesn't matter.

Without the patch the difference between both collision shapes is huge.",show difference bit simulation without patch coin diameter thick bronze colored convex hull scape flat circle margin blue colored margin collision shape bronze bit radius reduced margin matter without patch difference collision huge,issue,negative,positive,neutral,neutral,positive,positive
684883581,"> This is an optimization, as described in the book 'real-time collision detection' by Christer Ericsson, chapter 5.1.5
> 
> // P is outside (or on) AB if the triple scalar product [N PA PB] <= 0
> Vector n = Cross(b - a, c - a);
> float vc = Dot(n, Cross(a - p, b - p));
> // If P outside AB and within feature region of AB, // return projection of P onto AB
> if (vc <= 0.0f && snom >= 0.0f && sdenom >= 0.0f)
> return a + snom / (snom + sdenom) * ab;

Thank you :D",optimization book collision detection chapter outside triple scalar product pa vector cross float dot cross outside within feature region return projection onto return thank,issue,negative,neutral,neutral,neutral,neutral,neutral
684852743,"This is an optimization, as described in the book 'real-time collision detection' by Christer Ericsson, chapter 5.1.5

--------------

// P is outside (or on) AB if the triple scalar product [N PA PB] <= 0
Vector n = Cross(b - a, c - a);
float vc = Dot(n, Cross(a - p, b - p));
// If P outside AB and within feature region of AB, // return projection of P onto AB
if (vc <= 0.0f && snom >= 0.0f && sdenom >= 0.0f)
        return a + snom / (snom + sdenom) * ab;

--------------",optimization book collision detection chapter outside triple scalar product pa vector cross float dot cross outside within feature region return projection onto return,issue,negative,neutral,neutral,neutral,neutral,neutral
684768765,"Here is a quick comparison with and without the patch:

It seems like the ring dangles a bit more freely. Especially at the beginning of the animation.
[test.zip](https://github.com/bulletphysics/bullet3/files/5155699/test.zip)

@erwincoumans The point of this patch is that the margin is already in the AABB variables, so we remove the additional margin addition in the inertia calculation (as it would effectively add the margin twice then).

@Dadido3 We just upstreamed one of the last patches that would prevent us from using the upstream version of bullet.
This patch is the last one that is still applied to our bundled version.

So when the next bullet release happens, we will probably remove the bullet library we bundle in `/extern`

The first part of this effort is currently under review here:
https://developer.blender.org/D8762
When that is accepted, I will sync `/extern` bullet to upstream so it is in sync until we can unbundle it.",quick comparison without patch like ring bit freely especially beginning animation point patch margin already remove additional margin addition inertia calculation would effectively add margin twice one last would prevent u upstream version bullet patch last one still applied version next bullet release probably remove bullet library bundle first part effort currently review accepted sync bullet upstream sync unbundle,issue,positive,positive,positive,positive,positive,positive
684759403,"@DarkDefender What i meant with the (time)scale issue is that a twice as fast time scale is not twice as fast for some reason. But i haven't looked much into it yet, maybe i did a mistake somewhere else.

Also as a sidenote: (In february) i updated blender to the newest bullet version [here](https://github.com/Dadido3/Blender/commits/bullet3). This improved simulation stability and speed, but i haven't got to make a merge request for that yet. Also it's a rather large change, so idk if it breaks something else.

Edit: The time scale thing was my mistake, it scales correctly in my tests now.",meant time scale issue twice fast time scale twice fast reason much yet maybe mistake somewhere else also sidenote blender bullet version simulation stability speed got make merge request yet also rather large change something else edit time scale thing mistake scale correctly,issue,negative,positive,positive,positive,positive,positive
684720599,"@Dadido3 just a heads up, we are planning to ""solve"" the scale issue by switching bullet to use doubles.
This way we can simulate smaller sized objects (rings, bracelets, etc) without having to resort to scaling tricks.

From our tests in the studio, the results are quite good.",solve scale issue switching bullet use way simulate smaller sized without resort scaling studio quite good,issue,positive,positive,positive,positive,positive,positive
684692324,"For small objects, say a few centimetres it's noticable. The object falls normally, but once it hits the ground the rotational movement looks like it's in slow motion.

And that's one reason people say that you shouldn't create too small rigid body objects in blender for example. A workaround would be to scale the scene up, and use the timescale value to increase simulation speed. But for some reason it doesn't work as expected. If you scale the scene up by factor 10, and increase simulation speed by that same factor. The simulation doesn't look the same for some reason. (Which is another problem that needs to be fixed in blender or bullet)

Now to the collision margin. Let me explain the changes i did:
- In `btPolyhedralConvexAabbCachingShape` when the AABB cache is calculated by `recalcLocalAabb` the margin is added to the bounding box. The thing is, if you query the cached AABB by calling `getAabb`, the margin is added again. So what i did was to remove the margin from the cached AABB.

- The same thing happens in `btConvexInternalAabbCachingShape`, so same fix applies there.

- In `btPolyhedralConvexShape` the method `calculateLocalInertia` will take the AABB (Which already contains the margin), add the margin to it again, and use that AABB to return an (approximated) box inertia. So i removed the margin there too.

- Same thing for the `btConeShape`

So with this change those objects still have their margin added, but only once.",small say object normally ground rotational movement like slow motion one reason people say create small rigid body blender example would scale scene use value increase simulation speed reason work scale scene factor increase simulation speed factor simulation look reason another problem need fixed blender bullet collision margin let explain cache calculated margin added bounding box thing query calling margin added remove margin thing fix method take already margin add margin use return box inertia removed margin thing change still margin added,issue,positive,negative,negative,negative,negative,negative
684639336,"Just to double check:

You want me to see if I can include this in the python API as well in a new pull request?",double check want see include python well new pull request,issue,negative,positive,neutral,neutral,positive,positive
684120766,"Those are setuptools issues, no specific to PyBullet.
I have no idea how or why the naming/location of the pip installer exactly works for various platforms.",specific idea pip installer exactly work various,issue,negative,positive,neutral,neutral,positive,positive
684120636,"The PyBullet version happens to be similar to the Bullet C++ SDK version, it is up-to-date though.",version similar bullet version though,issue,negative,neutral,neutral,neutral,neutral,neutral
684070421,"It may break code bases that rely on existing behavior. If needed, add a new method (getList2()).",may break code base rely behavior add new method,issue,negative,negative,negative,negative,negative,negative
684069502,"The aabb needs to have the collision margin added for collision detection purposes. Typically the margin is supposed to be a very small value, so does it really impact the inertia tensor noticeably?",need collision margin added collision detection typically margin supposed small value really impact inertia tensor noticeably,issue,negative,negative,neutral,neutral,negative,negative
683926093,"Thanks! Let's re-trigger (close/re-open issue). Didn't see the reason for build error yet.
By the way, separately it could also be nice to have PyBullet python bindings available (it is used for reinforcement learning, has URDF robot import and reduced coordinate models).",thanks let issue see reason build error yet way separately could also nice python available used reinforcement learning robot import reduced,issue,negative,positive,positive,positive,positive,positive
683773895,"Not really. I didn't have the time to look further into it and just ended up modifying the reaction torques afterwards so they looked reasonable:

For `p.TORQUE_CONTROL` -> `measured_torque = measured_torque - applied_torque`
For `p.POSITION_CONTROL` -> `measured_torque = measured_torque + joint_torque`

Though its just a workaround to unify the measurements and I still think there is either some miss-understanding from my side or an error in the code..",really time look ended reaction torque afterwards reasonable though unify still think either side error code,issue,negative,positive,positive,positive,positive,positive
683698786,"Ah, I forgot.
https://github.com/bulletphysics/bullet3/pull/2695 also needs to be upstreamed for us to be in sync with Blender.",ah forgot also need u sync blender,issue,negative,neutral,neutral,neutral,neutral,neutral
683482567,"This is expected: those 2D robots have their base fixed to the world, and add a few degrees of freedom to allow only motion in a 2d plane. So you need to use getLinkState (using computeForwardKinematics=True) to get the world-space information of particular links (see PyBullet quickstart guide for more info).",base fixed world add freedom allow motion plane need use get information particular link see guide,issue,positive,negative,negative,negative,negative,negative
683226271,"I use cmake to build bullet. I don't do anything special with bullet.
Here is my cmake command line:

cmake -S %bulletSourceDir% -B %buildFolder% -G ""Visual Studio 16"" ^
-DCMAKE_BUILD_TYPE=Release ^
-DBUILD_SHARED_LIBS=ON ^
-DBUILD_BULLET3=OFF ^
-DBUILD_CPU_DEMOS=OFF ^
-DBUILD_OPENGL3_DEMOS=OFF ^
-DBUILD_BULLET2_DEMOS=OFF ^
-DBUILD_UNIT_TESTS=OFF ^
-DCMAKE_EXE_LINKER_FLAGS_RELEASE=""/DEBUG /INCREMENTAL:NO"" ^
-DCMAKE_SHARED_LINKER_FLAGS_RELEASE=""/DEBUG /INCREMENTAL:NO"" ^
-DCMAKE_MODULE_LINKER_FLAGS_RELEASE=""/DEBUG /INCREMENTAL:NO"" ^
-DUSE_DOUBLE_PRECISION=OFF ^
-DCMAKE_INSTALL_PREFIX=%installDir%

I found 
```
CollisionDispatcher* dispatcher = new CollisionDispatcher(conf);
delete dispatcher;
```
OK, whereas
```
btCollisionDispatcher* dispatcher = new btCollisionDispatcher(conf);
delete dispatcher;
```
crashed.

I believe ""ExampleBrowser"" is somehow okay, unless there is some special flag set, the above code will crash.",use build bullet anything special bullet command line visual studio found dispatcher new delete dispatcher whereas dispatcher new delete dispatcher believe somehow unless special flag set code crash,issue,negative,positive,positive,positive,positive,positive
683133790,"> You can try to increase the size of the cloth (say scale=1) to see if it helps.

I found that if the cloth vertices move relatively slowly compared to their collision margin, self-collision was less likely, which could be why increasing the size of the cloth actually helps? Thanks for the suggestion!

> Another problem is that once a point or triangle touches the ground, it will ignore repulsion from any other triangles, so you need to be careful manipulating it.

Ah, I wasn't aware of this issue. So if one side of the cloth is touching the ground and the other is falling on top of it, would this likely lead to self penetration then?",try increase size cloth say see found cloth vertex move relatively slowly collision margin le likely could increasing size cloth actually thanks suggestion another problem point triangle ground ignore repulsion need careful ah aware issue one side cloth touching ground falling top would likely lead self penetration,issue,negative,positive,positive,positive,positive,positive
682276374,"Thanks for reporting this issue!

Increasing the collision margin might cause strong repulsion force for nearby nodes, which causes the instability. The penetration could partly due to rendering, and the cloth in general looks rather jaggy in pybullet. You can try to increase the size of the cloth (say scale=1) to see if it helps.

Like Erwin said, deformable is still experimental. The self-penetration solution is still being improved. One known issue is that once there is penetration, we don't recover from it. Another problem is that once a point or triangle touches the ground, it will ignore repulsion from any other triangles, so you need to be careful manipulating it.

I changed the scale to 1 and hand-manipulated using mouse pick on top of your example. You can see some gap between different parts of the cloth. Hope this helps. 
![image](https://user-images.githubusercontent.com/11881196/91511277-3332ea00-e894-11ea-8eef-25110941c4f5.png)

![image](https://user-images.githubusercontent.com/11881196/91511264-2c0bdc00-e894-11ea-9904-253987c1555b.png)
",thanks issue increasing collision margin might cause strong repulsion force nearby instability penetration could partly due rendering cloth general rather jaggy try increase size cloth say see like said deformable still experimental solution still one known issue penetration recover another problem point triangle ground ignore repulsion need careful scale mouse pick top example see gap different cloth hope image image,issue,positive,positive,positive,positive,positive,positive
682263852,Could you provide a simple test that i can reproduce your issue? thanks.,could provide simple test reproduce issue thanks,issue,negative,positive,neutral,neutral,positive,positive
682163923,"thanks for the contribution! Let's retrigger (close/re-open issue), since one test failed.",thanks contribution let issue since one test,issue,negative,positive,positive,positive,positive,positive
682083362,"To answer this:
 
The observation is a 9 dimensional vector with the first three elements determining the position of the center of mass of the end link, the next three stating the euler orientation of the center of mass of the link and the last three being the relative x and y coordinates of the block (target object) and the the z orientation of the block from the gripper's frame of reference. ",answer observation dimensional vector first three position center mass end link next three orientation center mass link last three relative block target object orientation block gripper frame reference,issue,negative,positive,neutral,neutral,positive,positive
681964602,"Thanks, good to hear (net)bsd is still around!",thanks good hear net still around,issue,positive,positive,positive,positive,positive,positive
680847564,"I was wondering if it is possible to see just the trasparent figure, without the trained character, as a ""debugging"" for motion files",wondering possible see figure without trained character motion,issue,negative,neutral,neutral,neutral,neutral,neutral
680301410,"Absolutely! [Here](https://github.com/bulletphysics/bullet3/files/5126587/cloth-penetration-example.zip) is a self-contained zipped directory. Thank you so much!
",absolutely directory thank much,issue,negative,positive,positive,positive,positive,positive
680285478,"Let me ask some others who have experience with the deformables to look at this.

Could you share a full self-contained pybullet example, so it is quicker to reproduce (something we can run out-of-the-box using pybullet). Note you can attach zip files if needed to this tracker.",let ask experience look could share full example reproduce something run note attach zip tracker,issue,negative,positive,positive,positive,positive,positive
680285008,"Thanks Kelly, will check it out. By the way, if you have a minute, could you check out this reported cloth issue?
https://github.com/bulletphysics/bullet3/issues/3005

I haven't asked Xuchen to look at it yet, perhaps you have some suggestions for the issue?",thanks kelly check way minute could check cloth issue look yet perhaps issue,issue,negative,positive,positive,positive,positive,positive
680226662,"Hi Erwin,

Sorry for the late reply.

The ""Cloth Friction"" example difference was due to tolerance of CR solver. You can restore the behavior by setting residual of btConjugateResidual to be 1e-4 instead of 1e-8. However, if you play around with 1e-4 a little bit, you will see the same not settling down behavior. This is because when the top cloth is in constraint with the ground, the cloth-cloth interaction will be ignored.


For The ""Deformable Self Collision"" example, I checked that the behavior is the same before and after the PR. You can set  psb->m_cfg.kDF = 10 and ground friction to be 0.1 to see top cloth being moved with the bottom one. ",hi sorry late reply cloth friction example difference due tolerance solver restore behavior setting residual instead however play around little bit see settling behavior top cloth constraint ground interaction deformable self collision example checked behavior set ground friction see top cloth bottom one,issue,positive,negative,neutral,neutral,negative,negative
680136270,"If you run the testrl.py, the transparent figure is the DeepMimic reference motion.",run transparent figure reference motion,issue,negative,neutral,neutral,neutral,neutral,neutral
679486345,"Let me have a look, should be a quick fix (will add a method to query for build time string). If it us urgent, edit Bullet/examples/pybullet/pybullet.c at the very end, comment-out the printf. Then use python3 setup.py install --user in the root of Bullet.",let look quick fix add method query build time string u urgent edit end use python install user root bullet,issue,negative,positive,positive,positive,positive,positive
679281830,"It is still experimental/unsupported, I'll make it more clear in the quickstart guide (or remote its mention). There is no-one to support the feature, unfortunately.",still make clear guide remote mention support feature unfortunately,issue,negative,negative,negative,negative,negative,negative
678738076,"Thanks for the report, we need to fix it.

indeed, cloth is an experimental new feature, most of the APIs only apply to rigid/multibodies.",thanks report need fix indeed cloth experimental new feature apply,issue,negative,positive,positive,positive,positive,positive
678725714,"To give some background, I need a good way to reset a cloth after some interaction with it. I've tried saveState() and loadState() but it doesn't look like the state of deformables are saved in these states. resetBasePositionAndOrientation() also doesn't do the trick.",give background need good way reset cloth interaction tried look like state saved also trick,issue,positive,positive,positive,positive,positive,positive
678031445,"We don't provide such assistance. Please check the Bullet/data urdf files, they should work fine. As long as yours are similar, you should be fine.",provide assistance please check work fine long similar fine,issue,positive,positive,positive,positive,positive,positive
677520209,"Hi Erwin,

thanks for the answer. I rebuild a fresh system for Ubuntu 18.04 and Ubuntu 20.04. Running under python3 both showed the same error. However, on the Ubuntu 20.04 system I installed python2.7 and surprisingly everything runs fine!
So I tested that on my main setup, and indeed using python2.7 everything works fine again.
Have you tested my code using python2 or python3?

Any idea? As I wouldn't want to go back to python2.

Cheers Chris",hi thanks answer rebuild fresh system running python error however system python surprisingly everything fine tested main setup indeed python everything work fine tested code python python idea would want go back python,issue,positive,positive,positive,positive,positive,positive
676835251,"No idea, it looks normal here, running the same code:
![image](https://user-images.githubusercontent.com/725468/90704500-80d0a680-e245-11ea-8938-7afce974be59.png)
I'm sure it runs fine in an online Google Colab as well, likely some driver/GPU/Ubuntu installation issue.",idea normal running code image sure fine well likely installation issue,issue,positive,positive,positive,positive,positive,positive
676483289,"getContactPoints should work just fine. Create a new ~10 line pybullet test.py without dependencies, zip it together with assets (urdf, obj etc) in the same directory and share it. Perhaps then someone can run it and look at it. Try not passing any args to getContactPoints and do the filtering manually first.

~~~~~~~~~~~~~~
import pybullet as p
p.connect(p.GUI)
p.loadURDF(plane)
p.loadURDF(env_object1)
p.loadURDF(env_object2)
p.loadURDF(robot_object1)
while p.isConnected():
  p.stepSimulation()
  pts = p.getContactPoints()


~~~~~~~~~~~~~~",work fine create new line without zip together asset directory share perhaps someone run look try passing filtering manually first import plane,issue,negative,positive,positive,positive,positive,positive
676152648,"I will try to make a pull request in the upcoming weeks with the code

On Fri, 31 Jul 2020 at 13:15, tchemaly <notifications@github.com> wrote:

> Could you share how you loaded multiple clips and created several
> kinematic characters?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/2903#issuecomment-667069361>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ADU47BQISWA2IQGSKU46HADR6KRUJANCNFSM4ONTCQKA>
> .
>
",try make pull request upcoming code wrote could share loaded multiple clip several kinematic thread reply directly view,issue,negative,positive,neutral,neutral,positive,positive
675888797,"Hi!

Thank you for your prompt response! Allow me to refer to oscar-lima's open source work on the integration between Pybullet and ROS, pybullet_ros.py here: [https://github.com/oscar-lima/pybullet_ros/blob/melodic/ros/src/pybullet_ros/pybullet_ros.py#L229](url).

I shifted the `self.pb.stepSimulation()` to line 225 before the line: `for task in self.plugins:`, and also commented out line 183 `self.pb.setRealTimeSimulation(0)`. 

However, it does not seem to solve the problem. Here I attach a sample screenshot of my robot in simulation in contact with a cone and a wall (the red plates are the bodies which contact points with objects I intend to determine). 
![contact sensor on robot annotated](https://user-images.githubusercontent.com/50688195/90600712-9e901280-e229-11ea-9223-5ecd0da7c14a.png)
On the left in the image is a terminal showing the ROS message that is being published to show the contact distance and normal forces data from the contact points. From here I find that the ""back_plate"" and ""back_left_plate"" are able to detect close contact with the green cone, but the ""front_plate"" and ""front_right_plate"" are not able to detect contact points information anywhere along the yellow wall. 

I actually created my own plugin, with reference to oscar-lima's format, to acquire contact information of relevant bodies with the objects in environment. 

Could there be any other factor leading to this behaviour? Thank you for your time! ",hi thank prompt response allow refer open source work integration line line task also line however seem solve problem attach sample robot simulation contact cone wall red contact intend determine contact sensor robot left image terminal showing message show contact distance normal data contact find able detect close contact green cone able detect contact information anywhere along yellow wall actually reference format acquire contact information relevant environment could factor leading behaviour thank time,issue,positive,positive,positive,positive,positive,positive
675869112,"The full pybullet script is missing. Use getCobtactPoints after stepSimulation, don't use substeps and avoid 'setRealTimeSimulation'",full script missing use use avoid,issue,negative,positive,neutral,neutral,positive,positive
675605892,"I had a quick look, the deformable examples in the example browser seem to have degenerated before your PR. It would be good to resolve this. You can see it by compiling/running the example browser and pick the ""Cloth Friction"" example. The cloth doesn't properly settle down and doesn't maintain a distance. (briefly perturb the blue cloth with the mouse). 

Do you know any parameters to change to make the sim more reasonable?

The ""Deformable Self Collision"" example seem to maintain some distance between the two cloths, but it has no friction. When enabling friction (psb->setFriction(3)), and carefully moving the bottom deformable/cloth doesn't reasonably move the top cloth.",quick look deformable example browser seem would good resolve see example browser pick cloth friction example cloth properly settle maintain distance briefly perturb blue cloth mouse know change make reasonable deformable self collision example seem maintain distance two friction friction carefully moving bottom reasonably move top cloth,issue,positive,positive,positive,positive,positive,positive
675082023,I turned off the option by default. Can you check again?,turned option default check,issue,negative,neutral,neutral,neutral,neutral,neutral
674888747,"As with previous person: Can you reproduce it with the default unmodified ExampleBrowser and the default unmodified premake and/or cmake build system that ships with Bullet? If so, please provide the steps. Bullet doesn't use multithreading using the default settings.",previous person reproduce default unmodified default unmodified premake build system bullet please provide bullet use default,issue,negative,negative,negative,negative,negative,negative
674876396,"@jiangcaiyang 
Installation is disabled by default on non-makefile systems.
You need to pass `-DINSTALL_LIBS=ON` to cmake when configuring to enable it.",installation disabled default need pas enable,issue,negative,negative,negative,negative,negative,negative
674776344,"I meet the problem too. My approach is to wrap default classes with 16 bytes aligned. This is nothing to do with BT_USE_DOUBLE_PRECISION.

Test code:
```
#include <iostream>

#include ""BulletCollision/CollisionDispatch/btDefaultCollisionConfiguration.h""
#include ""BulletCollision/CollisionDispatch/btCollisionDispatcher.h""

ATTRIBUTE_ALIGNED16(class) CollisionDispatcher: public btCollisionDispatcher
{
public:
    CollisionDispatcher(btCollisionConfiguration* collisionConfiguration):
        btCollisionDispatcher(collisionConfiguration)
    {

    }
};

ATTRIBUTE_ALIGNED16(class) DefaultCollisionConfiguration: public btDefaultCollisionConfiguration
{

};

int main()
{
    std::cout << ""Hello World!\n"";

    DefaultCollisionConfiguration* conf = new DefaultCollisionConfiguration;
    CollisionDispatcher* dispatcher = new CollisionDispatcher(conf);
    delete dispatcher;
    delete conf;
}
```",meet problem approach wrap default class nothing test code include include include class public public class public main hello world new dispatcher new delete dispatcher delete,issue,negative,positive,neutral,neutral,positive,positive
674503712,"Hello @madebr , I can't run
```cmake --build %buildFolder% --config release --target install```
Because MSBuild tells me that project file install.vcxproj doesn't exist.
```
用于 .NET Framework 的 Microsoft (R) 生成引擎版本 16.7.0+b89cb5fde
版权所有(C) Microsoft Corporation。保留所有权利。

MSBUILD : error MSB1009: 项目文件不存在。
开关:install.vcxproj
```",hello ca run build release target install project file exist framework error,issue,negative,neutral,neutral,neutral,neutral,neutral
674502130,I strongly advise merging this PR. but I need to try branch in @madebr first to test.,strongly advise need try branch first test,issue,negative,positive,positive,positive,positive,positive
674474984,"Hi,

I have attached the files. It would be great if you could have a look. I just want to know why the parent and child links are not the same as they are defined in the Urdf file.

On a related note, I had to turn off p.URDF_MAINTAIN_LINK_ORDER. This was causing some elements of the Urdf file to go through the floor. I think I have seen other posts reporting this same issue as well.

[robo_files.zip](https://github.com/bulletphysics/bullet3/files/5079940/robo_files.zip)
",hi attached would great could look want know parent child link defined file related note turn causing file go floor think seen issue well,issue,positive,positive,positive,positive,positive,positive
674456111,"A quick update for `xacro`.

Now the `xacro` has 2.0 version, so the `xacro_standalone.py` mentioned doesn't work anymore. However, we could download the new version of `xacro` here:
https://github.com/ros-gbp/xacro-release/releases

and use a `pip install`, and we can use this Python package to produce `urdf` file.

So we can easily write a small Python tool (basically just modify the `main()` function in xacro package code), converting `xacro` to `urdf` first and calling `p.loadURDF` to get things done.

> Also note that URDF files online are often obfuscated in the .xacro format, so you need to install ROS (take a vacation for that) or use a rudimentary [xacro_converter.py](https://github.com/bulletphysics/bullet3/blob/master/data/xacro_standalone.py), or do it by hand.
> Best bet is just to be patient, become familiar with one (or more) of the file formats and deal with it. Understanding the underlying data format is useful in the long run. Welcome to robotics land!
> 
",quick update version work however could new version use pip install use python package produce file easily write small python tool basically modify main function package code converting first calling get done also note often format need install take vacation use rudimentary hand best bet patient become familiar one file deal understanding underlying data format useful long run welcome land,issue,positive,positive,positive,positive,positive,positive
674397940,"No repro with urdf file means we cannot do anything. Also, it is ok if they match.",file anything also match,issue,negative,neutral,neutral,neutral,neutral,neutral
674332201,"I think this might result from this if branch https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L11055
```
if (clientCmd.m_externalForceArguments.m_linkIds[i] == -1)
{
    btVector3 torqueWorld = isLinkFrame ? torqueLocal : mb->getBaseWorldTransform().getBasis() * torqueLocal;
    mb->addBaseTorque(torqueWorld);
    //b3Printf(""apply base torque of %f,%f,%f\n"", torqueWorld[0],torqueWorld[1],torqueWorld[2]);
}
```
I think the bitwise comparison to assign `isLinkFrame` on line 11014 evaluates correctly, is it maybe the ternary operator on line 11057 (the corresponding force one on line 11032 seems to be the other way around)?

Or is this the intender behaviour and there is something else I'm missing?",think might result branch apply base torque think bitwise comparison assign line correctly maybe ternary operator line corresponding force one line way around intender behaviour something else missing,issue,negative,negative,negative,negative,negative,negative
674304109,"Hey yeah I will be happy to know how you did it?

On Sat, Aug 15, 2020 at 3:47 AM Daniel Seita <notifications@github.com>
wrote:

> I fixed my error by creating a fake display. There are a number of steps
> involved but happy to explain in more detail if I can.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1681#issuecomment-674294313>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AJRDXZRWXS6WGYLLW26WJ3DSAWZYJANCNFSM4E7OOROQ>
> .
>


-- 
*Aditya Kapoor*
Mob. no.:+91 9869037643 / +91 9082008452
Personal mail: adityakapoor074@gmail.com
[image: Inline image 1]

*Birla Institute of Technology & Science, Pilani*


*K K Birla Goa CampusNH 17 B, ZuarinagarGoa, India. 403726*
",hey yeah happy know sat wrote fixed error fake display number involved happy explain detail reply directly view mob personal mail image image institute technology science goa,issue,positive,positive,positive,positive,positive,positive
674181088,"I added a function to the source code that modifies some parameters of loadSoftBody.
The attached video(https://1drv.ms/v/s!AhSJ3fHM8y8IiGmdTuNQHaJ850cw?e=znQbby) is an example of increasing springElasticStiffness.

I want to use this to simulate an artificial muscle, but currently I have to use createSoftBodyAnchor.

What should I do if I want to handle urdf data containing rigid body links and soft body links?",added function source code attached video example increasing want use simulate artificial muscle currently use want handle data rigid body link soft body link,issue,negative,negative,negative,negative,negative,negative
674166783,"> I get a bunch of different errors

Are you installing using 
~~~~~~~~~~~~~
pip3 install pybullet
~~~~~~~~~~~~~
Where is -Werror defined?",get bunch different pip install defined,issue,negative,neutral,neutral,neutral,neutral,neutral
674152377,"Yes, what you described is exactly what I think happened.
PyBullet ""polluted"" the ENV path, and left the modified INCLUDEPATH variables updated with the right  content.
For now this is a simple enough workaround, not elegant by any means...",yes exactly think polluted path left right content simple enough elegant,issue,negative,positive,positive,positive,positive,positive
674146823,"Cannot reproduce currently. Since the last Xcode update I get a bunch of different errors when installing pybullet. They all look like this:
```
examples/ThirdPartyLibs/zlib/gzread.c:31:9: error: implicit declaration of function 'read' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
                  ret = read(state->fd, buf + *have, len - *have);
```

But I am pretty sure that your problem was due to some include paths missing, because the blender internal python comes without header files. So you would have to somehow tell it to use the headers from your system python. 
You found a neat way around that problem by installing `pybullet` in a virtualenv where the paths were set correctly, and Blender-python then noticed a cached version of the built `pybullet` package and installed that instead of building it from scratch.",reproduce currently since last update get bunch different look like error implicit declaration function invalid ret read pretty sure problem due include missing blender internal python come without header would somehow tell use system python found neat way around problem set correctly version built package instead building scratch,issue,negative,positive,neutral,neutral,positive,positive
674130001,"Ok, I resolved the problem.
First, I force reinstalled pybullet on the local virtualenv python3 install:
```
(python3) ~/dev/kubric: pip install --upgrade --force-reinstall pybullet
Processing /Users/atagliasacchi/Library/Caches/pip/wheels/60/d1/2c/c1ae036303601e0c073ab177b0e219fee34d157ee2be2f05a8/pybullet-2.8.7-cp37-cp37m-macosx_10_15_x86_64.whl
Installing collected packages: pybullet
  Attempting uninstall: pybullet
    Found existing installation: pybullet 2.8.7
    Uninstalling pybullet-2.8.7:
      Successfully uninstalled pybullet-2.8.7
Successfully installed pybullet-2.8.7
```

This must have caused dependencies and INCLUDEPATH to be updated, because now the REPL pip3 was able to install it (note it's uninstalling as the previous install already succeeded... I did not save my history):
```
~/dev/kubric: alias bpip='/usr/local/Caskroom/blender/2.83.1/Blender.app/Contents/Resources/2.83/python/bin/pip3'
~/dev/kubric: bpip install --upgrade --force-reinstall pybullet
Processing /Users/atagliasacchi/Library/Caches/pip/wheels/60/d1/2c/c1ae036303601e0c073ab177b0e219fee34d157ee2be2f05a8/pybullet-2.8.7-cp37-cp37m-macosx_10_15_x86_64.whl
Installing collected packages: pybullet
  Attempting uninstall: pybullet
    Found existing installation: pybullet 2.8.7
    Uninstalling pybullet-2.8.7:
      Successfully uninstalled pybullet-2.8.7
Successfully installed pybullet-2.8.7
```

",resolved problem first force local python install python pip install upgrade collected found installation successfully uninstalled successfully must pip able install note previous install already save history alias install upgrade collected found installation successfully uninstalled successfully,issue,positive,positive,positive,positive,positive,positive
674124463,"Hey Erwin, blender ""ships"" its own internal version of blender. I can install w/o problems in an hermetic virtualenv python. I thought to create a tracking bug to make sure somebody can find the solution while I search for one :)",hey blender internal version blender install hermetic python thought create bug make sure somebody find solution search one,issue,positive,positive,positive,positive,positive,positive
674123921,"Hi, I've never heard of Blender REPL, but pip install should work with regular python installations. I previously ran pybullet inside Blender by installing a Python interpreter system wide, with the same version as Blender it worked fine.
~~~~~~~~~~~~~
  examples/pybullet/pybullet.c:40:10: fatal error: 'Python.h' file not found
  #include <Python.h>
~~~~~~~~~~~~~
Can you ask the Blender REPL creators about where the Python.h header is?
",hi never blender pip install work regular python previously ran inside blender python interpreter system wide version blender worked fine fatal error file found include ask blender header,issue,negative,positive,neutral,neutral,positive,positive
674041555,"I am using virtualbox with Ubuntu 20.04 and whenever I try to run an example, I get the following error:
```

pybullet build time: Aug 14 2020 02:51:12
startThreads creating 1 threads.
starting thread 0
started thread 0 
argc=2
argv[0] = --unused
argv[1] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
X11 functions dynamically loaded using dlopen/dlsym OK!
Creating context
Failed to create GL 3.3 context ... using old-style GLX context
Direct GLX rendering context obtained
Making context current
GL_VENDOR=VMware, Inc.
GL_RENDERER=SVGA3D; build: RELEASE;  LLVM;
GL_VERSION=2.1 Mesa 20.0.8
GL_SHADING_LANGUAGE_VERSION=1.20
pthread_getconcurrency()=0
Version = 2.1 Mesa 20.0.8
Vendor = VMware, Inc.
Renderer = SVGA3D; build: RELEASE;  LLVM;
Compile failed:
0:1(10): error: GLSL 1.50 is not supported. Supported versions are: 1.10, 1.20, and 1.00 ES

Segmentation fault (core dumped)
```
Can someone help me with how to rectify this error?",whenever try run example get following error build time starting thread thread unused server dynamically loaded dynamically loaded context create context context direct rendering context making context current build release mesa version mesa vendor renderer build release compile error e segmentation fault core someone help rectify error,issue,negative,positive,neutral,neutral,positive,positive
673762806,"Thanks for the report, it was a texture not released, only in case of programmatic generation, fixed here:
https://github.com/bulletphysics/bullet3/pull/2987
(using loadURDF would not leak, or using file caching as you mentioned)",thanks report texture case programmatic generation fixed would leak file,issue,negative,positive,positive,positive,positive,positive
673749449,"Changed your example to use pybullet_data files and it still reproduces.

I progressively moved lines out of loop until the only command remains is createMultiBody and resetSimulation. The severeness of leak remain the same.

If I move resetSimulation out of loop, the leak is 4x faster in terms of memory.

Hope the information is helpful for debugging.",example use still progressively loop command remains severeness leak remain move loop leak faster memory hope information helpful,issue,negative,neutral,neutral,neutral,neutral,neutral
673728019,"Was facing the same issue on Ubuntu 16.04, in my case the cause was these two lines:

```
export MESA_GL_VERSION_OVERRIDE=3.2
export MESA_GLSL_VERSION_OVERRIDE=150
```

In my bashrc file, I removed them now everything works fine.",facing issue case cause two export export file removed everything work fine,issue,negative,positive,positive,positive,positive,positive
673640944,"Thanks for the contribution. I briefly tried out running the ExampleBrowser deformable examples. to check for regression. 
I think the ExampleBrowser ""Deformables/Cloth Friction"" example changed, once settled down, pick the red cloth, the blue should follow due to friction. Could you check it?",thanks contribution briefly tried running deformable check regression think friction example settled pick red cloth blue follow due friction could check,issue,negative,positive,neutral,neutral,positive,positive
673246061,"Good find, that is a copy/paste bug. The documentation still refers to collisionShapeOrientationA anyway, but the internal implementation should be collisionShapeOrientationAObj indeed.",good find bug documentation still anyway internal implementation indeed,issue,negative,positive,positive,positive,positive,positive
672020482,"Thanks. It is best to just update a single AABB, using the 
~~~~~~~~~
world->updateSingleAabb(colObj); 
~~~~~~~~~",thanks best update single,issue,positive,positive,positive,positive,positive,positive
671074137,"Has this eventually been fixed?
Or are `WORLD_FRAME` and `LINK_FRAME` still swapped for `.applyExternalTorque()` (to the base)? 

Minimal reproducible example (from this work https://github.com/JacopoPan/gym-pybullet-drones):
```
import time
import numpy as np
import pybullet as p
import pybullet_data

DURATION_SEC = 10
RESTARTS = 0

########################################################################################################################
# applyExternalTorque()'s WORLD_FRAME and LINK_FRAME appear to be swapped: github.com/bulletphysics/bullet3/issues/1949 
########################################################################################################################

if __name__ == ""__main__"":

	print(p.getQuaternionFromEuler([0,0,0]))

	START = time.time()
	PYB_CLIENT = p.connect(p.GUI, key=0)
	p.resetDebugVisualizerCamera(cameraDistance=2, cameraYaw=-30, cameraPitch=-30, cameraTargetPosition=[0.0,0.0,0.0], physicsClientId=PYB_CLIENT)
	p.setAdditionalSearchPath(pybullet_data.getDataPath(), physicsClientId=PYB_CLIENT)
	ROBOT_ID = p.loadURDF(""duck_vhacd.urdf"",[0,0,0.1], p.getQuaternionFromEuler([0,0,0]), physicsClientId=PYB_CLIENT)
	X_AX = -1; Y_AX = -1; Z_AX = -1; 
	#### Make the drone weightless #########################################################################################
	p.setGravity(0, 0, 0, physicsClientId=PYB_CLIENT)
	#### Set initial pose ##################################################################################################
	# p.resetBasePositionAndOrientation(ROBOT_ID, posObj=[-.7,-.5,.3], ornObj=p.getQuaternionFromEuler([0,0,0], physicsClientId=PYB_CLIENT), physicsClientId=PYB_CLIENT)
	# p.resetBasePositionAndOrientation(ROBOT_ID, posObj=[-.7,-.5,.3], ornObj=p.getQuaternionFromEuler([0,0,60*(np.pi/180)], physicsClientId=PYB_CLIENT), physicsClientId=PYB_CLIENT)
	p.resetBasePositionAndOrientation(ROBOT_ID, posObj=[-.7,-.5,.3], ornObj=p.getQuaternionFromEuler([0,60*(np.pi/180),0], physicsClientId=PYB_CLIENT), physicsClientId=PYB_CLIENT)
	########################################################################################################################
	for i in range(DURATION_SEC*240):
		X_AX = p.addUserDebugLine(lineFromXYZ=[0,0,0],lineToXYZ=[0.1,0,0],lineColorRGB=[1,0,0],parentObjectUniqueId=ROBOT_ID, parentLinkIndex=-1, replaceItemUniqueId=X_AX, physicsClientId=PYB_CLIENT)
		Y_AX = p.addUserDebugLine(lineFromXYZ=[0,0,0],lineToXYZ=[0,0.1,0],lineColorRGB=[0,1,0],parentObjectUniqueId=ROBOT_ID, parentLinkIndex=-1, replaceItemUniqueId=Y_AX, physicsClientId=PYB_CLIENT)
		Z_AX = p.addUserDebugLine(lineFromXYZ=[0,0,0],lineToXYZ=[0,0,0.1],lineColorRGB=[0,0,1],parentObjectUniqueId=ROBOT_ID, parentLinkIndex=-1, replaceItemUniqueId=Z_AX, physicsClientId=PYB_CLIENT)
		#### Thrust ############################################################################################################
		# p.applyExternalForce(ROBOT_ID, -1, forceObj=[0.,0.,1e-2], posObj=[0.,0.,0.], flags=p.LINK_FRAME, physicsClientId=PYB_CLIENT) # CORRECT
		# p.applyExternalForce(ROBOT_ID, -1, forceObj=[0.,0.,1e-2], posObj=[0.,0.,0.], flags=p.WORLD_FRAME, physicsClientId=PYB_CLIENT) # INCORRECT
		#### Roll ##############################################################################################################
		p.applyExternalTorque(ROBOT_ID, -1, torqueObj=[5e-4,0.,0.], flags=p.WORLD_FRAME, physicsClientId=PYB_CLIENT) # CORRECT ?
		# p.applyExternalTorque(ROBOT_ID, -1, torqueObj=[5e-4,0.,0.], flags=p.LINK_FRAME, physicsClientId=PYB_CLIENT) # INCORRECT ?
		#### Pitch #############################################################################################################
		# p.applyExternalTorque(ROBOT_ID, -1, torqueObj=[0.,5e-4,0.], flags=p.WORLD_FRAME, physicsClientId=PYB_CLIENT) # CORRECT ?
		# p.applyExternalTorque(ROBOT_ID, -1, torqueObj=[0.,5e-4,0.], flags=p.LINK_FRAME, physicsClientId=PYB_CLIENT) # INCORRECT ?
		#### Yaw ###############################################################################################################
		# p.applyExternalTorque(ROBOT_ID, -1, torqueObj=[0.,0.,5e-4], flags=p.WORLD_FRAME, physicsClientId=PYB_CLIENT) # CORRECT ?
		# p.applyExternalTorque(ROBOT_ID, -1, torqueObj=[0.,0.,5e-4], flags=p.LINK_FRAME, physicsClientId=PYB_CLIENT) # INCORRECT ?
		########################################################################################################################
		p.stepSimulation(physicsClientId=PYB_CLIENT)
		pos, quat = p.getBasePositionAndOrientation(ROBOT_ID, physicsClientId=PYB_CLIENT)
		rpy = p.getEulerFromQuaternion(quat)
		vel, ang_v = p.getBaseVelocity(ROBOT_ID, physicsClientId=PYB_CLIENT)
		print(""--- step number {:d}"".format(i), 
			""--- X {:.2f} Y {:.2f} Z {:.2f} vel. {:.2f}"".format(pos[0],pos[1],pos[2], np.linalg.norm(vel)), 
			""--- roll {:.2f} pitch {:.2f} yaw {:.2f}"".format(rpy[0]*(180/np.pi), rpy[1]*(180/np.pi), rpy[2]*(180/np.pi)),
			""--- ang. vel. {:.2f} {:.2f} {:.2f} --- "".format(ang_v[0]*(180/np.pi), ang_v[1]*(180/np.pi), ang_v[2]*(180/np.pi)), end=""\r"")
		elapsed = time.time()-START
		if elapsed < i/240: time.sleep(i/240-elapsed)	
		if i>1 and i%((DURATION_SEC/(RESTARTS+1))*240)==0: p.resetSimulation(physicsClientId=PYB_CLIENT)
```

",eventually fixed still base minimal reproducible example work import time import import import appear print start make drone weightless set initial pose range thrust correct incorrect roll correct incorrect pitch correct incorrect yaw correct incorrect quat quat print step number roll pitch yaw,issue,negative,negative,negative,negative,negative,negative
670983205,"Hi @deepakraina99,

I would like to ask if you could share your impedance control implementation? I am trying to use cartesian impedance control for insertion, but somehow my implementation is not working properly. I would be really grateful!

Thank you!",hi would like ask could share impedance control implementation trying use impedance control insertion somehow implementation working properly would really grateful thank,issue,positive,positive,neutral,neutral,positive,positive
670957402,"Thanks Florian. Yes, you are correct. You need to use pybullet_utils.BulletClient for thread safety.
BulletClient will automatically create a new 'client_id' for each connection, and pass that client_id explicitly (under the hood) for each command. That way, the simulations are fully separate. Note that you have to use DIRECT for this, not GUI.
~~~~~
p = bc.BulletClient(connection_mode=pybullet.DIRECT) 
~~~~~

See also the default Bullet Gym environments, that are thread safe and can (and do) run in parallel.

https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/env_bases.py#L51
",thanks yes correct need use thread safety automatically create new connection pas explicitly hood command way fully separate note use direct see also default bullet gym thread safe run parallel,issue,positive,positive,positive,positive,positive,positive
670775223,"Indeed, I was also considering odd for gcc to define PRIu64 as ""lu"" but it really does:
$ gcc --version
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609
I also agree that ""ts"" should better be printed as ""llu"".

Checking how gcc5 defines PRIu64:

 $ more /usr/include/inttypes.h | grep PRIu64
  define PRIu64		__PRI64_PREFIX ""u""
with
  if __WORDSIZE == 64
   define __PRI64_PREFIX	""l""
   define __PRIPTR_PREFIX	""l""
  else
   define __PRI64_PREFIX	""ll""
   define __PRIPTR_PREFIX
  endif

Similar in gcc8 (hwint.h):
// Provide C99 <inttypes.h> style format definitions for 64bits. 
 ifndef HAVE_INTTYPES_H
 if INT64_T_IS_LONG
 define GCC_PRI64 HOST_LONG_FORMAT
else
 define GCC_PRI64 HOST_LONG_LONG_FORMAT
endif


meaning on 64b Linux, PRIu64 indeed resolves into lu, not llu.
Seems to be confirmed by
https://en.wikipedia.org/wiki/Printf_format_string

I ve retouched my PR to hard printf llu but still wondering about any possible collateral effect (32b build ? MacOS ? ...)",indeed also considering odd define really version also agree better printed define define define else define define similar provide style format define else define meaning indeed confirmed hard still wondering possible collateral effect build,issue,negative,positive,neutral,neutral,positive,positive
670608055,"It is an odd warning, since we use PRIu64 and not %lu. We want the unsigned long long int, not casting to an unsigned long int.",odd warning since use want unsigned long long casting unsigned long,issue,negative,negative,neutral,neutral,negative,negative
670259306,"Thanks for the PR, that looks like an interesting example. Some change in constraint.py slipped in the PR, we can remove it, right?",thanks like interesting example change slipped remove right,issue,positive,positive,positive,positive,positive,positive
669140148,you can refer to the function computeAccelerationsArticulatedBodyAlgorithmMultiDof() in file btMultiBody.cpp and search the m_jointFeedback.,refer function file search,issue,negative,neutral,neutral,neutral,neutral,neutral
669118277,"Hi @Steven89Liu, 

Could you add the filename/ code, where the feedback force calculation happens? Thanks!",hi could add code feedback force calculation thanks,issue,negative,positive,positive,positive,positive,positive
668959855,"I also have the similar questions.
1.  feedback force means all force exert  on link i through its inboard joint ?
2.  after reviewing the code, the engine calculates the feedback force in two steps, first calculate the feedback force based on the external force + joint actuator, then plus the feedback force based on the constraint force + joint actuator. i guess the second pass is used to calcualte the feedback force caused by the constraint force, such as motor constraint, contact contraint, etc. but i don't understand why we have to add the 'joint actuator' at the second pass. for some special case that the external force and the constraint force all are zero then what we get the final result will be twice.
thanks.",also similar feedback force force exert link inboard joint code engine feedback force two first calculate feedback force based external force joint actuator plus feedback force based constraint force joint actuator guess second pas used feedback force constraint force motor constraint contact understand add actuator second pas special case external force constraint force zero get final result twice thanks,issue,positive,positive,neutral,neutral,positive,positive
668192851,"Found the culprit: `CMakeLists.txt:425`:
```cmake
IF(""${CMAKE_GENERATOR}"" MATCHES ""Unix Makefiles"")
	OPTION(INSTALL_LIBS ""Set when you want to install libraries"" ON)
ELSE()
	IF(APPLE AND FRAMEWORK)
		OPTION(INSTALL_LIBS ""Set when you want to install libraries"" ON)
	ELSE()
#by default, don't enable the 'INSTALL' option for Xcode and MSVC projectfiles
		OPTION(INSTALL_LIBS ""Set when you want to install libraries"" OFF)
	ENDIF()
ENDIF()
```

`-DINSTALL_LIBS:BOOL=ON` overrides this and solves the issue.

I think I see the intent behind this: ""install libraries only if not using an IDE"", but I'm not sure what the proper solution would be.

Simply adding `""MSYS Makefiles""` and `""MinGW Makefiles""` would work, but it's not optimal, as there are many more makefile flavors that could be used.",found culprit option set want install else apple framework option set want install else default enable option option set want install issue think see intent behind install ide sure proper solution would simply would work optimal many could used,issue,positive,positive,positive,positive,positive,positive
668009661,"Bullet is a great library, it deserves up to date build system. I hope this initiative moves forward 😊",bullet great library date build system hope initiative forward,issue,positive,positive,positive,positive,positive,positive
667608030,"This is fixed in current master.
This pr can be closed.",fixed current master closed,issue,negative,neutral,neutral,neutral,neutral,neutral
667607676,"CMake, by default, does this correct.
On MSVC, *no prefix* is set.
On MINGW, a *lib* prefix is used.

So your patch is incorrect for mingw.
",default correct prefix set prefix used patch incorrect,issue,negative,neutral,neutral,neutral,neutral,neutral
667606687,"@lerppana 
This pr set has become huge, too huge for merging.
It reformats the code, simplifies things here and there, adds support for shared libraries on Windows and fixes some examples.
That's why I extracted the formating to pr #2643.
Once that gets merged, if ever, then I'll continue on the next task.

Is @erwincoumans still interested in this, and willing to review #2643?
Because I don't see any feedback, I don't know whether it is worth the effort..",set become huge huge code support extracted ever continue next task still interested willing review see feedback know whether worth effort,issue,positive,positive,positive,positive,positive,positive
667315056,"It is hardcoded at the moment.
See around line 219 in ci.m_renderDevice = -1;
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/plugins/eglPlugin/eglRendererVisualShapeConverter.cpp#L219

You could change the m_renderDevice to a non-negative integer and install it again (python3 setup.py install in the root). It would be a bit more work to pass it as a parameter.",moment see around line could change integer install python install root would bit work pas parameter,issue,negative,neutral,neutral,neutral,neutral,neutral
667299818,"You can use the pybullet_utils.urdfEditor for this. See the example attaching a Kuka robot on top of a Husky vehicle:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/examples/combineUrdf.py
https://www.youtube.com/watch?v=5rbRlhT41YI",use see example robot top husky vehicle,issue,negative,positive,positive,positive,positive,positive
667299269,"I think it is currently not supported, but would be nice to have indeed.",think currently would nice indeed,issue,negative,positive,positive,positive,positive,positive
667069361,Could you share how you loaded multiple clips and created several kinematic characters?,could share loaded multiple clip several kinematic,issue,negative,neutral,neutral,neutral,neutral,neutral
666630914,"Hello,
Is there a schedule/plan to get this feature in the near future? I believe this is really nice to have for character animation field. A swing-twist limited spherical joint may help remove lots of unnatural movements as others have pointed out. It'll be great to see this implemented to bring improvements to character animation projects, not just deepmimic. Thanks!",hello get feature near future believe really nice character animation field limited spherical joint may help remove lot unnatural pointed great see bring character animation thanks,issue,positive,positive,positive,positive,positive,positive
666150396,"you can refer to this function PhysicsServerCommandProcessor::createEmptyDynamicsWorld(),  by default it will use the  btMultiBodyConstraintSolver as the constriant solver which is the subclass of the btSequentialImpulseConstraintSolver.
hope this can help you.",refer function default use solver subclass hope help,issue,positive,neutral,neutral,neutral,neutral,neutral
665092032,"I am working on a local copy of the repo, I will happily share it once I am done! Atm I have tried to train a policy to walk in different directions based on the input clip, I will need to look for other clips or interpolate them so that they have the same duration",working local copy happily share done tried train policy walk different based input clip need look clip interpolate duration,issue,positive,positive,positive,positive,positive,positive
665062813,"Thanks! Do you have any results (video, learning curves etc) to share? Is there a github fork with the changes?",thanks video learning share fork,issue,positive,positive,positive,positive,positive,positive
664976527,"I modified
- `motion_capture data`
- `humanoid_stable_pd`
- `pybullet_deep_mimic_env`
- `DeepMimic_Optimizer`
- `mpi_run`
- `testrl`

The last three scripts were modified in order to execute the new scripts that I wrote instead of the original ones.",data last three order execute new wrote instead original,issue,negative,positive,positive,positive,positive,positive
664952732,"> What is the issue of adding the material field with color in the URDF file?

@erwincoumans The issue is this (#2955). Sometimes it doesn't give a very realistic feeling. We are accustomed to seeing specific robots with specific visuals in real environment. Users would like to see the same visuals in a simulated environment. It would be good if this capability will be added to PyBullet. Thanks.",issue material field color file issue sometimes give realistic feeling accustomed seeing specific specific real environment would like see environment would good capability added thanks,issue,positive,positive,positive,positive,positive,positive
664949011,I think loading colors from .obj file does not work in bullet. Its limited to single color per link. See this post #1934 ,think loading color file work bullet limited single color per link see post,issue,negative,negative,neutral,neutral,negative,negative
664924000,are you sure the blue color in the gazebo comes from the .obj file? i don't find the any color info from the .obj file. do i miss something?,sure blue color gazebo come file find color file miss something,issue,negative,positive,positive,positive,positive,positive
664848685,so do you mean that bullet doesn't use the color info in the .obj file?  ,mean bullet use color file,issue,negative,negative,negative,negative,negative,negative
664769105,"Yes, it does. But it does not import any colors from _.obj_ file. Whatever color we set in _material_ tag in urdf, it changes accordingly. But if you see the ur5 robot in the gazebo, some of the sections of link are in blue color. If  I change the color for a link in urdf file, color of whole link changes. Please see the picture below.

![ur5_color](https://user-images.githubusercontent.com/34967469/88619112-5eb98d80-d0b8-11ea-841c-2b264c2804e4.png)

#### Code
````
  <link name=""forearm_link"">
    <visual>
      <geometry>
        <mesh filename=""../meshes/ur5/visual/forearm.obj""/>
      </geometry>
      <material name=""Yellow"">
        <color rgba=""1 1 0 1.0""/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename=""../meshes/ur5/collision/forearm.stl""/>
      </geometry>
    </collision>
    <inertial>
      <mass value=""2.275""/>
      <origin rpy=""0 0 0"" xyz=""0.0 0.0 0.25""/>
      <inertia ixx=""0.049443313556"" ixy=""0.0"" ixz=""0.0"" iyy=""0.049443313556"" iyz=""0.0"" izz=""0.004095""/>
    </inertial>
  </link>
````
",yes import color file whatever color set tag accordingly see ur robot gazebo link blue color change color link file color whole link please see picture code link visual geometry mesh material yellow color collision geometry mesh inertial mass origin inertia,issue,negative,positive,neutral,neutral,positive,positive
664766618,"i dont know how the Gazebo get the color, but i think the color in pybullet is as expected as what you set in the urdf.",dont know gazebo get color think color set,issue,negative,neutral,neutral,neutral,neutral,neutral
663869546,"## Update:

It did in fact turn out to be an STL size issue. I changed my export settings from Fine to Coarse and that did the trick!

![image](https://user-images.githubusercontent.com/55120103/88460712-2d4c8200-ce6c-11ea-8160-899d0b5e804b.png)
",update fact turn size issue export fine coarse trick image,issue,negative,positive,positive,positive,positive,positive
663595027,"Hello, which script are you modifying in order to implement multi-clip reward? I know the script in the original DeepMimic is SceneImitate.cpp. But what is the alternative for SceneImitate.cpp in the pybullet version?",hello script order implement reward know script original alternative version,issue,positive,positive,positive,positive,positive,positive
663008662,"The subsimplex convex cast is a bit faster, but less accurate, it is best to use the gjk one.

Actually, for many shapes it is better and faster to use a specialized ray intersection implementation. We didn't do that for Bullet, convex shapes don't even have indices/triangles by default. You can implement a faster and more accurate custom ray-convex and ray-box.

",convex cast bit faster le accurate best use one actually many better faster use specialized ray intersection implementation bullet convex even default implement faster accurate custom,issue,positive,positive,positive,positive,positive,positive
662983509,Is there any reason not to use the GJK convex cast?  Just curious if there were some performance benefits or something for the other one.,reason use convex cast curious performance something one,issue,negative,positive,neutral,neutral,positive,positive
662915097,"For anyone searching for this in the future, the best workaround I could find is to just move the base with resetBasePositionAndOrientation() for the simulation and then let a ROS controller determine the actual wheel actuation based on the state of the base centre if needed.",anyone searching future best could find move base simulation let controller determine actual wheel actuation based state base,issue,positive,negative,negative,negative,negative,negative
662504505,"@trougnouf  How do you ""use a GL 3.0 context"" here?

Using `pip install pybullet==2.8.4`, here are my drivers for my Ubunut 18.04 virtual machine (i.e., a remote machine) though I faked a desktop which leads to Xorg visible:

```  
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 450.51.05    Driver Version: 450.51.05    CUDA Version: 11.0     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|                               |                      |               MIG M. |
|===============================+======================+======================|
|   0  Tesla T4            On   | 00000000:00:04.0 Off |                    0 |
| N/A   37C    P8    10W /  70W |     11MiB / 15109MiB |      0%      Default |
|                               |                      |                  N/A |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                                  |
|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |
|        ID   ID                                                   Usage      |
|=============================================================================|
|    0   N/A  N/A      3312      G   /usr/lib/xorg/Xorg                 10MiB |
+-----------------------------------------------------------------------------+
```

Message from my PyBullet script:

```
startThreads creating 1 threads.
starting thread 0
started thread 0
argc=2
argv[0] = --unused
argv[1] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
X11 functions dynamically loaded using dlopen/dlsym OK!
Creating context
Failed to create GL 3.3 context ... using old-style GLX context
Failed to create an OpenGL context
```",use context pip install virtual machine remote machine though visible driver version version name volatile fan temp compute mig mib mib default type process name memory id id usage mib message script starting thread thread unused server dynamically loaded dynamically loaded context create context context create context,issue,positive,negative,neutral,neutral,negative,negative
662241207,For PyBullet we use it as default. I'll have a look making it default.,use default look making default,issue,negative,neutral,neutral,neutral,neutral,neutral
662233401,I'm happy to help if you can provide small reproduction case. ,happy help provide small reproduction case,issue,positive,positive,positive,positive,positive,positive
662222606,Quick test seems like the kF_UseGjkConvexCastRaytest flag fixes the issue.  Why is that not the default?,quick test like flag issue default,issue,negative,positive,positive,positive,positive,positive
662220083,"I also posted an issue on the Godot github in case it's specific to that: https://github.com/godotengine/godot/issues/40586

I have a project example there: https://github.com/godotengine/godot/files/4957613/Test.Double.Precision.Raycast.zip
here's the Godot engine prebuilt with that define set:  https://github.com/godotengine/godot/files/4957620/godot.windows.opt.tools.32_double_precision_bullet.zip

The define should be set for everything.  I added `env_base.Append(CPPDEFINES=[""BT_USE_DOUBLE_PRECISION""])` to the SCons file.

I'll give the gjk flag a test.  Is there a good starting sample I could use if the Godot thing is too complex?",also posted issue case specific project example engine define set define set everything added file give flag test good starting sample could use thing complex,issue,negative,positive,neutral,neutral,positive,positive
662215147,"Thanks for the report. I can't see the issue in the code. Can you please create a minimal but fully working example in Bullet (modify some example, load the geometry etc)? You can attach zip files to issues.

One thing to test: Use the 'kF_UseGjkConvexCastRaytest' flag, which has a more reliable ray test than the default one:
~~~~~~~~
rayResultCallback.m_flags |= btTriangleRaycastCallback::kF_UseGjkConvexCastRaytest;
~~~~~~~~

Also note that it is very important that ALL project that touch Bullet need the BT_USE_DOUBLE_PRECISION flag set, if not, there can be random problems.",thanks report ca see issue code please create minimal fully working example bullet modify example load geometry attach zip one thing test use flag reliable ray test default one also note important project touch bullet need flag set random,issue,positive,neutral,neutral,neutral,neutral,neutral
662014697,"@TontonTremblay  from my experience, it seems like vertices are always returned in a consistent order for the second item. Therefore you can just index it by the ordering in that second item.",experience like vertex always returned consistent order second item therefore index second item,issue,negative,positive,neutral,neutral,positive,positive
661043091,"PyBullet only reads a subset of information from the URDF, SDF or MJCF, and that doesn't include joint limit forces. You can use changeDynamics to set the jointLimitForce. See also the Pybullet Quickstart Guide:

https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3

In general, applying random large forces is going to cause instable simulations. It is best to compute them using feedback, for example using PD or PyBullet inverse dynamics, or use the built-in position or velocity control.",subset information include joint limit use set see also guide general random large going cause instable best compute feedback example inverse dynamic use position velocity control,issue,positive,positive,positive,positive,positive,positive
660487583,"Me too, and there were no leaks. Please check https://github.com/bulletphysics/bullet3/issues/2935 and let me know if you see leaks/growing memory in that example. Let's discuss there, assuming you applied this pull request and no other modifications to the Bullet source code.",please check let know see memory example let discus assuming applied pull request bullet source code,issue,negative,neutral,neutral,neutral,neutral,neutral
660487383,"Attached is the program I tested, and didn't find any growing memory or leaks.
[RobotSimulatorMain.zip](https://github.com/bulletphysics/bullet3/files/4941770/RobotSimulatorMain.zip)

Please check if this program causes leaks. If not, make minimal modifications to reproduce the leak.
You can use premake to generate project files on WIndows, Mac OSX and Linux, for example
~~~~~~~~~~~~~~~~
cd build3
./premake4_linux64 gmake
cd gmake App_RobotSimulator
make -j
../../bin/App_RobotSimulator
~~~~~~~~~~~~~~~~",attached program tested find growing memory please check program make minimal reproduce leak use premake generate project mac example build make,issue,negative,negative,neutral,neutral,negative,negative
660483234,"The memory is cleaned up. Provide a self contained miminal cpp code (including int main(int argv,argc)), preferably based on
 https://github.com/bulletphysics/bullet3/blob/master/examples/RobotSimulator/RobotSimulatorMain.cpp

I added those lines in the main loop, and no leaks.",memory provide self code main preferably based added main loop,issue,negative,positive,positive,positive,positive,positive
660483053,"I did, but I am still seeing no reduction in memory usage after I call `removeState` on all the stateIds I have saved so far. The stateId counter gets reset, but the memory doesn't appear to be deallocated. ",still seeing reduction memory usage call saved far counter reset memory appear,issue,negative,positive,neutral,neutral,positive,positive
660482674,"removeState IS deleting that memory, there is no leak. No need to wait for resetSimulation. Dis you apply my CL?",memory leak need wait dis apply,issue,negative,neutral,neutral,neutral,neutral,neutral
660482124,"Hi, I've added a follow-up comment to #2935 . But I am reproducing it here:

Even after I call `removeState()`, the memory al is not cleaned up until the end of `PhysicsServerCommandProcessor`'s lifetime. Is there a way to clean up the `savedState`'s `m_bulletFile` and `m_serializer` objects when we call `removeState()`?",hi added comment even call memory al end lifetime way clean call,issue,negative,positive,positive,positive,positive,positive
660481935,"Hi @erwincoumans ,

Thank you for your response! I tried the fix, but the issue in `saveStateToMemory()` still persists. This is the output from valgrind:

```
==93906== Conditional jump or move depends on uninitialised value(s)
==93906==    at 0x6BCB95: bParse::bFile::findLibPointer(void*) (in /path/to/my/executable)
==93906==    by 0x6BD123: bParse::bFile::resolvePointersStructRecursive(char*, int, int, int) (in /path/to/my/executable)
==93906==    by 0x6BD39E: bParse::bFile::resolvePointersChunk(bParse::bChunkInd const&, int) (in /path/to/my/executable)
==93906==    by 0x6BD868: bParse::bFile::resolvePointers(int) (in /path/to/my/executable)
==93906==    by 0x6BDED5: bParse::bFile::parseInternal(int, char*, int) (in /path/to/my/executable)
==93906==    by 0x6BEE6F: bParse::btBulletFile::parse(int) (in /path/to/my/executable)
==93906==    by 0x5B4603: PhysicsServerCommandProcessor::processSaveStateCommand(SharedMemoryCommand const&, SharedMemoryStatus&, char*, int) (in /path/to/my/executable)
==93906==    by 0x5B5135: PhysicsServerCommandProcessor::processCommand(SharedMemoryCommand const&, SharedMemoryStatus&, char*, int) (in /path/to/my/executable)
==93906==    by 0x6851C0: PhysicsDirect::submitClientCommand(SharedMemoryCommand const&) (in /path/to/my/executable)
==93906==    by 0x5F2A03: b3SubmitClientCommand (in /path/to/my/executable)
==93906==    by 0x5F2A9F: b3SubmitClientCommandAndWaitStatus (in /path/to/my/executable)
==93906==    by 0x580F1F: b3RobotSimulatorClientAPI_NoDirect::saveStateToMemory() (in /path/to/my/executable)
```

What I think is happening: Even after I call `removeState()`, the memory al is not cleaned up until the end of `PhysicsServerCommandProcessor`'s lifetime. Is there a way to clean up the `savedState`'s `m_bulletFile` and `m_serializer` objects when we delete the state?",hi thank response tried fix issue still output conditional jump move value void char char char char think happening even call memory al end lifetime way clean delete state,issue,positive,positive,positive,positive,positive,positive
660395506,"Heh, thanks.

Fixed this instance. Yes, the naming object and body is indeed mixed up, not consistent. We can update the quickstart guide, not worth breaking the API.",thanks fixed instance yes naming object body indeed mixed consistent update guide worth breaking,issue,positive,positive,positive,positive,positive,positive
660356977,"There is no removeState exposed in C++. I added it here, please check it https://github.com/bulletphysics/bullet3/pull/2940",exposed added please check,issue,negative,neutral,neutral,neutral,neutral,neutral
659569602,"loadMJKF is a spelling mistake, please check the docs.",spelling mistake please check,issue,negative,neutral,neutral,neutral,neutral,neutral
659391719,"I tried the following edits to `examples/SharedMemory/PhysicsServerCommandProcessor.cpp`  (similar to the fix merged in #2397 ):

Inside `PhysicsServerCommandProcessor::processSaveStateCommand( ... )`, I added the following lines before the return statement:

```
delete ser; 
delete bulletFile;
```

Unfortunately, the second line doesn't let me save states anymore, and only leaving the first line, i.e. deleting the `btDefaultSerializer` object still causes the memory leak described earlier.
",tried following similar fix inside added following return statement delete ser delete unfortunately second line let save leaving first line object still memory leak,issue,negative,positive,neutral,neutral,positive,positive
659007920,"renamed the gravityX-> gravX etc. Thanks for the report. Indeed, leaving out the args works as well.",thanks report indeed leaving work well,issue,positive,positive,positive,positive,positive,positive
658523760,"Thanks for the tips, got it all to work. Except the mouse pointer is invisible in the X11/XLaunch window.",thanks got work except mouse pointer invisible window,issue,negative,positive,positive,positive,positive,positive
658511290,"I generated the _pb2.py files with the `protoc` command. (e.g. `protoc -I=$SRC_DIR --python_out=$DST_DIR $SRC_DIR/timestep.proto`). And I just replaced the file contents. I am not sure why the generated files differ so much - possibly because of different compiler version? I have protobuf 3.12.3. 

Anything wrong with the way I create these files?  I am happy to re-generate these once we figure this out.",command file content sure differ much possibly different compiler version anything wrong way create happy figure,issue,positive,positive,positive,positive,positive,positive
658506006,"Thanks, let's rename the timestamp proto then.

There are some large changes in another files. For example, why was this removed? It allows locally running (without install):
~~~~~~~~~~~~~~~~~~
import os, inspect
currentdir = os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe())))
parentdir = os.path.dirname(os.path.dirname(currentdir))
os.sys.path.insert(0, parentdir)
~~~~~~~~~~~~~~~~~~
",thanks let rename proto large another example removed locally running without install import o inspect,issue,negative,positive,positive,positive,positive,positive
658492233,"> Thanks, but I still don't find it. Where is that robotics messages proto file defining timestamp?

`timestamp.proto` is [here](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/minitaur/envs/timestamp.proto).

If that's not what you mean. Are you looking for something like `robotics.messages.proto`?

I can't find it in `bullet3/` either. I generated the python proto file via `protoc`, and apparently proto package in python is used more for the purpose of avoiding naming conflicts (as far as I can tell from this [answer](https://stackoverflow.com/a/60483464)). That said, I don't know if a ""package"" proto needs to be present.

Another thought:
Can robotics.messages live inside google's codebase (`google3`)? I found the same naming declaration [here](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/minitaur/agents/scripts/train_ppo_test.py#L25). 

",thanks still find proto file mean looking something like ca find either python proto file via apparently proto package python used purpose naming far tell answer said know package proto need present another thought live inside found naming declaration,issue,positive,positive,neutral,neutral,positive,positive
658487182,"Thanks, but I still don't find it. Where is that robotics messages proto file defining timestamp?",thanks still find proto file,issue,negative,positive,positive,positive,positive,positive
658482845,"> Thanks for the contribution. I'm less familiar with the proto features. Where is robotics.messages timestamp defined?

The change of package name can be found [here](https://github.com/bulletphysics/bullet3/pull/2931/files#diff-86b12063bc313c87ff532bf4917cd1b0R30). 

`timestamp.proto` is almost identical as `google.protobuf`'s [timestamp.proto](https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/timestamp.proto). So I guess the author copied from there directly, but forgot to change the package name?

I chose `robotics.messages` because another proto file in this directory, [vector.proto](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/minitaur/envs/vector.proto#L3), is created under this package. ",thanks contribution le familiar proto defined change package name found almost identical guess author copied directly forgot change package name chose another proto file directory package,issue,negative,positive,positive,positive,positive,positive
658480242,Thanks for the contribution. I'm less familiar with the proto features. Where is robotics.messages timestamp defined?,thanks contribution le familiar proto defined,issue,negative,positive,positive,positive,positive,positive
658433518,"I installed WSL2 but ran into errors setting it as the default for new Linux distributions so I believe I am running WSL1.

On a second look, it seems that I was mixing up the OpenGL and GLX version strings in glxinfo; I am running GLX 1.4 and OpenGL 3.1.

Running the command you requested (only with python3 instead of python) gives the expected graphical output of a humanoid figure running toward a red ball, and the following terminal output:

pybullet build time: Jul  8 2020 18:24:53
current_dir=/home/\<user\>/.local/lib/python3.8/site-packages/pybullet_envs/bullet
/home/\<user\>/.local/lib/python3.8/site-packages/gym/logger.py:30: UserWarning: WARN: Box bound precision lowered by casting to float32
  warnings.warn(colorize('%s: %s'%('WARN', msg % args), 'yellow'))
startThreads creating 1 threads.
starting thread 0
started thread 0
argc=2
argv[0] = --unused
argv[1] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
X11 functions dynamically loaded using dlopen/dlsym OK!
Creating context
Created GL 3.3 context
Direct GLX rendering context obtained
Making context current
GL_VENDOR=VMware, Inc.
GL_RENDERER=llvmpipe (LLVM 10.0.0, 256 bits)
GL_VERSION=3.3 (Core Profile) Mesa 20.0.8
GL_SHADING_LANGUAGE_VERSION=3.30
pthread_getconcurrency()=0
Version = 3.3 (Core Profile) Mesa 20.0.8
Vendor = VMware, Inc.
Renderer = llvmpipe (LLVM 10.0.0, 256 bits)
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0
MotionThreadFunc thread started
ven = VMware, Inc.
ven = VMware, Inc.
/home/\<user\>/.local/lib/python3.8/site-packages/pybullet_envs/examples/enjoy_TF_HumanoidFlagrunHarderBulletEnv_v1_2017jul.py:58: DeprecationWarning: The truth value of an empty array is ambiguous. Returning False, but in future this will result in an error. Use `array.size > 0` to check that an array is not empty.
  if still_open == False:
X connection to :0 broken (explicit kill or server shutdown).
",ran setting default new believe running second look version running running command python instead python graphical output humanoid figure running toward red ball following terminal output build time warn box bound precision casting float colorize starting thread thread unused server dynamically loaded dynamically loaded context context direct rendering context making context current core profile mesa version core profile mesa vendor renderer selected physic server starting thread thread thread truth value empty array ambiguous false future result error use check array empty false connection broken explicit kill server shutdown,issue,negative,negative,neutral,neutral,negative,negative
658422611,"Thanks! Is this [WSL1 or WSL2](https://docs.microsoft.com/en-us/windows/wsl/install-win10)?

Interesting, PyBullet requires OpenGL 3.x or higher, so 1.4 isn't sufficient.  Can you copy and paste the full output if you run that command?
~~~~~~~~~~~
python -m pybullet_envs.examples.enjoy_TF_HumanoidFlagrunHarderBulletEnv_v1_2017jul
~~~~~~~~~~~
For comparison, here is the 'regular' Windows version:
~~~~~~~~~~~~~~~~
C:\WINDOWS\system32>python -m pybullet_envs.examples.enjoy_TF_HumanoidFlagrunHarderBulletEnv_v1_2017jul
pybullet build time: Jul 13 2020 10:16:17
starting thread 0
started testThreads thread 0 with threadHandle 00000000000002D4
argc=2
argv[0] = --unused
argv[1] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
Version = 4.6.0 NVIDIA 446.14
Vendor = NVIDIA Corporation
Renderer = GeForce RTX 2080/PCIe/SSE2
b3Printf: Selected demo: Physics Server
starting thread 0
~~~~~~~~~~~~~~~~",thanks interesting higher sufficient copy paste full output run command python comparison version python build time starting thread thread unused server version vendor corporation renderer selected physic server starting thread,issue,positive,positive,positive,positive,positive,positive
658419775,"It turns out that the problem was not with PyBullet but with the X server that I was using to display on Windows Subsystem Linux.

I was able to get the PyBullet demos running by switching from Xming (GLX 1.2) to VcXsrv (GLX 1.4) and unchecking ""Native opengl"" in the ""Extra settings"" section of the X server startup wizard.

(Edited to correct OpenGL->GLX in version numbers)",turn problem server display subsystem able get demo running switching native extra section server wizard correct version,issue,negative,positive,positive,positive,positive,positive
658349531,"The argument `useComReward=False`can be passed to the constructor of `HumanoidStablePD` (default value is `True`), so either that or changing pybullet_deep_mimic_env.py unfortunately",argument constructor default value true either unfortunately,issue,negative,negative,neutral,neutral,negative,negative
658313493,Thanks. How can you disable the CoM reward? Do we have to manually edit the file humanoid_stable_pd.py?,thanks disable reward manually edit file,issue,positive,positive,positive,positive,positive,positive
658295458,"That args file is loading the checkpoint of the policy trained without the CoM reward. If you override the `--model_files` argument of the script, you can use the right checkpoint:
```
python testrl.py --arg_file run_humanoid3d_walk_args.txt --model_files data/policies/humanoid3d/humanoid3d_walk_COMenabled.ckpt
```",file loading policy trained without reward override argument script use right python,issue,negative,positive,positive,positive,positive,positive
658291373,"Using
~~~~~~~~~~~~~
python testrl.py --arg_file run_humanoid3d_walk_args.txt
~~~~~~~~~~~~~
seems to walk just fine though, without jitter. Isn't the walk args policy using the CoM reward?",python walk fine though without jitter walk policy reward,issue,positive,positive,positive,positive,positive,positive
658289932,"Yes, that's the behavior I'm getting, table values that are lower even though ""total_reward"" is around 600 and the sim character seems to follow the reference COM for longer (as in, the character doesn't veer leftwards for some episodes)
I agree, let's set the default to False for now until we understand what's going on
",yes behavior getting table lower even though around character follow reference longer character veer leftwards agree let set default false understand going,issue,negative,negative,negative,negative,negative,negative
658289335,"Using CoM may require longer training. Let's disable CoM reward for now, until it is fixed.",may require longer training let disable reward fixed,issue,positive,positive,neutral,neutral,positive,positive
658265675,"Add the --width and --height to the connection options, and use COV_ENABLE_GUI,0 as follows:
~~~~~~~~~~~~~
p.connect(p.GUI, options=""--width=320 --height=240 --mp4=\""test.mp4\"" --mp4fps=240"")
p.configureDebugVisualizer(p.COV_ENABLE_GUI,0)
p.configureDebugVisualizer(p.COV_ENABLE_SINGLE_STEP_RENDERING,1)
~~~~~~~~~~~~~
You can use ffmpeg to extract all frames from the video:
~~~~~~~~~~~~~
ffmpeg -i test.mp4 ""frames/out-%03d.png""
~~~~~~~~~~~~~",add width height connection use use extract video,issue,negative,neutral,neutral,neutral,neutral,neutral
658222525,"This is the output of the last iteration

```total_reward= 600.7960983224666
total_reward= 591.6705727255253
total_reward= 243.67367030236088
total_reward= 616.797021415739
total_reward= 671.1451071319889
total_reward= 567.0324464533726
total_reward= 600.0086108514454
total_reward= 569.2327377122585
total_reward= 625.4447597898787
total_reward= 593.9930947095625
total_reward= 653.7059954912147
total_reward= 597.3132993126923
total_reward= 653.7461403359835
total_reward= 541.6954370380283
total_reward= 540.8598626358088
total_reward= 545.4463052148188
total_reward= 597.4143210801008
total_reward= 613.9794177757146
total_reward= 670.3452912501295
total_reward= 591.3753855060046
total_reward= 602.9625493302237
total_reward= 576.2369867090213
total_reward= 626.2160568181738
total_reward= 586.670532133944
total_reward= 660.4745956421806
total_reward= 336.8020764473559
total_reward= 603.2142162408127
total_reward= 547.6281677943383
total_reward= 569.104629862165
total_reward= 609.5559980021011
total_reward= 467.91968946873004
total_reward= 614.8123625621893
total_reward= 639.544688730203
total_reward= 558.1669304658501
total_reward= 500.94694794326466
total_reward= 606.1023105542579
Agent 0
-------------------------------------
|       Iteration |           14449 |
|       Wall_Time |            21.3 |
|         Samples |        63173017 |
|    Train_Return |              67 |
|     Test_Return |            71.8 |
|      State_Mean |        -0.00787 |
|       State_Std |            1.06 |
|       Goal_Mean |               0 |
|        Goal_Std |               0 |
|        Exp_Rate |            0.21 |
|       Exp_Noise |            0.05 |
|        Exp_Temp |         0.00106 |
|     Critic_Loss |         0.00201 |
| Critic_Stepsize |            0.01 |
|      Actor_Loss |            0.27 |
|  Actor_Stepsize |         2.5e-06 |
|       Clip_Frac |           0.199 |
|        Adv_Mean |       0.5106435 |
|         Adv_Std |      0.45592296 |
-------------------------------------```",output last iteration agent iteration,issue,negative,neutral,neutral,neutral,neutral,neutral
657784694,"I am also interested in the Rope example, does it exist for pyBullet?

I am currently simulating many bodies connected in series of revolute joints, this seems to generate a rope-like behavior, But perturbing such a ""rope"" with fast force variations generated a chaotic behavior of the simulation. I guess this is because the time steps don't allow bullet to solve all the constraints involved. 

I have also tried using the createContraint function to create connections of different urdf files through python code. These constraints, even though they are declared as ""fixed"", appear to change. 

Any suggestions? 
",also interested rope example exist currently many connected series revolute generate behavior perturbing rope fast force chaotic behavior simulation guess time allow bullet solve involved also tried function create different python code even though declared fixed appear change,issue,positive,positive,positive,positive,positive,positive
657150213,"That indeed sounds more reasonable.
I am digging into these two settings to see how they effect the rectangle pattern. 

I did some test and it looks like, if I got some rectangles, they usually is in a small scale that actually the vehicle is turning almost in the same place. (For example: https://github.com/yanshil/PybulletCarRobot/blob/master/src/test_outputs/simple_cuboid/disableConeFriction_initMaxPulseZero.png)

Currently I didn't find other patterns that is far away from my expectations. Thanks again!



",indeed reasonable digging two see effect rectangle pattern test like got usually small scale actually vehicle turning almost place example currently find far away thanks,issue,positive,positive,neutral,neutral,positive,positive
656625870,"> There is a sense of drag between rigid bodies.
> For instance:
> A <--- B
> A has already reached the place, B has just started.
> how to deal with it?
> Is there any parameters can be controlled?

when A move fast, B has the damping effective, i wanna remove that delay",sense drag rigid instance already place deal move fast damping effective wan na remove delay,issue,negative,positive,positive,positive,positive,positive
656435731,"This is not a regular command prompt. You need the Visual Studio 2019 command prompt x64 bit. Again, this is not a pybullet issue, use the pip or Python support forums if they exist.",regular command prompt need visual studio command prompt bit issue use pip python support exist,issue,negative,neutral,neutral,neutral,neutral,neutral
656428070,"I get the same errors installing from command prompt. I have python3.8.3 installed in c:\users\steph and when I run pip install pybullet here I get the errors. 

 Visual Studio 2019 is installed. I was warned to update pip, so I did, but that had no effect. 

Error happens when setting up the wheel I think. I'm not sure what that means. 

Also I have the error message ""error: Microsoft Visual C++ 14.0 is required."" I have installed this also. 

I have also tried to manually extract the library using the link you provided above. I made a bullet3 folder in the lib\site-packages folder of my conda env. And then from the conda terminal I ran python setup.py build while in the bullet3 folder. I got the same error about  Microsoft Visual C++ 14.0 being required. Not entirely sure if this is what you were suggesting?

Thank you for the help!",get command prompt python run pip install get visual studio update pip effect error setting wheel think sure also error message error visual also also tried manually extract library link provided made bullet folder folder terminal ran python build bullet folder got error visual entirely sure suggesting thank help,issue,negative,positive,positive,positive,positive,positive
656414314,"If you have Python installed in the root of c:\ for example c:\python3.7 and pip and Visual Studio 2019 and use a command-prompt.
pip install pybullet should work on Windows, Linux and Mac OSX.
Alternatively, running python setup.py build or python setup.py develop or python setup.py install should work on all platforms. No need or support for conda, just pip should work.
",python root example pip visual studio use pip install work mac alternatively running python build python develop python install work need support pip work,issue,negative,neutral,neutral,neutral,neutral,neutral
656411457,"Did a solution ever get found for this? 

I'm trying to install pybullet into my anaconda environment. Currently getting an error ""failure to build pybullet wheel"".  Also getting ""ERROR: Command errrored out with exit status 1""

Seems to happen when building pybullet wheel (setup.py). I made sure my setup.py was updated. 

Also error message suggests I need Visual Studio 2019 14.0. So I install x64 and x86 versions.

os: windows 10 64bit
conda version: 4.8.3
python version: 3.7.7
pip version: 20.1.1",solution ever get found trying install anaconda environment currently getting error failure build wheel also getting error command exit status happen building wheel made sure also error message need visual studio install o bit version python version pip version,issue,negative,positive,neutral,neutral,positive,positive
656410788,"Thank you for the reply, 

In the zip file you can find the files, the first to the Python code, the second to the URDF code: 

I just updated the file to the version you should see, the file you saw a minute ago is not the right one, please open this one: 
 
[Inverted_pendulum_tendon_actuation.zip](https://github.com/bulletphysics/bullet3/files/4900121/Inverted_pendulum_tendon_actuation.zip)

You will see that even though the model looks right, when moving the pulley (wheels), it can enter into a chaotic behavior. ",thank reply zip file find first python code second code file version see file saw minute ago right one please open one see even though model right moving pulley enter chaotic behavior,issue,negative,positive,positive,positive,positive,positive
656406188,"You can create a fixed constraint (or point-to-point constraint etc) to create loops, using pybullet.createConstraint.
See for example: https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/constraint.py
You can pass in a parent body unique id, link index and child body unique, link index. For a loop the parent and child body unique id can be the same.

We use this for example in the Minitaur quadruped robot to create a loop for each leg (5-bar linkage):
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/minitaur/envs/minitaur.py#L378

There are no links to your code (Pendulum_exercise/Inverted_pendulum_tendon_actuation.py), can you attach them as zipfile?",create fixed constraint constraint create see example pas parent body unique id link index child body unique link index loop parent child body unique id use example quadruped robot create loop leg linkage link code attach,issue,positive,positive,positive,positive,positive,positive
655829537,"I think I found the problem. I was giving the IK function bad values; the passed lists (ll, ul, rp, jr) had different lengths.
In addition, the dof of the robot is 10 (as that is the length of the list returned by the function), so I should have passed it 4 lists of length 10, corresponding to each movable joint. Fixing this returned appropriate values which reach the given target position+orientation.",think found problem giving function bad different addition robot length list returned function length corresponding movable joint fixing returned appropriate reach given target,issue,negative,negative,neutral,neutral,negative,negative
655824612,"I hadn't noticed the penetration; removing the plane worked.
Thank you!",penetration removing plane worked thank,issue,negative,neutral,neutral,neutral,neutral,neutral
655667271,"I'm mainly concerned if the backflip can still train with the modification. If not, we can disable the COM reward by default (or using a flag).",mainly concerned still train modification disable reward default flag,issue,positive,positive,positive,positive,positive,positive
655619236,"I had a quick look, the robot doesn't have a fixed base and is penetrating the plane. (press 'w' key to see the penetration). Those penetrations can cause the constraint solver to not converge (report bogus solutions). Please remove the plane and check again. Also, you may want to use a few simulation steps to allow the control to reach the target. See attached curves and updated script.

![joints](https://user-images.githubusercontent.com/725468/86947929-54335600-c101-11ea-9327-bb934b366825.png)
[test.zip](https://github.com/bulletphysics/bullet3/files/4892126/test.zip)
",quick look robot fixed base penetrating plane press key see penetration cause constraint solver converge report bogus please remove plane check also may want use simulation allow control reach target see attached script,issue,positive,negative,neutral,neutral,negative,negative
655578212,"I've created a gist to reproduce the behavior:
https://gist.github.com/seann999/9f43f493cdce56ed87e662682e3660c4
These are the joint states produced (the last 2 plots for gripper states can be ignored):
![joints](https://user-images.githubusercontent.com/6847529/86935709-19203980-c178-11ea-8305-cdaf2b68d2bf.png)
",gist reproduce behavior joint produced last gripper,issue,negative,neutral,neutral,neutral,neutral,neutral
655574495,I only trained the walking motion. Do I just overwrite the `humanoid3d_walk` checkpoint in `pybullet_data/data/policies/humanoid3d` and commit ?,trained walking motion overwrite commit,issue,negative,neutral,neutral,neutral,neutral,neutral
655552826,"Thanks for the response.
I've written a gist to reproduce the limit violation:
https://gist.github.com/seann999/55d0493d6d863c1b34d03f58c8b3f98b#file-ik_test-py
For instance, the 2nd trial violates 2 revolute joint limits",thanks response written gist reproduce limit violation instance trial revolute joint,issue,negative,positive,positive,positive,positive,positive
655414722,"Sorry, I just made the Box2d debug draw changes yesterday and didn`t know github would automatically combine them with an old pull request. I will make another pull request for them.
Thanks for making the engine!",sorry made draw yesterday know would automatically combine old pull request make another pull request thanks making engine,issue,negative,negative,neutral,neutral,negative,negative
655338264,"There's no way to amend the history of a git repo without breaking all the existing clones and forks. In this case, we have to live with this big size. For packaging purpose, you can clone the repo with `--depth 1`. ",way amend history git without breaking case live big size purpose clone depth,issue,negative,positive,neutral,neutral,positive,positive
655248567,"Here is a CL that allows to enable/modify lower/upper joint limits and also joint limit max force.
See https://github.com/bulletphysics/bullet3/pull/2919
Note that the CL doesn't update the internal info, so the joint lower/upper limits in getJointInfo will not be updated!",joint also joint limit force see note update internal joint,issue,negative,neutral,neutral,neutral,neutral,neutral
655196470,"Thanks for working on this and on the contribution!
Yes, can you upload some checkpoint? Did you try out the wallk and backflip motions?",thanks working contribution yes try,issue,positive,positive,positive,positive,positive,positive
655176580,"I checked training a policy with Jason Peng's TF code. It still works as before, with consistent rewards of about 600. Should I upload the TF checkpoint?",checked training policy code still work consistent,issue,negative,positive,positive,positive,positive,positive
654902107,"I have tried to instantiate multiple pose interpolators for a single kinematic model, but the training results do not look promising.
@erwincoumans is it safe to assume that to calculate multiple rewards (one for each mocap) I can use multiple pose interpolators on a single kinematic character? Or do I need multiple kinematic chars?

As far as I understood, the simulated model is used for learning and the kinematic character to represent the mocap.",tried multiple pose single kinematic model training look promising safe assume calculate multiple one use multiple pose single kinematic character need multiple kinematic far understood model used learning kinematic character represent,issue,positive,positive,neutral,neutral,positive,positive
654517572,"I was able to find the bug and it was as you said. Due to the random terrain generation, if we had generated terrain with a large incline that the half-cheetah was reset far too high which then lead to the cheetah falling through. Seems to be fixed as we now adjust the base position with a reset to take into consideration the height of the terrain and is working perfectly. Thanks a million for the help and for putting the library together!",able find bug said due random terrain generation terrain large incline reset far high lead cheetah falling fixed adjust base position reset take consideration height terrain working perfectly thanks million help library together,issue,positive,negative,neutral,neutral,negative,negative
654486548,"@sahandrez We didn’t. For our experiments, we ended up using `p.changeConstraint()`, making it clear in the docs that `velocity / p.getBaseVelocity() = 5`. ",ended making clear velocity,issue,negative,positive,positive,positive,positive,positive
654290527,"I launched a training job with the walking motion with the original TF code on my end to see what kind of policy is learned.
I also checked with the Gym environment, and I get a similar policy to before (except the sim character's trajectory drifts from the reference character a bit later).",training job walking motion original code end see kind policy learned also checked gym environment get similar policy except character trajectory reference character bit later,issue,positive,positive,positive,positive,positive,positive
654216521,"As a first step, I will expose the `b3GetNumDofs` function from C-API as `pb.getNumDofs`, which will return the number of Dofs as computed in the `btMultibody` class. This would be separate from `pb.computeDofCount()` which computes on the fly using `b3ComputeDofCount` but does not support spherical/planar joints.
",first step expose function return number class would separate fly support,issue,negative,positive,positive,positive,positive,positive
653324613,"please ignore my old patch, now i find another more reasonable solution:
1. disable all the motor constraints of the Roller by this p.setJointMotorControl2(objUid, linkIndex, p.VELOCITY_CONTROL, force=0) which is a tedious work, so i just change the maxMotorImpulse to 0 when create the default motor constraint in the function PhysicsServerCommandProcessor::createJointMotors() and then rebuilt the engine.
2. disable the cone frition by this p.setPhysicsEngineParameter(enableConeFriction=0).",please ignore old patch find another reasonable solution disable motor roller tedious work change create default motor constraint function rebuilt engine disable cone,issue,negative,negative,neutral,neutral,negative,negative
653289826,"hope this paper below can help you. Could you provide a simple test?(https://www.researchgate.net/publication/242367247_Liegeois_A_Automatic_supervisory_control_of_the_configuration_and_behavior_of_multibody_mechanisms_IEEE_Trans_Syst_Man_Cybern_712_868-871)
",hope paper help could provide simple test,issue,positive,neutral,neutral,neutral,neutral,neutral
653119952,Thanks ! I'll take a look at it if I have time later on.,thanks take look time later,issue,negative,positive,neutral,neutral,positive,positive
653112360,"Yes, lateral friction is sliding friction. Why would the coefficient need to be smaller than 1?",yes lateral friction sliding friction would coefficient need smaller,issue,negative,neutral,neutral,neutral,neutral,neutral
653111819,"IK for multidof joints is currently not supported indeed. Closing for now, if someone wants to implement it we can re-open/create a PR.",currently indeed someone implement,issue,negative,neutral,neutral,neutral,neutral,neutral
652992903,"Orange lines are target values, blue ones are actual positions
![joints](https://user-images.githubusercontent.com/6847529/86362184-d827b100-bcaf-11ea-810c-2b2807efb3cc.png)
",orange target blue actual,issue,negative,neutral,neutral,neutral,neutral,neutral
652960406,"Upon further investigation, it seems like setJointMotorControl2 does not guarantee that the final position will be at the target position, even if it is within the joint limits.
What can I do to deal with this?",upon investigation like guarantee final position target position even within joint deal,issue,positive,neutral,neutral,neutral,neutral,neutral
652928311,"thank you, I will take a look at the link you suggested!",thank take look link,issue,negative,neutral,neutral,neutral,neutral,neutral
652924787,"Thanks, I have seen at that. They create several kinematic characters (one for each motion clip) and calculate the max reward. However, in this case it is not clear to me if it necessary to create several kinematic models or pose interpolators to implement the same method as in the original code.",thanks seen create several kinematic one motion clip calculate reward however case clear necessary create several kinematic pose implement method original code,issue,positive,positive,positive,positive,positive,positive
652854724,"> I would also be interested in a PyTorch version. @ManifoldFR could you share an example of how to use it instead of MPI?

I think the closest public thing to what I did would be [stable-baselines3](/DLR-RM/stable-baselines3/). Since the env uses the Gym interface I can just instantiate a vectorized env that runs in subprocesses and I don't need MPI anymore. stable-baselines has its own implementation of vectorized envs, but the current version of OpenAI Gym also has these.",would also interested version could share example use instead think public thing would since gym interface need implementation current version gym also,issue,positive,positive,neutral,neutral,positive,positive
652852756,I think someone using the original code tried working on it (xbpeng/DeepMimic#120). It involved a few modifications to the C++ environment code,think someone original code tried working involved environment code,issue,negative,positive,positive,positive,positive,positive
652548742,"Agreed, I'm out the rest of the week but I'll try and spend a couple hours tracking it down sometime in the next couple of weeks.  Shouldn't be that hard as the compile / test loop is pretty short, as you say it's really just tedious.  Still would be nice to know that pybullet isn't going to break in a future update (although this could finally be the catalyst that gets me to upgrade Ubuntu).",agreed rest week try spend couple sometime next couple hard compile test loop pretty short say really tedious still would nice know going break future update although could finally catalyst upgrade,issue,positive,positive,neutral,neutral,positive,positive
652471751,"Sounds good. I started working on another physics engine. It can be a differentiable physics engine, but also a fully deterministic physics engine cross platform, by using the fixed point scalar. It is still limited of features, but it may be of interest. See 

https://github.com/google-research/tiny-differentiable-simulator",good working another physic engine differentiable physic engine also fully deterministic physic engine cross platform fixed point scalar still limited may interest see,issue,positive,positive,positive,positive,positive,positive
652360055,"I second the request to remove that print.

It causes problems in a setup where I want to run a script using pybullet and parse its output with another script.  It also pops up and interferes with the input line when using ipythons tab-completion in an import statement where pybullet is involved (type `import pybullet.<tab>` to see what I mean).  In general, I think just importing a module should not have any side effects.

I see, that having access to this information can be useful, though.  Would it be an option to not print it automatically but instead provide something like a `get_build_time()` function?",second request remove print setup want run script parse output another script also input line import statement involved type import tab see mean general think module side effect see access information useful though would option print automatically instead provide something like function,issue,positive,positive,neutral,neutral,positive,positive
652338653,I would also be interested in a PyTorch version. @ManifoldFR could you share an example of how to use it instead of MPI?,would also interested version could share example use instead,issue,positive,positive,positive,positive,positive,positive
652286866,":) Ok actually the example browser *does* build, you just have to delete the pdb first if you'd previously built with /MT because of the fastlink option. So that's all fine. 

I prefer static linking too - even with this option Bullet itself is still a static library, it's just the CRT used is the DLL version. So from the perspective of user apps it's not really any different, except compatibility with the CRT they're already using. That's why I thought I'd call it `--dynamic-runtime` instead of the shorter `--dynamic` which might have implied building Bullet as DLLs.

pybullet sounds great but I'm linking this into Unreal - I need deterministic physics for something without making source changes to UE, so I want to run my own little sim for it. I like that Bullet is deterministic if used carefully and has a rolling friction model. Unreal requires /MD[d] though, hence this PR.",actually example browser build delete first previously built option fine prefer static linking even option bullet still static library used version perspective user really different except compatibility already thought call instead shorter dynamic might building bullet great linking unreal need deterministic physic something without making source want run little like bullet deterministic used carefully rolling friction model unreal though hence,issue,positive,positive,positive,positive,positive,positive
652217680,"[003_cracker_box.zip](https://github.com/bulletphysics/bullet3/files/4856045/003_cracker_box.zip) Here is a copy of the data to reproduce the bug, in case it is relevant.

System information, ubuntu 18.04, Python 3.6.5, pybullet 2.8.3",copy data reproduce bug case relevant system information python,issue,negative,positive,positive,positive,positive,positive
652185782,"It would be good to know why cmake builds fail, while pip works ok. Tracking down the commit causing it is time consuming though (git bisect?)",would good know fail pip work commit causing time consuming though git bisect,issue,negative,positive,neutral,neutral,positive,positive
652184162,"Anyways thanks for the help, I don't really need to be on master so I survive for now.  Just thought I'd report the issue, seems like it's reproducible for me so if similar reports pop up I'm happy to help diagnose.  ",anyways thanks help really need master survive thought report issue like reproducible similar pop happy help diagnose,issue,positive,positive,positive,positive,positive,positive
652179385,"And, cloning --branch 2.89 works fine after building from source.  So the issue is definitely something to do with master.",branch work fine building source issue definitely something master,issue,positive,positive,positive,positive,positive,positive
652177710,"Nope, that works fine.  Looks to be just when I bulid from source on master.  It's odd though as I've built from source previously and never run into this issue.",nope work fine source master odd though built source previously never run issue,issue,negative,positive,positive,positive,positive,positive
652175933,"If you remove pybullet fully and install using ""pip3 install pybullet --upgrade --user"", do you get the same crashes?

If pip works, then you can also run python3 setup.py install in the root instead (after making your changes in the source). It is likely some build/configuration issue on your machine.",remove fully install pip install upgrade user get pip work also run python install root instead making source likely issue machine,issue,negative,neutral,neutral,neutral,neutral,neutral
652143641,Will be in upcoming 2.8.4 release (just missed the 2.8.3 one today).,upcoming release one today,issue,negative,neutral,neutral,neutral,neutral,neutral
651929637,"Thanks Steve! Of course I remember those fun SIGGRAPH times! Hope you are doing well!
Yes, let's add the option. I think it is also available in the cmake build system (even though I prefer static linking usually).
Let me see about the new bat file, if it doesn't work for the example browser, that will be confusing, perhaps we can make it work?
Of, and if a project involves Python, you may give pybullet a try, it installs even simpler (pip install pybullet)",thanks course remember fun time hope well yes let add option think also available build system even though prefer static linking usually let see new bat file work example browser perhaps make work project python may give try even simpler pip install,issue,positive,positive,positive,positive,positive,positive
651852664,"Dropping from too high may also have issues, for a largish time-step.
Can you provide a small reproduction case, preferably no other dependencies?",dropping high may also largish provide small reproduction case preferably,issue,negative,negative,neutral,neutral,negative,negative
651783402,"Hi Erwin, 

Thanks for taking the time to get back. We are spawning the half cheetah well above the heightfield and it is falling down on to it. Still, the half-cheetah will either get stuck in the heightfield or fall right through it.",hi thanks taking time get back spawning half cheetah well falling still either get stuck fall right,issue,negative,positive,neutral,neutral,positive,positive
651775460,"Spawn the half-cheeta above the heightfield, not inside. You can perform a collision query and move the robot down (spawn at a safe height).",spawn inside perform collision query move robot spawn safe height,issue,negative,positive,positive,positive,positive,positive
651694570,"I see, thanks for the clarification. Is a refactoring of code happening in future releases? Or would a pull request with a refactoring be accepted? I see a lot of development code that could potentially be removed, making the whole flow more readable.",see thanks clarification code happening future would pull request accepted see lot development code could potentially removed making whole flow readable,issue,positive,positive,neutral,neutral,positive,positive
651519861,"@erwincoumans Any update?

Eventually Bullet's clang-format rules should be enforced, and once they're in the CI checks you don't have to worry about it again. While changing this will likely conflict with many PRs as you stated in #2686, I really don't see the benefit of waiting to enforce it, it would be better to do so sooner rather than later.",update eventually bullet enforced worry likely conflict many stated really see benefit waiting enforce would better sooner rather later,issue,negative,positive,positive,positive,positive,positive
651300597,"I just checked and running the policies still works well. I didn't make any breaking changes to the sim environment file pybullet_deep_mimic_env.py and Jason Peng's RL code doesn't use the other file I changed.
I did not check if the training behaviour changed though.
If I remember another difference with the initial framework was the COM reward in `humanoid_stable_pd.HumanoidStablePD` had a weight of 0, right?",checked running still work well make breaking environment file code use file check training behaviour though remember another difference initial framework reward weight right,issue,positive,positive,positive,positive,positive,positive
651288808,"> Thanks I wasn't aware of garage, looks interesting (we use stable-baselines mostly).
> 
> I prefer to maintain the names, not renaming things everywhere (don't break other's code whenever possible).
> 
> So probably best to add the names explicitly inside the pybullet_envs.getList(), perhaps as duplicates.

Sure! Please see the updated `pybullet_envs.getList()`",thanks aware garage interesting use mostly prefer maintain everywhere break code whenever possible probably best add explicitly inside perhaps sure please see,issue,positive,positive,positive,positive,positive,positive
651283016,"Thanks. Do you also make sure the original code still trains and 'enjoys'  while making changes? How does the training speed compare with your code?

python3 mpi_run.py --arg_file train_humanoid3d_walk_args.txt --num_workers 34
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt
",thanks also make sure original code still making training speed compare code python python,issue,positive,positive,positive,positive,positive,positive
651275985,"Thanks I wasn't aware of garage, looks interesting (we use stable-baselines mostly).

I prefer to maintain the names, not renaming things everywhere (don't break other's code whenever possible).

So probably best to add the names explicitly inside the pybullet_envs.getList(), perhaps as duplicates.",thanks aware garage interesting use mostly prefer maintain everywhere break code whenever possible probably best add explicitly inside perhaps,issue,positive,positive,positive,positive,positive,positive
651254527,"My PyTorch codebase is currently private because it's part of an ongoing IL project with my institution, and I haven't tried training using another RL codebase yet.

I don't remember the concept of curriculum in the original animal imitation paper, though, but I'll take a look thanks !
Right now I'm training the cartwheel and crawling motions, so if I make further changes to the Gym env and add more options I will make another contribution.",currently private part ongoing project institution tried training another yet remember concept curriculum original animal imitation paper though take look thanks right training crawling make gym add make another contribution,issue,positive,positive,positive,positive,positive,positive
651230429,"Do you have a link to your PyTorch training codebase?

Did you try training the env using stable_baselines?

Recently, Jason Peng implemented the motion_imitation env also trained using stable_baselines.
The curriculum improves sample efficiency, we don't enable this in our DeepMimic environment, I think:
https://github.com/google-research/motion_imitation/blob/246b2e786ccb2033cf0f4eff6fe6c62dbfb51eee/motion_imitation/envs/env_wrappers/imitation_wrapper_env.py#L26
",link training try training recently also trained curriculum sample efficiency enable environment think,issue,negative,neutral,neutral,neutral,neutral,neutral
651223445,"Great, thanks for finishing the DeepMimic Gym environment, glad to see you can train it with another implementation.",great thanks finishing gym environment glad see train another implementation,issue,positive,positive,positive,positive,positive,positive
651221801,"It is not on purpose. The code is not used, right? Since by default we use stable PD control (setJointMotors is not called).",purpose code used right since default use stable control,issue,negative,positive,positive,positive,positive,positive
651044350,"Hi @erwincoumans ,

I'm facing an issue when linking the libraries. For reference, my `CMake` and `make` commands inside `build_cmake_pybullet_double.sh` are:

```
cmake -E env CXXFLAGS=""-fPIC"" cmake -DBUILD_PYBULLET=OFF -DBUILD_PYBULLET_NUMPY=OFF DUSE_DOUBLE_PRECISION=ON -DBT_USE_EGL=ON -DCMAKE_INSTALL_PREFIX=/path/to/app/ .. || exit 1
make install -j $(command nproc 2>/dev/null || echo 12) || exit 1
```

When I am linking the libraries in my application, I get the following error message:

```
/path/to/app/lib/libBulletRobotics.a(b3PluginManager.o): In function `b3PluginManager::unloadPlugin(int)':
b3PluginManager.cpp:(.text+0xdc7): undefined reference to `dlclose'
/path/to/app/lib/libBulletRobotics.a(b3PluginManager.o): In function `b3PluginManager::registerStaticLinkedPlugin(char const*, b3PluginFunctions&, bool)':
b3PluginManager.cpp:(.text+0x164c): undefined reference to `dlclose'
/path/to/app/lib/libBulletRobotics.a(b3PluginManager.o): In function `b3PluginManager::loadPlugin(char const*, char const*)':
b3PluginManager.cpp:(.text+0x2e12): undefined reference to `dlopen'
b3PluginManager.cpp:(.text+0x356a): undefined reference to `dlsym'
b3PluginManager.cpp:(.text+0x357e): undefined reference to `dlsym'
b3PluginManager.cpp:(.text+0x3592): undefined reference to `dlsym'
b3PluginManager.cpp:(.text+0x35a6): undefined reference to `dlsym'
b3PluginManager.cpp:(.text+0x35ba): undefined reference to `dlsym'
/path/to/app/lib/libBulletRobotics.a(b3PluginManager.o):b3PluginManager.cpp:(.text+0x35ce): more undefined references to `dlsym' follow
/path/to/app/lib/libBulletRobotics.a(b3PluginManager.o): In function `b3PluginManager::loadPlugin(char const*, char const*)':
b3PluginManager.cpp:(.text+0x36f2): undefined reference to `dlclose'
b3PluginManager.cpp:(.text+0x3a30): undefined reference to `dlclose'
b3PluginManager.cpp:(.text+0x3ab6): undefined reference to `dlerror'
b3PluginManager.cpp:(.text+0x3e42): undefined reference to `dlclose'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `threadFunction(void*)':
b3PosixThreadSupport.cpp:(.text+0x2c): undefined reference to `sem_post'
b3PosixThreadSupport.cpp:(.text+0x42): undefined reference to `sem_wait'
b3PosixThreadSupport.cpp:(.text+0x56): undefined reference to `sem_wait'
b3PosixThreadSupport.cpp:(.text+0x94): undefined reference to `sem_post'
b3PosixThreadSupport.cpp:(.text+0xa8): undefined reference to `sem_post'
b3PosixThreadSupport.cpp:(.text+0x10c): undefined reference to `sem_post'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixThreadSupport::waitForResponse(int*, int*)':
b3PosixThreadSupport.cpp:(.text+0x158): undefined reference to `sem_wait'
b3PosixThreadSupport.cpp:(.text+0x1d6): undefined reference to `sem_wait'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixThreadSupport::isTaskCompleted(int*, int*, int)':
b3PosixThreadSupport.cpp:(.text+0x252): undefined reference to `sem_trywait'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixThreadSupport::runTask(int, void*, int)':
b3PosixThreadSupport.cpp:(.text+0x30c): undefined reference to `sem_post'
b3PosixThreadSupport.cpp:(.text+0x32c): undefined reference to `sem_post'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixThreadSupport::createBarrier()':
b3PosixThreadSupport.cpp:(.text+0x3a8): undefined reference to `pthread_barrier_init'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixThreadSupport::deleteBarrier(b3Barrier*)':
b3PosixThreadSupport.cpp:(.text+0x44c): undefined reference to `pthread_barrier_destroy'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixThreadSupport::stopThreads()':
b3PosixThreadSupport.cpp:(.text+0x495): undefined reference to `sem_wait'
b3PosixThreadSupport.cpp:(.text+0x4b5): undefined reference to `sem_destroy'
b3PosixThreadSupport.cpp:(.text+0x4c9): undefined reference to `sem_destroy'
b3PosixThreadSupport.cpp:(.text+0x50d): undefined reference to `pthread_join'
b3PosixThreadSupport.cpp:(.text+0x555): undefined reference to `sem_post'
b3PosixThreadSupport.cpp:(.text+0x56e): undefined reference to `sem_post'
b3PosixThreadSupport.cpp:(.text+0x59c): undefined reference to `sem_wait'
b3PosixThreadSupport.cpp:(.text+0x5b5): undefined reference to `sem_wait'
b3PosixThreadSupport.cpp:(.text+0x5f7): undefined reference to `pthread_join'
b3PosixThreadSupport.cpp:(.text+0x63c): undefined reference to `sem_destroy'
b3PosixThreadSupport.cpp:(.text+0x650): undefined reference to `sem_destroy'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixThreadSupport::startThreads(b3PosixThreadSupport::ThreadConstructionInfo&)':
b3PosixThreadSupport.cpp:(.text+0x72e): undefined reference to `sem_init'
b3PosixThreadSupport.cpp:(.text+0x7f4): undefined reference to `sem_init'
b3PosixThreadSupport.cpp:(.text+0x811): undefined reference to `sem_init'
b3PosixThreadSupport.cpp:(.text+0x854): undefined reference to `pthread_create'
b3PosixThreadSupport.cpp:(.text+0x87d): undefined reference to `pthread_create'
b3PosixThreadSupport.cpp:(.text+0x8d0): undefined reference to `sem_init'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixBarrier::setMaxCount(int)':
b3PosixThreadSupport.cpp:(.text._ZN14b3PosixBarrier11setMaxCountEi[_ZN14b3PosixBarrier11setMaxCountEi]+0x14): undefined reference to `pthread_barrier_init'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixBarrier::sync()':
b3PosixThreadSupport.cpp:(.text._ZN14b3PosixBarrier4syncEv[_ZN14b3PosixBarrier4syncEv]+0x9): undefined reference to `pthread_barrier_wait'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixBarrier::~b3PosixBarrier()':
b3PosixThreadSupport.cpp:(.text._ZN14b3PosixBarrierD2Ev[_ZN14b3PosixBarrierD5Ev]+0x14): undefined reference to `pthread_barrier_destroy'
/path/to/app/lib/libBulletRobotics.a(b3PosixThreadSupport.o): In function `b3PosixBarrier::~b3PosixBarrier()':
b3PosixThreadSupport.cpp:(.text._ZN14b3PosixBarrierD0Ev[_ZN14b3PosixBarrierD5Ev]+0x18): undefined reference to `pthread_barrier_destroy'
/path/to/app/lib/libOpenGLWindow.a(gl.o): In function `gladLoaderLoadGL':
gl.c:(.text+0x6a55): undefined reference to `dlopen'
gl.c:(.text+0x6a6b): undefined reference to `dlopen'
gl.c:(.text+0x6aa8): undefined reference to `dlsym'
gl.c:(.text+0x79b2): undefined reference to `dlclose'
gl.c:(.text+0x79d2): undefined reference to `dlsym'
gl.c:(.text+0x8914): undefined reference to `dlsym'
gl.c:(.text+0x8934): undefined reference to `dlsym'
gl.c:(.text+0x8954): undefined reference to `dlsym'
gl.c:(.text+0x8974): undefined reference to `dlsym'
/path/to/app/lib/libOpenGLWindow.a(gl.o):gl.c:(.text+0x8994): more undefined references to `dlsym' follow
/path/to/app/lib/libOpenGLWindow.a(X11OpenGLWindow.o): In function `X11OpenGLWindow::X11OpenGLWindow()':
X11OpenGLWindow.cpp:(.text+0x37d): undefined reference to `dlopen'
X11OpenGLWindow.cpp:(.text+0x39c): undefined reference to `dlsym'
X11OpenGLWindow.cpp:(.text+0x3bf): undefined reference to `dlsym'
X11OpenGLWindow.cpp:(.text+0x3e2): undefined reference to `dlsym'
X11OpenGLWindow.cpp:(.text+0x405): undefined reference to `dlsym'
X11OpenGLWindow.cpp:(.text+0x428): undefined reference to `dlsym'
/path/to/app/lib/libOpenGLWindow.a(X11OpenGLWindow.o):X11OpenGLWindow.cpp:(.text+0x44b): more undefined references to `dlsym' follow
/path/to/app/lib/libOpenGLWindow.a(X11OpenGLWindow.o): In function `X11OpenGLWindow::X11OpenGLWindow()':
X11OpenGLWindow.cpp:(.text+0x6c2): undefined reference to `dlerror'
/path/to/app/lib/libOpenGLWindow.a(X11OpenGLWindow.o): In function `X11OpenGLWindow::enableOpenGL()':
X11OpenGLWindow.cpp:(.text+0xa82): undefined reference to `pthread_getconcurrency'
/path/to/app/lib/libOpenGLWindow.a(glx.o): In function `find_coreGLX':
glx.c:(.text+0x2d): undefined reference to `dlopen'
glx.c:(.text+0x46): undefined reference to `dlsym'
glx.c:(.text+0x5f): undefined reference to `dlsym'
glx.c:(.text+0x78): undefined reference to `dlsym'
/path/to/app/lib/libOpenGLWindow.a(glx.o): In function `initX11Struct':
glx.c:(.text+0x280f): undefined reference to `dlopen'
glx.c:(.text+0x2824): undefined reference to `dlsym'
glx.c:(.text+0x283a): undefined reference to `dlsym'
glx.c:(.text+0x2850): undefined reference to `dlsym'
/path/to/app/lib/libOpenGLWindow.a(glx.o): In function `gladLoaderLoadGLX':
glx.c:(.text+0x4036): undefined reference to `dlsym'
glx.c:(.text+0x44c8): undefined reference to `dlclose'
glx.c:(.text+0x4bdd): undefined reference to `dlopen'
glx.c:(.text+0x4bf3): undefined reference to `dlopen'
glx.c:(.text+0x4c20): undefined reference to `dlsym'
/path/to/app/lib/libOpenGLWindow.a(glx.o): In function `gladLoaderUnloadGLX':
glx.c:(.text+0x4c61): undefined reference to `dlclose'
/path/to/app/lib/libOpenGLWindow.a(egl.o): In function `glad_egl_get_proc':
egl.c:(.text+0x229): undefined reference to `dlsym'
/path/to/app/lib/libOpenGLWindow.a(egl.o): In function `gladLoaderLoadEGL':
egl.c:(.text+0xe87): undefined reference to `dlsym'
egl.c:(.text+0xea0): undefined reference to `dlsym'
egl.c:(.text+0xebd): undefined reference to `dlsym'
egl.c:(.text+0xeda): undefined reference to `dlsym'
/path/to/app/lib/libOpenGLWindow.a(egl.o):egl.c:(.text+0xef7): more undefined references to `dlsym' follow
/path/to/app/lib/libOpenGLWindow.a(egl.o): In function `gladLoaderLoadEGL':
egl.c:(.text+0xf51): undefined reference to `dlclose'
egl.c:(.text+0x100f): undefined reference to `dlsym'
egl.c:(.text+0x102c): undefined reference to `dlsym'
egl.c:(.text+0x1049): undefined reference to `dlsym'
egl.c:(.text+0x1066): undefined reference to `dlsym'
egl.c:(.text+0x1083): undefined reference to `dlsym'
egl.c:(.text+0x10ad): undefined reference to `dlopen'
egl.c:(.text+0x10c7): undefined reference to `dlopen'
egl.c:(.text+0x1129): undefined reference to `dlsym'
egl.c:(.text+0x1146): undefined reference to `dlsym'
egl.c:(.text+0x1163): undefined reference to `dlsym'
egl.c:(.text+0x1180): undefined reference to `dlsym'
egl.c:(.text+0x119d): undefined reference to `dlsym'
/path/to/app/lib/libOpenGLWindow.a(egl.o):egl.c:(.text+0x11ba): more undefined references to `dlsym' follow
/path/to/app/lib/libOpenGLWindow.a(egl.o): In function `gladLoaderUnloadEGL':
egl.c:(.text+0x1a81): undefined reference to `dlclose'
collect2: error: ld returned 1 exit status
```

Any idea what might be going wrong?",hi facing issue linking reference make inside exit make install command echo exit linking application get following error message function undefined reference function char bool undefined reference function char char undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined follow function char char undefined reference undefined reference undefined reference undefined reference function void undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference function undefined reference undefined reference function undefined reference function void undefined reference undefined reference function undefined reference function undefined reference function undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference function undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference function undefined reference function undefined reference function undefined reference function undefined reference function undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined follow function undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined follow function undefined reference function undefined reference function undefined reference undefined reference undefined reference undefined reference function undefined reference undefined reference undefined reference undefined reference function undefined reference undefined reference undefined reference undefined reference undefined reference function undefined reference function undefined reference function undefined reference undefined reference undefined reference undefined reference undefined follow function undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined follow function undefined reference collect error returned exit status idea might going wrong,issue,negative,negative,negative,negative,negative,negative
650744790,"from the function name pybullet_rayTestObsolete the rayTest should be obsolete,  we should use the rayTestBatch instead. i also check the code that rayTestBatch adds some new parameters but don't be initialized in the old function.",function name obsolete use instead also check code new old function,issue,negative,positive,positive,positive,positive,positive
650625807,"Thanks, the module is installed now.

On Sat, 27 Jun 2020, 08:42 erwincoumans, <notifications@github.com> wrote:

> @amisha2019 <https://github.com/amisha2019> you need to create symbolic
> links in the right Python directory to pybullet_envs, pybullet_data and
> pybullet_utils. If that doesn't work, just use python setup.py develop in
> the root of Bullet (or pip install pybullet)
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1705#issuecomment-650479756>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ANWLPT42MVOGSP2BXAIO7M3RYVPRNANCNFSM4FBMK7RQ>
> .
>
",thanks module sat wrote need create symbolic link right python directory work use python develop root bullet pip install reply directly view,issue,positive,positive,positive,positive,positive,positive
650483531,"Thanks a lot for all the contributions! It looks like the cloth margin/gap is working fine now, in the Deformable Self Collision demo.",thanks lot like cloth working fine deformable self collision,issue,positive,positive,positive,positive,positive,positive
650479756,"@amisha2019  you need to create symbolic links in the right Python directory to pybullet_envs, pybullet_data and pybullet_utils. If that doesn't work, just use python setup.py develop in the root of Bullet (or pip install pybullet)",need create symbolic link right python directory work use python develop root bullet pip install,issue,negative,positive,positive,positive,positive,positive
650476029,"@erwincoumans hello i've installed pybullet successfully and it is even show when i run pip show pybullet. but when i run my program it shows error: module not found.
please help me with this.",hello successfully even show run pip show run program error module found please help,issue,positive,positive,positive,positive,positive,positive
650455220,"Thank you sooooo much! 

Since it is the first time I try to build from source to use PyBullet, it takes me some time to walk through the process. 

However, I got an error while I try to apply the patch using `git apply patch.diff`, where I simply copy your code block to get this file. 

The last two line of the attached code block indeed looks strange to me. 

> (bulletTest) yanshimsi@Bach:/mnt/d/GitHub/PybulletCarRobot/bullet3$ git apply ../patch.diff
> error: corrupt patch at line 101

> L100 			if (rollingFriction > 0)
> L101 			{
",thank much since first time try build source use time walk process however got error try apply patch git apply simply copy code block get file last two line attached code block indeed strange bach git apply error corrupt patch line,issue,negative,negative,neutral,neutral,negative,negative
650297220,"The code for the demo isn't public, and it just used the Dynamixel SDK directly, not ROS.

There is a similar Dynamixel-based URDF/python script here, without the 'real robot' sync:
https://github.com/bulletphysics/bullet3/blob/e96f068220b0d926ca2475961c6d257fea8b0297/examples/pybullet/gym/pybullet_data/quadruped/microtaur/microtaur.py

You may also be interested in D-Kitty and the Robel project:
https://www.trossenrobotics.com/d-kitty.aspx

Good luck!
Erwin",code public used directly similar script without robot sync may also interested project good luck,issue,positive,positive,positive,positive,positive,positive
650007743,"for mecanum case, this is the trajectory after applying my new patch attached also which seems like what you want.
in my patch i finish two things: (this patch only for your test)
1. only remain the contact between the wheel and the ground.
2. project the friction along the axis of the Roller.
![show](https://user-images.githubusercontent.com/48872734/85828403-ef036a80-b7ba-11ea-978a-45b1a32b068c.png)

```
diff --git a/src/BulletDynamics/Featherstone/btMultiBodyConstraintSolver.cpp b/src/BulletDynamics/Featherstone/btMultiBodyConstraintSolver.cpp
index 6c1ed09..fe4943c 100644
--- a/src/BulletDynamics/Featherstone/btMultiBodyConstraintSolver.cpp
+++ b/src/BulletDynamics/Featherstone/btMultiBodyConstraintSolver.cpp
@@ -25,6 +25,9 @@ subject to the following restrictions:
 #include ""BulletDynamics/Featherstone/btMultiBodySolverConstraint.h""
 #include ""LinearMath/btScalar.h""
 
+
+bool isPrint=false;
+
 btScalar btMultiBodyConstraintSolver::solveSingleIteration(int iteration, btCollisionObject** bodies, int numBodies, btPersistentManifold** manifoldPtr, int numManifolds, btTypedConstraint** constraints, int numConstraints, const btContactSolverInfo& infoGlobal, btIDebugDraw* debugDrawer)
 {
 	btScalar leastSquaredResidual = btSequentialImpulseConstraintSolver::solveSingleIteration(iteration, bodies, numBodies, manifoldPtr, numManifolds, constraints, numConstraints, infoGlobal, debugDrawer);
@@ -236,7 +239,7 @@ btScalar btMultiBodyConstraintSolver::resolveSingleConstraintRowGeneric(const bt
 	btSolverBody* bodyB = 0;
 	int ndofA = 0;
 	int ndofB = 0;
-
+ if (c.m_linkA != -1 && isPrint) printf(""resolveconstraint linkA=%d linkB=%d\n"", c.m_linkA, c.m_linkB);
 	if (c.m_multiBodyA)
 	{
 		ndofA = c.m_multiBodyA->getNumDofs() + 6;
@@ -260,9 +263,10 @@ btScalar btMultiBodyConstraintSolver::resolveSingleConstraintRowGeneric(const bt
 		bodyB = &m_tmpSolverBodyPool[c.m_solverBodyIdB];
 		deltaVelBDotn += c.m_contactNormal2.dot(bodyB->internalGetDeltaLinearVelocity()) + c.m_relpos2CrossNormal.dot(bodyB->internalGetDeltaAngularVelocity());
 	}
-
+if (c.m_linkA != -1 && isPrint) printf(""  rhs=%f, applied=%f,cfm=%f delta=%f, deltaVelADotn=%f, a_delta=%f, deltaVelBDotn=%f,b_delta=%f,"", c.m_rhs, c.m_appliedImpulse,c.m_cfm, deltaImpulse, deltaVelADotn, deltaVelADotn * c.m_jacDiagABInv,  deltaVelBDotn, deltaVelBDotn * c.m_jacDiagABInv);
 	deltaImpulse -= deltaVelADotn * c.m_jacDiagABInv;  //m_jacDiagABInv = 1./denom
 	deltaImpulse -= deltaVelBDotn * c.m_jacDiagABInv;
+if (c.m_linkA != -1 && isPrint) printf(""deltaImpulse = %f, "", deltaImpulse);
 	const btScalar sum = btScalar(c.m_appliedImpulse) + deltaImpulse;
 
 	if (sum < c.m_lowerLimit)
@@ -280,6 +284,7 @@ btScalar btMultiBodyConstraintSolver::resolveSingleConstraintRowGeneric(const bt
 		c.m_appliedImpulse = sum;
 	}
 
+if (c.m_linkA != -1 && isPrint) printf(""f_deltaImpulse = %f %f %f\n"", deltaImpulse, c.m_lowerLimit, c.m_upperLimit);
 	if (c.m_multiBodyA)
 	{
 		applyDeltaVee(&m_data.m_deltaVelocitiesUnitImpulse[c.m_jacAindex], deltaImpulse, c.m_deltaVelAindex, ndofA);
@@ -1280,6 +1285,31 @@ void btMultiBodyConstraintSolver::convertMultiBodyContact(btPersistentManifold*
 		{
 			btScalar relaxation;
 
+                        const btMultiBody* mbRoller;
+                        int link;
+                        bool flag = false;
+                        btVector3 revoluteAxisInWorld;
+                        if (mbA && (fcA->m_link != -1))
+                        {
+                             mbRoller = mbA;
+                             link = fcA->m_link;
+                        }
+                        else
+                        {
+                             mbRoller = mbB;
+                             link = fcB->m_link;
+                        }
+                        if (!(fcA->m_link == -1 && fcB->m_link == -1))
+                        {
+                            flag = true;
+                            revoluteAxisInWorld = quatRotate(mbRoller->getLink(link).m_cachedWorldTransform.getRotation(), mbRoller->getLink(link).m_axes[0].m_topVec);
+                            if (strstr(mbRoller->getLink(link).m_linkName, ""Wheel"") == NULL) return;
+                            printf(""link=%d fcA->m_link=%d fcB->m_link=%d mbA=%p mbB=%p\n"", link, fcA->m_link, fcB->m_link, mbA, mbB);
+                            printf(""link name=%s, joint name=%s\n"", mbRoller->getLink(link).m_linkName, mbRoller->getLink(link).m_jointName);
+                            printf(""    roll axis: %f:%f:%f\n"", revoluteAxisInWorld[0], revoluteAxisInWorld[1], revoluteAxisInWorld[2]);
+                        }
+
+
 			int frictionIndex = m_multiBodyNormalContactConstraints.size();
 
 			btMultiBodySolverConstraint& solverConstraint = m_multiBodyNormalContactConstraints.expandNonInitializing();
@@ -1300,6 +1330,7 @@ void btMultiBodyConstraintSolver::convertMultiBodyContact(btPersistentManifold*
 
 			solverConstraint.m_originalContactPoint = &cp;
 
+
 			bool isFriction = false;
 			setupMultiBodyContactConstraint(solverConstraint, cp.m_normalWorldOnB, cp.m_appliedImpulse, cp, infoGlobal, relaxation, isFriction);
 
@@ -1326,10 +1357,16 @@ void btMultiBodyConstraintSolver::convertMultiBodyContact(btPersistentManifold*
 			///In that case, you can set the target relative motion in each friction direction (cp.m_contactMotion1 and cp.m_contactMotion2)
 			///this will give a conveyor belt effect
 			///
-
+#if 0
 			btPlaneSpace1(cp.m_normalWorldOnB, cp.m_lateralFrictionDir1, cp.m_lateralFrictionDir2);
 			cp.m_lateralFrictionDir1.normalize();
 			cp.m_lateralFrictionDir2.normalize();
+#endif
+                        cp.m_lateralFrictionDir1 = revoluteAxisInWorld;
+                        cp.m_lateralFrictionDir1[2] = 0;
+                        cp.m_lateralFrictionDir2 = cp.m_lateralFrictionDir1.cross(cp.m_normalWorldOnB);
+                        cp.m_lateralFrictionDir1.normalize();
+                        cp.m_lateralFrictionDir2.normalize();
 
 			if (rollingFriction > 0)
 			{
```
",case trajectory new patch attached also like want patch finish two patch test remain contact wheel ground project friction along axis roller show git index subject following include include iteration iteration sum sum sum void relaxation link bool flag false link else link flag true link link link wheel null return link link joint link link roll axis void bool false relaxation void case set target relative motion friction direction give belt effect,issue,positive,negative,neutral,neutral,negative,negative
649454529,"sorry, I must have confused with some other repo I was looking at

On Wed, 24 Jun 2020 at 20:39, erwincoumans <notifications@github.com> wrote:

> @tfederico <https://github.com/tfederico> There is no video involved in
> PyBullet deep_mimic.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/2871#issuecomment-649026647>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ADU47BR2T77O433I22RLQLDRYJI67ANCNFSM4OCZSLQA>
> .
>
",sorry must confused looking wed wrote video involved reply directly view,issue,negative,negative,negative,negative,negative,negative
649196515,"for mecanum case, i think it is more complicated for the contact between the Roller and the ground. i am trying a test to hard cod e to make the friction only exist along the axis of the Roller. ",case think complicated contact roller ground trying test hard cod make friction exist along axis roller,issue,negative,negative,negative,negative,negative,negative
649122786,"Thanks a lot for the PR.
I notice if you pick up the cloth very quickly in the Deformable Self Collision example, it has some strange artifacts.
Please check attached video of old and new behavior.
(I didn't double-check if this PR is the reason yet)
[compare.zip](https://github.com/bulletphysics/bullet3/files/4828304/compare.zip)

(the videos playback too fast, please ignore that)",thanks lot notice pick cloth quickly deformable self collision example strange please check attached video old new behavior reason yet playback fast please ignore,issue,negative,positive,positive,positive,positive,positive
648668818,"Thank you very much.  ;) I found I used models with high quality and wrong projection matrix. I simlified the model and fix the projection matrix.   Then, the rendering looks fine. 
I will try to use EGL and test the v-sync. See will it be faster.

",thank much found used high quality wrong projection matrix model fix projection matrix rendering fine try use test see faster,issue,negative,positive,neutral,neutral,positive,positive
648663058,"@baoyufuyou 
Hi Lei,
I have two tips that you could try.
  1. (Just to double check) have a look at the program output, it should show something like ```Loaded EGL 1.5 after reload```
  2. When calling `pybullet.connect`, also setting the `width` and `height` variables, see snippet below.

```
       if self._renderer == ""tiny"":
            optionstring = '--width={} --height={}'.format(
                render_width, render_height)
            cid = p.connect(p.DIRECT, options=optionstring)
        elif self._renderer == ""egl"":
            optionstring = '--width={} --height={}'.format(
                render_width, render_height)
            # optional --window_backend and --render_device, not implemented
            # yet
            cid = p.connect(p.DIRECT, options=optionstring)
```
",hi lei two could try double check look program output show something like loaded reload calling also setting width height see snippet tiny optional yet,issue,negative,neutral,neutral,neutral,neutral,neutral
648435933,"Hi, Steven,

Is there any updates about the rectangle pattern?",hi steven rectangle pattern,issue,negative,neutral,neutral,neutral,neutral,neutral
648275885,"It depends on resolution etc. Did you try to use EGL? Also, make sure to disable v-sync (rendering may stall on it).

It was closed, did you find a solution?",resolution try use also make sure disable rendering may stall closed find solution,issue,negative,positive,positive,positive,positive,positive
648130843,"Hi guys, I faced also problem of low rendering time. I tested the speed in my computer. Then, the getscreenpixels20423 will take about ```17 ms```. 
with GPU 0: ```GeForce RTX 2070```. Is that normal????? I'm a little bit confused.
Thanks a lot. Guys.
![image](https://user-images.githubusercontent.com/39621208/85406514-393ddf00-b562-11ea-9434-cc8efaeb3e68.png)

![image](https://user-images.githubusercontent.com/39621208/85406550-44910a80-b562-11ea-9131-ada17dad649b.png)
![image](https://user-images.githubusercontent.com/39621208/85406586-4f4b9f80-b562-11ea-94e4-d7a659934d1f.png)
",hi faced also problem low rendering time tested speed computer take normal little bit confused thanks lot image image image,issue,negative,negative,neutral,neutral,negative,negative
648097105,"If I also set the base target position to its default position (the origin) through calculateIK2, the end effector is positioned correctly. However, I'd still like to do this without restricting base movement if possible.",also set base target position default position origin end effector positioned correctly however still like without base movement possible,issue,negative,negative,negative,negative,negative,negative
648053398,"out of curiosity, is there any reason why you chose VideoPose3D instead of using HMR or HMMR like in the Skills from Video paper?",curiosity reason chose instead like video paper,issue,negative,neutral,neutral,neutral,neutral,neutral
647671898,"Thanks for the feedback. We didn't spend much time exposing the inverseDynamics and skipped the base coordinates. Indeed, you may need to transform the queries in base frame coordinates first. In fact, for the deep_mimic implementation, we use a separate implementation of inverse dynamics/mass matrix (using flags=1) for floating base and spherical joints.",thanks feedback spend much time base indeed may need transform base frame first fact implementation use separate implementation inverse matrix floating base spherical,issue,negative,negative,negative,negative,negative,negative
647631755,"For moving concave objects, it is best to use v-hacd convex decomposition. See 
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/vhacd.py
how to create a convex decomposition obj from a concave obj.
Then replace the obj in the urdf file.

For static concave triangle meshes, indeed you can use the concave=""yes"" flag, it should perform well, but doesn't support moving concave meshes.
",moving concave best use convex decomposition see create convex decomposition concave replace file static concave triangle indeed use yes flag perform well support moving concave,issue,positive,positive,positive,positive,positive,positive
647440434,"Looks amazing, thanks! I am currently interested in human-like characters, but I will definitively take a look at the paper :)",amazing thanks currently interested definitively take look paper,issue,positive,positive,positive,positive,positive,positive
647416955,"I think pyBulet uses a convex hull for mesh collision detection.
Take a look at the **loadURDF** method in the documentation.

If you want to detect concave meshes I think you just have to change your URDF like this example [samurai.urdf](https://github.com/bulletphysics/bullet3/blob/master/data/samurai.urdf) (be aware that you have to change the flag concave=""yes"" in two different places).

But this will slow down your simulation",think convex hull mesh collision detection take look method documentation want detect concave think change like example aware change flag yes two different slow simulation,issue,negative,positive,neutral,neutral,positive,positive
646817400,"They should be very similar, I tried using the same training code from Jason Peng, some differences include:
1) PyBullet uses a larger time step
2) PyBullet uses a URDF definition of the character, but it should be identical
3) PyBullet currently doesn't enable the root orientation reward in training, so direction may drift.
4) PyBullet is easier to install (pip3 install pybullet)

There could be small other unintended differences. We could use the original policies from DeepMimic directly in PyBullet, but a while back some of them started to perform poorly (didn't have time to track down why) so I retrained some of the policies.

I created a plain Gym environment wrapper to train the PyBullet deep mimic, but didn't train it fully yet, so for now we rely on Jason't training code, which is included. So you can use:
See here for examples how to train deep mimic in PyBullet:
https://github.com/bulletphysics/bullet3/issues/2304


Closing for now, just reply if you have other questions.
Also, note that Jason Peng did an internship with us and we released another imitation environment based on PyBullet for our quadruped robots. See
https://github.com/google-research/motion_imitation
That one uses Stable Baselines PPO to train.",similar tried training code include time step definition character identical currently enable root orientation reward training direction may easier install pip install could small unintended could use original directly back perform poorly time track plain gym environment wrapper train deep mimic train fully yet rely training code included use see train deep mimic reply also note internship u another imitation environment based quadruped see one stable train,issue,positive,negative,neutral,neutral,negative,negative
646418921,"Thanks, LGTM! (and filed an issue to github, since  white space is not properly ignored:
https://github.community/t/ignoring-all-whitespace-changes-in-diff-including-split-merged-lines/811/5",thanks issue since white space properly,issue,negative,positive,neutral,neutral,positive,positive
646372584,Thank you so much for your quick reply. It would be nice if you can update the docs about this. I don't think it is mentioned there. ,thank much quick reply would nice update think,issue,positive,positive,positive,positive,positive,positive
646339671,"You should not use 'realTimeSimulation' when using force control, since setJointMotorControl2 will apply the torque from the Python thread while the simulation runs asynchronously in the other thread. It works for POSITION_CONTROL and VELOCITY_CONTROL since they are implemented as constraints, which are solved inside stepSimulation.

Make sure to call setJointMotorControl2 right before stepSimulation.
See attached.
[test.zip](https://github.com/bulletphysics/bullet3/files/4801520/test.zip)
",use force control since apply torque python thread simulation thread work since inside make sure call right see attached,issue,negative,positive,positive,positive,positive,positive
646093063,"Thanks @erwincoumans  I did a test by running `python deformable_anchor.py` where I modified the script (as of commit 3fc3b081b85251f83b6a1203e54e9620fab04d69 on master) based on the following `git diff` command.

```
(py3-bullet-github) seita@penguin:~/bullet3/examples/pybullet/examples (master) $ git diff
diff --git a/examples/pybullet/examples/deformable_anchor.py b/examples/pybullet/examples/deformable_anchor.py
index fa3d75867..86ff77de2 100644
--- a/examples/pybullet/examples/deformable_anchor.py
+++ b/examples/pybullet/examples/deformable_anchor.py
@@ -23,10 +23,19 @@ p.createSoftBodyAnchor(clothId ,1,-1,-1)
 p.createSoftBodyAnchor(clothId ,3,boxId,-1, [0.5,-0.5,0])
 p.createSoftBodyAnchor(clothId ,2,boxId,-1, [-0.5,-0.5,0])
 p.setPhysicsEngineParameter(sparseSdfVoxelSize=0.25)
-p.setRealTimeSimulation(1)
-
+#p.setRealTimeSimulation(1)
 
+i = 0
 while p.isConnected():
-  p.setGravity(0,0,gravZ)
+  #p.setGravity(0,0,gravZ)
+  p.stepSimulation()
+  i += 1
   sleep(1./240.)
+  if i % 10 == 0:
+    print('sim steps: {}'.format(i))
+  if i == 100:
+    p.removeConstraint(1)
+    p.removeConstraint(2)
+    p.removeConstraint(3)
+    p.removeConstraint(4)
```

(There are a few things in the git diff that aren't relevant to this discussion, for example I commented out the `setGravity` method as I'm not sure why it's repeatedly set in the for loop.)

I am using a python 3.7 conda environment, and with installing using `pip install -e.` to get the bleeding edge version before it's uploaded on PyPI. Running `python deformable_anchor.py`, I get this GIF, which correctly shows that all four constraints are removed after 100 simulation steps, resulting in the cloth dropping from mid-air and detaching from the cube.

![ezgif com-optimize (4)](https://user-images.githubusercontent.com/5532096/85039364-a2ce7f80-b155-11ea-9dc4-c7a0b2936a64.gif)


Pardon the extreme lag in the GIF above, I was using a laptop without much computational power.",thanks test running python script commit master based following git command penguin master git git index fad sleep print git relevant discussion example method sure repeatedly set loop python environment pip install get bleeding edge version running python get gif correctly four removed simulation resulting cloth dropping cube pardon extreme lag gif without much computational power,issue,positive,positive,positive,positive,positive,positive
645694888,"> Thanks a lot. Some binary .so file got added, could you remove it?
> (make sure it doesn't show up in the history)

Ah, sorry about that. I have removed it.",thanks lot binary file got added could remove make sure show history ah sorry removed,issue,positive,positive,neutral,neutral,positive,positive
645691718,"Thanks a lot. Some binary .so file got added, could you remove it?
(make sure it doesn't show up in the history)",thanks lot binary file got added could remove make sure show history,issue,positive,positive,positive,positive,positive,positive
645469647,I have not seen it happen in practice. I noticed it (and the issues in my other PRs) because I'd run some static analysis on other code and included the bullet code by accident. :-),seen happen practice run static analysis code included bullet code accident,issue,negative,positive,positive,positive,positive,positive
645452866,"Thanks for the PR. This this actually ever happen? If so, we need to fix the source of a null pointer there.",thanks actually ever happen need fix source null pointer,issue,negative,positive,neutral,neutral,positive,positive
645358660,for cylinders case it will run in a straight line if set all the target velocity to the same value. i will check why the trajectory is rectangle later.,case run straight line set target velocity value check trajectory rectangle later,issue,positive,positive,neutral,neutral,positive,positive
645243906,"Closing, for the drift issue seems to be resolved. Thank you for your help.",drift issue resolved thank help,issue,positive,neutral,neutral,neutral,neutral,neutral
645120235,"OK, i will try to reproduce it later and work with you to find a solution.",try reproduce later work find solution,issue,negative,neutral,neutral,neutral,neutral,neutral
645118135,"> do you have any progress?

Ah? Me? No. I dig through this problem for a few weeks and **this is already a summary of the problems** I met with. I think the problem might be related to how the forces and torch implemented.

Let me conclude this in one sentence:

My car will run in a rectangle even though I didn't change the preset motor desired velocity. (And in real life, I think it should go like a circle or in a straight line)

---------------

Also for 

> How can you simulate a simple car (non-mecanum wheels)?

Well, the friction force applied on the wheel(saying the cylinder)  drive the car. Doesn't it? Did I make something wrong?




",progress ah dig problem already summary met think problem might related torch let conclude one sentence car run rectangle even though change preset motor desired velocity real life think go like circle straight line also simulate simple car well friction force applied wheel saying cylinder drive car make something wrong,issue,negative,negative,neutral,neutral,negative,negative
645084523,you can try my last change which also can avoid the over limits but it is not a common solution that need we to manually adjust the parameters.,try last change also avoid common solution need manually adjust,issue,negative,negative,negative,negative,negative,negative
644912983,"Indeed, it is dead code (DBVT_ENABLE_BENCHMARK is never defined). Will fix anyway.
Thanks for the report!",indeed dead code never defined fix anyway thanks report,issue,negative,neutral,neutral,neutral,neutral,neutral
644911533,"There is a projective texture feature here: https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/projective_texture.py

It may not be what you want, so it is best to use another renderer/solution.",projective texture feature may want best use another,issue,positive,positive,positive,positive,positive,positive
644909881,"You can use make install, it installs the include headers, or just include Bullet/src as include path).
Best to discuss in the forums, https://pybullet.org/Bullet/phpBB3/",use make install include include include path best discus,issue,positive,positive,positive,positive,positive,positive
644719363,i think it is better to file another separate issue.,think better file another separate issue,issue,negative,positive,positive,positive,positive,positive
644225094,"Thank you very much for your suggestions, they indeed seem to eliminate the drift issue with the gantry. 

However, the Tines are still moving beyond their limits. They are supposed to stop at their respective limits. Any idea, what that could be or is your previous answer related to this problem as well.

Should I file another separate issue for the limit issue?",thank much indeed seem eliminate drift issue gantry however still moving beyond supposed stop respective idea could previous answer related problem well file another separate issue limit issue,issue,negative,positive,neutral,neutral,positive,positive
643717807,"i still think it is very hard to meet these requirements of the velocity and limit constraints at the same time with the mode VELOCITY_CONTROL which depends on the order that one constraint being processed later will have more priority. for this case, i add two minor changes as below to avoid this drift.
```
p.setPhysicsEngineParameter(enableFileCaching=0, numSolverIterations=10)

p.setJointMotorControlArray(
                self.crane_body_id,                                                                                                                                                                                                          
                [
                    self._joint_map[""tracks_to_gantry""],
                    self._joint_map[""hub_to_gantry""],
                    self._joint_map[""gantry_to_trolley""],
                    self._joint_map[""sway_y_to_hoist""],
                    self._joint_map[""grapple_base_to_grapple_body""],
                    self._joint_map[""grapple_body_to_left_grapple_jaw""],
                    self._joint_map[""grapple_body_to_right_grapple_jaw""],
                ],
                controlMode=p.VELOCITY_CONTROL,
                targetVelocities=[
                    0,
                    gantry_velocity,
                    trolley_velocity,
                    rope_velocity,
                    grapple_rot_velocity,
                    -jaw_force,
                    jaw_force,
                ],
            )
```",still think hard meet velocity limit time mode order one constraint later priority case add two minor avoid drift,issue,negative,negative,negative,negative,negative,negative
643630982,"I think it's evident from the switch case [here](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c#L3436) that PD_CONTROL and POSITION_CONTROL should have identical behavior.

I had an additional query. When using PD_CONTROL, the getJointState function seems to be returning zeros for the appliedJointMotorTorque return value. Is this intended behavior? I had imagined that this function would work for PD_CONTROL in the same way that it does for POSITION_CONTROL and VELOCITY_CONTROL. Not sure if this should be a separate issue.
",think evident switch case identical behavior additional query function return value intended behavior function would work way sure separate issue,issue,positive,positive,positive,positive,positive,positive
643559961,"I have the  1 file  code in the repo. The reason it looks huge is because I have 3 example in it.

For all this 3 files, I just initialize the desired velocity of each wheel, and set to that value before simulation get started. And then you will see the trajectory shown above, the rectangles.

1. racecar : https://github.com/yanshil/PybulletCarRobot/blob/master/Pybullet_racecar/hello_racecar.py
2.cuboic with mecanum wheels: 
 https://github.com/yanshil/PybulletCarRobot/blob/master/mecanum_simple/hello_mecanum.py
3. cuboic with cylinder wheels: https://github.com/yanshil/PybulletCarRobot/blob/master/simple_cuboid_4074g/hello_simple.py

--------

Also for the ""circle/straight"", I mean, if I don't change the motor “desired velocity” during the simulation, I don't know why will the simulator give me a rectangle. So there must be something happens in the simulator that generate this pattern.

A rectangle means for the same signal, some timesteps it goes straight, and suddenly after some timesteps, it turns.",file code reason huge example initialize desired velocity wheel set value simulation get see trajectory shown cylinder also mean change motor desired velocity simulation know simulator give rectangle must something simulator generate pattern rectangle signal go straight suddenly turn,issue,positive,positive,neutral,neutral,positive,positive
643496276,"It is confusing and a lot of code to dig through. How can you simulate a simple car (non-mecanum wheels)? What does dividing a circle by a straight line mean?

Please simplify the code to 1 file and just drive straight, with regular wheels.

See an example using the racecar here:
https://github.com/erwincoumans/pybullet_robots
Just run f10_racecar.py",lot code dig simulate simple car dividing circle straight line mean please simplify code file drive straight regular see example run,issue,positive,positive,neutral,neutral,positive,positive
643447662,"I have a mecanum wheel vehicle model where I modeled all the satelite wheels. It can somewhat generate the parallel moving behavior of omni wheels, but there is still strange behavior in the simulations. Refer to  issue #2851 

Moreover, this strange behavior not only shows in my mecanum robot, but also for common 4-wheel robot. So I cannot tell if the parallel moving behavior in the simulator is correct or not.
",wheel vehicle model somewhat generate parallel moving behavior still strange behavior refer issue moreover strange behavior robot also common robot tell parallel moving behavior simulator correct,issue,negative,negative,neutral,neutral,negative,negative
642293671,"See attached file how to use vhacd in pybullet:
[vhacd_pybullet.zip](https://github.com/bulletphysics/bullet3/files/4761524/vhacd_pybullet.zip)
",see attached file use,issue,negative,neutral,neutral,neutral,neutral,neutral
642240484,"Hi, how do I save the convex mesh from the command line? ",hi save convex mesh command line,issue,negative,positive,positive,positive,positive,positive
642199021,"After I commented out the pybullet.setTimeStep(0.02) line, the simulation got very slow however the angle seems to be in the set range with small visible deviation. Is there any link between time step, simulation speed (as the default is 1/240 faster than 0.02), and torque control-related parameters?
",line simulation got slow however angle set range small visible deviation link time step simulation speed default faster torque,issue,negative,negative,negative,negative,negative,negative
642187420,"yes I am doing that in my training file
action = np.clip(action, -self.action_bound, self.action_bound)
where action bound is from the previous snippet.",yes training file action action action bound previous snippet,issue,negative,positive,neutral,neutral,positive,positive
642185345,You need to manually clamp the force.,need manually clamp force,issue,negative,neutral,neutral,neutral,neutral,neutral
642180863,"self.force_mag = 1
 action_dim = 2
 action_high = np.array([self.force_mag] * action_dim)
 self.action_space = spaces.Box(-action_high, action_high )

an output from tanh is clipped by these.
I suppose this is small torque but the robot moves so fast.
",output tanh clipped suppose small torque robot fast,issue,negative,negative,neutral,neutral,negative,negative
642179490,The torque needs to be clamped to a reasonable value by the user. We don't read the limit effort field. What is the torque/force send to the motor?,torque need reasonable value user read limit effort field send motor,issue,negative,positive,positive,positive,positive,positive
642176186,"thank you for your quick reply
here the joint definition.
the joint index is 2 [deleted the front openings to make the xml file appear]

  joint name=""knee"" type=""revolute"">
        origin xyz=""0.35000 0.00000 0.00000"" rpy=""0.0 0.0 0.0""/>
        parent link=""upperleg""/>
        child  link=""lowerleg""/>
        limit effort=""2000"" lower=""-1.6"" upper=""0.0"" velocity=""20.0""/>
        axis xyz=""0 0 1""/>
    joint

and the step() function is 

    def step(self, action):
        force = action
        p.setJointMotorControlArray(bodyIndex=self.monoped,
                                    jointIndices=self.jointList,
                                    controlMode=p.TORQUE_CONTROL,
                                    forces=force)
        p.stepSimulation()
        self.contactState = False
        contactForce = p.getJointState(self.monoped, 3)[2]
        if contactForce:
            self.contactState = 1
        else:
            self.contactState = 0
        hp, hpDot = p.getJointState(self.monoped, 1)[0:2]
        kn, knDot = p.getJointState(self.monoped, 2)[0:2]
        _, _, baseZ = p.getBasePositionAndOrientation(self.monoped)[0]
        orientation = p.getBasePositionAndOrientation(self.monoped)[1]
        baseVelZ = p.getBaseVelocity(self.monoped)[0][2]
        euler = p.getEulerFromQuaternion(orientation)
        #print(kn)
        roll = euler[0]
        pitch = euler[1]
        yaw = euler[2]
        self.state = [hp, hpDot, kn, knDot, self.contactState, roll, pitch, yaw,baseZ, baseVelZ]
        heightNOk = baseZ > 2 or baseZ < 0.5
        orientationNOk = (abs(roll) > 1.5) or (abs(pitch) > 1.5) or (abs(yaw) > 1.5)
        done = heightNOk or orientationNOk
        done = bool(done)

        reward = 1.0 - (abs(pitch) + abs(roll) + abs(yaw))

        return np.array(self.state), reward, done, {}

the variable that holds the knee angle is kn

I was getting a smooth simulation when I used position control. however, when I shift into torque strange movement appeared. is there anything that i should be careful with torque control?",thank quick reply joint definition joint index front make file appear joint knee revolute origin parent child limit axis joint step function step self action force action false else orientation orientation print roll pitch yaw roll pitch yaw roll pitch yaw done done bool done reward pitch roll yaw return reward done variable knee angle getting smooth simulation used position control however shift torque strange movement anything careful torque control,issue,positive,positive,neutral,neutral,positive,positive
642170842,Are you driving a motor against the limit? At what torque/force? Please share a small reproduction case in pure pybullet (no dependencies but include urdf/obj etc),driving motor limit please share small reproduction case pure include,issue,positive,negative,neutral,neutral,negative,negative
641654123,"by default, the infoGlobal.m_splitImpulse is enable and use the btMultiBodyConstraintSolver which seems that it doesn't handle the m_rhsPenetration.  meanwhile i have a doubt that if it can meet the requirement of the velocity and limit constriants at the same time.",default enable use handle meanwhile doubt meet requirement velocity limit time,issue,negative,neutral,neutral,neutral,neutral,neutral
641387467,"I forgot this PR was still open - I've rebased it on the latest upstream master and applied clang format

With the changes to the ragdoll example described in https://github.com/bulletphysics/bullet3/pull/386#issuecomment-329633730, I see a drop of about 10ms per timestep overall",forgot still open latest upstream master applied clang format example see drop per overall,issue,negative,positive,positive,positive,positive,positive
640966304,"what i see is different from yours as below,  and i observe that your speed of tines is -1 so i guess maybe you have other change. i will check this later supposing you have set the desired speed of tines to -1.
```
Cnt: 164 Sending command {'grapple': 0.0, 'hoist': 0.0, 'gantry': 1.6500000000000012, 'trolley': 0.0, 'tines': 0.0}
velocity gantry= 0.06502565557683673 trolley= 0.0 rope= 0.0 grapple= 0 jam= 0
hub angle: 0.0
Gantry angle: 0.18013498316872956
Trolley pos: 3.211243908196362e-05
Sway angle X: -1.1125799252679049e-13
Sway angle Y: -1.4355460299973502e-06
Hoist pos: 1.6479873021779688e-18
Grapple rotation angle: 8.264603304641822e-07
Tines angle: -0.00015537920006926487
```",see different observe speed guess maybe change check later supposing set desired speed sending command velocity hub angle gantry angle trolley sway angle sway angle hoist grapple rotation angle angle,issue,negative,neutral,neutral,neutral,neutral,neutral
640584719,"When I change the joint tracks_to_gantry to ""fixed"", a new problem with the tines arises:
I rotate them along with the gantry in the same fashion. When the ""tracks_to_gantry"" joint is continuous, the tines close properly. When it is fixed, the tines continue revolting, despite being limited by the URDF setting.

The gantry drift seems to be gone though.

Do you have an explanation for this behaviour? (See attached vides for demonstration, where only the joint type has changed).


[tines_limit_issue.zip](https://github.com/bulletphysics/bullet3/files/4746026/tines_limit_issue.zip)
",change joint fixed new problem rotate along gantry fashion joint continuous close properly fixed continue revolting despite limited setting gantry drift gone though explanation behaviour see attached demonstration joint type,issue,negative,positive,neutral,neutral,positive,positive
639524061,"i think the drift is caused by the joint of tracks_to_gantry, this issue can be avoided by changing the joint type to fixed.  ",think drift joint issue joint type fixed,issue,negative,positive,neutral,neutral,positive,positive
639287497,"No, I do not have any progress. Over the course of weeks (before I opened this issue) I have tried many different modifications of the URDF file, but none resulted in success.",progress course issue tried many different file none success,issue,negative,positive,positive,positive,positive,positive
638609367,"I discovered the issue.

In my setup, I am recurrently removing bodies and adding bodies.

Each body that is removed seems to be added to a LIFO queue.

E.g., I was removing bodies 3 then 4, resulting in a queue: [4,3].

When I next called loadURDF, it will get the body ID at the front of the queue: 4.

Since I desired getting body ID 3, what I needed to do was change the order in which I removed bodies: remove 4, then remove 3, resulting in queue: [3,4]",discovered issue setup recurrently removing body removed added lifo queue removing resulting queue next get body id front queue since desired getting body id change order removed remove remove resulting queue,issue,negative,neutral,neutral,neutral,neutral,neutral
638523077,"I implemented the removeConstraint for soft body anchors here:
https://github.com/bulletphysics/bullet3/pull/2843/commits/e6a0206d47adc8abca9110ca8af88fb1befb6c17

For example:
~~~~~~~~~~~~~~
anchorUid = p.createSoftBodyAnchor(clothId ,3,boxId,-1, [0.5,-0.5,0])
p.removeConstraint(anchorUid )
~~~~~~~~~~~~~~

Also, applied your patch, @rlee3359, can you modify a soft body example to show the oscillating movements? Are the forces too high? Do you apply them right before each stepSimulation command?

I tried your initial script (modified), it seems to work fine:
~~~~~~~~~~~~~~
import pybullet as p

physicsClient = p.connect(p.GUI)
p.setGravity(0,0,0)
p.setTimeStep(1e-3)
p.setRealTimeSimulation(0)
cubeId = p.loadURDF(""cube.urdf"",[0,2.2,0])
p.changeDynamics(cubeId,-1, linearDamping=0, angularDamping=0)
softCubeId = p.loadSoftBody(""cube.obj"", basePosition = [0,0,0], scale = 1, mass = 1)

numLinks = p.getMeshData(softCubeId)[0]
numNodes=8


while True:
  p.applyExternalForce(cubeId,-1,[0,0,0.001],[0,0,0],p.LINK_FRAME)
  for i in range (numNodes):
    p.applyExternalForce(softCubeId,i,[0,0,0.001/(numNodes)],[0,0,0],p.WORLD_FRAME)  
  p.stepSimulation()

~~~~~~~~~~~~~~",soft body example also applied patch modify soft body example show oscillating high apply right command tried initial script work fine import scale mass true range,issue,positive,positive,positive,positive,positive,positive
637692748,"I can confirm the latest urdf importer fails if a revolute joint doesn't have joint limits.
For now, just do a string replace revolute to continuous.
We need to write the limits in the urdfEditor.py",confirm latest importer revolute joint joint string replace revolute continuous need write,issue,negative,positive,positive,positive,positive,positive
637508560,"I found out that URDF with .obj file and .mtl file works with jpg textures in eglRenderer Direct mode.

I ended up doing like below.

```py
import pybullet as p
import time
import pkgutil
egl = pkgutil.get_loader('eglRenderer')
import pybullet_data
import numpy as np
import cv2
import tempfile
import os

def create_mtl():
    output = '''
newmtl Material
  Ns 10.0000
  Ni 1.5000
  d 1.0000
  Tr 0.0000
  Tf 1.0000 1.0000 1.0000 
  illum 2
  Ka 0.0000 0.0000 0.0000
  Kd 0.5880 0.5880 0.5880
  Ks 0.0000 0.0000 0.0000
  Ke 0.0000 0.0000 0.0000
  map_Ka tex.jpg
  map_Kd tex.jpg
'''
    #print(output)
    return output

def create_obj(mtl_file_name):
    output = '''
o cube
mtllib %s

v -0.500000 -0.500000 0.500000
v 0.500000 -0.500000 0.500000
v -0.500000 0.500000 0.500000
v 0.500000 0.500000 0.500000
v -0.500000 0.500000 -0.500000
v 0.500000 0.500000 -0.500000
v -0.500000 -0.500000 -0.500000
v 0.500000 -0.500000 -0.500000

vt 0.000000 0.000000
vt 1.000000 0.000000
vt 0.000000 1.000000
vt 1.000000 1.000000

vn 0.000000 0.000000 1.000000
vn 0.000000 1.000000 0.000000
vn 0.000000 0.000000 -1.000000
vn 0.000000 -1.000000 0.000000
vn 1.000000 0.000000 0.000000
vn -1.000000 0.000000 0.000000

g cube
usemtl Material
s 1
f 2/2/1 3/3/1 1/1/1
f 3/3/1 2/2/1 4/4/1
s 2
f 3/1/2 4/2/2 5/3/2
f 5/3/2 4/2/2 6/4/2
s 3
f 5/4/3 6/3/3 7/2/3
f 7/2/3 6/3/3 8/1/3
s 4
f 7/1/4 8/2/4 1/3/4
f 1/3/4 8/2/4 2/4/4
s 5
f 2/1/5 8/2/5 4/3/5
f 4/3/5 8/2/5 6/4/5
s 6
f 7/1/6 1/2/6 5/3/6
f 5/3/6 1/2/6 3/4/6
'''%(mtl_file_name)
    #print(output)
    return output

def create_urdf(obj_file_path):
    output = '''
<?xml version=""1.0"" ?>
<robot name=""custom_cube.urdf"">
<link name=""baseLink"">
    <inertial>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
    <mass value=""1""/>
    <inertia ixx=""1"" ixy=""0"" ixz=""0"" iyy=""1"" iyz=""0"" izz=""1""/>
    </inertial>
    <visual>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
    <geometry>
                <mesh filename=""%s"" scale=""%.2f %.2f %.2f""/>
    </geometry>
    <material name=""white"">
        <color rgba=""1 1 1 1""/>
    </material>
    </visual>
    <collision>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
    <geometry>
        <box size=""%.2f %.2f %.2f""/>
    </geometry>
    </collision>	
</link>
</robot>
            ''' % (obj_file_path,1.0,1.0,1.0,1.0,1.0,1.0)    
    #print(output)
    return output

#p.connect(p.GUI)
        
p.connect(p.DIRECT)
plugin = p.loadPlugin(egl.get_filename(), ""_eglRendererPlugin"")
print(""plugin="", plugin)
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING, 0)
p.configureDebugVisualizer(p.COV_ENABLE_GUI, 0)

p.setAdditionalSearchPath(pybullet_data.getDataPath())

p.setGravity(0, 0, 0)

temp_path = tempfile.TemporaryDirectory()
print(temp_path.name)
jpg = np.random.randint(0,255,(100,100,3)).astype('uint8')
cv2.imwrite('tex.jpg',jpg)
os.symlink('./tex.jpg',os.path.join(temp_path.name,'tex.jpg'))
print(os.path.join(temp_path.name,'tex.jpg'))
mtl_f = tempfile.NamedTemporaryFile(mode='w',prefix=temp_path.name+'/',suffix='.mtl')
obj_f = tempfile.NamedTemporaryFile(mode='w',prefix=temp_path.name+'/',suffix='.obj')
urdf_f = tempfile.NamedTemporaryFile(mode='w',prefix=temp_path.name+'/',suffix='.urdf')

print(mtl_f.name)
print(obj_f.name)
print(urdf_f.name)

mtl_f.write( create_mtl() )
mtl_f.flush()

obj_f.write( create_obj( mtl_f.name.split('/')[-1] ) )
print(mtl_f.name.split('/')[-1])
obj_f.flush()

urdf_f.write( create_urdf(obj_f.name) )
urdf_f.flush()

p.loadURDF(urdf_f.name, [0, 0, 0],useFixedBase=1)

mtl_f.close()
obj_f.close()
urdf_f.close()
del temp_path

pixelWidth = 320
pixelHeight = 220
camTargetPos = [0, 0, 0]
camDistance = 4
pitch = -10.0
roll = 0
upAxisIndex = 2

# Add a simple box with jpg texture
sphereRadius = 0.3
colBoxId = p.createCollisionShape(p.GEOM_BOX,halfExtents=[sphereRadius, sphereRadius, sphereRadius])
visBoxId = p.createVisualShape(p.GEOM_BOX,halfExtents=[sphereRadius, sphereRadius, sphereRadius],rgbaColor=[1,1,1,1])

jpg = np.random.randint(0,255,(100,100,3)).astype('uint8')
cv2.imwrite('tex.jpg',jpg)
test_texture = p.loadTexture('tex.jpg')


#robotid = p.createMultiBody(1,colBoxId,visBoxId,[1,1,0.35])
#p.changeVisualShape(robotid,-1,textureUniqueId=test_texture)

while (p.isConnected()):
  for yaw in range(0, 360, 10):
    start = time.time()
    p.stepSimulation()
    stop = time.time()
    #print(""stepSimulation %f"" % (stop - start))

    #viewMatrix = [1.0, 0.0, -0.0, 0.0, -0.0, 0.1736481785774231, -0.9848078489303589, 0.0, 0.0, 0.9848078489303589, 0.1736481785774231, 0.0, -0.0, -5.960464477539063e-08, -4.0, 1.0]
    viewMatrix = p.computeViewMatrixFromYawPitchRoll(camTargetPos, camDistance, yaw, pitch, roll,
                                                     upAxisIndex)
    projectionMatrix = [
        1.0825318098068237, 0.0, 0.0, 0.0, 0.0, 1.732050895690918, 0.0, 0.0, 0.0, 0.0,
        -1.0002000331878662, -1.0, 0.0, 0.0, -0.020002000033855438, 0.0
    ]

    start = time.time()
    img_arr = p.getCameraImage(pixelWidth,
                               pixelHeight,
                               viewMatrix=viewMatrix,
                               projectionMatrix=projectionMatrix,
                               shadow=1,
                               lightDirection=[1, 1, 1]
                               )
    stop = time.time()
    #time.sleep(0.2)
    #print(""renderImage %f"" % (stop - start))
    
    # Added for visualization (you need openCV)
    # I cannot see jpg texture of the box!
    w = img_arr[0]
    h = img_arr[1]
    img = np.array(img_arr[2])[:,:,:3]
    img = cv2.cvtColor(img,cv2.COLOR_RGB2BGR)
    cv2.imshow('asdf',img)
    #cv2.imwrite('direct.jpg',img)
    cv2.waitKey(1)

p.unloadPlugin(plugin)
```
I currently use only the cubes but I have to design and create .obj files for other shapes.

I hope that there is a better solution.",found file file work direct mode ended like import import time import import import import import import o output material ni ka print output return output output cube cube material print output return output output robot link inertial origin mass inertia visual origin geometry mesh material white color collision origin geometry box print output return output print print print print print print print pitch roll add simple box texture yaw range start stop print stop start yaw pitch roll start stop print stop start added visualization need see texture box currently use design create hope better solution,issue,negative,positive,neutral,neutral,positive,positive
637356216,"Thank you for your model improvement suggestions.

Regarding the drift, I can still observe it, even with the better model.

A video is attached, you can see the drift when you watch the mouse pointer in the end of the video. 
[drift_issue_vid.mp4.zip](https://github.com/bulletphysics/bullet3/files/4715535/drift_issue_vid.mp4.zip)


",thank model improvement regarding drift still observe even better model video attached see drift watch mouse pointer end video,issue,positive,positive,positive,positive,positive,positive
637204362,"You shouldn't use the shape unique id from 'createVisualShape' (it is wrongly called shape index, it is really shape global unique id) in changeVisualShape: that takes a object unique id, link index, and optionally a local shape index starting from 0 for each link, best not to provide it.",use shape unique id wrongly shape index really shape global unique id object unique id link index optionally local shape index starting link best provide,issue,positive,positive,positive,positive,positive,positive
637199091,"I don't notice a drift and with or without --nosway. Also the hoist is not moving. The yellow crane is modeled as a single convex shape (press 'w' to see the collision representation), it is best to model it using convex decomposition (either using v-hacd or manually).

See attached for a better crane approximation.
[models.zip](https://github.com/bulletphysics/bullet3/files/4714163/models.zip)



>> Without a collision spec for the hoist, bullet refuses to move the gantry

You need to provide some meaningful collision volume, since inertia is derived from the volume. Don't use fake masses or collision volumes, it will affect the simulation a lot.",notice drift without also hoist moving yellow crane single convex shape press see collision representation best model convex decomposition either manually see attached better crane approximation without collision spec hoist bullet move gantry need provide meaningful collision volume since inertia derived volume use fake collision affect simulation lot,issue,negative,positive,positive,positive,positive,positive
637195543,"Thanks for the help. The DeepMimic gym env hasn't been tested yet, it would be great to get the Gym environment to train/enjoy. So far, I've been using the DeepMimic_Optimizer.py to train and testrl to enjoy, both don't use the gym environment. (see also https://github.com/bulletphysics/bullet3/issues/2304)",thanks help gym tested yet would great get gym environment far train enjoy use gym environment see also,issue,positive,positive,positive,positive,positive,positive
637195437,"Thanks for the help. The DeepMimic gym env hasn't been tested yet, it would be great to get the Gym environment to train/enjoy. So far, I've been using the DeepMimic_Optimizer.py to train and testrl to enjoy, both don't use the gym environment.",thanks help gym tested yet would great get gym environment far train enjoy use gym environment,issue,positive,positive,positive,positive,positive,positive
637177534,"createVisualShape returns a shape unique id (the naming shapeIndex inside the code is wrong)
For changeVisualShape you should not use this shape unique id. You only provide an object unique id and a link index (-1 for base, 0 onwards for child links).
The 'shape index' only makes sense if you have multiple visual shapes for a specific link, and this shape index starts from zero for each link.

~~~~~~~~~~~~~~~~
 b3RobotSimulatorChangeVisualShapeArgs colorArgs;
        colorArgs.m_objectUniqueId = objID;
        //colorArgs.m_shapeIndex = 0;// nWallVis; //don't use nWallVis!
        colorArgs.m_hasRgbaColor = true;
        colorArgs.m_rgbaColor = col;
        sim->changeVisualShape(colorArgs);
~~~~~~~~~~~~~~~~",shape unique id naming inside code wrong use shape unique id provide object unique id link index base onwards child link index sense multiple visual specific link shape index zero link use true col,issue,negative,positive,neutral,neutral,positive,positive
636914499,Thanks a lot tracking down the issue and fixing it! LGTM.,thanks lot issue fixing,issue,negative,positive,positive,positive,positive,positive
636609251,"I tried to look my history and it doesn't seem I updated nor pybullet nor gym recently (I was on 2.7.4, but updated to 2.7.9 to see if it would have been solved there) and I am not sure what could have caused it to appear now.

I managed to fix it in #2835 (at least, so it seems)",tried look history seem gym recently see would sure could appear fix least,issue,negative,positive,neutral,neutral,positive,positive
636607872,"This is still an issue, see possibly related ticket: https://github.com/bulletphysics/bullet3/issues/2777",still issue see possibly related ticket,issue,negative,neutral,neutral,neutral,neutral,neutral
636607640,"PyBullet is a python module for sim, robotics and machine learning, it has rendering, inverse kinematics etc. Install is just pip install pybullet, it will do all, no need to manually install Bullet c++.

Bullet C++ is the underlying physics library, you don't need to compile or install it, pip does that.",python module machine learning rendering inverse kinematics install pip install need manually install bullet bullet underlying physic library need compile install pip,issue,negative,neutral,neutral,neutral,neutral,neutral
636589921,"Thanks for the report! If true that's a bad regression. If you have more details information what PR caused it, it could be resolved quicker.",thanks report true bad regression information could resolved,issue,negative,negative,neutral,neutral,negative,negative
636333750,"Hi @ashwal 
could you just lay out in 5 steps how to do so?
New to python here :)
Thank you!",hi could lay new python thank,issue,negative,positive,positive,positive,positive,positive
635731889,"Most features are indeed not implemented at the moment. Closing, since there is no active development happening. If someone wants to contribute, please open a pull request.",indeed moment since active development happening someone contribute please open pull request,issue,positive,negative,neutral,neutral,negative,negative
635698230,"For dynamic rigid bodies, `btConeShape` should be centered at 1/3 of the height, not 1/2.",dynamic rigid centered height,issue,negative,neutral,neutral,neutral,neutral,neutral
634806239,"> Hi @GiZumRyue,
> 
> getLinkState returns a tuple consisting of multiple return values, of which worldLinkFramePosition/Orientation is what you are looking for.
> 
> `(joint_position, joint_orientation) = pybullet.getLinkState(bodyUniqueId, linkId)[4:6]`
> 
> PS : You should be using [pybullet-forum](https://pybullet.org/Bullet/phpBB3/) for questions like these.

Awesome! It's This! And thanks for ur advise! ",hi multiple return looking like awesome thanks ur advise,issue,positive,positive,positive,positive,positive,positive
634800423,"Hi @GiZumRyue,

getLinkState returns a tuple consisting of multiple return values, of which worldLinkFramePosition/Orientation is what you are looking for.

`(joint_position, joint_orientation) = pybullet.getLinkState(bodyUniqueId, linkId)[4:6]`

PS : You should be using [pybullet-forum](https://pybullet.org/Bullet/phpBB3/) for questions like these.",hi multiple return looking like,issue,negative,neutral,neutral,neutral,neutral,neutral
634224866,"I know nothing about the feature (in fact, I didn't know Bullet even offered signed distance field objects until I came across this issue), but wouldn't something like checking for the intersection of the two signed distance fields be simple enough, something like just computing the min between the two of them and sampling over the regions within them that might intersect (based on a bounding box or convex hull or something)? As I said, though, I'm not familiar with the feature at all, and I don't know if that approach would be suitable for per-step calculations nor whether it would be amenable to some sort of up-front cacheable calculation like finding surface points could be.",know nothing feature fact know bullet even distance field came across issue would something like intersection two distance simple enough something like min two sampling within might intersect based bounding box convex hull something said though familiar feature know approach would suitable whether would amenable sort calculation like finding surface could,issue,positive,positive,positive,positive,positive,positive
634098768,"I have solved this problem.
The reason is that the collision .stl files have some error, I redownload the files and replace the files. Then solved.",problem reason collision error replace,issue,negative,neutral,neutral,neutral,neutral,neutral
633686235,"Sure. Temporary disabling rendering makes loading much faster, but after that you need to re-enable it otherwise you don't see anything.",sure temporary rendering loading much faster need otherwise see anything,issue,negative,positive,positive,positive,positive,positive
633685072,"Hello, my OS is Windows. 
I just tried your solution and everything is working. 
I really appreciate your help! Have a nice day! ",hello o tried solution everything working really appreciate help nice day,issue,positive,positive,positive,positive,positive,positive
633675890,"Thanks for the report. What OS?

You need to enable rendering:
p.configureDebugVisualizer(COV_ENABLE_RENDERING, 1",thanks report o need enable rendering,issue,negative,positive,positive,positive,positive,positive
633601010,"Hi @liruiw, did you resolve this at any point? I'm not using loaded textures, just standard geoms from an .mjcf file, but believed that calling changeVisualShape would work. For me, this method appears to have no effect no matter which renderer I use (ER_BULLET_HARDWARE_OPENGL or ER_TINY_RENDERER)",hi resolve point loaded standard file calling would work method effect matter renderer use,issue,negative,neutral,neutral,neutral,neutral,neutral
632681478,Are there any problems with this merge request? Is there anything that needs to be improved before it can be merged?,merge request anything need,issue,negative,neutral,neutral,neutral,neutral,neutral
632491642,"Perfect, thanks for these info, I'll integrate it and let you know. ",perfect thanks integrate let know,issue,positive,positive,positive,positive,positive,positive
632379288,"Yes, Bullet has the SAT implementation, but it needs to be organized to get what you need.

For the convex shapes, you need to call initializePolyhedralFeatures, so SAT can be used.
To try out SAT, you can set dispatchInfo.m_enableSAT = true.

The code is here:
https://github.com/bulletphysics/bullet3/blob/master/src/BulletCollision/CollisionDispatch/btConvexConvexAlgorithm.cpp#L489

You probably only need
foundSepAxis = btPolyhedralContactClipping::findSeparatingAxis

It would probably be better to implement a dedicated area check using this:
gather all objects that have AABB overlap (using a broadphase query)
for those potential colliders, use this SAT check.

In that case, don't m_enableSAT (since GJK/EPA is likely better quality/faster for regular physics) but just use your newly written area check using SAT.",yes bullet sat implementation need organized get need convex need call sat used try sat set true code probably need would probably better implement area check gather overlap query potential use sat check case since likely better regular physic use newly written area check sat,issue,positive,positive,positive,positive,positive,positive
632371709,"I need to support all the convex shapes, and I would just need an array of bodies that overlaps. I was thinking about SAT algorithm. ",need support convex would need array thinking sat algorithm,issue,negative,positive,positive,positive,positive,positive
632353453,"(1) What is the exact shape of the area? If it is an axis aligned bounding box, you can use the broadphase checks. Otherwise, it depends on the shape.

(2) What information do you want? Just an array of objects that overlap, or more (depth, normal, contact positions etc)?",exact shape area axis bounding box use otherwise shape information want array overlap depth normal contact,issue,negative,positive,positive,positive,positive,positive
632227818,"I think it's best to use loadURDF.

erwincoumans <notifications@github.com> schrieb am Do., 21. Mai 2020, 18:53:

> It is a bit complicated, the URDF link indices start with 0 while PyBullet
> native 'link index' starts at -1 for base, and 0 for links. Need to look
> into it later.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/2807#issuecomment-632220849>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AB6B2RYDGYMBAKSUCKTPZVDRSVL7FANCNFSM4NC5N46A>
> .
>
",think best use bit complicated link index start native index base link need look later thread reply directly view,issue,positive,negative,neutral,neutral,negative,negative
632220849,"It is a bit complicated, the URDF link indices start with 0 while PyBullet native 'link index' starts at -1 for base, and 0 for links. Need to look into it later.",bit complicated link index start native index base link need look later,issue,negative,negative,negative,negative,negative,negative
632220247,"multi-threading  is a user-contribution that I never tried/tested, and I'm not planning to maintain it. If you want to enable it, good luck! Also, Bullet3/OpenCL is not active for many years now, probably best to remove the Bullet3* folders.",never maintain want enable good luck also active many probably best remove bullet,issue,positive,positive,positive,positive,positive,positive
632219317,"It is a bit odd to specifiy joint limits while also using the 'continuous' type, better make up your mind if you want limits or not.
Indeed, we should protect the user from this indecisiveness.",bit odd joint also type better make mind want indeed protect user indecisiveness,issue,negative,positive,positive,positive,positive,positive
631176744,"I roll my own CCD using raycast from points 90 off from linv on a sphere,
I use vector.reflect() and place the object at where it's reflected off the
next frame

I run my CCD after my logic in bge.scene.pre_draw callback

On Tue, May 19, 2020 at 6:17 PM erwincoumans <notifications@github.com>
wrote:

> Unfortunately at the moment the CCD has no restitution and will loose
> energy. It will require modifications to the implementation.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/2483#issuecomment-631175874>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABW3SWPVVH4DPMVSFMNXNSLRSMVRFANCNFSM4JM2H36Q>
> .
>
",roll sphere use place object reflected next frame run logic tue may wrote unfortunately moment restitution loose energy require implementation thread reply directly view,issue,negative,negative,negative,negative,negative,negative
631175874,Unfortunately at the moment the CCD has no restitution and will loose energy. It will require modifications to the implementation.,unfortunately moment restitution loose energy require implementation,issue,negative,negative,negative,negative,negative,negative
631059247,"I have a similar issue with CCD, but before my rigidbody hits the ground (static heightfield).

The rigidbody falls from the sky at relatively high velocity but near the ground it suddenly stops in mid air, then continue falling from that 'halted' position losing basically all the energy from the fall.

Is it legit behavior of CCD? Or do I use some wrong parameter?

I set the ccd radius as the length of aabb half extents, and the motion threshold as a small fraction of this (like 0.05 of the radius).",similar issue ground static sky relatively high velocity near ground suddenly mid air continue falling position losing basically energy fall legit behavior use wrong parameter set radius length half motion threshold small fraction like radius,issue,negative,negative,neutral,neutral,negative,negative
630845683,"It is likely a mass ratio issue with the pgs constraint solver. Did you try a smaller time step and more solver iterations (and small residual threshold)? Or direct solver?
We can only give feedback with small self-contained pybullet examples attached as zip. 

If you cannot share, could you modify panda grasp?

https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_robots/panda",likely mass ratio issue constraint solver try smaller time step solver small residual threshold direct solver give feedback small attached zip share could modify panda grasp,issue,negative,negative,neutral,neutral,negative,negative
630837795,"I have a semi-related issue.
I am using Linux too and I can't even find a way to build Bullet3 with multithreading enabled.
I tried looking for an option in the cmake files but I only found multithreading options for Bullet 2.
None of the examples in the example browser seems to have anything related to multithreading either.

If someone could tell me how to build Bullet3 with multithreading I would be very thankful.",issue ca even find way build bullet tried looking option found bullet none example browser anything related either someone could tell build bullet would thankful,issue,positive,neutral,neutral,neutral,neutral,neutral
629948387,"Joint position can be set using the linkPositions argument (and then change joint angle using resetJointState)
See this example:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/createMultiBodyLinks.py

Joint limits are indeed not exposed yet. I think the joint limit constraints are actually added but not activated. We should implement a 'changeDynamics' method to modify the joint limits.",joint position set argument change joint angle see example joint indeed exposed yet think joint limit actually added implement method modify joint,issue,negative,neutral,neutral,neutral,neutral,neutral
629923919,"I don't have a strong preference wether we should add a method 'getFixedTimeSubStep' to avoid saving an extra field, or avoid recomputing. Either is fine with me.",strong preference wether add method avoid saving extra field avoid either fine,issue,negative,positive,positive,positive,positive,positive
629923467,"> Thanks for the PR. Why do we need to store yet another variable, we could just add a method 'getFixedTimeSubStep' and compute it from m_physicsDeltaTime and m_numSubSteps?
> 
> Also, we need to apply a similar fix for the contact points:
> 
> ```
> MyContactResultCallback cb(m_data->m_cachedContactPoints);
> 
> cb.m_bodyUniqueIdA = bodyUniqueIdA;
> cb.m_bodyUniqueIdB = bodyUniqueIdB;
> cb.m_deltaTime = m_data->m_physicsDeltaTime;
> 
> pt.m_normalForce = srcPt.getAppliedImpulse() / m_deltaTime;
> pt.m_linearFrictionForce1 = srcPt.m_appliedImpulseLateral1 / m_deltaTime;
> pt.m_linearFrictionForce2 = srcPt.m_appliedImpulseLateral2 / m_deltaTime;
> ```

m_deltaTime is a member field of MyContactResultCallback so m_deltaTime should be used. But since MyContactResultCallback is only used here once either should be fine.",thanks need store yet another variable could add method compute also need apply similar fix contact member field used since used either fine,issue,positive,positive,positive,positive,positive,positive
629861216,"Applied a fixed here, please check:
https://github.com/bulletphysics/bullet3/pull/2809",applied fixed please check,issue,negative,positive,neutral,neutral,positive,positive
629859486,"Thanks for the PR. Why do we need to store yet another variable, we could just add a method 'getFixedTimeSubStep' and compute it from m_physicsDeltaTime  and m_numSubSteps?

Also, we need to apply a similar fix for the contact points:

~~~~~~~~~~~~~~~~~~~
MyContactResultCallback cb(m_data->m_cachedContactPoints);

cb.m_bodyUniqueIdA = bodyUniqueIdA;
cb.m_bodyUniqueIdB = bodyUniqueIdB;
cb.m_deltaTime = m_data->m_physicsDeltaTime;

pt.m_normalForce = srcPt.getAppliedImpulse() / m_deltaTime;
pt.m_linearFrictionForce1 = srcPt.m_appliedImpulseLateral1 / m_deltaTime;
pt.m_linearFrictionForce2 = srcPt.m_appliedImpulseLateral2 / m_deltaTime;
~~~~~~~~~~~~~~~~~~~",thanks need store yet another variable could add method compute also need apply similar fix contact,issue,negative,positive,neutral,neutral,positive,positive
629549943,"Thanks for the report.
By default, PyBullet doesn't recompute forward kinematics in getLinkState, so you get the results that lags 1 simulation frame. Please use this:
~~~~~~~~~~~~~~~~~~
link_state = p.getLinkState(model_id, 0, computeForwardKinematics=True)[5]
~~~~~~~~~~~~~~~~~~",thanks report default recompute forward kinematics get simulation frame please use,issue,positive,positive,positive,positive,positive,positive
628680120,"> Please see https://github.com/bulletphysics/bullet3/blob/ef08e9b415f05d4fed60f3846730d9579962b61f/examples/pybullet/gym/pybullet_envs/deep_mimic/env/humanoid_stable_pd.py

Thx! I have found out the solution!",please see found solution,issue,positive,neutral,neutral,neutral,neutral,neutral
628481673,"I'd like to concur. I've dealt with this problem and loss of precision is tremendous, especially if you're using 32-bit precision floats.

Example if you're trying to convert angle to cos, and back to angle from cos, you lose a lot.
   float a1=0.0002f;
   float c=cosf(a1); // gives 1.0f
   float a2=acosf(c); // gives 0.0f

See here how I'm handling this in my game engine:
https://github.com/Esenthel/EsenthelEngine/blob/master/Engine/Source/Math/Quaternion.cpp#L61",like concur dealt problem loss precision tremendous especially precision example trying convert angle co back angle co lose lot float float float see handling game engine,issue,negative,negative,neutral,neutral,negative,negative
627091717,"I made some changes that fix the failing test. It was failing because of some code I had added to sort the contact manifolds after they were deserialized, to get them into the order in which they were serialized. Although that fixed my test, it broke the pybullet one. I was able to simplify my test so that it still tests the changes I made, but doesn't break if the contact manifolds aren't sorted. I'm not sure exactly what's going on with those manifolds, but I think it's best if that problem is left for another day and this PR stays focused on the changes to allow certain shapes to be serialized as both double and float.",made fix failing test failing code added sort contact get order although fixed test broke one able simplify test still made break contact sorted sure exactly going think best problem left another day stay allow certain double float,issue,negative,positive,positive,positive,positive,positive
626953798,This appears to have broken an already existing test for deterministic save restore with pybullet. I'm investigating.,broken already test deterministic save restore investigating,issue,negative,negative,negative,negative,negative,negative
626794954,"I came here to post about the same topic and found this open issue.

I agree with the statement that this can be solved by using `self.central_joint.current_position()` . 
In addition, I believe that it would make sense to also use `self.central_joint.current_position()` for `gamma` although I believe that it is correct as is, but using the `self.central_joint.current_position()`  makes the state interpretable without having to search for the upper and lower limit of the elbow joint.

I would propose to change https://github.com/bulletphysics/bullet3/blob/c4300dc2999b37ac0f689a54df422434a6cf5ddd/examples/pybullet/gym/pybullet_envs/robot_manipulators.py#L29-L44 to:

````
...
theta, self.theta_dot = self.central_joint.current_position()
self.gamma, self.gamma_dot = self.elbow_joint.current_position()
...
````

Connected to this issue is that it would also make sense to use `cos(gamma), sin(gamma)` instead of simply using `gamma` as the state. Let me know if I should post a second issue about this.",came post topic found open issue agree statement addition believe would make sense also use gamma although believe correct state interpretable without search upper lower limit elbow joint would propose change theta connected issue would also make sense use co gamma sin gamma instead simply gamma state let know post second issue,issue,negative,neutral,neutral,neutral,neutral,neutral
626684221,"Hi erwincoumans,

as mentioned I am using the C++ API. I can't reproduce it in python though. However in C++ I have a MWE, I just cloned the newest bullet master and still get the error. 
To use it replace the file https://github.com/bulletphysics/bullet3/blob/master/examples/RobotSimulator/RobotSimulatorMain.cpp and the corresponding CMakeLists.txt and compile using  './build_cmake_pybullet_double.sh'. OpenCV is required to open the second window for the camera view and already added in the zipped CMakeLists.

[MWE.zip](https://github.com/bulletphysics/bullet3/files/4609665/MWE.zip)

Thanks in advance",hi ca reproduce python though however bullet master still get error use replace file corresponding compile open second window camera view already added thanks advance,issue,negative,positive,neutral,neutral,positive,positive
626306718,"@erwincoumans Hi I am unable to import OBJ files using createVisualShape. I have tried with different files.
I use it like the following : 
visualShapeId = p.createVisualShape(shapeType=p.GEOM_MESH, fileName=""pawn.obj"")
Is there something I am doing wrong with the usage?
Thanks",hi unable import tried different use like following something wrong usage thanks,issue,negative,negative,negative,negative,negative,negative
625993173,"Thanks for the update. I trust you are familiar with the SVD signs, so let's merge it.
",thanks update trust familiar let merge,issue,positive,positive,positive,positive,positive,positive
625922489,"I can't reproduce this. Did you use changeVisualShape for all links and base (linkIndex=-1)

~~~~~~~~~~~~~~~
import pybullet as p
import time

p.connect(p.GUI)
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,0)
castle = p.loadURDF(""samurai.urdf"")
p.changeVisualShape(castle,-1,rgbaColor=[1,1,1,1])
for j in range(p.getNumJoints(castle)):
  p.changeVisualShape(castle,j,rgbaColor=[1,1,1,1])
  
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,1)
while (1):
  p.getCameraImage(320,200)
  p.stepSimulation()
  time.sleep(1./240.)
  
~~~~~~~~~~~~~~~

Please re-open if you have a repro case with small python script and all assets in a zipfile.",ca reproduce use link base import import time castle castle range castle castle please case small python script asset,issue,positive,negative,negative,negative,negative,negative
625919049,"There is a gear constraint for this, which couples 2 joints (prismatic or revolute).
You can use the gear ratio of 1 or -1 or other values.
See the [mimicJointConstraint](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/mimicJointConstraint.py).
Note that by default the constraint is purely on the velocity level, so there can be drift. You can enable erp (error reduction parameter) to remove positional drift.
",gear constraint prismatic revolute use gear ratio see note default constraint purely velocity level drift enable error reduction parameter remove positional drift,issue,negative,positive,positive,positive,positive,positive
625043604,"Is it possible to use MinGW though? I don't have Visual Studio or any IDE installed, I only use a text editor and the MinGW compiler. If this is not possible, then I will consider installing VS.",possible use though visual studio ide use text editor compiler possible consider,issue,negative,neutral,neutral,neutral,neutral,neutral
625002207,"Bullet should compile out-of-the-box on Linux, Mac OSX and Windows using a recent free Visual Studio version.
If you prefer a custom compiler, it is up to you to make the build work.
btw, the log file is partial and shows no error.",bullet compile mac recent free visual studio version prefer custom compiler make build work log file partial error,issue,negative,positive,neutral,neutral,positive,positive
624913504,"Not much, I had to review the code and click on merge, let's do that now. Thanks for the contribution and reminder!",much review code click merge let thanks contribution reminder,issue,negative,positive,positive,positive,positive,positive
624849099,What's needed in order for this to pull request be integrated into the repository?,order pull request repository,issue,negative,neutral,neutral,neutral,neutral,neutral
624822393,"Thanks, LGTM (waiting for CI to finish, before merge)",thanks waiting finish merge,issue,negative,positive,positive,positive,positive,positive
623807483,"It also runs in DIRECT mode indeed, will fix it asap.
Thanks for the report!",also direct mode indeed fix thanks report,issue,negative,positive,positive,positive,positive,positive
623157618,"Thank you for fixing this! However, in the latest version 2.7.5 where this issue is fixed, calling `env.render(mode=""rgb_array"")` gives me an error of:
```
requestOpenGLVisualizeCamera failedTraceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/lustre03/project/6004621/tianxin/penv/lib/python3.7/site-packages/gym/core.py"", line 235, in render
    return self.env.render(mode, **kwargs)
  File ""/lustre03/project/6004621/tianxin/penv/lib/python3.7/site-packages/pybullet_envs/env_bases.py"", line 99, in render
    self.camera_adjust()
  File ""/lustre03/project/6004621/tianxin/penv/lib/python3.7/site-packages/pybullet_envs/gym_locomotion_envs.py"", line 132, in camera_adjust
    self.camera.move_and_look_at(self.camera_x, y , 1.4, x, y, 1.0)
  File ""/lustre03/project/6004621/tianxin/penv/lib/python3.7/site-packages/pybullet_envs/env_bases.py"", line 169, in move_and_look_at
    camInfo = self.env._p.getDebugVisualizerCamera()
pybullet.error: Cannot get OpenGL visualizer camera info.
```",thank fixing however latest version issue fixed calling error recent call last file line module file line render return mode file line render file line file line get visualizer camera,issue,negative,positive,positive,positive,positive,positive
622603410,"Using a plain install of Bullet will install those libraries:
~~~~~~~
libBullet2FileLoader.a         
libBullet3Collision.a          
libBullet3Common.a             
libBullet3Dynamics.a           
libBullet3Geometry.a           
libBullet3OpenCL_clew.a        
libBulletCollision.a           
libBulletDynamics.a            
libBulletExampleBrowserLib.a   
libBulletFileLoader.a          
libBulletInverseDynamics.a     
libBulletInverseDynamicsUtils.a
libBulletRobotics.a            
libBulletRoboticsGUI.a         
libBulletSoftBody.a            
libBulletWorldImporter.a       
libBulletXmlWorldImporter.a    
libBussIK.a                    
libclsocket.a                  
libConvexDecomposition.a       
libGIMPACTUtils.a              
libgwen.a                      
libHACD.a                      
libLinearMath.a                
libOpenGLWindow.a              
~~~~~~~

You just have to re-implement or copy b3RobotSimulatorClientAPI.cpp/.h into your own project and it should all be fine.

For linking, use those libraries, in that order:
~~~~~~~~
TARGET_LINK_LIBRARIES(<YOUR_APP> BulletRoboticsGUI BulletExampleBrowserLib BulletRobotics BulletFileLoader BulletWorldImporter BulletSoftBody BulletDynamics BulletCollision BulletInverseDynamicsUtils BulletInverseDynamics LinearMath OpenGLWindow gwen BussIK Bullet3Common)
~~~~~~~~",plain install bullet install copy project fine linking use order,issue,negative,positive,positive,positive,positive,positive
621518636,"Thanks for the contribution! Could you make a small change, moving the physicsClientId as last arg, and modify the type string to have i at the end).",thanks contribution could make small change moving last modify type string end,issue,negative,negative,neutral,neutral,negative,negative
621458182,"for stuff like stadia this could be amazing :D

On Wed, Apr 29, 2020 at 11:16 AM Dmitry Chichkov <notifications@github.com>
wrote:

> Doesn't seem like there is much interest in arrays of cameras and fast
> render. Not a single attempt to use this in a year. Surprising.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1885#issuecomment-621378341>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABW3SWODE4QHFRPXTHPAHD3RPBVGFANCNFSM4FV5V22Q>
> .
>
",stuff like stadium could amazing wed wrote seem like much interest fast render single attempt use year surprising reply directly view,issue,positive,positive,positive,positive,positive,positive
621378341,Doesn't seem like there is much interest in arrays of cameras and fast render. Not a single attempt to use this in a year. Surprising. ,seem like much interest fast render single attempt use year surprising,issue,positive,positive,positive,positive,positive,positive
620861480,"Sorry for late response, I tried with and without shared libs. I can patch it for OSX.",sorry late response tried without patch,issue,negative,negative,negative,negative,negative,negative
620740636,"I force-pushed to eliminate an unintended change: my UTF8-oriented text editor mangled the author's name in btGimpactShape.h, but that's fixed now. This PR is now ready to be reviewed.",eliminate unintended change text editor author name fixed ready,issue,negative,positive,positive,positive,positive,positive
620612310,"i read the code and doc again and find a new clue, as i understand, the nullspace method is used to adjust the joint angule in the direct of the nullspace of Jacobian to meet the limitation. but current implementation the nullspace velocity is caculated based on the old position, in my view, we should calculate the nullspace velocity based on the newer position, that is first we should caculate the deta theta with DSL and then calcuate the nullspace and finally call the CalcDeltaThetasDLSwithNullspace
     ",read code doc find new clue understand method used adjust joint direct meet limitation current implementation velocity based old position view calculate velocity based position first theta finally call,issue,negative,positive,neutral,neutral,positive,positive
619610163,Thanks fix was manually applied. Thanks!,thanks fix manually applied thanks,issue,positive,positive,positive,positive,positive,positive
619607831,Without license file we cannot accept the contribution. Closing.,without license file accept contribution,issue,negative,neutral,neutral,neutral,neutral,neutral
619607676,"Thanks, it looks good to me. Thanks for the contribution.",thanks good thanks contribution,issue,positive,positive,positive,positive,positive,positive
619607069,"Yeah sure😄

On Mon, 27 Apr, 2020, 12:25 am erwincoumans, <notifications@github.com>
wrote:

> Reconsidering, since some of the examples already require pybullet_data,
> let's apply the patch. Thanks for the contribution.
>
> It is up to you how to organize your classes, hope PyBullet will be
> useful, also consider using Google Colab and Stable Baselines (to train /
> enjoy reinforcement learning).
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2769#issuecomment-619605386>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AKTKIWOQJ6HZWIWXL5YFRCDROR7SZANCNFSM4MPZR7HA>
> .
>
",yeah sure mon wrote since already require let apply patch thanks contribution organize class hope useful also consider stable train enjoy reinforcement learning thread reply directly view,issue,positive,positive,positive,positive,positive,positive
619606753,"Thanks for the contribution! Since it is disable by default, we can just apply it.",thanks contribution since disable default apply,issue,negative,positive,positive,positive,positive,positive
619605386,"Reconsidering, since some of the examples already require pybullet_data, let's apply the patch. Thanks for the contribution.

It is up to you how to organize your classes, hope PyBullet will be useful, also consider using [Google Colab](https://colab.sandbox.google.com/drive/15JSROMJbeiqxcUwifPR2NYeeFBKmyIlX#scrollTo=E2eWDjPZsQc5) and Stable Baselines (to train / enjoy reinforcement learning).


See also this [Colab example](https://colab.sandbox.google.com/drive/1u6j7JOqM05vUUjpVp5VNk0pd8q-vqGlx).",since already require let apply patch thanks contribution organize class hope useful also consider stable train enjoy reinforcement learning see also example,issue,positive,positive,positive,positive,positive,positive
619533506,"Thanks for looking into it!

@aravindsiv 
I went the second option, similar to App_RobotSimulator. However I rewrote the main into a class and compiled it as a Library instead of an Executable. See  https://github.com/bulletphysics/bullet3/blob/master/src/LinearMath/CMakeLists.txt, as example.",thanks looking went second option similar however main class library instead executable see example,issue,negative,positive,neutral,neutral,positive,positive
619485559,"There were a few issues that I fixed here:
https://github.com/bulletphysics/bullet3/pull/2768
render('human') didn't track objects, now fixed
render('rgb_array') lagged behind object

Here is a video: https://www.youtube.com/watch?v=FDjhYENTOMI
Note that if you call env.render('human') BEFORE the first env.reset, PyBullet will create a GUI window",fixed render track fixed render lagged behind object video note call first create window,issue,negative,positive,neutral,neutral,positive,positive
619475356,"Sounds good, I'll merge the #2771 and add env.unwrapped.camera_adjust() to render.",good merge add render,issue,negative,positive,positive,positive,positive,positive
619441258,"I think merging #2771 (Either into master or just your local branch @tianxintao), and then adding an env.unwrapped.camera_adjust() before the call to render will fix your issue. That's currently what I'm doing to resolve what I believe is the same issue in my own work. It might make sense to just put the call to adjust camera inside the render call, IIRC that's how the mujoco envs behave, and it seems like useful default behavior. ",think either master local branch call render fix issue currently resolve believe issue work might make sense put call adjust camera inside render call behave like useful default behavior,issue,positive,positive,neutral,neutral,positive,positive
619434320,"Those environments are messy code I'm not very familiar with. Please consider a pull request if you fixed it. I'd like to re-implement those mujoco envs properly, but lack the time at the moment.",messy code familiar please consider pull request fixed like properly lack time moment,issue,negative,positive,neutral,neutral,positive,positive
619433828,"It seems that changing [line45](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/robot_locomotors.py#L45) in `robot_locomotors.py` to `self.body_xyz = body_pose.xyz()` could solve this problem. But still quite confusing, why the default setup cannot track the com of the character well?",line could solve problem still quite default setup track character well,issue,negative,neutral,neutral,neutral,neutral,neutral
619320412,"Hmm, my initial commit caused the travis build to fail under gcc on macOS. However reverting and then un-reverting this commit resulted in a passing build. That, coupled with the fact that this small change should have no impact on the compilation in my mind, seems to point to a problem somewhere in the pipeline unrelated to this pull request? ",initial commit travis build fail however commit passing build coupled fact small change impact compilation mind point problem somewhere pipeline unrelated pull request,issue,negative,negative,negative,negative,negative,negative
619221940,"
Thanks, will check out the color issue in TinyRenderer later.

@aravindsiv
Also check out the pybullet [cmake target](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/CMakeLists.txt), it depends on BulletRoboticsGUI etc.
~~~~~~~~~~~~~~
TARGET_LINK_LIBRARIES(pybullet BulletRoboticsGUI BulletExampleBrowserLib BulletRobotics BulletFileLoader BulletWorldImporter BulletSoftBody BulletDynamics BulletCollision BulletInverseDynamicsUtils BulletInverseDynamics LinearMath OpenGLWindow gwen BussIK Bullet3Common)
~~~~~~~~~~~~~~

Another option is to just depend on BulletRobotcs and manually add a few files. See the App_RobotSimulator target in 
https://github.com/bulletphysics/bullet3/blob/master/examples/RobotSimulator/CMakeLists.txt


Relying on system-installed libraries is more complicated, so I suggest simply copying the Bullet source tree in some third_party folder first.",thanks check color issue later also check target another option depend manually add see target complicated suggest simply bullet source tree folder first,issue,negative,negative,neutral,neutral,negative,negative
619185533,"Hi,

I saw your issue #2730 . Could you tell me how you were able to compile the C++ API as an external library with the GUI?

Thanks in advance!",hi saw issue could tell able compile external library thanks advance,issue,negative,positive,positive,positive,positive,positive
619080368,"Oh okay

On Fri, 24 Apr, 2020, 8:48 pm erwincoumans, <notifications@github.com>
wrote:

> I have to thing about how to do this.
> When you compile pybullet using premake/cmake, the pybullet_data module is
> often not available. Then the old examples still work fine, as long as you
> run them from that folder.
> Now with your changes, it breaks that functionality, since it will abort
> importing a non-existing pybullet_data module. So we need to wrap the
> import pybullet_data inside a 'try' statement, and only
> setAdditionalSearchPath if that exists. It becomes messy...
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2769#issuecomment-619074675>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AKTKIWKWI5UCBX4FRG2A573ROGUUBANCNFSM4MPZR7HA>
> .
>
",oh wrote thing compile module often available old still work fine long run folder functionality since abort module need wrap import inside statement becomes messy thread reply directly view,issue,negative,positive,positive,positive,positive,positive
619074675,"I have to thing about how to do this.
When you compile pybullet using premake/cmake, the pybullet_data module is often not available. Then the old examples still work fine, as long as you run them from that folder.
By default, pybullet searches in ./data, ../data, ../../data, ../../../data etc.

Now with your changes, it breaks that functionality, since it will abort importing a non-existing pybullet_data module. So we need to wrap the import pybullet_data inside a 'try' statement, and only setAdditionalSearchPath if that exists. And that without making the examples too messy.

~~~~~~~~~~~~~~~~
import pybullet as p
path=""""
try:
  import pybullet_data as pd
  path=pd.getDataPath()
p.connect(...)
p.setAdditionalSearchPath(path)
~~~~~~~~~~~~~~

I think for now, it is best to leave out the pybullet_data from those examples, and add a few important examples to a new folder inside pybullet/gym/pybullet_examples. Let me do that later.",thing compile module often available old still work fine long run folder default functionality since abort module need wrap import inside statement without making messy import try import path think best leave add important new folder inside let later,issue,positive,positive,positive,positive,positive,positive
618772748,"last time i had a suspicion that the model can't get what it expected with those constraints. if you can be sure your setting can work, Can you provide a similar sample that i can work with you to find the root cause?",last time suspicion model ca get sure setting work provide similar sample work find root cause,issue,negative,positive,positive,positive,positive,positive
618695729,"
>> Just to confirm

Yes, if you use torque control you have to apply those torques each stepSimulation. 
(for setJointMotorControl2 in velocity or position control that is not needed)
",confirm yes use torque control apply torque velocity position control,issue,negative,neutral,neutral,neutral,neutral,neutral
618694760,"Thanks for the fast reply! The patch works well, yay :)

Thanks for the extra info regarding `getContactPoints`. For now, I'm going with a small client wrapper (in Python) that can pool contact information across multiple simulation steps; simply retaining the contact with maximum normal force per body/link pair should be enough for me at this point.

Just to confirm, if I would manually apply the `numSubSetps` logic in a control setting, I should apply the motor forces for each sub-step, i.e. before each call to a single-substep `stepSimulation()`, right? Based on a few of experiments this seems to yield identical behavior at least.",thanks fast reply patch work well thanks extra regarding going small client wrapper python pool contact information across multiple simulation simply retaining contact maximum normal force per pair enough point confirm would manually apply logic control setting apply motor call right based yield identical behavior least,issue,positive,positive,neutral,neutral,positive,positive
618670581,"Can you confirm this fixes the swap issue?
https://github.com/bulletphysics/bullet3/pull/2766
Thanks!",confirm swap issue thanks,issue,negative,positive,positive,positive,positive,positive
618664621,"That code is a bug indeed, thanks for reporting! That whole swap thing should be needed, you optionally provide two body unique ids and link indices, and the contact point can be in any order.

I wouldn't rely on the first index in a contact being smaller than the second.

>> only returns the contact information of the last simulation step.

Indeed, getContactPoints only reports the last simulation sub step. You would have to write a pybullet C-plugin to gather all points in a post-tick callback, or set sub-steps to 1 and manually call the simulation with smaller time steps. Or we would need to cache the contact points in the PhysicsServerCommandProcessor::processForwardDynamicsCommand, changing the default behavior (or add a flag to enable this new behavior).
",code bug indeed thanks whole swap thing optionally provide two body unique link index contact point order would rely first index contact smaller second contact information last simulation step indeed last simulation sub step would write gather set manually call simulation smaller time would need cache contact default behavior add flag enable new behavior,issue,negative,positive,positive,positive,positive,positive
618511146,"Thanks. Yes, the examples assume you trun them from the full repository, and in that case it should find the resources in the Bullet/data folder (instead of Bullet/examples/pybullet/gym/pybullet_data).

Using setAdditionalSearchPath is better, and we could include the examples with pybullet by default.",thanks yes assume trun full repository case find folder instead better could include default,issue,positive,positive,positive,positive,positive,positive
618174927,"It has been a few year since I looked into that. Recording the torques during VR should happen in a plugin, so it happens exactly after each internal stepSimulation (in realTime mode). If you call 'getJointState' from python in realTime mode, you may skip simulation steps etc, so that won't work.
Writing such plugin requires a bit of C coding, see the VR sync plugin.
Closing now, since I get too many open topics of discussion. Happy to reply though, even if it is closed.",year since recording torque happen exactly internal mode call python mode may skip simulation wo work writing bit see sync since get many open discussion happy reply though even closed,issue,positive,positive,positive,positive,positive,positive
618167470,"We have to refactor all the scripts to support premake5, since I don't have time for that I stick with premake4.",support premake since time stick premake,issue,negative,neutral,neutral,neutral,neutral,neutral
618167063,"@floringogianu Thanks, at a glance it looks good.
Closing this, since I don't expect further contributions in this area.
Thanks!
",thanks glance good since expect area thanks,issue,positive,positive,positive,positive,positive,positive
618164411,"You could use 'rayTestBatch' to simulate laser/radar and lidar.
For IMU, you can start with the actual world position and orientation and linear/angular velocity etc, and add some noise model. Similar for GPS. There is no GPS triangulation model.
For camera image sensor you can use getCameraImage.",could use simulate imu start actual world position orientation velocity add noise model similar triangulation model camera image sensor use,issue,negative,neutral,neutral,neutral,neutral,neutral
618163883,"Disabled here. 
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/__init__.py
If you find more broken envs, please either fix them or disable them in the __init__ and submit a pull request. Thanks!
",disabled find broken please either fix disable submit pull request thanks,issue,negative,negative,negative,negative,negative,negative
618163295,"Yes, we better remove that broken env (the original contributor is doing other stuff now, and I don't have time to fix that). Unless you feel like fixing it, we can remove the env from tne __init__ file in bullet3/examples/pybullet/gym/pybullet_envsac",yes better remove broken original contributor stuff time fix unless feel like fixing remove file,issue,positive,positive,positive,positive,positive,positive
618141288,"@Steven89Liu hi, have u solved this ik  problem?
I've meet the same joint-limited problem, and also the joint-3 limits. Modify the 'll' and 'ul' can't solve it.",hi problem meet problem also modify ca solve,issue,negative,neutral,neutral,neutral,neutral,neutral
618114091,"Ah, in setup.py don't add the new file to egl plugin sources, but to the file bullet3\src\btLinearMathAll.cpp
(this is a workaround, since setuptools fails if there are too many files in the list)",ah add new file file since many list,issue,negative,positive,positive,positive,positive,positive
617880502,"> If the maximum torque is not enough to model the spring, we can expose the stiffness and damping (which gets converted into CFM and ERP internally) to model a the spring force.

I'd like to adjust the stiffness and damping coefficients for a project I'm working on, would it be possible to expose these using something like the p.changeConstraint()? or is this already exposed through the erp parameter?

Thanks
",maximum torque enough model spring expose stiffness damping converted internally model spring force like adjust stiffness damping project working would possible expose something like already exposed parameter thanks,issue,positive,positive,neutral,neutral,positive,positive
617867457,"If you added files, please add them to setup.py and all the CMakeLists.txt and premake4.lua project files.",added please add project,issue,negative,neutral,neutral,neutral,neutral,neutral
617865073,"Please coordinate with https://github.com/bulletphysics/bullet3/issues/2758 and provide a pull request of changes in BulletRobotics and BulletRoboticsGUI to copy/include the right headers in the right place for the platforms you care about (Windows, Mac, Linux etc)",please provide pull request right right place care mac,issue,positive,positive,positive,positive,positive,positive
617864372,"CMake evolves with community contributions. Can you coordinate here to make it work and provide a pull request?
https://github.com/bulletphysics/bullet3/issues/2741
",community make work provide pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
617839529,"Not sure if my edited comment above triggers a notification (if so, sorry for the spam):

I tried to copy the CMake file for the Extras/BulletRoboticsGUI library, but it doesn't install b3RobotSimulatorClientAPI.h into my project's include folder. It is not even present in BulletRoboticsGUI_INCLUDES in the CMakeLists. It does install libBulletRoboticsGUI.so into my project's lib folder. I'm confused as to how to import the b3RobotSimulatorClientAPI class in my project.",sure comment notification sorry tried copy file library install project include folder even present install project folder confused import class project,issue,negative,negative,neutral,neutral,negative,negative
617802038,"I'm using the latest release (2.89) which doesn't have the Extras/BulletRoboticsGUI library. I'll try to copy the CMake file for that library and see if it works.

**UPDATE:** I tried this, but the BulletRoboticsGUI doesn't install `b3RobotSimulatorClientAPI.h` into my project's `include` folder. It is not even present in `BulletRoboticsGUI_INCLUDES` in the CMakeLists. It does install `libBulletRoboticsGUI.so` into my project's `lib` folder. I'm confused as to how to import the `b3RobotSimulatorClientAPI` class in my project.",latest release library try copy file library see work update tried install project include folder even present install project folder confused import class project,issue,negative,positive,neutral,neutral,positive,positive
617435590,"Can't debug everyones GPU system, good luck with tracking down the issue(s).",ca system good luck issue,issue,positive,positive,positive,positive,positive,positive
617367299,"There could be some issue(s) in the implementation.
Here are some fixes upcoming: https://github.com/bulletphysics/bullet3/pull/2757

",could issue implementation upcoming,issue,negative,neutral,neutral,neutral,neutral,neutral
617232158,"There is no velocity control for the spherical joint indeed, hence the 'illegal control mode error'. There are no resources to work on this.",velocity control spherical joint indeed hence control mode error work,issue,negative,neutral,neutral,neutral,neutral,neutral
617228953,"Are you using shared libraries on Mac?
There is this line that may conflict?
~~~~~~~~~~~~~~~~~
SET_TARGET_PROPERTIES(BulletRobotics  PROPERTIES FRAMEWORK true)
~~~~~~~~~~~~~~~~~
If you have a small patch, please consider a pull request.",mac line may conflict framework true small patch please consider pull request,issue,negative,positive,neutral,neutral,positive,positive
617227045,Unfortunately stable pd is not supported aside from the deepmimic env with its character.,unfortunately stable aside character,issue,negative,negative,negative,negative,negative,negative
617226742,It is not supported. Please find a forum to discuss it.,please find forum discus,issue,negative,neutral,neutral,neutral,neutral,neutral
617226443,"It is not available, best to find a different solution.",available best find different solution,issue,positive,positive,positive,positive,positive,positive
617133707,"is there a chance it's a bug in the implementation? or it's my lack of knowledge how to use the TCP implementation? i've described my issue in detail in a [post on the forum](https://pybullet.org/Bullet/phpBB3/viewtopic.php?f=24&t=12926), but got no responces at all

the issue persists even on the same platform (with 64bit double precision) and i confirmed using shared memory connection that the server has bodies with joints...",chance bug implementation lack knowledge use implementation issue detail post forum got issue even platform bit double precision confirmed memory connection server,issue,negative,positive,positive,positive,positive,positive
616939249,"You will have to compile the physics server tcp bridge from c++ at the moment, it is not built-in.
I'll embed it at some stage. Until then, you'll need to use premake to build the tcp or udp bridge. Then spawn the physics server shared memory, and run the udp or tcp bridge (which connects to this physics server and forwards commands over tcp)

There is a graphics server embedded instead, over TCP. See 
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/graphicsClient.py
and
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/graphicsServer.py",compile physic server bridge moment embed stage need use premake build bridge spawn physic server memory run bridge physic server forward graphic server instead see,issue,negative,neutral,neutral,neutral,neutral,neutral
616690905,"I wish this issue didnt went silent
",wish issue didnt went silent,issue,negative,neutral,neutral,neutral,neutral,neutral
616332745,"> Hello, I'd like to ask you if you have successfully used dqn algorithm experiment?

No, neither the DQN on discrete grasping task nor this PPO on continus task perform well... sigh",hello like ask successfully used algorithm experiment neither discrete grasping task task perform well sigh,issue,positive,positive,positive,positive,positive,positive
616226195,"The most important part is missing: what version of visual studio did you install? It is best to use Visual Studio 2019 and run pip install inside a 'X64 Native Tools command prompt for VS2019' terminal.  This should call vcvarsall.bat and you should be OK. Please try this first.

If that still doesn't work, try this:

https://stackoverflow.com/questions/40018405/cannot-open-include-file-io-h-no-such-file-or-directory

Download [visual studio build tools](https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2019). 
~~~~~~~~~~~~~~~~
Visual C++ Build tools core features.
VC++ 2017 v141 toolset (x86,x64)
Visual C++ 2017 Redistributable Update
Windows 10 SDK (10.0.16299.0) for Desktop C++

~~~~~~~~~~~~~~~~

![image](https://user-images.githubusercontent.com/725468/79700092-44b21880-8248-11ea-93fa-9dc6794c8cd0.png)
",important part missing version visual studio install best use visual studio run pip install inside native command prompt terminal call please try first still work try visual studio build visual build core visual update image,issue,positive,positive,positive,positive,positive,positive
616214189,"j'ai deux pc un sa marche mais pas l'autre mais sa marche sur un pc portable pas puissant du tout j'ai toute les dernière version j'ai tester de réinstaller mais marche toujours pas je suis bloqué 
[erreur.txt](https://github.com/bulletphysics/bullet3/files/4500041/erreur.txt)

sur windows 10 (pro)
python 3.8.2
pip 20.0.2
setuptools 41.2.0
",un sa sa sur un portable puissant tout version tester de sur pro python pip,issue,negative,neutral,neutral,neutral,neutral,neutral
616163239,"Hello, I'd like to ask you if you have successfully used dqn algorithm experiment?",hello like ask successfully used algorithm experiment,issue,positive,positive,positive,positive,positive,positive
616140823,"It does for most people, you must be a snowflake. Please share your magic fairy dust: all versions of all important parts, os, compiler, python.",people must snowflake please share magic fairy dust important o compiler python,issue,positive,positive,positive,positive,positive,positive
616038894,"You can use addUserDebugLine for a trajectory. See the inverse kinematics example.
Or use instancing, see the batch usage in https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/createMultiBodyBatch.py#L114",use trajectory see inverse kinematics example use see batch usage,issue,negative,neutral,neutral,neutral,neutral,neutral
615944266,"Closing this old issue, please use the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA) and the [examples here](https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/examples).
The getMouseEvents has an example linked in those docs.

After objects are loaded, you can use getNumBodies and getBodyInfo, getJointInfo to see what was loaded.

The title is hardcoded, some visibility for PyBullet in the GUI is desired.

Only binary STL files indeed. Recommended format is URDF with primitives (box, sphere etc) or Wavefront obj files with mtl/png files.

~~~~~~~~~~~~~
pip install pybullet --upgrade --user
~~~~~~~~~~~~~",old issue please use guide example linked loaded use see loaded title visibility desired binary indeed format box sphere pip install upgrade user,issue,positive,positive,neutral,neutral,positive,positive
615540850,"Yes, tinyrenderer converted from urdf convention (urdf size is actual size, while mjcf size is half-size)
fixed here. https://github.com/bulletphysics/bullet3/pull/2749/commits/e5b26fb32317e3adcd142e86eb15554c18a7427f

Will be in the next pybullet version (2.7.4)
Most of the standard mjcf benchmarks (ant, hopper, half-cheetah, humanoid only uses sphere and capsules, so it went undetected).
Thanks for the report!
",yes converted convention size actual size size fixed next version standard ant hopper humanoid sphere went undetected thanks report,issue,positive,positive,neutral,neutral,positive,positive
615503723,"Update: in the example script above, I used `ER_BULLET_HARDWARE_OPENGL` to obtain the camera image since I copy-pasted the rendering code. When I use `ER_TINY_RENDERER`, I obtain the right-hand column from above (i.e. center box rendered too small) for both connection modes. Apparently, it's the rendering back-end rather than the connection mode that results in invalid box sizes.",update example script used obtain camera image since rendering code use obtain column center box small connection apparently rendering rather connection mode invalid box size,issue,negative,negative,neutral,neutral,negative,negative
615324820,"First of all, thanks for the quick answer. That already helped me a lot. Indeed it was a build system issue and now the simulation runs fine, when created within my qt project. 
However, I managed to reproduce the error by creating a QApplication before starting the Simulation, resulting in the same parsing error as mentioned in my original post. It seems like all float values (mass, size etc.) are casted to integer. When the simulation is created first the robot gets parsed correctly. Any idea why QApplication has such effect?",first thanks quick answer already lot indeed build system issue simulation fine within project however reproduce error starting simulation resulting error original post like float mass size integer simulation first robot correctly idea effect,issue,negative,positive,positive,positive,positive,positive
614184793,"@goodnamegood  PyBullet will load URDF files and apply the joint limits using btMultiBodyJointLimitConstraint  constraints, as specified in the URDF file. Make sure to use ""revolute"" joint type and not ""continuous"".",load apply joint file make sure use revolute joint type continuous,issue,negative,positive,positive,positive,positive,positive
614148087,@themightyoarfish are you able to solve this problem of respecting the limits? What is the way to choose the force to be applied?,able solve problem respecting way choose force applied,issue,negative,positive,positive,positive,positive,positive
613827961,Tested on the new version and it's fixed. Thanks for closing it.,tested new version fixed thanks,issue,negative,positive,positive,positive,positive,positive
613806434,"That is a very old pybullet version, can you please use the latest? 2.7.3 as of now.

Some fix was applied last month:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/env_bases.py#L60",old version please use latest fix applied last month,issue,negative,positive,positive,positive,positive,positive
613804231,"Seeding numpy shouldn't be needed (as it shouldn't be needed seeding the action space and observation space as we are not using randomness there as far as I know). I just tried seeding numpy and it still behaves in the same way. I managed to reproduce the same inconsistent result also with `Walker2DBulletEnv-v0`.

Has been tried on:
1. Ubuntu 18.04.4, python 3.6.9, gym 0.15.4, pybullet 2.6.4
2. Ubuntu 18.04.4, python 3.8.1, gym 0.17.1, pybullet 2.6.5
3. MacOS 10.15.3, python 3.7.3, gym 0.15.6, pybullet 2.6.4

I will report back after trying on a Windows machine too.",action space observation space randomness far know tried still way reproduce inconsistent result also tried python gym python gym python gym report back trying machine,issue,negative,positive,neutral,neutral,positive,positive
613799927,"What are the versions of
1) OS
2) gym
3) pybullet
4) python

When I run the script on Windows, Python 3.8, I get this:
~~~~~~~~~~~~~
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
-1353.9260731497207
~~~~~~~~~~~~~
Did you also seed numpy?",o gym python run script python get also seed,issue,negative,neutral,neutral,neutral,neutral,neutral
613693129,May be a bad connection.  Re-running the `pip3` command worked for me.,may bad connection pip command worked,issue,negative,negative,negative,negative,negative,negative
613646853,"Thanks! It seems without it, a software EGL implementation is chosen.",thanks without implementation chosen,issue,negative,positive,positive,positive,positive,positive
613296804,"> Hi, I have trained model by running
> python -m pybullet_envs.agents.train_ppo --config=pybullet_kuka_grasping --logdir=kuka
> but when I run
> python -m pybullet_envs.agents.visualize_ppo --logdir=kuka/ --outdir=kuka_video1
> It shows
> No registered env with id: KukaBulletEnv-v0

Hi, did you solve such a problem? I just encountered the same",hi trained model running python run python registered id hi solve problem,issue,negative,neutral,neutral,neutral,neutral,neutral
613152473,"I encountered a similar issue when applying external force to a grasped object. I simulated the exact same setting except for implicit cone or pyramid cone friction, and somehow the object can slip with default implicit cone but not with pyramid cone. This does not make sense to me since I assume pyramid cone is always smaller. And object can slip in a very weird trajectory.",similar issue external force object exact setting except implicit cone pyramid cone friction somehow object slip default implicit cone pyramid cone make sense since assume pyramid cone always smaller object slip weird trajectory,issue,negative,negative,neutral,neutral,negative,negative
612692002,"I am also trying to install pybullet in Windows10/Anaconda and I always get error>  ERROR: Command errored out with exit status 1: 'C:\anaconda\envs\myenv\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '""'""'C:\\Users\\jvasq\\AppData\\Local\\Temp\\pip-install-z6ar3h2u\\pybullet\\setup.py'""'""'; __file__='""'""'C:\\Users\\jvasq\\AppData\\Local\\Temp\\pip-install-z6ar3h2u\\pybullet\\setup.py'""'""';f=getattr(tokenize, '""'""'open'""'""', open)(__file__);code=f.read().replace('""'""'\r\n'""'""', '""'""'\n'""'""');f.close();exec(compile(code, __file__, '""'""'exec'""'""'))' install --record 'C:\Users\jvasq\AppData\Local\Temp\pip-record-3r7waoe5\install-record.txt' --single-version-externally-managed --compile --install-headers 'C:\anaconda\envs\myenv\Include\pybullet' Check the logs for full command output.",also trying install always get error error command exit status open compile code install record compile check full command output,issue,negative,positive,positive,positive,positive,positive
612655711,"The easiest is to make a copy in a new DIRECT sim, set that state and read the position and velocity from that sim.",easiest make copy new direct set state read position velocity,issue,negative,positive,positive,positive,positive,positive
612642648,"Actually, the part we are struggling with is how to calculate the position & velocity from the state. This seems to only be implemented in the pybullet engine currently.",actually part struggling calculate position velocity state engine currently,issue,negative,neutral,neutral,neutral,neutral,neutral
612614950,"> deepmimic humanoid has a floating base, no fixed link to the world.

@erwincoumans, sorry but I still do not understand what a floating base should like.
from [deepmimic humanoid file](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/humanoid/humanoid.urdf) I saw these line
```
<robot name=""dumpUrdf"">
	<link name=""base"" >
		<inertial>
				<origin rpy = ""0 0 0"" xyz = ""0 0 0"" />
			 <mass value = ""0.0001"" />
			<inertia ixx = ""0.0001"" ixy = ""0"" ixz = ""0"" iyy = ""0.0001"" iyz = ""0"" izz = ""0.0001"" />
		</inertial>
	</link>
	<link name=""root"" >
		<inertial>
				<origin rpy = ""0 0 0"" xyz = ""0.000000 0.280000 0.000000"" />
			 <mass value = ""6.000000"" />
			<inertia ixx = ""0.1"" ixy = ""0"" ixz = ""0"" iyy = ""0.1"" iyz = ""0"" izz = ""0.1"" />
		</inertial>
		<collision>
				<origin rpy = ""0 0 0"" xyz = ""0.000000 0.280000 0.000000"" />
			<geometry>
				<sphere radius = ""0.360000"" />
			</geometry>
		</collision>
	</link>
	<joint name=""root"" type=""fixed"" >
		<parent link = ""base"" />
		<child link=""root"" />
				<origin rpy = ""0 0 0"" xyz = ""0.000000 0.000000 0.000000"" />
	</joint>
```
which it shows the deepmimic humanoid's root is connected to the world with a fixed joint.
Isn't this mean in order to use the stable PD control, I need to add a world link to the robot urdf file and connect the world link with a fixed joint to the robot's torso and at last import the files with useFixedBase=False?
But what I am facing now is even doing this, all the joints are still not driven.


",humanoid floating base fixed link world sorry still understand floating base like humanoid file saw line robot link base inertial origin mass value inertia link root inertial origin mass value inertia collision origin geometry sphere radius joint root fixed parent link base child root origin humanoid root connected world fixed joint mean order use stable control need add world link robot file connect world link fixed joint robot torso last import facing even still driven,issue,positive,negative,negative,negative,negative,negative
612612320,"deepmimic humanoid has a floating base, no fixed link to the world.",humanoid floating base fixed link world,issue,negative,negative,negative,negative,negative,negative
612548398,"I agree this is an issue with the build system. But shouldn't a ""vanilla"" build using the dedicated build script (build_cmake_pybullet_double.sh) create only the supported library versions, i.e. the static ones ? I mean you obviously support cmake ?",agree issue build system vanilla build build script create library static mean obviously support,issue,positive,positive,neutral,neutral,positive,positive
612482596,"We only support static libraries, not shared libraries. 
This is not really a Bullet issue but some build system issue. Good luck.",support static really bullet issue build system issue good luck,issue,positive,positive,positive,positive,positive,positive
612206745,"Thank you, the information you provided is great! I will start reading the pdf you provided. In my application I using the low level broadphase and narrowphase components for collision checking during motion planning. I believe I may be incorrectly adding, removing and updating and the information you provided will be helpful in tracking down the issue. Also in the future I will post question on the forums.",thank information provided great start reading provided application low level collision motion believe may incorrectly removing information provided helpful issue also future post question,issue,positive,positive,positive,positive,positive,positive
612172981,Are they on the same platform? Compiled using 64bit double precision on both ends? Does the server have bodies? Please discuss further questions in the forums at https://pybullet.org,platform bit double precision server please discus,issue,negative,neutral,neutral,neutral,neutral,neutral
612161681,"Not intended to be rude, but I have no other answer then check out the source code or use the forums to understand more about this dynamic aabb broadphase. And more importantly, I don't have enough resources to reduce the number of real issues, and I still want to clear up this tracker, so I try to refer general questions to the forums.

OK, quick try:
1) check out Erin Catto's general overview of dynamic aabb tree:
https://box2d.org/files/ErinCatto_DynamicBVH_GDC2019.pdf

2) static objects (mass = 0) are always in the static tree
3) dynamic objects are either awake or sleeping. They start in the dynamic tree, and once they sleep they are moved to the 'static' tree (since we don't need to check sleeping/static objects against eachother).

4) adding and removing objects from a tree it a bit complicated, hence read Erin's doc and the source code, printf and debugger.",intended rude answer check source code use understand dynamic importantly enough reduce number real still want clear tracker try refer general quick try check general overview dynamic tree static mass always static tree dynamic either awake sleeping start dynamic tree sleep tree since need check removing tree bit complicated hence read doc source code,issue,positive,positive,neutral,neutral,positive,positive
612142187,I do not understand the need to be rude. I am familiar C++ and also a maintainer of several open-source repositories. ,understand need rude familiar also maintainer several,issue,negative,positive,neutral,neutral,positive,positive
612110860,"> This is an unused old method that was inherited from the original multibody code.
> Let's remove it: #2736
> Please discuss further in the forums.

So sorry for this disturbution! I really do not want to waste your time :(
Is there any guideline to know which type of questions are suitable in the forum? I hope I can have a correct choice next time.
Thanks you!",unused old method original code let remove please discus sorry really want waste time guideline know type suitable forum hope correct choice next time thanks,issue,positive,positive,neutral,neutral,positive,positive
612102062,"This is an unused old method that was inherited from the original multibody code. 
Let's remove it: https://github.com/bulletphysics/bullet3/pull/2736
Please discuss further in the forums.",unused old method original code let remove please discus,issue,positive,positive,positive,positive,positive,positive
612101537,">> How do I cope with this issue?

Use the forums to discuss such topics. See https://pybullet.org",cope issue use discus see,issue,negative,neutral,neutral,neutral,neutral,neutral
612074539,"This is C++, are you familiar with it? You can add printf or use a debugger to see what is happening. Please use the forums to discuss.",familiar add use see happening please use discus,issue,negative,positive,positive,positive,positive,positive
612034764,"This is Python code, did you try modifying it to do what you want?

@Steven89Liu This is not a C++ question",python code try want question,issue,negative,neutral,neutral,neutral,neutral,neutral
611876610,"I wasted too much time in that cluttered gym env code, looking forward to delete and replace it at some stage. If you have a patch, please create a pull request.",wasted much time gym code looking forward delete replace stage patch please create pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
611783528,"Only tetrahedra are supported. Xuchen added a check for it to avoid a crash.
https://github.com/bulletphysics/bullet3/pull/2731",added check avoid crash,issue,negative,neutral,neutral,neutral,neutral,neutral
611783040,"Please use the forums to discuss. Easiest is to just add the Bullet/src folder as 'include folder' and all files under Bullet/src/LinearMath, Bullet/src/BulletCollision and Bullet/src/BulletDynamics.",please use discus easiest add folder folder,issue,positive,neutral,neutral,neutral,neutral,neutral
611782687,"It is probably some build system issue. Bullet comes with an example how to use the C++ BulletRobotics API and it works just fine. See App_RobotSimulator (using premake or cmake).
Otherwise, please use the forums instead of this issue tracker.
",probably build system issue bullet come example use work fine see premake otherwise please use instead issue tracker,issue,negative,positive,positive,positive,positive,positive
611552424,"Right and changing the baseInertialFramePosition is the right action here. However. in the [createVisualShape.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/createVisualShape.py) example, the visualFramePosition in createVisualShape is changed which according to the doc is the ""translational offset of the visual shape with respect to the link frame"" and is related only to the visual of the object (rather than dynamics). I know software-wise they have the same outcome, but the latter seems unintuitive as we are modifying a ""dynamics"" property in a function for creating visual shapes. ",right right action however example according doc translational offset visual shape respect link frame related visual object rather dynamic know outcome latter unintuitive dynamic property function visual,issue,positive,positive,neutral,neutral,positive,positive
611535360,"You claim to be a researcher, go research about the meaning of an inertial frame, essential in robotics.",claim researcher go research meaning inertial frame essential,issue,negative,neutral,neutral,neutral,neutral,neutral
611283697,"This is due to the inertial center of mass frame position, Change the shift = [0, -0.08, 0]
(use the [createVisualShape.py] or alternatively, tweak the baseInertialFramePosition (https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/createVisualShape.py) script and change shift as above)
",due inertial center mass frame position change shift use alternatively tweak script change shift,issue,negative,negative,negative,negative,negative,negative
611249781,"The attached vtk file causes segmentation error on my end. I'm loading it following how  [deformable_ball.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/deformable_ball.py) loads a soft body.

[cube.zip](https://github.com/bulletphysics/bullet3/files/4453278/cube.zip)

",attached file segmentation error end loading following soft body,issue,negative,positive,neutral,neutral,positive,positive
611119690,"Probably only tetrahedral meshes are supported, but we should avoid a crash.
Can you attach a zipped vtk file that crashes?",probably tetrahedral avoid crash attach file,issue,negative,neutral,neutral,neutral,neutral,neutral
610734583,"@erwincoumans Thank you! I understand that softbody is not the main focus at the moment. I'm not much of C++ developer but I'd love to help contribute if I can.

Super awesome locomotion work by the way!

Regarding applying forces directly to the soft body, I've been attempting to add this feature into the python API for my research as a workaround for being unable to remove anchors. I realised the `processApplyExternalForceCommand` in the CommandProcessor does nothing if the body is not rigid or multibody. I've added this:

```
if (body && body->m_softBody)
{
  btSoftBody* sb = body->m_softBody;
  int link = clientCmd.m_externalForceArguments.m_linkIds[i];
  if ((clientCmd.m_externalForceArguments.m_forceFlags[i] & EF_FORCE) != 0)
  {
    btVector3 forceLocal(clientCmd.m_externalForceArguments.m_forcesAndTorques[i * 3 + 0],
      clientCmd.m_externalForceArguments.m_forcesAndTorques[i * 3 + 1],
      clientCmd.m_externalForceArguments.m_forcesAndTorques[i * 3 + 2]);
    btVector3 positionLocal(
      clientCmd.m_externalForceArguments.m_positions[i * 3 + 0],
      clientCmd.m_externalForceArguments.m_positions[i * 3 + 1],
      clientCmd.m_externalForceArguments.m_positions[i * 3 + 2]);

    btVector3 forceWorld = isLinkFrame ? forceLocal : sb->getWorldTransform().getBasis()*forceLocal;
    btVector3 relPosWorld = isLinkFrame ? positionLocal : sb->getWorldTransform().getBasis()*positionLocal;
    sb->addForce(forceWorld, link);
}
```

It does indeed apply the forces to the correct link, but the behaviour is a little strange (oscillating movements). I realise this is probably not the ideal way to achieve this behaviour, I'd love any advice on this.

Thanks guys!

EDIT:
Just wanted to add that I'm using a temporary hack to achieve the behaviour I need, which is to clear the anchor to the rigid body with:
`sbodyHandle->m_softBody->m_deformableAnchors.clear();`
",thank understand main focus moment much developer love help contribute super awesome locomotion work way regarding directly soft body add feature python research unable remove nothing body rigid added body link link indeed apply correct link behaviour little strange oscillating probably ideal way achieve behaviour love advice thanks edit add temporary hack achieve behaviour need clear anchor rigid body,issue,positive,positive,positive,positive,positive,positive
610732289,"@DanielTakeshi Thanks for the response! Yes, I have read that paper and that was my inspiration for exploring Bullet's softbody capabilities. I have also attempted to apply anchors and got some success, however I was unable to remove these anchors to ""release"" the fabric after graspsing.

I found a few of the authors pull requests, and it appears he did indeed modify the python API to add the cloth features. Digging into the repository you just linked (thanks for that!), I found at line 8292:

```
if (userConstraintPtr->anchoredSoftBody) {
	userConstraintPtr->anchoredSoftBody->removeAllAnchors();
}
```

Which doesn't appear in the original codebase, so perhaps he was able to remove softbody constraints.",thanks response yes read paper inspiration exploring bullet also apply got success however unable remove release fabric found pull indeed modify python add cloth digging repository linked thanks found line appear original perhaps able remove,issue,positive,positive,positive,positive,positive,positive
610731211,"Thanks for the links, I've been in touch with Jan Matas but didn't have the time to help out a lot.
Our focus is on locomotion at the moment, we used PyBullet in this research: https://twitter.com/erwincoumans/status/1246139922848735232

This paper also use PyBullet with deformables:
https://arxiv.org/abs/1910.04700

Xuchen Han is implementing FEM and mass-spring systems in PyBullet, next to the existing position based dynamics (PBD) and Chuyuan Fu is also contributing in this area. Let's re-open and see if we can add the feature.",thanks link touch time help lot focus locomotion moment used research paper also use han next position based dynamic fu also area let see add feature,issue,negative,positive,neutral,neutral,positive,positive
610728809,"Ah! Found the code base: https://github.com/JanMatas/bullet3

It's a fork of this repo.

Edit: here's the other repo for the paper linked below: https://github.com/Zackory/bullet3 (this is more recent and may be easier to work with)",ah found code base fork edit paper linked recent may easier work,issue,negative,negative,negative,negative,negative,negative
610728005,"@rlee3359  Not sure if this would be useful but this paper seems to have used PyBullet (see Section 4): https://arxiv.org/abs/1806.07851 about deformable cloth manipulation, and talks about adding ""anchors"".

@erwincoumans  Thank you for your work on PyBullet. I'm curious if you were aware of the paper from Matas et al, which was able to use PyBullet for cloth. I'm guessing the author had to wrestle deep inside PyBullet. (I contacted him and looked briefly at his code.)",sure would useful paper used see section deformable cloth manipulation thank work curious aware paper al able use cloth guessing author wrestle deep inside briefly code,issue,positive,positive,positive,positive,positive,positive
610331495,"VM's often don't support OpenGL3. Use direct mode and create images / videos using getCameraImage or avoid parallels. Or use Colab: 

https://colab.research.google.com/drive/15JSROMJbeiqxcUwifPR2NYeeFBKmyIlX#scrollTo=E2eWDjPZsQc5

 Use other forums to discuss this.",often support use direct mode create avoid use use discus,issue,negative,positive,neutral,neutral,positive,positive
610168501,"Thank you very much 
I did what you said but it didn't work 
I did as follow:
I want to build joint1 and jointtype is revolute
c = p.createConstraint(uarmId,3,uarmId,2,jointType=p.JOINT_POINT2POINT,jointAxis =[0,1,0],
                       parentFramePosition=[0.0274502,0.0165272,0.02698],
                       childFramePosition=[-0.1587598,0.0165272,-0.00006])
parentFramePosition = joint1-joint3
childFramePosition = joint1-joint2
Is this wrong?
What does p.JOINT_POINT2POINT mean? it means revolute?",thank much said work follow want build joint revolute wrong mean revolute,issue,negative,negative,negative,negative,negative,negative
610051288,"Thanks for the PR. I'm looking at it and need to test a few more things before LGTM.
(there are couple of uninitialized variables in the deformable code, unrelated to this PR)
",thanks looking need test couple deformable code unrelated,issue,negative,positive,positive,positive,positive,positive
609928677,Thank you very much for your quick reply!,thank much quick reply,issue,negative,positive,positive,positive,positive,positive
609927759,"The best way is to use the pybullet_utils.urdfEditor as in this example. It will use the createMultiBody command with all the children etc and allow to join two urdfs in-memory.
See https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/examples/combineUrdf.py

Another option is using createUserConstraint, it will use the constraint solver and hence possible not very rigid (if masses are different, time step large, constraint solver iterations low etc).
",best way use example use command allow join two see another option use constraint solver hence possible rigid different time step large constraint solver low,issue,positive,positive,positive,positive,positive,positive
609660452,"Since sdformat > 8.4, the URDF --> SDF converter does not export any more SDF files with `use_parent_model_frame` set to `1`, so i think we can close the issue as this was actually just affecting SDF that were generated from URDF . See https://bitbucket.org/osrf/sdformat/issues/189/convert-urdf-files-to-sdf-with .",since converter export set think close issue actually affecting see,issue,negative,neutral,neutral,neutral,neutral,neutral
609449372,"Hi, Hadelin2p,
     I am encountering the exact same problem using pybullet ""halfcheetah"" using the reinforcement learning algorithm A2C. Despite the increasing reward, but the simulation doesn't show meaningful/ expected movement, the agent gets stuck in a state as you mentioned.
      How do you solve that? I don't get your answer ""I forced the exploration on the full episode by setting Done to False here: https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/gym_locomotion_envs.py#L64""
       You modify the simulator or you change your algorithm setting?
     ",hi exact problem reinforcement learning algorithm despite increasing reward simulation show movement agent stuck state solve get answer forced exploration full episode setting done false modify simulator change algorithm setting,issue,negative,negative,neutral,neutral,negative,negative
609426850,"Please use the forums or check the code instead. From btSoftBody.h:

~~~~~~~~~~~~~~~~~~~~~
/* Node			*/
	struct Node : Feature
	{
		btVector3 m_x;       // Position
		btVector3 m_q;       // Previous step position/Test position
		btVector3 m_v;       // Velocity
        btVector3 m_vsplit;  // Temporary Velocity in addintion to velocity used in split impulse
        btVector3 m_vn;      // Previous step velocity
		btVector3 m_f;       // Force accumulator
		btVector3 m_n;       // Normal
		btScalar m_im;       // 1/mass
		btScalar m_area;     // Area
		btDbvtNode* m_leaf;  // Leaf data
		int m_battach : 1;   // Attached
        int index;
	};
~~~~~~~~~~~~~~~~~~~~~",please use check code instead node node feature position previous step position velocity temporary velocity velocity used split impulse previous step velocity force accumulator normal area leaf data attached index,issue,negative,negative,neutral,neutral,negative,negative
609426474,"Yes, the stable PD was only implemented for DeepMimic and has some assumptions (floating base for example). There are no resources or plans to work on this anytime soon though. If someone has time to fix it, please reopen. Otherwise try explicit PD instead with a small timestep.",yes stable floating base example work soon though someone time fix please reopen otherwise try explicit instead small,issue,positive,negative,negative,negative,negative,negative
609081105,"I'll try the visualstudio command prompt as you indicate
Thanks!",try command prompt indicate thanks,issue,negative,positive,positive,positive,positive,positive
609081057,"No idea, but now i have installed, explicit 14.0, not 14.25... and it returns:
`
ndows Kits\10\include\10.0.10240.0\ucrt"" /Tcexamples/pybullet/pybullet.c /Fobuild\temp.win-amd64-3.7\Release\examples/pybullet/pybullet.obj -DGWEN_COMPILE_STATIC -DBT_USE_DOUBLE_PRECISION -DBT_ENABLE_ENET -DBT_ENABLE_CLSOCKET -DB3_DUMP_PYTHON_VERSION -DEGL_ADD_PYTHON_INIT -DB3_ENABLE_FILEIO_PLUGIN -DB3_USE_ZIPFILE_FILEIO -DBT_THREADSAFE=1 -DSTATIC_LINK_SPD_PLUGIN -DBT_ENABLE_VHACD -DPYBULLET_USE_NUMPY -DWIN32 -DGLEW_STATIC
    pybullet.c
    c:\users\fran\anaconda3\include\pyconfig.h(203): fatal error C1083: Cannot open include file: 'basetsd.h': No such file or directory
    error: command 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe' failed with exit status 2
    ----------------------------------------
ERROR: Command errored out with exit status 1: 'C:\Users\fran\anaconda3\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '""'""'C:\\Users\\fran\\AppData\\Local\\Temp\\pip-install-do_k7tuy\\pybullet\\setup.py'""'""'; __file__='""'""'C:\\Users\\fran\\AppData\\Local\\Temp\\pip-install-do_k7tuy\\pybullet\\setup.py'""'""';f=getattr(tokenize, '""'""'open'""'""', open)(__file__);code=f.read().replace('""'""'\r\n'""'""', '""'""'\n'""'""');f.close();exec(compile(code, __file__, '""'""'exec'""'""'))' install --record 'C:\Users\fran\AppData\Local\Temp\pip-record-atqwrdq5\install-record.txt' --single-version-externally-managed --compile --install-headers 'C:\Users\fran\anaconda3\Include\pybullet' Check the logs for full command output.
`",idea explicit fatal error open include file file directory error command visual studio exit status error command exit status open compile code install record compile check full command output,issue,negative,positive,neutral,neutral,positive,positive
609080439,"I've only used Visual Studio 2019 command prompt and have python installed in c:\python36 and it worked fine. Never used anaconda on Windows, does Anaconda have support forums for Windows/Visual Studio?",used visual studio command prompt python worked fine never used anaconda anaconda support studio,issue,positive,positive,positive,positive,positive,positive
609079275,"The error happens to me, Anaconda Powershell Prompt, brand new installation (I didn't had any anaconda installation befor):

conda create -n rex python=3.7 anaconda
conda activate rex
pip install pybullet

`
...
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\right_inner_knuckle.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\meshes
    copying examples\pybullet\gym\pybullet_data\xarm\xarm_gripper\meshes\right_outer_knuckle.STL -> build\lib.win-amd64-3.7\pybullet_data\xarm\xarm_gripper\meshes
    running build_ext
    building 'pybullet' extension
    error: Microsoft Visual C++ 14.0 is required. Get it with ""Build Tools for Visual Studio"": https://visualstudio.microsoft.com/downloads/
    ----------------------------------------
ERROR: Command errored out with exit status 1: 'C:\Users\fran\anaconda3\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '""'""'C:\\Users\\fran\\AppData\\Local\\Temp\\pip-install-na4m0a5v\\pybullet\\setup.py'""'""'; __file__='""'""'C:\\Users\\fran\\AppData\\Local\\Temp\\pip-install-na4m0a5v\\pybullet\\setup.py'""'""';f=getattr(tokenize, '""'""'open'""'""', open)(__file__);code=f.read().replace('""'""'\r\n'""'""', '""'""'\n'""'""');f.close();exec(compile(code, __file__, '""'""'exec'""'""'))' install --record 'C:\Users\fran\AppData\Local\Temp\pip-record-io0biyem\install-record.txt' --single-version-externally-managed --compile --install-headers 'C:\Users\fran\anaconda3\Include\pybullet' Check the logs for full command output.
`

I have installed Microsoft Visual C++ Redistributable for Visual Studio 2019 from here: https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2017 for 32b and 64b

Any tips?",error anaconda prompt brand new installation anaconda installation create rex anaconda activate rex pip install running building extension error visual get build visual studio error command exit status open compile code install record compile check full command output visual visual studio,issue,negative,positive,neutral,neutral,positive,positive
608959920,update. hope you can see my last comment that is important for me. thanks.,update hope see last comment important thanks,issue,positive,positive,positive,positive,positive,positive
608556291,Thanks for your answer and hope this work can be completed as soon as possible，thank you.,thanks answer hope work soon,issue,positive,positive,positive,positive,positive,positive
608229026,I've never used or touched any of that multithreaded code. So the only few options: do bisection on git commits to see what commit caused the regression. Or create a small repro case that we can help debugging.,never used touched multithreaded code bisection git see commit regression create small case help,issue,positive,negative,negative,negative,negative,negative
608214183,"I'm seeing weird values in there, but I guess that's because it is defined, but not used anywhere in the code?
```
$ find . -type f -exec grep -H m_defaultManifoldResult {} \;
./BulletCollision/CollisionDispatch/btCollisionDispatcher.h:	btManifoldResult m_defaultManifoldResult;
```
",seeing weird guess defined used anywhere code find,issue,negative,negative,negative,negative,negative,negative
608213384,"I'm still having crashes, even with all object on heap.

What is m_defaultManifoldResult used for?
",still even object heap used,issue,negative,neutral,neutral,neutral,neutral,neutral
608182996,"> Please use the forums for discussions. Also, better to use PyBullet in Python, so your repro case can be 10 lines instead.

I will migrate this problem to the forum, thanks a lot! And the pybullet repro case is on the way.",please use also better use python case instead migrate problem forum thanks lot case way,issue,positive,positive,positive,positive,positive,positive
608099819,"There is a 2d biped that is related. Please use the forums to discuss further. (project lacks resources)
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_data/biped
",biped related please use discus project,issue,negative,neutral,neutral,neutral,neutral,neutral
608098732,"Don't have bandwidth to support those issues, please use the forums instead.",support please use instead,issue,positive,neutral,neutral,neutral,neutral,neutral
608097319,"indeed, contact manifolds keep pointer to persistent collision shapes/objects, so you need to keep the lifetime of the collision shapes/objects longer than the manifolds.",indeed contact keep pointer persistent collision need keep lifetime collision longer,issue,negative,neutral,neutral,neutral,neutral,neutral
608095963,">> we often want to

No, you can only connect to each shared memory connection from 1 single thread. Internally the physics server will serialize the commands anyway.

Note there are 2 shared memory sections, so you can have at most 2 threads or processes (aside from the server) sending commands. Use the p.connect(p.SHARED_MEMORY, key=SHARED_MEMORY_KEY2 for the second connection. 


Separately, you can have multiple bullet DIRECT servers in one program, use pybullet_utils.bullet_client so you don't have to pass the physicsClientId around everywhere)",often want connect memory connection single thread internally physic server serialize anyway note memory aside server sending use second connection separately multiple bullet direct one program use pas around everywhere,issue,negative,positive,neutral,neutral,positive,positive
608095834,"Here is a minimum example showing the error. Running this errors:

```
Traceback (most recent call last):
  File ""fingertip_test.py"", line 40, in <module>
    joint_names_to_idx(pgui)['left_inner_finger_joint'])
pybullet.error: GetJointInfo failed.
```

[tests.zip](https://github.com/bulletphysics/bullet3/files/4423709/tests.zip)
",minimum example showing error running recent call last file line module,issue,negative,neutral,neutral,neutral,neutral,neutral
608082050,"Hi Erwin,
Thanks for your response. 

I am currently getting -1 when trying to connect with pybullet.SHARED_MEMORY in my child thread. Is there any way to get a verbose debug message why?",hi thanks response currently getting trying connect child thread way get verbose message,issue,negative,positive,neutral,neutral,positive,positive
608034770,"I think I solved this.

Does Bullet support collision objects living on the stack?

I was doing a quick proximity test by testing a sphere against the world, with the sphere living on the stack.

What happens, I think, is that manifolds can persist between frames?

So next frame, it can still be pointing to a collision object that is no longer alive?

Two years ago, it happened to work, I guess. But no longer. It is probably a bug in my app for not making it a GHOST OBJECT?

```
int  wld_bullet_scan_neighbourhood( vec3_t pt, float radius, int cnt, int* walls, bool* hastank )
{
        btSphereShape sph( radius );
        btCollisionObject obj;
        obj.setCollisionShape( &sph );
        obj.setCollisionFlags( btCollisionObject::CF_STATIC_OBJECT );
        obj.setUserPointer( TAG_GRP( 0, GRP_QUER ) );
        btTransform trf;
        trf.setIdentity();
        btVector3 origin( pt[0], pt[1], pt[2] );
        trf.setOrigin( origin );
        obj.setWorldTransform( trf );
        TestCallback tcb( cnt, walls, hastank );
        world->contactTest( &obj, tcb );
        return tcb.cnt;
}
```",think bullet support collision living stack quick proximity test testing sphere world sphere living stack think persist next frame still pointing collision object longer alive two ago work guess longer probably bug making ghost object float radius bool radius origin origin return,issue,negative,positive,positive,positive,positive,positive
607594561,"Speaking of the Example Browser, all the soft body examples crash on me.
If you build for DEBUG, and start a soft body example:
```
App_ExampleBrowser: /home/bram/src/bullet3/src/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.cpp:739: int btSequentialImpulseConstraintSolver::getOrInitSolverBody(btCollisionObject&, btScalar): Assertion `body.isStaticOrKinematicObject()' failed.
b3Printf: Aborting and deleting SharedMemoryCommon object
```

It seems kinda similar to my crash. I get manifolds for which one of the collision bodies points to garbage.",speaking example browser soft body crash build start soft body example assertion object similar crash get one collision garbage,issue,negative,positive,neutral,neutral,positive,positive
607572449,That's a shame. There are no tests to avoid regression in the multithreaded parts. Possibly some of the recent deformable simulation work caused it. Is there any way to reproduce this in the Example Browser?,shame avoid regression multithreaded possibly recent deformable simulation work way reproduce example browser,issue,negative,neutral,neutral,neutral,neutral,neutral
607551975,"never mind, github already merged those changes into a single rq. I guess there is always just 1 pull rq active.
",never mind already single guess always pull active,issue,negative,negative,negative,negative,negative,negative
607551355,"I put the flag back, before I create another pull rq, there is still a pull rq from this morning pending, maybe keep them separate, and I create a new rq tomorrow?
",put flag back create another pull still pull morning pending maybe keep separate create new tomorrow,issue,negative,positive,neutral,neutral,positive,positive
607499960,"Well, it it true that some flags combinations are not working indeed. (myself, I've mostly used premake and the Python setuptools (setup.py) and pip last few years). There is some cmake refactor pull request, but there are so many changes in there that I don't even took the time to review it). 

Can we close this?",well true working indeed mostly used premake python pip last pull request many even took time review close,issue,positive,positive,positive,positive,positive,positive
607498298,"Thanks for the update. Could you help by re-introducing some flag that toggles between the old (for you working version) and the current version?

By the way, I think such tank would work nice with btMultiBody, but that would require much more change. If I ever find time to prototype such tank in PyBullet I'll reply here.
",thanks update could help flag old working version current version way think tank would work nice would require much change ever find time prototype tank reply,issue,positive,positive,positive,positive,positive,positive
607464764,"So yeah, after reverting `btGeneric6DofSpring2Constraint.cpp` and `btGeneric6DofSpring2Constraint.h` to the old versions of 2 yrs ago, it works again, so infinite error can cause some serious stability issues.",yeah old ago work infinite error cause serious stability,issue,negative,negative,negative,negative,negative,negative
607459820,"Sorry, I had the wrong commit link originally.",sorry wrong commit link originally,issue,negative,negative,negative,negative,negative,negative
607428153,">> What's going on? 

Too busy with other stuff and didn't enforce the formatting.

>> Why doesn't the script exclude the

No-one implemented this yet.

One issue is that running clang-format can cause a lot of merge conflict hassle with outstanding PRs, so until clang-format is part of CI, it is basically a once in a long while thing to run.",going busy stuff enforce script exclude yet one issue running cause lot merge conflict hassle outstanding part basically long thing run,issue,negative,positive,positive,positive,positive,positive
607427499,"Erwin,
I apologize! I messed up. Years ago, I created a cmake config that disabled clsocket and enet, which used to work. If I remove those defines, it works again.
```
cmake \
        -DBULLET2_MULTITHREADING=ON \
        -DBULLET2_USE_TBB_MULTITHREADING=ON \
        -DBUILD_CLSOCKET=OFF \
        -DBUILD_ENET=OFF \
        -DCMAKE_BUILD_TYPE=Release ../
``` ",apologize ago disabled used work remove work,issue,negative,negative,negative,negative,negative,negative
607422567,"Thanks Bram,
I've not seen the clsocket thing when building on Linux. Did you use cmake without any further flags? What compiler version?

We could remove FindOpenGL, since we don't really need it (we use glad, which dynamically loads OpenGL and has its own headers).",thanks seen thing building use without compiler version could remove since really need use glad dynamically,issue,positive,positive,positive,positive,positive,positive
607354142,"URDF doesn't support closed looks, so you need to add constraints to connect parts.
This is a bit more complicated. See the dobot.py example how to do this:
https://github.com/bulletphysics/pybullet_robots/blob/master/dobot.py",support closed need add connect bit complicated see example,issue,negative,negative,negative,negative,negative,negative
607353318,"Please use the forums for discussions. Also, better to use PyBullet in Python, so your repro case can be 10 lines instead.",please use also better use python case instead,issue,positive,positive,positive,positive,positive,positive
607352875,"It is not supported yet indeed, softbody/deformable is work-in-progress and not supported yet (no mention in the PyBullet Quickstart Guide)",yet indeed yet mention guide,issue,negative,neutral,neutral,neutral,neutral,neutral
607352438,There must be a compile setting difference between library and your app. Please use the forums to dicsuss.,must compile setting difference library please use,issue,negative,neutral,neutral,neutral,neutral,neutral
607352024,"It was a commit that doesn't support backwards compatibility. We need to add try/except statements instead. TensorFlow keeps on breaking the API.
~~~~~~~~~~~~~~~~~~~
try:
  import tensorflow.compat.v1 as tf
except Exception:
  import tensorflow as tf
~~~~~~~~~~~~~~~~~~~",commit support backwards compatibility need add instead breaking try import except exception import,issue,positive,neutral,neutral,neutral,neutral,neutral
606973868,"> Note that you can only have 1 client connect to each shared memory section. There are 2 shared memory sections. The TCP bridge uses shared memory key1.
> So you need to connect using the second key:
> p.connect(p.SHARED_MEMORY, p.SHARED_MEMORY_KEY2)
> #define SHARED_MEMORY_KEY 12347
> SHARED_MEMORY_KEY2 = SHARED_MEMORY_KEY+1
> Note you can use pybullet as server, using pip install pybullet, then python -m pybullet_utils.runServer

ok, this is helpful, will take it into account ",note client connect memory section memory bridge memory key need connect second key define note use server pip install python helpful take account,issue,negative,neutral,neutral,neutral,neutral,neutral
606972773,"> This is expected. Can you call pybullet.syncBodyInfo and try to getNumBodies again?

when I loadURDF from the TCP client and in the shared memory client call syncBodyInfo and getNumBodies - it all works, but vice versa - the server crashes.",call try client memory client call work vice server,issue,negative,neutral,neutral,neutral,neutral,neutral
606970282,"Note that you can only have 1 client connect to each shared memory section. There are 2 shared memory sections. The TCP bridge uses shared memory key1.
So you need to connect using the second key:
p.connect(p.SHARED_MEMORY, p.SHARED_MEMORY_KEY2)
#define SHARED_MEMORY_KEY 12347
SHARED_MEMORY_KEY2 = SHARED_MEMORY_KEY+1
Note you can use pybullet as server, using pip install pybullet, then python -m pybullet_utils.runServer
",note client connect memory section memory bridge memory key need connect second key define note use server pip install python,issue,negative,neutral,neutral,neutral,neutral,neutral
606962193,"@erwincoumans thanks for the hint to look at TCP, it indeed connected, but I ran into another issue. 

To simplify the testing, I'm running the following setup (Windows machine only, also no Unity stuff for now):
- `PhysicsServer_SharedMemory_GUI`
- `PhysicsServerSharedMemoryBridgeTCP`
- python client1 with `p.connect(p.SHARED_MEMORY)`
- python client2 with `p.connect(p.TCP)`

When I call `loadURDF` from client1, it works as expected, but when then from client2 I call `getNumBodies`, it always returns 0 (for client1 it's 1). Why could that be? Shouldn't they be in sync?

",thanks hint look indeed connected ran another issue simplify testing running following setup machine also unity stuff python client python client call client work client call always client could sync,issue,negative,positive,neutral,neutral,positive,positive
606596073,"Thanks for the response! Understood.

I have also attempted this by adding an anchor to a rigid body with createSoftBodyAnchor, and then apply a force to that body. Do you know if there is a way to remove an anchor after it has been created?",thanks response understood also anchor rigid body apply force body know way remove anchor,issue,negative,positive,positive,positive,positive,positive
606590361,"Almost all the pybullet APIs are assuming a multibody. There is some effort to add softbody/deformable, and the quickstart guide will explicitly mention if an API supports soft/deformables.",almost assuming effort add guide explicitly mention,issue,negative,neutral,neutral,neutral,neutral,neutral
606349163,"It should work, but UDP isn't tested well. I would first try TCP instead.
Also, make sure the builds are both using 64bit and double precision.
Also, NativeMethods.cs is probably out-of-date and needs to be re-generated.",work tested well would first try instead also make sure bit double precision also probably need,issue,positive,positive,positive,positive,positive,positive
605673235,"One pybullet client (or bullet_client.py) should only be called from 1 thread only. You can make calls from 1 more different thread of process by using a new bullet_client instance that connects to the server using SHARED_MEMORY. Note that bullet_client allows to use multiple pybullet instances from one process, without having to explicitly specify the physicsClientId. 
So instead of import pybullet as p, you use import pybullet_utils.bullet_client
p = bullet_client.BulletClient(mode=...)

See this code example how to use multiple clients:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/examples/combineUrdf.py

So first, from the main thread you create a bullet_client p0 with GUI or SHARED_MEMORY_SERVER,
after that has been created, you can create bullet_client p1 and connect using SHARED_MEMORY to the main thread's physics server.

Please report back if that doesn't solve your issue.",one client thread make different thread process new instance server note use multiple one process without explicitly specify instead import use import see code example use multiple first main thread create create connect main thread physic server please report back solve issue,issue,positive,positive,neutral,neutral,positive,positive
604917450,"Thanks for your response. It doesn't match with bullet's models in my opinion.
Have a nice days.",thanks response match bullet opinion nice day,issue,positive,positive,positive,positive,positive,positive
604772456,"sorry, i made a mistake, i was thinking to ask if they can be non-zero at the same time. thanks.",sorry made mistake thinking ask time thanks,issue,negative,negative,negative,negative,negative,negative
604647752,"I don't think the forums is a substitute for documentation.
You can see my forum posting https://pybullet.org/Bullet/phpBB3/viewtopic.php?f=9&t=12881
and it clearly demonstrates that people are merely guessing what the parameters might mean.",think substitute documentation see forum posting clearly people merely guessing might mean,issue,negative,negative,negative,negative,negative,negative
604575082,"The URDF file must have bad or invalid inertia properties. Share the (zipped) URDF and someone may be able to help. Just check the <inertia> fields of existing URDF files, there are plenty in the Bullet repository:
https://github.com/bulletphysics/bullet3/tree/master/data
and
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_data",file must bad invalid inertia share someone may able help check inertia plenty bullet repository,issue,negative,negative,neutral,neutral,negative,negative
604414178,"lower limit needs to be smaller than upper limit, and motor not too strong.

use a fixed joint instead, if lower == upper limit.",lower limit need smaller upper limit motor strong use fixed joint instead lower upper limit,issue,negative,positive,positive,positive,positive,positive
604413270,"PyBullet has clamps on the maximum velocity (100 units) to avoid instability, and link damping.",maximum velocity avoid instability link damping,issue,negative,neutral,neutral,neutral,neutral,neutral
604411825,"pybullet has vhacd built-in now.

>> other mesh decomposion method

You can use any method, store the convex decomposition as vertex/face object grouis in the Wavefront obj file

>> for disable the default setting 

Add concave=""yes"" in the URDF works fir non-moving objects
",mesh method use method store convex decomposition object file disable default setting add yes work fir,issue,negative,positive,positive,positive,positive,positive
602393056,"Maybe you could set up an empty wiki, and encourage people to manually move it over or something? It would be useful to have it back in some shape or form",maybe could set empty encourage people manually move something would useful back shape form,issue,positive,positive,neutral,neutral,positive,positive
602293749,"@erwincoumans Actually, when I run `clang-format-all.sh`, it produces 535 changed files (without this PR). What's going on? Have y'all not run `clang-format-all.sh` in a long time? Do you not run this script as part of your Travis CI builds? Why doesn't the script exclude the `ThirdPartyLibs` folder?

I think this needs to be resolved first, so let's put this on hold until the existing `clang-format` rules are followed and #2689 is merged so that there are `clang-format` checks run on Travis CI.",actually run without going run long time run script part travis script exclude folder think need resolved first let put hold run travis,issue,negative,positive,neutral,neutral,positive,positive
602291510,"`clang-format` does not have a way to enforce newlines at the end of files.

Files affected by `clang-format` already have LF line endings and the lack of a BOM, but this isn't done for non-C++ files such as the HTML files. Looking at the list of languages supported by `clang-format`, I think the only places we could enforce this using `clang-format` are the C# files and the JavaScript files.",way enforce end affected already line lack bom done looking list think could enforce,issue,negative,neutral,neutral,neutral,neutral,neutral
602271794,"> Does this also save a model every eval_freq steps?

It does if you specify `--save-freq` (deactivated by default), but there is no automatic loading of a checkpoint for now, you would need to rename it.",also save model every specify default automatic loading would need rename,issue,negative,neutral,neutral,neutral,neutral,neutral
602251908,Thanks for the PR! Does this also save a model every eval_freq steps? That's pretty important in RL.,thanks also save model every pretty important,issue,positive,positive,positive,positive,positive,positive
602242611,"We have a clang_format file.
If you have suggestions how to modify this file, we can discuss those changes (instead of manually modifying various source files)",file modify file discus instead manually various source,issue,negative,neutral,neutral,neutral,neutral,neutral
602187185,"@pgruenbacher I'm struggling with the same issue (also not sure about your exact case...) and I've figured out that setting `btDbvtBroadphase::m_deferedcollide=true` makes things much faster.
Also doing `world->getCollisionObjectArray().clear();` before `delete world` makes freeing world instant.",struggling issue also sure exact case figured setting much faster also delete world freeing world instant,issue,negative,positive,positive,positive,positive,positive
602158269,I have tested and everything works again. Well done,tested everything work well done,issue,negative,neutral,neutral,neutral,neutral,neutral
602126926,"No, it’s a typo. Thanks for noticing that. I’ll push a fix soon.

On Sat, Mar 21, 2020 at 17:29 erwincoumans <notifications@github.com> wrote:

> *@erwincoumans* commented on this pull request.
> ------------------------------
>
> In src/BulletSoftBody/btSoftBody.h
> <https://github.com/bulletphysics/bullet3/pull/2682#discussion_r396041923>
> :
>
> >
> -			SVSmask = 0x00F0,  ///Rigid versus soft mask
> -			VF_SS = 0x0010,    ///Vertex vs face soft vs soft handling
>
> with this change, VF_SS (0x010 -> 0x100) has the same mask as SDF_RDF
> (0x100), is that intentional
>
> —
> You are receiving this because you modified the open/close state.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2682#pullrequestreview-378962345>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AEYORNHIHQXVKKGJZBCQZG3RIVLU3ANCNFSM4LO53VXQ>
> .
>
-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",typo thanks push fix soon sat mar wrote pull request versus soft mask face soft soft handling change mask intentional state reply directly view han northwestern university college,issue,negative,positive,positive,positive,positive,positive
600877729,"Better use the forums for this. No idea what VTK models are, but PyBullet loads URDF, SDF and MJCF, and also obj, stl etc. See the examples.",better use idea also see,issue,negative,positive,positive,positive,positive,positive
600748631,"I was too happy too fast...
I need to have it working for Python 2.7 Windows 32bits now :/
I've updated the info in the forum... It seems to be a different error tho
Or it's something I'm doing very wrong and I don't know how to do right...

Could you please take a look at again?
",happy fast need working python forum different error tho something wrong know right could please take look,issue,negative,positive,positive,positive,positive,positive
600533368,"To reproduce the problem I took the following steps:
- I pulled down the last commit of the `master` branch (`3c9dde54`).
- I applied this [issue-patch.txt](https://github.com/bulletphysics/bullet3/files/4348279/issue-patch.txt) patch using `git apply issue.patch` from the source root
- I built from scratch using `premake64`

At this point it was enough to run `App_BulletExampleBrowser` and do some tests by clicking on the various soft bodies to highlight the issue.
I noticed that it only seems to work well with ""tetra"" bodies.
",reproduce problem took following last commit master branch applied patch git apply source root built scratch premake point enough run various soft highlight issue work well tetra,issue,negative,positive,neutral,neutral,positive,positive
600232058,"Thank you! Thank you! Thank you!
It works now!! ",thank thank thank work,issue,positive,neutral,neutral,neutral,neutral,neutral
600219900,"This also works in Colab with hardware EGL:
https://colab.research.google.com/drive/1u6j7JOqM05vUUjpVp5VNk0pd8q-vqGlx

~~~~~~~~~
import os
os.environ['MESA_GL_VERSION_OVERRIDE'] = '3.3'
os.environ['MESA_GLSL_VERSION_OVERRIDE'] = '330'
~~~~~~~~~
",also work hardware import o,issue,negative,neutral,neutral,neutral,neutral,neutral
600209440,"OK, I got around removing that include stdint.h. Should be fixed now.",got around removing include fixed,issue,negative,positive,neutral,neutral,positive,positive
600208661,"I fixed the issues, can you please try again with pybullet-2.6.9 and report back.
Also uploaded a precompiled wheel for Python 2.7 Windows 64bit.

Thanks!
Erwin
",fixed please try report back also wheel python bit thanks,issue,positive,positive,positive,positive,positive,positive
600140637,Thanks a lot for tracking down the commit. Do you have a small reproduction case?,thanks lot commit small reproduction case,issue,positive,negative,neutral,neutral,negative,negative
600134598,"Using `git bisect` and after a series of code builds, this is the result:
```
3bc701c487bf558ec68c48f308848a80df3d431f is the first bad commit
commit 3bc701c487bf558ec68c48f308848a80df3d431f
Author: Xuchen Han <xuchenhan2015@u.northwestern.edu>
Date:   Thu Feb 6 16:58:35 2020 -0800

    Improve intra-deformable collision and deformable self collision

:040000 040000 a6bcf0357dafaa5c3d94f073fd6aa87d28061d3d eaa2bc90322921832067a8387c192e63acee70d2 M      examples
:040000 040000 b3d3e1fabc68ccc8f31e620593c2eba905f57593 d92540ab9c942ce77ca096168af17c8457845767 M      src
```
ie this commit should have introduced the issue.",git bisect series code result first bad commit commit author han date improve collision deformable self collision ie commit issue,issue,negative,negative,negative,negative,negative,negative
600106657,"Hi Erwin,

https://pybullet.org/Bullet/phpBB3/viewtopic.php?f=9&t=12890
Could you please help me? I've tried so many things, it's not working...",hi could please help tried many working,issue,positive,positive,positive,positive,positive,positive
599896035,"?
For general chat, please use the Bullet forums at https://pybullet.org",general chat please use bullet,issue,negative,positive,neutral,neutral,positive,positive
599825168,"> @madebr ok I made an attempt, but not sure if it's done the right since I barely use cmake

Thank! The cmake change looks good to me.",made attempt sure done right since barely use thank change good,issue,positive,positive,positive,positive,positive,positive
599824592,"@madebr ok I made an attempt, but not sure if it's done the right since I barely use cmake",made attempt sure done right since barely use,issue,negative,positive,positive,positive,positive,positive
599703643,Could you provide a code snippet to reproduce the bug? I can help look into it. Thanks.,could provide code snippet reproduce bug help look thanks,issue,positive,positive,positive,positive,positive,positive
599639088,"Thanks a lot for the report!
I accepted some large PRs and it must have slipped in. Can you help tracking down what commit and what file(s) need to be reverted?",thanks lot report accepted large must slipped help commit file need,issue,positive,positive,positive,positive,positive,positive
599634343,"Please use the forums for discussion, and always provide a small fully working Python script reproduction case (with URDF etc). https://pybullet.org",please use discussion always provide small fully working python script reproduction case,issue,negative,negative,negative,negative,negative,negative
599336157,"Thanks for the PR! Too many changes to review, but since they are all related to deformables/soft body, let's merge now and make fixes if needed.",thanks many review since related body let merge make,issue,negative,positive,positive,positive,positive,positive
599325500,"@a-z-e-r-i-l-a PyBullet 2.6.7 onwards comes with vhacd included. Check the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA) for usage/paramaters.

~~~~~~~~~~~~~~~
pip3 install pybullet --upgrade --user

#now in a script you can use

import pybullet as p
import pybullet_data as pd
import os

p.connect(p.DIRECT)
name_in = os.path.join(pd.getDataPath(), ""duck.obj"")
name_out = ""duck_vhacd2.obj""
name_log = ""log.txt""
p.vhacd(name_in, name_out, name_log, alpha=0.04,resolution=50000 )
~~~~~~~~~~~~~~~",onwards come included check guide pip install upgrade user script use import import import o,issue,negative,neutral,neutral,neutral,neutral,neutral
599260436,">It would help a lot to save weights during training at regular intervals 

I've got good news for you, we just release a [callback collection](https://stable-baselines.readthedocs.io/en/master/guide/callbacks.html) and checkpoints are included. I will add that feature to the zoo soon.

>Also, the reward in Tensorboard doesn't seem to line up with avg episode reward in the console.

That's normal if you are normalizing the reward. The console should output the original mean reward.

>Finally, do the actions need to be normalized in range -1,1 for a custom env ? How about observations/rewards?

Answers for those questions are in the [tips and tricks](https://stable-baselines.readthedocs.io/en/master/guide/rl_tips.html#general-advice-when-using-reinforcement-learning) section of the documentation ;)
in short yes, and especially true (obs/reward normalization using `VecNormalize`) for A2C/PPO2.",would help lot save training regular got good news release collection included add feature zoo soon also reward seem line episode reward console normal reward console output original mean reward finally need range custom section documentation short yes especially true normalization,issue,positive,positive,positive,positive,positive,positive
599255680,Please use forums instead for such discussion: https://pybullet.org,please use instead discussion,issue,negative,neutral,neutral,neutral,neutral,neutral
599255584,"You need to reduce the number of vertices first, there are hardcoded limits.",need reduce number vertex first,issue,negative,positive,positive,positive,positive,positive
599017535,Can you add this option to the cmake build system as well?,add option build system well,issue,negative,neutral,neutral,neutral,neutral,neutral
598926190,"Thanks for the PR!
Looks like some error:
src/LinearMath/btImplicitQRSVD.h:474:54: error: ‘numeric_limits’ is not a member of ‘std’
                            const btScalar tol = 64 * std::numeric_limits<btScal

also this warning, perhaps initialized optimal_dist?

src/BulletSoftBody/btSoftBodyHelpers.cpp:1611:35: warning: 'optimal_dist' may be used uninitialized in this function [-Wmaybe-uninitialized]
         psb->m_z[i] = optimal_dist;
",thanks like error error member tol also warning perhaps warning may used function,issue,negative,positive,positive,positive,positive,positive
598872537,"The crashes are indeed due to storing the pointer to m_localShapeInfo, please store an object instead.
Also, you need to update the pick position to most recent, when setting the constraint.
Remove the changes in CommonRigidBodyBase.",indeed due pointer please store object instead also need update pick position recent setting constraint remove,issue,negative,negative,neutral,neutral,negative,negative
598869718,"Ok, I now made a more proper pull request with it: https://github.com/bulletphysics/bullet3/pull/2669

As for dispatch info, is that easily available from the btRigidBody (which may not be attached to a world)? In overall I think most would want this to be a compile time option anyway, due to the performance implications since this runs additional code every time velocity is changed which I assume adds significant slowdowns. So I made it a compile time option for now",made proper pull request dispatch easily available may attached world overall think would want compile time option anyway due performance since additional code every time velocity assume significant made compile time option,issue,positive,positive,positive,positive,positive,positive
598847661,"Thanks, this may help others.
Sure. you may want to turn the 9999 into some variable that can be set (dispatch Info or so).",thanks may help sure may want turn variable set dispatch,issue,positive,positive,positive,positive,positive,positive
598845647,"~~I just put the drafted changes into a pull request in a fork if anyone wants to look at it in GitHub UI: https://github.com/etc0de/bullet3/pull/1~~

~~(I didn't create a pull request here, since I assume it's not in a shape useful anyway. I invite anyone to copy it and use it as a base for whatever sort of pull request that is reasonable)~~ (there is now a pull request in this repo here: https://github.com/bulletphysics/bullet3/pull/2669 )",put pull request fork anyone look create pull request since assume shape useful anyway invite anyone copy use base whatever sort pull request reasonable pull request,issue,positive,negative,neutral,neutral,negative,negative
598606363,"I have similar problem with you, and I solve it by deleteing the vs2015 completely(both softwares about vs and the environment variable)
Then I only install the Build tool box which erwin said.
[https://download.microsoft.com/download/5/f/7/5f7acaeb-8363-451f-9425-68a90f98b238/visualcppbuildtools_full.exe?fixForIE=.exe.](url)
Finally you can use a program to test whether you install the tool box correctly.
Hope my answer can help you.",similar problem solve completely environment variable install build tool box said finally use program test whether install tool box correctly hope answer help,issue,positive,positive,neutral,neutral,positive,positive
598296458,"See the example here with point clouds, it has some info about near/far:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pointCloudFromCameraImage.py

For discussion, please use the forums at http://pybullet.org",see example point discussion please use,issue,negative,neutral,neutral,neutral,neutral,neutral
598123588,"i ran nao.py but i got the error below

ola@ola-HP-Pavilion-15-Notebook-PC:~/Downloads$ python nao.py
pybullet build time: Feb 22 2020 01:51:06
startThreads creating 1 threads.
starting thread 0
started thread 0 
argc=2
argv[0] = --unused
argv[1] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
X11 functions dynamically loaded using dlopen/dlsym OK!
Creating context
Created GL 3.3 context
Direct GLX rendering context obtained
Making context current
GL_VENDOR=Intel Open Source Technology Center
GL_RENDERER=Mesa DRI Intel(R) Haswell Mobile 
GL_VERSION=3.3 (Core Profile) Mesa 18.0.5
GL_SHADING_LANGUAGE_VERSION=3.30
pthread_getconcurrency()=0
Version = 3.3 (Core Profile) Mesa 18.0.5
Vendor = Intel Open Source Technology Center
Renderer = Mesa DRI Intel(R) Haswell Mobile 
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0 
MotionThreadFunc thread started
ven = Intel Open Source Technology Center
Workaround for some crash in the Intel OpenGL driver on Linux/Ubuntu
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,152]:

b3Printf: URDF file 'plane.urdf' not found

Traceback (most recent call last):
  File ""nao.py"", line 5, in <module>
    p.loadURDF(""plane.urdf"")
pybullet.error: Cannot load URDF file.
numActiveThreads = 0
stopping threads
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed
finished
numActiveThreads = 0
btShutDownExampleBrowser stopping threads
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed",ran got error python build time starting thread thread unused server dynamically loaded dynamically loaded context context direct rendering context making context current open source technology center mobile core profile mesa version core profile mesa vendor open source technology center renderer mesa mobile selected physic server starting thread thread thread open source technology center crash driver file found recent call last file line module load file stopping thread thread destroy semaphore semaphore destroy main semaphore main semaphore finished stopping thread thread destroy semaphore semaphore destroy main semaphore main semaphore,issue,negative,negative,neutral,neutral,negative,negative
598118796,"Thank you so much for your response, i have done the pip install. Could you please give detailed step by step procedure for running NAO.Thanks",thank much response done pip install could please give detailed step step procedure running,issue,positive,positive,positive,positive,positive,positive
598114767,"I indeed saw that mouse picking could be disabled, but it's a cool feature and I'd rather keep it. I wondered if the two could be connected, I'll eventually investigate that, see if I can avoid that interference.

Even though its a different method, do you know why the resetDebugVisualizerCamera call interferes with mouse picking ? It could be a good clue to understand the problem at hand.",indeed saw mouse could disabled cool feature rather keep two could connected eventually investigate see avoid interference even though different method know call mouse could good clue understand problem hand,issue,positive,positive,positive,positive,positive,positive
598023445,"> what car?

racecar in racecar.py 
I want to control it to the target position",car want control target position,issue,negative,neutral,neutral,neutral,neutral,neutral
597602204,"@OlalekanIsola pip3 install --upgrade pybullet --user
See the quickstartguide at http://pybullet.org",pip install upgrade user see,issue,negative,neutral,neutral,neutral,neutral,neutral
597597032,"Hi, i am new to mujoco and robotics.Could you please walk me  through setting it up.I have installed mujoco on Ubuntu 16.04",hi new please walk setting,issue,negative,positive,positive,positive,positive,positive
597412907,"Thanks for adding picking and tuning of params, that is very useful and fun! Some of the demos crashes sometimes when picking (for example cloth friction demo), need to track down why.",thanks tuning useful fun demo sometimes example cloth friction need track,issue,positive,positive,positive,positive,positive,positive
597320140,"There is an option to disable mouse picking entirely, would that help?
~~~~~~~~~~
import pybullet as p
p.configureDebugVisualizer(p.COV_ENABLE_MOUSE_PICKING, 0)
~~~~~~~~~~

It is different from resetDebugVisualizerCamera (in the other issue), but perhaps there is some bug/inference between mouse pick and getCameraImage.
",option disable mouse entirely would help import different issue perhaps mouse pick,issue,negative,neutral,neutral,neutral,neutral,neutral
596696559,It also seems that the user manual is only versioned as a PDF. Would it be possible to have the source as latex or markdown so that it could be more easily developed by community?,also user manual would possible source latex markdown could easily community,issue,negative,positive,positive,positive,positive,positive
594637933,"It would help a lot to save weights during training at regular intervals (and perhaps also whenever the policy exceeds the current best). Is there a way to achieve this with the regular rl_zoo_baselines? Preferably this interval can be user specified (in terms of number of steps).
~~~~~~~~~~~~~
python3 train.py --algo ppo2 --env HumanoidDeepMimicWalkBulletEnv-v1 --tensorboard-log deepmimic
~~~~~~~~~~~~~

I'm testing a new environment and like to test various intermediate snapshots.

Also, the reward in Tensorboard doesn't seem to line up with avg episode reward in the console.

Finally, do the actions need to be normalized in range -1,1 for a custom env ? How about observations/rewards?",would help lot save training regular perhaps also whenever policy current best way achieve regular preferably interval user number python testing new environment like test various intermediate also reward seem line episode reward console finally need range custom,issue,positive,positive,positive,positive,positive,positive
594419483,">I'd like to see a fully automatic fallback to load the best, that doesn't require command line options. So it just loads the _best file, if it cannot find its file.

ok, I'll do that

>Also, the enjoy script would be nice to use PyBullet's own visualizer.
Simply call the 'render(mode='human') before the first reset, then you get a visualizer GUI window

Oh, I did not know that... In fact, I've been struggling (cf zoo) with it. Using OpenCV was a hack.

>Also, how does baselines determine that the training is ended?

Good question.
It depends. For now, you give a budget (maximum number of interaction with the environment) but we would also use a callback that ends the training once a reward threshold is attained (cf the new [callback collection](https://stable-baselines.readthedocs.io/en/master/guide/callbacks.html#stoptrainingonrewardthreshold) that is now on master but not yet released).",like see fully automatic fallback load best require command line file find file also enjoy script would nice use visualizer simply call first reset get visualizer window oh know fact struggling zoo hack also determine training ended good question give budget maximum number interaction environment would also use training reward threshold new collection master yet,issue,positive,positive,positive,positive,positive,positive
594394797,"Ok, I think that could be an interresting patch to do indeed, since this is handled for URDFs files (with the `origin`) and not for SDFs",think could patch indeed since handled origin,issue,negative,neutral,neutral,neutral,neutral,neutral
594239525,@erwincoumans please could you help me? Thanks :),please could help thanks,issue,positive,positive,positive,positive,positive,positive
594031622,@jaks19 have you change the collision margin succesfully right now ? thanks very much.,change collision margin right thanks much,issue,negative,positive,positive,positive,positive,positive
593977196,"Also have imitation learning for kuka - am looking for collaborators to build a decent curriculum
please contact me culurciello@gmail.com
",also imitation learning looking build decent curriculum please contact,issue,negative,positive,neutral,neutral,positive,positive
593976812,I have a working A2C for kuka grasping. Please contact me if interested. culurciello@gmail.com,working grasping please contact interested,issue,positive,positive,positive,positive,positive,positive
593621265,"Yes, the TinyRenderer actually renders them green and red as well using getCameraImage.
Is it primarily the visualizer that doesn't support it (and the EGL/hardware render modes of getCameraImage, which use that code path)",yes actually green red well primarily visualizer support render use code path,issue,positive,positive,neutral,neutral,positive,positive
593478567,"Actually, you do parse the colors, because the following are correct, only it is not displayed in the viewer

```
p.getVisualShapeData(0)[0][7]
p.getVisualShapeData(0)[1][7]
```",actually parse color following correct displayed viewer,issue,negative,neutral,neutral,neutral,neutral,neutral
593478023,"Correct, we only support one material per link. The best solution is to bake the colors into a texture instead. Alternatively (slower) is to use fixed joints to split the link per material.",correct support one material per link best solution bake color texture instead alternatively use fixed split link per material,issue,positive,positive,positive,positive,positive,positive
593477456,"We only support a small subset of SDF to load the kinematics and dynamics parameters. There are APIs to set the joint poses. If someone wants to extend the SDF parser etc, please contribute and re-open.",support small subset load kinematics dynamic set joint someone extend parser please contribute,issue,positive,negative,negative,negative,negative,negative
593276169,"would you like to provide your email address for convinience , that i can send you through the eamil . the total zip file size is about 40MB large.

在2020-03-02 13:35:33，erwincoumansnotifications@github.com写道：

Can you share a reproduction case with actual urdf and meshes (all in a zip file)?

—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub, or unsubscribe.",would like provide address send total zip file size large share reproduction case actual zip file thread reply directly view,issue,positive,positive,neutral,neutral,positive,positive
593231740,"LGTM (although naming could be more clear, since it isn't strictly about 'motors')",although naming could clear since strictly,issue,negative,positive,positive,positive,positive,positive
593229749,"Also, how does baselines determine that the training is ended?",also determine training ended,issue,negative,neutral,neutral,neutral,neutral,neutral
593229660,"Yes, that’s correct.

On Sun, Mar 1, 2020 at 21:38 erwincoumans <notifications@github.com> wrote:

> Just to confirm: those are for all non-contact constraints, not just
> motors right? For example, constraint limits are also included, and fixed
> constraints etc.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2645?email_source=notifications&email_token=AEYORNBM32UL5TPBX4RNLFDRFNA5HA5CNFSM4K4PFGXKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOENN7LEQ#issuecomment-593229202>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AEYORNCNKJCALYFL33P6VXLRFNA5HANCNFSM4K4PFGXA>
> .
>
-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",yes correct sun mar wrote confirm right example constraint also included fixed thread reply directly view han northwestern university college,issue,negative,positive,positive,positive,positive,positive
593229202,"Just to confirm: those are for all non-contact constraints, not just motors right? For example, constraint limits are also included, and fixed constraints etc.",confirm right example constraint also included fixed,issue,negative,positive,positive,positive,positive,positive
593228424,Can you share a reproduction case with actual urdf and meshes (all in a zip file)?,share reproduction case actual zip file,issue,negative,neutral,neutral,neutral,neutral,neutral
593227218,"@erwincoumans 
I am not able to adjust the collision margin for the gripper of my yumi-robot, seems the API can only change the collision margin for basic shape like cylinder and sphere and so on. Would it be able to adjust collision margin for any other convex hull just like the collision in blender. Thanks very much!
",able adjust collision margin gripper change collision margin basic shape like cylinder sphere would able adjust collision margin convex hull like collision blender thanks much,issue,negative,positive,positive,positive,positive,positive
593132986,"Yes, as I mentioned in my first reply in this thread, please compare your setup with the unit test in [line 17](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/unittests/saveRestoreStateTest.py#L17).
~~~~~~~~~~~~
 p.setPhysicsEngineParameter(deterministicOverlappingPairs=1)
~~~~~~~~~~~~
That makes it deterministic, as you figured out the hard way. Thanks for sharing the example!",yes first reply thread please compare setup unit test line deterministic figured hard way thanks example,issue,positive,positive,neutral,neutral,positive,positive
593060328,"Please check this enjoy script, from the CL (if it hasn't been applied yet)
https://github.com/bulletphysics/bullet3/pull/2649",please check enjoy script applied yet,issue,positive,positive,positive,positive,positive,positive
593059710,"I'd like to see a fully automatic fallback to load the best, that doesn't require command line options. So it just loads the _best file, if it cannot find its file.

Also, the enjoy script would be nice to use PyBullet's own visualizer.
Simply call the 'render(mode='human') before the first reset, then you get a visualizer GUI window.
It looks better than the OpenCV one, and it actually works.

Also, I didn't 'enjoy' the enjoy script due to those errors, that would be fixed by just using PyBullet's own visualizer (render(mode='human' before reset).


~~~~~~~~~~~~~~
Traceback (most recent call last):
  File ""C:\python-3.5.3.amd64_numpydebug\lib\runpy.py"", line 193, in _run_module_as_main
    ""__main__"", mod_spec)
  File ""C:\python-3.5.3.amd64_numpydebug\lib\runpy.py"", line 85, in _run_code
    exec(code, run_globals)
  File ""C:\python-3.5.3.amd64_numpydebug\lib\pybullet_envs\stable_baselines\enjoy.py"", line 69, in <module>
    env.render(mode='human')
  File ""C:\python-3.5.3.amd64_numpydebug\lib\site-packages\stable_baselines\common\vec_env\subproc_vec_env.py"", line 138, in render
    cv2.imshow('vecenv', bigimg[:, :, ::-1])
cv2.error: OpenCV(4.2.0) C:/projects/opencv-python/opencv/modules/highgui/src/precomp.hpp:137: error: (-215:Assertion failed) src_depth != CV_16F && src_depth != CV_32S in function 'convertToShow'
~~~~~~~~~~~~~~",like see fully automatic fallback load best require command line file find file also enjoy script would nice use visualizer simply call first reset get visualizer window better one actually work also enjoy script due would fixed visualizer render reset recent call last file line file line code file line module file line render error assertion function,issue,positive,positive,positive,positive,positive,positive
593059133,"not clear, I get lost in that environment code, and if I find time, I will write something from scratch in the future.",clear get lost environment code find time write something scratch future,issue,negative,positive,neutral,neutral,positive,positive
593058985,"The very first reset cycle will be different than all next ones, since it creates the urdf/model etc, so random seeds are different. There is a discussion and a patch that fixes it. Not going to break envs v0, perhaps a future revision will apply the patch.
https://github.com/bulletphysics/bullet3/issues/2639",first reset cycle different next since random different discussion patch going break perhaps future revision apply patch,issue,negative,negative,neutral,neutral,negative,negative
593058709,"Yes, you can create a rigid body that starts in sleeping mode. It will activate when something hits it.",yes create rigid body sleeping mode activate something,issue,positive,neutral,neutral,neutral,neutral,neutral
593058593,"It is not supported at the moment. Even in getCameraImage, we compute near/far from the projection matrix, which doesn't work for prthogonal matrices.
We could modify both getCameraImage and resetDebugVisualizerCamera to support orthogonal matrices. Contributions welcome.",moment even compute projection matrix work matrix could modify support orthogonal matrix welcome,issue,positive,positive,positive,positive,positive,positive
593058328,"It is easiest to keep a second simulation (in DIRECT mode) and perform queries there, using PyBullet.getClosestPoints.",easiest keep second simulation direct mode perform,issue,negative,positive,neutral,neutral,positive,positive
593058196,Thanks for the report. Not going to break the API. Will consider it for future new Gym envs.,thanks report going break consider future new gym,issue,negative,positive,positive,positive,positive,positive
593058132,"Please use the patch if it is important for you. I'm not going to break compatibility for v0 envs, will consider it for future new environments!",please use patch important going break compatibility consider future new,issue,negative,positive,positive,positive,positive,positive
593045709,"I keep getting linkage errors while trying to disable parts of Bullet that are unneeded, what do I need to compile BulletRobotics?
I currently have enabled:
- `BUILD_BULLET3`
- `BUILD_EXTRAS`
Every other `BUILD_*` is disabled, I am getting the error `/usr/bin/ld: cannot find -lBussIK`.

What else do I need to enable to get this to work?",keep getting linkage trying disable bullet unneeded need compile currently every disabled getting error find else need enable get work,issue,negative,negative,neutral,neutral,negative,negative
593031053,premake and cmake have a BulletRobotics project in the Extras folder. It doesn't require OpenGL.,premake project folder require,issue,negative,neutral,neutral,neutral,neutral,neutral
593030810,"I tracked it down, there are a few issues:
1) we postpone the robot/environment creation until the first reset.
if you call 'render(mode='human') before the first reset, you will get a GUI window. During the robot and environment creation of the first reset, it will make more calls to random, hence different results.

2) Python dicts are non-deterministic in some Python versions. We can use parts = collections.OrderedDict() instead of a regular dict.

Probably not going to change this yet, since it changes behavior and previous learning results.

Here is a patch you can try to make all reset's produce the same results for those Gym environments.
[patch.zip](https://github.com/bulletphysics/bullet3/files/4271233/patch.zip)
",tracked postpone creation first reset call first reset get window robot environment creation first reset make random hence different python python use instead regular probably going change yet since behavior previous learning patch try make reset produce gym,issue,negative,positive,neutral,neutral,positive,positive
593030287,"How would I build and link a project using the C API with CMake? Trying to compile the examples folder needs OpenGL among other things and it takes too long, all I need is the SharedMemory folder",would build link project trying compile folder need among long need folder,issue,negative,negative,neutral,neutral,negative,negative
593004889,"There are two examples:
Python bindings here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c

C++ wrapper around this C API:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/b3RobotSimulatorClientAPI_NoDirect.cpp

",two python wrapper around,issue,negative,neutral,neutral,neutral,neutral,neutral
592979573,"The self.parts seem to be randomized somewhere, @benelot  any idea why the order is not fixed? You can see this by adding this line in def calc_state(self) in robot_locomotors.py
~~~~~~~~~~~~~
print(""self.parts"",self.parts)
~~~~~~~~~~~~~
And run this script (after pip3 install pybullet,gym)
~~~~~~~~~~~~~~~
import pybullet_envs
import gym
env = gym.make('AntBulletEnv-v0')
print(""seed"")
env.seed(9)
print(env.reset())
print(""+++++++++++++++++++++++"")
print(""seed"")
env.seed(9)
print(env.reset())
print(""+++++++++++++++++++++++"")
print(""seed"")
env.seed(9)
print(env.reset())
print(""+++++++++++++++++++++++"")

~~~~~~~~~~~~~~~
We need to reverse engineer this code to track down what causes the random order of self.parts

The self.stateId >= 0 is unrelated to the randomness of this environment (just comment out the save/restoreState to check it).
",seem somewhere idea order fixed see line self print run script pip install gym import import gym print seed print print print seed print print print seed print print need reverse engineer code track random order unrelated randomness environment comment check,issue,negative,negative,negative,negative,negative,negative
592544580,"To follow up, I haven't been able to reproduce this in the latest version of Bullet. I'm going to close this issue until I'm able to reproduce. Thanks.",follow able reproduce latest version bullet going close issue able reproduce thanks,issue,negative,positive,positive,positive,positive,positive
592460338,"That was my initial suspicion, but after following it through with the debugger I saw that, except for the first frame or so, no contact points were even being reported by `btBoxBoxDetector::getClosestPoints()`, which calls `dBoxBox2()`. It was always exiting early due to one of the separating axis tests. If we don't get any contact points and normals, then I don't see how the contact caching is to blame.

Also, `replaceContactPoint()` appears to replace the contact normal regardless, although I can see that this function has changed from my older version of Bullet. The version in the trunk appears to try to keep the contact point if the friction force is within the friction cone. My older function looks something like this:

```
void replaceContactPoint(const btManifoldPoint& newPoint, int insertIndex)
{
	int lifeTime = m_pointCache[insertIndex].getLifeTime();
	btScalar appliedImpulse = m_pointCache[insertIndex].m_appliedImpulse;
	btScalar appliedLateralImpulse1 = m_pointCache[insertIndex].m_appliedImpulseLateral1;
	btScalar appliedLateralImpulse2 = m_pointCache[insertIndex].m_appliedImpulseLateral2;

	void* cache = m_pointCache[insertIndex].m_userPersistentData;
		
	m_pointCache[insertIndex] = newPoint;
	m_pointCache[insertIndex].m_userPersistentData = cache;
	m_pointCache[insertIndex].m_appliedImpulse = appliedImpulse;
	m_pointCache[insertIndex].m_appliedImpulseLateral1 = appliedLateralImpulse1;
	m_pointCache[insertIndex].m_appliedImpulseLateral2 = appliedLateralImpulse2;

	m_pointCache[insertIndex].m_lifeTime = lifeTime;
}
```

I'll try create a simple test case later today.",initial suspicion following saw except first frame contact even always early due one separating axis get contact see contact blame also replace contact normal regardless although see function older version bullet version trunk try keep contact point friction force within friction cone older function something like void lifetime void cache cache lifetime try create simple test case later today,issue,negative,positive,neutral,neutral,positive,positive
592074874,"This is likely due to contact caching in btPersistentContactManifold.
We could/should add a check (dot product) of new normal against the old contact normal (both are in world space) and if they are too different we need to remove the old normal. Or better, always replace the contact normal. Need to check this. Do you have a simple Bullet reproduction case?",likely due contact add check dot product new normal old contact normal world space different need remove old normal better always replace contact normal need check simple bullet reproduction case,issue,negative,positive,positive,positive,positive,positive
591945273,Do you know any good resource to understand how the projection matrix from openGL is calculated and  the link to the intrinsic and extrinsic? ,know good resource understand projection matrix calculated link intrinsic extrinsic,issue,negative,positive,positive,positive,positive,positive
591907075,"No. You are free to bring your own view and projection matrix, as well as intrinsic and extrinsic matrices. PyBullet 'getCameraImage' uses OpenGL conventions by default, but you are free to use any other perspective matrix.",free bring view projection matrix well intrinsic extrinsic matrix default free use perspective matrix,issue,positive,positive,positive,positive,positive,positive
591835508,"Good point.
If you agree, i would do a PR that does like the zoo:
- it saves the model when you terminate the script
- it adds an option '--load-best' to load the best model",good point agree would like zoo model terminate script option load best model,issue,positive,positive,positive,positive,positive,positive
591793623,"By default, collisions between parent and child are disabled, since they are usually overlapping/contacting. You could add the flag URDF_USE_SELF_COLLISION_INCLUDE_PARENT in addition to the other flag.",default parent child disabled since usually could add flag addition flag,issue,negative,negative,negative,negative,negative,negative
591682700,"Thanks! Indeed, no idea there was an automatic 'end'. I assumed terminating the training would be the end. Perhaps enjoy should try to use the _best if it cannot find the other file (with a warning that the results are from an intermediate policy that was not fully trained).",thanks indeed idea automatic assumed training would end perhaps enjoy try use find file warning intermediate policy fully trained,issue,positive,positive,positive,positive,positive,positive
591627751,">The zip file is called sac_HalfCheetahBulletEnv-v0_best.zip and the enjoy script doesn't work unless you rename/copy that file to sac_HalfCheetahBulletEnv-v0.zip

That's because you did not wait until the end, no?
There will be two files: one creating at the end of training, one updated each time a best model is found.",zip file enjoy script work unless file wait end two one end training one time best model found,issue,positive,positive,positive,positive,positive,positive
591623014,"The zip file is called sac_HalfCheetahBulletEnv-v0_best.zip and the enjoy script doesn't work unless you rename/copy that file to sac_HalfCheetahBulletEnv-v0.zip 
Why doesn't the enjoy script not just work with sac_HalfCheetahBulletEnv-v0_best.zip?
",zip file enjoy script work unless file enjoy script work,issue,positive,positive,positive,positive,positive,positive
590169134,It is tricky indeed. The next physics engine is header-only so it won't happen.,tricky indeed next physic engine wo happen,issue,negative,neutral,neutral,neutral,neutral,neutral
590168880,"Can you remove the  comments with your name from the source please.
I don't have time yet to make sure things don't break in various proprietary code bases using Bullet.",remove name source please time yet make sure break various proprietary code base bullet,issue,positive,negative,negative,negative,negative,negative
590145758,"I actually had used `--double` on gmake without realizing, so this is actually my fault :woman_facepalming: ",actually used double without realizing actually fault,issue,negative,neutral,neutral,neutral,neutral,neutral
589997898,Hi @erwincoumans can you help me with a small review?,hi help small review,issue,negative,negative,negative,negative,negative,negative
589901893,"Thanks for the feedback. Is the URDF version of fetch in your PR as well?

There isn't much development in MJCF parser. If URDF_MJCF_COLORS_FROM_FILE flag doesn't work, someone has to digg deeper.

What is the license of the Fetch robot, did you include a license file?
",thanks feedback version fetch well much development parser flag work someone license fetch robot include license file,issue,positive,positive,positive,positive,positive,positive
588584038,"From the class source documentation
- Rotation order for the Euler system can be set. (One axis' freedom is still limited to pi/2)
So your axis 4 is limited. You could change to a different rotation order, then another axis will be limited.
https://github.com/bulletphysics/bullet3/blob/5dfcbe9a331df3c0393ee68d88d0e6983ad0a260/src/BulletDynamics/ConstraintSolver/btGeneric6DofSpring2Constraint.cpp#L23",class source documentation rotation order system set one axis freedom still limited axis limited could change different rotation order another axis limited,issue,negative,negative,neutral,neutral,negative,negative
588080665,"Great that works with me too:

```
export MESA_GL_VERSION_OVERRIDE=3.3 
export MESA_GLSL_VERSION_OVERRIDE=330
```
",great work export export,issue,positive,positive,positive,positive,positive,positive
588025274,"I've tried to add the [flag](https://unix.stackexchange.com/a/451214) before running the program, and it works~!",tried add flag running program,issue,negative,neutral,neutral,neutral,neutral,neutral
587996384,"That would be great. If you or someone else works on this, please share and re-open this issue.

PyBullet ships with most of the standard locomotion environments, such as Ant, Hopper, Humanoid etc. 
See https://github.com/araffin/rl-baselines-zoo
https://github.com/hill-a/stable-baselines",would great someone else work please share issue standard locomotion ant hopper humanoid see,issue,positive,positive,positive,positive,positive,positive
587996121,"I don't have much time looking into this, but you may want to provide a fully working simplified pybullet example, rather than a small snippet. Also try without EGL and using a default camera view/projection matrix. Thanks!",much time looking may want provide fully working simplified example rather small snippet also try without default camera matrix thanks,issue,negative,positive,neutral,neutral,positive,positive
587995772,"Sure. One more example using MPI instead with pybullet_client is deep_mimic:
python3 mpi_run.py --arg_file train_humanoid3d_spinkick_args.txt --num_workers 4
mpiexec -n 16 python3 -m pybullet_envs.deep_mimic.DeepMimic_Optimizer

This latter is rather finicky, since Tensorflow and MPI sometimes break their API.

",sure one example instead python python latter rather since sometimes break,issue,negative,positive,positive,positive,positive,positive
587294007,"To run many simulations in parallel on many cpu cores, I recommend using pubullet_utils.bullet_client and multiprocessing like this example.

https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_robots/panda/batchsim3_grasp.py",run many parallel many recommend like example,issue,positive,positive,positive,positive,positive,positive
587098353,"Hi Erwin, more or less yes! (without a GUI, but I'm guessing that I can use something like pybullet.connect(SHARED_MEMORY_SERVER) to do that).

I was actually wondering if creating several physics servers that way would allow me to run multiple simulations in parallel (using multiple cores)? Thanks again !",hi le yes without guessing use something like actually wondering several physic way would allow run multiple parallel multiple thanks,issue,positive,positive,neutral,neutral,positive,positive
587090817,"pip3 install pybullet -u
python3 -m pybullet_utils.runServer&
Is that what you were looking for?",pip install python looking,issue,negative,neutral,neutral,neutral,neutral,neutral
586736639,"Hey @guhur, I am facing the same issue with my setup. Were you able to resolve it?",hey facing issue setup able resolve,issue,negative,positive,positive,positive,positive,positive
586731888,"
I had a look, framework looks great. Also I like ImGui.
Dankjewel :)",look framework great also like,issue,positive,positive,positive,positive,positive,positive
586724236,"Thank you Erwin,
With these changes I was able to successfully compile (my own ported version) of the example browser, without any OpenGL dependencies!

It looks like this (using ImGui for the menus), https://www.youtube.com/watch?v=T9eVD3pY1As

The integration is over here, in case you are curious,
https://github.com/marcel303/bullet3-framework

Framework is the creative coding library I use for client work, experimentation, game development etc, and 3d physics has been on my wish list for a while now. :-)",thank able successfully compile ported version example browser without like integration case curious framework creative library use client work experimentation game development physic wish list,issue,positive,positive,positive,positive,positive,positive
586550204,"> See #2626 
Does it support now ? i see the tag is unsupported. @erwincoumans 
seems the c++ version support the option for collision margin, right?",see support see tag unsupported version support option collision margin right,issue,negative,positive,positive,positive,positive,positive
585874700,"Thank you for suggestion!

ErickKramer ,
Did you try to grasp an object over 100 times at the same pose? The problem is that the same setup cannot grasp the object continuously...

I already did in code and urdf. 
I found that if I apply this line,
p.changeConstraint(c, gearRatio=-1, erp=0.1, maxForce=50)
it can happen like open gripper...
Also if we change gearRatio +1, the gripper want to grasp whenever the robot moves

Still, I am not sure that when i give the same position then sometimes the robot can grasp an object and sometimes it doesn't...

Then i use this code (add lateral friction directly to the block)
blockStartPos = [0.1, -0.49, 0.87]
blockStartOrientation = p.getQuaternionFromEuler([0, 0, 0])
boxId = p.loadURDF(""./urdf/objects/block.urdf"", blockStartPos, blockStartOrientation, flags = option_flag)
p.changeDynamics(boxId, -1,lateralFriction = 5,linearDamping = 0,angularDamping = 0)

Is there another way to add friction?? I added friction in URDF and code with this function (p.changeDynamics), but still the gripper missed the object even though the gripper full grasped the object...

The robot grasp the object and not grasp the object... haha.. I uploaded my situation
https://www.youtube.com/watch?v=Nx8wyJ7wr5g&feature=youtu.be
https://www.youtube.com/watch?v=Rah_y98p6PU&feature=youtu.be",thank suggestion try grasp object time pose problem setup grasp object continuously already code found apply line happen like open gripper also change gripper want grasp whenever robot still sure give position sometimes robot grasp object sometimes use code add lateral friction directly block another way add friction added friction code function still gripper object even though gripper full object robot grasp object grasp object situation,issue,negative,positive,positive,positive,positive,positive
585871462,"@Alchemist77 

> I applied all variable from erwincoumans. Finally, the gripper is stronger than before. However, after my robot (UR5 + robotiq140) grasp a block, the gripper slightly open during the robot arm lift the object then finally the robot drops the object.
> Do you know how to fix the problem?

Perhaps adding lateral friction to the fingers of the gripper might help (I defined it in the URDF of the arm). If not, increasing the force could also be a possible solution.  ",alchemist applied variable finally gripper however robot ur grasp block gripper slightly open robot arm lift object finally robot object know fix problem perhaps lateral friction gripper might help defined arm increasing force could also possible solution,issue,negative,neutral,neutral,neutral,neutral,neutral
585861991,"Hello,

I applied all variable from erwincoumans. Finally, the gripper is stronger than before. However, after my robot (UR5 + robotiq140) grasp a block, the gripper slightly open during the robot arm lift the object then finally the robot drops the object.

Do you know how to fix the problem? 
My robot moves up (z-axis) 1 cm each step and I added time.sleep (0.005) otherwise, the robot cannot be stable in rendering.
In the video, how to keep the object even though the arm life up at least 10 cm??

Thank you.",hello applied variable finally gripper however robot ur grasp block gripper slightly open robot arm lift object finally robot object know fix problem robot step added otherwise robot stable rendering video keep object even though arm life least thank,issue,negative,negative,neutral,neutral,negative,negative
585411672,"URDF files contain visual and collision elements already, and they can be meshes.
By default, PyBullet uses the convex hull of mesh elements, for collision.
For concave environments you can use the 'use
See this example:
https://github.com/bulletphysics/bullet3/blob/master/data/samurai.urdf
~~~~~~~~~~~~~~~~~~~
<?xml version=""1.0"" ?>
<robot name=""cube.urdf"">
  <link concave=""yes"" name=""baseLink"">
    <inertial>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
       <mass value="".0""/>
       <inertia ixx=""0"" ixy=""0"" ixz=""0"" iyy=""0"" iyz=""0"" izz=""0""/>
    </inertial>
    <visual>
      <origin rpy=""1.5707963 0 0"" xyz=""0 0 0""/>
      <geometry>
				<mesh filename=""samurai_monastry.obj"" scale=""1 1 1""/>
      </geometry>
       <material name=""white"">
        <color rgba=""1 1 1 1""/>
      </material>
    </visual>
    <collision concave=""yes"">
      <origin rpy=""1.5707963 0 0"" xyz=""0 0 0""/>
     <geometry>
				<mesh filename=""samurai_monastry.obj"" scale=""1 1 1""/>
      </geometry>
    </collision>
  </link>
</robot>

~~~~~~~~~~~~~~~~~~~
So you use the 'concave=yes' in the collision tag.

Alternatively, instead of using URDF that points to a obj file, you can programmatically create a mesh from an obj file, and mark it as concave using  flags=p.GEOM_FORCE_CONCAVE_TRIMESH

See this example:
https://github.com/bulletphysics/bullet3/blob/aec9968e281faca7bc56bc05ccaf0ef29d82d062/examples/pybullet/examples/internalEdge.py


",contain visual collision already default convex hull mesh collision concave use see example robot link yes inertial origin mass inertia visual origin geometry mesh material white color collision yes origin geometry mesh use collision tag alternatively instead file programmatically create mesh file mark concave see example,issue,negative,positive,neutral,neutral,positive,positive
585401261,For a state description [this](https://github.com/bulletphysics/bullet3/blob/8504dc78167e0c9f64faf846d15d6404ced07e97/examples/pybullet/gym/pybullet_envs/robot_locomotors.py#L35) might help .,state description might help,issue,negative,neutral,neutral,neutral,neutral,neutral
585233281,Thanks! Do you happen to have the code that generated the mesh? I was planning to write something similar myself but if it has already been written.... I am planning to use this sort of randomized environment for my dissertation. ,thanks happen code mesh write something similar already written use sort environment dissertation,issue,negative,positive,neutral,neutral,positive,positive
584258839,"Yes, it can be exposed. See also https://github.com/bulletphysics/bullet3/issues/2584
Will do it soon, but note that you will have to resolve any issues due to changing the default collision margins.",yes exposed see also soon note resolve due default collision,issue,negative,negative,negative,negative,negative,negative
583806276,"Thanks for the pointer. It's been a while since I last added a new cpp. I'm
a little rusty :)

On Sat, Feb 8, 2020 at 12:54 PM erwincoumans <notifications@github.com>
wrote:

> Thanks a lot for the new pull request!
> The error is due to missing symbols in the pybullet unit tests. If you add
> new cpp files, can you add them also to the setup.py script? In the case,
> for example src/BulletSoftBody/poly34.cpp
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2612?email_source=notifications&email_token=AEYORNCCPNVYGBYDDFY7U6TRB4L2BA5CNFSM4KRGV4V2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELF3OJA#issuecomment-583776036>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AEYORNAF55WYVSGUUIJB7ATRB4L2BANCNFSM4KRGV4VQ>
> .
>


-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",thanks pointer since last added new little rusty sat wrote thanks lot new pull request error due missing unit add new add also script case example thread reply directly view han northwestern university college,issue,negative,positive,neutral,neutral,positive,positive
583776036,"Thanks a lot for the new pull request!
The error is due to missing symbols in the pybullet unit tests. If you add new cpp files, can you add them also to the setup.py script (in the root of Bullet)? In the case, for example src/BulletSoftBody/poly34.cpp",thanks lot new pull request error due missing unit add new add also script root bullet case example,issue,negative,positive,neutral,neutral,positive,positive
583656856,"@deltars 

The fact you are telling me I am not right in telling Bullet to ""get their house in order"" proves how much the point flew above your head. Of all people, it amazes me that someone with such poor critical thinking would be a lead developer on such a big project.
I didn't tell them to do that. I told them to confirm that the problem is on your end and that YOU (deltars and stormworks devs alike) should get your house in order.

Expecting the hinges to not move when they are not being touched or controlled, that is too much for real-time physics? You need to get a grip and stop making excuses.

It's not that it doesn't behave as I personally expect. It's that it doesn't behave correctly. There is a bug you are refusing to repair. A reproducible bug on top of it. One you can actively test and debug. Go ahead and bury your head in the sand like an ostridge, I don't care. Already gave your game a negative review anyway. I had passion for it but you did a good job of dispelling that.

![image](https://user-images.githubusercontent.com/8822568/74073004-98d58c80-49bd-11ea-8a1c-452ae5ccee15.png)

Players will keep reporting this as a bug/issue on your mcro website, because it is an issue. And you will keep closing the duplicate issues because you don't care. Thumbs up buddy. You're a funny guy.

That's right, delete your comments you spineless person. Wish I quoted your reply now.",fact telling right telling bullet get house order much point flew head people someone poor critical thinking would lead developer big project tell told confirm problem end alike get house order move touched much physic need get grip stop making behave personally expect behave correctly bug refusing repair reproducible bug top one actively test go ahead bury head sand like care already gave game negative review anyway passion good job image keep issue keep duplicate care buddy funny guy right delete spineless person wish reply,issue,positive,positive,neutral,neutral,positive,positive
582469269,"Hi, could you then explain the horizon and vertical variables? How can I calculate them myself to be able to take a point cloud looking straight down? I sadly cannot find that information anywhere, but I know all the other variables debug visualizer camera is supposed to give me.",hi could explain horizon vertical calculate able take point cloud looking straight sadly find information anywhere know visualizer camera supposed give,issue,negative,positive,neutral,neutral,positive,positive
581157388,"Hi @msieb1,
Were you able to find a solution to the issue you were having? I am currently facing a similar issue, where I am not getting the normalized pixel values to lie in [-1, 1] even when the corresponding 3d coordinate shows up in my image. ",hi able find solution issue currently facing similar issue getting lie even corresponding image,issue,negative,positive,positive,positive,positive,positive
580852321,"Hi @erwincoumans 
Any luck on getting this reviewed eventually for future releases?
A nice advantage of this PR is also the possibility to use the already built-in multi-threaded rigid body pipeline automatically if you use a SoftBody world instance.",hi luck getting eventually future nice advantage also possibility use already rigid body pipeline automatically use world instance,issue,positive,positive,positive,positive,positive,positive
580792469,"Great, looks like the issue is resolved by this patch. Thanks!
Is there anything left todo for this PR?",great like issue resolved patch thanks anything left,issue,positive,positive,positive,positive,positive,positive
580707464,"@erwincoumans, unfortunately I cannot yet share those meshes (due to licensing issues), I'll try @fuchuyuan 's fix locally and report the result here though",unfortunately yet share due try fix locally report result though,issue,negative,negative,negative,negative,negative,negative
580571384,@Pandhariix Can you try to patch [this](https://github.com/bulletphysics/bullet3/pull/2602) and see if this fixes? If not can you send a link for the obj files and texture files for me to test?,try patch see send link texture test,issue,negative,neutral,neutral,neutral,neutral,neutral
580514176,I just built master and the issue is still there.,built master issue still,issue,negative,neutral,neutral,neutral,neutral,neutral
580513903,Thanks for pointing this out! Seems like the fix was patched in a month ago; so I should probably just wait for new release or clone and install locally? I'll post if this patch fixes this issue.,thanks pointing like fix month ago probably wait new release clone install locally post patch issue,issue,positive,positive,positive,positive,positive,positive
580509163,"Thanks for the report. It must have happened when we updated the tiny obj loader.
Do you have a link to obj file + mtl + textures to test?",thanks report must tiny loader link file test,issue,negative,positive,neutral,neutral,positive,positive
580484490,"I'm trying out a rear wheel drive racecar simulation and the lateral wheel friction seems to be computed by clipping along each axis instead of the norm. My car snaps to simulation axes when drifting.

Here's a minimal example that takes keyboard input. Check it out.

```python
import pybullet as p, pybullet_data, time, sys, math

# configure the engine
p.connect(p.GUI, options=""--width=1000 --height=800"")
p.setAdditionalSearchPath(pybullet_data.getDataPath())
p.resetSimulation()
p.setGravity(0, 0, -10)
p.setPhysicsEngineParameter(enableConeFriction=1) # ensure cone friction
useRealTime = 0
p.setRealTimeSimulation(useRealTime)

# load objects
plane = p.loadURDF(""plane.urdf"")
car = p.loadURDF(""racecar/racecar.urdf"")
front_wheels, rear_wheels, steering = [5, 7], [2, 3], [4, 6]

# change friction coefficients
friction_kwargs = {
        ""lateralFriction"": 0.5, 
        #""rollingFriction"": 0, 
        #""spinningFriction"": 0,
        }
p.changeDynamics(plane, -1, **friction_kwargs)
for wheel in front_wheels + rear_wheels:
    p.changeDynamics(car, wheel, **friction_kwargs)

# run the interactive sim
FPS = 60.0
STRSPD, GASTRQ, BRKTRQ = 5.0, 2e0, 1e0
sign = lambda x: x / abs(x) if x != 0 else 0
t_frame = time.time()
while (True):
    # handle user input
    keys = p.getKeyboardEvents()
    steer, gas, brake = 0.0, 0.0, 0.0
    if p.B3G_LEFT_ARROW in keys:
        if keys[p.B3G_LEFT_ARROW] == p.KEY_WAS_TRIGGERED:   steer += -STRSPD
        elif keys[p.B3G_LEFT_ARROW] == p.KEY_IS_DOWN:       steer += -STRSPD
    if p.B3G_RIGHT_ARROW in keys:
        if keys[p.B3G_RIGHT_ARROW] == p.KEY_WAS_TRIGGERED:  steer += STRPSD
        elif keys[p.B3G_RIGHT_ARROW] == p.KEY_IS_DOWN:      steer += STRSPD
    if p.B3G_UP_ARROW in keys:
        if keys[p.B3G_UP_ARROW] == p.KEY_WAS_TRIGGERED:     gas += GASTRQ
        elif keys[p.B3G_UP_ARROW] == p.KEY_IS_DOWN:         gas += GASTRQ
    if p.B3G_DOWN_ARROW in keys:
        if keys[p.B3G_DOWN_ARROW] == p.KEY_WAS_TRIGGERED:   brake += BRKTRQ
        elif keys[p.B3G_DOWN_ARROW] == p.KEY_IS_DOWN:       brake += BRKTRQ
    if ord(""q"") in keys: break

    # accelerate using a rear wheel drive
    for wheel in rear_wheels:
        p.setJointMotorControl2(car, wheel, p.TORQUE_CONTROL, force=gas)

    # brake with all wheels
    for wheel in rear_wheels + front_wheels:
        p.setJointMotorControl2(car, wheel, p.VELOCITY_CONTROL, 
                targetVelocity=0, force=brake)

    # steer 
    for joint in steering:
        p.setJointMotorControl2(car, joint, p.POSITION_CONTROL, 
                targetPosition=-sign(steer) * 0.4)

    # step the simulation
    if useRealTime == 0: 
        for i in range(round(240.0 / FPS)): 
            p.stepSimulation()

    # adjust the camera
    state = p.getLinkState(car, 0)
    pos, orient = state[0], p.getEulerFromQuaternion(state[1])[2]
    p.resetDebugVisualizerCamera(2, orient / math.pi * 180 - 90, -40, pos)

    # keep FPS
    delay = 1.0 / FPS - (time.time() - t_frame)
    if useRealTime == 0 and delay > 0: time.sleep(delay)
    t_frame = time.time()
```

This might be related to [https://github.com/bulletphysics/bullet3/issues/2117](https://github.com/bulletphysics/bullet3/issues/2117)",trying rear wheel drive simulation lateral wheel friction clipping along axis instead norm car snap simulation ax drifting minimal example keyboard input check python import time math configure engine ensure cone friction load plane car steering change friction plane wheel car wheel run interactive sign lambda else true handle user input steer gas brake steer steer steer steer gas gas brake brake break accelerate rear wheel drive wheel car wheel brake wheel car wheel steer joint steering car joint steer step simulation range round adjust camera state car orient state state orient keep delay delay delay might related,issue,negative,positive,neutral,neutral,positive,positive
580301255,"> Instead of using Blender, you can compile the Bullet SDK using premake and there is an executable that creates VHACD from obj to obj called Bullet/bin/test_vhacd_gmake_x64_release.

@erwincoumans  Hi, can you please tell a bit more how we can do this? I'm not sure what I should download or what command to use. Does it also work on stl files or only files with .obj format.

Thanks",instead blender compile bullet premake executable hi please tell bit sure command use also work format thanks,issue,positive,positive,positive,positive,positive,positive
579311221,"Thank you, I'll look at the resources you pointed.

Just to make sure, the example I gave in the code snippet above is with `pybullet_envs`, the ones in this repo. All I am doing is using `env._p` (the `pybullet.BulletClient`), for saving and reloading.",thank look pointed make sure example gave code snippet saving,issue,positive,positive,positive,positive,positive,positive
579292047,"Thanks. Benelot's environments are not the same as pybullet_envs, the one that ship with pybullet (in case you run pip3 install pybullet). So it would still be good to have those improvements in this repository.

Note that the bullet_client is now in pybullet_utils, so the envs you are working on in Benelot's envs need to make this change. (not using from pybullet_envs.bullet import bullet_client)

Note that stable baselines uses the environments in this repo. You can also train them in colab:
https://colab.sandbox.google.com/drive/15JSROMJbeiqxcUwifPR2NYeeFBKmyIlX#scrollTo=E2eWDjPZsQc5

See https://github.com/hill-a/stable-baselines and  https://github.com/araffin/rl-baselines-zoo

",thanks one ship case run pip install would still good repository note working need make change import note stable also train see,issue,positive,positive,positive,positive,positive,positive
579263977,"@matthieu637 I just started working on support for this here: https://github.com/benelot/pybullet-gym/pull/42, take a look for a discussion of how other envs are doing it.

Here's an example using directly the envs in `pybullet`, sorry if it's a little messy. It _seems_ to be doing the right thing but not sure if that's really the case, maybe @erwincoumans could confirm it?

```python
import time
import numpy as np
import multiprocessing as mp

from pybullet_envs.gym_locomotion_envs import *
from pybullet_envs.gym_manipulator_envs import *
from pybullet_envs.bullet.racecarZEDGymEnv import RacecarZEDGymEnv
np.set_printoptions(precision=4, suppress=True)


ENVS = {
    ""Ant"": AntBulletEnv,
    ""Reacher"": ReacherBulletEnv,
    ""Pusher"": PusherBulletEnv
}


def mc_rollout(env_name, state_path, crt_step):
    np.set_printoptions(precision=4, suppress=True)

    env = ENVS[env_name](render=False)

    obs = env.reset()
    env._p.restoreState(fileName=state_path)

    print(f""Loaded state from {state_path}."")

    Gt, step, done, first_action = 0, 0, False, None
    while not done:
        action = env.action_space.sample()
        obs, reward, done, _ = env.step(action)

        Gt += reward
        step += 1

        if step % 100 == 0:
            print(f""Rollout: did {step} steps."")

        if step == 1:
            print(f""\nState #{step} in rollout:\n"", obs, ""\n"")
            first_action = action

        if step == (1000 - crt_step):
            break

    print(f""\nRollout done after {step} steps, return={Gt:3.2f}."")
    return Gt, step, first_action


def main():
    pool = mp.Pool(processes=1)
    
    env_name = ""Reacher""
    env = ENVS[env_name](render=False)
    print(f""\nStarting {env_name} environment.\n"")

    obs, done, roll_act = env.reset(), False, None
    Gt, step = 0, 0
    while not done:
        if step % 100 == 0:
            print(f""Main: did {step} steps."")

        action = env.action_space.sample() if roll_act is None else roll_act
        obs, reward, done, _ = env.step(action)

        if step == 500:

            state_path = ""/run/shm/state.bullet""
            env._p.saveBullet(state_path)

            # start a monte-carlo rollout
            task = pool.starmap_async(mc_rollout, [(env_name, state_path, step)])
            # and wait for it to finish
            Gmc, Hmc, roll_act = task.get()[0]
            print(f""Rollout returned after steps={Hmc}, return={Gmc:3.2f}.\n"")
        
        if step == 501:
            print(f""State #{step} in main:\n"", obs, ""\n"")

        if step == 1000:
            break

        Gt += reward
        step += 1

    print(f""Done after {step} steps, return={Gt:3.2f}."")


if __name__ == ""__main__"":
    main()
```",working support take look discussion example directly sorry little messy right thing sure really case maybe could confirm python import time import import import import import ant reacher pusher print loaded state step done false none done action reward done action reward step step print step step print step action step break print done step return step main pool reacher print done false none step done step print main step action none else reward done action step start task step wait finish print returned step print state step main step break reward step print done step main,issue,negative,positive,neutral,neutral,positive,positive
577990353,"Added a comment in the section:
TORQUE_CONTROL will apply a torque instantly, so it only is effective when calling stepSimulation explicitly.
",added comment section apply torque instantly effective calling explicitly,issue,negative,positive,positive,positive,positive,positive
577989991,"We plan to share some Laikago env in the future, but don't commit to a schedule.",plan share future commit schedule,issue,positive,neutral,neutral,neutral,neutral,neutral
577989829,"This is a research topic on its own, I doubt Bullet is suitable for this. Good luck!",research topic doubt bullet suitable good luck,issue,positive,positive,positive,positive,positive,positive
577989540,"It must be some Ubuntu/egl issue, can't support those. In the worst case, you can use TinyRenderer (CPU) or OpenGL3 (GUI) with a decent NVIDIA driver. Good luck!",must issue ca support worst case use decent driver good luck,issue,positive,negative,neutral,neutral,negative,negative
577963637,"I found the issue, turned out that the alive bonus I set was wrong",found issue turned alive bonus set wrong,issue,negative,negative,negative,negative,negative,negative
577062622,"I mean, laikago's feet does not touches (interact) with the ground. 
When training starts, laikago's legs are moving but the body (chassis) is fixed.
",mean interact ground training moving body chassis fixed,issue,negative,negative,negative,negative,negative,negative
577046127,"What actions are you applying to the Laikago robot, when you said that ""laikago looks like it is walking in the air""?

Maybe try applying random actions and see if it would move?",robot said like walking air maybe try random see would move,issue,negative,negative,negative,negative,negative,negative
576777646,"Thanks for the PR, it looks good to me. Can you address the value pointer issue?",thanks good address value pointer issue,issue,positive,positive,positive,positive,positive,positive
575345170,"Thanks! Yes, this is correct. We should update the doc.",thanks yes correct update doc,issue,positive,positive,positive,positive,positive,positive
575277895,"URDF doesn't store state.
You can use pybullet.saveWorld or come up with some custom solution (getJointState(s))",store state use come custom solution,issue,negative,neutral,neutral,neutral,neutral,neutral
574985965,@erwincoumans FYI the fix does not appear to have solved this issue but @wduminy's suggestion works,fix appear issue suggestion work,issue,negative,neutral,neutral,neutral,neutral,neutral
574980779,"~~~~~~~~~~~~~
python3 -m pybullet_envs.examples.runServer&
~~~~~~~~~~~~~
Then run your script, it reports key presses (as long as that GUI window is in focus when you press keys).",python run script key long window focus press,issue,negative,negative,neutral,neutral,negative,negative
574948444,@erwincoumans could you pls add a python API for adjust the collision margin for us ?,could add python adjust collision margin u,issue,negative,neutral,neutral,neutral,neutral,neutral
574901654,"Yes, you can use pybullet.changeDynamics to change masses, after you load a URDF file.",yes use change load file,issue,negative,neutral,neutral,neutral,neutral,neutral
574870302,"Hi @AGPX, I'll focus on that after this gets reviewed.
Also I need to do a deep study on it and see which path can be parallelized properly to get an effective performance boost.",hi focus also need deep study see path properly get effective performance boost,issue,positive,positive,positive,positive,positive,positive
574865487,"Hey, any chance to have also the 'btMultiBodyConstraintSolver' working in multithreading?",hey chance also working,issue,negative,neutral,neutral,neutral,neutral,neutral
574478314,"Ah, I will create a PR. Is there any objections to upgrading to use modern cmake functionality?",ah create use modern functionality,issue,negative,positive,positive,positive,positive,positive
574425918,"@erwincoumans 

Well the developers of the game are blaming it on the physics engine they are using: Bullet. 

On that link I shared you can see the comments by ""Beginner"" where he clearly blames Bullet.

Could you possibly reach out as one of the Bullet Developers and tell them to get their house in order?",well game blaming physic engine bullet link see beginner clearly bullet could possibly reach one bullet tell get house order,issue,negative,negative,neutral,neutral,negative,negative
574342185,Very informative issue! Thanks. I experienced the same problem.,informative issue thanks experienced problem,issue,negative,positive,positive,positive,positive,positive
574087554,I just want to point out that adding a [gear constraint](https://github.com/bulletphysics/bullet3/blob/6428ed5e5f0641321dfbffe29b32a7fd423ca9c2/examples/pybullet/gym/pybullet_robots/panda/panda_sim_grasp.py#L46) to the gripper solved the issue of having loose fingers when colliding with an object. ,want point gear constraint gripper issue loose object,issue,negative,negative,neutral,neutral,negative,negative
573992096,"There is no maintainer for those files, so if you have an improvement suggestion, please submit a PR. Thanks!",maintainer improvement suggestion please submit thanks,issue,positive,positive,positive,positive,positive,positive
573670615,"@dyanikoglu 
You are correct the change to btAlignedObjectArray.h was not supposed to be in this changelist--whoops!  

 You would think removing a file from a changelist would be obvious but instead it is trying to delete the file it seems-- so I think I will just remove this pull request--

",correct change supposed whoop would think removing file would obvious instead trying delete file think remove pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
573625897,"@erwincoumans This is a useful change for use cases highly utilizing threads. Any updates for the PR?

Just a small problem, btSpinPause is also declared inside Task Scheduler source code, and it's possible to get compile/linking errors (Especially in linux builds, Windows builds somehow works). I recommend renaming the function to something else, or declaring those functions in a common header and including them from there.",useful change use highly small problem also declared inside task source code possible get especially somehow work recommend function something else common header,issue,negative,negative,neutral,neutral,negative,negative
573624602,"@erwincoumans Any update on this PR?

I was able to track same problem in my own custom engine implementation with lots of sleeping objects laying on the map. Also, same change can be applied into Multithreaded variant of the same class.

I'm not sure if those memory allocation changes are related with that issue btw @Niadb ? They seem useful, but not sure about possible consequences. Out of curiousity, I just gave them a quick try, and seems like they don't cause any problems, my own unit tests are still passing without any problem.",update able track problem custom engine implementation lot sleeping laying map also change applied multithreaded variant class sure memory allocation related issue seem useful sure possible gave quick try like cause unit still passing without problem,issue,positive,positive,positive,positive,positive,positive
573439863,"Thank you for the feedback, I will create test only using Bullet components and post here. ",thank feedback create test bullet post,issue,positive,neutral,neutral,neutral,neutral,neutral
573435906,This is too bad and unlikely due to Bullet. If they can create a small reproduction in Bullet or PyBullet we can look at it.,bad unlikely due bullet create small reproduction bullet look,issue,negative,negative,negative,negative,negative,negative
573435805,"If you have a small reproduction case for double precision, let us know and re-open. Thanks!",small reproduction case double precision let u know thanks,issue,negative,negative,neutral,neutral,negative,negative
573431603,Thanks for the reply! @erwincoumans . I will take a look into the example you provided and try to solve my problem. ,thanks reply take look example provided try solve problem,issue,negative,positive,positive,positive,positive,positive
573431070,"The forces of both fingers against the object cancel eachother out perfectly, so there is no force that keeps the fingers centered. One solution is to add a gear constraint to explicitly keep the fingers centered:
https://www.youtube.com/watch?v=yKShjSTayco
Also, finger forces should not be too large, otherwise penetration will happen and you never get out of penetration. Use a smaller timestep if you really need such large forces.
Also, friction_anchor is useful to add, to avoid the object slipping out of the grasp. In addition, some amount of spinning_friction (around the contact normal) will reduce the object rotating in the grasp.
All of this is implemented in this example:
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_robots/panda",object cancel perfectly force centered one solution add gear constraint explicitly keep centered also finger large otherwise penetration happen never get penetration use smaller really need large also useful add avoid object slipping grasp addition amount around contact normal reduce object rotating grasp example,issue,positive,positive,positive,positive,positive,positive
573419714,Were you able to find a solution to the floating fingers problem?. I am also facing similar issues especially when the fingers collide with an object.,able find solution floating problem also facing similar especially collide object,issue,negative,positive,positive,positive,positive,positive
573366033,"Thanks for the contribution!
I'm fine with merging the code. Some of the features are conditionally compiled, we may want to enable/disable them at run-time? 
(#ifdef USE_STRAIN_RATE_LIMITING and #define USE_QUADRATURE 1, //#define CACHE_PREV_COLLISION etc)",thanks contribution fine code conditionally may want define define,issue,positive,positive,positive,positive,positive,positive
573355093,"If you want to verify the case personally by reproducing it, I can show you a quick video in order to reproduce the issue, by starting to the .zip file I attached last week.",want verify case personally show quick video order reproduce issue starting file attached last week,issue,negative,positive,neutral,neutral,positive,positive
573354723,"Sorry, I missed the object name you were referring to, causing confusion between m_batchManifoldsPtr and m_manifoldsPtr.

> So if the manifold is added to m_batchManifoldsPtr, then you remove the object (which would release the manifold) and then call step simulation, the manifold is still in m_batchManifoldsPtr, right?

The manifold is added only temporary here (m_batchManifoldsPtr) during the stepSimulation in the Batch update, then transfered to the m_manifoldsPtr just after, when the batch update is finished. This is done to keep the state consistent in order to make releaseManifold work as the caller expects.
At the end of stepSimulation I always expect (*m_batchManifoldsPtr) empty since its content has been transferred to m_manifoldsPtr.

> I don't see any line in 'releaseManifold' that remove a manifold from m_batchManifoldsPtr.
It seems the manifold is removed from m_batchManifoldsPtr inside btCollisionDispatcherMt::dispatchAllCollisionPairs, can you confirm?

Correct! every btCollisionDispatcherMt::dispatchAllCollisionPairs guarantees that m_batchManifoldsPtr gets cleared (after its content is merged to m_manifoldsPtr). It's basically a per batch copy. The idea was to replicate the same behavior we have in the non parallel version without any performance impact (btCollisionDispatcher::dispatchAllCollisionPairs)",sorry object name causing confusion manifold added remove object would release manifold call step simulation manifold still right manifold added temporary batch update batch update finished done keep state consistent order make work caller end always expect empty since content transferred see line remove manifold manifold removed inside confirm correct every content basically per batch copy idea replicate behavior non parallel version without performance impact,issue,negative,negative,neutral,neutral,negative,negative
573352514,"You would need to provide a pybullet script or C++ reproduction case (modify BasicExample.cpp) in ExampleBrowser for someone to look at, just adding numbers doesn't typically reproduce, the devil is in the details.)

Double precision is preferred. For our robotics and machine learning research we exclusively use double precision version of PyBullet (using Bullet under the hood), since it is more precise.
Note that PyBullet (Python API) for robotics can also be used in C++. Then you get URDF / SDF / MJCF import, inverse dynamics, inverse kinematics, rendering etc for free.

Also, What collision margins do you use? The relative sizes (-1.03115 and 0.005) could be a challenge for single precision.",would need provide script reproduction case modify someone look typically reproduce devil double precision preferred machine learning research exclusively use double precision version bullet hood since precise note python also used get import inverse dynamic inverse kinematics rendering free also collision use relative size could challenge single precision,issue,negative,positive,neutral,neutral,positive,positive
573351034,I rebuilt bullet with double precision turn on and now everything works. Are there known issues with using double precision?,rebuilt bullet double precision turn everything work known double precision,issue,negative,neutral,neutral,neutral,neutral,neutral
573349780,"I'm not getting crashes, and I've never used the multitreaded code path (and no plans to do so).
I just wanted to confirm that the code makes sense.

I don't see any line in 'releaseManifold' that remove a manifold from m_batchManifoldsPtr.
It seems the manifold is removed from m_batchManifoldsPtr inside btCollisionDispatcherMt::dispatchAllCollisionPairs, can you confirm?

So if the manifold is added to m_batchManifoldsPtr, then you remove the object (which would release the manifold) and then call step simulation, the manifold is still in m_batchManifoldsPtr, right?
",getting never used code path confirm code sense see line remove manifold manifold removed inside confirm manifold added remove object would release manifold call step simulation manifold still right,issue,negative,positive,positive,positive,positive,positive
573344137,"it's still in the same function (releaseManifold)
because this flag m_batchUpdating is true only during the parallelFor (which has a barrier included)
When you get the crash in the mt implementation the flag is false, probably because this manifold is released at a different time and not during the parallel for execution.",still function flag true barrier included get crash implementation flag false probably manifold different time parallel execution,issue,negative,negative,neutral,neutral,negative,negative
573343717,Where is the manifold removed from m_batchManifoldsPtr in case of m_batchUpdating==true? (when calling releaseManifold),manifold removed case calling,issue,negative,neutral,neutral,neutral,neutral,neutral
573343328,"that's still the same.
it's here:

https://github.com/bulletphysics/bullet3/blob/de9ac113c49a0c9724b9eb027ec157f1155c5526/src/BulletCollision/CollisionDispatch/btCollisionDispatcherMt.cpp#L87

there is a swap function done probably on purpose to remove the element with the pop_back. it's the only place where a manifold is removed.
The problem comes when you try to remove a manifold which has already been erased from the array caused by him:

https://github.com/bulletphysics/bullet3/blob/88826da6b532b8c06f4a55a07bcb8058d7a22789/src/BulletCollision/CollisionDispatch/btCollisionDispatcherMt.cpp#L140

The caller of releaseManifold should be the overlapping pair cache object which is proposed in 2 implementation. The key critical issue is when client code calls collWorld->getDispatcher()->dispatchAllCollision(...)
because this call invokes the m_manifoldsPtr.resizeNoInitialize(0);
but the pair cache still hold a references to elements of this object (through m_index1a).
I think this is the reason you miss collisions or in case when manifols is released you get the assert: because the pair cache hold the array index (m_index1a) of a manifold which has already been removed in an ""unexpected"" way from client code.",still swap function done probably purpose remove element place manifold removed problem come try remove manifold already erased array caller pair cache object implementation key critical issue client code call pair cache still hold object think reason miss case get assert pair cache hold array index manifold already removed unexpected way client code,issue,negative,positive,neutral,neutral,positive,positive
573337213,Where are the manifolds removed from the m_batchManifoldsPtr at releaseManifold? The original code used m_index1a for this.,removed original code used,issue,negative,positive,positive,positive,positive,positive
573334316,"Thanks a lot Erwin, I forgot about this C++03 thing.. eheh
",thanks lot forgot thing,issue,negative,positive,positive,positive,positive,positive
573322582,"Here is a snippet of the error, just add a space between the >>

~~~~~~~~~~
/home/travis/build/bulletphysics/bullet3/src/BulletCollision/CollisionDispatch/btCollisionDispatcherMt.cpp:16:0:
/home/travis/build/bulletphysics/bullet3/src/BulletCollision/CollisionDispatch/btCollisionDispatcherMt.h:33:65: error: ‘>>’ should be ‘> >’ within a nested template argument list
  btAlignedObjectArray<btAlignedObjectArray<btPersistentManifold*>> m_batchManifoldsPtr;
~~~~~~~~~~",snippet error add space error within template argument list,issue,negative,neutral,neutral,neutral,neutral,neutral
573319711,"thanks for the repro! i never used the mt build.
Yes, travis ci fails because of this pr, it tests linux and mac. appveyor tests windows.",thanks never used build yes travis mac,issue,negative,positive,positive,positive,positive,positive
573314117,"Thanks a lot @dyanikoglu for taking time and test it.
I'm pretty sure that this is the proper fix, at least the one which involves only minimal changes on interested part.
The multithreaded dispatcher seems not widely used, that's why there is a very little report on this issue.
Waiting for your feedback!
Cheers",thanks lot taking time test pretty sure proper fix least one minimal interested part multithreaded dispatcher widely used little report issue waiting feedback,issue,positive,positive,neutral,neutral,positive,positive
573311423,"Looking forward to see this on master branch, can confirm it works without problem.",looking forward see master branch confirm work without problem,issue,negative,neutral,neutral,neutral,neutral,neutral
573311302,"I think I had exactly same issue described in this PR with my custom engine implementation. I applied a different fix to get rid of compound-compound collision problem, and random crashes.

I will give your pr a try later today, and let you know if it works out!",think exactly issue custom engine implementation applied different fix get rid collision problem random give try later today let know work,issue,negative,negative,neutral,neutral,negative,negative
573069883,">Do you have some commands to train and enjoy,

Good question, I would assume 
```
python3 -m pybullet_envs.stable_baselines.train
# or to change the algorithm and the environment
python3 -m pybullet_envs.stable_baselines.train --algo td3 --env AntBulletEnv-v0
```
should work if pybullet is installed but I did not tested it yet.
I will do a PR for the enjoy script ;)",train enjoy good question would assume python change algorithm environment python work tested yet enjoy script,issue,positive,positive,positive,positive,positive,positive
572880789,Thanks a lot for all the improvements. Let me review the changes and get back to you.,thanks lot let review get back,issue,negative,positive,neutral,neutral,positive,positive
572796501,"Thanks for the fix, it makes sense.
(close/re-open to trigger CI, one Mac OSX target is flacky)
",thanks fix sense trigger one mac target,issue,negative,positive,positive,positive,positive,positive
572572026,"As a workaround you can update your collision objects, call performDiscreteCollisionDetection on the collision world, then iterate over the manifolds in the dispatcher. This should at least give you the collisions.",update collision call collision world iterate dispatcher least give,issue,negative,negative,negative,negative,negative,negative
572409090,"This is intentional. When using a fixed base, the base is the world. If you like to get the position of any of the child links, you can use 'getLinkState' using the optional 'computeForwardKinematics' option and read the URDF link transform or center of mass (inertial) frame transform.
See the PyBullet Quickstart Guide for more info about getLinkState:
https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.3v8gjd1epcrt
",intentional fixed base base world like get position child link use optional option read link transform center mass inertial frame transform see guide,issue,negative,negative,negative,negative,negative,negative
572405816,"You can't keep on adding and removing bodies, eventually you need to use 'resetSimulation' to release all memory (some caches are not cleared until resetSimulation is called).

Also, we just fixed an indexing issue that may have caused additional memory usage. Check latest trunk.",ca keep removing eventually need use release memory also fixed indexing issue may additional memory usage check latest trunk,issue,negative,positive,positive,positive,positive,positive
572404801,"Thanks for the report, if there is time (and motivation) we may improve this eventually (not urgent, unless you have a reproduction example that shows issues).",thanks report time motivation may improve eventually urgent unless reproduction example,issue,positive,positive,positive,positive,positive,positive
572404249,"You could use colab instead, check this:
https://twitter.com/erwincoumans/status/1212962029939478533
or use stable_baselines, it has clear description how to train and enjoy PyBullet environments:
https://github.com/hill-a/stable-baselines and
https://github.com/araffin/rl-baselines-zoo",could use instead check use clear description train enjoy,issue,positive,positive,positive,positive,positive,positive
572403381,"You need to manually create a mimic joint using a GEAR_JOINT.
See for example https://github.com/bulletphysics/pybullet_robots/blob/master/panda_sim_grasp.py#L46
",need manually create mimic joint see example,issue,negative,neutral,neutral,neutral,neutral,neutral
572292792,"Note that the issue is only for spherical joints.
Floating base should be fine, since the floating coordinates are not controlled. There is a C++ example of inverse dynamics using a floating base in the BulletExampleBrowser.",note issue spherical floating base fine since floating example inverse dynamic floating base,issue,positive,negative,negative,negative,negative,negative
572289985,"You can try out deep_mimic as part of PyBullet like this:

pip3 install pybullet --user
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_backflip_args.txt
See the code here:
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_envs/deep_mimic",try part like pip install user python see code,issue,negative,neutral,neutral,neutral,neutral,neutral
572289368,"The Bullet3/src/BulletInverseDynamics doesn't support spherical joints natively. For spherical joints we use a different code path, as used in deep_mimic, and you need to pass the flags=1 argument:
~~~~~~~~~~~~~~~~~~~~
c1 = self._pb.calculateInverseDynamics(bodyUniqueId, q1, qdot1, zeroAccelerations, flags=1)
~~~~~~~~~~~~~~~~~~~~
If you can fix the Bullet3/src/BulletInverseDynamics spherical joints, happy to accept a pull request (I'm not very familiar with that part of the code and the original author didn't have time to help out adding spherical joints).
",support spherical natively spherical use different code path used need pas argument fix spherical happy accept pull request familiar part code original author time help spherical,issue,positive,positive,positive,positive,positive,positive
572286558,"Thanks. Do you have some commands to train and enjoy, assuming this CL would be part of pypi (pip install pybullet)?

Note that when you install pybullet using pip, the train and enjoy scripts are hidden, so you would call them as part of pybullet_envs like this:

python3 -m pybullet_envs.stable_baselines.train and
python3 -m pybullet_envs.stable_baselines.enjoy

(note that there is no .py now!)
Then the data is usually put in the pybullet_data folder, and you can get the data from pybullet_data.getDataPath()

For example, for the deep_mimic example (we still need to turn this into a proper OpenAI gym environment)
pip3 install pybullet
python -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt
",thanks train enjoy assuming would part pip install note install pip train enjoy hidden would call part like python python note data usually put folder get data example example still need turn proper gym environment pip install python,issue,positive,positive,neutral,neutral,positive,positive
572229055,"Thanks for the example, let's add it.",thanks example let add,issue,negative,positive,positive,positive,positive,positive
570907689,"> I added a simpler CartPoleContinuousBulletEnv-v0 that trains in a minute and renders in Colab

Do you prefer me to submit a simpler version with those environments? I know that the current version is complex but I wanted to show the best practices (not breaking markov assumption and evaluating with a separate test env).
",added simpler minute prefer submit simpler version know current version complex show best breaking assumption separate test,issue,positive,positive,positive,positive,positive,positive
570462340,"Thanks, I'll check it out. I added a simpler CartPoleContinuousBulletEnv-v0 that trains in a minute and renders in Colab:
https://colab.research.google.com/drive/15JSROMJbeiqxcUwifPR2NYeeFBKmyIlX#scrollTo=E2eWDjPZsQc5
will send you a PR in return to add those hyper params for zoo

Note this colab doesn't use GPU for rendering, here is another Colab that show GPU / EGL usage:

https://colab.research.google.com/drive/1u6j7JOqM05vUUjpVp5VNk0pd8q-vqGlx?authuser=1#scrollTo=7tbOVtFp1_5K
",thanks check added simpler minute send return add hyper zoo note use rendering another show usage,issue,negative,positive,positive,positive,positive,positive
570458460,Without a simple reproduction case there is nothing we can do. Please re-open if you can tell us how to reproduce the issue.,without simple reproduction case nothing please tell u reproduce issue,issue,negative,neutral,neutral,neutral,neutral,neutral
570402142,"I've been able to reproduce it by using the demo BasicExample from master branch.
Just replacing those 2 files should allows you to reproduce it easily.
[demo.zip](https://github.com/bulletphysics/bullet3/files/4017743/demo.zip)
",able reproduce master branch reproduce easily,issue,negative,positive,positive,positive,positive,positive
570304031,"Thanks for the report. Can you briefly describe steps how to reproduce the issue  (in a few sentences sharing a (modified) demo in a zip file, not a long story)?",thanks report briefly describe reproduce issue zip file long story,issue,negative,positive,neutral,neutral,positive,positive
570113983,"Note that the default CPU renderer is very slow compared to OpenGL.
One option is to run the physics server with GUI before enjoying the Gym environments:
~~~~~~~~~~~
python3 -m pybullet_envs.examples.runServer&
~~~~~~~~~~~
By default, pybullet envs try to connect to already running servers, which can render using hardware OpenGL.
For PyBullet 2.6.2 another option is to export environment variable PYBULLET_EGL=1, then it will try to use EGL.

Running the server (runServer) is preferred.
",note default renderer slow one option run physic server enjoying gym python default try connect already running render hardware another option export environment variable try use running server preferred,issue,positive,positive,neutral,neutral,positive,positive
570107779,"Thanks for the report, is should be fixed in this pull request:
https://github.com/bulletphysics/bullet3/pull/2564",thanks report fixed pull request,issue,negative,positive,positive,positive,positive,positive
569992946,"Hi @erwincoumans , does travis build is failing because of my changes? appveyor says successful ending",hi travis build failing successful ending,issue,negative,positive,positive,positive,positive,positive
569976533,"
1) You can also use PPO2 from stable baselines, see their pre-trained policy here:
https://github.com/araffin/rl-baselines-zoo

2) You can also use estool, based on CMA-ES, as described here:
https://github.com/hardmaru/estool
it also has pre-trained weights.

1) We used TF Agents PPO for the original paper, which is included with PyBullet. The policy sometimes differs dependent on the random initialization weights.

Please describe what kind of motion you get if above doesn't help.",also use stable see policy also use based also used original paper included policy sometimes dependent random please describe kind motion get help,issue,positive,positive,positive,positive,positive,positive
569848031,"Thanks, it is not used indeed. A recent new project, FEMFX by AMD uses this vectormath library though:
https://github.com/GPUOpen-Effects/FEMFX",thanks used indeed recent new project library though,issue,negative,positive,positive,positive,positive,positive
569838867,"Mac is easy. Just add `-framework OpenGL` to the compile/link options. Either that command line works, or the user somehow doesn't have OpenGL capabilities on their machine, which is a problem that CMake wouldn't be able to fix anyway.",mac easy add either command line work user somehow machine problem would able fix anyway,issue,negative,positive,positive,positive,positive,positive
569695021,"Sadly we don't have a move operator defined in the btAlignedObjectArray, moving containers could significantly increase merging process performance on realtime purpose, but requires C++11",sadly move operator defined moving could significantly increase process performance purpose,issue,negative,negative,neutral,neutral,negative,negative
569317205,"There should be no difference, as long as you call 'stepSimulation'.

You are not making any calls to 'setRealTImeSimulation(...)', are you?",difference long call making,issue,negative,negative,neutral,neutral,negative,negative
568973906,"Some new findings, it seems that even without external force, the bending effect is still possible, when assigning initial angular velocity > 100, the acquired initial angular velocity is, surprisingly, just 100, hence resulting an non-perpendicular angular velocity and linear velocity. 

Then I found this related discussion: https://pybullet.org/Bullet/phpBB3/viewtopic.php?t=12077

Now after using `p.changeDynamics(sphere, -1, maxJointVelocity=100000)` the bending effect is total eliminated.",new even without external force bending effect still possible initial angular velocity acquired initial angular velocity surprisingly hence resulting angular velocity linear velocity found related discussion sphere bending effect total,issue,negative,positive,positive,positive,positive,positive
568929199,"I just ran into potentially the same issue, where damping/friction would seemingly be very high even when set to zero in the URDF and in the p.changeDynamics() API.

The issue was that each joint I added was not, as I had first assumed, a dumb constraint. The joint was instead modeled as a motor/actuator, with a default motor force that needed to be exceeded for any movement to occur in a force/torque controlled application.

So, to enable torque/external-force control, I had to first set all the motor forces to zero to turn it back into a dumb constraint, like so:
```python
# Disable the motors:
joint_indexes = [j for j in range(p.getNumJoints(robot_id))]
joint_forces_zero = [0.0 for j in range(p.getNumJoints(robot_id))]
p.setJointMotorControlArray(robot_id, joint_indexes, p.VELOCITY_CONTROL, forces=joint_forces_zero)
```
",ran potentially issue would seemingly high even set zero issue joint added first assumed dumb constraint joint instead default motor force movement occur application enable control first set motor zero turn back dumb constraint like python disable range range,issue,negative,negative,neutral,neutral,negative,negative
568904595,"Thanks for trying to help anyhow. You may want to consider btDbvtBroadphase instead, it is often faster and accelerates ray casts better.

Also consider trying out PyBullet, it has better support for articulated bodies (btMultiBody) and may inspire even if you use C++.",thanks trying help anyhow may want consider instead often faster ray better also consider trying better support articulated may inspire even use,issue,positive,positive,positive,positive,positive,positive
568842404,"I am sorry that it seems the bug comes from the game engine I used. It create some collision shape with negative extend, which cause the final error.",sorry bug come game engine used create collision shape negative extend cause final error,issue,negative,negative,negative,negative,negative,negative
568840218,"aabbMin should always be smaller than aabbMax. If you have a repro case (or other bug) related to the broadphase, please share it. Thanks!",always smaller case bug related please share thanks,issue,positive,positive,neutral,neutral,positive,positive
568823742,"I found that what really mess up the sorting is the abnormal value in aabbMin and aabbMax. Is it possible that values in aabbMin are bigger than aabbMax? I will try to figure out what cause this if aabbMin should always smaller than aabbMax, or else I will make an example code to show how smaller aabbMax mess up the sorting.",found really mess abnormal value possible bigger try figure cause always smaller else make example code show smaller mess,issue,negative,negative,neutral,neutral,negative,negative
568785457,"Can you please create a test (a small C++ example code) that currently fails the broadphase?
It is not clear from the description that there is really an issue. Note that min handles and max handles are automatically sorted, since one is always even and the other always odd.",please create test small example code currently clear description really issue note min automatically sorted since one always even always odd,issue,positive,negative,neutral,neutral,negative,negative
568663315,The `obj2sdf` is great. It might be even better if there is a `urdf2sdf` tool that splits the obj while preserving other properties in the original urdf file.,great might even better tool original file,issue,positive,positive,positive,positive,positive,positive
568662247,Got it. I commented out it and now it works fine. I was using `pip install pybullet` to install pybullet. I will just ignore that for now. Thank you so much!,got work fine pip install install ignore thank much,issue,negative,positive,positive,positive,positive,positive
568661115,"comment-out the line about egl and ignore it. Did you compile pybullet using pip?
If not, try to use it if you want to get rid of that warning.",line ignore compile pip try use want get rid warning,issue,negative,neutral,neutral,neutral,neutral,neutral
568660375,"@erwincoumans 
I see, thanks for letting me know! Now I am able to see the three cubes in different colors using `threecubes.py`. However, I got the following error (although the graph still shows up)
```
pybullet build time: Dec 22 2019 01:51:18
Version = 4.1 ATI-3.0.68
Vendor = ATI Technologies Inc.
Renderer = AMD Radeon Pro 555 OpenGL Engine
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0
MotionThreadFunc thread started
b3Printf: b3Warning[examples/SharedMemory/b3PluginManager.cpp,272]:

b3Printf: Warning: couldn't load plugin eglRendererPlugin

b3Printf: b3Warning[examples/SharedMemory/b3PluginManager.cpp,275]:

b3Printf: Error: dlopen(eglRendererPlugin, 10): image not found

b3Printf: b3Warning[examples/SharedMemory/PhysicsClientSharedMemory.cpp,1368]:

b3Printf: custom plugin command failed
```

Is this expected or we can just ignore it?

",see thanks know able see three different color however got following error although graph still build time version vendor renderer pro engine selected physic server starting thread thread thread warning could load error image found custom command ignore,issue,negative,positive,positive,positive,positive,positive
568659034,"It is expected. If you want multiple materials, you need to split the obj into parts, each with their own color/texture. That is what threecubes.py does (it loads the sdf file). Make sure to use p.GUI instead of p.DIRECT in there.",want multiple need split file make sure use instead,issue,negative,positive,positive,positive,positive,positive
568656268,"Hi @erwincoumans 
I encountered similar issues (might be different issue) today. I was trying to reran [`threecubes_org.py`](https://github.com/erwincoumans/bullet3/blob/master/data/threecubes/threecubes_org.py), however I got the following image:
![image](https://user-images.githubusercontent.com/8356125/71395118-6d434200-25c9-11ea-9e5e-7f9e73825f1e.png)

Do you have any idea why I got this?

Some information:
```
pybullet build time: Dec 22 2019 01:51:18
Version = 4.1 ATI-3.0.68
Vendor = ATI Technologies Inc.
Renderer = AMD Radeon Pro 555 OpenGL Engine
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0
MotionThreadFunc thread started
/opt/homebrew/lib/python3.7/site-packages/pybullet_data
numActiveThreads = 0
stopping threads
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed
```",hi similar might different issue today trying however got following image image idea got information build time version vendor renderer pro engine selected physic server starting thread thread thread stopping thread thread destroy semaphore semaphore destroy main semaphore main semaphore,issue,negative,negative,neutral,neutral,negative,negative
568553213,"Rolling friction cone was implemented long ago for btMultiBody (NOT btRigidBody)
(at least the sphere with rolling frition enabled needs to be btMultiBody, the plane/other geometry can be btRigidBody or btMultiBody)
Also best to enable this patch, so rolling friction is enabled for all contact points:
https://github.com/bulletphysics/bullet3/pull/2553

PyBullet example attached and images
![no_rolling_friction_cone](https://user-images.githubusercontent.com/725468/71375385-e19ec680-2572-11ea-9b48-c695feeadbad.jpg)
![rolling_friction_cone](https://user-images.githubusercontent.com/725468/71375386-e19ec680-2572-11ea-9b20-7cd1b3a1c725.jpg)
[frictionCone.zip](https://github.com/bulletphysics/bullet3/files/3995940/frictionCone.zip)

",rolling friction cone long ago least sphere rolling need geometry also best enable patch rolling friction contact example attached,issue,positive,positive,positive,positive,positive,positive
568143793,Fixed a memory leak in this PR (delete m_solverDeformableBodyIslandCallback!),fixed memory leak delete,issue,negative,positive,neutral,neutral,positive,positive
567762418,"Default values are here:

https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c#L3285

----------------------------

double targetVelocity  = 0.f
double force = 100000.0;
double kp = 0.1;
double kd = 1.0;

----------------------------",default double double force double double,issue,negative,neutral,neutral,neutral,neutral,neutral
567761439,"Closing issue. Just compile and build App_PhysicsServer_SharedMemory_VR  and run it. Then connect with pybullet using SHARED_MEMORY connection mode.
This only works/tested on Windows. Mac OS/Linux don't support VR properly.",issue compile build run connect connection mode mac support properly,issue,negative,neutral,neutral,neutral,neutral,neutral
567252010,"I haven't trained humanoid myself. Did you check out https://github.com/hill-a/stable-baselines/releases
and https://github.com/araffin/rl-baselines-zoo
It has a trained policy using ppo2 and td3.",trained humanoid check trained policy,issue,negative,neutral,neutral,neutral,neutral,neutral
567207609,"OK !
But I believe that openCL is a way to get more performance, as such it could be useful for reinforcement learning too. 

But yes nobody is working on it for now.",believe way get performance could useful reinforcement learning yes nobody working,issue,positive,positive,positive,positive,positive,positive
566979555,"All right, I didn't noticed the addition of w when looking the dif (https://github.com/bulletphysics/bullet3/commit/363dc8d431c4eb4c657c21273391b78f4a26229b#diff-c261ee9ba75bc6a7cd72ff982c3def1c).
Good idea 👍 
In the case alignment is set to 8 bytes (default when compiling as x64), x/y/z/w should be aligned on a 4-bytes boundary, and p on a 8-bytes boundary, so that should indeed work since there will be no padding.",right addition looking good idea case alignment set default boundary boundary indeed work since padding,issue,negative,positive,positive,positive,positive,positive
566973485,"I added a w component that is initialized to 0, so there is no padding: it should be fixed.
Try it out!
There is also a memset 0 but it is not needed/commented out:
https://github.com/bulletphysics/bullet3/blob/master/src/BulletSoftBody/btSparseSDF.h#L347",added component padding fixed try also,issue,negative,positive,neutral,neutral,positive,positive
566970815,Nothing. My focus is on PyBullet and reinforcement learning for robotics nowadays. Noone works on OpenCL.,nothing focus reinforcement learning nowadays work,issue,negative,neutral,neutral,neutral,neutral,neutral
566932818,"Hi Erwin,
thanks for the fix. However, looking at the patch, the issue is still present, or am I not waken up (possibly) ? Actually the code looks exactly the same to me...

The 4 bytes resulting from the padding  of the void* member when compiling in x64 is still there, and taken into account when computing the hash (and those 4 bytes contain random content). The hash should only take into account the memory used by x/y/z/w/p, and not the memory used for padding between this member. 

So, either pack the struct tightly to have no padding, or hash the structure manually by adding each single x/y/z/w/p field content to the hash (as opposed to hasing the structure using the whole memory range used, which contains padding).

Let me know if I'm not clear enough !

",hi thanks fix however looking patch issue still present waken possibly actually code exactly resulting padding void member still taken account hash contain random content hash take account memory used memory used padding member either pack tightly padding hash structure manually single field content hash opposed structure whole memory range used padding let know clear enough,issue,positive,positive,neutral,neutral,positive,positive
566875419,"It's all explained in the original bug report:
https://code.google.com/archive/p/bullet/issues/706

The btest project reproduces the environment setup in the video: https://www.youtube.com/watch?v=71jd0g6PsdE

There's a blender file attached there too. More users have had issues in the referenced issue (https://github.com/libgdx/libgdx/issues/2534#issuecomment-62255817)",original bug report project environment setup video blender file attached issue,issue,negative,positive,positive,positive,positive,positive
566861498,"No clear reproduction case. What does this test do exactly?
https://github.com/jazztickets/btest/blob/master/src/main.cpp
Obviously the internal edge utility changes the contact normal.",clear reproduction case test exactly obviously internal edge utility contact normal,issue,negative,positive,neutral,neutral,positive,positive
566857766,m_Names.size() should not be zero. The second part is just a readable string.,zero second part readable string,issue,negative,neutral,neutral,neutral,neutral,neutral
566857174,We are not going to refactor Bullet 2.x anymore. Perhaps a future new physics engine.,going bullet perhaps future new physic engine,issue,negative,positive,neutral,neutral,positive,positive
566856935,Thanks for the report. I would just use the pybullet.changeDynamics instead to set link damping and joint damping. Closing for now.,thanks report would use instead set link damping joint damping,issue,negative,positive,positive,positive,positive,positive
566856455,"No, setAngularFactor/setLinearFactor works on rigid body (maximal/full coordinates), while PyBullet uses reduced (Featherstone) articulations by default.
You can use fixed joints and add revolute joints instead. See this example:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/biped2d_pybullet.py",work rigid body reduced default use fixed add revolute instead see example,issue,negative,positive,neutral,neutral,positive,positive
566856260,"The raibert controller is close to this.
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/minitaur/envs/minitaur_raibert_controller_example.py

In the future we open source envs_v2, this will add more capabilities.",controller close future open source add,issue,negative,neutral,neutral,neutral,neutral,neutral
566856021,"There is rudimentary soft body (position based dynamics) and deformable (mass-spring and finite element) support in PyBullet. 
See deformable* .py examples and loadSoftBody in
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/examples",rudimentary soft body position based dynamic deformable finite element support see deformable,issue,positive,positive,neutral,neutral,positive,positive
566855535,"There is a spherical joint used in pybullet_envs.deep_mimic.
See https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/humanoid/humanoid.urdf#L40",spherical joint used see,issue,negative,neutral,neutral,neutral,neutral,neutral
566854605,closing out-of-date issues. height terrain has its own ray test now.,height terrain ray test,issue,negative,neutral,neutral,neutral,neutral,neutral
566853702,"Yes, you can do lots of parallel ray tests in different threads (PyBullet does this)",yes lot parallel ray different,issue,negative,neutral,neutral,neutral,neutral,neutral
566852638,"I mean, the issue still happens in the latest version...",mean issue still latest version,issue,negative,positive,neutral,neutral,positive,positive
566850161,"close old issues, just don't use motion state if it gives troubles.",close old use motion state,issue,negative,positive,neutral,neutral,positive,positive
566850062,"No, we don't fully support all COLLADA features. Just convert the asset to Wavefront obj and triangulate them.",fully support convert asset triangulate,issue,positive,neutral,neutral,neutral,neutral,neutral
566849904,"Indeed, the design of PyBullet and Gym is not compatible for this flag, and the only real solution is your suggestion:

>> pybullet try to connect to a running instance of the GUI and 
>> if there is none running, just run headless

",indeed design gym compatible flag real solution suggestion try connect running instance none running run headless,issue,negative,positive,positive,positive,positive,positive
566849603,"This is rigid body dynamics, links don't deform. You could try to use soft body dynamics or deformables instead. Or explicitly add prismatic joints with motors that allow to stretch.",rigid body dynamic link deform could try use soft body dynamic instead explicitly add prismatic allow stretch,issue,positive,positive,neutral,neutral,positive,positive
566849300,"I guess you'll have to restart from scratch.
Eventually I'll turn this into a proper Gym environment, so you can use your favorite training algorithm that has a working save/restore.",guess restart scratch eventually turn proper gym environment use favorite training algorithm working,issue,negative,positive,positive,positive,positive,positive
566849013,"This should be resolved by now, I modified the hash function.
https://github.com/bulletphysics/bullet3/commit/363dc8d431c4eb4c657c21273391b78f4a26229b#diff-c261ee9ba75bc6a7cd72ff982c3def1c

Thanks for the report!",resolved hash function thanks report,issue,positive,positive,positive,positive,positive,positive
566847710,Only the size gets multiplied. You can use getDynamicsInfo / changeDynamicsInfo to read / write the mass. Check out the [PyBullet Quickstart Guide.](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.d6og8ua34um1),size use read write mass check guide,issue,negative,neutral,neutral,neutral,neutral,neutral
566847020,"thanks for the small fix (I don't have bandwidth to sift through enormous patches), looks good to me.",thanks small fix sift enormous good,issue,positive,positive,positive,positive,positive,positive
566846585,"Should be fixed now, since this commit:
https://github.com/bulletphysics/bullet3/pull/2537
Thanks for the report!",fixed since commit thanks report,issue,positive,positive,positive,positive,positive,positive
566846304,"Yes, the ISLAND_SLEEPING check should be re-enabled, or an isActive check somewhere else (as you suggested). Alternatively, just don't use the motion state and read the world transform directly.
",yes check check somewhere else alternatively use motion state read world transform directly,issue,negative,positive,neutral,neutral,positive,positive
566836965,"There is contact damping/stiffness for this. You could use pybullet.changeDynamics, check the [pybullet quickstart guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.d6og8ua34um1).",contact could use check guide,issue,negative,neutral,neutral,neutral,neutral,neutral
566836508,"Those damping parameters can help convergence, as described in the damped least square paper.
You can measure the residual to determine accuracy of the inverse kinematics. You can increase the number of IK iterations if needed.",damping help convergence damped least square paper measure residual determine accuracy inverse kinematics increase number,issue,positive,negative,negative,negative,negative,negative
566835915,"You could edit pybullet.c and modify it for now?

We could add some flag to suppress it (but I'd like to keep this info, so it is more obvious if you use an obsolete version of PyBullet).",could edit modify could add flag suppress like keep obvious use obsolete version,issue,negative,neutral,neutral,neutral,neutral,neutral
566835549,"This was just an example to encourage you to explore further. We don't intend to support or improve this at the moment (no man power for this).

>> How is this value set?

The view frustum is defined by various planes, including a near plane and far plane. 

far should be equal to farPlane.

You can use resetDebugVisualizerCamera to assign a view and projection matrix.

I would use an OpenGL or graphics tutorial to compute the point cloud by yourself.
Good luck!
",example encourage explore intend support improve moment man power value set view frustum defined various near plane far plane far equal use assign view projection matrix would use graphic tutorial compute point cloud good luck,issue,positive,positive,positive,positive,positive,positive
566834240,"revolute joints need limits. Use continuous instead. The parser reports errors, watch and fix them. Also, there are working sdf files in Bullet/data folder, compare them with yours. Good luck!",revolute need use continuous instead parser watch fix also working folder compare good luck,issue,positive,positive,positive,positive,positive,positive
566832366,"Thanks for the report. It could be some memory leak and if so, we will fix it. It is hard to tell without a reproduction case. Can you try to re-create it in a simple small pybullet script and share it (attach a zip file)?",thanks report could memory leak fix hard tell without reproduction case try simple small script share attach zip file,issue,negative,negative,neutral,neutral,negative,negative
565423876,"> Thanks for the update, that looks great from a first glance!

Thanks! :D

> 
> What do mean by parallelization? Is this a C plugin for PyBullet or a Python plugin for ROS?

pybullet plugins? Is something that I invented, pseudocode goes like this:

```
while application_alive:
    --- apply plugins in sequence (no threading yet) ---
    e.g. read odometry and publish to ROS (odometry  plugin)
    e.g. read user joint command from ROS and apply setJointMotorControlArray(pos, vel or torque) to robot (control plugin)
    e.g. use rayTestBatch to query laser hits on pybullet and publish ROS laser msg (laser plugin)
    -------------------------------------------------------------------
    step simulation # (self.pb.stepSimulation())
```

Note all pybullet plugins share the same import, for that I use importlib like this:

```
self.pb = importlib.import_module('pybullet')
```

and then I share self.pb to dynamically loaded plugins (also using importlib iterating over the required plugins)

> Usually only one thread/process should communicate with PyBullet at one time, so you need to use some synchronization. There are two shared memory channels open by default, so you can use the second from a different thread as well.

Here is where I have the main problem, because e.g. the laser task (rayTestBatch) takes a long to compute and slows down the flow. The synchronization you mention is something I would have to implement manually right? Can you provide with an example?
",thanks update great first glance thanks mean parallelization python something go like apply sequence yet read odometry publish odometry read user joint command apply torque robot control use query laser publish laser laser step simulation note share import use like share dynamically loaded also usually one communicate one time need use synchronization two memory open default use second different thread well main problem laser task long compute slows flow synchronization mention something would implement manually right provide example,issue,positive,positive,positive,positive,positive,positive
564835781,"The agent's right hand tries to reach the target(small white box), and the shoulder rotates at a pose wihch human is hard to make. So I think I need to limit the shoulder's rotate range.
![image](https://user-images.githubusercontent.com/11907227/70680484-6bc57000-1cd3-11ea-9612-d6e9d440dbc0.png)
",agent right hand reach target small white box shoulder pose human hard make think need limit shoulder rotate range image,issue,negative,negative,neutral,neutral,negative,negative
564755955,"Sure no problem.  I reverted the second and third commits, done.

Ah, github tells me you ported it manually.  That is good.  I'll close this PR.",sure problem second third done ah ported manually good close,issue,negative,positive,positive,positive,positive,positive
564751059,"Thanks for the contribution. Can you just swap the > sign and undo the other changes? I'd rather keep the change minimal, and not start clamping by default in the CommonRigidBodyBase.h",thanks contribution swap sign undo rather keep change minimal start default,issue,negative,positive,neutral,neutral,positive,positive
564556165,"PyBullet is a C plugin, so deepcopy cannot be used. 

1) Each copy would need a unique copy of the simulation. Manually copy the state from one to the other env, and use saveState to disk, restoreState from disk

2) If you reuse PyBullet instances (deepcopy will do that, since it cannot copy the full C state) then manually use pybullet.saveState and restoreState 

Both require serious work I suspect.
It seems easier to create multiple separate envs, and copy the state of one env to the other(s).
",copy would need unique copy simulation manually copy state one use disk disk reuse since copy full state manually use require serious work suspect easier create multiple separate copy state one,issue,negative,positive,neutral,neutral,positive,positive
564387325,"Thanks for the update, that looks great from a first glance!

What do mean by parallelization? Is this a C plugin for PyBullet or a Python plugin for ROS?
Usually only one thread/process should communicate with PyBullet at one time, so you need to use some synchronization. There are two shared memory channels open by default, so you can use the second from a different thread as well.
",thanks update great first glance mean parallelization python usually one communicate one time need use synchronization two memory open default use second different thread well,issue,positive,positive,neutral,neutral,positive,positive
564378420,"> I have started a pybullet ROS wrapper [here](https://github.com/oscar-lima/pybullet_ros), still in early stage but help and comments are welcome ; )

@erwincoumans, basic implementation is done, more urgently what I am missing is the parallelization of the [plugins](https://github.com/oscar-lima/pybullet_ros/tree/melodic/ros/src/pybullet_ros/plugins) in threads. Can you please take a look and provide some feedback? (main loop [here](https://github.com/oscar-lima/pybullet_ros/blob/melodic/ros/src/pybullet_ros/pybullet_ros.py#L225))",wrapper still early stage help welcome basic implementation done urgently missing parallelization please take look provide feedback main loop,issue,positive,positive,positive,positive,positive,positive
564312970,"It would be easiest to add the limits to this constraint btMultiBodySphericalJointMotor.cpp:
https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Featherstone/btMultiBodySphericalJointMotor.cpp
",would easiest add constraint,issue,negative,neutral,neutral,neutral,neutral,neutral
564092008,"Thank you for your reply

Is there way to make contact like soft in urdf??? I made a simple block like this

```
<robot name=""block"">
  <link name=""block"">

    <inertial>
      <origin xyz=""0 0 0"" />
      <mass value=""0.2"" />
      <inertia  ixx=""1"" ixy=""0.0""  ixz=""0.0""  iyy=""1""  iyz=""0.0""  izz=""1"" />
    </inertial>

    <visual>
      <origin xyz=""0 0 0""/>
      <geometry>
        <box size=""0.085 0.085 0.085"" />
      </geometry>
      <material name=""red"">
        <color rgba=""0.4 0.4 1.0 1.0""/>
      </material>
    </visual>

    <collision>
      <origin xyz=""0 0 0""/>
      <geometry>
        <box size=""0.086 0.086 0.086"" />
      </geometry>
    </collision>

  </link>
</robot>
```

Is it enough that robot can grasp? 
Also, I see a lot of slippery motion when the gripper grasp object(I added later friction and very slow step simulation) Could you suggestion some function to protect it?

Thank you",thank reply way make contact like soft made simple block like robot block link block inertial origin mass inertia visual origin geometry box material red color collision origin geometry box enough robot grasp also see lot slippery motion gripper grasp object added later friction slow step simulation could suggestion function protect thank,issue,negative,negative,neutral,neutral,negative,negative
564047229,The friction and normal forces of contacts are stored in the contact points. Check my previous reply.,friction normal contact check previous reply,issue,negative,negative,neutral,neutral,negative,negative
564044777,"There are no limits implemented for spherical joints. Can you point to an issue that motion is out of range?  I've not seen an issue so far, since the policy matches the target motion usually well. You can enable self collision.

Let's leave the issue open in case me or someone else finds time to add them.",spherical point issue motion range seen issue far since policy target motion usually well enable self collision let leave issue open case someone else time add,issue,negative,negative,neutral,neutral,negative,negative
563922832,"thanks all of you a lot! Sorry for my late reponse, I will do these tests at once:)",thanks lot sorry late,issue,negative,negative,negative,negative,negative,negative
563917171,"Well, I have the same problem. Could @erwincoumans help us figure this out?",well problem could help u figure,issue,negative,neutral,neutral,neutral,neutral,neutral
563063551,"Yeah I've started doing that in CLion which is helping, just hit control alt L and it reformats with my modified format file.

I don't have such good eyesight so I can't really fit long lines on any screen without getting rsi in my neck :face_with_head_bandage: ",yeah helping hit control alt format file good eyesight ca really fit long screen without getting neck,issue,positive,positive,positive,positive,positive,positive
563061374,Soft body and deformables are experimental and not fully exposed yet and still under active development. We will document them when the API is more stable.,soft body experimental fully exposed yet still active development document stable,issue,positive,positive,neutral,neutral,positive,positive
563059463,Not going to refactor this code now. Will consider the comments for a future project.,going code consider future project,issue,negative,neutral,neutral,neutral,neutral,neutral
563059306,"Bullet3Collision and all of the OpenCL parts are not actively developed anymore for many years, and unsupported. You are free to use it for your own research.",actively many unsupported free use research,issue,negative,positive,positive,positive,positive,positive
563058737,"There is a [clang-format](https://github.com/bulletphysics/bullet3/blob/master/_clang-format) file, so you can adjust the ColumnLimit locally and run clang-format so it suits your needs.

(By the way, I have no issues with long lines, since my 4k wide-screen monitor can easily show hundreds of characters on a single line (using Visual Studio, XCode or other IDEs). How come you prefer 80 char width? Are you not using an IDE?)

For the current Bullet project, I'm not going to refactor all, but for a future version/project I consider following the Google C++ coding style.",file adjust locally run need way long since monitor easily show single line visual studio ides come prefer char width ide current bullet project going future consider following style,issue,negative,positive,neutral,neutral,positive,positive
563048837,"Good point, the bullet_client in [pybullet_utils](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/bullet_client.py) is the best version (it intercepts the disconnect call properly to avoid multiple disconnects), good to get rid of the others.
Thanks for the contribution!",good point best version disconnect call properly avoid multiple good get rid thanks contribution,issue,positive,positive,positive,positive,positive,positive
563048443,"You should not make contact too soft, and also make sure the robot/gripper doesn't push too strongly against the object. Otherwise you need to tweak the constraint solver iterations and smaller time step and then performance becomes a problem.",make contact soft also make sure push strongly object otherwise need tweak constraint solver smaller time step performance becomes problem,issue,negative,positive,positive,positive,positive,positive
563048127,"Indeed, deformables are preliminary/work-in-progress and we intentionally didn't expose and document the features yet until we think it is ready. Enjoy experimenting though :-)",indeed intentionally expose document yet think ready enjoy though,issue,positive,positive,positive,positive,positive,positive
563042525,"[PyBullet](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) reports the contact normal force and also lateral friction forces/directions, you can use it as sample code (it uses btMultiBody by default).

https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L7479

~~~~~~~~~~~~~~~~
for (int p = 0; p < manifold->getNumContacts(); p++)
					{
						b3ContactPointData pt;
						pt.m_bodyUniqueIdA = objectIndexA;
						pt.m_bodyUniqueIdB = objectIndexB;
						const btManifoldPoint& srcPt = manifold->getContactPoint(p);
						pt.m_contactDistance = srcPt.getDistance();
						pt.m_contactFlags = 0;
						pt.m_linkIndexA = linkIndexA;
						pt.m_linkIndexB = linkIndexB;
						for (int j = 0; j < 3; j++)
						{
							pt.m_contactNormalOnBInWS[j] = srcPt.m_normalWorldOnB[j];
							pt.m_positionOnAInWS[j] = srcPt.getPositionWorldOnA()[j];
							pt.m_positionOnBInWS[j] = srcPt.getPositionWorldOnB()[j];
						}
						pt.m_normalForce = srcPt.getAppliedImpulse() / m_data->m_physicsDeltaTime;
						pt.m_linearFrictionForce1 = srcPt.m_appliedImpulseLateral1 / m_data->m_physicsDeltaTime;
						pt.m_linearFrictionForce2 = srcPt.m_appliedImpulseLateral2 / m_data->m_physicsDeltaTime;
						for (int j = 0; j < 3; j++)
						{
							pt.m_linearFrictionDirection1[j] = srcPt.m_lateralFrictionDir1[j];
							pt.m_linearFrictionDirection2[j] = srcPt.m_lateralFrictionDir2[j];
						}
						m_data->m_cachedContactPoints.push_back(pt);
					}
~~~~~~~~~~~~~~~~

It is trivial to create a small test in PyBullet. Make sure that works. Then compare your program with the pybullet implementation.
",contact normal force also lateral friction use sample code default trivial create small test make sure work compare program implementation,issue,positive,positive,positive,positive,positive,positive
563039256,"For static (not moving) parts with a hole, you can best tag it as concave in the URDF file.
~~~~~~~~~~~~~~~~
<link concave=""yes"" name=""baseLink"">
~~~~~~~~~~~~~~~~
As described in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#) in the loadURDF command. See for example [Samurai.urdf.](https://github.com/bulletphysics/bullet3/blob/master/data/samurai.urdf)
You can also programmatically create the concave shape, use
flags = p.GEOM_FORCE_CONCAVE_TRIMESH, see attached file.
[holetest.zip](https://github.com/bulletphysics/bullet3/files/3937744/holetest.zip)

![image](https://user-images.githubusercontent.com/725468/70405062-d4210280-19f0-11ea-8d35-cde5ee0abfdc.png)


For moving concave parts, it is best to create a convex decomposition using V-HACD.
Using premake, there is a binary in Bullet you can call like this (cd build3, ./premake4_linux64 gmake, cd gmake, make, cd ../../bin)
~~~~~~~~~~~~~~~
./test_vhacd_gmake_x64_release --input hole.obj  --output hole_vhacd.obj
~~~~~~~~~~~~~~~
Using V-HACD the hole is not perfectly round anymore, see image and example obj file in
[holetest2.zip](https://github.com/bulletphysics/bullet3/files/3937793/holetest2.zip)
.
![image](https://user-images.githubusercontent.com/725468/70404940-6d034e00-19f0-11ea-9fd6-3ca284fa5326.png)

Alternatively, you can create a SDF file of the mesh, see [signedDistanceField.py ](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/signedDistanceField.py)example. Signed Distance Field is a hidden feature. Here is how to create the SDF:
~~~~~~~~~~~~~~
data\toys\concave_box.cdf was generated from concave_box.obj using
//GenerateSDF.exe -r ""32 32 32"" -d ""-1.6 -1.6 -.6 1.6 1.6 .6"" concave_box.obj
//SDF is based on code from DiscreGrid, https://github.com/InteractiveComputerGraphics/Discregrid
~~~~~~~~~~~~~~
link concave=""yes"" is likely your best bet.",static moving hole best tag concave file link yes guide command see example also programmatically create concave shape use see attached file image moving concave best create convex decomposition premake binary bullet call like build make input output hole perfectly round see image example file image alternatively create file mesh see distance field hidden feature create based code link yes likely best bet,issue,positive,positive,positive,positive,positive,positive
563038616,"the friction related constraints are processed by these functions, addMultiBodyTorsionalFrictionConstraint() and addMultiBodyFrictionConstraint().  Could you attach your simple test? then we can work together to figure out what happened there. thanks.",friction related could attach simple test work together figure thanks,issue,negative,positive,neutral,neutral,positive,positive
562904048,"Somehow I didn't get to address this closed issue, but it is now: changeDynamics has the option to set jointDamping now.
Also, I added the following snippet in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#) in the calculateInverseDynamics section :
~~~~~~~~~~~~~~~~
Also note that calculateInverseDynamics ignores the joint/link damping,
 while forward dynamics (in stepSimulation) includes those damping terms. 
So if you want to compare the inverse dynamics and forward dynamics, 
make sure to set those damping terms to zero using changeDynamics 
with jointDamping and link damping through linearDamping and angularDamping.
~~~~~~~~~~~~~~~~",somehow get address closed issue option set also added following snippet guide section also note damping forward dynamic damping want compare inverse dynamic forward dynamic make sure set damping zero link damping,issue,positive,positive,neutral,neutral,positive,positive
562890908,"I'm having the same issue. In my case, I'm instantiating the environment twice. The first environment seems to be behaving normally. But the second environment is misbehaving in exactly the above manner. ",issue case environment twice first environment normally second environment exactly manner,issue,negative,positive,positive,positive,positive,positive
562294811,"Dear @erwincoumans ,

If I do:
```
for link_idx in range(8):
    sim.changeDynamics(robot_id, link_idx, linearDamping=0.0, angularDamping=0.0)
    sim.changeDynamics(robot_id, link_idx, maxJointVelocity=200)
```
The printout is:
```
computed_qdd_w_damping =  [239.40159838813173, -12.851929098061982, 127.11323280006287, -21.25870796776021, 100.73439036935342, 22.316377516515047, -100286.46707253941]
time_count =  215
q   =  [ 0.07018  0.326    0.06283  1.09724  0.08877  1.5479  -0.35772]
qd  =  [   0.51409    0.33366    0.28739    1.36155    0.22052    0.33028
 -200.     ]
qdd =  [   239.4016     -12.85193    127.11323    -21.25871    100.73439
     22.31638 -96000.     ]
```
The qd of last joint is clamped at -200, but now the qdd of last joint is also clamped at -96000 (twice the value it used to be before). It seems that the qdd limit is a constant multiply of the qd limit?

We can close this issue for now.

Thanks!


Best Regards,

Giovanni Sutanto",dear range last joint last joint also twice value used limit constant multiply limit close issue thanks best,issue,positive,positive,positive,positive,positive,positive
561972113,"After talking to Jason Peng, he also experienced that sometimes the training of the walk policy gets stuck into this local maximum. I've re-run the training a few times and it get a better policy on that machine as well. We may need to tune the reward function a bit to avoid this.",talking also experienced sometimes training walk policy stuck local maximum training time get better policy machine well may need tune reward function bit avoid,issue,positive,positive,positive,positive,positive,positive
561795825,"> Since the world creation is now determined at run-time, this PR can be closed?

Yes, we should close it.",since world creation determined closed yes close,issue,positive,negative,neutral,neutral,negative,negative
561698817,"Since the world creation is now determined at run-time, this PR can be closed?",since world creation determined closed,issue,positive,negative,neutral,neutral,negative,negative
561693333,"External force is not taken into account, you'll have to add this manually.",external force taken account add manually,issue,negative,neutral,neutral,neutral,neutral,neutral
561693027,"Fixed, it is a bitwise OR of course. Thanks for the report!",fixed bitwise course thanks report,issue,negative,positive,positive,positive,positive,positive
561655681,"By default Bullet btMultiBody clamps the velocity too the range [-100,100]. Usually if the velocity exceeds this, the simulation would go out-of-control and feedback loops go into NaN.

You can change this threshold using
~~~~~~~~~~~
pybullet.changeDynamics(bodyUid, -1, maxJointVelocity=newvalue) 
~~~~~~~~~~~
to become [-newvalue, newvalue]

Link damping also typically keeps the velocity from growing to unrealistic values.
",default bullet velocity range usually velocity simulation would go feedback go nan change threshold become link damping also typically velocity growing unrealistic,issue,negative,negative,negative,negative,negative,negative
561514204,"Dear @erwincoumans ,

Yes, I checked the C++ comparison that you pointed out. Thanks for the pointer, if I added the following line to turn off all dampings:
```
for link_idx in range(8):
    sim.changeDynamics(robot_id, link_idx, linearDamping=0.0, angularDamping=0.0, jointDamping=0.0)
```
I get:
```
computed_qdd_wo_damping =  [-0.09149939522323809, -1.1269857321533738, -0.04343543439520839, 0.2749570124290451, 1.5273812974757208, -4.299123801721428, 3.68235490199738]
time_count =  185
q   =  [ 0.05478  0.48704 -0.0144   1.61118  0.26899  1.50081 -0.06796]
qd  =  [ 0.0282   0.67607 -0.02073  2.85999  0.8556   1.71583  0.50151]
qdd =  [-0.0915  -1.12699 -0.04344  0.27496  1.52738 -4.29912  3.68235]

computed_qdd_wo_damping =  [-0.08963881440774904, -1.1422114297381194, -0.0449198649028031, 0.2841542759810468, 1.5229237681442909, -4.325861277283076, 3.7113760734549426]
time_count =  186
q   =  [ 0.0549   0.48983 -0.01449  1.6231   0.27259  1.50789 -0.06581]
qd  =  [ 0.02783  0.67131 -0.02092  2.86118  0.86194  1.69781  0.51697]
qdd =  [-0.08964 -1.14221 -0.04492  0.28415  1.52292 -4.32586  3.71138]
```
So qdd matches with computed_qdd_wo_damping

But if I only turn off link damping (but keep the joint damping) with the following line:
```
for link_idx in range(8):
    sim.changeDynamics(robot_id, link_idx, linearDamping=0.0, angularDamping=0.0)
```
I get:
```
computed_qdd_w_damping =  [85.07159426563172, -5.058375451034304, 95.43037731605654, 67.34080965632552, 4067.8006510317437, 190.98872769207105, -53430.94839256632]
time_count =  267
q   =  [ 0.02156  0.40642  0.01124  1.40895  0.04783  0.64232 -0.20057]
qd  =  [   0.17547    0.28522    0.20324    1.61508    8.4716     1.63709
 -100.     ]
qdd =  [    85.07159     -5.05838     95.43038     67.34081   4067.80065
    190.98873 -48000.     ]

computed_qdd_w_damping =  [-85.62848882336172, 4.139339274962428, -95.458061096132, -67.04714357909292, -4043.5329943306865, -189.97524176156676, 53399.68641337165]
time_count =  268
q   =  [0.0208  0.40768 0.01043 1.41451 0.01293 0.64585 0.2161 ]
qd  =  [ -0.18132   0.30247  -0.1945    1.33571  -8.37646   0.84553 100.     ]
qdd =  [  -85.62849     4.13934   -95.45806   -67.04714 -4043.53299  -189.97524
 48000.     ]
```
As you can see, most of qdd matches with computed_qdd_w_damping, except the last joint, where it stuck at 48000 (some magical number?). Is 48000 some kind of maximum acceleration possible?

Thanks so much for your quick response!


Best Regards,

Giovanni",dear yes checked comparison pointed thanks pointer added following line turn range get turn link damping keep joint damping following line range get see except last joint stuck magical number kind maximum acceleration possible thanks much quick response best,issue,positive,positive,positive,positive,positive,positive
561500162,I pointed you to the c++ comparison in my previous post that shows that inverse dynamics and forward dynamics perfectly matches. Please check that first. I would first verify that the forward and inverse dynamics matches with 0 joint and 0 link damping. Note that joint and link damping are different.,pointed comparison previous post inverse dynamic forward dynamic perfectly please check first would first verify forward inverse dynamic joint link damping note joint link damping different,issue,positive,positive,positive,positive,positive,positive
561491416,"Dear @erwincoumans ,

I wrote the following code, trying to match forward dynamics computation of PyBullet:
```
import pybullet_utils.bullet_client as bc
import pybullet
import pybullet_data

import os, time, copy
import numpy as np

np.set_printoptions(precision=5, suppress=True)

hz = 240.0
dt = 1.0 / hz

sim = bc.BulletClient(connection_mode=pybullet.GUI)

sim.setGravity(0, 0, -9.81)
sim.setTimeStep(dt)
sim.setRealTimeSimulation(0)

controlled_joints = [0, 1, 2, 3, 4, 5, 6]
addtnl_torque = np.array([0,0,0,1.0,0,0,0])
n_dofs = len(controlled_joints)

pybullet.setAdditionalSearchPath(pybullet_data.getDataPath())
urdf_path = ""kuka_iiwa/model.urdf""

world_id = pybullet.loadURDF(""plane.urdf"", [0, 0, 0])
robot_id = sim.loadURDF(urdf_path, basePosition=[0.0, 0.0, 0.0], 
                        useFixedBase=True,
                        flags=pybullet.URDF_USE_INERTIA_FROM_FILE)

full_urdf_path = pybullet_data.getDataPath()+'/'+urdf_path
print(""full_urdf_path = "", full_urdf_path)

def getCurrentJointPosVel():
    cur_joint_states = sim.getJointStates(robot_id, controlled_joints)
    cur_joint_pos = [cur_joint_states[i][0] for i in range(n_dofs)]
    cur_joint_vel = [cur_joint_states[i][1] for i in range(n_dofs)]
    return cur_joint_pos, cur_joint_vel

def getCurrentEEVel():
    ee_state = sim.getLinkState(robot_id, n_dofs-1,
    	                        computeLinkVelocity=True, 
                                computeForwardKinematics=True)
    ee_lin_vel = np.array(ee_state[6]) # worldLinkLinearVelocity
    ee_ang_vel = np.array(ee_state[7]) # worldLinkAngularVelocity
    return ee_lin_vel, ee_ang_vel

def computeGravityCompensationControlPolicy():
    [cur_joint_pos, _] = getCurrentJointPosVel()
    grav_comp_torque = sim.calculateInverseDynamics(robot_id, cur_joint_pos, 
                                                    [0] * n_dofs, 
                                                    [0] * n_dofs)
    return np.array(grav_comp_torque)

def computeRBDInertiaMatrixAndNonLinearEffects(joint_pos, joint_vel):
    rbd_inertia_matrix = sim.calculateMassMatrix(robot_id, list(joint_pos))
    rbd_non_linear_effects = sim.calculateInverseDynamics(robot_id, joint_pos, joint_vel, [0.0] * 7)
    return np.asarray(rbd_inertia_matrix), np.asarray(rbd_non_linear_effects)

def computeForwardDynamics(joint_pos, joint_vel, torque, is_using_damping):
     [rbd_inertia_matrix, rbd_non_linear_effects
      ] = computeRBDInertiaMatrixAndNonLinearEffects(joint_pos, joint_vel)

     temp = torque - rbd_non_linear_effects
     
     if is_using_damping:
         damping_const = 0.5  # from URDF
         temp -= damping_const * np.array(joint_vel)
     qdd = list(np.matmul(np.linalg.inv(rbd_inertia_matrix), (temp).reshape(7)))
     return qdd

# activating torque control
sim.setJointMotorControlArray(
            bodyIndex=robot_id,
            jointIndices=controlled_joints,
            controlMode=pybullet.VELOCITY_CONTROL,
            forces=np.zeros(n_dofs))

prev_qd = [0.0] * n_dofs

time_count = 0

applied_torque = None

while True:
    [q, qd] = getCurrentJointPosVel()
    qdd = list((np.array(qd) - np.array(prev_qd))/dt)

    print(""time_count = "", time_count)
    print(""q   = "", np.array(q))
    print(""qd  = "", np.array(qd))
    print(""qdd = "", np.array(qdd))
    print('')

    if time_count > 2:
        assert(np.allclose(np.array(qd), (np.array(q) - np.array(prev_q))/dt, atol=1e-6))
    
    bullet_tau = np.array(sim.calculateInverseDynamics(robot_id, q, qd, qdd))

    grav_comp_torque = computeGravityCompensationControlPolicy()
    applied_torque = grav_comp_torque+addtnl_torque
    sim.setJointMotorControlArray(
            bodyIndex=robot_id,
            jointIndices=controlled_joints,
            controlMode=pybullet.TORQUE_CONTROL,
            forces=applied_torque)

    computed_qdd_wo_damping = computeForwardDynamics(q, qd, applied_torque, False)
    print('computed_qdd_wo_damping = ', computed_qdd_wo_damping)
    computed_qdd_w_damping = computeForwardDynamics(q, qd, applied_torque, True)
    print('computed_qdd_w_damping = ', computed_qdd_w_damping)

    prev_q = copy.deepcopy(q)
    prev_qd = copy.deepcopy(qd)
    time_count += 1
    
    sim.stepSimulation()
    time.sleep(dt)
```

Some of the results are:
```
computed_qdd_wo_damping =  [-0.5742917588881703, -0.3680942630368981, 0.7612328072587236, 1.9396860871403476, 3.4510166248865235, 72.51333836924888, -11.904324266581993]
computed_qdd_w_damping =  [98.29863670555025, -3.251844169993164, 94.700269059145, 54.95572735371492, 3283.790656935381, 142.0429298260747, -52454.3103127325]
time_count =  297
q   =  [ 0.01434  0.43819  0.00456  1.56898  0.0394   0.80786 -0.20734]
qd  =  [   0.20045    0.23988    0.19792    1.55019    6.84358    1.43943    -100.     ]
qdd =  [    98.30342     -3.26628     94.7481      54.91427   3286.69069   142.19211 -48000.     ]

computed_qdd_wo_damping =  [-0.12334873929538803, -0.31044579201076894, 1.34318877004002, 1.844418856173523, -1.859091087725854, 71.87495287412763, 14.250051847263997]
computed_qdd_w_damping =  [-98.60609334917842, 2.330701867992183, -94.60720492133593, -54.46046220217467, -3261.883903184632, -142.6948281249777, 52428.17894564496]
time_count =  298
q   =  [0.01347 0.43923 0.00374 1.57449 0.01123 0.81137 0.20932]
qd  =  [ -0.21043   0.24955  -0.19648   1.32265  -6.75987   0.84374 100.     ]
qdd =  [  -98.61101     2.31983   -94.65697   -54.61012 -3264.82891  -142.9671   48000.     ]

computed_qdd_wo_damping =  [-0.5576537769445713, -0.37985028752547617, 0.7348986795035409, 1.9251134484523313, 3.306386283072615, 71.88455616903151, -11.745442115008972]
computed_qdd_w_damping =  [98.84740646842464, -3.156979453929905, 94.50642393197342, 54.19514682238956, 3240.144601754793, 139.33355994463278, -52401.87002323955]
time_count =  299
q   =  [ 0.01431  0.44021  0.00456  1.58094  0.03937  0.81731 -0.20734]
qd  =  [   0.20145    0.23633    0.1975     1.54828    6.75262    1.42493  -100.     ]
qdd =  [    98.85238     -3.17111     94.55403     54.15297   3242.99806  139.4855    -48000.     ]
```
As you see, the qdd does NOT match perfectly with computed_qdd_w_damping. What could have been missing here?


P.S.: Can you please re-open this issue? I cannot re-open it from my side. Thanks.


Best Regards,

Giovanni",dear wrote following code trying match forward dynamic computation import import import import o time copy import print range range return return return list return torque temp torque temp list temp return torque control none true list print print print print print assert false print true print see match perfectly could missing please issue side thanks best,issue,positive,positive,positive,positive,positive,positive
561452009,"Attached is a policy trained in about 10 hours using the older version (git checkout bb962bd)
The policy likely didn't improve much after 5 hours.
~~~~~~~~~~~~~~~~~~~~
Iteration                Wall_Time                Samples                  Train_Return             Test_Return              State_Mean               State_Std                Goal_Mean                Goal_Std                 Exp_Rate                 Exp_Noise                Exp_Temp                 Critic_Loss              Critic_Stepsize          Actor_Loss               Actor_Stepsize           Clip_Frac                Adv_Mean                 Adv_Std                  
0                        0.0013029665417141384    4523                     4.782672578992891        5.317764783236577        0.08024304205286276      0.9413613198227497       0                        0                        0.9999497875000001       0.05000000000000001      0.0999710995384927       0.05590025809578947      0.01                     0.4262679499806836       2.5e-06                  0.557373046875           -4.233176                3.2326293                
400                      0.252718717985683        1721924                  17.619081219746377       21.612787845624005       0.018594497854555966     1.0164263509511549       0                        0                        0.9784809                0.05                     0.08834912445899822      0.0035809386287891194    0.01                     0.2754016551463043       2.5e-06                  0.08938419117647059      -0.08892649              1.0683628                
800                      0.5075504030121697       3458604                  19.869559098080863       20.934394931624837       0.018594497854555966     1.0164263509511549       0                        0                        0.9567726999999999       0.049999999999999996     0.07797075687332693      0.0031299082387276403    0.01                     0.2898263751036104       2.5e-06                  0.09237132352941177      0.020087924              0.7783768                
1200                     0.7638861793279648       5205236                  22.12352040584222        24.96063584145587        0.018594497854555966     1.0164263509511549       0                        0                        0.9349406                0.05                     0.06876247499030444      0.0026598349284338635    0.01                     0.27936602963341606      2.5e-06                  0.07747395833333333      0.13800809               0.5250766                
1600                     1.0198775747087268       6949719                  19.76620439217948        24.584684153208034       0.018594497854555966     1.0164263509511549       0                        0                        0.9131336                0.05                     0.060650446160804686     0.0032402266362944777    0.01                     0.28477675067808694      2.5e-06                  0.12224264705882351      -0.09770461              0.5449888                
2000                     1.276188032163514        8697156                  23.695351731989096       28.078522238798705       0.018594497854555966     1.0164263509511549       0                        0                        0.8912920875             0.05                     0.05348478061554293      0.0029745395545938257    0.01                     0.28120022417149615      2.5e-06                  0.12369791666666666      0.21337323               0.7336402                
2400                     1.5331768587562773       10447218                 23.79504457985614        33.86766104924083        0.018594497854555966     1.0164263509511549       0                        0                        0.8694159499999999       0.05                     0.047156316619473206     0.0038226035127687887    0.01                     0.27538818115782404      2.5e-06                  0.14192708333333334      -0.090961844             0.7483715                
2800                     1.7895032044914034       12195098                 23.29233638315169        33.82644480100053        0.018594497854555966     1.0164263509511549       0                        0                        0.847566825              0.05                     0.04158311913575193      0.002446718888576369     0.01                     0.2958915551296538       2.5e-06                  0.13910590277777776      0.19802353               0.43166742               
3200                     2.0451931881904604       13937997                 24.693321616085687       34.004700829793016       0.018594497854555966     1.0164263509511549       0                        0                        0.8257810875             0.05                     0.036681975693007796     0.003852330742827487     0.01                     0.2741138792286316       2.5e-06                  0.11783854166666666      -0.05089954              0.6390814                
3600                     2.3003621696763568       15679736                 20.836012716598947       41.894945136473524       0.018594497854555966     1.0164263509511549       0                        0                        0.8040083                0.05                     0.03236091181640446      0.004648597024403417     0.01                     0.2657220370738822       2.5e-06                  0.11029411764705882      -0.161328                1.3126234                
4000                     2.557493742770619        17430476                 29.645909115989795       49.513623137850445       0.018594497854555966     1.0164263509511549       0                        0                        0.7821258249999999       0.05                     0.02853084027805493      0.0035269729877553703    0.01                     0.28117289394140244      2.5e-06                  0.1351996527777778       -0.1414171               0.6485951                
4400                     2.8139336999257405       19174498                 32.15314593933883        59.49844738362094        0.018594497854555966     1.0164263509511549       0                        0                        0.7603259                0.049999999999999996     0.02516603231886246      0.0039244914075122015    0.01                     0.2809440930270486       2.5e-06                  0.1480034722222222       -0.013877168             1.0001372                
4800                     3.071399459971322        20921207                 32.59519468920319        84.51843409947736        0.018594497854555966     1.0164263509511549       0                        0                        0.738491525              0.05                     0.02219365407243501      0.003585927394691252     0.01                     0.2793021749376374       2.5e-06                  0.11420036764705883      0.08419041               0.81780195               
5200                     3.329295099973679        22666075                 35.97224923609603        138.26000539093792       0.018594497854555966     1.0164263509511549       0                        0                        0.7166805875             0.05                     0.01957498638882989      0.006310037076925961     0.01                     0.2791432130874859       2.5e-06                  0.10438368055555555      -0.54490656              1.726816                 
5600                     3.586873950295978        24409507                 41.17293956063179        152.7591874615445        0.018594497854555966     1.0164263509511549       0                        0                        0.694885675              0.05                     0.01726689259178848      0.007235344227357178     0.01                     0.29374260707374883      2.5e-06                  0.16360294117647062      0.09998398               0.79945236               
6000                     3.84325478679604         26150711                 36.89715443861506        228.1272043823015        0.018594497854555966     1.0164263509511549       0                        0                        0.6731194125             0.05                     0.015233459113040275     0.008590010102018234     0.01                     0.2922307753058917       2.5e-06                  0.1946231617647059       -0.38631752              2.0135128                
6400                     4.099834461477068        27896555                 43.81618613239752        281.1913985651106        0.018594497854555966     1.0164263509511549       0                        0                        0.6512998375000001       0.05                     0.013435368845225427     0.0093921713333758       0.01                     0.28254624880436396      2.5e-06                  0.14908854166666669      0.23044674               0.9655322                
6800                     4.357768086327447        29652258                 46.795883677241136       218.30542463462442       0.018594497854555966     1.0164263509511549       0                        0                        0.6293510125             0.05                     0.011840704183096665     0.0078397256335901       0.01                     0.28366823351996784      2.5e-06                  0.1808363970588235       0.12588918               1.4162359                
7200                     4.618551160560714        31436968                 56.58453068009004        205.66273157475268       0.018594497854555966     1.0164263509511549       0                        0                        0.60704435               0.05                     0.010413839380940069     0.0071360652307501165    0.01                     0.29319202439445585      2.5e-06                  0.1657986111111111       0.6264442                0.6849183                
7600                     4.88375598291556         33253371                 64.31361258456403        255.53190618040352       0.018594497854555966     1.0164263509511549       0                        0                        0.58433725               0.05                     0.009137831069089296     0.009467323623539414     0.01                     0.26624765464415157      2.5e-06                  0.1723090277777778       0.35317743               1.5137687                
8000                     5.163965870804257        35166656                 70.83628222111815        211.69752056101044       0.018594497854555966     1.0164263509511549       0                        0                        0.5604254375             0.05                     0.007962759405834689     0.009771176259770678     0.01                     0.2882528374902904       2.5e-06                  0.14908854166666666      0.27694646               1.2059898                
8400                     5.478405897551113        37319939                 54.882101632502966       284.75819049053246       0.018594497854555966     1.0164263509511549       0                        0                        0.5335096874999999       0.05                     0.006819840517263691     0.013138457483268882     0.01                     0.28150585127112115      2.5e-06                  0.18770559210526316      0.49285582               1.1881287                
8800                     5.828957611521085        39716669                 100.71029809029248       296.5613485410795        0.018594497854555966     1.0164263509511549       0                        0                        0.503593825              0.05                     0.005740960549359138     0.013808500072199798     0.01                     0.2861698150415631       2.5e-06                  0.19554227941176472      -0.59873223              2.1610081                
9200                     6.1993493327167295       42257432                 113.31298840587982       227.24597664702998       0.018594497854555966     1.0164263509511549       0                        0                        0.47183477500000004      0.05                     0.004781750781302011     0.019877378350322356     0.01                     0.28544827632825165      2.5e-06                  0.20932904411764705      1.101479                 1.0760626                
9600                     6.61325016438961         45093582                 130.6626508364568        280.67671704976374       0.018594497854555966     1.0164263509511549       0                        0                        0.4364060125             0.05                     0.0038995548308776848    0.02374106637580553      0.01                     0.27349264023359865      2.5e-06                  0.25862630208333337      1.8368665                1.1274474                
10000                    7.049617083734936        48074590                 161.56111024320828       285.9733025409559        0.018594497854555966     1.0164263509511549       0                        0                        0.3991473375             0.05                     0.003146794219709547     0.017577497915481216     0.01                     0.2830410984531045       2.5e-06                  0.19015625               -1.3381509               1.8554628                
10400                    7.505529849992858        51181541                 179.756527755776         234.97821733945113       0.018594497854555966     1.0164263509511549       0                        0                        0.3603120875             0.05                     0.0025164031418453956    0.0160615680500856       0.01                     0.26700152091395396      2.5e-06                  0.19606370192307693      -1.43295                 1.944154                 
10800                    7.972501652240753        54365787                 171.8335908816788        273.6880155262579        0.018594497854555966     1.0164263509511549       0                        0                        0.3205104750000001       0.05                     0.00200113407671427      0.018922292156975554     0.01                     0.2759992147867496       2.5e-06                  0.203125                 -2.2381134               2.5198565                
11200                    8.453082316517829        57636655                 198.92407002395976       302.9559676041319        0.018594497854555966     1.0164263509511549       0                        0                        0.27962699999999996      0.05                     0.001581493823046337     0.015319971284716977     0.01                     0.2663356046088868       2.5e-06                  0.23857060185185183      -1.883964                1.7797228                
11600                    8.93392296784454         60905733                 194.75119442152626       245.8747768434498        0.018594497854555966     1.0164263509511549       0                        0                        0.2387728125             0.05                     0.0012500633752011044    0.015234767204189363     0.01                     0.25629932768642905      2.5e-06                  0.23502604166666669      0.8260585                1.0880405                
12000                    9.414678901765082        64193713                 196.63518722021354       231.246772659408         0.018594497854555966     1.0164263509511549       0                        0                        0.2                      0.05                     0.0010000000000000002    0.02085646425539087      0.01                     0.25990184793068516      2.5e-06                  0.23828125               0.6145866                1.8791423                
12400                    9.893771798412006        67476613                 219.0444783053228        184.75149364327032       0.018594497854555966     1.0164263509511549       0                        0                        0.2                      0.05                     0.0010000000000000002    0.01883656328482175      0.01                     0.2566248239018023       2.5e-06                  0.2340087890625          0.0730528                1.874957                 
12800                    10.37058892832862        70752480                 178.13414698130327       162.3010919339494        0.018594497854555966     1.0164263509511549       0                        0                        0.2                      0.05                     0.0010000000000000002    0.018582046981329634     0.01                     0.2542915573274648       2.5e-06                  0.22178819444444445      2.1241348                1.4441637                

~~~~~~~~~~~~~~~~~~~~
[walk_ok_output (1).zip](https://github.com/bulletphysics/bullet3/files/3919739/walk_ok_output.1.zip)

",attached policy trained older version git policy likely improve much iteration,issue,negative,positive,positive,positive,positive,positive
561448626,"Apparently, this old version trains fine, can you check it?
git checkout bb962bdb6fdbb12eaf61327fc97356d4b44eb896
https://github.com/bulletphysics/bullet3/commit/bb962bdb6fdbb12eaf61327fc97356d4b44eb896#diff-515bf02cb28321fcf4bd83fec4b51f0b

It takes about 5 hours to train here, so bisection to track down the change may take a while... ;-)",apparently old version fine check git train bisection track change may take,issue,negative,positive,positive,positive,positive,positive
560994106,"Actually I'm running in a similar issue now on one of my machines, I will track down what is happening.
",actually running similar issue one track happening,issue,negative,neutral,neutral,neutral,neutral,neutral
560987357,"Yes, we need to fix the btAssert in Bullet/src/LinearMath/btScalar.h, using #ifdef __clang__ for example.
Also, just disabling the SSE instruction set, also in btScalar.h. I'll look at it.",yes need fix example also instruction set also look,issue,negative,neutral,neutral,neutral,neutral,neutral
560986334,"You should try to avoid resetSimulation in the loop, so you can avoid doing loadURDF (or createMultiBody). saveState and restoreState is made for this: at program startup, you create the scene once, and then saveState. At reset, you only 'restoreState'.
There is an example of save/restoreState in PyBullet here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/saveRestoreState.py
",try avoid loop avoid made program create scene reset example,issue,negative,neutral,neutral,neutral,neutral,neutral
560952245,"The forward dynamics (Articulated Body Algorithm) and inverse dynamic (Composite Rigid Body Algorithm and Recursive Newton Euler Algorithm) agree with each other indeed.
You can check [invdyn_bullet_comparison](https://github.com/bulletphysics/bullet3/blob/master/Extras/InverseDynamics/invdyn_bullet_comparison.cpp) for details on this, there is a unit test to make sure of this.
In stepSimulation, we compute the unconstrained accelerations (next_qdd), then we compute the constraint forces (if any), and then perform an integration step. By default, we use a Symplectic Euler integrator (v_t+1 = v_t+dt*a_t), and then x_t+1 += dt * v_t+1.

",forward dynamic articulated body algorithm inverse dynamic composite rigid body algorithm recursive newton algorithm agree indeed check unit test make sure compute unconstrained compute constraint perform integration step default use symplectic integrator,issue,positive,positive,positive,positive,positive,positive
560458503,"Ah yes, you need to enable usePythonStablePD (in pybullet_deep_mimic_env.py) to inspect the forces from Python. We need to expose them explicitly when computed in C++/STABLE_PD_CONTROL.",ah yes need enable inspect python need expose explicitly,issue,negative,neutral,neutral,neutral,neutral,neutral
560252716,Aren't  the forces passed to setJointMotorControlMultiDofArray the MaxForces (used to clip) instead of the exact force value.,used clip instead exact force value,issue,negative,positive,positive,positive,positive,positive
560226048,"Thanks a lot @erwincoumans, your code was really useful for debugging. Also, I double-checked that they are definitely local angles by changing the base orientation of your test_model. 

I was getting angular_velocities 0 issue because I thought they are having same size as of angles( size=4 and I was converting it to Euler). 

getJointStatesMultiDof outputs

- a list on 0th index(i.e. jointPosition) of size 1 or 4. ( **Pybullet guide mentions it to be of size 1 or 3!, please correct it**)

- a list on 1st index(i.e. jointVelocity) if of size 1 or 3. ( I made a mistake here)( This is correct in Pybullet guide.)

Please correct me if I am not assigning indexes correctly to jointPosition and jointVelocity. Thanks  again! Also, as the list size is of 4 at index 0, I am assuming it's local angles in quaternion. ",thanks lot code really useful also definitely local base orientation getting issue thought size converting list th index size guide size please correct list st index size made mistake correct guide please correct correctly thanks also list size index assuming local quaternion,issue,positive,negative,neutral,neutral,negative,negative
560194607,"Thank you for your reply.
1. the forces is applied by https://github.com/bulletphysics/bullet3/blob/d2665d3d80b89ef36fad49a8479bd0dd85f65326/examples/pybullet/gym/pybullet_envs/deep_mimic/env/humanoid_stable_pd.py#L350 ``setJointMotorControlMultiDofArray``  with ``controlMode=STABLE_PD_CONTROL`` , which I have no idea where to get the force number.

2. ``python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt`` work for me.
",thank reply applied idea get force number python work,issue,negative,neutral,neutral,neutral,neutral,neutral
559852030,"Despite the zero reference base velocity, the training converged to a reasonable motions previously. I will re-train the motions and see if it a converges faster. Thanks for the report.",despite zero reference base velocity training reasonable previously see faster thanks report,issue,negative,negative,negative,negative,negative,negative
559834055,"The training speed has been fixed long ago, and things should work fine at several million samples per hour dependent on the machine/number of threads. Here is the command for a machine with 12 hardware cores:
~~~~~~~~~~~~~~~~~
python3 mpi_run.py --arg_file train_humanoid3d_spinkick_args.txt --num_workers 12
~~~~~~~~~~~~~~~~~

Alternatively use for example:
~~~~~~~~~~~~~~~~~~~
mpiexec -n 12 python3 -m pybullet_envs.deep_mimic.DeepMimic_Optimizer --arg_file train_humanoid3d_walk_args.txt
~~~~~~~~~~~~~~~~~~~
or 
~~~~~~~~~~~~~~~~~~~
mpirun -n 4 python3 -m pybullet_envs.deep_mimic.DeepMimic_Optimizer --arg_file train_humanoid3d_walk_args.txt
~~~~~~~~~~~~~~~~~~~",training speed fixed long ago work fine several million per hour dependent command machine hardware python alternatively use example python python,issue,negative,positive,positive,positive,positive,positive
559824365,"By the way, does this work for you?
~~~~~~~~~~~~~~~~~~~~~~~
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt
~~~~~~~~~~~~~~~~~~~~~~~
Attached is a small test that copies the joint positions using getJointStatesMultiDof and copies the joint positions to a test humanoid, it works fine here.
[deep_mimic.zip](https://github.com/bulletphysics/bullet3/files/3905772/deep_mimic.zip)

Use this script to see that the joint positions are copied from the simulated humanoid to test humanoid, so obviously the joint angles cannot be 0.

~~~~~~~~~~~~~~~~~
python3 testrl.py --arg_file run_humanoid3d_backflip_args.txt
~~~~~~~~~~~~~~~~~

![Screenshot from 2019-11-29 07-30-39](https://user-images.githubusercontent.com/725468/69878577-3011bb80-127a-11ea-8ed4-fd637dd300b2.png)
",way work python attached small test joint joint test humanoid work fine use script see joint copied humanoid test humanoid obviously joint python,issue,negative,positive,neutral,neutral,positive,positive
559815914,"If there are large differences in effective mass, constraint maybe not strong enough. We probably need to use a different solving method to fix this. 

Instead of createConstraint, you can combine two (or more) urdf files, using the Python [urdf editor](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/urdfEditor.py).
See an example here, connecting a Kuka arm to a Husky robot:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/examples/combineUrdf.py

~~~~~~~~~~~~~~~~~~
python3 -m pybullet_utils.examples.combineUrdf
~~~~~~~~~~~~~~~~~~

![image](https://user-images.githubusercontent.com/725468/69877019-ea52f400-1275-11ea-9887-6e8c26aa220f.png)

This editor loads two urdf files (in a temporary dynamics world) and create a combined urdf programmatically using createMultiBody. ",large effective mass constraint maybe strong enough probably need use different method fix instead combine two python editor see example arm husky robot python image editor two temporary dynamic world create combined programmatically,issue,positive,positive,positive,positive,positive,positive
559814661,"external/user forces (applied by the user) are not reported by getJointState* functions, this is expected. Since you (the user) applied those forces, you must have access to them anyway, so why ask PyBullet for them?

By the way, does this work for you?
~~~~~~~~~~~~~~~~~~~~~~~
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt
~~~~~~~~~~~~~~~~~~~~~~~

In init, the POSITION_CONTROL is used to disable the default joint motors, by setting their maximum applied force to zero. Note that POSITION_CONTROL/VELOCITY_CONTROL affects the constraints, while STABLE_PD_CONTROL uses a different mechanism. Both can be active at the same time, so it is needed to disable the position/velocity motors.",applied user since user applied must access anyway ask way work python used disable default joint setting maximum applied force zero note different mechanism active time disable,issue,negative,negative,neutral,neutral,negative,negative
559635674,"i'm not fully understand this `For CCD contacts this doesn't happen`.  Can we add similiar procedure as the regular contact constraints?
this was my solution, supposing the infoGlobal.m_splitImpulse is true.
1. caculate the contact velocity and the time consumed this stage(ignore other frictions)
        time consumed = penetration/(-rel_vel)
2. get the velocity according to the combined restitution
        restitution = restitutionCurve(rel_vel, cp.m_combinedRestitution)
3. calculate the distance the  body will move after contacting.
        distance = (infoGlobal.m_timeStep - penetration/(-rel_vel)) * restitution
4. the velocity that need to be compensated because of the position error is.
       - (penetration - (infoGlobal.m_timeStep - penetration/(-rel_vel)) * restitution) * invTimeStep
5. additionally we have to compensate the position error as the integration in this timestep
    so the final position error that need to be compensated is,
     `positionalError = -restitution - (penetration - (infoGlobal.m_timeStep - penetration/(-rel_vel)) * restitution) * invTimeStep`

i also thought to split the timestep into two parts but that seems more complicated.",fully understand happen add procedure regular contact solution supposing true contact velocity time stage ignore time get velocity according combined restitution restitution calculate distance body move distance restitution velocity need position error penetration restitution additionally compensate position error integration final position error need penetration restitution also thought split two complicated,issue,negative,negative,neutral,neutral,negative,negative
559570025,"Compare with various existing URDF files in PyBullet to understand its limitations. A single link can only have 1 material/texture. So you have to break up the link into multiple links (attached with fixed joints) each with their own material. Another approach is to use a texture atlas and different UV coordinates, so it is a single material for the entire robot.",compare various understand single link break link multiple link attached fixed material another approach use texture atlas different single material entire robot,issue,negative,negative,neutral,neutral,negative,negative
559569618,Please provide a small self-contained full working pybullet example (without other dependencies).,please provide small full working example without,issue,negative,positive,neutral,neutral,positive,positive
559569277,"At the moment, restitution is not compatible with the CCD feature. For regular contact constraints, the outgoing velocity gets compensated for restitution during solver setup. For CCD contacts this doesn't happen. We need a different approach for CCD contacts to enable restitution.",moment restitution compatible feature regular contact outgoing velocity restitution solver setup happen need different approach enable restitution,issue,negative,neutral,neutral,neutral,neutral,neutral
559520101,"(next time, create a separate issue or discuss in the PyBullet forums!)

The CoM is provided in the URDF file, under the 'inertial' element, it is not computed.
You can visualize the CoM in wireframe (press 'w'), there is a little coordinate frame.

In the case of [duck_vhacd.urdf](https://github.com/bulletphysics/bullet3/blob/master/data/duck_vhacd.urdf), I used VHACD to create an approximate convex decomposition. Also in this case, you can see the 0.02 offset in the inertial field. That way, the duck tumbles as expected.
~~~~~~~~~~~~~~
 <inertial>
      <origin rpy=""0 0 0"" xyz=""0.0 0.02 0.0""/>
       <mass value="".1""/>
       <inertia ixx=""1"" ixy=""0"" ixz=""0"" iyy=""1"" iyz=""0"" izz=""1""/>
    </inertial>
~~~~~~~~~~~~~~
",next time create separate issue discus provided file element visualize press little frame case used create approximate convex decomposition also case see offset inertial field way duck inertial origin mass inertia,issue,negative,negative,neutral,neutral,negative,negative
559476393,"Hey @erwincoumans , how is the COM calculated for mesh inputs? Can you share the code?

For example, I don't understand why this duck mesh looks like this, when I set the base position [0,0,0] (thereby revealing the COM). 
[test.zip](https://github.com/bulletphysics/bullet3/files/3901634/test.zip)

",hey calculated mesh share code example understand duck mesh like set base position thereby revealing,issue,positive,negative,negative,negative,negative,negative
559327087,"Hi Erwin, I am using Pinocchio version 2.1.9 and PyBullet version 2.5.8, and it still produces the same result with the script I provided above. The model is:
```
pybullet.setAdditionalSearchPath(pybullet_data.getDataPath())
urdf_path = ""kuka_iiwa/model.urdf""
robot_id = sim.loadURDF(urdf_path, basePosition=[0.0, 0.0, 0.0], 
                        useFixedBase=True,
                        flags=pybullet.URDF_USE_INERTIA_FROM_FILE)
```
For the pairs of q, qd, and qdd you asked:
```
q   =  [0. 0. 0. 0. 0. 0. 0.]
qd  =  [0. 0. 0. 0. 0. 0. 0.]
qdd =  [0. 0. 0. 0. 0. 0. 0.]
Pinocchio: Inv. Dyn. Torque =  [-3.37162077e-28  1.34397000e-02 -7.46244027e-14 -1.66770000e-03
 -5.46400717e-14 -6.36679703e-14  0.00000000e+00]
PyBullet:  Inv. Dyn. Torque =  [-3.28166137e-28  1.34397000e-02 -7.46244027e-14 -1.66770000e-03
 -5.46400717e-14 -6.36679703e-14  0.00000000e+00]
```
```
q   =  [ 8.93643421e-06  4.38674697e-05 -2.25652743e-06  1.32185227e-04
  9.51764879e-06  1.44257527e-04 -1.61975556e-05]
qd  =  [ 0.00214474  0.01052819 -0.00054157  0.03172445  0.00228424  0.03462181
 -0.00388741]
qdd =  [ 0.51473861  2.52676626 -0.12997598  7.61386906  0.54821657  8.30923354
 -0.9329792 ]
Pinocchio: Inv. Dyn. Torque =  [-1.27253838e-08  2.65099358e-02 -1.58206684e-05  9.91674563e-01
  3.03057826e-05 -2.34024783e-03 -4.06517081e-11]
PyBullet:  Inv. Dyn. Torque =  [-1.27253838e-08  2.65099358e-02 -1.58206684e-05  9.91674563e-01
  3.03057826e-05 -2.34024783e-03 -4.06517082e-11]
```",hi version version still result script provided model torque torque torque torque,issue,negative,neutral,neutral,neutral,neutral,neutral
559257314,"1) getJointState provides local joint angles and velocities, those don't change when the body base/root moves in world space.

2) the fields of getJointInfo and getLinkState are named and documented in the Quickstart Guide, please use those names. It is not clear what '2nd last outputs' means, please use the actual name.

3) There shouldn't be any contradiction. 
In PyBullet, root frame == base frame == CoM frame of the base.

getBasePositionAndOrientation and resetBasePositionAndOrientation  always refers to the Center of Mass of the base/root:

![image](https://user-images.githubusercontent.com/725468/69760947-c5963980-111a-11ea-8240-90c54066863a.png)


loadURDF takes some position argument which refers to some URDF specific non-CoM frame that is not supported in PyBullet, please ignore it and just use getBasePositionAndOrientation / resetBasePositionAndOrientation   to avoid confusion.",local joint change body world guide please use clear last please use actual contradiction root frame base frame frame base always center mass image position argument specific frame please ignore use avoid confusion,issue,negative,negative,negative,negative,negative,negative
559254794,"I tried running this example recently (without Pinocchio, since the pip install version lacks buildModelFromUrdf ), but I don't get the same results. How did you create the print output exactly? Can you still reproduce this with the latest PyBullet version? Do you have the (modified) URDF that you used? Here is my output (from the start)

~~~~~~~~~~~~~~~~~~~
PyBullet:  link_x[0] =  [0.     0.     0.1575]

PyBullet:  link_x[1] =  [0.         0.         0.36000001]

PyBullet:  link_x[2] =  [3.38813179e-20 0.00000000e+00 5.64500034e-01]

PyBullet:  link_x[3] =  [4.45440194e-14 0.00000000e+00 7.79999971e-01]

PyBullet:  link_x[4] =  [0.         0.         0.96450007]

PyBullet:  link_x[5] =  [1.27224267e-13 0.00000000e+00 1.18000007e+00]

PyBullet:  link_x[6] =  [1.43967019e-13 2.40913886e-12 1.26100004e+00]

q   =  [0. 0. 0. 0. 0. 0. 0.]
qd  =  [0. 0. 0. 0. 0. 0. 0.]
qdd =  [0. 0. 0. 0. 0. 0. 0.]
PyBullet:  Inv. Dyn. Torque =  [-3.28166137e-28  1.34397000e-02 -7.45802160e-14 -1.66770000e-03
 -5.45980475e-14 -5.14638712e-14  0.00000000e+00]

PyBullet:  link_x[0] =  [2.84217094e-14 0.00000000e+00 1.57499999e-01]

PyBullet:  link_x[1] =  [0.         0.         0.35999998]

PyBullet:  link_x[2] =  [8.97089740e-06 0.00000000e+00 5.64500034e-01]

PyBullet:  link_x[3] =  [1.84243381e-05 3.72529030e-09 7.79999971e-01]

PyBullet:  link_x[4] =  [2.12970917e-06 0.00000000e+00 9.64500070e-01]

PyBullet:  link_x[5] =  [-1.69027644e-05 -2.91038305e-11  1.18000007e+00]

PyBullet:  link_x[6] =  [-1.23716436e-05  1.20168472e-10  1.26100004e+00]

q   =  [ 8.93643421e-06  4.38674697e-05 -2.25652743e-06  1.32185227e-04
  9.51764879e-06  1.44257527e-04 -1.61975556e-05]
qd  =  [ 0.00214474  0.01052819 -0.00054157  0.03172445  0.00228424  0.03462181
 -0.00388741]
qdd =  [ 0.51473861  2.52676626 -0.12997598  7.61386906  0.54821657  8.30923354
 -0.9329792 ]
~~~~~~~~~~~~~~~~~~~
",tried running example recently without since pip install version get create print output exactly still reproduce latest version used output start torque,issue,negative,positive,positive,positive,positive,positive
559240208,"Probably best to do in Python for now, using computeWorldSpacePointInLink.

~~~~~~~~~~~~~~~~~
def computeWorldSpacePointInLink(bodyUid, linkIndex, localPointCoordinate):
  linkState = p.getLinkState(bodyUid,linkIndex)
  linkPos=linkState[0]
  linkOrn=linkState[1]
  fromWS, orn = p.multiplyTransforms(linkPos,linkOrn,localPointCoordinate,[0,0,0,1])
  return fromWS
~~~~~~~~~~~~~~~~~

See attached example, using replaceItemUniqueId to avoid flicker of add/remove line.
[debugDrawItems.zip](https://github.com/bulletphysics/bullet3/files/3898670/debugDrawItems.zip)
",probably best python return see attached example avoid flicker line,issue,negative,positive,positive,positive,positive,positive
559230505,"We haven't done much maintenance in LinearMath for the last 10 years. If we switch to a new library in the future, it will likely be Eigen or a differentiable math library.
Please re-open if someone has time to port all of Bullet to GLM, you could create a fork and show convincing benefits?",done much maintenance last switch new library future likely differentiable math library please someone time port bullet could create fork show convincing,issue,positive,positive,positive,positive,positive,positive
559053714,"please don't use this patch which maybe cause some other regression issues. if you only want to test, you also need to change your test app like this `ammoWorld->getSolverInfo().m_splitImpulsePenetrationThreshold=10.0;` 
i change the timestep only want to make the test result more easily readable, this following is the result with the old timestep.
```
bullet position at tick 6 : 0 9 0 velocity 0 -120 0
bullet position at tick 7 : 0 7 0 velocity 0 -120 0
bullet position at tick 8 : 0 5 0 velocity 0 -120 0
bullet position at tick 9 : 0 3 0 velocity 0 -120 0
bullet position at tick 10 : 0 1 0 velocity 0 -120 0
contacts count 1
  distance= 0.9 impulse= 2.4 p1 0 1 0 p2 0 0.1 0
bullet position at tick 11 : 0 1.2 0 velocity 0 120 0
bullet position at tick 12 : 0 3.2 0 velocity 0 120 0
bullet position at tick 13 : 0 5.2 0 velocity 0 120 0
bullet position at tick 14 : 0 7.2 0 velocity 0 120 0
bullet position at tick 15 : 0 9.2 0 velocity 0 120 0
bullet position at tick 16 : 0 11.2 0 velocity 0 120 0
bullet position at tick 17 : 0 13.2 0 velocity 0 120 0
bullet position at tick 18 : 0 15.2 0 velocity 0 120 0
bullet position at tick 19 : 0 17.2 0 velocity 0 120 0
bullet position at tick 20 : 0 19.2 0 velocity 0 120 0
```",please use patch maybe cause regression want test also need change test like change want make test result easily readable following result old bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity count bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity,issue,positive,positive,positive,positive,positive,positive
559043167,"Thanks, I couldn't reproduce your result with the information provided.
I'm not really keen on lowering the timestep that much, but that may still work in my use case as the ""bullet"" speed is actually much lower",thanks could reproduce result information provided really keen lowering much may still work use case bullet speed actually much lower,issue,negative,positive,positive,positive,positive,positive
559008394,"Thank you for the comment, and sorry for my unclear question.
By center of mass jacobian, I meant the center of mass of a whole skeleton, not CoM of each link. Is it possible? Because I wanna control a balance of a biped robot.",thank comment sorry unclear question center mass meant center mass whole skeleton link possible wan na control balance biped robot,issue,negative,negative,negative,negative,negative,negative
558970230,"provide a preliminary scheme for reference.
```diff --git a/src/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.cpp b/src/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.cpp
index e4da468..13bf146 100644
--- a/src/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.cpp
+++ b/src/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.cpp
@@ -944,9 +944,9 @@ void btSequentialImpulseConstraintSolver::setupContactConstraint(btSolverConstra
 
                if (penetration > 0)
                {
-                       positionalError = 0;
+                       positionalError = -restitution - (penetration - (infoGlobal.m_timeStep - penetration/(-rel_vel)) * restitution) * invTimeStep;
 
-                       velocityError -= penetration * invTimeStep;
+                       //velocityError -= penetration * invTimeStep;
                }
                else
                {
@@ -971,6 +971,8 @@ void btSequentialImpulseConstraintSolver::setupContactConstraint(btSolverConstra
                solverConstraint.m_cfm = cfm * solverConstraint.m_jacDiagABInv;
                solverConstraint.m_lowerLimit = 0;
                solverConstraint.m_upperLimit = 1e10f;
+                if (penetration > 0)
+                   solverConstraint.m_lowerLimit = -1e10f; 
        }
 }
diff --git a/src/BulletDynamics/Dynamics/btDiscreteDynamicsWorld.cpp b/src/BulletDynamics/Dynamics/btDiscreteDynamicsWorld.cpp
index a3c9f42..a4be4ec 100644
--- a/src/BulletDynamics/Dynamics/btDiscreteDynamicsWorld.cpp
+++ b/src/BulletDynamics/Dynamics/btDiscreteDynamicsWorld.cpp
@@ -907,7 +907,7 @@ void btDiscreteDynamicsWorld::createPredictiveContactsInternal(btRigidBody** bod
                                                bool isPredictive = true;
                                                int index = manifold->addManifoldPoint(newPoint, isPredictive);
                                                btManifoldPoint& pt = manifold->getContactPoint(index);
-                                               pt.m_combinedRestitution = 0;
+                                               pt.m_combinedRestitution = gCalculateCombinedRestitutionCallback(body, sweepResults.m_hitCollisionObject);
                                                pt.m_combinedFriction = gCalculateCombinedFrictionCallback(body, sweepResults.m_hitCollisionObject);
                                                pt.m_positionWorldOnA = body->getWorldTransform().getOrigin();
                                                pt.m_positionWorldOnB = worldPointB;


```
Here is the output (i change the step size as this ammoWorld->stepSimulation(1 / 240.0, 1, 1/240.0))
bullet position at tick 38 : 0 2 0 velocity 0 -120 0
bullet position at tick 39 : 0 1.5 0 velocity 0 -120 0
bullet position at tick 40 : 0 1 0 velocity 0 -120 0
bullet position at tick 41 : 0 0.5 0 velocity 0 -120 0
contacts count 1
  distance= 0.4 impulse= 2.4 p1 0 0.5 0 p2 0 0.1 0
bullet position at tick 42 : 0 0.2 0 velocity 0 120 0
bullet position at tick 43 : 0 0.7 0 velocity 0 120 0
bullet position at tick 44 : 0 1.2 0 velocity 0 120 0",provide preliminary scheme reference git index void penetration penetration restitution penetration penetration else void penetration git index void bod bool true index index body body output change step size bullet position tick velocity bullet position tick velocity bullet position tick velocity bullet position tick velocity count bullet position tick velocity bullet position tick velocity bullet position tick velocity,issue,negative,positive,positive,positive,positive,positive
558757914,"Make sure to compile / install pybullet using pip or pip3.

deep_mimic reward implementation compares the joint angles locally (there are no global joint angles).

You need to use getJointStateMultiDof or getJointStatesMultiDof, and it works fine (otherwise deep_mimic wouldn't work. Note that the first joint (root) is a fixed joint.
Here is a modified 'getRewards' that prints the joint state of the chest (spherical/quaternion joint):
~~~~~~~~~~~~~~~~~~~~~~~~
 if useArray:
      jointIndices = range(num_joints)
      simJointStates = self._pybullet_client.getJointStatesMultiDof(self._sim_model, jointIndices)
      kinJointStates = self._pybullet_client.getJointStatesMultiDof(self._kin_model, jointIndices)
      print(""simJointStates[1]="",simJointStates[1])
~~~~~~~~~~~~~~~~~~~~~~~~

JOINT_REVOLUTE= 0
JOINT_PRISMATIC,= 1
JOINT_SPHERICAL,= 2
JOINT_FIXED= 4
joint[ 0 ]= (0, b'root', 4, -1, -1, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'root', (0.0, 0.0, 0.0), (0.0, 0.0, 0.0), (0.0, 0.0, 0.0, 1.0), -1)
joint[ 1 ]= (1, b'chest', 2, 7, 6, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'chest', (0.0, 0.0, 0.0), (0.0, 0.166151, 0.0), (0.0, 0.0, 0.0, 1.0), 0)
joint[ 2 ]= (2, b'neck', 2, 11, 9, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'neck', (0.0, 0.0, 0.0), (0.0, 0.10389400000000001, 0.0), (0.0, 0.0, 0.0, 1.0), 1)
joint[ 3 ]= (3, b'right_hip', 2, 15, 12, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'right_hip', (0.0, 0.0, 0.0), (0.0, -0.07, 0.084887), (0.0, 0.0, 0.0, 1.0), 0)
joint[ 4 ]= (4, b'right_knee', 0, 19, 15, 1, 0.0, 0.0, -3.14, 0.0, 1000.0, 0.5, b'right_knee', (0.0, 0.0, 1.0), (0.0, -0.21154599999999998, 0.0), (0.0, 0.0, 0.0, 1.0), 3)
joint[ 5 ]= (5, b'right_ankle', 2, 20, 16, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'right_ankle', (0.0, 0.0, 0.0), (0.0, -0.20987, 0.0), (0.0, 0.0, 0.0, 1.0), 4)
joint[ 6 ]= (6, b'right_shoulder', 2, 24, 19, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'right_shoulder', (0.0, 0.0, 0.0), (-0.02405, 0.1235, 0.18311), (0.0, 0.0, 0.0, 1.0), 1)
joint[ 7 ]= (7, b'right_elbow', 0, 28, 22, 1, 0.0, 0.0, 0.0, 3.14, 1000.0, 0.5, b'right_elbow', (0.0, 0.0, 1.0), (0.0, -0.13478799999999996, 0.0), (0.0, 0.0, 0.0, 1.0), 6)
joint[ 8 ]= (8, b'right_wrist', 4, -1, -1, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'right_wrist', (0.0, 0.0, 0.0), (0.0, -0.138947, 0.0), (0.0, 0.0, 0.0, 1.0), 7)
joint[ 9 ]= (9, b'left_hip', 2, 29, 23, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'left_hip', (0.0, 0.0, 0.0), (0.0, -0.07, -0.084887), (0.0, 0.0, 0.0, 1.0), 0)
joint[ 10 ]= (10, b'left_knee', 0, 33, 26, 1, 0.0, 0.0, -3.14, 0.0, 1000.0, 0.5, b'left_knee', (0.0, 0.0, 1.0), (0.0, -0.21154599999999998, 0.0), (0.0, 0.0, 0.0, 1.0), 9)
joint[ 11 ]= (11, b'left_ankle', 2, 34, 27, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'left_ankle', (0.0, 0.0, 0.0), (0.0, -0.20987, 0.0), (0.0, 0.0, 0.0, 1.0), 10)
joint[ 12 ]= (12, b'left_shoulder', 2, 38, 30, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'left_shoulder', (0.0, 0.0, 0.0), (-0.02405, 0.1235, -0.18311), (0.0, 0.0, 0.0, 1.0), 1)
joint[ 13 ]= (13, b'left_elbow', 0, 42, 33, 1, 0.0, 0.0, 0.0, 3.14, 1000.0, 0.5, b'left_elbow', (0.0, 0.0, 1.0), (0.0, -0.13478799999999996, 0.0), (0.0, 0.0, 0.0, 1.0), 12)
joint[ 14 ]= (14, b'left_wrist', 4, -1, -1, 0, 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, b'left_wrist', (0.0, 0.0, 0.0), (0.0, -0.138947, 0.0), (0.0, 0.0, 0.0, 1.0), 13)



simJointStates[1]= ((-0.034297708137176565, -0.04078578694456897, 0.02713618025347174, 0.9982103057578101), (-0.1880435685519818, 0.08201809584065678, 0.3598909575762741), (0.0, 0.0, 0.0, 0.0, 0.0, 0.0), (0.0, 0.0, 0.0))
simJointStates[1]= ((-0.03471294384423769, -0.040624979004376414, 0.027810657045443606, 0.9981839459564863), (-0.18409147425074057, 0.07083837927788783, 0.3342893394427152), (0.0, 0.0, 0.0, 0.0, 0.0, 0.0), (0.0, 0.0, 0.0))
simJointStates[1]= ((-0.035116002640777175, -0.0404823549995917, 0.02843989445964863, 0.998157912203948), (-0.17937664331321457, 0.06272353477855708, 0.31206908055257054), (0.0, 0.0, 0.0, 0.0, 0.0, 0.0), (0.0, 0.0, 0.0))
simJointStates[1]= ((-0.035116002640777175, -0.0404823549995917, 0.02843989445964863, 0.998157912203948), (-0.17937664331321457, 0.06272353477855708, 0.31206908055257054), (0.0, 0.0, 0.0, 0.0, 0.0, 0.0), (0.0, 0.0, 0.0))
simJointStates[1]= ((-0.03559296074218341, -0.04037932441809405, 0.029515327750602813, 0.9981139698115231), (-0.20695508789204375, 0.03689358540597154, 0.526861742524436), (0.0, 0.0, 0.0, 0.0, 0.0, 0.0), (0.0, 0.0, 0.0))
simJointStates[1]= ((-0.03606780499070938, -0.04018933176847846, 0.03051882776438898, 0.9980744121592553), (-0.20602962951983195, 0.07984065058110823, 0.4937814951292868), (0.0, 0.0, 0.0, 0.0, 0.0, 0.0), (0.0, 0.0, 0.0))
simJointStates[1]= ((-0.036555347803998064, -0.040027195680062244, 0.03144027813829986, 0.9980345881098035), (-0.21410869322366732, 0.06809661518739629, 0.45424008579775843), (0.0, 0.0, 0.0, 0.0, 0.0, 0.0), (0.0, 0.0, 0.0))
simJointStates[1]= ((-0.03704572187978492, -0.03990361622608748, 0.03228275178161467, 0.997994559023191), (-0.21756787642025555, 0.05105035910110356, 0.4157866991261814), (0.0, 0.0, 0.0, 0.0, 0.0, 0.0), (0.0, 0.0, 0.0))

",make sure compile install pip pip reward implementation joint locally global joint need use work fine otherwise would work note first joint root fixed joint joint state chest joint range print joint joint joint joint joint joint joint joint joint joint joint joint joint joint joint,issue,positive,positive,positive,positive,positive,positive
558696974,"The EGL instances cannot be in the same process. Try multiprocessing instead.
Here is an example, but I haven't tried using EGL with this yet:
https://github.com/erwincoumans/pybullet_robots/blob/master/batchsim3.py",process try instead example tried yet,issue,negative,neutral,neutral,neutral,neutral,neutral
557891820,"This function relies on ffmpeg installed and working properly. See the settings here:
https://github.com/bulletphysics/bullet3/blob/master/examples/OpenGLWindow/SimpleOpenGL3App.cpp#L1093

Instead of this, you can use getCameraImage and create a video in Python (OpenAI Gym does this), or write images to disk and create a video manually.",function working properly see instead use create video python gym write disk create video manually,issue,negative,neutral,neutral,neutral,neutral,neutral
556557867,"Thanks for reporting / trying to reproduce it! That often takes time indeed, not very thankful work (been there, done that). Hopefully it was fixed in one of our commits.",thanks trying reproduce often time indeed thankful work done hopefully fixed one,issue,positive,positive,positive,positive,positive,positive
556184991,"I spent a day trying to reproduce the crash in a 100% C++ testcase, but I didn't succeed. Bullet's soft-body code has moved on, and so have I, so I'm closing this issue.",spent day trying reproduce crash succeed bullet code issue,issue,negative,negative,neutral,neutral,negative,negative
555380717,"thanks for your sharing. this is my understanding.

it is engine's procedure when it detects the collision point by the CCD.
1. create a contact point
2. solve this contact constraint
       1> decrease the the body's velocity to make sure the body can't pass through the other bodies in the next timestep.
            this can explain why we see this log.
                contacts count 1
                      distance= 0.9 impulse= 0.66 p1 0 1 0 p2 0 0.1 0
                bullet position at tick 11 : 0 1 0 velocity 0 -54 0
3. normal contact detecting then the bounced velocity will be 54 that only change the direction because of the m_restitution value of 1.

so the final velocity depends on the distance when the first detect the collision.

i will check if there is any other method to make it more better. thanks.
",thanks understanding engine procedure collision point create contact point solve contact constraint decrease body velocity make sure body ca pas next explain see log count bullet position tick velocity normal contact velocity change direction value final velocity distance first detect collision check method make better thanks,issue,positive,positive,positive,positive,positive,positive
554882417,"i think this time i find the root cause, as the collision tree is different that will cause the sequence of the collision points is different as well.  it can be fixed by sorting the overlapping pairs before narrow collision detect. this is my patch.  but it will decrease the performance.

diff --git a/src/BulletCollision/BroadphaseCollision/btOverlappingPairCache.cpp b/src/BulletCollision/BroadphaseCollision/btOverlappingPairCache.cpp
index 8ce1087..997af79 100644
--- a/src/BulletCollision/BroadphaseCollision/btOverlappingPairCache.cpp
+++ b/src/BulletCollision/BroadphaseCollision/btOverlappingPairCache.cpp
@@ -335,6 +335,7 @@ void btHashedOverlappingPairCache::processAllOverlappingPairs(btOverlapCallback*
        int i;
 
        //      printf(""m_overlappingPairArray.size()=%d\n"",m_overlappingPairArray.size());
+        sortOverlappingPairs(dispatcher);
        for (i = 0; i < m_overlappingPairArray.size();)
        {
                btBroadphasePair* pair = &m_overlappingPairArray[i];
",think time find root cause collision tree different cause sequence collision different well fixed narrow collision detect patch decrease performance git index ce void dispatcher pair,issue,negative,negative,neutral,neutral,negative,negative
554814188,these days i was trying to fix this issue and also find i made a mistake before. so far i find the collision tree is not same between them. ,day trying fix issue also find made mistake far find collision tree,issue,negative,positive,neutral,neutral,positive,positive
554799269,"Add zip file to avoid broken link rot.
[urdfs.zip](https://github.com/bulletphysics/bullet3/files/3856251/urdfs.zip)
",add zip file avoid broken link rot,issue,negative,negative,negative,negative,negative,negative
554799196,"@Steven89Liu no, there is a unit test for saveState/restoreState that includes contacts and it is handled ok. restoreState restores the contact points including cached information.",unit test handled contact information,issue,negative,neutral,neutral,neutral,neutral,neutral
554797413,Did another pass on updating the quickstart guide. Note that some of those APIs are experimental/obscure and not well documented.,another pas guide note well,issue,negative,neutral,neutral,neutral,neutral,neutral
554780466,"Yes, you can use pybullet.calculateInverseKinematics2 and pass a list of endeffector indices and list of target positions. See also the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#).",yes use pas list index list target see also guide,issue,negative,neutral,neutral,neutral,neutral,neutral
554684322,"Some questions:
- Does anyone use `INTERNAL_CREATE_DISTRIBUTABLE_MSVC_PROJECTFILES`? CMake does not create distributable project files because it depends on the actual toolchain (visual studio version etc). (I would remove it)
- I propose adding a namespace prefix to `INSTALL_LIBS` (`BULLET_INSTALL_LIBS`) because consumers who use bullet3 might want to install their own libs.
- I uppercased every cmake function. This feels a bit like screaming. Wouldn't it make more sense to use downcase? The cmake documentation uses this.",anyone use create distributable project actual visual studio version would remove propose prefix use bullet might want install every function bit like screaming would make sense use documentation,issue,negative,neutral,neutral,neutral,neutral,neutral
554681870,"@erwincoumans I greatly simplified the pr and limited myself to:
- adding static/shared support for MSVC on Windows
- adding support for exporting targets (for consumers of bullet)
- getting pybullet to build on appveyor",greatly simplified limited support support bullet getting build,issue,positive,positive,positive,positive,positive,positive
554680763,"a 'ray' sensor could have a real world equivalent in a laser range finder*

On Sat, Nov 16, 2019 at 12:50 PM erwincoumans <notifications@github.com>
wrote:

> Closed #2488 <https://github.com/bulletphysics/bullet3/issues/2488>.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/2488?email_source=notifications&email_token=ABW3SWJLFWSKXSVHLXPIT73QUBMJ3A5CNFSM4JOC2UHKYY3PNVWWK3TUL52HS4DFWZEXG43VMVCXMZLOORHG65DJMZUWGYLUNFXW5KTDN5WW2ZLOORPWSZGOU4YOPMA#event-2805000112>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABW3SWKVDYZJDXOP47KKJ4DQUBMJ3ANCNFSM4JOC2UHA>
> .
>
",sensor could real world equivalent laser range finder sat wrote closed thread reply directly view,issue,negative,positive,neutral,neutral,positive,positive
554673124,"There are various ways to get this information, for example
1) get all contact points that involve each foot (pybullet.getContactPoints(footId, ...). For each contact point, get the contact force and add them together. The contact force is field [9] of each contact point, according to the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.cb0co8y2vuvc).

another method is

2) make sure to have a fixed link/joint close to the foot, and enable the force torque sensor at the fixed link/joint (use pybullet.enableJointForceTorqueSensor). After stepSimulation you get access the joint reaction forces/torques from getJointState (field 2 according to the quickstart guide).",various way get information example get contact involve foot contact point get contact force add together contact force field contact point according guide another method make sure fixed close foot enable force torque sensor fixed use get access joint reaction field according guide,issue,negative,positive,positive,positive,positive,positive
554661867,This is not possible. You can create a small program compile/link and use the btIsDoublePrecision API.,possible create small program use,issue,negative,negative,negative,negative,negative,negative
554661776,"No idea, a joint angle just refers to a local quantity.",idea joint angle local quantity,issue,negative,neutral,neutral,neutral,neutral,neutral
554661684,"I have not, but building Bullet is trivial. Just include the Bullet/src folder in the include directories, and add all files of Bullet/src/BulletCollision, Bullet/src/BulletDynamics and Bullet/src/LinearMath and you are done.",building bullet trivial include folder include add done,issue,negative,neutral,neutral,neutral,neutral,neutral
554661285,Without a very small PyBullet reproduction case we cannot do anything. Best to discuss in the Bullet forums or in StackOverflow.,without small reproduction case anything best discus bullet,issue,positive,positive,positive,positive,positive,positive
554610167,"Thanks! You may want to enable 'realtime' simulation:
~~~~~~~~~~~~~~~~
p.setRealTimeSimulation(1)

while p.isConnected():
  p.setGravity(0,0,-10)
  sleep(1./240.)
~~~~~~~~~~~~~~~~
also, the wireframe mode ('w' key) has issues, likely due to my previous commits. I will look into it.",thanks may want enable simulation sleep also mode key likely due previous look,issue,negative,negative,neutral,neutral,negative,negative
554162332,"Thanks for the report, fix will be applied soon and in pypi/pip.",thanks report fix applied soon,issue,negative,positive,positive,positive,positive,positive
553999117,"It is likely that there are many places in the code that uses `i` in the way that [line 665](https://github.com/bulletphysics/bullet3/blob/master/src/LinearMath/btQuickprof.cpp#L665) does.
 
How would one motivate fixing all of them? Is it worth the effort?",likely many code way line would one motivate fixing worth effort,issue,positive,positive,positive,positive,positive,positive
553872567,"In the presence of contact force from a floor, calculateInverseDynamics() function with zero acceleration will return:

N(q,qdot) - '\lamda' = p.calculateInverseDynamics(objUid, q, qdot, zeroAcc).

meaning, the returned value includes centripetal, Coriolis, gravity and force from a floor.  Am I right?",presence contact force floor function zero acceleration return meaning returned value centripetal gravity force floor right,issue,negative,positive,positive,positive,positive,positive
553692785,"There is some lag between adding functions in pybullet.c and in adding them to the quickstart guide.
So the ultimate source is the source of [pybullet.c](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c).

See also this topic:
https://github.com/bulletphysics/bullet3/issues/2453",lag guide ultimate source source see also topic,issue,negative,neutral,neutral,neutral,neutral,neutral
553692470,"A real motor is typically powered by a battery or by a fuel source, so it doesn't increase system energy.
In Bullet we don't model the battery or fuel, so indeed a motor can increase system energy.",real motor typically powered battery fuel source increase system energy bullet model battery fuel indeed motor increase system energy,issue,positive,positive,neutral,neutral,positive,positive
553681985,Yeah I'll add the faces for the demos in ExampleBrowser. We can discuss conditional creation tomorrow. ,yeah add demo discus conditional creation tomorrow,issue,positive,neutral,neutral,neutral,neutral,neutral
553669981,"Thanks! It would be good to consider the conditional creation of a btDeformable*World instead of using the #ifdef SKIP_DEFORMABLE_WORLD. Let's discuss it soon.
Also, the ExampleBrowser demos don't show boundary faces for the tetrahedral meshes, can we add those too?
",thanks would good consider conditional creation world instead let discus soon also demo show boundary tetrahedral add,issue,positive,positive,positive,positive,positive,positive
553613879,"I've been thinking.
This pr is trying to solve two problems (poorly):
- the bullet3 library is unable to compile and link as a dynamic library on Windows; and
- the examples are very interdependent.

Therefore I propose the following:
- fix the bullet3 linking in this pr (allow static and dynamic libraries; and
- always compile the examples as static libraries.",thinking trying solve two poorly bullet library unable compile link dynamic library interdependent therefore propose following fix bullet linking allow static dynamic always compile static,issue,positive,positive,neutral,neutral,positive,positive
553426829,"Time to tag a new release, soon!",time tag new release soon,issue,negative,positive,positive,positive,positive,positive
553418321,"@spencerkohan Just to add here, since I noticed you mentioned Homebrew, I've applied commit https://github.com/bulletphysics/bullet3/commit/7638b7c5a659dceb4e580ae87d4d60b00847ef94 onto the 2.88 source base and an update is now available on Homebrew. If you install the latest from Homebrew it should work now.",add since applied commit onto source base update available install latest work,issue,negative,positive,neutral,neutral,positive,positive
553417084,"For the record, here's my try on master:

```
$ brew install --HEAD bullet
==> Cloning https://github.com/bulletphysics/bullet3.git
Cloning into '/Users/bo/Library/Caches/Homebrew/bullet--git'...
Checking out files: 100% (6991/6991), done.
==> Checking out branch master
Already on 'master'
Your branch is up to date with 'origin/master'.
==> cmake .. [long list of options]
==> make install
==> make clean
==> cmake .. [another long list of options]
==> make install
🍺  /usr/local/Cellar/bullet/HEAD-b25d806_1: 609 files, 16.6MB, built in 1 minute 56 seconds

$ brew test bullet
Testing bullet
==> /usr/bin/clang test.cpp -I/usr/local/Cellar/bullet/HEAD-b25d806_1/include/bullet -L/usr/local/Cellar/bullet/HEAD-b25d806_1/lib -lLinearMath -lc++ -o test
==> ./test
```",record try master brew install head bullet git done branch master already branch date long list make install make clean another long list make install built minute brew test bullet testing bullet test,issue,negative,positive,neutral,neutral,positive,positive
553414421,"I've not tried master, so feel free, though I don't see anything that would have broken it again.

I took the 2.88 source, applied https://github.com/bulletphysics/bullet3/commit/7638b7c5a659dceb4e580ae87d4d60b00847ef94.patch?full_index=1 and all build bots (High Sierra, Mojave, Catalina) now report success when Mojave and Catalina failed prior.",tried master feel free though see anything would broken took source applied build high sierra catalina report success catalina prior,issue,positive,positive,neutral,neutral,positive,positive
553413464,I had to fix master to get the build to go through on Catalina.  I can check again if you want?,fix master get build go catalina check want,issue,negative,neutral,neutral,neutral,neutral,neutral
553413107,"For those using Homebrew, I backported the patch onto 2.88. As of yesterday, Bullet installs in Homebrew should have the fix.",patch onto yesterday bullet fix,issue,negative,neutral,neutral,neutral,neutral,neutral
553411839,There hasn't been a release since 2.88 in December of last year. The reporter of #2418 says they are using 2.88.,release since last year reporter,issue,negative,neutral,neutral,neutral,neutral,neutral
553411175,"> Is this not already fixed in #2232?

This merge was 8 May - I got the error a few days ago.  So I think it was not already fixed.",already fixed merge may got error day ago think already fixed,issue,negative,positive,neutral,neutral,positive,positive
552904188,Both the Bullet library and the client program need to gave the BT_USE_DOUBLE_PRECISION preprocessor define set. cmake will do this for the library. Your test program needs the flag to (-D BT_USE_DOUBLE_PRECISION) . Your workaround is fine too.,bullet library client program need gave define set library test program need flag fine,issue,negative,positive,positive,positive,positive,positive
552241724,"I suggest to reopen this issue as the wiki is still not up
Any plans to relocate it online?

@sapiensl thanks for wayback machine idea, thanks",suggest reopen issue still relocate thanks wayback machine idea thanks,issue,positive,positive,positive,positive,positive,positive
552160654,"> I'm having exactly this issue. I can build the examples within the main bullet directory, but I cannot build any stand-alone files using the bullet library. Is there a preferred way for building stand-alone programs that I'm missing (I'm using cmake)?

My apologies; the issue was a conflicting installation of bullet (from apt-get, as a ROS dependency). Modifying my `CMakeLists.txt` to explicitly include and link the directory for the `vcpkg` installation of bullet solved the issue for me.",exactly issue build within main bullet directory build bullet library preferred way building missing issue conflicting installation bullet dependency explicitly include link directory installation bullet issue,issue,negative,positive,neutral,neutral,positive,positive
552157792,"I'm having exactly this issue. I can build the examples within the main bullet directory, but I cannot build any stand-alone files using the bullet library. Is there a preferred way for building stand-alone programs that I'm missing (I'm using cmake)?",exactly issue build within main bullet directory build bullet library preferred way building missing,issue,negative,positive,neutral,neutral,positive,positive
552135993,@scpeters Could you please give some feedback on those changes?,could please give feedback,issue,negative,neutral,neutral,neutral,neutral,neutral
552015668,"Thanks for the feedback.

The URDF file doesn't have a valid color and the 2 different renderers deal in different ways with the undefined behavior. You can fix the URDF (like this CL: https://github.com/bulletphysics/bullet3/pull/2477)
or manually iterate over all links and reset the color to a known value (instead of undefined).
~~~~~~~~~~~
pybullet.changeVisualShape(objectUid, linkIndex, rgbaColor=[1,1,1,1])
~~~~~~~~~~~

One renderer is based on [TinyRenderer](https://github.com/ssloy/tinyrenderer) (with various improvements, such as near plane clipping and shadows etc). The other renderer is based on OpenGL 3.x with some shaders. The code paths are not fully shared, hence some small differences. For example, the shadow map implementation is also different between both renderers.",thanks feedback file valid color different deal different way undefined behavior fix like manually iterate link reset color known value instead undefined one renderer based various near plane clipping renderer based code fully hence small example shadow map implementation also different,issue,positive,positive,neutral,neutral,positive,positive
552010727,Changed the title of the issue so that people can more easily look it up. It would be great if the starter guide could mention that turning on TORQUE_CONTROL will not turn off the default velocity control.,title issue people easily look would great starter guide could mention turning turn default velocity control,issue,positive,positive,positive,positive,positive,positive
551433254,Thanks @erwincoumans for the quick reaction and fix. It now works even without the gc.collect(). You are awesome!,thanks quick reaction fix work even without awesome,issue,negative,positive,positive,positive,positive,positive
551401620,"No, they are the same commit and only one is need it. I'll close the other PR.",commit one need close,issue,negative,neutral,neutral,neutral,neutral,neutral
551353477,"Yeah, Thanks for the useful links!",yeah thanks useful link,issue,positive,positive,positive,positive,positive,positive
551352015,"fovx = fovy * aspect is wrong indeed.
the correct version is: fieldOfViewX = 2 * atan(tan(fieldOfViewY * 0.5) * aspect)
See details here: https://stackoverflow.com/questions/5504635/computing-fovx-opengl
it has a very nice visualization:
http://twgljs.org/examples/fov-checker.html
",aspect wrong indeed correct version tan aspect see nice visualization,issue,negative,positive,neutral,neutral,positive,positive
551346425,"I checked those links, and I found the mistake on my side.
I was thinking `fovx = aspect * fovy` (misunderstood) but the correct equation is `tan(fovx) = aspect * tan(fovy)`, which was something obvious (because fov is angle and aspect is scale for meter or pixel).

Really sorry disturbing you with this totally wrong PR, and thank you for correcting me!",checked link found mistake side thinking aspect misunderstood correct equation tan aspect tan something obvious angle aspect scale meter really sorry disturbing totally wrong thank correcting,issue,negative,negative,negative,negative,negative,negative
551335794,"You repeat that aspect has to be inside the 'tan' function but don't give any explanation or link/doc why it has to be inside. Please check the derivation in previous [links](http://ogldev.atspace.co.uk/www/tutorial12/tutorial12.html) and also OpenCV, they clearly explain why aspect is outside of tan.

See here:
![image](https://user-images.githubusercontent.com/725468/68440475-0df7b280-0180-11ea-9484-9236d9fb7093.png)
",repeat aspect inside function give explanation inside please check derivation previous link also clearly explain aspect outside tan see image,issue,positive,negative,neutral,neutral,negative,negative
551333103,"I will add some visualizations once I get time to do that.
But basically, this issue is caused by missing basic math principle: `tan` is not linear function, so `tan(x * y) != tan(x) * y`
(every high school student knows 🤣)

Without my modification, `yScale` is correct, but `xScale` is always wrong (except for special cases e.g.,`aspect = 1`),
because `aspect` should be applied inside of the `tan(.)` so we can't do `xScale = yScale / aspect`.
This wrong rendering makes the point cloud always shift in x-axis in camera frame using the intrinsic matrix, which should be (is supposed to be) correct (but it's not because the actual intrinsic matrix (specifically fx) that the renderer using is different from the expected one ).

> We don't change this existing API.

That makes sense. Probably many people are already using the wrong pairs of rendered rgb, mask, depth and intrinsic matrix on their dataset anyways, so changing the API can mess up everything (hopefully they are using different API e.g. b3ComputeProjectionMatrix, which may be correct).",add get time basically issue missing basic math principle tan linear function tan tan every high school student without modification correct always wrong except special aspect aspect applied inside tan ca aspect wrong rendering point cloud always shift camera frame intrinsic matrix supposed correct actual intrinsic matrix specifically renderer different one change sense probably many people already wrong mask depth intrinsic matrix anyways mess everything hopefully different may correct,issue,negative,negative,neutral,neutral,negative,negative
551306515,"Thanks for bringing up a potential issue.
We are using the OpenGL formulation described here:
https://gamedev.stackexchange.com/questions/120338/what-does-a-perspective-projection-matrix-look-like-in-opengl

Here is a more detailed derivation:
http://ogldev.atspace.co.uk/www/tutorial12/tutorial12.html

OpenCV uses something similar to PyBullet:
https://github.com/opencv/opencv/blob/422b967e9ae802cc0b4aefcabe78a9568a71754b/modules/viz/src/types.cpp#L216

We don't change this existing API.
If you can provide convincing documentation/paper/explanation why the aspect ratio has to be treated differently, I consider adding a second API b3ComputeProjectionMatrixFOV2.",thanks potential issue formulation detailed derivation something similar change provide convincing aspect ratio differently consider second,issue,positive,positive,positive,positive,positive,positive
551300489,"Thanks for the fixes. There are two PR that seem to contain the erp changes, do we need both?
(see also https://github.com/bulletphysics/bullet3/pull/2474)",thanks two seem contain need see also,issue,negative,positive,positive,positive,positive,positive
551298982,"This could have been fixed in a recent update.
https://github.com/bulletphysics/bullet3/pull/2472
Can you update to latest revision (at least PyBullet version 2.5.7 or newer)?",could fixed recent update update latest revision least version,issue,negative,positive,neutral,neutral,positive,positive
551298606,"The forward kinematics are simply a multiplication of matrices. Those matrices are not exposed at the moment.
With ""kinematic equation"", do you mean exposing those matrices?",forward kinematics simply multiplication matrix matrix exposed moment kinematic equation mean matrix,issue,negative,negative,negative,negative,negative,negative
551298279,"VELOCITY_CONTROL and POSITION_CONTROL happen through a (persistent) constraint that is satisfied each stepSimulation. By default PyBullet uses VELOCITY_CONTROL with non-zero force to emulate some sort of joint friction. You need to set the VELOCITY_CONTROL or POSITION_CONTROL with zero force to disable it.
TORQUE_CONTROL is just adding a bit of torque, once. It has no influence on the VELOCITY_CONTROL or POSITION_CONTROL constraint.
",happen persistent constraint satisfied default force emulate sort joint friction need set zero force disable bit torque influence constraint,issue,negative,positive,positive,positive,positive,positive
551213170,"Thanks for the report and repro case!
Indeed, you found a bug in BulletClient (pybullet_utils.bullet_client) that may cause multiple disconnections.
Fixed here: https://github.com/bulletphysics/bullet3/pull/2472
This is fixed in pip pybullet version 2.5.7 (use pip3 install pybullet==2.5.7)",thanks report case indeed found bug may cause multiple fixed fixed pip version use pip install,issue,negative,positive,neutral,neutral,positive,positive
550529062,"Good point, that is embarrassing (I'm obviously not a native English speaker).",good point embarrassing obviously native speaker,issue,negative,positive,positive,positive,positive,positive
549877391,"@phcerdan unfortunately not; I had to get my project using Bullet finished quickly, so I didn't spend much time after this issue looking into the `Bullet3` options. I just used the structures from the old C++ documentation.

I too would still be interested in clarifying this for using Bullet moving forward.",unfortunately get project bullet finished quickly spend much time issue looking bullet used old documentation would still interested bullet moving forward,issue,negative,positive,neutral,neutral,positive,positive
549794736,"Hey @maximecb,
I stumbled on this issue as well and found a workaround. Maybe it comes a little bit late, but maybe it can help others:


```
from pybullet_envs.bullet.kukaGymEnv import KukaGymEnv
from itertools import count

env = KukaGymEnv(renders=True, isDiscrete=False)
env.reset()

for t in count():
    action = env.action_space.sample()
    next_obs, reward, done, _ = env.step(action)

    if done == True:
        break

    obs = next_obs
```

",hey issue well found maybe come little bit late maybe help import import count count action reward done action done true break,issue,positive,positive,neutral,neutral,positive,positive
549751336,I would like to clarify this too. @wbthomason did you figure it out?,would like clarify figure,issue,negative,neutral,neutral,neutral,neutral,neutral
549677981,"this is my understanding, the TORQUE_CONTROL is used to add a torque for some joint while the VELOCITY_CONTROL is used to set the parameters for some joint motor constraint, they should can work together. calling the VELOCITY_CONTROL to disable the default constraint is most likely a workaround, i believe calling the POSITION_CONTROL should also can get the same result.  for more details you can refer to the PhysicsServerCommandProcessor::processSendDesiredStateCommand().",understanding used add torque joint used set joint motor constraint work together calling disable default constraint likely believe calling also get result refer,issue,negative,neutral,neutral,neutral,neutral,neutral
549458776,"Hi Steven, thanks for the quick reply! And yes, disabling VELOCITY_CONTROL works. This is interesting - why would VELOCITY_CONTROL still be in effect even when I have set Torque Control for the same joint?

Citing Starter Guide here - ""Important note: most joints (slider, revolute, continuous) have motors enabled by default that prevent free motion. This is similar to a robot joint with a very high-friction harmonic drive. You should set the joint motor control mode and target settings using pybullet.setJointMotorControl2.""",hi steven thanks quick reply yes work interesting would still effect even set torque control joint starter guide important note slider revolute continuous default prevent free motion similar robot joint harmonic drive set joint motor control mode target,issue,positive,positive,positive,positive,positive,positive
549265788,"i think it should be caused by the default motor constraint, we can disable this motor constraint with this **p.setJointMotorControl2(robot,0,p.VELOCITY_CONTROL,force=0.000)**.",think default motor constraint disable motor constraint robot,issue,negative,neutral,neutral,neutral,neutral,neutral
548211931,CI Job failed due to maximum time limit.,job due maximum time limit,issue,negative,negative,negative,negative,negative,negative
548029042,"Thanks for the effort, but this CL is not going to be accepted.
API changes are not acceptable
~~~~~~~~~~~~~~~
btCollisionWorld::btCollisionWorld(btDispatcher* dispatcher, btBroadphaseInterface* pairCache, btCollisionConfiguration* collisionConfiguration)
~~~~~~~~~~~~~~~
Also, sprinkling 'const' before local variables are not acceptable, unless you provide a performance test that shows considerable speedup.

So for now, I'm closing this.",thanks effort going accepted acceptable dispatcher also sprinkling local acceptable unless provide performance test considerable,issue,positive,positive,positive,positive,positive,positive
548024391,"OK, let's merge it. I will follow up with an updated serialization/version CL that needs to be applied as well.",let merge follow need applied well,issue,negative,neutral,neutral,neutral,neutral,neutral
547732477,"Thanks for the CL! I will merge it soon, together with updating the serialization structures (those are modified by this CL).",thanks merge soon together serialization,issue,negative,positive,positive,positive,positive,positive
547732331,"Well spotted, thanks for the fix. Since over a year we have been using and developing envs_v2 for various research quadruped locomotion projects. I'm planning to open source this later this year.",well spotted thanks fix since year various research quadruped locomotion open source later year,issue,positive,positive,neutral,neutral,positive,positive
547370147,"Indeed, doc is missing some api's, please mention them here.
PyBullet link index can be different from their order in the urdf file without that flag:

urdf: parentlink0, link1, link2
pybullet: parentlink0, link2, link1 (without that flag)",indeed doc missing please mention link index different order file without flag link link link link without flag,issue,negative,negative,neutral,neutral,negative,negative
546677728,"@spencerkohan I can suggest a  work-around until the problem is investigated further.

Add this snippet to `bullet/src/LinearMath/btVector3.h`.
Just below `#define BT_VECTOR3_H` 
```cpp
#ifdef __clang__
#pragma clang diagnostic ignored ""-Wargument-outside-range""
#endif
```",suggest problem add snippet define clang diagnostic,issue,negative,neutral,neutral,neutral,neutral,neutral
545876269,"it is caused by the cached contact points which will make the sequence of the contact point is different between the first time and after restoreState(). it can be fixed if always remove all the contact points by removeContactPoint() in the btPersistentManifold::refreshContactPoints(), but i think it's better to remove these cached points in the suitable place when processRestoreStateCommand() is called.",contact make sequence contact point different first time fixed always remove contact think better remove suitable place,issue,negative,positive,positive,positive,positive,positive
545741256,"Right, it was because I rebased on top of new bullet master. I created a new PR to make it clean https://github.com/bulletphysics/bullet3/pull/2448",right top new bullet master new make clean,issue,positive,positive,positive,positive,positive,positive
545715279,Thanks for the help. This CL has 44 files changed and commits by xhan0619 are also included. Would it be possible to create a simpler CL that only includes your changes (or did you really touch 44 files?),thanks help also included would possible create simpler really touch,issue,positive,positive,positive,positive,positive,positive
544801276,"The repo on my machine was indeed old, sorry for this. Installing the latest PyBullet did solve the issue. Thank you very much!",machine indeed old sorry latest solve issue thank much,issue,negative,positive,neutral,neutral,positive,positive
544799899, resetJointState and resetBase is surely never going to be deterministic. The best (but slow) way is using resetSimulation and loadURDF again. Using saveState/restoreState can be more tricky.,surely never going deterministic best slow way tricky,issue,negative,positive,positive,positive,positive,positive
544799331,">> pybullet build time: Sep 23 2019 17:07:23

That date is over a month ago. Can you get a fresh clone and try again?
~~~~~~~~~~~~~~~~~~~~~~
git clone  https://github.com/bulletphysics/bullet3
python setup.py install --user
~~~~~~~~~~~~~~~~~~~~~~

",build time date month ago get fresh clone try git clone python install user,issue,negative,positive,positive,positive,positive,positive
544789915,"Yes, I just uninstalled pybullet and built it again. Here is the output. Also, when I ran testrender_egl.py, the camera view doesn't change.

```bash
pybullet build time: Sep 23 2019 17:07:23
Loaded EGL 1.4 after reload.
GL_VENDOR=NVIDIA Corporation
GL_RENDERER=GeForce GTX 1060/PCIe/SSE2
GL_VERSION=4.6.0 NVIDIA 396.37
GL_SHADING_LANGUAGE_VERSION=4.60 NVIDIA
Version = 4.6.0 NVIDIA 396.37
Vendor = NVIDIA Corporation
Renderer = GeForce GTX 1060/PCIe/SSE2
ven = NVIDIA Corporation
```",yes uninstalled built output also ran camera view change bash build time loaded reload corporation version vendor corporation renderer corporation,issue,negative,neutral,neutral,neutral,neutral,neutral
544786576,Thanks. Actually I was not using save/loadState at first - I first saw this problem while I was using resetJointState and resetBase. I then tried save/loadState to see if they would help.,thanks actually first first saw problem tried see would help,issue,negative,positive,positive,positive,positive,positive
544785776,"Yes, PyBullet and its constaint solver is fully deterministic as you experienced when using resetSimulation/loadURDF. When using loadState/saveState and one is very careful, it is also deterministic, except for some corner cases that you may have run into.",yes solver fully deterministic experienced one careful also deterministic except corner may run,issue,positive,positive,positive,positive,positive,positive
544785507,"Yes, if I do resetSimulation and loadURDF, it is always deterministic.

BTW, is the iterative constraint/contact solver of bullet (PGS?) fully deterministic?",yes always deterministic iterative solver bullet fully deterministic,issue,negative,neutral,neutral,neutral,neutral,neutral
544784926,"Just a sanity check: if you re-create the world from scratch (loadURDF instead of resetState), is it always deterministic?",sanity check world scratch instead always deterministic,issue,negative,neutral,neutral,neutral,neutral,neutral
544784468,"Did you double-check that pybullet is really up-to-date, removing all older versions? It shows the build date at startup.
Does the camera rotate if you run the testrender_egl.py, located in bullet/examples/pybullet/examples?",really removing older build date camera rotate run,issue,negative,positive,positive,positive,positive,positive
544782297,"Thanks for your reply. And I tried to install the latest pybullet from source. But I still got different images if I comment out the following lines:
```python
egl = pkgutil.get_loader('eglRenderer')
if egl:
    p.loadPlugin(egl.get_filename(), ""_eglRendererPlugin"")
else:
    p.loadPlugin(""eglRendererPlugin"")
```
I tried python 2.7 and python 3.7 on ubuntu 16.04 and ubuntu 18.04 and got the same issue.",thanks reply tried install latest source still got different comment following python else tried python python got issue,issue,negative,positive,positive,positive,positive,positive
544773475,"So in a nutshell, yes it is best to run as many DIRECT pybullet instances as you have cores/threads/processes.
There are some examples using MPI and PyBullet, for example pybullet version of DeepMimic:
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_envs/deep_mimic
Here is also a simple multiprocessing example:
https://github.com/erwincoumans/pybullet_robots/blob/master/batchsim3.py
Good luck.
",nutshell yes best run many direct example version also simple example good luck,issue,positive,positive,positive,positive,positive,positive
544773395,"Thanks for the quick response. In https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/unittests/saveRestoreStateTest.py#L22 , if I understand correctly, the target joint position is constant zero, and the maxForce for this position control is zero. But in my case maxForce is non-zero.
Besides, when I was debugging and narrowing down the issue, I did notice that if targetPosition is constant, it is harder to create non-deterministic cases. ",thanks quick response understand correctly target joint position constant zero position control zero case besides issue notice constant harder create,issue,positive,positive,neutral,neutral,positive,positive
544770810,"I get a similar image for both Tiny and EGL. (shadowmap shader is different, so different shadows) Could you update to latest pybullet? You can also do it from source: git clone and run python setup.py install --user in the root of Bullet.
I think something related to egl/camera was fixed recently. It may not yet be in pypi, but I think it is.

Tiny: 
![tiny](https://user-images.githubusercontent.com/725468/67253821-99f2a600-f42e-11e9-862f-e38ef0836617.png)

EGL:
![egl](https://user-images.githubusercontent.com/725468/67253815-8fd0a780-f42e-11e9-8c2c-d0d2a94a910c.png)
",get similar image tiny shader different different could update latest also source git clone run python install user root bullet think something related fixed recently may yet think tiny tiny,issue,negative,positive,neutral,neutral,positive,positive
544769515,It is likely your GPU and/or driver. We can draw many more lines without issue.,likely driver draw many without issue,issue,negative,positive,positive,positive,positive,positive
544769348,"I don't have time to look into it now. There is some unit test that checks determinism, with a kuka arm and contact. Could you compare how your setup differs?
See bullet/examples/pybullet/unittests",time look unit test determinism arm contact could compare setup see,issue,negative,neutral,neutral,neutral,neutral,neutral
544769048,"Yes, Bullet3Collision would use SHAPE_CONVEX_HULL for box and tesselated cylinder.
Unless you are familiar with GPU and OpenCL, I wouldn't use that old OpenCL pipeline. It can be fast but is not well maintained/supported.",yes would use box cylinder unless familiar would use old pipeline fast well,issue,positive,positive,positive,positive,positive,positive
544221325,"A sample output:
```
press enter to continue
init [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5, 0.706825181105366, 0.0, 0.0, 0.7073882691671998]
final obz [-0.03496293183241609, -0.11583680659928483, 0.23045265363663797, 0.39648907355113855, -0.16049073737787556, -0.023120696483600822, -0.09308681210526494, 0.3672476272733183, 0.0, 0.0, -0.46952350494861034, -0.09196440003347722, -0.1732771814104369, -0.09039978358461527, -0.17404599262913287, 0.01981621092866076, -0.22649021233881622, -0.31173032125959577, 0.0, 0.0, -0.4710311935846009, -0.035611437166457455, -0.13413768995500341, -0.07464103466422761, -0.18914205872217132, -0.004366532805077237, -0.20791072737649008, -0.2014182525461144, 0.0, 0.0, 0.15714755270111566, -0.03341049956293462, -0.09913777613668193, 0.003652075628614488, -0.18063132428555687, 0.021380798238130567, -0.16620027676483234, -0.11921342184934826, 0.0, 0.0, 0.05703348444533475, 0.09704136805128319, 0.01774218043439315, 0.5276005350859138, 0.4543256948663477, -0.5062525749711718, 0.508855744485926]
press enter to continue
init [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5, 0.706825181105366, 0.0, 0.0, 0.7073882691671998]
final obz [-0.03142998560095665, 3.438199976947727e-05, 0.228936898630212, 0.05301550091636659, -0.16146731317332857, -0.22969517209719165, -0.08835418603770123, 0.19549457173274754, 0.0, 0.0, -0.4684642789683976, -0.12819820579805719, -0.1724548177587596, -0.002742133038093616, -0.17441746584205234, 0.04211458429314866, -0.22554774260974017, 0.018860874525992208, 0.0, 0.0, -0.47058553100803263, -0.039500636128783545, -0.13344774489369066, 0.013584974613342269, -0.1892728145229466, -0.003751267914577555, -0.2071416017517857, 0.06999078742736752, 0.0, 0.0, 0.15690973211633188, -0.024379489575730388, -0.1000630916670531, 0.011691139885455192, -0.18061927247391715, -0.008770960300902395, -0.1655584376848286, -0.13146469636042762, 0.0, 0.0, 0.05717966824239874, 0.09709474745808125, 0.017822038672508474, 0.5284768860537297, 0.45293669600055547, -0.5073424566511346, 0.5080985750838566]
press enter to continue

```",sample output press enter continue final press enter continue final press enter continue,issue,negative,neutral,neutral,neutral,neutral,neutral
544208896,"> Thanks for the help, let's merge it.

Thanks for bullet lib)",thanks help let merge thanks bullet,issue,positive,positive,positive,positive,positive,positive
544203095,"Even though there is the SOLVER_USE_ARTICULATED_WARMSTARTING option, this CL changes the default Bullet behavior (some internal tests show differences after applying this patch). Do you have an idea why some tests change output and how to change this CL to avoid this?",even though option default bullet behavior internal show patch idea change output change avoid,issue,negative,neutral,neutral,neutral,neutral,neutral
544199496,"Thanks for the help, let's merge it.",thanks help let merge,issue,positive,positive,positive,positive,positive,positive
544005643,"> close/re-open to trigger CI

I guess it wants usual constructor...",trigger guess usual constructor,issue,negative,negative,negative,negative,negative,negative
542971934,"I'm not quite sure how to do that. Maybe we could discuss that tomorrow at
the meeting.

On Wed, Oct 16, 2019 at 7:40 PM erwincoumans <notifications@github.com>
wrote:

> One (or more) of the new files has an additional license requirement of
> citation, which is different from the zlib license. It would be better if
> this license requirement is taken out and moved into the documentation as a
> request. Can you please discuss if it is possible to add put in the
> documentation (and other places) as a request (if users use the deformable,
> please cite this work) instead of a license requirement.
>
> Thanks!
> Erwin
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2430?email_source=notifications&email_token=AEYORND443NE63ZS2NJFGZLQO7GDLA5CNFSM4I5SXDD2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEBORLOY#issuecomment-542971323>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AEYORNEWNF6LKBABO3GONEDQO7GDLANCNFSM4I5SXDDQ>
> .
>


-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",quite sure maybe could discus tomorrow meeting wed wrote one new additional license requirement citation different license would better license requirement taken documentation request please discus possible add put documentation request use deformable please cite work instead license requirement thanks thread reply directly view han northwestern university college,issue,positive,positive,positive,positive,positive,positive
542971323,"One (or more) of the new files has an additional license requirement of citation, which is different from the zlib license. It would be better if this license requirement is taken out and moved into the documentation as a request.  Can you please discuss with all the authors of that file if it is possible to add put in the documentation (and other places) as a request (if users use the deformable, please cite this work) instead of a license requirement.

Thanks!
Erwin
",one new additional license requirement citation different license would better license requirement taken documentation request please discus file possible add put documentation request use deformable please cite work instead license requirement thanks,issue,positive,positive,positive,positive,positive,positive
542971103,"No problem. It only supports rigid body now. Adding multibody shouldn't be
hard. I’ll make some time to work on it soon.

On Wed, Oct 16, 2019 at 19:37 erwincoumans <notifications@github.com> wrote:

> DeformableClothAnchor.cpp
> Great, thanks for working on this!
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2430?email_source=notifications&email_token=AEYORNAEXKOCGTF723IVUUDQO7FXJA5CNFSM4I5SXDD2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEBORGLI#issuecomment-542970669>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AEYORND4HASLNZJJSRKJGSDQO7FXJANCNFSM4I5SXDDQ>
> .
>
-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",problem rigid body hard make time work soon wed wrote great thanks working thread reply directly view han northwestern university college,issue,positive,positive,positive,positive,positive,positive
542960784,"yes, you are right!
maybe you can modify total_timesteps to 10, make sure this can run first.
but it look like will not be converge #1386 
I am trying the [solution](https://github.com/bulletphysics/bullet3/issues/1386#issuecomment-467512724)
maybe we can change the wechat ID,if I have some new progress, I will share it with you.",yes right maybe modify make sure run first look like converge trying solution maybe change id new progress share,issue,positive,positive,positive,positive,positive,positive
542816962,"Thanks a lot for sharing your code, that is very useful. Also, I'm glad to see that PyBullet and Pinocchio agree on the results. If you have any further results of comparisons involving PyBullet and other simulators, please share it if you can.",thanks lot code useful also glad see agree please share,issue,positive,positive,positive,positive,positive,positive
542800960,"How did you build pybullet.so? If using cmake, you can just remove pybullet.c from CMakeLists.txt in bullet/examples/pybullet. If you use python setup.py build, you can remove pybullet.c from setup.py in the root of Bullet.",build remove use python build remove root bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
542769745,I have already tried preloading the python so file or adding its path to LOAD_LIBRARY_PATH but nothing happened. Could you explain me more precisely where should I remove pybullet.c from target?,already tried python file path nothing could explain precisely remove target,issue,negative,positive,positive,positive,positive,positive
542744025,"PyBullet.so requires the right python.so file, it seems that it cannot link the Python so.
Perhaps preload the python so file or add its path to LOAD_LIBRARY_PATH.
Another way is to remove the python dependency: remove pybullet.c from the target, since Unity doesn't need it.",right file link python perhaps python file add path another way remove python dependency remove target since unity need,issue,negative,positive,positive,positive,positive,positive
542689225,"> @GoogleMike
> it can add the code with:
> 
> ```python
> def callback(lcl, glb):
>     # stop training if reward exceeds 199
>     total = sum(lcl['episode_rewards'][-101:-1]) / 100
>     totalt = lcl['t']
>     #print(""totalt"")
>     #print(totalt)
>     is_solved = totalt > 2000 and total >= 10
>     return is_solved
> load_path = 'kuka_model.pkl'
> act = deepq.learn(env, network='mlp',lr=1e-3,total_timesteps=0,
> buffer_size=50000,print_freq=10,load_path=load_path,callback=callback)
> ```
> 
> it is not a good solution, but can save this problem.

Hi, I test the code again. It seems that no error about baselines.
Now, it shows that:
> No file named 'kuka_model.pkl'.

It means that I should run **_train_kuka_grasping.py_**, then run  **_enjoy_kuka_grasping.py_**?
I don't know well about that.",add code python stop training reward total sum print print total return act good solution save problem hi test code error file run run know well,issue,positive,positive,positive,positive,positive,positive
542650395,"with command ldd -r pybullet.so I get:

```
undefined symbol: PyCapsule_Type	(./pybullet.so)
undefined symbol: _Py_NoneStruct	(./pybullet.so)
undefined symbol: PyExc_AttributeError	(./pybullet.so)
undefined symbol: PyExc_RuntimeError	(./pybullet.so)
undefined symbol: PyExc_ImportError	(./pybullet.so)
undefined symbol: PyTuple_SetItem	(./pybullet.so)
undefined symbol: PyLong_AsLong	(./pybullet.so)
undefined symbol: PyObject_GetAttrString	(./pybullet.so)
undefined symbol: PyDict_SetItem	(./pybullet.so)
undefined symbol: PyModule_AddObject	(./pybullet.so)
undefined symbol: PyUnicode_AsASCIIString	(./pybullet.so)
undefined symbol: PyTuple_New	(./pybullet.so)
undefined symbol: PyArg_ParseTupleAndKeywords	(./pybullet.so)
undefined symbol: PyBytes_FromString	(./pybullet.so)
undefined symbol: PyErr_Format	(./pybullet.so)
undefined symbol: PyFloat_FromDouble	(./pybullet.so)
undefined symbol: PyFloat_AsDouble	(./pybullet.so)
undefined symbol: PyModule_AddIntConstant	(./pybullet.so)
undefined symbol: Py_BuildValue	(./pybullet.so)
undefined symbol: PyImport_ImportModule	(./pybullet.so)
undefined symbol: PyErr_Clear	(./pybullet.so)
undefined symbol: PyDict_New	(./pybullet.so)
undefined symbol: PyErr_SetString	(./pybullet.so)
undefined symbol: PyArg_ParseTuple	(./pybullet.so)
undefined symbol: PyCapsule_GetPointer	(./pybullet.so)
undefined symbol: PySequence_Fast	(./pybullet.so)
undefined symbol: PySequence_GetItem	(./pybullet.so)
undefined symbol: PySequence_Size	(./pybullet.so)
undefined symbol: PyLong_FromLong	(./pybullet.so)
undefined symbol: PyErr_NewException	(./pybullet.so)
undefined symbol: PyModule_Create2	(./pybullet.so)
undefined symbol: Py_AtExit	(./pybullet.so)
undefined symbol: PyErr_Print	(./pybullet.so)
```",command get undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol undefined symbol,issue,negative,neutral,neutral,neutral,neutral,neutral
542556999,"@GoogleMike 
it can add the code with:
``` python
def callback(lcl, glb):
    # stop training if reward exceeds 199
    total = sum(lcl['episode_rewards'][-101:-1]) / 100
    totalt = lcl['t']
    #print(""totalt"")
    #print(totalt)
    is_solved = totalt > 2000 and total >= 10
    return is_solved
load_path = 'kuka_model.pkl'
act = deepq.learn(env, network='mlp',lr=1e-3,total_timesteps=0,
buffer_size=50000,print_freq=10,load_path=load_path,callback=callback)
```
it is not a good solution, but can save this problem.",add code python stop training reward total sum print print total return act good solution save problem,issue,positive,positive,positive,positive,positive,positive
542478037,"Thanks for the contribution, I'll look at it soon (on travel right now).",thanks contribution look soon travel right,issue,negative,positive,positive,positive,positive,positive
541668358,"Yes, that needs to be fixed, we shouldn't call 'self._pybullet_client.getBaseVelocity' for the kinematics model.",yes need fixed call kinematics model,issue,negative,positive,neutral,neutral,positive,positive
541667828,"> Indeed, for the kinematic model it doesn't make sense to request dynamics state such as getBaseVelocity etc. Since they are kept explicitly in a different structure, just use those values.
> (the kinematic model likely has default constraints to drive the velocity to zero)

Great, I'll proceed as you confirmed.

I was just confused by seeing `self._pybullet_client.getBaseVelocity` called with the kinematic model as an argument.

Thank you very much for your answer.",indeed kinematic model make sense request dynamic state since kept explicitly different structure use kinematic model likely default drive velocity zero great proceed confirmed confused seeing kinematic model argument thank much answer,issue,positive,positive,positive,positive,positive,positive
541665131,"Indeed, for the kinematic model it doesn't make sense to request dynamics state such as getBaseVelocity etc. Since they are kept explicitly in a different structure, just use those values.
(the kinematic model likely has default constraints to drive the velocity to zero)",indeed kinematic model make sense request dynamic state since kept explicitly different structure use kinematic model likely default drive velocity zero,issue,negative,neutral,neutral,neutral,neutral,neutral
540807000,"> Thanks for the commit. This CL removes the +//#define SKIP_DEFORMABLE_BODY and this breaks some Python scripts such as humanoidMotionCapture and DeepMimic.
> 
> You can try it out using
> 
> ```
> pip3 uninstall pybullet
> python3 setup.py install --user
> python3 examples/pybullet/examples/humanoidMotionCapture.py
> ```
> 
> Let's discuss if/how we can allow to switch the dynamics world at run-time instead of compile time.
> 
> For now, can you leave SKIP_DEFORMABLE_BODY defined?

Sounds good. I have defined SKIP_DEFORMABLE_BODY.",thanks commit define python try pip python install user python let discus allow switch dynamic world instead compile time leave defined good defined,issue,positive,positive,positive,positive,positive,positive
540589854,"Thanks for the commit. This CL removes the +//#define SKIP_DEFORMABLE_BODY and this breaks some Python scripts such as humanoidMotionCapture and DeepMimic.

You can try it out using
~~~~~~~~~~~~~~~~~~~
pip3 uninstall pybullet
python3 setup.py install --user
python3 examples/pybullet/examples/humanoidMotionCapture.py
~~~~~~~~~~~~~~~~~~~
Let's discuss if/how we can allow to switch the dynamics world at run-time instead of compile time.

For now, can you leave SKIP_DEFORMABLE_BODY defined?",thanks commit define python try pip python install user python let discus allow switch dynamic world instead compile time leave defined,issue,positive,positive,neutral,neutral,positive,positive
539963382,"Hi,
I ran into the same issue! It would be great to have fix for this.
Thanks",hi ran issue would great fix thanks,issue,positive,positive,positive,positive,positive,positive
538596501,"Dear @erwincoumans ,

Here's the code comparing PyBullet vs. Pinocchio:
```
import pybullet_utils.bullet_client as bc
import pybullet
import pybullet_data

import pinocchio as pin

import os,time,copy
import numpy as np

hz = 240.0
dt = 1.0 / hz

sim = bc.BulletClient(connection_mode=pybullet.GUI)

sim.setGravity(0, 0, -9.81)
sim.setTimeStep(dt)
sim.setRealTimeSimulation(0)

controlled_joints = [0, 1, 2, 3, 4, 5, 6]
addtnl_torque = np.array([0,0,0,1.0,0,0,0])
n_dofs = len(controlled_joints)

pybullet.setAdditionalSearchPath(pybullet_data.getDataPath())
urdf_path = ""kuka_iiwa/model.urdf""

world_id = pybullet.loadURDF(""plane.urdf"", [0, 0, 0])
robot_id = sim.loadURDF(urdf_path, basePosition=[0.0, 0.0, 0.0], 
                        useFixedBase=True,
                        flags=pybullet.URDF_USE_INERTIA_FROM_FILE)

pin_model = pin.buildModelFromUrdf(pybullet_data.getDataPath()+'/'+urdf_path)
pin_data = pin_model.createData()

def getBaseLocalInertialPosAndOri():
    dyn_info = sim.getDynamicsInfo(robot_id, -1)
    return np.array(dyn_info[3]), np.array(dyn_info[4])

def getCurrentJointPosVel():
    cur_joint_states = sim.getJointStates(robot_id, controlled_joints)
    cur_joint_pos = [cur_joint_states[i][0] for i in range(n_dofs)]
    cur_joint_vel = [cur_joint_states[i][1] for i in range(n_dofs)]
    return cur_joint_pos, cur_joint_vel

def getCurrentEEVel():
    ee_state = sim.getLinkState(robot_id, n_dofs-1,
    	                        computeLinkVelocity=True, 
                                computeForwardKinematics=True)
    ee_lin_vel = np.array(ee_state[6]) # worldLinkLinearVelocity
    ee_ang_vel = np.array(ee_state[7]) # worldLinkAngularVelocity
    return ee_lin_vel, ee_ang_vel

def getCurrentLinkPosAndOri(link_id):
    link_state = sim.getLinkState(robot_id, link_id, 
                                  computeForwardKinematics=True)
    return np.array(link_state[4]), np.array(link_state[5])

def computeGravityCompensationControlPolicy():
    [cur_joint_pos, cur_joint_vel] = getCurrentJointPosVel()
    grav_comp_torque = sim.calculateInverseDynamics(robot_id, cur_joint_pos, 
                                                    cur_joint_vel, 
                                                    [0] * n_dofs)
    return np.array(grav_comp_torque)

# activating torque control
sim.setJointMotorControlArray(
            bodyIndex=robot_id,
            jointIndices=controlled_joints,
            controlMode=pybullet.VELOCITY_CONTROL,
            forces=np.zeros(n_dofs))

prev_qd = [0.0] * n_dofs

while True:
    [q, qd] = getCurrentJointPosVel()
    qdd = list((np.array(qd) - np.array(prev_qd))/dt)
    
    pin.forwardKinematics(pin_model, pin_data, np.array(q).reshape((n_dofs, 1)))
    for i in range(n_dofs):
        pin_x = pin_data.oMi[i+1].translation
        pin_x = np.array([pin_x[j,0] for j in range(3)])
        print('Pinocchio: link_x[%d] = ' % i, pin_x)

        [bullet_x, _] = getCurrentLinkPosAndOri(i)
        print('PyBullet:  link_x[%d] = ' % i, bullet_x.reshape([3]))
        
        print('')

    pin_tau = pin.rnea(pin_model, pin_data,
                       np.array(q).reshape([n_dofs, 1]),
                       np.array(qd).reshape([n_dofs, 1]),
                       np.array(qdd).reshape([n_dofs, 1]))
    pin_tau = np.array([pin_tau[j,0] for j in range(n_dofs)])
    bullet_tau = np.array(sim.calculateInverseDynamics(robot_id, q, qd, qdd))
    print(""q   = "", np.array(q))
    print(""qd  = "", np.array(qd))
    print(""qdd = "", np.array(qdd))
    print('Pinocchio: Inv. Dyn. Torque = ', pin_tau)
    print('PyBullet:  Inv. Dyn. Torque = ', bullet_tau)
    print('')

    grav_comp_torque = computeGravityCompensationControlPolicy()
    sim.setJointMotorControlArray(
            bodyIndex=robot_id,
            jointIndices=controlled_joints,
            controlMode=pybullet.TORQUE_CONTROL,
            forces=grav_comp_torque+addtnl_torque)
    prev_qd = copy.deepcopy(qd)
    sim.stepSimulation()
    time.sleep(dt)
```
and some of the print-outs are:
```
Pinocchio: link_x[0] =  [0.     0.     0.1575]
PyBullet:  link_x[0] =  [ 2.32830644e-10 -1.86264515e-09  1.57499999e-01]

Pinocchio: link_x[1] =  [0.   0.   0.36]
PyBullet:  link_x[1] =  [-3.72529030e-09  0.00000000e+00  3.60000014e-01]

Pinocchio: link_x[2] =  [0.17596353 0.01276873 0.46341202]
PyBullet:  link_x[2] =  [0.17596354 0.01276873 0.46341205]

Pinocchio: link_x[3] =  [0.36139209 0.02622428 0.57238654]
PyBullet:  link_x[3] =  [0.36139208 0.02622429 0.57238656]

Pinocchio: link_x[4] =  [0.30791425 0.16577065 0.46418681]
PyBullet:  link_x[4] =  [0.30791426 0.16577065 0.46418682]

Pinocchio: link_x[5] =  [0.24545098 0.32876383 0.33780718]
PyBullet:  link_x[5] =  [0.24545097 0.32876384 0.33780715]

Pinocchio: link_x[6] =  [0.22021603 0.38895958 0.28984189]
PyBullet:  link_x[6] =  [0.22021602 0.38895959 0.28984189]

q   =  [ 0.07243766  1.04062375 -2.03419747  2.09293735  0.02410786 -0.02602246
 -0.19487212]
qd  =  [-3.12175174e-02  1.09737590e+00 -2.18815876e+00  4.41436197e-01
  1.27696555e+01  7.12270980e-01 -1.00000000e+02]
qdd =  [-6.60591406e+00 -8.50066820e+00 -5.12938984e+00  1.19207024e+02
  6.14778773e+03  3.09753177e+02 -4.80000000e+04]
Pinocchio: Inv. Dyn. Torque =  [ -8.73676732 -19.84664612   2.33862941   0.39936623  14.61306156
   0.25875462 -41.85486271]
PyBullet:  Inv. Dyn. Torque =  [ -8.73676732 -19.84664612   2.33862941   0.39936623  14.61306156
   0.25875462 -41.85486271]

Pinocchio: link_x[0] =  [0.     0.     0.1575]
PyBullet:  link_x[0] =  [2.32830644e-10 0.00000000e+00 1.57499999e-01]

Pinocchio: link_x[1] =  [0.   0.   0.36]
PyBullet:  link_x[1] =  [0.         0.         0.36000001]

Pinocchio: link_x[2] =  [0.1764516  0.0127925  0.46257404]
PyBullet:  link_x[2] =  [0.17645161 0.01279251 0.46257403]

Pinocchio: link_x[3] =  [0.36239448 0.02627311 0.57066552]
PyBullet:  link_x[3] =  [0.36239448 0.02627311 0.57066554]

Pinocchio: link_x[4] =  [0.30913122 0.16519962 0.46156602]
PyBullet:  link_x[4] =  [0.30913121 0.16519961 0.46156603]

Pinocchio: link_x[5] =  [0.24691857 0.32746879 0.33413544]
PyBullet:  link_x[5] =  [0.24691857 0.32746881 0.33413544]

Pinocchio: link_x[6] =  [0.22166758 0.38724468 0.28565627]
PyBullet:  link_x[6] =  [0.22166757 0.38724467 0.28565627]

q   =  [ 0.07237204  1.04536688 -2.04321556  2.09276842 -0.02942063 -0.02843321
  0.22179455]
qd  =  [-1.57480020e-02  1.13835055e+00 -2.16434105e+00 -4.05439318e-02
 -1.28468393e+01 -5.78579636e-01  1.00000000e+02]
qdd =  [ 3.71268371e+00  9.83391674e+00  5.71625140e+00 -1.15675231e+02
 -6.14795875e+03 -3.09804148e+02  4.80000000e+04]
Pinocchio: Inv. Dyn. Torque =  [  1.43087527 -32.81982987  11.14560209   0.26086383 -14.59369822
  -0.27647739  41.85665893]
PyBullet:  Inv. Dyn. Torque =  [  1.43087527 -32.81982987  11.14560209   0.26086383 -14.59369822
  -0.27647739  41.85665893]
```",dear code import import import import pin import o time copy import return range range return return return return torque control true list range range print print print range print print print print torque print torque print torque torque torque torque,issue,positive,positive,positive,positive,positive,positive
538549534,"A single PyBullet instance is typically single threaded. So you can run multiple instances, each in its own process (using Python multiprocessing library). That is what we do.
You can also run multithreading.",single instance typically single threaded run multiple process python library also run,issue,negative,negative,neutral,neutral,negative,negative
538501986,"Dear @erwincoumans ,

I see. That makes sense.

Sure, you can use the snippet as a PyBullet example.

Yes, actually I compared the result between PyBullet versus Pinocchio. I can work on a simple code snippet that compares between the two. Please give me a couple days for this, and I will post it here, once it is ready.

Thanks!


Best Regards,

Giovanni Sutanto",dear see sense sure use snippet example yes actually result versus work simple code snippet two please give couple day post ready thanks best,issue,positive,positive,positive,positive,positive,positive
538431246,"Hello Giovianni,

The method via Jacobian computes the link velocity at the joint, while the 'getLinkState' returns the velocity at the center of mass: lbr_iiwa_link_7 has an inertial frame at location xyz=""0 0 0.02"".
If you add an additional end-effector with zero inertial frame origin like this, or modify lbr_iiwa_link_7 to have the inertial frame at the joint like this:

~~~~~~~
 <link name=""lbr_iiwa_link_7"">
    <inertial>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
      <mass value=""0.3""/>
      <inertia ixx=""0.001"" ixy=""0"" ixz=""0"" iyy=""0.001"" iyz=""0"" izz=""0.001""/>
    </inertial>
~~~~~~~
both linear and angular velocity will match:
~~~~~~~
ee_lin_vel              =  [-0.3048944   0.1884439  -0.13362494]
ee_lin_vel_via_jacobian =  [-0.3048944   0.1884439  -0.13362494]
ee_ang_vel              =  [ 16.20880996  -2.22107191 -86.05255472]
ee_ang_vel_via_jacobian =  [ 16.20880996  -2.22107191 -86.05255472]
~~~~~~~

Can we use your snippet as a PyBullet example?

Also, for comparison, do you have a similar example using Pinocchio using the same URDF?
We did comparisons of forward dynamics with [RBDL and KDL library (see issue) ](https://github.com/bulletphysics/bullet3/issues/2246)and it matches up to 11 decimals. 
Thanks!
Erwin
",hello method via link velocity joint velocity center mass inertial frame location add additional zero inertial frame origin like modify inertial frame joint like link inertial origin mass inertia linear angular velocity match use snippet example also comparison similar example forward dynamic library see issue thanks,issue,positive,positive,neutral,neutral,positive,positive
538287957,"Thanks for your reply. Maybe you should consider to give all those methods/arguments for both baseCom... and baseLink... to make this clear. As in robotics you oftenly are interested in the frame position, or in the CoM of the whole system, but rarely in the CoM of a specific frame.",thanks reply maybe consider give make clear interested frame position whole system rarely specific frame,issue,positive,positive,positive,positive,positive,positive
538223485,"Dear @erwincoumans ,

Thanks for your response. This is the runnable code snippet:
```
import pybullet_utils.bullet_client as bc
import pybullet
import pybullet_data

import time
import numpy as np

hz = 240.0
dt = 1.0 / hz

sim = bc.BulletClient(connection_mode=pybullet.GUI)

sim.setGravity(0, 0, -9.81)
sim.setTimeStep(dt)
sim.setRealTimeSimulation(0)

controlled_joints = [0, 1, 2, 3, 4, 5, 6]
addtnl_torque = np.array([0,0,0,1.0,0,0,0])
n_dofs = len(controlled_joints)

pybullet.setAdditionalSearchPath(pybullet_data.getDataPath())
urdf_path = ""kuka_iiwa/model.urdf""

world_id = pybullet.loadURDF(""plane.urdf"", [0, 0, 0])
robot_id = sim.loadURDF(urdf_path, basePosition=[0.0, 0.0, 0.0], 
                        useFixedBase=True,
                        flags=pybullet.URDF_USE_INERTIA_FROM_FILE)

def getCurrentJointPosVel():
    cur_joint_states = sim.getJointStates(robot_id, controlled_joints)
    cur_joint_pos = [cur_joint_states[i][0] for i in range(n_dofs)]
    cur_joint_vel = [cur_joint_states[i][1] for i in range(n_dofs)]
    return cur_joint_pos, cur_joint_vel

def getCurrentEEVel():
    ee_state = sim.getLinkState(robot_id, n_dofs-1,
    	                        computeLinkVelocity=True, 
                                computeForwardKinematics=True)
    ee_lin_vel = np.array(ee_state[6]) # worldLinkLinearVelocity
    ee_ang_vel = np.array(ee_state[7]) # worldLinkAngularVelocity
    return ee_lin_vel, ee_ang_vel

def computeGravityCompensationControlPolicy():
    [cur_joint_pos, cur_joint_vel] = getCurrentJointPosVel()
    grav_comp_torque = sim.calculateInverseDynamics(robot_id, cur_joint_pos, 
                                                    cur_joint_vel, 
                                                    [0] * n_dofs)
    return np.array(grav_comp_torque)

# activating torque control
sim.setJointMotorControlArray(
            bodyIndex=robot_id,
            jointIndices=controlled_joints,
            controlMode=pybullet.VELOCITY_CONTROL,
            forces=np.zeros(n_dofs))

while True:
    [q, qd] = getCurrentJointPosVel()
    [ee_lin_vel, ee_ang_vel] = getCurrentEEVel()
    [jac_t, jac_r
     ] = sim.calculateJacobian(robot_id, n_dofs-1, [0] * 3, 
                               q, [0] * n_dofs, [0] * n_dofs)
    ee_lin_vel_via_jac = np.asarray(np.matmul(jac_t, np.array(qd).
                                                     reshape((n_dofs, 1))).T[0])
    ee_ang_vel_via_jac = np.asarray(np.matmul(jac_r, np.array(qd).
                                                     reshape((n_dofs, 1))).T[0])
    print(""ee_lin_vel              = "", ee_lin_vel)
    print(""ee_lin_vel_via_jacobian = "", ee_lin_vel_via_jac)
    print(""ee_ang_vel              = "", ee_ang_vel)
    print(""ee_ang_vel_via_jacobian = "", ee_ang_vel_via_jac)
    print("""")
    grav_comp_torque = computeGravityCompensationControlPolicy()
    sim.setJointMotorControlArray(
            bodyIndex=robot_id,
            jointIndices=controlled_joints,
            controlMode=pybullet.TORQUE_CONTROL,
            forces=grav_comp_torque+addtnl_torque)
    sim.stepSimulation()
    time.sleep(dt)
```
and the example print-outs are:
```
ee_lin_vel              =  [ 0.41264624 -0.41627541 -1.02505126]
ee_lin_vel_via_jacobian =  [ 0.41526568 -0.3873048  -0.99356107]
ee_ang_vel              =  [-30.01574004  62.96066879 -55.42630029]
ee_ang_vel_via_jacobian =  [-30.01574004  62.96066879 -55.42630029]
```
Do you know why ee_lin_vel and ee_lin_vel_via_jacobian is slightly different, while ee_ang_vel is identical to ee_ang_vel_via_jacobian ?

Thanks!


Best Regards,

Giovanni",dear thanks response runnable code snippet import import import import time import range range return return return torque control true reshape reshape print print print print print example know slightly different identical thanks best,issue,positive,positive,positive,positive,positive,positive
538188581,"Indeed, there is some difference between the URDF/Gazebo convention  (link/joint frame based) 
 and Bullet's own convention (center of mass based). If you want consistency, always use resetBasePositionAndOrientation and ignore loadURDF position. At this stage it is too much hassle to unify the API (always use Center of Mass coordinates, ignore the URDF convention) so please just only use resetBasePositionAndOrientation.",indeed difference convention frame based bullet convention center mass based want consistency always use ignore position stage much hassle unify always use center mass ignore convention please use,issue,negative,neutral,neutral,neutral,neutral,neutral
538187692,"That is not clear, how big is the difference?
Do you have a full working small reproduction example?",clear big difference full working small reproduction example,issue,negative,positive,neutral,neutral,positive,positive
538118201,"    import pybullet as p
    from time import sleep
    import pybullet_data
   
    physicsClient = p.connect(p.GUI)
    p.setAdditionalSearchPath(pybullet_data.getDataPath()) #optionally

    p.setGravity(0, 0, -10)
    planeId = p.loadURDF(""plane.urdf"")
    cubeStartPos = [0, 0, 1]
    cubeStartOrientation = p.getQuaternionFromEuler([0, 0, 0])
    robotId = p.loadURDF(""r2d2.urdf"", cubeStartPos, cubeStartOrientation)
    cubePos, cubeOrn = p.getBasePositionAndOrientation(robotId)
    joint_number = 9

    p.resetJointState(robotId, joint_number, 0)

    print(p.getJointState(robotId,joint_number))
    p.setJointMotorControl2(bodyIndex=robotId,
    jointIndex=joint_number,
    controlMode=p.POSITION_CONTROL,
    targetPosition=1)

    print(""total joints "",p.getNumJoints(robotId))
    for i in range(1000):
        p.stepSimulation()

    # for i in range(1000):
    #     p.stepSimulation()

    p.resetJointState(robotId, joint_number, 0)
    p.setJointMotorControl2(bodyIndex=robotId,
    jointIndex=joint_number,
    controlMode=p.POSITION_CONTROL,
    targetPosition=1)

    for i in range(1000):
        p.stepSimulation()

    print(p.getJointState(robotId,joint_number))

    while(True):
        pass


Even when I uncomment those two lines, I would like to get the same output as the start, goal and time of stepping are unchanged",import time import sleep import optionally print print total range range range print true pas even two would like get output start goal time stepping unchanged,issue,positive,positive,positive,positive,positive,positive
537691577,The state (configuration) of the world and robots changes over time. Provide a full working small pybullet example and I explain why the state is different.,state configuration world time provide full working small example explain state different,issue,negative,positive,neutral,neutral,positive,positive
537676811,"Hey Erwin, sorry for the delayed response:

What I want to do is, if I execute an action with certain configuration of objects in the world, I should get the same result irrespective of the timestep I execute it at. Currently, If I execute the same action at different timesteps I get different outputs. 

For example: 

    for i in range(1500):
       p.stepSimulation()
   
    for j in range(len(joint_numbers)):
       joint_number = joint_numbers[j]
       p.resetJointState(robot_id, joint_number, joint_position[j])

    p.setJointMotorControlArray(robot_id,joint_number,p.POSITION_CONTROL,path[0])
    for i in range(500):
       p.stepSimulation()

yields a different output when compared to:

     for j in range(len(joint_numbers)):
       joint_number = joint_numbers[j]
       p.resetJointState(robot_id, joint_number, joint_position[j])

     p.setJointMotorControlArray(robot_id,joint_number,p.POSITION_CONTROL,path[0])
     for i in range(500):
       p.stepSimulation()

I just want to make the output of my actions dependent only on the configurations of the objects in the world and the robot's configuration,  not the time at which the action is executed!

Thanks! ",hey sorry response want execute action certain configuration world get result irrespective execute currently execute action different get different example range range path range different output range path range want make output dependent world robot configuration time action executed thanks,issue,positive,positive,neutral,neutral,positive,positive
537549266,Thanks a lot for the PR. Let's merge it now and we can improve things from here.,thanks lot let merge improve,issue,positive,positive,positive,positive,positive,positive
537288101,"Thanks for reporting back, I didn't make time to reply. If would be good to have some better example using control etc. We have some quadruped control (Raibert controller) using the Jacobians, but it isn't open source yet.",thanks back make time reply would good better example control quadruped control controller open source yet,issue,positive,positive,positive,positive,positive,positive
537247290,Never mind. I figured out that the Jacobian is computed in the base frame. Marking issue as resolved.,never mind figured base frame marking issue resolved,issue,negative,negative,negative,negative,negative,negative
536654928,"Thanks a lot for the pull request, I will look at it.",thanks lot pull request look,issue,negative,positive,positive,positive,positive,positive
534737646,"It looks like the line 
~~~~~~~~~~~~~~~~~
m_data->m_camera.disableVRCamera();
~~~~~~~~~~~~~~~~~
causes it.
For now, let's remove it.",like line let remove,issue,negative,neutral,neutral,neutral,neutral,neutral
534014231,"i don't find any papers about the DLS with Nullspace, does any body can share the relative papers with me, thanks.
for this case, i change several points as below in bold. but it still can't work if i set the orientation of the end effector. i have a question, are you sure it can get what you expect with these limitions?

import pybullet as p
import math
import pybullet_data

clid = p.connect(p.GUI)
p.setAdditionalSearchPath(pybullet_data.getDataPath()) #optionally

kukaId = p.loadURDF(""kuka_iiwa/model.urdf"", [0, 0, 0])
p.resetBasePositionAndOrientation(kukaId, [0, 0, 0], [0, 0, 0, 1])
kukaEndEffectorIndex = 6
numJoints = p.getNumJoints(kukaId)

#lower limits for null space
ll = [-.967, -2, -2.96, 0.19, -2.96, -2.09, -3.05]
#upper limits for null space
ul = [.967, 2, 2.96, **2.09**, 2.96, 2.09, 3.05]
#joint ranges for null space
jr = [5.8, 4, 5.8, 4, 5.8, 4, 6]
#restposes for null space
rp = [0, 0, 0, 0.5 * math.pi, 0, -math.pi * 0.5 * 0.66, 0]
#joint damping coefficents
jd = [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]

for i in range(numJoints):
  p.resetJointState(kukaId, i, rp[i])


pos = [-0.1, 0, 0.2]
#end effector points down, not up (in case useOrientation==1)
orn = p.getQuaternionFromEuler([0, -math.pi, 0])

#jointPoses = p.calculateInverseKinematics(kukaId, kukaEndEffectorIndex, pos, **orn**, ll, ul, jr, rp, maxNumIterations=100)
jointPoses = p.calculateInverseKinematics(kukaId, kukaEndEffectorIndex, pos, lowerLimits=ll, upperLimits=ul, jointRanges=jr, restPoses=rp, **maxNumIterations=100**)
print(""jonintPoses = "", jointPoses)

//jonintPoses =  (1.22050950923848e-11, -0.9361807246909419, -1.1822010390722412e-11, 2.0873899511548615, -4.9901012629469686e-12, -1.9240952471398638, 0.0)

",find body share relative thanks case change several bold still ca work set orientation end effector question sure get expect import import math import optionally lower null space upper null space joint null space null space joint damping range end effector case print,issue,positive,positive,positive,positive,positive,positive
533890343,It would be nice to get #2261 merged as well.,would nice get well,issue,positive,positive,positive,positive,positive,positive
531015758,"@erwincoumans Thanks for taking this PR in consideration.
This PR is mainly about adding DLL support.
I have another older tree (https://github.com/madebr/bullet3/tree/cmake_old_lots_rework) which modularizes the build system a bit. I would love to update that one once this pr is finished.",thanks taking consideration mainly support another older tree build system bit would love update one finished,issue,positive,positive,positive,positive,positive,positive
530922327,"Hi Erwin,
I attached a new zip file: the needed meshes are in the folder 'panda_meshes'. You can find the visual and the collision meshes for the robot there.
The URDF files for the panda arm, the table as well as the plane are in the folder urdfs. the plane and the table are those which we already get from pybullet. I attached them anyways.

```python
import numpy as np
from pandapybullet_minimal.panda_sim import PandaSim
import pybullet as p


dt = 0.001
duration = 5
n_steps = np.int(duration/dt)


physics_client_id = p.connect(p.GUI)  
p.setPhysicsEngineParameter(enableFileCaching=0)
p.setTimeStep(dt)

# Load scene
import os.path as path
module_path = path.dirname(path.abspath(__file__))
scene_id = p.loadURDF(module_path + ""/envs/plane/plane.urdf"")
# p.setGravity(0, 0, -10.)

# Load table
table_urdf = module_path + ""/envs/table/table.urdf""
table_start_position = [0.35, 0.0, 0.0]
table_start_orientation = [0.0, 0.0, 0.0]
table_start_orientation_quat = p.getQuaternionFromEuler(table_start_orientation)
table_id = p.loadURDF(table_urdf,
                      table_start_position,
                      table_start_orientation_quat,
                      flags=p.URDF_USE_SELF_COLLISION | p.URDF_USE_INERTIA_FROM_FILE
                      )

robot_urdf = module_path + ""/envs/frankaemika/robots/panda_arm_hand_without_cam.urdf""
robot_start_position = [0.0, 0.0, 0.88]
robot_start_orientation = [0.0, 0.0, 0.0]
robot_start_orientation_quat = p.getQuaternionFromEuler(robot_start_orientation)
robot_id = p.loadURDF(
    robot_urdf,
    robot_start_position, robot_start_orientation_quat,
    useFixedBase=1,
    flags=p.URDF_USE_SELF_COLLISION   #| p.URDF_USE_SELF_COLLISION_INCLUDE_PARENT
)

p.setGravity(0,0,-9.81)

joints = (3.57795216e-09,  1.74532920e-01,  3.30500960e-08, -8.72664630e-01,
                    -1.14096181e-07,  1.22173047e+00,  7.85398126e-01)

for k in range(7):
    # set the joints (skip base which has jointIndex 0
    p.resetJointState(robot_id, jointIndex=k+1,targetValue=joints[k])
# set the panda fingers position
p.resetJointState(robot_id,jointIndex=10, targetValue=0.05)
p.resetJointState(robot_id,jointIndex=11, targetValue=0.05)



# for torque control
p.setJointMotorControlArray(robot_id, list(np.arange(1,8)), p.VELOCITY_CONTROL, forces =list(np.zeros(7)))

joint_indices = [1,2,3,4,5,6,7,10,11]

for t in range(n_steps):
    qdq_matrix = np.array([np.array(
        p.getJointState(bodyUniqueId=robot_id, jointIndex=jointIndex)[:2]) for
        jointIndex in np.arange(1, 8)])
    q = qdq_matrix[:, 0]
    dq = qdq_matrix[:, 1]
    q = list(q)
    dq = list(dq)

    f1_info = p.getJointState(bodyUniqueId=robot_id, jointIndex=10)
    f2_info = p.getJointState(bodyUniqueId=robot_id, jointIndex=11)

    fing_pos = [f1_info[0], f2_info[0]]
    fing_vel = [f1_info[1], f2_info[1]]

    q.append(fing_pos[0])
    q.append(fing_pos[1])
    dq.append(fing_vel[0])
    dq.append(fing_vel[1])

    # q = np.asarray(q)                   # if we uncomment this , this will lead to a segmentation fault
    torques = p.calculateInverseDynamics(robot_id,q,dq,list(np.zeros(9,)))
    p.setJointMotorControlArray(bodyUniqueId=robot_id, jointIndices=joint_indices,
                                controlMode=p.TORQUE_CONTROL, forces=torques)
    p.stepSimulation()

```
If you use 
```python
   q = np.asarray(q) 
```
and send it to the inverse dynamics function, this leads to the already mentioned crash. But if I comment it out and just send it as a list, the robot just stays at the initialized position, which we want to have, since we set the desired accelerations to zero for each joint when we call the inverse dynamics function.  
The pathes to the urdf files in the code will have to be adjusted I guess. 

[files.zip](https://github.com/bulletphysics/bullet3/files/3606672/files.zip)


",hi attached new zip file folder find visual collision robot panda arm table well plane folder plane table already get attached anyways python import import import duration load scene import path load table range set skip base set panda position torque control list range list list lead segmentation fault torque list use python send inverse dynamic function already crash comment send list robot stay position want since set desired zero joint call inverse dynamic function code guess,issue,negative,negative,negative,negative,negative,negative
530556611,"A easy reproduce is:
```
import pybullet as p
import math
import pybullet_data

clid = p.connect(p.GUI)
p.setAdditionalSearchPath(pybullet_data.getDataPath()) #optionally

kukaId = p.loadURDF(""kuka_iiwa/model.urdf"", [0, 0, 0])
p.resetBasePositionAndOrientation(kukaId, [0, 0, 0], [0, 0, 0, 1])
kukaEndEffectorIndex = 6
numJoints = p.getNumJoints(kukaId)

#lower limits for null space
ll = [-.967, -2, -2.96, 0.19, -2.96, -2.09, -3.05]
#upper limits for null space
ul = [.967, 2, 2.96, 2.29, 2.96, 2.09, 3.05]
#joint ranges for null space
jr = [5.8, 4, 5.8, 4, 5.8, 4, 6]
#restposes for null space
rp = [0, 0, 0, 0.5 * math.pi, 0, -math.pi * 0.5 * 0.66, 0]
#joint damping coefficents
jd = [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]

for i in range(numJoints):
  p.resetJointState(kukaId, i, rp[i])


pos = [-0.1, 0, 0.2]
#end effector points down, not up (in case useOrientation==1)
orn = p.getQuaternionFromEuler([0, -math.pi, 0])

jointPoses = p.calculateInverseKinematics(kukaId, kukaEndEffectorIndex, pos, orn, ll, ul, jr, rp)
```

The returned `jointPoses` is 
```
(2.740106077145573e-12,
 -0.3690549565852974,
 -7.501466373859642e-12,
 2.339617969438699,
 -1.4608018038690208e-11,
 -0.4466336838760028,
 5.174165072837143e-12)
```
Note that joint 3 has a value of `2.339`, which exceeds both the limit specified by `ll` and `ul`, and the limit obtained from `p.getJointInfo(kukaId, 3)`, which is `[-2.09439510239,  2.09439510239]`.
",easy reproduce import import math import optionally lower null space upper null space joint null space null space joint damping range end effector case returned note joint value limit limit,issue,negative,positive,positive,positive,positive,positive
530415236,Could you share a small script that reproduces the crash (the panda.zip only contains URDF).,could share small script crash,issue,negative,negative,negative,negative,negative,negative
530406198,"Thanks for reporting back. It is still good to fix the crash on unsupported input (numpy etc), so let's keep it open.",thanks back still good fix crash unsupported input let keep open,issue,negative,positive,positive,positive,positive,positive
530306451,"Hi Erwin,
thanks for your reply.
I just recognized that there was a part in the URDF which was duplicated (material definition).  I removed it and there were no warnings left, but this didn't change anything. 
However, I then recognized that the fingers of the panda are the reason for the crash. 
In addition, I gave numpy arrays to the method 'calculateInverseDynamics' as arguments. After removing the fingers from the URDF and sending the position and the velocities of the joints as a list instead of a numpy array, it worked out for me. Thanks a lot!
",hi thanks reply part material definition removed left change anything however panda reason crash addition gave method removing sending position list instead array worked thanks lot,issue,negative,positive,positive,positive,positive,positive
530214643,"Thanks for the report, a crash shouldn't happen. Are there any warnings when loading the URDF?
Could you modify the URDF until it doesnt' crash to isolate the issue? Some other URDF's should work fine with calculateMassMatrix.
 If I find time, I'll look into it.",thanks report crash happen loading could modify doesnt crash isolate issue work fine find time look,issue,negative,positive,positive,positive,positive,positive
530214371,"Difficult to tell without simple repro case what the problem is. It could be that the joint limits are not active or properly specified. You may need to set the joint limits tighter. You could check yourself if any constraint is violated, and possibly call the IK solver again from a different starting point. You may need to do some debugging, the IK solver innerloop isn't very complicated.",difficult tell without simple case problem could joint active properly may need set joint could check constraint possibly call solver different starting point may need solver complicated,issue,negative,negative,negative,negative,negative,negative
529755788,Thanks! Manually added them (conflict in files). please let me know if I missed some.,thanks manually added conflict please let know,issue,negative,positive,positive,positive,positive,positive
529712286,"Yes this was applied long ago.

On Mon, Sep 9, 2019 at 16:46 erwincoumans <notifications@github.com> wrote:

> This was already applied, right? Let's close it.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2374?email_source=notifications&email_token=AEYORND7YBVTN3D6ZKJJNZ3QI3N3RA5CNFSM4IMMYI62YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD6JLRHA#issuecomment-529709212>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AEYORNEWDCNXPMXJB5V4CKDQI3N3RANCNFSM4IMMYI6Q>
> .
>
-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",yes applied long ago mon wrote already applied right let close thread reply directly view mute thread han northwestern university college,issue,negative,positive,positive,positive,positive,positive
529709212,"This was already applied, right? Let's close it.",already applied right let close,issue,negative,positive,positive,positive,positive,positive
529121277,"Thanks for the PR. There are a lot of changes and I will need to review each of them, not sure if/when I get to this.",thanks lot need review sure get,issue,positive,positive,positive,positive,positive,positive
528187765,"> It looks like the PyBullet build (see setup.py and
> is missing some new files (btDeformableMultiBodyConstraintSolver.cpp?)
> 
> ```
> undefined symbol: _ZTV37btDeformableMultiBodyConstraintSolver
> ```
> 
> See setup.py
> 
> Also, can you update to latest and fix the merge conflict, so the build passes?
> Thanks!
> Erwin

Hi Erwin,

I resolved the conflict and added the missing files. Thanks!

Best,

Xuchen",like build see missing new undefined symbol see also update latest fix merge conflict build thanks hi resolved conflict added missing thanks best,issue,positive,positive,positive,positive,positive,positive
528152751,"Ah that’s where things are bound. Thanks for the pointer. I’ll update the
PR later this evening.

Best,

Xuchen

On Wed, Sep 4, 2019 at 17:17 erwincoumans <notifications@github.com> wrote:

> It looks like the PyBullet build (see setup.py and
> is missing some new files (btDeformableMultiBodyConstraintSolver.cpp?)
>
> undefined symbol: _ZTV37btDeformableMultiBodyConstraintSolver
>
> See setup.py
>
> Also, can you update to latest and fix the merge conflict, so the build
> passes?
> Thanks!
> Erwin
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2386?email_source=notifications&email_token=AEYORNCNGFPKNSNXS5FAM7LQIBFZ3A5CNFSM4ISFLLS2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD55M72I#issuecomment-528142313>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AEYORNCOPKLVZGDLSEXAONDQIBFZ3ANCNFSM4ISFLLSQ>
> .
>
-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",ah bound thanks pointer update later evening best wed wrote like build see missing new undefined symbol see also update latest fix merge conflict build thanks thread reply directly view mute thread han northwestern university college,issue,positive,positive,positive,positive,positive,positive
528142313,"It looks like the PyBullet build (see setup.py and 
is missing some new files (btDeformableMultiBodyConstraintSolver.cpp?)
~~~~~~~
undefined symbol: _ZTV37btDeformableMultiBodyConstraintSolver
~~~~~~~
See setup.py

Also, can you update to latest and fix the merge conflict, so the build passes?
Thanks!
Erwin
",like build see missing new undefined symbol see also update latest fix merge conflict build thanks,issue,negative,positive,positive,positive,positive,positive
527984421,The latest version of `pybullet` where the issue doesn't exist is `2.4.6`.,latest version issue exist,issue,negative,positive,positive,positive,positive,positive
527957304,"Yes. It is there as a quick hack to keep the original world. Will remove
when deformable world is ready and/or when we have an API to explicit call
for deformable world.

On Wed, Sep 4, 2019 at 08:34 erwincoumans <notifications@github.com> wrote:

> *@erwincoumans* commented on this pull request.
> ------------------------------
>
> In examples/SharedMemory/PhysicsServerCommandProcessor.cpp
> <https://github.com/bulletphysics/bullet3/pull/2386#discussion_r320828642>
> :
>
> >  #include ""../SoftDemo/BunnyMesh.h""
>  #else
>  #include ""BulletDynamics/Featherstone/btMultiBodyDynamicsWorld.h""
>  #endif
>
> +#define SKIP_DEFORMABE_BODY 1
>
> is this SKIP_DEFORMABE_BODY definition intentional, and to be removed
> later?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2386?email_source=notifications&email_token=AEYORNF62B2HT4RG6RYAMKTQH7IPJA5CNFSM4ISFLLS2YY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOCDUQOJA#pullrequestreview-283707172>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AEYORNCN2T767U3C52GRJOTQH7IPJANCNFSM4ISFLLSQ>
> .
>
-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",yes quick hack keep original world remove deformable world ready explicit call deformable world wed wrote pull request include else include define definition intentional removed later thread reply directly view mute thread han northwestern university college,issue,positive,positive,positive,positive,positive,positive
527544663,"There is limited storage for graphics memory (vertices/indices), so you cannot keep on adding complex meshes. You need to use resetSimulation to clear the graphics memory. removeBody won't release the graphics memory.",limited storage graphic memory keep complex need use clear graphic memory wo release graphic memory,issue,negative,negative,neutral,neutral,negative,negative
527507644,"PyBullet is fully deterministic, as long as you send the same commands. If you step the simulation a different amount of times before applying a command, the world is in a different state and obviously proceeds in a different way.

Please provide a small pybullet reproduction case if you have an issue.
See this https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/saveRestoreState.py
and
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/unittests/saveRestoreStateTest.py",fully deterministic long send step simulation different amount time command world different state obviously proceeds different way please provide small reproduction case issue see,issue,negative,negative,neutral,neutral,negative,negative
527161292,"Thanks for the prompt reply and tips, @jrz371!
I'm trying to add support for dynamic concave mesh colliders to [ammo.js](https://github.com/kripken/ammo.js), a transpilation of Bullet to JavaScript, for a very specific use case where I don't necessarily need any realtime physics simulation, only on demand collision detection between kinematic rigid bodies with (possibly) concave mesh colliders, or possibly compound shapes consisting of convex meshes.",thanks prompt reply trying add support dynamic concave mesh bullet specific use case necessarily need physic simulation demand collision detection kinematic rigid possibly concave mesh possibly compound convex,issue,positive,positive,neutral,neutral,positive,positive
527152358,"Correct, the btGImpactMeshShape is what it should be.
The btGImpactMeshShape handles dynamic concave shapes. In order for it to work correctly you'll have to ensure you register the btGImpactCollisionAlgorithm. Be aware though that the GImpact stuff does not work well with softbody simulations.",correct dynamic concave order work correctly ensure register aware though stuff work well,issue,positive,positive,positive,positive,positive,positive
526937067,What is the compile error message you're fixing here?,compile error message fixing,issue,negative,neutral,neutral,neutral,neutral,neutral
524925726,"Indeed, btGImpactCollisionAlgorithm and using btGImpactMeshShape are not supported, in particular not with deformable/soft. There are no plans to support/improve btGimpact as far as I'm aware, it is left there since some people may find it useful.",indeed particular far aware left since people may find useful,issue,negative,positive,positive,positive,positive,positive
524591914,"I added a few comments, but let's merge the large PR for now and fix it afterwards.",added let merge large fix afterwards,issue,negative,positive,positive,positive,positive,positive
524500912,"You can use the pybullet.changeDynamics to change the mass of a link.
See https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3",use change mass link see,issue,negative,neutral,neutral,neutral,neutral,neutral
523246326,"After additional training for all night,
the walking policy was not improved.
How can I reproduce the success training result?
What is your environment for training?

The current state lists below.
////////////////////////////
Iteration: 12452
Wall_Time: 23.5
Samples: 53585223
Train_Return: 95.6
Test_Return: 141
State_Mean: 0.0443
State_Std: 1.02
Goal_Mean: 0
Goal_Std: 0
Exp_Rate: 0.33
Exp_Noise: 0.05
Exp_Temp: 0.00212
Critic_Loss: 0.00151
Critic_Stepsize: 0.01
Actor_Loss: 0.241
Actor_Stepsize: 2.5e-06
Clip_Frac: 0.166
Adv_Mean: -0.32381427
Adv_Std: 1.5180116",additional training night walking policy reproduce success training result environment training current state iteration,issue,positive,positive,positive,positive,positive,positive
522920946,"erwincoumans,

How many iterations did you train?
My current training output is listed below and one leg is still trailing behind.
////////////////////////////
Iteration:             4251 
Wall_Time:          7.87 
Samples:             17861183 
Train_Return:       33.4 
Test_Return:         103 
State_Mean:         0.0443 
State_Std:             1.02 
Goal_Mean:          0 
Goal_Std:              0 
Exp_Rate:              0.777 
Exp_Noise:            0.05 
Exp_Temp:            0.0277 
Critic_Loss:            0.00489 
Critic_Stepsize:      0.01 
Actor_Loss:            0.251 
Actor_Stepsize:      2.5e-06 
Clip_Frac:               0.142 
Adv_Mean:            0.047412183 
Adv_Std:               1.1984057 ",many train current training output listed one leg still trailing behind iteration,issue,negative,positive,neutral,neutral,positive,positive
522219056,"Hi, for me adding the flag URDF_MJCF_COLORS_FROM_FILE does not work. It says that it does not exists.

I am on version 2.5.3",hi flag work version,issue,negative,neutral,neutral,neutral,neutral,neutral
521820443,"I would use the unmodified pybullet_envs.deep_mimic code, not change the timestep.
Here is the walking gait I get after training:
https://www.youtube.com/watch?v=ZVfxgaQzBWU

~~~~~~~~~~~~
pip3 install -U --no-cache-dir pybullet
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt
~~~~~~~~~~~~

Note that the reward function doesn't include some components, such as reward for similar root/base position and orientation. If we implement all the parts of the reward function, it should be identical to deep_mimic.

Can you share a video?

By the way, Jason Peng (author DeepMimic) is sitting right next to me this summer, so I can ask him any questions :-)",would use unmodified code change walking gait get training pip install python note reward function include reward similar position orientation implement reward function identical share video way author sitting right next summer ask,issue,positive,positive,neutral,neutral,positive,positive
521512314,I am having the same question. It seems like the episode return always gets a big drop when I save and reload a model for retraining. I wonder if that's what's supposed to happen.,question like episode return always big drop save reload model wonder supposed happen,issue,positive,neutral,neutral,neutral,neutral,neutral
521507061,"Thanks a lot for the contribution. Let's merge it now, and make improvements when/if needed.",thanks lot contribution let merge make,issue,negative,positive,positive,positive,positive,positive
521457941,"I agree. I have an updated example with the gripper controlled by
constraints.

On Wed, Aug 14, 2019 at 15:56 erwincoumans <notifications@github.com> wrote:

> Ah, it is best to control such gripper using a fixed constraint, and move
> the child pivot of the constraint around. I would not reset the
> position/velocity before/after the simulation.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2351?email_source=notifications&email_token=AEYORNGCFILFAC6CUERT5FDQESETFA5CNFSM4IJBEUT2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD4KLEKY#issuecomment-521450027>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AEYORNCNG4HGDZZNA2QKVB3QESETFANCNFSM4IJBEUTQ>
> .
>
-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",agree example gripper wed wrote ah best control gripper fixed constraint move child pivot constraint around would reset simulation thread reply directly view mute thread han northwestern university college,issue,positive,positive,positive,positive,positive,positive
521455102,Thanks Erwin! Can you also review https://github.com/bulletphysics/bullet3/pull/2365 please? :),thanks also review please,issue,positive,positive,positive,positive,positive,positive
521450027,"Ah, it is best to control such gripper using a fixed constraint, and move the child pivot of the constraint around. I would not reset the position/velocity before/after the simulation.",ah best control gripper fixed constraint move child pivot constraint around would reset simulation,issue,positive,positive,positive,positive,positive,positive
521445465,"Because for this particular example, I'm controlling the gripper by
explicitly setting the position and velocity of the gripper before AND
after the solve through a callback. Therefore, picking on the gripper box
causes errors.

On Wed, Aug 14, 2019 at 1:38 PM erwincoumans <notifications@github.com>
wrote:

> Sounds good. A gripper is typically dynamic, why does it need to be
> kinematic?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2351?email_source=notifications&email_token=AEYORNASDTO5IVNLY3EMHCDQERUL7A5CNFSM4IJBEUT2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD4KBFNI#issuecomment-521409205>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AEYORNGGIY2JNFMX6RFSD6TQERUL7ANCNFSM4IJBEUTQ>
> .
>


-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",particular example gripper explicitly setting position velocity gripper solve therefore gripper box wed wrote good gripper typically dynamic need kinematic thread reply directly view mute thread han northwestern university college,issue,positive,positive,positive,positive,positive,positive
521409205,"Sounds good. A gripper is typically dynamic, why does it need to be kinematic?",good gripper typically dynamic need kinematic,issue,positive,positive,positive,positive,positive,positive
521408916,"thanks for updating the obj loader, keeping the local changes! LGTM.",thanks loader keeping local,issue,negative,positive,neutral,neutral,positive,positive
521310678,"Don't expect too much, the mjcf2urdf is a quick rudimentary hack, only covering a small subset of mjcf that was used to get the gym environments working.",expect much quick rudimentary hack covering small subset used get gym working,issue,negative,positive,neutral,neutral,positive,positive
521277303,"2d hopper, 2d half cheetah, humanoid, ant etc are all part of PyBullet pybullet_envs and pybullet_data including their Gym environments and pre-trained policies/neural network weights.

MJCF files are here:
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_data/mjcf

~~~~~~~~~~~~~~
pip3 install pybullet
python3 -m pybullet_envs.examples.enjoy_TF_HopperBulletEnv_v0_2017ma
python3 -m pybullet_envs.examples.enjoy_TF_AntBulletEnv_v0_2017may
python3 -m pybullet_envs.examples.enjoy_TF_HumanoidBulletEnv_v0_2017may
python3 -m pybullet_envs.examples.enjoy_TF_HumanoidFlagrunHarderBulletEnv_v1_2017jul
~~~~~~~~~~~~~~

I quickly converted them to urdf, not tested using the mjcf2urdf.py util.
[2d_hopper_cheetah.zip](https://github.com/bulletphysics/bullet3/files/3501893/2d_hopper_cheetah.zip)

mjcf2urdf.py utility:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_utils/examples/mjcf2urdf.py
",hopper half cheetah humanoid ant part gym network pip install python python python python quickly converted tested utility,issue,negative,positive,neutral,neutral,positive,positive
521253524,"@erwincoumans i would be very interested in having URDF files of 2D hopper and half cheetah! Are these available somewhere online, or could you provide them to me? Best, Jonas

edit: i just found URDF models [here](https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_data) but none of the two mentioned above, could you point me to the location? Thanks!",would interested hopper half cheetah available somewhere could provide best edit found none two could point location thanks,issue,positive,positive,positive,positive,positive,positive
520794898,"@pkovacs86 
Please try building this executable and link it to your dll.
```
#include <BulletCollision/NarrowPhaseCollision/btPersistentManifold.h>
int main() {
    gContactProcessedCallback = nullptr;
    return 0;
}
```

The problem with dll's is that extern variables are not exported, even when setting `CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS` in cmake:
https://github.com/bulletphysics/bullet3/blob/cdd56e46411527772711da5357c856a90ad9ea67/src/BulletCollision/NarrowPhaseCollision/btPersistentManifold.h#L39-L42
and similar lines (probably all those using `extern`) should be exported.
In other words, they require a `__declspec(dllexport)` in Visual Studio and `__attribute__((visibility(""default"")))` in other gcc/clang/other.

I guess it would be useful to prepend these and similar variables with BULLET3_API and define BULLET3_API using the some ifdef'ery.",please try building executable link include main return problem extern even setting similar probably extern require visual studio visibility default guess would useful similar define,issue,negative,positive,neutral,neutral,positive,positive
520769853,"I can confirm that the following cmake command could build the correct DLLs on Windows
if(NOT BULLET_DLL_READY)
# build bullet dlls
	foreach (CONF ${CMAKE_CONFIGURATION_TYPES})
		message (STATUS ""Configuring bullet for ${CONF}, please wait....."")
		execute_process ( 
				COMMAND ${CMAKE_COMMAND}
				-DBUILD_SHARED_LIBS:BOOL=ON
				-DUSE_MSVC_RUNTIME_LIBRARY_DLL:BOOL=ON
				-DBUILD_BULLET2_DEMOS:BOOL=OFF
				-DBUILD_OPENGL3_DEMOS:BOOL=OFF
				-DBUILD_CPU_DEMOS:BOOL=OFF
				-DBUILD_UNIT_TESTS:BOOL=OFF
				-DBUILD_EXTRAS:BOOL=OFF
				-G ${CMAKE_GENERATOR} 
				.
				WORKING_DIRECTORY ${BULLET_HOME}
				RESULT_VARIABLE error OUTPUT_VARIABLE output ERROR_VARIABLE output
				)		
		reportError (output if error)
		message (STATUS ""Building bullet for ${CONF}, please wait....."")
		execute_process ( 
			COMMAND ${CMAKE_COMMAND} --build . --config ${CONF} --target ALL_BUILD
			WORKING_DIRECTORY ${BULLET_HOME}
			RESULT_VARIABLE error OUTPUT_VARIABLE output ERROR_VARIABLE output)
		reportError (output if error)
	endforeach ()
endif ()",confirm following command could build correct build bullet message status bullet please wait command error output output output error message status building bullet please wait command build target error output output output error,issue,negative,neutral,neutral,neutral,neutral,neutral
520173146,"> Thanks a lot. We just tried out the grasp demo and if you pick one of the gripper boxes, the deformable body behaves wrong. Could you try it?

I just pushed a new commit to fix the gripper by giving the gripper large mass. Ideally the gripper should be treated as a kinematic object with infinite mass. However, I don't have a good way to access nonStaticObject. Any suggestions? Thanks!

On a separate note, I have a new contact/friction formulation that significantly improves stability and performance. We should discuss it some time.",thanks lot tried grasp pick one gripper deformable body wrong could try new commit fix gripper giving gripper large mass ideally gripper kinematic object infinite mass however good way access thanks separate note new formulation significantly stability performance discus time,issue,positive,positive,positive,positive,positive,positive
520035572,"I’ll look into it and get back to you. Thanks!

Xuchen

On Fri, Aug 9, 2019 at 12:07 erwincoumans <notifications@github.com> wrote:

> Thanks a lot. We just tried out the grasp demo and if you pick one of the
> gripper boxes, the deformable body behaves wrong. Could you try it?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2351?email_source=notifications&email_token=AEYORNHFCYUQM3BUBUSCHVDQDW56ZA5CNFSM4IJBEUT2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD37QVIQ#issuecomment-520030882>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AEYORNBQ733COH2UVTWTDZDQDW56ZANCNFSM4IJBEUTQ>
> .
>
-- 
Xuchen Han
Northwestern University '15
Weinberg College of Arts and Sciences
",look get back thanks wrote thanks lot tried grasp pick one gripper deformable body wrong could try thread reply directly view mute thread han northwestern university college,issue,negative,positive,neutral,neutral,positive,positive
520030882,"Thanks a lot. We just tried out the grasp demo and if you pick one of the gripper boxes, the deformable body behaves wrong. Could you try it?",thanks lot tried grasp pick one gripper deformable body wrong could try,issue,negative,negative,negative,negative,negative,negative
520025969,"Even with 6 joints and 6DOF you can have infinite many solutions.
PyBullet allows you to tune the solution, using various parameters, in particular using a null space. This can be used to generate many solutions.
See also https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_kinematics.py",even infinite many tune solution various particular null space used generate many see also,issue,negative,positive,positive,positive,positive,positive
520024323,"This is expected, it is an internal file. Try running minitaur_raibert_controller_example.py instead, located in pybullet_envs.minitaur.envs
If you installed pybullet using pip/pip3, you can run:
~~~~~~~~~~
python3 -m pybullet_envs.minitaur.envs.minitaur_raibert_controller_example
~~~~~~~~~~",internal file try running instead run python,issue,negative,neutral,neutral,neutral,neutral,neutral
519996967,Thanks for the fix. I thought it was just me using premake and everyone else cmake :-),thanks fix thought premake everyone else,issue,negative,positive,positive,positive,positive,positive
519957508,"Actually I am using an holonomic robot (6 joints (rotations) for 6DOF). So the number of solution is not infinite. Do you know a (python) IK solver that returns all configurations using a URDF or a DH modelisation? 
Thanks for your answer. ",actually robot number solution infinite know python solver thanks answer,issue,positive,positive,neutral,neutral,positive,positive
519934338,"No.
For a redundant manipulator (more degrees of freedom than required) there are an infinite number of solutions.",redundant manipulator freedom infinite number,issue,positive,negative,negative,negative,negative,negative
518874286,"We can't just add 'mass' to rigid body, can you remove it? There is already inv_mass.
",ca add rigid body remove already,issue,negative,neutral,neutral,neutral,neutral,neutral
518479661,"> You can attach some information to this pull request (you can zip the file), or add some plain text at the top of btDeformableRigidDynamicsWorld.cpp, under the zlib license header?

I will add the overview of the algorithm in plain text at the top of btDeformableRigidDynamicsWorld.cpp under the zlib license header.

",attach information pull request zip file add plain text top license header add overview algorithm plain text top license header,issue,negative,positive,positive,positive,positive,positive
518479408,"> Indeed, please don't modify the existing btSoftBody, nor btRigidBody or btMultiBody behavior. Some people are still using btSoftBody.

Ok, I will make the change to keep the behavior of btSoftBody. Should I push once I finish making these changes or would you prefer I push after you finish reviewing the current version of the pull request?",indeed please modify behavior people still make change keep behavior push finish making would prefer push finish current version pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
518477903,">> Also, where would you recommend I put the high-level overview of the algorithm?

You can attach some information to this pull request (you can zip the file), or add some plain text at the top of btDeformableRigidDynamicsWorld.cpp, under the zlib license header? 

Thanks for all the work on this!",also would recommend put overview algorithm attach information pull request zip file add plain text top license header thanks work,issue,positive,positive,positive,positive,positive,positive
518477567,"Indeed, please don't modify the existing btSoftBody, nor btRigidBody or btMultiBody behavior. Some people are still using btSoftBody.",indeed please modify behavior people still,issue,negative,neutral,neutral,neutral,neutral,neutral
518475842,"I made changes to btSoftBody and btSoftBodyInternal in a way that interfere with the original soft body simulation as I was under the impression that we are going to deprecate the old soft body simulation all together. If you'd prefer supporting both the PBD softbody and the CG deformable body, I will make the changes to support that accordingly.",made way interfere original soft body simulation impression going deprecate old soft body simulation together prefer supporting deformable body make support accordingly,issue,positive,positive,positive,positive,positive,positive
518470337,"> I tried compiling and running the DeformableDemo but it doesn't work. There are various uninitialized variables.
> It would highly recommend to avoid copying the array's of soft bodies in various places, and also avoid copying the other data such as delta time: m_dt is uninitialized in the btDeformableBackwardEulerObjective constructor, but still passed into the projection class. m_dt is used in predictMotion before the setDt is called. I added a call to m_objective->setDt(solverdt); in
> 
> ```
> btDeformableBodySolver::predictMotion(
> ```
> 
> In addition, the btVector3 doesn't have a default constructor to zero, so when resizing arrays, you have to explicitly set the value to btVector3 (0,0,0).
> 
> So you can use:
> 
> ```
>         m_dv.resize(m_numNodes, btVector3(0,0,0));
>         m_residual.resize(m_numNodes, btVector3(0, 0, 0));
>         m_backupVelocity.resize(m_numNodes, btVector3(0, 0, 0));
> ```
> 
> Instead of iterating and setting the value afterwards.

Avoiding copying dt and the array of softbodies is hard as those information are needed throughout all stages of the algorithm.  Do you have any suggestions on how to prevent copying?

setDt should be called in reinitialize, before all computations are made, and I will make the changes  regarding resize in the next commit.

Also, where would you recommend I put the high-level overview of the algorithm?",tried running work various would highly recommend avoid array soft various also avoid data delta time constructor still projection class used added call addition default constructor zero explicitly set value use instead setting value afterwards array hard information throughout algorithm prevent made make regarding resize next commit also would recommend put overview algorithm,issue,positive,negative,neutral,neutral,negative,negative
518457443,"I tried compiling and running the DeformableDemo but it doesn't work. There are various uninitialized variables.
It would highly recommend to avoid copying the array's of soft bodies in various places, and also avoid copying the other data such as delta time: m_dt is uninitialized in the btDeformableBackwardEulerObjective constructor, but still passed into the projection class. m_dt is used in predictMotion before the setDt is called. I added a call to m_objective->setDt(solverdt); in 
~~~~~~~~~~~~~~~
btDeformableBodySolver::predictMotion(
~~~~~~~~~~~~~~~
In addition, the btVector3 doesn't have a default constructor to zero, so when resizing arrays, you have to explicitly set the value to btVector3 (0,0,0).

So you can use:
~~~~~~~~~~~~~
        m_dv.resize(m_numNodes, btVector3(0,0,0));
        m_residual.resize(m_numNodes, btVector3(0, 0, 0));
        m_backupVelocity.resize(m_numNodes, btVector3(0, 0, 0));
~~~~~~~~~~~~~
Instead of iterating and setting the value afterwards.
",tried running work various would highly recommend avoid array soft various also avoid data delta time constructor still projection class used added call addition default constructor zero explicitly set value use instead setting value afterwards,issue,negative,positive,neutral,neutral,positive,positive
518447869,"> Do you have a video of the resulting policy?
> 
> I am not familiar with Openai td3. How do you exactly install it? What version of Tensorflow, gym etc?

By the way, how to save the simulation to a video? I can run it on my computer(for humanoid env, the policy seems failed), but don't know how to save it to a video. I tried to use gym.wrappers.Monitor to save it but occurred this error ""TypeError: 'module' object is not callable"" .",video resulting policy familiar exactly install version gym way save simulation video run computer humanoid policy know save video tried use save error object callable,issue,positive,positive,positive,positive,positive,positive
518287698,"Thanks for the contribution!  Just a few quick remarks, I will review more closely and try to build/run it etc.

1) Can you briefly describe algorithms, high-level loop and the soft body constraints you are solving using conjugate gradient? Are those solved on the positional level (like PBD) or on the velocity level? How is projection done for contact constraints?  How does the 'predict' and 'interpolation' fit in the algorithm?

Do you have any references/papers of your approach (or close/similar to it)?

2) Can you replace the copyright of new files to 2019 Google Inc?

3) For C++ files Bullet uses tabs and not spaces. You don't need to fix them all now, just a remark. I will run the clang-format-all.sh script, please don't use that script, otherwise you get tons of whitespace changes that I cannot review by hand.

4) In the ExampleBrowser names, we already have a 'SoftBody' section with can do cloth and deformable. For the examples, we may need a more clear name to separate them. For example, SoftBody (PBD) and SoftBody(CG).

5) You are changing some existing API's, I need to review them soon too.",thanks contribution quick review closely try briefly describe loop soft body conjugate gradient positional level like velocity level projection done contact fit algorithm approach replace copyright new bullet need fix remark run script please use script otherwise get review already section cloth deformable may need clear name separate example need review soon,issue,positive,positive,positive,positive,positive,positive
518103168,"> Do you have a video of the resulting policy?
> 
> I am not familiar with Openai td3. How do you exactly install it? What version of Tensorflow, gym etc?

Hi, TensorFlow version is 1.14.0, gym version:0.14.0, I install it just flow its official instruction on its website [openai spinningup](https://spinningup.openai.com/en/latest/user/installation.html). I tried to run the resulting policy in humanoid env, and the policy failed.",video resulting policy familiar exactly install version gym hi version gym version install flow official instruction tried run resulting policy humanoid policy,issue,negative,positive,positive,positive,positive,positive
518062308,"Do you have a video of the resulting policy?

I am not familiar with Openai td3. How do you exactly install it? What version of Tensorflow, gym etc?",video resulting policy familiar exactly install version gym,issue,negative,positive,positive,positive,positive,positive
518054998,"> Can you share the learning curve and a video of the resulting policy? Also, steps to reproduce it, in detail (pip installs, apt-get installs etc)

Hi, I install the pybullet through `pip install pybullet`, and use the Openai td3's default setting for the test. Below is its test result(average over ten times test) from seed 4.
![output](https://user-images.githubusercontent.com/4834562/62434669-954a1a00-b77c-11e9-998e-78fb0f41a80e.png)

Every seed(0-4) has similar testing results and no significant change during the whole training process(the test results stay around 1600).

",share learning curve video resulting policy also reproduce detail pip hi install pip install use default setting test test result average ten time test seed output every seed similar testing significant change whole training process test stay around,issue,negative,positive,neutral,neutral,positive,positive
518009002,"Can you share the learning curve and a video of the resulting policy? Also, steps to reproduce it, in detail (pip installs, apt-get installs etc)",share learning curve video resulting policy also reproduce detail pip,issue,negative,neutral,neutral,neutral,neutral,neutral
517928506,"Is there a way to exclude examples, in particular examples/ThirdPartyLibs? and exclude Bullet/src/Bullet3* ? The OpenCL pipeline is dead/unused, and I have no intention to fix ThirdPartyLibs.",way exclude particular exclude pipeline intention fix,issue,negative,positive,positive,positive,positive,positive
517866172,"@maedmaex Hi, please see [this](https://github.com/junhyeokahn/PnC/blob/7ef3cc3163d4aa1f32d8b5271223c3dba5f5d1da/ReinforcementLearning/MyGym/WalkerBaseEnv.py#L120).
Note that this is modified based on [pybullet-gym](https://github.com/benelot/pybullet-gym).",hi please see note based,issue,negative,neutral,neutral,neutral,neutral,neutral
517784000,"By the way,
> Is there a python API for changing light source in GUI?

This has been resolved in PR #2298",way python light source resolved,issue,negative,positive,positive,positive,positive,positive
517761230,@junhyeokahn could you share the related work you mentioned :) thanks,could share related work thanks,issue,positive,positive,neutral,neutral,positive,positive
517729760,"I suggest to avoid [ignorance of return values](https://cwe.mitre.org/data/definitions/252.html ""Checking more return values"") a bit more.
Would you like to detect every error situation as early as possible?",suggest avoid ignorance return return bit would like detect every error situation early possible,issue,negative,positive,neutral,neutral,positive,positive
517713269,Thanks for the report. We probably should call setInterpolationWorldTransform when adding the body to the world.,thanks report probably call body world,issue,negative,positive,positive,positive,positive,positive
517634942,"Hey, could you share any code to be able to help you",hey could share code able help,issue,positive,positive,positive,positive,positive,positive
517536755,I see. Thank you for the quick response!,see thank quick response,issue,negative,positive,positive,positive,positive,positive
517440344,"Do you want the cylinder to be dynamic moving or static environment?
For dynamic moving, you can consider using convex decomposition, using V-HACFD. There is a utility to do this in the Extras folder, use premake.
For static geometry, you can flag the obj mesh as concave: modify the URDF file and in the collision tag add 
~~~~~~~~~~~~~
<collision concave=""yes"">
~~~~~~~~~~~~~
Only do this when needed, otherwise it hurts performance and stability. ",want cylinder dynamic moving static environment dynamic moving consider convex decomposition utility folder use premake static geometry flag mesh concave modify file collision tag add collision yes otherwise performance stability,issue,negative,positive,positive,positive,positive,positive
517424961,How do you think about to improve affected source code by the usage of smart pointers?,think improve affected source code usage smart,issue,positive,positive,positive,positive,positive,positive
517424361,"If you put a btCollisionObject* as a ground plane in the Planar2D demo, your modification would make it crash. For this kind of things, I'd rather be on the safer side in C++.",put ground plane modification would make crash kind rather side,issue,negative,positive,positive,positive,positive,positive
517422733,Would any other developers like to avoid another bit of redundant condition checks?,would like avoid another bit redundant condition,issue,negative,negative,negative,negative,negative,negative
516703830,"pybullet.changeVisualShape(objectUniqueId, linkIndex, ..., rgbaColor=[r,g,b,a])
If using an .obj file, the MTL allows adjusting the color, that may override the urdf setting.",file color may override setting,issue,negative,neutral,neutral,neutral,neutral,neutral
516662417,"> Hi, Does anyone know how to added parallel gripper to KUKA sdf file given in pybullet_env ?.
> 
> I tried to added a different gripper base to kuka arm and it works. But when I try to add parallel grippers using prismatic joints it does not seem to work.
> 
> Does anyone have an idea on How to create parallel gripper sdf file ?
> 
> Thank you!

I also want to solve this problem. you have achieve it?

",hi anyone know added parallel gripper file given tried added different gripper base arm work try add parallel prismatic seem work anyone idea create parallel gripper file thank also want solve problem achieve,issue,negative,negative,negative,negative,negative,negative
516656456,"I'll check it out. Until then, don't restart that example more than a trillion times :)",check restart example trillion time,issue,negative,neutral,neutral,neutral,neutral,neutral
516649428,"tinyrenderer example also fixed, for create cube x,y,z (and not x,y,y)",example also fixed create cube,issue,negative,positive,neutral,neutral,positive,positive
516648877,"We should probably get rid of BussIK and also from the Bullet3/OpenCL code, it is not used.
Same for enet/tests etc.",probably get rid also code used,issue,negative,neutral,neutral,neutral,neutral,neutral
516648611,"Thanks for the report! Most of the issues were in examples, which are less strictly developed.
Still, good to fix it, now it uses B3_PI:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.cpp#L4145

Oh, and Bullet and PyBullet are still very actively developed and used, in particular for robotics and reinforcement learning.",thanks report le strictly still good fix oh bullet still actively used particular reinforcement learning,issue,positive,positive,positive,positive,positive,positive
516545497,"Found an important information that helped me solve this issue.
In bullet linkIndex == jointIndex

Using the above, I currently have the following solution below
```python
_link_name_to_index = {p.getBodyInfo(model_id)[0].decode('UTF-8'):-1,}
        
for _id in range(p.getNumJoints(model_id)):
	_name = p.getJointInfo(model_id, _id)[12].decode('UTF-8')
	_link_name_to_index[_name] = _id
```",found important information solve issue bullet currently following solution python range,issue,positive,positive,positive,positive,positive,positive
516462178,"Does the linkname returned by getJointInfo not work for you? If so, reopen and describe a repro case.",returned work reopen describe case,issue,negative,neutral,neutral,neutral,neutral,neutral
516422086,"> Performance is improved in this CL, please check it out:
> #2332
> This enables C++ stablePD control and various array versions of PyBullet APIs
> (getJointStatesMultiDof, getLinkStates etc)

Also tested on Intel Core i7-7700HQ and runs orders of magnitude faster, thank you.

```
python mpi_run.py --arg_file train_humanoid3d_spinkick_args.txt --num_workers 4
```
```
Agent 0
-------------------------------------
|       Iteration |              15 |
|       Wall_Time |           0.042 |
|         Samples |           66547 |
|    Train_Return |            2.22 |
|     Test_Return |             2.1 |
|      State_Mean |           0.495 |
|       State_Std |            1.85 |
|       Goal_Mean |               0 |
|        Goal_Std |               0 |
|        Exp_Rate |           0.999 |
|       Exp_Noise |            0.05 |
|        Exp_Temp |          0.0995 |
|     Critic_Loss |         0.00188 |
| Critic_Stepsize |            0.01 |
|      Actor_Loss |            0.26 |
|  Actor_Stepsize |         2.5e-06 |
|       Clip_Frac |           0.147 |
|        Adv_Mean |     0.013043177 |
|         Adv_Std |       0.6059316 |
-------------------------------------
```",performance please check control various array also tested core magnitude faster thank python agent iteration,issue,positive,neutral,neutral,neutral,neutral,neutral
516314134,@benelot It would be much better to have getLinkInfo to extract link names rather than from getJointInfo. Could we reopen this issue to fix this? Thanks,would much better extract link rather could reopen issue fix thanks,issue,positive,positive,positive,positive,positive,positive
515699467,"Thanks for the contribution, let's merge it anyway to learn the other motions.

Also note that the learning speed increased a lot, since recent optimizations.",thanks contribution let merge anyway learn also note learning speed lot since recent,issue,negative,positive,neutral,neutral,positive,positive
515694415,Increasing the ball's stiffness and (surprisinginly?) increasing the simulation time step resolved this issue. I still don't understand why adding in these joints impacted the parameters I had to use.,increasing ball stiffness increasing simulation time step resolved issue still understand impacted use,issue,negative,neutral,neutral,neutral,neutral,neutral
515649471,"Hi Erwin. Thanks for your time.

If I wanted to change `gUrdfDefaultCollisionMargin` to a much smaller value, is there a way to do so in python?

If not, I have searched the source code and I see `gUrdfDefaultCollisionMargin` appearing in 3 places: 
examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp
examples/SharedMemory/physx/PhysXUrdfImporter.cpp 
examples/SharedMemory/physx/URDF2PhysX.cpp

Am I right in guessing that I need to change the value in BulletUrdfImporter.cpp? (And excuse my lack of expertise with c++, but after changing the value, do I need to reinstall pybullet, from the changed source, using the build instructions provided in this repo's readme?)

Thanks!",hi thanks time change much smaller value way python source code see right guessing need change value excuse lack value need reinstall source build provided thanks,issue,positive,positive,positive,positive,positive,positive
515541348,"I suspected that the two objects were using the same world frame, but renaming all the links and joints of one object didn't help. Using `URDF_USE_SELF_COLLISION` in `loadURDF` also didn't help.",suspected two world frame link one object help also help,issue,positive,neutral,neutral,neutral,neutral,neutral
515229522,"Ok, using 2 prismatic joint constraints to keep the torso planar. I applied the same method to a cylinder and a ball and got them to move only on the x-y plane, but now they are not collision checked against each other. Are links attached by joints not collision checked? Do you have any recommendations on getting collisions back? The 2 urdfs are:

(cylinder; used to be a ball)
```
<?xml version=""1.0"" encoding=""utf-8""?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from models/ball.xacro              | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name=""ball"" xmlns:xacro=""http://www.ros.org/wiki/xacro"">
  <link name=""base_link"">
    <contact>
      <stiffness value=""100""/>
      <damping value=""0""/>
      <rolling_friction value=""0""/>
      <spinning_friction value=""0""/>
    </contact>
    <visual>
      <geometry>
        <cylinder length=""5.2"" radius=""1.0""/>
      </geometry>
      <material name=""blue"">
        <color rgba=""0 32 255 1""/>
      </material>
    </visual>
    <collision>
      <surface>
        <bounce restitution_coefficient=""1.0"" threshold=""0.01""/>
      </surface>
      <geometry>
        <cylinder length=""5.2"" radius=""1.0""/>
      </geometry>
    </collision>
    <inertial>
      <mass value=""2""/>
      <inertia ixx=""0.8"" ixy=""0"" ixz=""0"" iyy=""0.8"" iyz=""0"" izz=""0.8""/>
    </inertial>
  </link>


  <link name=""world"">
    <inertial>
      <mass value=""0""/>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
      <inertia ixx=""0"" ixy=""0"" ixz=""0"" iyy=""0"" iyz=""0"" izz=""0""/>
    </inertial>
  </link>
  <link name=""y_prismatic"">
    <inertial>
      <mass value=""0.01""/>
      <inertia ixx=""0.2125"" ixy=""-0.005"" ixz=""0.0225"" iyy=""0.205"" iyz=""0.045"" izz=""0.0125""/>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
    </inertial>
  </link>
  <joint name=""y_to_world"" type=""prismatic"">
    <parent link=""world""/>
    <child link=""y_prismatic""/>
    <axis xyz=""0 1 0""/>
    <limit effort=""0.0"" lower=""1"" upper=""-1"" velocity=""1000.0""/>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
  </joint>
  <link name=""x_prismatic"">
    <inertial>
      <mass value=""0.01""/>
      <inertia ixx=""0.2125"" ixy=""-0.005"" ixz=""0.0225"" iyy=""0.205"" iyz=""0.045"" izz=""0.0125""/>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
    </inertial>
  </link>
  <joint name=""x_to_y"" type=""prismatic"">
    <parent link=""y_prismatic""/>
    <child link=""x_prismatic""/>
    <axis xyz=""1 0 0""/>
    <limit effort=""0.0"" lower=""1"" upper=""-1"" velocity=""1000.0""/>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
  </joint>
  <joint name=""base_to_x"" type=""continuous"">
    <parent link=""x_prismatic""/>
    <child link=""base_link""/>
    <axis xyz=""0 0 1""/>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
  </joint>
</robot>
```

(ball)
```
<?xml version=""1.0"" encoding=""utf-8""?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from models/robot.xacro             | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name=""point"" xmlns:xacro=""http://www.ros.org/wiki/xacro"">
  <link name=""base_link"">
    <contact>
      <stiffness value=""100000000""/>
      <damping value=""0""/>
      <rolling_friction value=""0""/>
      <spinning_friction value=""0""/>
    </contact>
    <visual>
      <geometry>
        <sphere radius=""0.1""/>
      </geometry>
      <material name=""orange"">
        <color rgba=""255 215 0 1""/>
      </material>
    </visual>
    <collision>
      <surface>
        <bounce restitution_coefficient=""1.0"" threshold=""0.01""/>
      </surface>
      <geometry>
        <sphere radius=""0.1""/>
      </geometry>
    </collision>
    <inertial>
      <mass value=""5""/>
      <inertia ixx=""0.02"" ixy=""0"" ixz=""0"" iyy=""0.02"" iyz=""0"" izz=""0.02""/>
    </inertial>
  </link>


  <link name=""world"">
    <inertial>
      <mass value=""0""/>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
      <inertia ixx=""0"" ixy=""0"" ixz=""0"" iyy=""0"" iyz=""0"" izz=""0""/>
    </inertial>
  </link>
  <link name=""y_prismatic"">
    <inertial>
      <mass value=""0.01""/>
      <inertia ixx=""0.2125"" ixy=""-0.005"" ixz=""0.0225"" iyy=""0.205"" iyz=""0.045"" izz=""0.0125""/>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
    </inertial>
  </link>
  <joint name=""y_to_world"" type=""prismatic"">
    <parent link=""world""/>
    <child link=""y_prismatic""/>
    <axis xyz=""0 1 0""/>
    <limit effort=""0.0"" lower=""1"" upper=""-1"" velocity=""1000.0""/>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
  </joint>
  <link name=""x_prismatic"">
    <inertial>
      <mass value=""0.01""/>
      <inertia ixx=""0.2125"" ixy=""-0.005"" ixz=""0.0225"" iyy=""0.205"" iyz=""0.045"" izz=""0.0125""/>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
    </inertial>
  </link>
  <joint name=""x_to_y"" type=""prismatic"">
    <parent link=""y_prismatic""/>
    <child link=""x_prismatic""/>
    <axis xyz=""1 0 0""/>
    <limit effort=""0.0"" lower=""1"" upper=""-1"" velocity=""1000.0""/>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
  </joint>
  <joint name=""base_to_x"" type=""continuous"">
    <parent link=""x_prismatic""/>
    <child link=""base_link""/>
    <axis xyz=""0 0 1""/>
    <origin rpy=""0 0 0"" xyz=""0 0 0""/>
  </joint>
</robot>
```
 ",prismatic joint keep torso planar applied method cylinder ball got move plane collision checked link attached collision checked getting back cylinder used ball document file hand robot ball link contact stiffness damping visual geometry cylinder material blue color collision surface bounce geometry cylinder inertial mass inertia link world inertial mass origin inertia link inertial mass inertia origin joint prismatic parent world child axis limit origin link inertial mass inertia origin joint prismatic parent child axis limit origin joint continuous parent child axis origin ball document file hand robot point link contact stiffness damping visual geometry sphere material orange color collision surface bounce geometry sphere inertial mass inertia link world inertial mass origin inertia link inertial mass inertia origin joint prismatic parent world child axis limit origin link inertial mass inertia origin joint prismatic parent child axis limit origin joint continuous parent child axis origin,issue,negative,neutral,neutral,neutral,neutral,neutral
514801686,"At the moment, you need to model the rotor explicitly and add a gearing constraint to model the gearing ratio. This will have the effect of reflected inertia. See also the description in the Modern Robotics book (http://modernrobotics.org, there is a free pdf of the book)
We can also implement the gearing ratio directly into the Articulated Body Algorithm, as described in section 8.9.2 of that book. This is done in the MIT Mini Cheetah simulator.
See the gearing ratio in this implementation:
https://github.com/mit-biomimetics/Cheetah-Software/blob/master/common/src/Dynamics/FloatingBaseModel.cpp#L479

I'll look into having this also in PyBullet. Until then, try modeling the rotor and add a gearing constraint.
See the [mimicJointConstraint.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/mimicJointConstraint.py) for an example, the constraint supports a gearing ratio.",moment need model rotor explicitly add gearing constraint model gearing ratio effect reflected inertia see also description modern book free book also implement gearing ratio directly articulated body algorithm section book done cheetah simulator see gearing ratio implementation look also try modeling rotor add gearing constraint see example constraint gearing ratio,issue,positive,positive,positive,positive,positive,positive
514323618,"Some demos have graphics, others don't. Use the ExampleBrowser for graphics.",demo graphic use graphic,issue,negative,neutral,neutral,neutral,neutral,neutral
514320480,"In most cases, Bullet uses quaternions and matrices by default. For btRigidBody, the rotation is specified in a fixed world frame. For btMultiBody, joint angle rotations are in local frame.",bullet matrix default rotation fixed world frame joint angle local frame,issue,negative,positive,neutral,neutral,positive,positive
514017227,"Sounds good. I also left some debugging code in the release. Will update to 2.5.3 soon, and upload a trained policy for backflip. 'walk' should be fine:
~~~~~~~~~~~~~~~~~~
pip3 install -U pybullet
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_walk_args.txt
~~~~~~~~~~~~~~~~~~",good also left code release update soon trained policy fine pip install python,issue,positive,positive,positive,positive,positive,positive
513931871,"You need at least version 2.5.2 which I uploaded a minute ago. Try again using
~~~~~~~~~~~~
pip3 install -U pybullet
~~~~~~~~~~~~
Note that due to small behavior change, the policies need to be retrained (I will upload new default policies soon).",need least version minute ago try pip install note due small behavior change need new default soon,issue,negative,negative,negative,negative,negative,negative
513900295,"Thanks!!@erwincoumans 
I tried to run deepmimic, but the new version says ""module 'pybullet' has no attribute 'resetJointStatesMultiDof'"". I think my pybullet is not updated. I installed pybullet via ""pip install pybullet"". How should I solve this issue?  Thanks!",thanks tried run new version module attribute think via pip install solve issue thanks,issue,positive,positive,positive,positive,positive,positive
513858883,"Seems to be safe to apply (I don't use gnu on Windows so I didn't test), thanks for the contribution!",safe apply use gnu test thanks contribution,issue,positive,positive,positive,positive,positive,positive
513857227,"Changing the maximum number of iterations has solved my issue, had to go to 50 iterations to get a 0.1mm accuracy.
Just import pybullet and pybullet data (v2.5.1), and get the UR10 from [https://github.com/ros-industrial/robot_movement_interface](url). 
thanks for your quick reply !",maximum number issue go get accuracy import data get ur thanks quick reply,issue,negative,positive,positive,positive,positive,positive
513848663,"For reproduction we need a full working PyBullet file (including the import pybullet lines and its dependencies) and the UR10 URDF (and its assets), where is it?

Also, you need to track down if the error is due to simulation: replace the control with resetJointState.

If the target is matched better using resetJointState, it is likely due to dynamics/limits.
If the error is similar, you may need more IK iterations.",reproduction need full working file import ur asset also need track error due simulation replace control target better likely due error similar may need,issue,negative,positive,neutral,neutral,positive,positive
513587342,"Performance is improved in this CL, please check it out:
https://github.com/bulletphysics/bullet3/pull/2332
This enables C++ stablePD control and various array versions of PyBullet APIs
(getJointStatesMultiDof, getLinkStates etc)

~~~~~~~~~~~~~~
//using a 72-core machine, disabling hyper threading (so 36 cores enabled)
python3 mpi_run.py --arg_file train_humanoid3d_walk_args.txt --num_workers 34

Agent 0
-------------------------------------
|       Iteration |               0 |
|       Wall_Time |        0.000893 |
|         Samples |            4309 |
|    Train_Return |            4.09 |
|     Test_Return |            4.84 |
|      State_Mean |           0.133 |
|       State_Std |            1.23 |
|       Goal_Mean |               0 |
|        Goal_Std |               0 |
|        Exp_Rate |               1 |
|       Exp_Noise |            0.05 |
|        Exp_Temp |             0.1 |
|     Critic_Loss |           0.073 |
| Critic_Stepsize |            0.01 |
|      Actor_Loss |           0.479 |
|  Actor_Stepsize |         2.5e-06 |
|       Clip_Frac |            0.66 |
|        Adv_Mean |      -4.5996375 |
|         Adv_Std |        2.766846 |
-------------------------------------


~~~~~~~~~~~~~~
",performance please check control various array machine hyper python agent iteration,issue,negative,neutral,neutral,neutral,neutral,neutral
512821369,"Ok. If someone were interested in implementing Bullet 3, would it be possible to talk to you about what your thoughts were in implementing it? I have looked over the Bullet 3 code, specifically the b3Cpu Pipeline as that is what would be the most interesting pipeline for the project I am currently working on. There is definitely something workable there in the Bullet 3 code and I have ideas about how it could be effectively multi-threaded, I would like to know your thoughts first, however.",someone interested bullet would possible talk bullet code specifically pipeline would interesting pipeline project currently working definitely something workable bullet code could effectively would like know first however,issue,positive,positive,positive,positive,positive,positive
512780503,"The axis aligned bound box (AABB) is be padded for various reasons so it is not assumed to be perfectly tight. The AABB is only used to get potential overlapping pairs, so if the AABB is bigger that is no issue. Collision shapes including some default collision margin (see gUrdfDefaultCollisionMargin in the source code). If extreme precision is needed, I would look for other solutions or start becoming more familiar with the internals of Bullet/PyBullet.",axis bound box various assumed perfectly tight used get potential bigger issue collision default collision margin see source code extreme precision would look start becoming familiar internals,issue,negative,positive,neutral,neutral,positive,positive
512778208,"PyBullet is our current focus and it has a C and C++ variant of the API. See 
https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3",current focus variant see,issue,negative,neutral,neutral,neutral,neutral,neutral
512778022,I would recommend looking into PyBullet and its documentation. It has those features and targets robotics and reinforcement learning. See https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3,would recommend looking documentation reinforcement learning see,issue,negative,neutral,neutral,neutral,neutral,neutral
512199721,This is still a problem in 2.88. Can we please get an official response?,still problem please get official response,issue,negative,neutral,neutral,neutral,neutral,neutral
512058133,"UPDATE: I tracked it down, performance is mostly degraded due to the stable PD controller. Will look into it.

Yes, the underlying simulation is C++, so performance should be similar. In fact, PyBullet should be faster, since it uses a larger time step.

I can confirm that the original DeepMimic C++ version is much faster, especially with many threads.
~~~~~~~~~~~
python3 mpi_run.py --arg_file args/train_humanoid3d_spinkick_args.txt --num_workers 24

Agent 0

|       Iteration |               0 |
|       Wall_Time |         0.00056 |
|         Samples |            4105 |
|    Train_Return |            3.18 |
|     Test_Return |            3.58 |
|      State_Mean |           0.446 |
|       State_Std |             1.6 |
|       Goal_Mean |               0 |
|        Goal_Std |               0 |
|        Exp_Rate |               1 |
|       Exp_Noise |            0.05 |
|        Exp_Temp |             0.1 |
|     Critic_Loss |           0.227 |
| Critic_Stepsize |            0.01 |
|      Actor_Loss |           0.405 |
|  Actor_Stepsize |         2.5e-06 |
|       Clip_Frac |           0.699 |
|        Adv_Mean |       -9.775452 |
|         Adv_Std |        7.488633 |



~~~~~~~~~~~~~~~~~~~~
Using PyBullet:
python3 mpi_run.py --arg_file train_humanoid3d_spinkick_args.txt --num_workers 24

~~~~~~~~~~~~~~~~~~~~
|       Iteration |               0 |
|       Wall_Time |           0.217 |
|         Samples |            4456 |
|    Train_Return |            2.01 |
|     Test_Return |            1.92 |
|      State_Mean |           0.332 |
|       State_Std |            2.09 |
|       Goal_Mean |               0 |
|        Goal_Std |               0 |
|        Exp_Rate |               1 |
|       Exp_Noise |            0.05 |
|        Exp_Temp |             0.1 |
|     Critic_Loss |           0.122 |
| Critic_Stepsize |            0.01 |
|      Actor_Loss |            0.41 |
|  Actor_Stepsize |         2.5e-06 |
|       Clip_Frac |           0.601 |
|        Adv_Mean |        -8.36486 |
|         Adv_Std |       2.4214108 |

~~~~~~~~~~~~~~~~~~~~

So at 24 threads, the performance is about 400 times slower (see wall time).",update tracked performance mostly degraded due stable controller look yes underlying simulation performance similar fact faster since time step confirm original version much faster especially many python agent iteration python iteration performance time see wall time,issue,positive,positive,positive,positive,positive,positive
511981432,"@raffaello-camoriano Not really. Right now I just went back to the original DeepMimic repository, which is much faster to train & run. ",really right went back original repository much faster train run,issue,negative,positive,positive,positive,positive,positive
511870145,"> I assumed it was the issue with enabling double precision when compiling bullet, and went on tested it out.
> 
> Tested it out on a docker image, at some moment it went really fast, then I exited out without saving.....
> 
> Really can not reproduce the fast running behavior, so reopening this issue....

Hi @ZhengyiLuo, did you find any solution to reduce training time?",assumed issue double precision bullet went tested tested docker image moment went really fast without saving really reproduce fast running behavior issue hi find solution reduce training time,issue,negative,positive,positive,positive,positive,positive
511535870,"I edited the above as I realized it is actually a padding of +0.003 that appears around the object, and thus the overall L, W and H have +0.006.

Does this mean that to obtain my point cloud, as I mentioned at the end of the last post, I can use the position and orientation of the object from pybullet as I intended, transform my object independently of pybullet using the position and orientation, and extracting the vertices? 

Also it would be cool to know how this padding affects collisions? If we need very precise calculation of collision for grasping objects, should we do something like 

`p.setPhysicsEngineParameter(contactBreakingThreshold=0.00001)`

or is something else preferred?

Thanks!",actually padding around object thus overall mean obtain point cloud end last post use position orientation object intended transform object independently position orientation vertex also would cool know padding need precise calculation collision grasping something like something else preferred thanks,issue,positive,positive,neutral,neutral,positive,positive
511206246,"If you find a solution, please re-open and share a fix. The project lacks resources.",find solution please share fix project,issue,positive,neutral,neutral,neutral,neutral,neutral
510933164,"I haven't used MinGW/cygwin to test, but it looks OK. Let's give it a try and revert it if causes issues.",used test let give try revert,issue,negative,neutral,neutral,neutral,neutral,neutral
510751341,"We don't explicitly keep track of link/joint accelerations and torque around the contacts.
For accelerations, you could manually save the previous link/joint velocity and compute the accelerations using finite differencing.
We also don't store the applied torques at the contact points, we only expose the forces (normal, and 2 lateral friction directional forces). It could be added to pybullet.getContactPoints.

Explaining how is just as much work as doing the actual implementation.",explicitly keep track torque around could manually save previous velocity compute finite also store applied torque contact expose normal lateral friction directional could added explaining much work actual implementation,issue,negative,positive,neutral,neutral,positive,positive
510544997,"Disconnect the monitor from the Intel GPU and only connect a monitor to the NVIDIA GPU, then reboot. We are not providing GPU/operating system issues, best to contact Intel.",disconnect monitor connect monitor providing system best contact,issue,positive,positive,positive,positive,positive,positive
510534371,"> We use it extensively on Ubuntu 18.04 without issues.
> It is mostly likely an issue with the Intel drivers. Can you try upgrading the GPU drivers? Or even better, add a NVIDIA GPU with up-to-date drivers?

I already have an NVIDIA GPU and all the drivers installed. But I am not sure why this bullet3 application is loading the intel drivers. Any idea?",use extensively without mostly likely issue try even better add already sure bullet application loading idea,issue,positive,positive,positive,positive,positive,positive
510245169,"We use it extensively on Ubuntu 18.04 without issues.

It is mostly likely an issue with the Intel drivers. Can you try upgrading the GPU drivers? Or even better, add a NVIDIA GPU with up-to-date drivers?",use extensively without mostly likely issue try even better add,issue,negative,positive,positive,positive,positive,positive
510035411,whether there are no any graphic outcome after running the BasicDemo ?,whether graphic outcome running,issue,negative,neutral,neutral,neutral,neutral,neutral
509961111,"No, I compared against the double precision scalar version (we always use the double precision version since we simulate on the whole Earth, so big coordinates).

Thanks for your feedback, I think your analysis is correct (I came to the same one). Having AVX used for a single matrix/vector transformation, or vector normalization, is not really worth it.",double precision scalar version always use double precision version since simulate whole earth big thanks feedback think analysis correct came one used single transformation vector normalization really worth,issue,positive,positive,neutral,neutral,positive,positive
509960084,"Yes, I think you are right, I came to the same conclusion after having done that AVX code path implementation :/",yes think right came conclusion done code path implementation,issue,negative,positive,positive,positive,positive,positive
509814249,"I see that this is double precision AVX,  are you comparing against single precision SSE? I'd expect not much difference as they are both 4 wide, AVX might even be slower since it uses more memory.  The AVX version should be more accurate if nothing else :)

I agree that the memory latency is the issue, Bullet just isn't very SoA friendly the way it is currently written, to truly benefit from AVX(especially single precision 8 wide, and AVX512 at 16 wide) large parts of Bullet would need to be rewritten.  
",see double precision single precision expect much difference wide might even since memory version accurate nothing else agree memory latency issue bullet friendly way currently written truly benefit especially single precision wide wide large bullet would need,issue,positive,positive,neutral,neutral,positive,positive
509809950," Hi gjaegy, I haven't heard anything about this topic.

Bullet is probably mostly memory  bound, so without a large rewrite to make the entire thing much more SoA friendly it probably doesn't make a huge difference anyway.",hi anything topic bullet probably mostly memory bound without large rewrite make entire thing much friendly probably make huge difference anyway,issue,positive,positive,positive,positive,positive,positive
509695627,"I'll try to find time soon, to only add the test file itself, without RBDL, and merge it into Bullet.",try find time soon add test file without merge bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
509695168,"Thanks. Since our Mac's don't have this issue, I can't reproduce it, but it doesn't hurt so let's add it.",thanks since mac issue ca reproduce hurt let add,issue,negative,positive,positive,positive,positive,positive
509567164,I would be interested in modeling a rope in PyBullet (as seen in examples/SoftDemo/SoftDemo.cpp),would interested modeling rope seen,issue,negative,positive,positive,positive,positive,positive
508389604,"That's a very interesting finding in my opinion. 

Have you received any feedback from Erwin ? 

I think your suggestion should be implemented since providing a significant performance win (I'm also trying to speed up bullet a bit through AVX - we use the double-precision version here)",interesting finding opinion received feedback think suggestion since providing significant performance win also trying speed bullet bit use version,issue,positive,positive,positive,positive,positive,positive
508346789,"Hi, I wanted to reply asking whether anyone has any suggestion as to what to do in my case? Because without being able to exploit the GPU power available it is no feasible to perform Deep RL simulations on pybullet. 
Please suggest any solution if available, thanks!",hi reply whether anyone suggestion case without able exploit power available feasible perform deep please suggest solution available thanks,issue,positive,positive,positive,positive,positive,positive
507572617,I'm actually a bit lost since there are both v2 and v3 version of the source code. Do you currently maintain both (i.e. I should update both with the AVX stuff) ?,actually bit lost since version source code currently maintain update stuff,issue,negative,neutral,neutral,neutral,neutral,neutral
507391617,"Sorry I wasn't clear, but I don't want to add any RBDL files into Bullet.  One option is to add a continuous integration test (travis, appveyor) that pulls the rbdl files (specific revision) into the right location. So we only need to add an option to enable this RBDL comparison test (it is disabled by default!) and the test itself.",sorry clear want add bullet one option add continuous integration test travis specific revision right location need add option enable comparison test disabled default test,issue,negative,negative,neutral,neutral,negative,negative
507390369,"I'll merge it for now, we can remove the psb in a separate PR.
Thanks for the contribution!",merge remove separate thanks contribution,issue,negative,positive,positive,positive,positive,positive
507036452,"attach the original excel also. 
[compareABA.xlsx](https://github.com/bulletphysics/bullet3/files/3342927/compareABA.xlsx)
",attach original excel also,issue,positive,positive,positive,positive,positive,positive
507012876,"The same issue!
Looking forward to having terrain_obj in the git!
Thank you",issue looking forward git thank,issue,negative,neutral,neutral,neutral,neutral,neutral
506804903,"I think there is some problem with the DeepMimic_Optimizer.py path. Try run the command at the directory where DeepMimic_Optimizer.py is. 

Specifically: pybullet3/examples/pybullet/pybullet_envs/deep_mimic/

",think problem path try run command directory specifically,issue,negative,neutral,neutral,neutral,neutral,neutral
506773252,"Hi, I don't think it's not finding the arg_file. The error prompt is 
cmd: mpiexec -n 4 python3 DeepMimic_Optimizer.py --arg_file train_humanoid3d_spinkick_args.txt --num_workers 4
ERROR: Error reported: failed to launch 'python3 DeepMimic_Optimizer.py --arg_file train_humanoid3d_spinkick_args.txt --num_workers 4' on DESKTOP
Error (2) The system cannot find the file specified.

I also tried ""python -m pybullet_envs.deep_mimic.mpi_run --arg_file run_humanoid3d_backflip_args.txt"". It gives the same error. 

But this doesn't happen when I run testrl in both ways.

Any help is appreciated, thank you.
",hi think finding error prompt python error error launch error system find file also tried python error happen run way help thank,issue,negative,neutral,neutral,neutral,neutral,neutral
506692546,"Hi Erwin,

have you had a chance to look at the patch ? 

FYI I'm currently trying to implement the AVX version of BT_USE_SSE/BT_USE_SSE_IN_API code. I'll let you know the result.",hi chance look patch currently trying implement version code let know result,issue,negative,neutral,neutral,neutral,neutral,neutral
506602577,"I assumed it was the issue with enabling double precision when compiling bullet, and went on tested it out. 

Tested it out on a docker image, at some moment it went really fast, then I exited out without saving.....

Really can not reproduce the fast running behavior, so reopening this issue....",assumed issue double precision bullet went tested tested docker image moment went really fast without saving really reproduce fast running behavior issue,issue,negative,positive,positive,positive,positive,positive
506566432,"in this repo the arg file is in a different folder. Specifically remove the ""args/"" part in the command: 

python3 mpi_run.py --arg_file args/train_humanoid3d_spinkick_args.txt --num_workers 4

so just: 

python3 mpi_run.py --arg_file train_humanoid3d_spinkick_args.txt --num_workers 4

Training is really slow though.... submitting an issue for that. ",file different folder specifically remove part command python python training really slow though issue,issue,negative,negative,negative,negative,negative,negative
505487031,"”The job exceeded the maximum time limit for jobs, and has been terminated.“
don't know what this error mean, i will check it again tomorrow.",job maximum time limit know error mean check tomorrow,issue,negative,negative,negative,negative,negative,negative
505343535,"It is not a good idea to add full other dynamics libraries into Bullet, it clutters the git history and confuses the users into thinking Bullet depends on those external libraries (which is not the case).",good idea add full dynamic bullet git history thinking bullet external case,issue,positive,positive,positive,positive,positive,positive
505237080,"i think it is more better to add the whole RBDL libray for the first version, we can delete some unused part in next version.  
It should can be implemented in Python, i will look into this later.",think better add whole first version delete unused part next version python look later,issue,negative,positive,positive,positive,positive,positive
505236010,"OK, i will think about a easy and clear way to compare these two methods.",think easy clear way compare two,issue,positive,positive,positive,positive,positive,positive
505213579,"It would be great to have some document going over the implementation line by line to compare RBDL and Bullet.  Do you have time to work on such doc? Some sketches on paper helps too (like your previous writing in the beginning of this thread).

Yes, it would still be helpful to re-implement the computeAccelerationsArticulatedBodyAlgorithmMultiDof in a much more readable way, similar to RBDL and Featherstone book. Preferably without requiring the RBDL library dependency.

Thanks a lot for looking into all this!",would great document going implementation line line compare bullet time work doc paper like previous writing beginning thread yes would still helpful much readable way similar book preferably without library dependency thanks lot looking,issue,positive,positive,positive,positive,positive,positive
505213215,"I love this comparison and am going to check it out. I find adding the whole RBDL library as dependency in Bullet too large. Wonder if the forward dynamics can be compared similar to the inverse dynamics, purely in Python, like the RBDL/KDL/Pybullet comparison of inverse dynamics?
https://github.com/bulletphysics/bullet3/issues/2246
",love comparison going check find whole library dependency bullet large wonder forward dynamic similar inverse dynamic purely python like comparison inverse dynamic,issue,positive,positive,positive,positive,positive,positive
505089937,"I think that there is a bug in rendering option ER_TINY_RENDERER. To properly render in DIRECT mode, you have to use the viewMatrix and projectionMatrix options when you call getCameraImage. In the Bullet/examples/pybullet/examples/testrender.py script, if you remove either of these options from the getCameraImage call (line 49), the images don't render properly.",think bug rendering option properly render direct mode use call script remove either call line render properly,issue,negative,positive,neutral,neutral,positive,positive
505045494,"It depends on your environment. Are you using 'getCameraImage'? If so, the non-gui version uses a slower CPU renderer (TinyRenderer) by default. In GUI mode, it may use the OpenGL hardware rendering.
We have EGL offline rendering, which is available. See the egl examples in Bullet/examples/pybullet/examples.

(it makes no sense to close the window since then you fallback to slow CPU rendering)",environment version renderer default mode may use hardware rendering rendering available see sense close window since fallback slow rendering,issue,negative,positive,neutral,neutral,positive,positive
505018711,"> Can you try disabling rendering briefly before removing all objects one-by-one, then re-enable?

This seems to work, thanks for the tip!

Just for reference, the correct way to disable the rendering is:
`pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_RENDERING,0)`

(This is correctly mentioned in the pybullet quickstart guide.)",try rendering briefly removing work thanks tip reference correct way disable rendering correctly guide,issue,negative,positive,neutral,neutral,positive,positive
504775039,"Thanks, I'll check it out.
>> removing all the thrown balls after the simulation finishes

Can you try disabling rendering briefly before removing all objects one-by-one, then re-enable?

`pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_RENDERING=0)`
remove objects
`pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_RENDERING=1)`",thanks check removing thrown simulation try rendering briefly removing remove,issue,negative,positive,neutral,neutral,positive,positive
504456796,"> What I get from getJointInfo() method is ""not available""

Hi, floodsung. 

I fixed some problems when I try to use the PhysX as the backend of pybullet, and you can try to build from my repo if you are interested in another engine. :)",get method available hi fixed try use try build interested another engine,issue,negative,positive,positive,positive,positive,positive
504096810,"Yes, if you want to create a PR to set light color/intensity to configureDebugVisualizer that is welcome.",yes want create set light welcome,issue,positive,positive,positive,positive,positive,positive
503914561,"Sure. I've zipped the patch in order to be able to attach it in that message. 
Please let me know if that works or not.

[btsparseSDF_imagine_patch.zip](https://github.com/bulletphysics/bullet3/files/3309273/btsparseSDF_imagine_patch.zip)

Not related, but we use the double-precision version of Bullet (Earth-scale world). When using doubles, vector units (SSE) are not used since not implemented, however, I think it should be fairly straightforward to translate the existing SSE instructions part into AVX ones (mostly copy/paste are replace 128 in intrisics name by 256d I assume). Do you maybe have this already done somewhere ?",sure patch order able attach message please let know work related use version bullet world vector used since however think fairly straightforward translate part mostly replace name assume maybe already done somewhere,issue,positive,positive,positive,positive,positive,positive
503814170,"yes. i mainly refer to the Featherstone's book,  the Table 7.1 for details of the ABA.  the RBDL tightly follows the procedure of this book, so the code is more easily to be understood.
the main difference between the rbdl's and bullet's implementation includes,
1.     rbdl:  the origin of the coordiante of the formula is located in the joint
     bullet:  the origin of the coordinate of the formula is in the certer of the mass.
    this will cause the difference of the spacial Axis (S) and spacial Inertia (I) but the intermediate value of I'SI is the same. (starting from this point, i find the rootcause of the issue #2246.)
2.    rbdl:   the gravity is applied to the initial acceleration (a) 
            copied from the page 94 of Featherstone's book:  (If this trick is used, then the calculated values of ai and fBi are no longer the true acceleration and net force for body i, but are oﬀset by the gravitational acceleration and force vectors)
    bullet:   the gravity is applied to the bias force (p) (called spatial articulated zero-acceleration in Mirtich's)
3.  cerr << ""Error while processing body '"" << urdf_child->name << ""': rotation of body frames not yet supported. Please rotate the joint frame instead."" << endl;   (line 246 in the urdfreader.cc.)
    currentlly the rbdl test has this limitation. i'm not sure if the rbdl library itself also has this limitation.

So do you still think it is necessary or important to re-implement the computeAccelerationsArticulatedBodyAlgorithmMultiDof?  if not, i can help to investigate other issues.
     ",yes mainly refer book table aba tightly procedure book code easily understood main difference bullet implementation origin formula joint bullet origin formula mass cause difference axis inertia intermediate value starting point find issue gravity applied initial acceleration copied page book trick used calculated ai longer true acceleration net force body gravitational acceleration force bullet gravity applied bias force spatial articulated error body name rotation body yet please rotate joint frame instead line test limitation sure library also limitation still think necessary important help investigate,issue,positive,positive,positive,positive,positive,positive
503776006,"change should be submitted, let's close the issue (re-open if not fixed after next pybullet update)
",change let close issue fixed next update,issue,negative,positive,neutral,neutral,positive,positive
503722670,Were you able to map and/or derive computeAccelerationsArticulatedBodyAlgorithmMultiDof to the formulation described in Featherstone's book/Jakub's PhD thesis?,able map derive formulation thesis,issue,negative,positive,positive,positive,positive,positive
503658932,"Very nice, I will use that feature a lot!

>  I had a closer look and decided that it is better to add this feature in the 'configureDebugVisualizer', to keep it separate from the 'getCameraImage' which also has a lightPosition argument.

It might be clearer that way, you're right. I also wanted to implement a way to control the intensity / color of the light source (as an extra parameter in _configureDebugVisualizer_ perhaps), do you think that it could be a relevant addition to the project ?",nice use feature lot closer look decided better add feature keep separate also argument might clearer way right also implement way control intensity color light source extra parameter perhaps think could relevant addition project,issue,negative,positive,positive,positive,positive,positive
503641011,"Thanks for the update. I had a closer look and decided that it is better to add this feature in the 'configureDebugVisualizer', to keep it separate from the 'getCameraImage' which also has a lightPosition argument.
See https://github.com/bulletphysics/bullet3/pull/2298
This also exposes the shadowMapWorldSize and shadowMapResolution (texture resolution)
There is an example in pybullet/examples/configureDebugVisualizer.py, like this

![animate_light](https://user-images.githubusercontent.com/725468/59784759-15252f00-9278-11e9-8b32-8776245c2506.gif)



Thanks for the PR anyway!",thanks update closer look decided better add feature keep separate also argument see also texture resolution example like thanks anyway,issue,positive,positive,positive,positive,positive,positive
503546379,"i have finished this part and meanwhile also find the rootcause of the [#2246](https://github.com/bulletphysics/bullet3/issues/2246), now the difference between them is less than the 1e-11, i will submit the codereview. after this, i will try to re-implement the computeAccelerationsArticulatedBodyAlgorithmMultiDof  call using  rbdl.",finished part meanwhile also find difference le submit try call,issue,negative,neutral,neutral,neutral,neutral,neutral
503539702,"there is conversion from the double to single in the UrdfParser.cpp, i will submit this change later.",conversion double single submit change later,issue,negative,negative,neutral,neutral,negative,negative
503401239,"The workaround in the answer in that issue is still current: use obj2sdf. No resources/plans to refactor the graphics pipeline to support multiple textures per mesh, you need to break up the meshes (using obj2sdf for example).",answer issue still current use graphic pipeline support multiple per mesh need break example,issue,negative,neutral,neutral,neutral,neutral,neutral
503400756,"There are some conflicts easy to resolve, could you do it in your PR? Thanks!",easy resolve could thanks,issue,positive,positive,positive,positive,positive,positive
503220312,"Thanks, it's our virtual Pepper model :) 
Wonderful! I'm not really familiar with the bullet code base, so I might have missed some things here and there, but globally I tried to match the way the other pybullet functionalities were implemented.",thanks virtual pepper model wonderful really familiar bullet code base might globally tried match way,issue,positive,positive,positive,positive,positive,positive
503214316,"> What features do you plan to wrap?

Control and sensors was on my list, but I welcome your suggestions. Thanks!",plan wrap control list welcome thanks,issue,positive,positive,positive,positive,positive,positive
503206861,"Thanks for the contribution, that robot looks great!
I was considering re-using the pybullet.configureDebugVisualizer to set light position, configure shadow resolution etc. But since you already put in all the work, I'll consider merging it as-is after having a closer look.",thanks contribution robot great considering set light position configure shadow resolution since already put work consider closer look,issue,positive,positive,positive,positive,positive,positive
503205400,"Thanks @oscar-lima and self-contained pybullet ROS wrapper would be nice. What features do you plan to wrap? I imagine there could be control (setJointMotorControl2), sensors (joint angle encoder), camera vision (getCameraImage), LIDAR (using rayTestBatch batch ray cast, see [example code](https://github.com/erwincoumans/pybullet_robots/blob/master/f10_racecar.py#L131)), touch/contact (using getContactPoints).
",thanks wrapper would nice plan wrap imagine could control joint angle camera vision batch ray cast see example code,issue,positive,positive,positive,positive,positive,positive
502954232,"Here is a follow up PR that makes it work for soft body:
https://github.com/bulletphysics/bullet3/pull/2294",follow work soft body,issue,negative,positive,neutral,neutral,positive,positive
502484351,"I have started a pybullet ROS wrapper [here](https://github.com/oscar-lima/pybullet_ros), still in early stage but help and coments are welcome ; )",wrapper still early stage help welcome,issue,positive,positive,positive,positive,positive,positive
502166124,"PhysX backend is very preliminary and only a few methods are hooked up. Either contribute or ignore, no support provided.",preliminary hooked either contribute ignore support provided,issue,negative,neutral,neutral,neutral,neutral,neutral
502151346,"> What I get from getJointInfo() method is ""not available""

Do you ever test the api with PhysX4.0  backend? ",get method available ever test,issue,negative,positive,positive,positive,positive,positive
502140621,"Thanks for looking into this. If/when you got the comparison right, it would be nice to also re-implement only the computeAccelerationsArticulatedBodyAlgorithmMultiDof call using rbdl. It could be that the URDF loader or other parts of RBDL are different. It would involve some conversion between Bullet and RBDL/Eigen data structures.",thanks looking got comparison right would nice also call could loader different would involve conversion bullet data,issue,positive,positive,positive,positive,positive,positive
502131699,"i have finished the code, including:
1. port the rbdl to the  Extras/rbdl, and only change the CMakeLists.txt to make it built together with the bullet.
2. add the pantilt.urdf to the data/
3. add a test named test_dynABA_bulletVSrbdl.cpp in the test/InverseDynamics/. 
       this function implements,
        - run forward dynamics on (q,u, forces) to get accelerations with RBDL
        - run forward dynamics on (q,u, forces) to get accelerations with bullet       
        - compare the result between them.
now i'm debugging this test and the difference between them is too big, maybe i made some mistake somewhere.  i will continue to debug it later.",finished code port change make built together bullet add add test function run forward dynamic get run forward dynamic get bullet compare result test difference big maybe made mistake somewhere continue later,issue,negative,neutral,neutral,neutral,neutral,neutral
501985804,"best to revert it soon. It also breaks the build (we don't require OpenGL since we dynamically load it, not link it)

~~~~~~~~~~~~~~~~
OPENGL_gl_LIBRARY (ADVANCED)
    linked by target ""bullet_c_api"" in directory /home/travis/build/bulletphysics/bullet3/examples/c_api
OPENGL_glu_LIBRARY (ADVANCED)
    linked by target ""bullet_c_api"" in directory /home/travis/build/bulletphysics/bullet3/examples/c_api
~~~~~~~~~~~~~~~~",best revert soon also build require since dynamically load link advanced linked target directory advanced linked target directory,issue,positive,positive,positive,positive,positive,positive
501750347,Thanks for digging this up. If you can create a small PR that would be great. Did you test the patch with the ExampleBrowser softbody examples?,thanks digging create small would great test patch,issue,positive,positive,positive,positive,positive,positive
501572318,"I've came up with a better option that gets rid of any problem mention above. Simply replace the Hash() function in btSparseSDF.h with the following one. It will work for any platform and doesn't require any manual handling of the 32/64 bits cases:

`	static inline unsigned int	Hash(int x,int y,int z,const btCollisionShape* shape)
	{
		struct btS
		{ 
			int x,y,z;
			void* p;
		};
		btS myset;

		// manually fill the 'myset' memory block in order to avoid potential padding before *p in the struct memory layout (pointer alignment) - if any padding occurs there will simply be unused bytes at the end of the struct
		int* pmyset = (int*)&myset;
		*pmyset = x; ++pmyset;
		*pmyset = y; ++pmyset;
		*pmyset = z; ++pmyset;
		*(void**)pmyset = (void*)shape;

		const void* ptr = &myset;

		unsigned int result = HsiehHash<(3*sizeof(int) + sizeof(void*))/4> (ptr);


		return result;
	}`

Erwin, shall I post a pull request or could handle this by yourself with the block of code above ?",came better option rid problem mention simply replace hash function following one work platform require manual handling static unsigned hash shape void manually fill memory block order avoid potential padding memory layout pointer alignment padding simply unused end void void shape void unsigned result void return result shall post pull request could handle block code,issue,negative,positive,positive,positive,positive,positive
501546128,"it is unable to get jointinfo under this physx 4.1 version, how to solve this problem?",unable get version solve problem,issue,negative,negative,negative,negative,negative,negative
501252295,"Hi Erwin,

I am using a Nvidia Quadro M5000M GPU (8GB) in Ubuntu 16.04 with python 3.5.2 version. I am having a problem in replicating such a high FPS (you said that you are getting a 280 FPS) with my computer. I have even tried building pybullet from the source code using ""python3 setup.py install --user"" from the latest source code as I heard that source built pybullet might have GPU support.

![rendertest_fps](https://user-images.githubusercontent.com/42999573/59351365-e2d97600-8d3b-11e9-9c0d-610d5b9ccb63.png)

pybullet also seems to be using the GPU in my laptop for the code shared by you in rendertest.zip (link: https://github.com/bulletphysics/bullet3/files/1690473/rendertest.zip). The screenshot I shared above shows my nvidia-smi output in which python3 is the memory being used by the pybullet code (please ignore the other python 2 processes; other Tensorflow codes are using the GPU). However I am only getting an average **FPS of around 20** as seen in the print output below:

pybullet build time: Jun 12 2019 17:39:14
connecting
argv[0]=--width=640
argv[1]=--height=480
startThreads creating 1 threads.
starting thread 0
started thread 0 
argc=4
argv[0] = --unused
argv[1] = --width=640
argv[2] = --height=480
argv[3] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
X11 functions dynamically loaded using dlopen/dlsym OK!
Creating context
Created GL 3.3 context
Direct GLX rendering context obtained
Making context current
GL_VENDOR=NVIDIA Corporation
GL_RENDERER=Quadro M5000M/PCIe/SSE2
GL_VERSION=3.3.0 NVIDIA 396.54
GL_SHADING_LANGUAGE_VERSION=3.30 NVIDIA via Cg compiler
pthread_getconcurrency()=0
Version = 3.3.0 NVIDIA 396.54
Vendor = NVIDIA Corporation
Renderer = Quadro M5000M/PCIe/SSE2
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0 
MotionThreadFunc thread started
connected
ven = NVIDIA Corporation
**Testing SHARED
mean: 19.56697039069384 for 100 runs

Testing SHARED w/o shadow
mean: 18.793571272315447 for 100 runs**

Writing 17186 timings for thread 0
Writing 2202 timings for thread 1
Writing 47693 timings for thread 2
numActiveThreads = 0
stopping threads
Thread with taskId 0 exiting
destroy semaphore
semaphore destroyed
Thread TERMINATED
destroy main semaphore
main semaphore destroyed
finished
numActiveThreads = 0
btShutDownExampleBrowser stopping threads
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed

Any help in my case would be highly appreciated, thx",hi python version problem high said getting computer even tried building source code python install user latest source code source built might support also code link output python memory used code please ignore python however getting average around seen print output build time starting thread thread unused server dynamically loaded dynamically loaded context context direct rendering context making context current corporation via compiler version vendor corporation renderer selected physic server starting thread thread thread connected corporation testing mean testing shadow mean writing thread writing thread writing thread stopping thread destroy semaphore semaphore thread destroy main semaphore main semaphore finished stopping thread thread destroy semaphore semaphore destroy main semaphore main semaphore help case would highly,issue,negative,positive,neutral,neutral,positive,positive
500957343,Thank you. I'm still working on a compact repro case.,thank still working compact case,issue,negative,neutral,neutral,neutral,neutral,neutral
500823565,"Maybe use `alignas` if C++11 is available?

+1 for this PR, the alignment issue makes our Bullet integration with our 3D engine a bit unsafe (unaligned loads) for x86 GCC builds (Linux).

@khom-khun anything to add?",maybe use available alignment issue bullet integration engine bit unsafe unaligned anything add,issue,negative,positive,positive,positive,positive,positive
500786144,"Rebased to solve merge conflict after #2265, 4d3ee40 and f838e22.",solve merge conflict dee fe,issue,negative,neutral,neutral,neutral,neutral,neutral
500099458,"Hello? Anybody home?

Please re-open this issue.",hello anybody home please issue,issue,negative,neutral,neutral,neutral,neutral,neutral
499873270,"thanks, it would be honour for me to accept this task.
i want to make your question more clear, do you want to implement a test similar to test_invdyn_bullet.cpp but comparing the result between the RBDL's and bullet's forward dynamics ABA implementation ?
		- run forward dynamics on (q,u, forces) to get accelerations with bullet
		- run forward dynamics on (q,u, forces) to get accelerations with RBDL
		- compare the result between them.",thanks would accept task want make question clear want implement test similar result bullet forward dynamic aba implementation run forward dynamic get bullet run forward dynamic get compare result,issue,positive,positive,neutral,neutral,positive,positive
499746358,"I am facing memory increase issue.
This is my results of running @muupan script and I am using ubuntu16.04 and pybullet==2.4.8.

>0 125063168
1 139485184
2 154886144
3 169168896
4 183762944
5 197935104
6 212467712
7 226709504
8 240656384
9 254709760
10 269189120
11 282984448
12 297275392
13 311607296
14 325709824
15 339804160
16 353624064
17 367984640
18 381902848

Update: pybullet==2.4.9 solve this issue",facing memory increase issue running script update solve issue,issue,negative,neutral,neutral,neutral,neutral,neutral
499532385,"Also, the implementation changed from original Mirtich PhD thesis towards Featherstone 2008 book by Jakub Stephien. So checking up that chapter 8.3.1 that I pointed you to will be helpful anyway.

We do have a unit test to round-trip Bullet inverse dynamics and forward dynamics, and they match well. See https://github.com/bulletphysics/bullet3/blob/master/test/InverseDynamics/test_invdyn_bullet.cpp
~~~~~~~~~~
/// create a bullet btMultiBody model of a tree structured multibody system,
/// convert that model to a MultiBodyTree model.
/// Then - run inverse dynamics on random input data (q, u, dot_u) to get forces
///      - run forward dynamics on (q,u, forces) to get accelerations
///      - compare input accelerations to inverse dynamics to output from forward dynamics
~~~~~~~~~~

It would be very useful to re-implement it again, or hook up RBDL library and compare the input and ouput carefully for this forward dynamics ABA implementation.

Someone did such comparison for the inverse dynamics implementation, and the difference is very small (although not totally zero, close to 1e-6 for 1 step). See https://github.com/bulletphysics/bullet3/issues/2246


Are you interested in helping with this?",also implementation original thesis towards book chapter pointed helpful anyway unit test bullet inverse dynamic forward dynamic match well see create bullet model tree structured system convert model model run inverse dynamic random input data get run forward dynamic get compare input inverse dynamic output forward dynamic would useful hook library compare input carefully forward dynamic aba implementation someone comparison inverse dynamic implementation difference small although totally zero close step see interested helping,issue,positive,positive,neutral,neutral,positive,positive
499133769,"It is complicated indeed. Could you have a look at this PhD thesis, search for Coriolis and check out chapter 8.3.1B: http://delibra.bg.polsl.pl/Content/12190/J.Stepien-rozprawa-dr.pdf?handler=pdf

The original implementation is here:
https://github.com/bulletphysics/bullet3/commit/f02dd515973f23b03d61cc20fba52f39b3797fb7#diff-c7da1a237b2b0f6a5d7a28f6666aa2a8R394

It would be good to have a more clear/clean implementation of this indeed.
",complicated indeed could look thesis search check chapter original implementation would good implementation indeed,issue,positive,positive,positive,positive,positive,positive
498365152,"Hello,
Thank you for your reply. The sheet expands something like this : The sheet is lying flat on a surface and when a voltage is applied to it, it curves up like an arc. What would be an appropriate method to simulate this. ",hello thank reply sheet something like sheet lying flat surface voltage applied like arc would appropriate method simulate,issue,negative,positive,positive,positive,positive,positive
498109129,"@erwincoumans, thank you for your response. Regarding the depth issue in DIRECT mode, when I raised the camera height to 100 units from the base (from the earlier 5), it apparently gave the correct values. Not sure why it fixed that. Does it have to do with the 'near' and 'far' values we set?

And thanks for the comment on the speed-up issue. Will give it a shot :)",thank response regarding depth issue direct mode raised camera height base apparently gave correct sure fixed set thanks comment issue give shot,issue,positive,positive,neutral,neutral,positive,positive
498087410,"i just try your script and don't find the issue. i'm using python 3.5 and pybullet==2.4.8 on ubuntu16.04
output is as below.
0 103555072
1 106414080
2 110960640
3 110964736
4 110968832
5 110989312
6 107376640
7 110989312
8 110964736
9 110977024
10 107360256
11 107397120
12 110968832
13 107421696
14 110960640
15 111009792
16 107352064
17 111046656
",try script find issue python output,issue,negative,neutral,neutral,neutral,neutral,neutral
498053949,"If it's a duplicate, then that seems like the way to go! Could we rename BulletRobotics to something else, in analogy to pybullet?

And ideally, there would be a way to compile it with and without OpenGL support.",duplicate like way go could rename something else analogy ideally would way compile without support,issue,negative,positive,positive,positive,positive,positive
498048559,"It seems your 'c_api' is a duplicate of the cmake BulletRobotics target in Extras/BulletRobotics.
If so, shall we remove it again, and make pybullet depend on BulletRobotics?
",duplicate target shall remove make depend,issue,negative,neutral,neutral,neutral,neutral,neutral
498034915,"If you run it alone enough you can trigger the assertion pretty easily too:

```
bullet_mt_test: /home/james/evodeps/linux_x64/bullet3/src/LinearMath/btAlignedObjectArray.h:177: T& btAlignedObjectArray<T>::operator[](int) [with T = btThreadSupportPosix::btThreadStatus]: Assertion 'n >= 0' failed.
```",run alone enough trigger assertion pretty easily assertion,issue,positive,positive,positive,positive,positive,positive
498034280,"https://github.com/jamoflaw/bullet3-pr2270

So it's not the easiest to reproduce as I think it is a race, which likely means that this fix will only mask a deeper issue - though I still think that destroying the resource after the thread is joined is a more sensible approach longer term.

The way I reproduced this more reliably is to run it with the commandline:


`
valgrind ./bullet_mt_test
`

Running it with valgrind will show the stacktrace of the access to the _deleted_ semaphore (showing in run 2 in the repo). I'm not familiar with the flow of the threads right now so haven't really had a chance to look into where the races may be occurring. 

The stacktrace of run1 shows another instance where it triggered an assertion in the bullet code which may be a clue.

Also I hope I'm actually using it right! This is my first outing with the MT version so I apologise now if I'm just using it completely wrong!!!!!

For reference I've compiled bullet with the following:

```
cmake -DBULLET2_MULTITHREADING=1 -DBUILD_CPU_DEMOS=0 -DBUILD_CLSOCKET=0 -DBUILD_ENET=0 -DBUILD_OPENGL3_DEMOS=0 -DBUILD_BULLET2_DEMOS=0 -DBUILD_UNIT_TESTS=0
```",easiest reproduce think race likely fix mask issue though still think resource thread sensible approach longer term way reliably run running show access semaphore showing run familiar flow right really chance look may run another instance triggered assertion bullet code may clue also hope actually right first outing version completely wrong reference bullet following,issue,positive,positive,positive,positive,positive,positive
498017573,"Yes I'm pretty sure that this will fix the problem, Thanks!",yes pretty sure fix problem thanks,issue,positive,positive,positive,positive,positive,positive
497903830,"No, it is this cmake target: https://github.com/bulletphysics/bullet3/tree/master/Extras/BulletRobotics

The subtle thing is that BulletRobotics doesn't depend on OpenGL/graphics, to keep the dependencies low. There is also a rudimentary C++ api on top of that BulletRobotics c api, to make it more confusing.
https://github.com/bulletphysics/bullet3/tree/master/examples/RobotSimulator

See https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/b3RobotSimulatorClientAPI_NoDirect.h
and
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/b3RobotSimulatorClientAPI_NoGUI.h
",target subtle thing depend keep low also rudimentary top make see,issue,negative,positive,neutral,neutral,positive,positive
497903587,"Do you mean: https://github.com/bulletphysics/bullet3/tree/master/examples/BulletRobotics ?

Thanks for considering this merge. It will make it easier to wrap the project this way! Are you satisfied with the name ""c_api""?",mean thanks considering merge make easier wrap project way satisfied name,issue,positive,positive,positive,positive,positive,positive
497900443,"How about we remove the duplicate BT_PROFILE in that file, instead of moving it into a cpp?",remove duplicate file instead moving,issue,negative,neutral,neutral,neutral,neutral,neutral
497900354,"The thing is, when you add a cpp file, I need to fix several build systems internally, which takes some time. I'll try to look into it soon.",thing add file need fix several build internally time try look soon,issue,negative,neutral,neutral,neutral,neutral,neutral
497900262,"Thanks for the contribution. I think the 'c_api' is similar to Bullet/Example/BulletRobotics?
If it doesn't break anything, let's merge it. (closing and re-opening an issue will re-trigger continuous integration)",thanks contribution think similar break anything let merge issue continuous integration,issue,negative,positive,neutral,neutral,positive,positive
497761995,"It looks like the test failure is spurious (some SSL timeout). I am not sure how to re-trigger it.

Is there anything in the way of getting this merged?",like test failure spurious sure anything way getting,issue,negative,positive,neutral,neutral,positive,positive
497753705,"@erwincoumans please re-open this issue for me. GitHub believes I lack permission to re-open it, probably because I'm not a member of your project.

As I indicated initially, the crash is reproducible, but it may take me a while to write a compact repro case. Since opening this issue, I've made some progress: I built and ran the example browser in my environment. I then tried modifying one of the examples to use `influence=4` in its anchors, but that wasn't sufficient to trigger a crash. I intend to pursue this approach further.

This issue is not a showstopper for me (since `influence=1` works around it in my app). However, it bothers me that `btSparseSDF.h`  lacks range checks. In addition to the risk of a crash, it seems to me data corruption could occur in some circumstances.",please issue lack permission probably member project initially crash reproducible may take write compact case since opening issue made progress built ran example browser environment tried one use sufficient trigger crash intend pursue approach issue since work around however range addition risk crash data corruption could occur,issue,negative,neutral,neutral,neutral,neutral,neutral
497688916,"For fastest reset speed, avoid loading/creating new bodies, but reposition them (pre-create many bodies if different sizes). Keep the unused somewhere far away.

It could be a tiny renderer issue, not supporting programmatic creation. I'll look into your file when I find some time.

",reset speed avoid new reposition many different size keep unused somewhere far away could tiny renderer issue supporting programmatic creation look file find time,issue,negative,positive,positive,positive,positive,positive
497687236,"How does the element expand?

You could model it using an articulated btMultiBody, with motors.

If different deformation is important, you could use a convex hull with vertices, and modify the vertex locations. You will need to flush the contact caches and use a small timestep.

Alternatively try using a btSoftBody.",element expand could model articulated different deformation important could use convex hull vertex modify vertex need flush contact use small alternatively try,issue,negative,positive,neutral,neutral,positive,positive
497612358,"Hello, @erwincoumans do you have any news about this PR? Thanks in advance",hello news thanks advance,issue,negative,positive,positive,positive,positive,positive
497407774,"The real issue is a NaN, which makes no sense and should be fixed first. Is it due to invalid input? If you can reproduce it, please re-open/share a reproduction case.",real issue nan sense fixed first due invalid input reproduce please reproduction case,issue,negative,positive,positive,positive,positive,positive
497407052,"I've not seen a difference, for example see this old issue:https://github.com/bulletphysics/bullet3/pull/1439
If you figure it out, please re-open/let us know.",seen difference example see old issue figure please u know,issue,negative,positive,neutral,neutral,positive,positive
497405784,"We haven't had any crashing report like this, so it could be due to data input. If you have a repro case that can be reproduced, please re-open.",report like could due data input case please,issue,positive,negative,negative,negative,negative,negative
497405430,"It happened indeed, not going to change the existing old environments but will keep it in mind for the upcoming new environments.",indeed going change old keep mind upcoming new,issue,negative,positive,positive,positive,positive,positive
497397085,"OK, ?w=1 resolves the issue, I'll accept it. Thanks for the help!",issue accept thanks help,issue,positive,positive,positive,positive,positive,positive
497392380,"You can use `?w=1` to see changes without whitespace changes: https://github.com/bulletphysics/bullet3/pull/2265/files?w=1

Or run `dos2unix` on those files yourself if you prefer.",use see without run prefer,issue,negative,neutral,neutral,neutral,neutral,neutral
497361297,"We use clang-format for formatting. It is much faster if I run that tool myself, I don't have time to sift through tons of files, making sure no other change slipped though.

I'll run clang-format again soon, to make sure formatting is ok. At the moment it is only used on .h and .cpp files, no .mk or txt.",use much faster run tool time sift making sure change slipped though run soon make sure moment used,issue,positive,positive,positive,positive,positive,positive
497360300,Thanks for the report. How can we reproduce this hang exactly?,thanks report reproduce exactly,issue,negative,positive,positive,positive,positive,positive
497029040,"Yeah . I will wait for their next version and if I test ok, I will commit one patch to the **physx4** brach 😊 .

Close it now.",yeah wait next version test commit one patch brach close,issue,positive,neutral,neutral,neutral,neutral,neutral
497000002,"This is unsupported work, best not to report issues related to this, unless you can reproduce it outside of this code base.

update: ah, it is a known issue in PhysX.",unsupported work best report related unless reproduce outside code base update ah known issue,issue,negative,positive,neutral,neutral,positive,positive
496979844,"Thanks for your replay. 

Based on your work and according to [the source code](https://github.com/NVIDIAGameWorks/PhysX/blob/4050bbfdc2699dfab7edbf0393df8ff96bbe06c5/physx/snippets/snippethellogrb/SnippetHelloGRB.cpp#L100) , I just do a slightly change in the PhysXServerCommandProcessor::connect. 

Now I also open [an issue in physx](https://github.com/NVIDIAGameWorks/PhysX/issues/129) and wait for some help. ",thanks replay based work according source code slightly change also open issue wait help,issue,positive,positive,neutral,neutral,positive,positive
496852717,"i encountered this issue too. Once the z-axis value passed 0.0007, the end effector will not move straight up or straight down",issue value end effector move straight straight,issue,positive,positive,positive,positive,positive,positive
496776494,"The PhysX backend is still early stage, and I never tried the GPU backend. You are following a new path, consider contributing :)",still early stage never tried following new path consider,issue,negative,positive,neutral,neutral,positive,positive
496377500,"Is there anything more to it? When the only changes I make are passing this flag (`flags=pybullet.URDF_MAINTAIN_LINK_ORDER`) and rearranging the Joints in the urdf, the model shows briefly and then disappears. Does an STL file used for the geometry need to obey any constraints in such a case?
",anything make passing flag model briefly file used geometry need obey case,issue,negative,neutral,neutral,neutral,neutral,neutral
496322365,I could serialize the `btSoftMultiBodyDynamicsWorld` right before the time-step that crashes. Do you know of an application I could load the serialized data into that might reproduce the crash?,could serialize right know application could load data might reproduce crash,issue,negative,positive,positive,positive,positive,positive
496308092,I'll keep that in mind. Thanks for your attention.,keep mind thanks attention,issue,negative,positive,positive,positive,positive,positive
496307971,"The soft body code is an unsupported contribution, and there hasn't been much active development.
It is likely related to the specific soft body data (vertices, indices etc) you feed into Bullet.
Without repro case there is nothing we can do.",soft body code unsupported contribution much active development likely related specific soft body data vertex index feed bullet without case nothing,issue,negative,positive,neutral,neutral,positive,positive
496307540,"Sorry, I'm working mostly in Java these days and have never used ExampleBrowser. Producing a self-contained example in C++ would be a big challenge for me.

It looks like `Evaluate()` converts floating-point numbers to array indices without any range checking. Scary!

",sorry working mostly day never used example would big challenge like evaluate array index without range scary,issue,positive,negative,negative,negative,negative,negative
496304685,Thanks for the report. Can you provide a small example that is trivial to build to reproduce the issue? (using the ExampleBrowser for example),thanks report provide small example trivial build reproduce issue example,issue,negative,negative,neutral,neutral,negative,negative
496298652,"When built using Bullet v2.88 (clone of the bullet3 repo at SHA1 ID=126b6762) I see a very similar `SIGSEGV`. It occurs at line 229 in BulletSoftBody/btSparseSDF.h:
```
		const btScalar d[] = {c->d[o[0] + 0][o[1] + 0][o[2] + 0],
							  c->d[o[0] + 1][o[1] + 0][o[2] + 0],
							  c->d[o[0] + 1][o[1] + 1][o[2] + 0],
							  c->d[o[0] + 0][o[1] + 1][o[2] + 0],
							  c->d[o[0] + 0][o[1] + 0][o[2] + 1],
							  c->d[o[0] + 1][o[1] + 0][o[2] + 1],
							  c->d[o[0] + 1][o[1] + 1][o[2] + 1],
							  c->d[o[0] + 0][o[1] + 1][o[2] + 1]};
```
The value of `o` is `{-2147483648, -2147483648, 2}` which seems seriously wrong. It may be relevant that the value of `scx` is `{4.77060808e+15, -3.84532459e+16, 8252.72656, 0}`.

A similar crash occurs in 64-bit Windows, though not a `SIGSEGV` of course.",built bullet clone bullet sha see similar line value seriously wrong may relevant value similar crash though course,issue,negative,negative,neutral,neutral,negative,negative
496253854,"We are getting some traction on this issue inside Maxon, and would like to move forward and tackle this bug in the next week. @erwincoumans could you provide some more info on this issue? What would be your requirements for accepting a patch?",getting traction issue inside would like move forward tackle bug next week could provide issue would patch,issue,negative,neutral,neutral,neutral,neutral,neutral
496152108,"Hi! Any news on this issue? I am specifically interested in https://pybullet.org/mediawiki-1.5.8/index.php?title=Scaling_The_World and can not find a substitute anywhere as well as in the Wayback Machine... I would be so glad if the information somehow resurfaced!

EDIT: Just as I wrote this, i found a (suboptimal) way of accessing it: https://web.archive.org/web/20170706235814/http://www.bulletphysics.org/mediawiki-1.5.8/index.php/Main_Page

Hope this helps anyone who might stumble upon this on the search.",hi news issue specifically interested find substitute anywhere well wayback machine would glad information somehow edit wrote found suboptimal way hope anyone might stumble upon search,issue,positive,positive,positive,positive,positive,positive
495770158,Ping @erwincoumans. Can you check that you can get the kuka env to show a render window?,ping check get show render window,issue,negative,neutral,neutral,neutral,neutral,neutral
495182450,"bullet 2.88 is not the same as pybullet. You can build PyBullet using visual studio manually, see the PyBullet quickstart guide.",bullet build visual studio manually see guide,issue,negative,neutral,neutral,neutral,neutral,neutral
495173664,"Installing via conda solved my issue
conda install -c conda-forge bullet ",via issue install bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
494699990,"That should work fine for Godot's use case as we disable warnings for thirdparty libraries, so we won't get the warnings if it's in the `.cpp` file.

The warning itself would be worth fixing too though, which is:
```
In file included from thirdparty/bullet/btBulletCollisionCommon.h:61,
                 from thirdparty/bullet/btBulletDynamicsCommon.h:20,
                 from modules/bullet/godot_result_callbacks.h:37,
                 from modules/bullet/space_bullet.h:36,
                 from modules/bullet/space_bullet.cpp:31:
thirdparty/bullet/BulletDynamics/MLCPSolvers/btLemkeSolver.h: In member function 'virtual bool btLemkeSolver::solveMLCP(const btMatrixXf&, const btVectorXf&, btVectorXf&, const btVectorXf&, const btVectorXf&, const btAlignedObjectArray<int>&, int, bool)':
thirdparty/bullet/LinearMath/btQuickprof.h:198:50: error: declaration of '__profile' shadows a previous local [-Werror=shadow=local]
 #define BT_PROFILE(name) CProfileSample __profile(name)
                                                  ^
thirdparty/bullet/BulletDynamics/MLCPSolvers/btLemkeSolver.h:70:5: note: in expansion of macro 'BT_PROFILE'
     BT_PROFILE(""inverse(slow)"");
     ^~~~~~~~~~
thirdparty/bullet/LinearMath/btQuickprof.h:198:41: note: shadowed declaration is here
 #define BT_PROFILE(name) CProfileSample __profile(name)
                                         ^~~~~~~~~
thirdparty/bullet/BulletDynamics/MLCPSolvers/btLemkeSolver.h:46:4: note: in expansion of macro 'BT_PROFILE'
    BT_PROFILE(""btLemkeSolver::solveMLCP"");
    ^~~~~~~~~~
thirdparty/bullet/LinearMath/btQuickprof.h:198:50: error: declaration of '__profile' shadows a previous local [-Werror=shadow=local]
 #define BT_PROFILE(name) CProfileSample __profile(name)
                                                  ^
thirdparty/bullet/BulletDynamics/MLCPSolvers/btLemkeSolver.h:177:5: note: in expansion of macro 'BT_PROFILE'
     BT_PROFILE(""lemke.solve"");
     ^~~~~~~~~~
thirdparty/bullet/LinearMath/btQuickprof.h:198:41: note: shadowed declaration is here
 #define BT_PROFILE(name) CProfileSample __profile(name)
                                         ^~~~~~~~~
thirdparty/bullet/BulletDynamics/MLCPSolvers/btLemkeSolver.h:46:4: note: in expansion of macro 'BT_PROFILE'
    BT_PROFILE(""btLemkeSolver::solveMLCP"");
    ^~~~~~~~~~
```

Basically using `BT_PROFILE` twice in the same scope will generate this warning (with `-Wshadow=local` on recent GCC) as the macro will redefine a variable named `__profile` each time.",work fine use case disable wo get file warning would worth fixing though file included member function bool bool error declaration previous local define name name note expansion macro inverse slow note shadowed declaration define name name note expansion macro error declaration previous local define name name note expansion macro note shadowed declaration define name name note expansion macro basically twice scope generate warning recent macro redefine variable time,issue,negative,positive,neutral,neutral,positive,positive
494698680,"Note: will likely conflict with #2264 which fixes encoding in a file with CRLF line endings, but I can rebase either as needed.",note likely conflict file line rebase either,issue,negative,neutral,neutral,neutral,neutral,neutral
494546996,"PyBullet doesn't support 'ball' joint indeed in SDF. We do have 'spherical' in URDF though, see 
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_data/humanoid/humanoid.urdf

Try it out:
pip install pybullet
python3 -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_backflip_args.txt",support joint indeed though see try pip install python,issue,negative,neutral,neutral,neutral,neutral,neutral
493497281,"Yes, you can use a logical OR to combine flags in loadURDF. Added it to the PyBullet quickstart guide in the loadURDF flags section.
https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA",yes use logical combine added guide section,issue,negative,positive,positive,positive,positive,positive
493385909,"in my view, you can delete these code if you like.",view delete code like,issue,negative,neutral,neutral,neutral,neutral,neutral
493359799,"@Steven89Liu I was interested in the function btJacobianEntry and why its result is overwritten in such a ""barbaric way"".",interested function result barbaric way,issue,negative,positive,positive,positive,positive,positive
493333752,"they should get the same value, all implement the equation: rel_vel = (v0 + w0 x r0 - v1 - w1 x r1).dot(n). 
it seems that the btJacobianEntry is obsolete function not used at all.",get value implement equation obsolete function used,issue,negative,neutral,neutral,neutral,neutral,neutral
493138900,"Good point. btGetNumHardwareThreads should at least return 1, since without a CPU/thread we cannot do much. Do you care for a pull request with a fix?",good point least return since without much care pull request fix,issue,negative,positive,positive,positive,positive,positive
493062389,Please let me know if this is an unwanted change so I can address it in another way,please let know unwanted change address another way,issue,negative,neutral,neutral,neutral,neutral,neutral
492972622,"Thanks for the answer I'll do a merge of bullet physics inside Godot soon, after this we can start to see why it doesn't work so we can work on a synchronized version of Bullet. I let you know.",thanks answer merge bullet physic inside soon start see work work synchronized version bullet let know,issue,negative,positive,positive,positive,positive,positive
492933493,"i write a simple test with similar parameters as yours, but i can't reproduce this issue. Could you help to check if there is some difference between us.
1. create the rigidbody
   `testBody = createRigidBody(mass,startTransform,colShape);
    testBody->setCcdMotionThreshold(1e-7);
    testBody->setCcdSweptSphereRadius(radius*0.2);`
2. change the velocity by the key
`bool BasicExample::keyboardCallback(int key, int state) {
        //key 1, key 2, key 3
        printf(""key = %d, state=%d\n"", key, state);
        if (state == 0) return false;
        testBody->setActivationState(1);
        switch (key) {
        case '1' /*ASCII for 1*/: {
                printf(""key 1\n"");
                testBody->setLinearVelocity(btVector3(200, 0, 0));
                return true;
        }
        case '2' /*ASCII for 2*/: {
                printf(""key 2\n"");
                testBody->setLinearVelocity(btVector3(500, 0, 0));
                return true;
        }
        case '3' /*ASCII for 3*/: {
                printf(""key 3\n"");
                testBody->setLinearVelocity(btVector3(10000, 0, 0));
                return true;
        }
        }

        return false;
}`
![Basic Example0](https://user-images.githubusercontent.com/48872734/57830654-5348b200-77e5-11e9-8575-871dce7bc42d.png)

the test file is attached. 
[BasicExample.cpp.txt](https://github.com/bulletphysics/bullet3/files/3185634/BasicExample.cpp.txt)


",write simple test similar ca reproduce issue could help check difference u create mass radius change velocity key bool key state key key key key state state return false switch key case ascii key return true case ascii key return true case ascii key return true return false basic example test file attached,issue,positive,positive,neutral,neutral,positive,positive
492847817,I really don't know the difference myself. What is btVector3 and what is b3Vector3? Which is meant for programmer's use and which is there for api designer?,really know difference meant programmer use designer,issue,negative,positive,positive,positive,positive,positive
492711248,We are running into the same issue - turning the Bullet2_demos off in our case was the offensive one. Perhaps a CMake check for incompatible options could resolve this?,running issue turning case offensive one perhaps check incompatible could resolve,issue,negative,neutral,neutral,neutral,neutral,neutral
492684259,"""except for the last joint defined in the .urdf file. ""
All the translation and rotation are relative to its parent coordinate system.  all your parameters are relative value, but seems that what you want is absolute value relative to the fix frame, i think you should transform these absolute values to relative values for each joint.",except last joint defined translation rotation relative parent system relative value want absolute value relative fix frame think transform absolute relative joint,issue,positive,positive,neutral,neutral,positive,positive
492659052,"Yes, best to keep it private, the intention is to have a higher level C API with Python bindings that allows switching physics engines, add IK, inverse dynamics, VR and rendering for experiments.",yes best keep private intention higher level python switching physic add inverse dynamic rendering,issue,positive,positive,positive,positive,positive,positive
492557075,"i find that the engine is not so good at supporting the GEOM_PLANE in DIRECT mode. so the initial state you get is not right.  you can try to replace the plane with the box like below. Good luck!
        planeId = p.createCollisionShape(p.GEOM_BOX,halfExtents=[100,100,0.001])
        p.createMultiBody(0, planeId,-1, [0, 0, 0], [0, 0, 0, 1])",find engine good supporting direct mode initial state get right try replace plane box like good luck,issue,positive,positive,positive,positive,positive,positive
492520581,"I was able to use the private member in my case. For anyone else giving it a try, the relevant chain, I believe, is

`((PhysicsServerCommandProcessor*) ((PhysicsDirect*) sm)->m_data->m_commandProcessor)->m_data->m_dynamicsWorld`

where `sm` is the `b3PhysicsClientHandle`.

Here is an example of accessing the C and C++ API from Julia: 
https://github.com/goretkin/Bullet.jl/blob/d85f3cb8ea005c1bcc87626b09d37389c742bca1/test/cxx_bullet_c_api.jl",able use private member case anyone else giving try relevant chain believe example,issue,negative,positive,positive,positive,positive,positive
492353271,"If I'm understanding the gist of https://github.com/bulletphysics/bullet3/issues/1328 correctly, the C++ API is not really intended to be used anymore. It would still be great to have access to it for debugging purposes, however.",understanding gist correctly really intended used would still great access however,issue,positive,positive,positive,positive,positive,positive
492260613,"I assume the mouse wheel is used for this (like in rViz), but this can't be emulated on macOS easily, so it would be nice to have an alternative for mouse-wheel-less laptops.",assume mouse wheel used like ca easily would nice alternative,issue,positive,positive,positive,positive,positive,positive
492219432,"The difference per step is small (1e-6) so it seems like somewhere a double to single precision conversion happens. It could also be some floating point cancellation issue (adding a small number to a larger number gets lost).

It is too small of a difference to track down urgently for me. Feel free to dig into it yourself, it is all open source.

Can you explain your motivation?",difference per step small like somewhere double single precision conversion could also floating point cancellation issue small number number lost small difference track urgently feel free dig open source explain motivation,issue,positive,negative,neutral,neutral,negative,negative
492213562,"PyKDL and rbdl use double precision, so that is probably not it then. What are the other possible options for this difference?",use double precision probably possible difference,issue,negative,neutral,neutral,neutral,neutral,neutral
491929202,"@erwincoumans I still get no window showing on the kuka env, whether I call env.render() before or after reset.",still get window showing whether call reset,issue,negative,neutral,neutral,neutral,neutral,neutral
491919077,Can you call env. render('human') once before the first env. reset? The issue is that PyBullet needs to create an OpenGL window at initialization. Will be fixed in a future major revision.,call render first reset issue need create window fixed future major revision,issue,negative,positive,positive,positive,positive,positive
491914951,"I am able to correct the camera position in the reacher environment manually like this:
```
import pybullet
pybullet.resetDebugVisualizerCamera(0.5, 0, -45, (0, 0, 0))
```",able correct camera position reacher environment manually like import,issue,negative,positive,positive,positive,positive,positive
491907793,"Upon further examination, the reacher env does produce visual output, but the camera is very far. There is a method `camera_adjust` [defined here](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/gym_manipulator_envs.py#L40), but I think this method is never called, because when I call it, there seems to be a bug in the method:

```
  File ""<stdin>"", line 1, in <module>
  File ""/home/maximecb/.local/lib/python3.6/site-packages/pybullet_envs/gym_manipulator_envs.py"", line 44, in camera_adjust
    self.camera.move_and_look_at(0.3, 0.3, 0.3, x, y, z)
  File ""/home/maximecb/.local/lib/python3.6/site-packages/pybullet_envs/env_bases.py"", line 138, in move_and_look_at
    self._p.resetDebugVisualizerCamera(distance, yaw, -20, lookat)
AttributeError: 'Camera' object has no attribute '_p'
```",upon examination reacher produce visual output camera far method defined think method never call bug method file line module file line file line distance yaw object attribute,issue,negative,positive,neutral,neutral,positive,positive
491522053,Turns out that there are `*All.cpp` files that include other cpp files for some reason. Deleted those and it started to work.,turn include reason work,issue,negative,neutral,neutral,neutral,neutral,neutral
491050331,"A sum of error of 10^(-3) over 1000 iterations, is in the order of 10^-6 per step. It is not clear yet where the difference happens. Bullet uses double precision. Does rbdl/PyKDL also use double precision floats? Possibly some conversion from double to single float precision happens somewhere.",sum error order per step clear yet difference bullet double precision also use double precision possibly conversion double single float precision somewhere,issue,negative,positive,neutral,neutral,positive,positive
490980768,"Thanks for the repro case, I can see the difference between rbdl and pybullet.
It also reminds me how much headache it is to install KDP and rbdl, for various Python versions on Mac OSX. Why can't they just have pip install PyKDL and pip install rbdl working out-of-the-box like pybullet?

I'll have a look when I find time, to check it out. It may be the difference between single precision float and double precision float (some parts of the pybullet URDF importer may use use single-precision)",thanks case see difference also much headache install various python mac ca pip install pip install working like look find time check may difference single precision float double precision float importer may use use,issue,positive,positive,neutral,neutral,positive,positive
490880677,"@BlGene no, the only problem I have noticed was the one you described (the perspective). However, I can not be absolutely confident whether it's the only problem because I downgraded to 2.4.0 after noticing the problem.",problem one perspective however absolutely confident whether problem problem,issue,negative,positive,positive,positive,positive,positive
490831064,"After some testing, it seems to me that the problem is related to integers vs. decimals. As long as the urdf's origins consist of integers the numerical difference is of factor 10^(-12), while when changing just one element from integer to a decimal, the numerical difference is of factor 10^(-3), sometimes 10^(-2). 

To demonstrate a minimal example, I use a pantilt-urdf and a test script to compare gravitational impact on the joints using the inverse dynamics functionality: 

```

import rbdl
import numpy as np
import PyKDL as kdl
import kdl_parser_py.urdf as kdlurdf
import pybullet as pb

root = 'base_link'
tip = 'tilt_link'
path_to_urdf = 'pantilt.urdf'
ok, tree = kdlurdf.treeFromFile(path_to_urdf)

kdlmodel = tree.getChain(root,tip)
rbdlmodel = rbdl.loadModel(path_to_urdf)

sim = pb.connect(pb.DIRECT)
pbmodel = pb.loadURDF(path_to_urdf, useFixedBase=True, flags = pb.URDF_USE_INERTIA_FROM_FILE)
pb.setGravity(0, 0, -9.81)
q_max = [3.14, 4.64]
q_min = [-3.13, -4.64]
n_joints = 2

q_kdl = kdl.JntArray(n_joints)
tau_kdl = kdl.JntArray(n_joints)
gravity_kdl = kdl.Vector()
gravity_kdl[2] = -9.81

q_pb = [None]*n_joints
zeros_pb = [None]*n_joints

q_rbdl = np.zeros(n_joints)
tau_rbdl = np.zeros(n_joints)
zeros_rbdl = np.zeros(n_joints)

error_kdl_rbdl = np.zeros(n_joints)
error_pb_rbdl = np.zeros(n_joints)
error_pb_kdl = np.zeros(n_joints)

def list2np(asd):
    return np.asarray(asd)

n_itr = 1000

for i in range(n_itr):
    for j in range(n_joints):
        q_pb[j] = (q_max[j] - q_min[j])*np.random.rand()-(q_max[j] - q_min[j])/2
        q_kdl[j] = q_pb[j]
        q_rbdl[j] = q_pb[j]
        zeros_pb[j] = 0.

    rbdl.InverseDynamics(rbdlmodel, q_rbdl, zeros_rbdl, zeros_rbdl, tau_rbdl)
    kdl.ChainDynParam(kdlmodel, gravity_kdl).JntToGravity(q_kdl, tau_kdl)
    tau_pb = pb.calculateInverseDynamics(pbmodel, q_pb, zeros_pb, zeros_pb)

    for tau_idx in range(n_joints):
        error_kdl_rbdl[tau_idx] += np.absolute((list2np(tau_kdl[tau_idx]) - tau_rbdl[tau_idx]))
        error_pb_rbdl[tau_idx] += np.absolute((list2np(tau_pb[tau_idx]) - (tau_rbdl[tau_idx])))
        error_pb_kdl[tau_idx] += np.absolute((list2np(tau_kdl[tau_idx]) - list2np(tau_pb[tau_idx])))

sum_error_kdl_rbdl = 0
sum_error_pb_rbdl = 0
sum_error_pb_kdl = 0

for err in range(n_joints):
    sum_error_kdl_rbdl += error_kdl_rbdl[err]
    sum_error_pb_kdl += error_pb_kdl[err]
    sum_error_pb_rbdl += error_pb_rbdl[err]

print ""\nSum of errors KDL vs. RBDL for"", n_itr, ""iterations:\n"", sum_error_kdl_rbdl
print ""\nSum of errors KDL vs. pybullet for"", n_itr, ""iterations:\n"", sum_error_pb_kdl
print ""\nSum of errors RBDL vs. pybullet for"", n_itr, ""iterations:\n"",sum_error_pb_rbdl
```



The pantilt-urdf, taken from ROS tutorials, looks like this:

```

<?xml version=""1.0""?>
<robot name=""pan_tilt"">

  <link name=""base_link"">
       <inertial>
  	<mass value=""1""/>
    <origin rpy=""0 0 0"" xyz=""0.0 0.0 0.0""/>
  	<inertia ixx=""1.0"" ixy=""0.0"" ixz=""0.0"" iyy=""1.0"" iyz=""0.0"" izz=""1.0""/>
  </inertial>
    </link>

    <joint name=""pan_joint"" type=""revolute"">
      <parent link=""base_link""/>
      <child link=""pan_link""/>
      <origin xyz=""0 0 0.1""/>
      <axis xyz=""0 0 1"" />
      <limit effort=""300"" velocity=""0.1"" lower=""-3.14"" upper=""3.14""/>
      <dynamics damping=""50"" friction=""1""/>
    </joint>

    <link name=""pan_link"">
     <inertial>
  	<mass value=""1""/>
    <origin rpy=""0 0 0"" xyz=""0 0 1""/>
  	<inertia ixx=""1.0"" ixy=""0.0"" ixz=""0.0"" iyy=""1.0"" iyz=""0.0"" izz=""1.0""/>
  </inertial>
    </link>

    <joint name=""tilt_joint"" type=""revolute"">
      <parent link=""pan_link""/>
      <child link=""tilt_link""/>
      <origin rpy=""0.0 0.0 0.0"" xyz=""4 0 1""/>
      <axis xyz=""0.0 1.0 0.0"" />
      <limit effort=""300"" velocity=""1.0"" lower=""-4.64"" upper=""4.64""/>
    </joint>

    <link name=""tilt_link"">
    <inertial>
  	<mass value=""5""/>
    <origin rpy=""0 0 0"" xyz=""1.001 1 1""/>
  	<inertia ixx=""1.0"" ixy=""0.0"" ixz=""0.0"" iyy=""1.0"" iyz=""0.0"" izz=""1.0""/>
  </inertial>
    </link>
</robot>
```


As long as the tilt_link's xyz-origin consist of integers (doesn't matter which integers), the difference is 10^(-12) for 1000 iterations. If, for instance, the tilt_link's origin-xyz changes from (1 1 1) to (1.001 1 1), the numerical difference becomes 10^(-2). Do you know why this happens? The decimals in the origins are also the reason the numerical difference for the kuka-lwr and the ur5 becomes so big. Is it something with pybullet's datatypes? 
 ",testing problem related long consist numerical difference factor one element integer decimal numerical difference factor sometimes demonstrate minimal example use test script compare gravitational impact inverse dynamic functionality import import import import import root tip tree root tip none none return range range range err range err err err print print print taken like robot link inertial mass origin inertia joint revolute parent child origin axis limit dynamic link inertial mass origin inertia joint revolute parent child origin axis limit link inertial mass origin inertia long consist matter difference instance numerical difference becomes know also reason numerical difference ur becomes big something,issue,positive,negative,neutral,neutral,negative,negative
490683380,"@Anmol6 Were you able to get the exact offset? 
@erwincoumans  I am using the the C++ API of btCompoundShape to import meshes. Do you know what would be the equivalent calls in C++ to set the offset? How is the offset computed? Is it the center of the bounding box? Thank you.",able get exact offset import know would equivalent set offset offset center bounding box thank,issue,negative,positive,positive,positive,positive,positive
490603506,Without access to your test it is impossible to tell where the differences are. Is your test available somewhere?,without access test impossible tell test available somewhere,issue,negative,negative,negative,negative,negative,negative
490408426,"Just figured out that the joint constraint must be set using this: btMultiBodyJointLimitConstraint

Thanks for the Help!",figured joint constraint must set thanks help,issue,positive,positive,positive,positive,positive,positive
490402841,"Another test that I did was to reset the position each step using:

```

	btScalar q0 = 50.f * SIMD_PI / 180.f;
	setJointPosMultiDof(get_link_id(), &q0);
```

and the result is that the contact responses are not correctly propagated.
![ezgif com-video-to-gif(1)](https://user-images.githubusercontent.com/8342599/57362032-2b6ea400-717e-11e9-99b6-addc6923dc20.gif)
",another test reset position step result contact correctly,issue,negative,neutral,neutral,neutral,neutral,neutral
490224995,"Never mind, I used the ?w=1 after the URL and it looks fine.",never mind used fine,issue,negative,positive,positive,positive,positive,positive
490208378,"Thanks for the contribution. There are white-space changes in PhysicsServerCommandProcessor.cpp. Could you please undo those? I will run clang-format in a separate CL (without any actual changes, so format changes are separated from actual code changes)",thanks contribution could please undo run separate without actual format actual code,issue,positive,positive,neutral,neutral,positive,positive
490101331,i noticed in the current master a file btCollisionWorldImporter.cpp already exists,current master file already,issue,negative,neutral,neutral,neutral,neutral,neutral
489877276,"I also have this issue with external torque. Right now, it seems to only be an issue when applying a link_frame torque on the base link. ex:      p.applyExternalTorque(robotId, -1, [10,0,0], 1) 
",also issue external torque right issue torque base link ex,issue,negative,negative,negative,negative,negative,negative
489674165,"Sorry if I did a new PR to fix this but I'm not on my machine, right now, and I've managed this from GitHub Page.

So check this #2236 and thanks!",sorry new fix machine right page check thanks,issue,negative,positive,neutral,neutral,positive,positive
489634170,"If that works for you it is fine. Yes, you can move the resize in the finalizeMultiDof function.

Can you resolve the errors?
>>> c:\projects\bullet3\src\bulletdynamics\featherstone\btMultiBody.h(505): error C2065: 'n_links': undeclared identifier [C:\projects\bullet3\cm\src\BulletDynamics\BulletDynamics.vcxproj]
",work fine yes move resize function resolve error undeclared identifier,issue,positive,positive,positive,positive,positive,positive
489630527,"I'm using setNumLinks to resize it and then I call the finalize function
and it seems to work fine.

is useful to resize it so I can avoid to recreate it each time a link is
added

Let me know if is better to recreate it each time please, and Thanks for
the answer

On Mon, May 6, 2019, 15:36 erwincoumans <notifications@github.com> wrote:

> You are never supposed to 'resize' the number of links, at construction
> time you pass in the number of links. How do you resize it?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/2233#issuecomment-489622654>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AB7UYR5QYXLAFEX5TZZ6I4DPUAX37ANCNFSM4HK7JPVQ>
> .
>
",resize call finalize function work fine useful resize avoid recreate time link added let know better recreate time please thanks answer mon may wrote never supposed number link construction time pas number link resize thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
489623747,"Also, PyBullet is mainly implemented as a collection of 'examples' with some glue code in pybullet.c and examples/SharedMemory. For example, the URDF importer can be used as a separate example or as part of PyBullet.",also mainly collection glue code example importer used separate example part,issue,negative,positive,positive,positive,positive,positive
489622654,"You are never supposed to 'resize' the number of links, at construction time you pass in the number of links and then you 'finalize' the multibody. 

How do you resize it?",never supposed number link construction time pas number link resize,issue,negative,neutral,neutral,neutral,neutral,neutral
489594304,Probably manage this inside this function: https://github.com/bulletphysics/bullet3/blob/fd161fa061539257036dd8f651bda3d3bf079556/src/BulletDynamics/Featherstone/btMultiBody.cpp#L341 is even better,probably manage inside function even better,issue,negative,positive,positive,positive,positive,positive
489450754,Thanks a lot for the help everyone!,thanks lot help everyone,issue,positive,positive,positive,positive,positive,positive
489301934,"> We don't need to fix this on the Bullet source code?

I've created a small pull request for this issue: https://github.com/bulletphysics/bullet3/pull/2232
",need fix bullet source code small pull request issue,issue,negative,negative,negative,negative,negative,negative
489200876,pip install pybullet does that. Or use premake/cmake and only build the pybullet target.,pip install use build target,issue,negative,neutral,neutral,neutral,neutral,neutral
489198528,"I'm not sure if this was the intention of the flag originally, but I would like a way to build just pybullet, or just the c api (https://github.com/bulletphysics/bullet3/pull/2221). ",sure intention flag originally would like way build,issue,positive,positive,positive,positive,positive,positive
489149200,"@themightyoarfish each child link is attached by exactly 1 joint to the parent, so the number of links == number of joints. The link indices can be different than the order in the URDF file. The loadURDF command has a flag (pybullet.URDF_MAINTAIN_LINK_ORDER) to maintain the order of links in the URDF, but in that case you are responsible for making sure the parent links are in the URDF file before child links.",child link attached exactly joint parent number link number link index different order file command flag maintain order link case responsible making sure parent link file child link,issue,positive,positive,positive,positive,positive,positive
489145156,"But how are the link indices assigned? One link may have multiple joints attached to it, so there can be branching. Are the indices just the order in which the links appear in the urdf file?",link index assigned one link may multiple attached branching index order link appear file,issue,negative,neutral,neutral,neutral,neutral,neutral
488815816,"Thanks but you missed the ""not on ALL files"" part of my comment.
Now your CL has tons of white space changes. Can you please undo all white space changes. ",thanks part comment white space please undo white space,issue,positive,positive,neutral,neutral,positive,positive
488654252,"Hello, I don't think so, but that could indeed be a very nice addition",hello think could indeed nice addition,issue,negative,positive,positive,positive,positive,positive
488490529,"Thanks for the patch. It contains a mix of spaces and tabs. Bullet uses tabs at the moment, can you please run the clang-format on the files you modified (not on ALL files)?",thanks patch mix bullet moment please run,issue,positive,positive,positive,positive,positive,positive
488210521,We don't need to fix this on the Bullet source code?,need fix bullet source code,issue,negative,neutral,neutral,neutral,neutral,neutral
487826495,"Bullet does use generalized coordinates, see btMultiBody. Is is default in PyBullet.",bullet use generalized see default,issue,negative,neutral,neutral,neutral,neutral,neutral
487630417,"I made an attempt at a PR that would solve this for my case.
I would like to use Bullet from Julia. The [build script for the Julia package builds the C++ API.](https://github.com/SimonDanisch/Bullet3Builder/blob/master/build_tarballs.jl#L46) I would like it to build the C API instead (or in addition) since it is easier to wrap the C API right now.",made attempt would solve case would like use bullet build script package would like build instead addition since easier wrap right,issue,positive,positive,positive,positive,positive,positive
487629777,"There are a lot of ""pybullet"" flags that are checked in the C API build. All those configurations apply equally to the C API build as far as I can tell. So I'm not sure if they should be renamed, or just left as is.",lot checked build apply equally build far tell sure left,issue,negative,positive,positive,positive,positive,positive
487322834,"This CL is used instead. Thanks for the contribution!
https://github.com/bulletphysics/bullet3/pull/2218",used instead thanks contribution,issue,negative,positive,positive,positive,positive,positive
487290935,"Re-created this PR with some changes to make yapf run faster, see 
https://github.com/bulletphysics/bullet3/commit/ef9570c315ee0db1dffbb950dbd46aa726e06f83",make run faster see,issue,negative,neutral,neutral,neutral,neutral,neutral
487285826,"Let me check what the best option is, I still want to have the Python formatting consistent.",let check best option still want python consistent,issue,positive,positive,positive,positive,positive,positive
487083610,"I tried running the yapf tool myself using your .style.yapf, but it runs REALLY slow. Probably better to find a better solution. Thanks a lot for looking into this though. Once we have a reasonably fast solution, I like to run it myself, so I can be 100% sure the PR only contains formatting changes.",tried running tool really slow probably better find better solution thanks lot looking though reasonably fast solution like run sure,issue,positive,positive,positive,positive,positive,positive
487001444,"Another feedback, apparently flag `""Unicode""` seems to be unsupported

If I comment [this line](https://github.com/bulletphysics/bullet3/blob/master/test/GwenOpenGLTest/premake4.lua#L5) out (`--`), premake works, otherwise it fails

Also `os.is()` is deprecated and it should be substituted by `os.target()`, but this is simply a warning",another feedback apparently flag unsupported comment line premake work otherwise also substituted simply warning,issue,negative,positive,neutral,neutral,positive,positive
486987003,">Pybullet 2.4.0 seems to be more stable with EGL.

@alexpashevich Did you notice any other problems than the ones described above? If so could you please be more specific, or ideally provide a test script showing the problem(s)?",stable notice could please specific ideally provide test script showing problem,issue,positive,positive,positive,positive,positive,positive
486977883,I have also encountered both of those issues. I modified examples/OpenGLWindow/EGLOpenGLWindow.cpp to look at $CUDA_VISIBLE_DEVICES but an egl-specific variable might be a better solution. I also confirm the problem with 2.4.8 and EGL mentioned above. Pybullet 2.4.0 seems to be more stable with EGL.,also look variable might better solution also confirm problem stable,issue,positive,positive,positive,positive,positive,positive
486712462,"Thank you for your solution! 

I checked #2208 and it works correctly releasing memory.",thank solution checked work correctly memory,issue,positive,neutral,neutral,neutral,neutral,neutral
486698918,"There are 2 issues:

1) PyBullet uses file caching by default: files are caches and not deleted after a 'resetSimulation'. You can disable this by adding this line after connect:
~~~~~~~~~~~
p.setPhysicsEngineParameter(enableFileCaching=0)
~~~~~~~~~~~
So the script could be:
~~~~~~~~~~~
import os
  
import numpy as np
import pybullet as p
import cv2

p.connect(p.DIRECT)
p.setPhysicsEngineParameter(enableFileCaching=0)

@profile
def test():
    texture_ids = []
    for i in range(300):
        img = np.array(255 * np.random.random(size=(600, 600, 3)),
                       dtype=np.uint8)
        save_filename = './hoge{}.png'.format(i)
        cv2.imwrite(save_filename, img)
        texture_id = p.loadTexture(save_filename)
        print(""texture_id="",texture_id)
        texture_ids.append(texture_id)
        os.remove(save_filename)
    p.resetSimulation()
    print('after reset')
    p.disconnect()
    print('after disconnect')

test()

~~~~~~~~~~~

2) Even if file caching is disabled, some file loading data is not released until you disconnect
Either add a 'disconnect' and reconnect or wait for the following patch

https://github.com/bulletphysics/bullet3/pull/2208
This will be included in PyBullet 2.4.9 soon.
",file default disable line connect script could import o import import import profile test range print print reset print disconnect test even file disabled file loading data disconnect either add reconnect wait following patch included soon,issue,negative,negative,neutral,neutral,negative,negative
486108827,"Sorry, I think that this issue is caused by my misunderstanding and I re-examined this issue still exists. So reopen this issue.

I add commit to do print debug, here https://github.com/iory/bullet3/blob/test/examples/SharedMemory/plugins/tinyRendererPlugin/TinyRendererVisualShapeConverter.cpp#L1241-L1251 .
also I checked by `strace` command, and it seems that the program not called `free` correctly.

Following is the results of `strace` command.
```
brk(0x55bd43f61000)                     = 0x55bd43f61000
brk(0x55bd44161000)                     = 0x55bd44161000
unlink(""./hoge0.png"")                   = 0
munmap(0x7f2d1756a000, 1081344)         = 0
write(1, ""free address 0x55bd43c40840\n"", 28free address 0x55bd43c40840
) = 28
write(1, ""\337\n"", 2
                    )                   = 2
write(1, ""free 0 called\n"", 14free 0 called
)         = 14
munmap(0x7f2d19526000, 1052672)         = 0
munmap(0x7f2d19627000, 1150976)         = 0
munmap(0x7f2d19740000, 6295552)         = 0
```

Can you reproduce this error?
My environment is ubuntu 16.04.
",sorry think issue misunderstanding issue still reopen issue add commit print also checked command program free correctly following command unlink write free address free address write write free free reproduce error environment,issue,positive,positive,positive,positive,positive,positive
485939286,"Thanks for the report, but why did you close it? Did you try disabling file caching?",thanks report close try file,issue,negative,positive,positive,positive,positive,positive
485234548,I am very instersted in this project. So I'm considering that if you need a part-time volunteer for this issue?,project considering need volunteer issue,issue,negative,neutral,neutral,neutral,neutral,neutral
484799177,The upper left of the image is what I want the physics engine to render. And I do not know how  to use  getVisualShapeData() and changeVisualShape() to only change the ring of the arm rather than the whole link. ,upper left image want physic engine render know use change ring arm rather whole link,issue,negative,positive,neutral,neutral,positive,positive
484774559,"thank you !

I think it's not the problem of stepSimulation according to your answer.

Just check codes and add ""m_robotSim->removeBody(this->m_minitaurUid);"" in ""virtual ~TableRobot ()"" fix a bug that add a new robot should delete the old one.

Program B has been speed up to 11.1226 seconds, because we load a robot from urdf, the time is seems to be ok.

Comment out the stepSimulation in program B time less than 1 second, that I just think the stepSimulation of m_robotSim is slowly. that so stupid~.~

there is no m_numSolverIterations but m_numIterations
I changed program A to 

    m_dynamicsWorld->getSolverInfo().m_numIterations=50;
    btScalar timeStep = 1./240.;
    m_dynamicsWorld->stepSimulation(timeStep, 50, timeStep);

total time up to 2.05036 seconds

download link has been delete.
codes follow for the one who want to learning

[hw_6_code_RobotSimulatorClientAPI_11.1226 seconds.zip](https://github.com/bulletphysics/bullet3/files/3097497/hw_6_code_RobotSimulatorClientAPI_11.1226.seconds.zip)

[hw_6_code_OpenGL_2.05036 seconds.zip](https://github.com/bulletphysics/bullet3/files/3097115/hw_6_code_OpenGL_2.05036.seconds.zip)


",thank think problem according answer check add virtual fix bug add new robot delete old one program speed load robot time comment program time le second think slowly program total time link delete follow one want learning,issue,negative,negative,neutral,neutral,negative,negative
484761832,"Timestep should be 1./240. to be equal.
m_dynamicsWorld->getSolverInfo().m_numSolverIterations=50
What is inside each world? b3RobotSimulatorClientAPI creates btMultiBody by default.

Please don't use Baido links, just attach zipped source code.",equal inside world default please use link attach source code,issue,negative,neutral,neutral,neutral,neutral,neutral
484757986,"changed the same program for diff with stepSimulation (b3RobotSimulatorClientAPI_NoDirect or btDiscreteDynamicsWorld)

debug results shows that  **slowly problem is caused by stepSimulation**

program A
`
        gContactProcessedCallback = myContactProcessedCallback;

        m_collisionConfiguration = new btDefaultCollisionConfiguration();

        m_dispatcher = new btCollisionDispatcher(m_collisionConfiguration);

        btVector3 worldAabbMin(-10000, -10000, -10000);
        btVector3 worldAabbMax(10000, 10000, 10000);
        m_broadphase = new btAxisSweep3(worldAabbMin, worldAabbMax);

        m_solver = new btSequentialImpulseConstraintSolver;

        m_dynamicsWorld = new btDiscreteDynamicsWorld(m_dispatcher, m_broadphase, m_solver, m_collisionConfiguration);

        btScalar timeStep = 0.01;
        m_dynamicsWorld->stepSimulation(timeStep, 50, timeStep);
`


program B
`

        b3RobotSimulatorClientAPI m_robotSim;

        m_robotSim.stepSimulation();
`

total running time:
program A  0.837053 seconds
program B  89.4724 seconds

the program is try to train 10 quadrupedRobots to walk in 1 time, 

I am not sure the solver iterations, maybe it's the key? 
",program slowly problem program new new new new new program total running time program program program try train walk time sure solver maybe key,issue,negative,positive,neutral,neutral,positive,positive
484512538,What timestep and number of solver iterations did you use? Default in robotics is 240 Hz and 50 iterations. How did you benchmark exactly?,number solver use default exactly,issue,negative,positive,positive,positive,positive,positive
483716684,"[bot_two_links.zip](https://github.com/bulletphysics/bullet3/files/3085699/bot_two_links.zip)
Hello,
Thank you for your reply. I have attached the zip file which contains the SDF and the URDF models for the robot. Please let me know if anything else is needed. Thank you very much.
",hello thank reply attached zip file robot please let know anything else thank much,issue,positive,positive,positive,positive,positive,positive
483682202,"The SDF and URDF implementation is shared. Attach a zipped version of both, so someone can look at it.",implementation attach version someone look,issue,negative,neutral,neutral,neutral,neutral,neutral
483638305,Awesome! Thank you for the detailed profiling insight as well :),awesome thank detailed insight well,issue,positive,positive,positive,positive,positive,positive
483511032,"See https://github.com/bulletphysics/bullet3/pull/2204

Note that only y-axis up is accelerated, would be nice if someone has time to allow for z-axis as well.",see note accelerated would nice someone time allow well,issue,positive,positive,positive,positive,positive,positive
483504294,"The parallel version on a large 128x128 btHeightfieldTerrainShape runs indeed much faster (4ms versus 42ms on 500 rays, even without 'buildAccelerator'. With, it becomes even faster.
![image](https://user-images.githubusercontent.com/725468/56181592-06de3c80-5fc3-11e9-892e-be4635d5e458.png)

I added an example and a way to disable the accelerator, so I'll point to a new PR.

![image](https://user-images.githubusercontent.com/725468/56181646-3e4ce900-5fc3-11e9-8ddb-260e37e4463b.png)
",parallel version large indeed much faster versus even without becomes even faster image added example way disable accelerator point new image,issue,negative,positive,positive,positive,positive,positive
483344176,"Will look into this today, need to add some example in the ExampleBrowser and try it out.",look today need add example try,issue,negative,neutral,neutral,neutral,neutral,neutral
483198728,"Need this one, will this PR eventually go in or there are problems with it?
Thanks!
",need one eventually go thanks,issue,negative,positive,positive,positive,positive,positive
483052070,"No, we only parse the strict necessary data such as kinematics (joint position), joint limits, mass, collision and visual shape information. PyBullet is usually used to compute animation trajectories using RL.",parse strict necessary data kinematics joint position joint mass collision visual shape information usually used compute animation,issue,negative,negative,neutral,neutral,negative,negative
483051786,"The debug visualizer camera cannot be set to look straight down at a pitch of -90, due to Euler angle singularity.",visualizer camera set look straight pitch due angle singularity,issue,negative,positive,neutral,neutral,positive,positive
483050741,"There are several ways, ranging from collision filter groups to overriding the narrowphase callback.",several way ranging collision filter,issue,negative,neutral,neutral,neutral,neutral,neutral
482987425,"It is unfortunate that OpenAI keeps on renaming methids in the gym API. We probably need to stick to a specific gym version, document that gym version in a requirements file, and bump it up if a volunteer shows up. (same for tensorflow etc)",unfortunate gym probably need stick specific gym version document gym version file bump volunteer,issue,negative,negative,negative,negative,negative,negative
482835953,"Hi, 
thank you for great env.
I have some questions.
1. Is the observation output of KukaDiverseObjectEnv only rgb image? how about depth image? 
the output of KukaCamGymEnv has depth 4. Is the 4th channel depth info?
2. Is there any example for training KukaDiverseObjectEnv? I get the following error when I use the script for KukaCamGymEnv:

```
Traceback (most recent call last):
  File ""mine/kuka_arm_train.py"", line 119, in <module>
    main()
  File ""mine/kuka_arm_train.py"", line 72, in main
    callback=callback
  File ""/home/isaac/miniconda3/envs/rl/lib/python3.5/site-packages/baselines/deepq/simple.py"", line 173, in learn
    observation_space_shape = env.observation_space.shape
AttributeError: 'NoneType' object has no attribute 'shape'
```
",hi thank great observation output image depth image output depth th channel depth example training get following error use script recent call last file line module main file line main file line learn object attribute,issue,positive,positive,positive,positive,positive,positive
481923662,"PyBullet is primarily for robotics and deep reinforcement learning, and some VR experiments. For these purposes PyBullet (and the BulletRobotics C/C++ API) needs a basic renderer, inverse kinematics, inverse dynamics and URDF/SDF support. PyBullet has similar features to MuJoCo and Gazebo-sim. PyBullet is documented [here](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3). For robotics it helps to connect to ROS and for deep reinforcement learning it helps to use TensorFlow etc. At some stage, we may move PyBullet to its own separate repository, but since I am the main developer and maintainer separating things just adds extra hassle for me, which is not worth it.

Reduced coordinate Multibody joints are different from constraints indeed. You can browse some old slides that explains maximal coordinates versus reduced coordinates [here](http://box2d.org/files/GDC2014/ErwinCoumans_ExploringMLCPSolversAndFeatherstone.pdf).

If you just need a C++ physics engine, you can keep on using the underlying Bullet C++ API. That API is still there, under Bullet/src/BulletDynamics and Bullet/src/BulletCollision.",primarily deep reinforcement learning need basic renderer inverse kinematics inverse dynamic support similar connect deep reinforcement learning use stage may move separate repository since main developer maintainer separating extra hassle worth reduced different indeed browse old maximal versus reduced need physic engine keep underlying bullet still,issue,positive,positive,neutral,neutral,positive,positive
481664729,Would it be possible to train the diverse kuka environment with OpenAI's implementation of HER as given in Baselines?,would possible train diverse environment implementation given,issue,negative,neutral,neutral,neutral,neutral,neutral
481563150,"Hi, i have found the problem.

It seems that pybullet can not support 'stl' file which normals are pointing inside of the surface.",hi found problem support file pointing inside surface,issue,negative,neutral,neutral,neutral,neutral,neutral
481522277,"Please share a small reproduction case, otherwise no-one can help you (attach a zipfile or link to some github repo etc).",please share small reproduction case otherwise help attach link,issue,positive,negative,negative,negative,negative,negative
481521728,"![image](https://user-images.githubusercontent.com/18031767/55850145-c70ff300-5b85-11e9-9876-51e275803bc4.png)
![image](https://user-images.githubusercontent.com/18031767/55850157-d2fbb500-5b85-11e9-8f4e-937c2e6db19b.png)
Actually,  i can hardly understand why the depth data of these two yellow objects are total different.",image image actually hardly understand depth data two yellow total different,issue,negative,negative,neutral,neutral,negative,negative
481399870,"No need to change your PR, we can change it in the other place. Are people still using older gcc versions (<=3)?",need change change place people still older,issue,negative,positive,positive,positive,positive,positive
481378180,"The change in setup.py hides *all* symbols / across all compilation units.

The attribute in the C file turns it on per symbol; in this case, I've only marked the entry-point used by CPython (`PyInit_pybullet`), but no other functions / variables / .. - if there's any other functions which Python / Unity must see, they have to be marked, too.

Any function that's already using this macro (which appears to be all of them in the linked file?) should still be visible:

https://github.com/bulletphysics/bullet3/blob/c243f9e7c70c6fd3ab5991abdd1fc652b3bd1156/examples/SharedMemory/PhysicsClientC_API.h#L17-L23

I don't have Unity myself, so I can't test it - but it should still work fine (even if built through setup.py).

When I wrote my patch I wasn't aware of existing code using visibility attributes in GCC; otherwise I'd also just have used `#if defined (__GNUC__)` for consistency (even if it will break for GCC below version 4.0). Shall I change my code?",change across compilation attribute file turn per symbol case marked used python unity must see marked function already macro linked file still visible unity ca test still work fine even built wrote patch aware code visibility otherwise also used defined consistency even break version shall change code,issue,negative,positive,positive,positive,positive,positive
481324791,"Thanks for tracking down your issue with Blender+PyBullet.

We do dynamically load PyBullet.so as part of our experimental Unity plugin. For that plugin, we only need to expose a singer header file, the C-bindings here:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h
Since we compile that plugin with cmake or premake, it probably isn't affected.

This __attribute__((visibility (""default""))) only affects that single pybullet.c file, right?
So we could add this __attribute__((visibility (""default""))) in PhysicsClientC_API.h and PhysicsClientC_API.cpp as well? (source or header?)",thanks issue dynamically load part experimental unity need expose singer header file since compile premake probably affected visibility default single file right could add visibility default well source header,issue,positive,positive,positive,positive,positive,positive
481209287,"Hi, I find if i set **p.resetDebugVisualizerCamera(1.3,180,-89,base_pos)**,
the parameters seem right:
**(1024, 768, (-0.9999999403953552, 8.740908441495776e-08, -1.5257376473343243e-09, 0.0, -8.74223999858259e-08, -0.9998475909233093, 0.017452478408813477, 0.0, 0.0, 0.017452476546168327, 0.9998476505279541, 0.0, -0.0, 1.862645149230957e-09, -1.2999999523162842, 1.0), (0.7499999403953552, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, -1.0000200271606445, -1.0, 0.0, 0.0, -0.02000020071864128, 0.0), (0.0, 0.0, 1.0), (1.5257376473343243e-09, -0.017452478408813477, -0.9998476505279541), (-26666.66796875, -0.002331264317035675, 0.0), (0.0017481818795204163, -19996.953125, 349.049560546875), 180.0, -89.0, 1.2999999523162842, (0.0, 0.0, 0.0))**

 ",hi find set seem right,issue,negative,positive,positive,positive,positive,positive
481164519,"Actually , i do not know how to change **horizon** and **vertical** of function **getDebugVisualizerCamera** in file **pointCloudFromCameraImage.py** and how to get camera position:
![image](https://user-images.githubusercontent.com/18031767/55787173-4f3fbb00-5ae8-11e9-8205-9ddf98363ffd.png)
![image](https://user-images.githubusercontent.com/18031767/55787206-5b2b7d00-5ae8-11e9-9ec3-1cb086fdc7d4.png)
I think it is important for point cloud generation


",actually know change horizon vertical function file get camera position image image think important point cloud generation,issue,negative,positive,positive,positive,positive,positive
480631413,"Thanks for taking the time to respond.

> It is likely because you compile PyBullet using a different Python library (system) than Blender own distributed Python version

Blender uses the system version of Python, as can be seen in the backtrace:

```
[...] from /usr/lib/libpython3.7m.so.1.0
```

To confirm this, here is the version info from within Blender:

```
PYTHON INTERACTIVE CONSOLE 3.7.3 (default, Mar 26 2019, 21:43:19)  [GCC 8.2.1 20181127]
```

And system Python:

```
Python 3.7.3 (default, Mar 26 2019, 21:43:19) 
[GCC 8.2.1 20181127] on linux
```

\- in fact, this is standard on Arch Linux (Blender 2.79 uses the system installation of Python).
For the Blender-2.8-bin AUR package (which ships its own Python) I've contacted the maintainer to move towards system Python (and did local patches as that patch hasn't been integrated in AUR).

All three versions of Blender crash:

- 2.79 / system Python
- 2.8 / system Python
- 2.8 / packaged Python

At this point, I only have 1 Python installation on this system; it's the one used by my Python shell + Blender 2.79 + Blender 2.8 + used to install PyBullet through pip.

> Also, Blender uses a different Bullet version thay PyBullet, that might also interfere.

Yes, that's what I also think; I'd consider that a bug in Bullet.

If the symbols are incompatible, they should be versioned differently.
PyBullet should also load it's own symbols by explicitly specifying which library it wants to use.

The Bullet API is designed around handling separate connections, it shouldn't be a problem to have different connections on different library versions. A connection made by PyBullet should be independent from those made by the C++ API or another Python environment (in the same process).
The context of each PyBullet import should be isolated.

If my program (be it Blender or something else) crashes because I attempt to use PyBullet, then it's an issue that should be solved (even if it only meant sanity checks and throwing an exception for now).

*(Edit)*

I also just checked, and pybullet *should* already be somewhat self-contained:

```
$ ldd ~/.local/lib/python3.7/site-packages/pybullet.cpython-37m-x86_64-linux-gnu.so 
	linux-vdso.so.1 (0x00007ffe17750000)
	libdl.so.2 => /usr/lib/libdl.so.2 (0x00007fa22f609000)
	libpthread.so.0 => /usr/lib/libpthread.so.0 (0x00007fa22f5e8000)
	libpython3.7m.so.1.0 => /usr/lib/libpython3.7m.so.1.0 (0x00007fa22f270000)
	libstdc++.so.6 => /usr/lib/libstdc++.so.6 (0x00007fa22f0e1000)
	libm.so.6 => /usr/lib/libm.so.6 (0x00007fa22ef5c000)
	libgcc_s.so.1 => /usr/lib/libgcc_s.so.1 (0x00007fa22ef42000)
	libc.so.6 => /usr/lib/libc.so.6 (0x00007fa22ed7c000)
	/usr/lib64/ld-linux-x86-64.so.2 (0x00007fa22feda000)
	libutil.so.1 => /usr/lib/libutil.so.1 (0x00007fa22ed77000)
```

The PyBullet library for CPython is larger than 100MB, so I assume it's statically linked against Bullet. It *does* export many symbols (which it probably shouldn't), but this doesn't seem to be the issue here either. If that was the issue, you'd assume it to crash in the Blender code later on, which accidentally calls PyBullet - but it crashes in the explicitly called PyBullet code, which shouldn't ever try to link against the Bullet that has been linked by Blender.

> Either way, this is a Blender issue, not Bullet/PyBullet.

With the reasoning presented in this post, I'd assume that this is a PyBullet issue.

However, I don't even know why it would crash (yet). The whole ""library conflicts"" is just a theory.
So it would be useful if someone looked into it.

If you insist, I'll move this to the Blender bugtracker.
However, I assume they'll redirect me here, as the crash is within PyBullet libraries.

> It runs fine if you compile PyBullet with the Blender version of Python.

This is not the issue.

As stated above, Blender uses my native systems Python.

It can still be the Bullet in Blender vs. Bullet in PyBullet conflict.
However, that's something that shouldn't happen either: it would be a bug in PyBullet dynamic linking.",thanks taking time respond likely compile different python library system blender distributed python version blender system version python seen confirm version within blender python interactive console default mar system python python default mar fact standard arch blender system installation python package python maintainer move towards system python local patch three blender crash system python system python python point python installation system one used python shell blender blender used install pip also blender different bullet version might also interfere yes also think consider bug bullet incompatible differently also load explicitly library use bullet designed around handling separate problem different different library connection made independent made another python environment process context import isolated program blender something else attempt use issue even meant sanity throwing exception edit also checked already somewhat library assume statically linked bullet export many probably seem issue either issue assume crash blender code later accidentally explicitly code ever try link bullet linked blender either way blender issue reasoning post assume issue however even know would crash yet whole library theory would useful someone insist move blender however assume redirect crash within fine compile blender version python issue stated blender native python still bullet blender bullet conflict however something happen either would bug dynamic linking,issue,negative,positive,positive,positive,positive,positive
480618983,"It is likely because you compile PyBullet using a different Python library (system) than Blender own distributed Python version. Also, Blender uses a different Bullet version thay PyBullet, that might also interfere.

Either way, this is a Blender issue, not Bullet/PyBullet. It runs fine if you compile PyBullet with the Blender version of Python.",likely compile different python library system blender distributed python version also blender different bullet version might also interfere either way blender issue fine compile blender version python,issue,negative,positive,positive,positive,positive,positive
480602930,"I agree, it would be very convenient. In our project [qibullet](https://github.com/ProtolabSBRE/qibullet) we ended up creating a wrapper class, creating a bridge between ROS and our simulated model",agree would convenient project ended wrapper class bridge model,issue,negative,neutral,neutral,neutral,neutral,neutral
480585865,"Solved - I'd tried remaking/reinstalling etc, what it took was uninstalling pybullet, rerunning setup.py build and install (as per quickstart guide) in the bullet3 root directory without reinstalling pybullet with pip. I'd like to actually get to the bottom of what was causing the issue - but this fixed it for me. ",tried took build install per guide bullet root directory without pip like actually get bottom causing issue fixed,issue,negative,positive,neutral,neutral,positive,positive
480564316,"I ended up configuring my normal sim with the Y axis up - gravity still acts in the wrong direction in VR (the z axis must be set for it to act along the Y axis), but at least it lines up with the sim now.  I had to transform the controller position and orientation to Y axis up, but that wasn't so bad - thanks for the help!",ended normal axis gravity still wrong direction axis must set act along axis least transform controller position orientation axis bad thanks help,issue,negative,negative,negative,negative,negative,negative
480529362,We only interpret the basic URDF settings and the meaning of the constant used for joint damping is specific to the implementation. I would recommend using changeDynamics to set the joint damping to a small value.,interpret basic meaning constant used joint damping specific implementation would recommend set joint damping small value,issue,positive,negative,neutral,neutral,negative,negative
480528526,"Why do we need to modify the damping at runtime? I downloaded a fetch robot URDF from the Fetch Robotics github with damping that ranges from 1 - 100 in the joint tags. Setting the damping to 0 makes the robot act like a rag-doll but at least doesn't explode.

I am getting a similar issue to @bdelhaisse where the robot basically explodes / joints start spinning extremely fast. Is there a fundamental difference between bullet3 and other physics engines in regards to damping? [Fetch URDF description](https://github.com/fetchrobotics/fetch_ros/blob/melodic-devel/fetch_description/robots/fetch.urdf)",need modify damping fetch robot fetch damping joint setting damping robot act like least explode getting similar issue robot basically start spinning extremely fast fundamental difference bullet physic damping fetch description,issue,negative,negative,neutral,neutral,negative,negative
480144823,"@josiahls Your warning are run-time warnings in PyBullet. The other are C++ compile warnings, different. We could add some method to suppress warnings in PyBullet.",warning compile different could add method suppress,issue,negative,neutral,neutral,neutral,neutral,neutral
480143664,"Is there a non-cmake level way to suppressing warnings? Such as a default boolean on the method calls? Or are we not doing this due to performance reasons?

``` removeBody(index, true) ```

I get warnings when removing bodies that dont exist, and I seem to have to do it this way because I have objects being added and removed thus cluttering the ""numBodies"". Calling removeBodies on a range of indexes seems to work best for me, but I get a lot of warnings out of it.",level way default method due performance index true get removing dont exist seem way added removed thus calling range work best get lot,issue,positive,positive,positive,positive,positive,positive
480074033,"Yes, the maximum number of compound/visual shapes in 16.
You can modify this number in the source code here: https://github.com/bulletphysics/bullet3/blob/31ce4e0e57ddb2bc8a23ebc371b627eaff813aa3/examples/SharedMemory/SharedMemoryCommands.h#L952
",yes maximum number modify number source code,issue,positive,neutral,neutral,neutral,neutral,neutral
480061107,"Yes, I deleted my comment because I realized that I copied the documentation to my Drive a long time ago and was not looking at the latest version. Sorry!",yes comment copied documentation drive long time ago looking latest version sorry,issue,negative,negative,neutral,neutral,negative,negative
480058665,"The documentation was already up-to-date long ago, did you check getClosestPoints?
https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.cb0co8y2vuvc
",documentation already long ago check,issue,negative,negative,neutral,neutral,negative,negative
480054237,"At a first glance, most of them seem harmless warnings, but still good to go through them. Did you check them out?",first glance seem harmless still good go check,issue,positive,positive,positive,positive,positive,positive
479971397,It would be convenient for people who use ROS to have a bridge between ROS and PyBullet. ,would convenient people use bridge,issue,negative,neutral,neutral,neutral,neutral,neutral
479959610,"PyBullet.getContactPoints already returns the two lateral friction directions and forces (in addition to the normal direction/force). The data is exposed in https://github.com/bulletphysics/bullet3/blob/2e81714e7ad5581e9bcc298c5346b299e7dd6a37/examples/SharedMemory/SharedMemoryPublic.h#L583
~~~~~~~~~~~
struct b3ContactPointData
{
	//todo: expose some contact flags, such as telling which fields below are valid
	int m_contactFlags;
	int m_bodyUniqueIdA;
	int m_bodyUniqueIdB;
	int m_linkIndexA;
	int m_linkIndexB;
	double m_positionOnAInWS[3];       //contact point location on object A, in world space coordinates
	double m_positionOnBInWS[3];       //contact point location on object A, in world space coordinates
	double m_contactNormalOnBInWS[3];  //the separating contact normal, pointing from object B towards object A
	double m_contactDistance;          //negative number is penetration, positive is distance.

	double m_normalForce;

	double m_linearFrictionForce1;
	double m_linearFrictionForce2;
	double m_linearFrictionDirection1[3];
	double m_linearFrictionDirection2[3];
};
~~~~~~~~~~~",already two lateral friction addition normal data exposed expose contact telling valid double point location object world space double point location object world space double separating contact normal pointing object towards object double number penetration positive distance double double double double double,issue,negative,positive,neutral,neutral,positive,positive
479958162,"Thanks for the note.
We don't have resources for this and premake4 works fine for all our platforms and compilers (Visual Studio 2017 and 2019 convert from older project files just fine, even from 2010 projects).
Unless someone spends the time to convert all projects and options, this is not going to happen.",thanks note premake work fine visual studio convert older project fine even unless someone time convert going happen,issue,positive,positive,positive,positive,positive,positive
479927885,"Any progress on exposing the frictional interaction forces? I am also interested in getting the full reaction force applied to a link (that may not necessarily be attached to any joints), so I cannot use the enableJointForceTorqueSensor() option.",progress frictional interaction also interested getting full reaction force applied link may necessarily attached use option,issue,positive,positive,positive,positive,positive,positive
479568654,"(closing, please use forums instead and cross the fingers someone helps, or do more digging on your end.)",please use instead cross someone digging end,issue,negative,neutral,neutral,neutral,neutral,neutral
479564018,"I don't recall changes. It could be due to SIMD/SSE usage. Can you build a double-precision build and see if that fixes it? Add #define BT_USE_DOUBLE_PRECISION at the top of src/LinearMath/btScalar.h

Also, use a static library build of Bullet, to avoid using out-of-sync DLLs/so files (if needed).",recall could due usage build build see add define top also use static library build bullet avoid,issue,negative,positive,positive,positive,positive,positive
479348056,"Thanks, good point. We primarily use btDbvtBroadphase, but btSimpleBroadphase should work too.",thanks good point primarily use work,issue,positive,positive,positive,positive,positive,positive
479343953,"Here's a typical call stack (64-bit Linux) at the point of failure:
```
btCollisionObject::getInternalType() const+0xc
btGhostObject::upcast(btCollisionObject*)+0x18
btGhostPairCallback::removeOverlappingPair(btBroadphaseProxy*, btBroadphaseProxy*, btDispatcher*)+0x3a
btHashedOverlappingPairCache::removeOverlappingPair(btBroadphaseProxy*, btBroadphaseProxy*, btDispatcher*)+0x207
btHashedOverlappingPairCache::processAllOverlappingPairs(btOverlapCallback*, btDispatcher*)+0x93
btHashedOverlappingPairCache::removeOverlappingPairsContainingProxy(btBroadphaseProxy*, btDispatcher*)+0x47
btSimpleBroadphase::destroyProxy(btBroadphaseProxy*, btDispatcher*)+0x59
btCollisionWorld::removeCollisionObject(btCollisionObject*)+0x84
btDiscreteDynamicsWorld::removeRigidBody(btRigidBody*)+0x3d
```",typical call stack point failure,issue,negative,negative,negative,negative,negative,negative
478287490,"Looks like the warning is new when apple updated clang. This should fix it though...
`#define BT_SHUFFLE(x, y, z, w) (((w) << 6 | (z) << 4 | (y) << 2 | (x)) & 0xff)`",like warning new apple clang fix though define,issue,negative,positive,positive,positive,positive,positive
478200870,"I just tried both of those options, but they only modify the orientation /position of my headset's viewpoint. The issue seems to be that the axis are rotated, in the normal sim the blue axis  (z axis) is pointing upward, out of the plane, but in VR it is the green axis. Is there anywhere these could have been rotated? Thanks for the help so far!",tried modify orientation headset viewpoint issue axis rotated normal blue axis axis pointing upward plane green axis anywhere could rotated thanks help far,issue,positive,positive,neutral,neutral,positive,positive
478041560,"Yes, of course. The PR is not done yet and I'll do a rebase. I just wanted to post this in the meantime to save others the hassle of figuring it out themselves.

I was having some issues with the egl render perspective being different in a current branch (see images, I'm not yet sure why and if its potentially only the default perspective), so I wanted to get to the bottom of that first.

my branch:
![original](https://user-images.githubusercontent.com/1850503/55243619-e2066d00-523f-11e9-9650-265e605ef995.png)

current branch:
![current](https://user-images.githubusercontent.com/1850503/55243628-e5015d80-523f-11e9-816e-1cbb9e09b488.png)

",yes course done yet rebase post save hassle render perspective different current branch see yet sure potentially default perspective get bottom first branch original current branch current,issue,positive,positive,positive,positive,positive,positive
478020957,"It is best to submit the smallest possible patch, without refactoring etc, if you want to get a pull request accepted. Probably restart from the latest revision, to avoid merge conflicts and add one thing at a time?",best submit possible patch without want get pull request accepted probably restart latest revision avoid merge add one thing time,issue,positive,positive,positive,positive,positive,positive
478019838,"That looks like a cool project!
Contact and friction is likely fine and not the main issue (you can increase it using p.changeDynamics, the the quickstart guide). You are using setJointMotorControl2 in POSITION control mode, with a very large force. Try reducing the max force, which is a parameter in the setJointMotorControl2  command.
In addition, there are some gains to be tuned in setJointMotorControl2 (positionGain, velocityGain).

It takes time and care to setup a proper simulation of a robot, including modeling those servo actuators. I would start modeling a single leg/actuator and try achieving similar motion/forces.
",like cool project contact friction likely fine main issue increase guide position control mode large force try reducing force parameter command addition gain tuned time care setup proper simulation robot modeling servo would start modeling single try similar,issue,positive,positive,positive,positive,positive,positive
477666399,One can now define `EGL_VISIBLE_DEVICES` as environment variable to select rendering device.,one define environment variable select rendering device,issue,negative,neutral,neutral,neutral,neutral,neutral
477191554,"On a related note the option strings(e.g.  `cid = p.connect(p.DIRECT, options=optionstring))` are no longer being parsed by EGL.

",related note option longer,issue,negative,neutral,neutral,neutral,neutral,neutral
477038036,"Also worked for me, but I had to add the ""-std=c++11"" option when compiling under Linux (https://github.com/makarl/bullet3/commit/4c05f3844da03d6d871a437d373e89a8c651f129)",also worked add option,issue,negative,neutral,neutral,neutral,neutral,neutral
476920163,"You can't add 'm_simulationTimestamp(0);' in the initializer list. It has to be You can't add 'm_simulationTimestamp(0),",ca add list ca add,issue,negative,neutral,neutral,neutral,neutral,neutral
476754116,I try to keep the commits with actual changes fully separate from commits that contain white-space changes (manual or clang-format). I'll look into it later.,try keep actual fully separate contain manual look later,issue,negative,neutral,neutral,neutral,neutral,neutral
476750153,"Hi Erwin, I used the clang format tool in bullet to format my changes. Is that ok?",hi used clang format tool bullet format,issue,negative,neutral,neutral,neutral,neutral,neutral
476467971,"There is no such feature at the moment, but it would be easy to implement. Best to try dealing with the warning so it doesn't show up for now.",feature moment would easy implement best try dealing warning show,issue,positive,positive,positive,positive,positive,positive
476467882,"You can use Blender to import the DAE and export to OBJ, or use meshlab.
Good luck, we cannot provide support with all kinds of URDF file issues.

It is also best that the mesh file/directory is located relative to the URDF file.

Here are a few other URDF files that work well with PyBullet, for inspiration:
https://github.com/erwincoumans/pybullet_robots",use blender import dae export use good luck provide support file also best mesh relative file work well inspiration,issue,positive,positive,positive,positive,positive,positive
476467770,"@erwincoumans 

I'm sorry, this package [ur_description](https://github.com/ros-industrial/universal_robot/tree/kinetic-devel/ur_description/urdf).

Is there any practice to convert to Wavefront OBJ?",sorry package practice convert,issue,negative,negative,negative,negative,negative,negative
476467395,"There is a command to configure the visualizer to change the UP axis.
p.configureDebugVisualizer(p.COV_ENABLE_Y_AXIS_UP ,1/0). Have you tried this?
Try removing the line
~~~~~~~~~~~~
p.setVRCameraState([0.5,0,0],p.getQuaternionFromEuler([0,0,-90]))
~~~~~~~~~~~~",command configure visualizer change axis tried try removing line,issue,negative,neutral,neutral,neutral,neutral,neutral
476467198,"There is no URDF in https://github.com/ros-industrial/universal_robot
What sub folder?
COLLADA/DAE is a complicated format that isn't well supported. It is best to convert it to Wavefront OBJ.",sub folder complicated format well best convert,issue,positive,positive,positive,positive,positive,positive
476454904,Thanks for the pull request. It is best to remove the white space changes in the PR.,thanks pull request best remove white space,issue,positive,positive,positive,positive,positive,positive
476429775,"I have the following error:

error: [WinError 3] The system cannot find the path specified: 'C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\PlatformSDK\\lib'

Could anyone help?
",following error error system find path visual studio could anyone help,issue,negative,neutral,neutral,neutral,neutral,neutral
475926314,"> Does this mean our environments are broken with older Gym versions?

Not broken because `openai/gym` warns only for backward compatibles.
https://github.com/openai/gym/blob/master/gym/envs/registration.py#L54-L57

It is bothersome that warning is given and some `register` use `max_episode_steps` in pybullet_env.
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/__init__.py#L11-L16

So we should use `max_episode_steps` to suppress warnings.
",mean broken older gym broken backward bothersome warning given register use use suppress,issue,negative,negative,negative,negative,negative,negative
475897384,"Thanks for the PR. Does this mean our environments are broken with older Gym versions?
I suppose 0.7.4 is very old already, so we could indeed fix this.",thanks mean broken older gym suppose old already could indeed fix,issue,negative,negative,neutral,neutral,negative,negative
475826775,"After stepSimulation, you can query for all contact points and the impulse is store in the contact points.
See an example snippet here:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L6730",query contact impulse store contact see example snippet,issue,negative,neutral,neutral,neutral,neutral,neutral
475609074,"This will be out-of-sync immediately. Try using this, assuming you used pip/pip3:

~~~~~~~~~~
>>> import pkg_resources
>>> pkg_resources.get_distribution(""pybullet"").version
~~~~~~~~~~
",immediately try assuming used import,issue,negative,neutral,neutral,neutral,neutral,neutral
475454064,"Still, for consistency, it would be good to update the world transform of the motion state even for static objects in case it is queried for rendering instead of the world transform of the rigid body which is the only one updated as of now for static objects. Please, consider.",still consistency would good update world transform motion state even static case rendering instead world transform rigid body one static please consider,issue,positive,positive,positive,positive,positive,positive
475450976,"I finally tried it out, and it works well with Python 3.
The debug draw --draw_gt could be made much faster likely, by re-using the same debug lines (it is an option), but it is not important.
Thanks!",finally tried work well python draw could made much faster likely option important thanks,issue,positive,positive,positive,positive,positive,positive
475441687,Thanks for fixing the issue so quickly!,thanks fixing issue quickly,issue,negative,positive,positive,positive,positive,positive
475052177,"It is fixed now, after it passes continuous integration tests, it will propagate to pypi soon.
https://github.com/erwincoumans/bullet3/commit/f725d1201d375bce529448abd9dec1f00005026e",fixed continuous integration propagate soon,issue,negative,positive,neutral,neutral,positive,positive
475026009,"Indeed, the sync transforms doesn't apply to static objects, best to only use them for dynamic objects.",indeed sync apply static best use dynamic,issue,positive,positive,positive,positive,positive,positive
474841973,"Use setRealTimeSimulation(0) instead. If Use setRealTimeSimulation(1) is required, you need to write a PyBullet C++ plugin, which is more work. See the Bullet/examples/SharedMemory/plugins for details.",use instead use need write work see,issue,negative,neutral,neutral,neutral,neutral,neutral
474841610,"Check out btGjkEpa2.cpp, btGjkPairDetector.cpp and btVoronoiSimplexSolver.cpp\
If you have a patch, please consider opening a pull request.",check patch please consider opening pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
474643011,"Sure, we can add a removeState. If it is urgent for you and you are familiar with C++, you could try adding it yourself. It will touch a few files, pybullet.c for python binding, PhysicsServerCommandProcessor.cpp for the remove and the BulletClientC_Api.h/cpp.",sure add urgent familiar could try touch python binding remove,issue,negative,positive,positive,positive,positive,positive
474641760,"Thanks for the repro case, I'll look into it soon (give it a week or so) and if reproducable fix it.",thanks case look soon give week fix,issue,negative,positive,positive,positive,positive,positive
473725387,"Great, that makes sense. Thanks for the contribution!",great sense thanks contribution,issue,positive,positive,positive,positive,positive,positive
473702777,"Updated the formatting and pulled files direct from bullet not Google. 

The null check causes a hard crash if you reset a simulation and ask for a link without loading any objects. This is one of the tests in our system. Not super important if you prefer we don't have it, just figured it was a better failure semantic then a seg fault. ",direct bullet null check hard crash reset simulation ask link without loading one system super important prefer figured better failure semantic seg fault,issue,negative,positive,positive,positive,positive,positive
473335205,"The patch includes internal path changes from Google 
~~~~~~~~~~
#include ""third_party/stblib/stb_image.h""
~~~~~~~~~~
Please remove your whitespace changes, we use tabs not spaces. 

In addition, there is some nullptr check
~~~~~~~~~~~
status->m_sendActualStateArgs.m_stateDetails != nullptr
~~~~~~~~~~~
Was that causing a crash? If so, how to reproduce this.
We don't use C++11 in Bullet, can you replace nullptr by NULL or 0?
Thanks!
",patch internal path include please remove use addition check causing crash reproduce use bullet replace null thanks,issue,negative,positive,neutral,neutral,positive,positive
473004235,"I recompiled using double precision and yes it works fine, which is good! There was a 20% performance hit however (on Ryzen Threadripper), not from doubles I think but from not using any SSE code. I got a similar performance hit with single precision and no SSE.

Theoretically I think that GJK with any meter sized objects should work reliable without the use of double precision, but then again I have never worked with GJK before.

> One solution would be to compile the critical parts of GJK always in double precision mode (not using btScalar but using double, inside GJK).

I can try that. Where in the code base is this critical part?",double precision yes work fine good performance hit however think code got similar performance hit single precision theoretically think meter sized work reliable without use double precision never worked one solution would compile critical always double precision mode double inside try code base critical part,issue,negative,positive,neutral,neutral,positive,positive
472951866,"Great, thanks for tracking this down. Here is a pull request with a reference to you/this issue:
https://github.com/bulletphysics/bullet3/pull/2159",great thanks pull request reference issue,issue,positive,positive,positive,positive,positive,positive
472613928,"Yes, getLinkState only works for child links that are connected by a joint to the parent.

For the base, you need to call getBasePositionAndOrientation, which provides the position and orientation of the center of mass. You can use getDynamicsInfo(bodyUniqueId,-1) to get more information about the base, such as the localInertialFrame. Then use pybullet.multiplyTransforms to get the link transform of the base.
",yes work child link connected joint parent base need call position orientation center mass use get information base use get link transform base,issue,negative,negative,negative,negative,negative,negative
472261800,"This is the problem of glob module. Apparently, glob function ignores a caret in the regular expression.
That's why glob.glob returns the same results if the test is true or not.
I don't know how to confirm glob version, but this code can check the results that we mention. 
I'm sorry if this code works well.
```
import glob
import pybullet_data

path = pybullet_data.getDataPath()
urdf_pattern = path + ""/random_urdfs/*[0]/*.urdf""
urdf_pattern_caret = path + ""/random_urdfs/*[^0]/*.urdf""
urdf_pattern_1to9 = path + ""/random_urdfs/*[1-9]/*.urdf""
print(urdf_pattern)
print(urdf_pattern_caret)
print(glob.glob(urdf_pattern)==glob.glob(urdf_pattern_caret)) # True
print(glob.glob(urdf_pattern)==glob.glob(urdf_pattern_1to9)) # False
```
",problem module apparently function caret regular expression test true know confirm version code check mention sorry code work well import import path path path path print print print true print false,issue,positive,negative,neutral,neutral,negative,negative
472070131,"That is interesting research.
We have pybullet_envs.deep_mimic, that currently only works with the humanoid. If you installed a recent version of pybullet (pip install pybullet) you can try it like this:
~~~~~~~~~~~~~
python -m pybullet_envs.deep_mimic.testrl --arg_file run_humanoid3d_backflip_args.txt
~~~~~~~~~~~~~
https://www.youtube.com/watch?v=aiWxIjtMMFI

I plan on enabling to train our quadrupeds, such as Laikago using deep_mimic as well.",interesting research currently work humanoid recent version pip install try like python plan train well,issue,positive,positive,positive,positive,positive,positive
472064013,"Thanks for the report, did this behavior change in Python 3.6.8?
Yes, we can make this change. Also, I'd like to load those files directly from a single zip file, but that requires a few more lines of change (those thousands of random urdfs in the make install/setup slow). PyBullet can load files directly from a zip archive.",thanks report behavior change python yes make change also like load directly single zip file change random make slow load directly zip archive,issue,positive,negative,negative,negative,negative,negative
472054536,"I had a quick look. The issue is due to floating point cancellation inside GJK. If you compile the code using double precision, it works fine. You can use premake to build it:

cd build3
./premake4(_linux/osx) --double vs2010/gmake or use cmake to enable double precision. Force your data to be float type, otherwise it won't work with your floating point data:
~~~~~~~~~~
btIndexedMesh part;
part.m_vertexType=PHY_FLOAT;
~~~~~~~~~~

One solution would be to compile the critical parts of GJK always in double precision mode (not using btScalar but using double, inside GJK).
",quick look issue due floating point cancellation inside compile code double precision work fine use premake build build double use enable double precision force data float type otherwise wo work floating point data part one solution would compile critical always double precision mode double inside,issue,negative,positive,neutral,neutral,positive,positive
471975371,"Hi Erwin,
   I'm currently working on a dissertation about recreating quadruped animal gaits, Laikago is a great example of a quadruped robot to work on, as soon as i finish i'm planning to make the code completely open source, as it contains things such as a coupled central pattern generator, which i haven't seen available as open source!

I discovered the issue while attempting to find mass values for the robot in order to perform a cost of locomotion calculation.

Thank you, i'll make sure to stay up to date and implement the actual mass values as soon as the system identification is implemented!

Thanks,
  Damian",hi currently working dissertation quadruped animal great example quadruped robot work soon finish make code completely open source coupled central pattern generator seen available open source discovered issue find mass robot order perform cost locomotion calculation thank make sure stay date implement actual mass soon system identification thanks,issue,positive,positive,positive,positive,positive,positive
471856780,"PyBullet uses a small [collision margin of 0.001](https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp#L36) (1mm) in all directions, your meshes need to take it into account. Try shrinking the peg a by 2mm on each side.

If that doesn't help, provide a small PyBullet reproduction case and re-open this issue.",small collision margin need take account try shrinking peg side help provide small reproduction case issue,issue,negative,negative,negative,negative,negative,negative
471643158,"Sorry, I forgot add the mesh file in the zip so the demo will not work. I'll fix that tomorrow.",sorry forgot add mesh file zip work fix tomorrow,issue,negative,negative,negative,negative,negative,negative
471402101,"We own an actual Laikago robot and haven't performed proper system identification yet. I created this URDF file from the CAD file, in collaboration with Unitree. We plan to perform system identification soon. See also https://www.youtube.com/watch?v=IzEiho6BTs0",actual robot proper system identification yet file cad file collaboration plan perform system identification soon see also,issue,negative,neutral,neutral,neutral,neutral,neutral
471394484,Use cmake or premake instead. For PyBullet use pip install pybullet.,use premake instead use pip install,issue,negative,neutral,neutral,neutral,neutral,neutral
471203956,"Should be fixed in PyBullet 2.4.8. Use
pybullet.changeDynamics(objectUniqueId, maxJointVelocity=1000) to increase the clamped limit to -1000,1000 range.",fixed use increase limit range,issue,negative,positive,neutral,neutral,positive,positive
471203162,"Hi Avik!

There are a few issues:

1) You are using PD gains, but those are not suitable for POSITION_CONTROL mode, but you can use PD gains for the PD_CONTROL control method. For POSITION_CONTROL use Kp=1 and Kd=0.1, gains need to be in range [0..1].

2) In addition, your velocity exceed 100 rad/sec, and this hits a safety clamp. I just exposed a method to increase this maxJointVelocity setting.
~~~~~~~~~~~~~~~~
p.changeDynamics(bid,	-1,	maxJointVelocity=1000)
~~~~~~~~~~~~~~~~

~~~~~~~~~~~~~~~~~~~
	usePD	=	False
	if usePD:
		p.setJointMotorControlArray(bid, [1],	p.PD_CONTROL,	targetPositions=[qdes],	targetVelocities=[dqdes],	positionGains=[100000],	velocityGains=[100], forces=[1000000000])
	else:
		p.setJointMotorControlArray(bid, [1],	p.POSITION_CONTROL,	targetPositions=[qdes],	targetVelocities=[dqdes],	positionGains=[1], velocityGains=[0.1],	forces=[1000000000])
~~~~~~~~~~~~~~~~~~~

![image](https://user-images.githubusercontent.com/725468/54074411-01b10380-4247-11e9-97a6-92b2c4bc53ff.png)

Just in case, even though this doesn't affect your test noticeably, but you can disable default damping like this:
~~~~~~~~~~~~~~~~~~~~~
p.changeDynamics(bid,-1,linearDamping=0, angularDamping=0)
~~~~~~~~~~~~~~~~~~~~~

See attached avik.zip for a fix. You will need [PyBullet 2.4.8](https://pypi.org/project/pybullet/) or newer for the changeDynamics(maxJointVelocity).
https://github.com/bulletphysics/bullet3/pull/2153

[avik.zip](https://github.com/bulletphysics/bullet3/files/2948645/avik.zip)
",hi gain suitable mode use gain control method use gain need range addition velocity exceed safety clamp exposed method increase setting bid false bid else bid image case even though affect test noticeably disable default damping like bid see attached fix need,issue,positive,positive,neutral,neutral,positive,positive
471181440,"Your simulation is likely CPU bound, or you have a set time step that is too slow for your simulation.  What you are seeing is called aliasing. https://en.wikipedia.org/wiki/Aliasing",simulation likely bound set time step slow simulation seeing,issue,negative,negative,negative,negative,negative,negative
470972086,"For revolute joints, joint position is the angle in radians, joint velocity is angular velocity in radians per second. For prismatic joints, it is the joint position in meters, and joint velocity in meters per second.",revolute joint position angle joint velocity angular velocity per second prismatic joint position joint velocity per second,issue,negative,neutral,neutral,neutral,neutral,neutral
470419911,"Thanks for your contribution, but unfortunately I don't have the cycles to test the SSE code at the moment. 
(this code is not covered by unit tests)",thanks contribution unfortunately test code moment code covered unit,issue,negative,negative,negative,negative,negative,negative
470418613,"This patch seems to be already applied, thanks for your contribution.",patch already applied thanks contribution,issue,negative,positive,positive,positive,positive,positive
470418076,"Closing very old PR's. It doesn't seem to be a significant performance improvement, so let's drop it. Thanks for your PR/effort anyway.",old seem significant performance improvement let drop thanks anyway,issue,positive,positive,positive,positive,positive,positive
470388095,"Looks good. Just replace b3JointInfo jointInfo;
with	
~~~~~~~~~~~~
b3RobotJointInfo jointInfo;
~~~~~~~~~~~~
and it should work: b3JointInfo is a c structure (unintialized fields) and b3RobotJointInfo  has a constructor.",good replace work structure constructor,issue,negative,positive,positive,positive,positive,positive
470105493,I'm also not able to find the wiki anymore. Would be great if it could be rehosted or given as a download? There was some really useful information on there.,also able find would great could given really useful information,issue,positive,positive,positive,positive,positive,positive
469345508,"I tried reproducing this with the inverse_kinematics.py example, setting the timestep to 0.001, but it track just fine. Can you look at the attached example, and share your version that shows the issue?

[inverse_kinematics.zip](https://github.com/bulletphysics/bullet3/files/2927544/inverse_kinematics.zip)

You are not using 'setRealTimeSimulation(1), do you?",tried example setting track fine look attached example share version issue,issue,negative,positive,positive,positive,positive,positive
469328791,"When I use function ""calculateInverseKinematics"" to keep end effector follow circle trajectory in while loop with time.sleep(0.001), it seem inaccurate than I use bigger time.sleep(0.1). Is that for my computer configuration, is not strong enough to execute this function in high speed?",use function keep end effector follow circle trajectory loop seem inaccurate use bigger computer configuration strong enough execute function high speed,issue,positive,positive,positive,positive,positive,positive
469327724,Please provide a small reproduction case.,please provide small reproduction case,issue,negative,negative,negative,negative,negative,negative
469286557,"@erwincoumans Yes, of course, just select any opensource license.
And thank you for implementing for cone friction of rolling friction.",yes course select license thank cone friction rolling friction,issue,positive,neutral,neutral,neutral,neutral,neutral
469089415,"@FieldMrFive can I add the pool table to PyBullet for some tests/examples? If yes, under a permissive license, such as zlib/mit/bsd etc?

There are a couple of ways to make the pool physics more realistic. For example adding multiple contact points, around the center contact, instead of just 1 contact points. This would automatically produce some pool ball physics effects, such as a ball bending if it is rotating around its contact normal/up vector.",add pool table yes permissive license couple way make pool physic realistic example multiple contact around center contact instead contact would automatically produce pool ball physic effect ball bending rotating around contact vector,issue,negative,positive,neutral,neutral,positive,positive
469087156,"OK, I got around implementing implicit cone friction for rolling friction:

![image](https://user-images.githubusercontent.com/725468/53705236-bbd3e580-3dd7-11e9-83ac-bdd35d659caf.png)

By the way, you may also want to add some spinning friction for the ball, so if you set some angular velocity, it will be reduced as well.
~~~~~~~~~
 <contact>
      <rolling_friction  value=""0.00001""/>
      <spinning_friction value=""0.0001""/>
    </contact>
 p.resetBaseVelocity(ball, [0,0,0], [0, 0, 1])
 v = p.getBaseVelocity(ball)[1]
        print(""vel "", v)
~~~~~~~~~

Also, since for a perfect sphere pool ball, we only have a single contact point, so some important effects are not modeled: a ball that is spinning around the up axis, while moving in a certain direction should bend. You could add some explicit forces to model this.",got around implicit cone friction rolling friction image way may also want add spinning friction ball set angular velocity reduced well contact ball ball print also since perfect sphere pool ball single contact point important effect ball spinning around axis moving certain direction bend could add explicit model,issue,positive,positive,positive,positive,positive,positive
469059693,"Thanks, the regression is fixed now. Still, better to use the OpenGL hardware accelerated camera if possible (or EGL plugin)",thanks regression fixed still better use hardware accelerated camera possible,issue,positive,positive,positive,positive,positive,positive
468969531,"In POSITION_CONTROL and VELOCITY_CONTROL and PD_CONTROL, the effect is permament.
Only in TORQUE_CONTROL, the torque is applied a single step. We probably should have removed the TORQUE_CONTROL from setJointMotorControl2  and let the user manually apply a joint torque using applyJointTorque. That would break the API and that's no good.",effect torque applied single step probably removed let user manually apply joint torque would break good,issue,negative,positive,positive,positive,positive,positive
468964211,"Thanks for the reply!
I have one more quick question.
If I comment out that line, there seems to be a lot of friction and the motor barely moves.
My understanding when I read the PyBullet Quick Start Guide was the command ```setJointMotorControl2``` has an effects on the single step calculation.
How does it work behind the scene?",thanks reply one quick question comment line lot friction motor barely understanding read quick start guide command effect single step calculation work behind scene,issue,negative,positive,neutral,neutral,positive,positive
468943185,"Hi! Interestingly, being mentioned did not reach me as a notification.Well, here I am. The problem with this demo is the following: It can not optimize since the robots are not properly restored. Their physical settings are not properly restored and thus their performance varies. I think it should only serve as a bullet example that does some simulation. If you can improve it to restore the physics correctly, that is fine, but this might be hard to do if you are new to bullet. It would be best to reimplement it in pybullet, because it features deterministic restoring of robots.",hi interestingly reach problem following optimize since properly physical properly thus performance think serve bullet example simulation improve restore physic correctly fine might hard new bullet would best deterministic,issue,positive,positive,positive,positive,positive,positive
468707336,">> Maybe these small details really count.

Yes, small details matter a lot. Unfortunately, such small details are not mentioned in papers.",maybe small really count yes small matter lot unfortunately small,issue,negative,negative,negative,negative,negative,negative
468624564,"Thanks. That is really helpful. By taking a look at the environment proposed by Google research, I find there is not much difference between that environment and the original one, only some difference in the parameters such as the allowed range of actual end effector positions. Also, it calls stepSimulation() 200 times after applying action instead of doing stepSimulation() only once. As for the reward, it uses binary reward only, which seems to be weaker. Maybe these small details really count.",thanks really helpful taking look environment research find much difference environment original one difference range actual end effector also time action instead reward binary reward maybe small really count,issue,positive,positive,positive,positive,positive,positive
468566190,"@kstorey-nvidia that sounds great, looking forward to giving it a try!",great looking forward giving try,issue,positive,positive,positive,positive,positive,positive
468383994,Thanks a lot for the report. The PR with a fix has been applied.,thanks lot report fix applied,issue,negative,positive,positive,positive,positive,positive
468375713,"Good find, that is indeed a bug. The code would be less fragile by passing in the relevant structure for each command (clientCmd.m_requestRaycastIntersections in this case), instead of the full clientCmd. At some stage, I'll look into fixing that.
Thanks a lot!",good find indeed bug code would le fragile passing relevant structure command case instead full stage look fixing thanks lot,issue,positive,positive,positive,positive,positive,positive
468290170,"Thanks Kier, can you briefly explain you improvement that solves it in 2 iteration? Do you solve multiple constraints directly in a block? (instead of iteratively)?",thanks kier briefly explain improvement iteration solve multiple directly block instead iteratively,issue,positive,positive,neutral,neutral,positive,positive
468254158,"We should have an improvement for this coming in PhysX soon.  See link below demonstrating handling this case with 1 solver iteration:

https://github.com/NVIDIAGameWorks/PhysX/issues/70

The currently-available code can also handle this by limiting the drive force, otherwise we just get into an infinite game of one-upmanship between 2 antagonising constraints. This is actually a fairly reasonable solution given that real motors cannot apply infinite torques.",improvement coming soon see link handling case solver iteration code also handle limiting drive force otherwise get infinite game actually fairly reasonable solution given real apply infinite torque,issue,positive,neutral,neutral,neutral,neutral,neutral
468191794,"@erwincoumans thanks for the solver pointer - I tried setting up my testcase from the PhysX issue you linked in Bullet using the Dantzig solver, and it seems to work a lot better than what I was able to set up in PhysX so far.",thanks solver pointer tried setting issue linked bullet solver work lot better able set far,issue,positive,positive,positive,positive,positive,positive
468028440,"I should give V-HACD a try, thanks for the tip.

That said, I'm positively surprised by the stability and performance of GIMPACT, especially in the `btGImpactMeshShape` vs `btGImpactMeshShape` case, which is _much_ faster than `btGImpactMeshShape` vs `btBvhTriangleMeshShape`.",give try thanks tip said positively stability performance especially case faster,issue,positive,positive,positive,positive,positive,positive
468007265,"If we apply a style to Python files, it will be Google style. I think it doesn't use 4 spaces, does it?",apply style python style think use,issue,negative,neutral,neutral,neutral,neutral,neutral
468006781,"Haven't seen btGimpactShape for a while, we always use convex decompositions (V-HACD) btConvexHull+btCompoundShape instead.
Probably good to recover an old demo and move it into the example browser.
Thanks!",seen always use convex instead probably good recover old move example browser thanks,issue,positive,positive,positive,positive,positive,positive
467566876,"It is indeed a solver issue, see attached. I'll look into it.
Selecting a direct LCP solver fixes it, in the PyBullet example (see attached bug.zip)
It looks like PhysX has a [similar issue](https://github.com/NVIDIAGameWorks/PhysX/issues/70).
[bug.zip](https://github.com/bulletphysics/bullet3/files/2907050/bug.zip)

Indeed, the residual error causes the issue for the iterative solver. Increasing the number of solver iterations to 10000 'solves' it as well.",indeed solver issue see attached look direct solver example see attached like similar issue indeed residual error issue iterative solver increasing number solver well,issue,negative,positive,neutral,neutral,positive,positive
467555299,"Indeed best to go for a workaround, we lack resources to help all PyBullet users.",indeed best go lack help,issue,positive,positive,positive,positive,positive,positive
467530049,"If you want to stay closer to the Bullet C++ internals, you may want to use @AndresTraks C API.
The BulletRobotics C API is abstracted to allow larger changes under the hood.

Note that you can still create btRigidBody with the BulletRobotics API. Just set 
~~~~~~~~
m_useMaximalCoordinates=true.
~~~~~~~~

>> Is there an ongoing work put into making this C API more complete?
>> lack many functionalities

We haven't received requests for important lacking functionalities for our PyBullet users. What exactly?",want stay closer bullet internals may want use abstracted allow hood note still create set ongoing work put making complete lack many received important exactly,issue,negative,positive,positive,positive,positive,positive
467527539,We don't change behavior for existing users for this feature. A little API to expose the setting would be acceptable.,change behavior feature little expose setting would acceptable,issue,negative,negative,negative,negative,negative,negative
467526333,"I did some quick tests on my Linux, Mac OSX and Windows machines.
On Windows, the parallel compile doesn't seem to be used at all. On Linux and Mac desktop, N doesn't seem affected indeed (still 144, with the 72 threads machine). Let's merge it. Thanks for your contribution.",quick mac parallel compile seem used mac seem affected indeed still machine let merge thanks contribution,issue,negative,positive,positive,positive,positive,positive
467512724,"I would recommend looking into this implementation:
https://github.com/google-research/google-research/tree/master/dql_grasping
It is derived from this Kuka grasping prototype.
(https://twitter.com/ericjang11/status/1083805919698276352)
",would recommend looking implementation derived grasping prototype,issue,negative,neutral,neutral,neutral,neutral,neutral
467480312,train_kuka_cam_grasping.py seems to fail to converge as well. Will there be update anytime soon?,fail converge well update soon,issue,negative,negative,negative,negative,negative,negative
467453878,"Here's a C wrapper that is pretty much complete: https://github.com/AndresTraks/BulletSharpPInvoke/tree/master/libbulletc
However, it is mostly designed as an intermediate layer between C++ and other languages like C#, so I'm not sure how easy it is to use directly in C.

I've briefly discussed merging the two C APIs with Erwin, but haven't had time to follow up.",wrapper pretty much complete however mostly designed intermediate layer like sure easy use directly briefly two time follow,issue,positive,positive,positive,positive,positive,positive
467282466,"You can also use createConstraint with a fixed constraint using limited force to mimic soft constraints.
See the constraint.zip example here: https://github.com/bulletphysics/bullet3/issues/2100#issuecomment-461621661",also use fixed constraint limited force mimic soft see example,issue,negative,positive,neutral,neutral,positive,positive
467279789,"Now I realize you can simulate flexible joints using PyBullet.createUserConstraint.

You can create a 'fixed' constraint with a limited force, to mimic a flexible joint.
Here is some example how to do it:
https://github.com/bulletphysics/bullet3/issues/2100#issuecomment-461621661
If the maximum torque is not enough to model the spring, we can expose the stiffness and damping (which gets converted into CFM and ERP internally) to model a the spring force.

In addition to the fixed constraint, you can also model 'gears', which couple joint angles between joints. As you set a small maximal torque, those connections become flexible.

Please let me know if that helps or not.",realize simulate flexible create constraint limited force mimic flexible joint example maximum torque enough model spring expose stiffness damping converted internally model spring force addition fixed constraint also model couple joint set small maximal torque become flexible please let know,issue,positive,negative,neutral,neutral,negative,negative
467272329,I like [this setting](https://github.com/kngwyu/bullet3/blob/5a1a910d92611d7f0fc4bc5af7e1ae24c629ea43/.style.yapf) but have no strong opinion.,like setting strong opinion,issue,positive,positive,positive,positive,positive,positive
466884016,"Thanks for the suggestions!

It looks like creating a matplotlib window using `plt.figure()` before connecting to GUI makes the error go away.

```
import matplotlib.pyplot as plt
import pybullet as p

plt.figure()
p.connect(p.GUI)
plt.imshow(100*[100*[0]])
plt.show()
```

With this change, [getCameraImageTest.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/getCameraImageTest.py) also works.

I can also confirm that the SHARED_MEMORY approach works too.",thanks like window error go away import import change also work also confirm approach work,issue,negative,positive,positive,positive,positive,positive
466876848,"Yes, we need to fix this:

https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c#L4321
and
Adding some additional m_jointMotorTorque2 fields (to stay backward compatible, not breaking the existing C API) and filling them in PhysicsServerCommandProcessor.cpp
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp
",yes need fix additional stay backward compatible breaking filling,issue,negative,neutral,neutral,neutral,neutral,neutral
466876228,"This is all written in the example directory.
One way is using BulletRobotics API, which is C++.
If you use premake or cmake to generate your projects, there are some examples under Bullet/examples/RobotSimulator, see App_RobotSimulator. The C++ API uses the same underlying code as PyBullet, based on the C API. Some helper projects are in Extras/BulletRobotics as well.


",written example directory one way use premake generate see underlying code based helper well,issue,positive,neutral,neutral,neutral,neutral,neutral
466873708,"Unfortunately this is likely a Matplotlib / Tk / Mojave issue, not something we can solve on the Bullet side. We just use simple OpenGL initialization. Please report it in the Matplotlib support (if there is such a thing). Probably best to close it here.

Have you tried importing pybullet before matplotlib?

Use matplotlib before connecting to GUI?

See also https://stackoverflow.com/questions/53396796/python-crash-when-trying-to-use-tk-tk-after-creating-opengl-window-on-macos-mo

Instead of using GUI connection, you can also use SHARED_MEMORY connection, and first create a GUI server in a separate process. There is an example [runServer.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/examples/runServer.py) (you can try it using python3 -m pybullet_envs.examples.runServer)",unfortunately likely issue something solve bullet side use simple please report support thing probably best close tried use see also instead connection also use connection first create server separate process example try python,issue,positive,positive,positive,positive,positive,positive
466871167,"Yes, I already have TkAgg in my `~/.matplotlib/matplotlibrc`. I just tried again with a new miniconda environment, installing python 3.7.2, matplotlib 3.0.2, pybullet 2.4.5, and running the below script.

```
import matplotlib
matplotlib.use(""TkAgg"")
import matplotlib.pyplot as plt
import pybullet as p

p.connect(p.GUI)
plt.imshow(100*[100*[0]])
plt.show()
```

Unfortunately, I still get the NSInvalidArgumentException.",yes already tried new environment python running script import import import unfortunately still get,issue,negative,negative,negative,negative,negative,negative
466868580,"I just tried [getCameraImageTest.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/getCameraImageTest.py) on Mojave with Python 3.7.1 (in /usr/local/bin/python3) and it works fine.
![image](https://user-images.githubusercontent.com/725468/53314359-cd1a7080-3872-11e9-891a-bc8176846102.png)

DId you enable the TkAgg?

import matplotlib
matplotlib.use(""TkAgg"")

or create a file called ~/.matplotlib/matplotlibrc
and add the text
~~~~~~
backend: TkAgg
~~~~~~

(I didn't need to do this)",tried python work fine image enable import create file add text need,issue,negative,positive,positive,positive,positive,positive
466470935,"So can I use the yapf tool instead of applying this PR? If so, what settings do I use?",use tool instead use,issue,negative,neutral,neutral,neutral,neutral,neutral
466207058,"> Can you only perform the check for Linux platforms by adding:
>
> if _platform == ""linux"" or _platform == ""linux2"":

I could add that test, but frankly that's what the `try..except` block is for. Ideally, I'd apply the algorithm to all platforms (because a Windows/Mac/BSD box with a single gig of RAM is equally as limited) but I don't know a simple cross-platform mechanism of determining physical memory without introducing additional dependencies (which would be overkill for something which only applies to `setup.py`).

Hence, I figure it's better to *attempt* the limit on all platforms, catching the exceptions that occur if `os.sysconf` is unavailable (`AttributeError`, which will be the case on non-Unix platforms), or if the required system configuration variables are unavailable (`ValueError`, which *may* be the case on the BSD platforms or for that matter ancient Linux platforms). In other words: better to enforce the limit wherever possible (without arbitrarily limiting it to a particular platform).

Incidentally, the `max(1, ...)` call should ensure things never degrade to 0 unless `multiprocessing.cpu_count()` returns 0 (in which case the current code would use 0 anyway).",perform check could add test frankly try except block ideally apply algorithm box single gig ram equally limited know simple mechanism physical memory without additional would something hence figure better attempt limit catching occur unavailable case system configuration unavailable may case matter ancient better enforce limit wherever possible without arbitrarily limiting particular platform incidentally call ensure never degrade unless case current code would use anyway,issue,positive,positive,positive,positive,positive,positive
466168345,"You cannot load models with loops indeed. You manually have to close the loop using a constraint, such as point2point constraint or fixed constraint.",load indeed manually close loop constraint constraint fixed constraint,issue,negative,positive,neutral,neutral,positive,positive
466036655,"You should be able to run doxygen in the root of Bullet to generate API level documentation.
You can see class hierarchies visually, for example [btCollisionObject](https://pybullet.org/Bullet/BulletFull/classbtCollisionObject.html
). Indeed, there may be a way to add a[ search feature using Doxygen](http://www.doxygen.nl/manual/searching.html).

Since moving to a new server last year, the old wiki hasn't been recovered, it has some useful bits in there.

I suggest learning from the examples in the BulletExampleBrowser, checking out the [BulletUserManual](https://github.com/bulletphysics/bullet3/raw/master/docs/Bullet_User_Manual.pdf) and browser the[ API info](https://pybullet.org/Bullet/BulletFull/index.html) and check out the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3). 

",able run root bullet generate level documentation see class visually example indeed may way add search feature since moving new server last year old useful suggest learning browser check guide,issue,negative,positive,positive,positive,positive,positive
465933180,"This issue came up when searching for ""doxygen"". Didn't see it linked, and am not sure when it is from, but there is this:

- https://pybullet.org/Bullet/BulletFull/index.html

Which is better than none, but I'm missing (1) search functionality and (2) tree-view, similar to what PhysX has got.

- http://gameworksdocs.nvidia.com/PhysX/4.0/documentation/PhysXAPI/files/index.html

I'm not well versed with Doxygen, but was wondering whether it's perhaps a matter of simply rebuilding with a newer version of Doxygen?",issue came searching see linked sure better none missing search functionality similar got well versed wondering whether perhaps matter simply version,issue,positive,positive,positive,positive,positive,positive
465819320,"Can you look at this issue or give some guidance on workarounds, Erwin?",look issue give guidance,issue,negative,neutral,neutral,neutral,neutral,neutral
465787492,"Thanks for the report/PR.
I will check it on my desktop Linux versions (make sure it doesn't degrade to 0 there).
Can you only perform the check for Linux platforms by adding:
~~~~~~~
if _platform == ""linux"" or _platform == ""linux2"":
~~~~~~~",thanks check make sure degrade perform check,issue,negative,positive,positive,positive,positive,positive
465499571,"OK, when will it probably be done? This is the environment I used for my master thesis, kinda urgent, can't train anything without it.

Well currently I think of a workaround, just set rolling friction = 0, and apply manually external force based on contact normal force and angular velocity direction. For this simple case of pool - moving on a plane, it might just work.
I will try and find out.",probably done environment used master thesis urgent ca train anything without well currently think set rolling friction apply manually external force based contact normal force angular velocity direction simple case pool moving plane might work try find,issue,negative,positive,neutral,neutral,positive,positive
465446931,"As an experiment I formatted whole python files by yapf by [google style](https://github.com/kngwyu/bullet3/pull/1) and [pep8 style](https://github.com/kngwyu/bullet3/pull/2).
It looks the only diff is [google style inserts a empty line](https://github.com/kngwyu/bullet3/blob/af50a4b3a05960be7086376ffa6f7559e2faae2a/data/xacro_standalone.py#L102) before `__init__`.",experiment whole python style pep style style empty line,issue,negative,positive,neutral,neutral,positive,positive
465420264,"Formatting changes are best done automatically. At the moment, the C++ code uses tabs, and it uses this [clang_format file](https://github.com/bulletphysics/bullet3/blob/master/_clang-format) 
For Python we want to use spaces, like Google style.
Let's try to run a tool, for example this one: https://github.com/google/yapf",best done automatically moment code file python want use like style let try run tool example one,issue,positive,positive,positive,positive,positive,positive
465366001,"Hi~ @benelot could you help this issues in bullet of evolution example? I can't contact directly, the @ hope worked. thanks ^^",could help bullet evolution example ca contact directly hope worked thanks,issue,positive,positive,positive,positive,positive,positive
465324774,"```
import pybullet as p
import time
import pybullet_data

physicsClient = p.connect(p.GUI)
p.setAdditionalSearchPath(pybullet_data.getDataPath())
p.setGravity(0,0,-10)
planeId = p.loadURDF(""plane.urdf"")

kuka = p.loadSDF(""kuka_iiwa/kuka_with_gripper.sdf"")[0]
p.resetBasePositionAndOrientation(kuka, [1.0, 0, 0], p.getQuaternionFromEuler([0,0,0]))

human = p.loadMJCF(""mjcf/humanoid_fixed.xml"",flags = p.URDF_USE_SELF_COLLISION_EXCLUDE_ALL_PARENTS)[0]

for i in range (10000):
    try:
      image = p.getCameraImage(200, 200)
      p.stepSimulation()
      time.sleep(1./240.)
    except KeyboardInterrupt:
      break

p.disconnect()
```

This code is already enough to reproduce it. Using the hardware accelerated camera image does however solve the problem and the camera captures the simulation correctly. Thanks a lot!",import import time import human range try image except break code already enough reproduce hardware accelerated camera image however solve problem camera simulation correctly thanks lot,issue,negative,positive,neutral,neutral,positive,positive
465323049,">> So I assume it is something with rolling friction,

Yes, rolling friction can cause the bending indeed. We added cone friction for lateral friction. Instead of clamping individual friction directions, cone friction clamps the combined friction vector. See the [coneFriction](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/frictionCone.py) for example.

We can implement such combined friction handling for rolling friction as well, that should solve your issue (if it is rolling friction related).",assume something rolling friction yes rolling friction cause bending indeed added cone friction lateral friction instead individual friction cone friction combined friction vector see example implement combined friction handling rolling friction well solve issue rolling friction related,issue,positive,neutral,neutral,neutral,neutral,neutral
465320368,"MJCF support is rudimentary, but its code path is shared with URDF. Also, the default renderer, TinyRenderer is a bit limited and could have an issue with MJCF. You could try using hardware accelerated camera image (getCameraImage(..., renderer=pybullet.ER_BULLET_HARDWARE_OPENGL) as an experiment?

Can you provide a simple reproduction case, PyBullet file?",support rudimentary code path also default renderer bit limited could issue could try hardware accelerated camera image experiment provide simple reproduction case file,issue,negative,negative,neutral,neutral,negative,negative
465314815,"Regarding sliding of balls, one purpose of using physics engines is to simulating the sliding and rolling mixture of billiard.",regarding sliding one purpose physic sliding rolling mixture billiard,issue,negative,neutral,neutral,neutral,neutral,neutral
465310615,"@erwincoumans 
First I use a big plane, setting the contact properties as the pool table. And now I set the initial linear velocity instead of applying force.
Trajectories are still bend, but I found some interesting cases: If the velocity's direction is 0° 45° 90° 135° 180° 225° 270° 315°, the trajectories will be straight, otherwise bend.

![screen shot 2019-02-19 at 21 09 30](https://user-images.githubusercontent.com/21424875/53045269-7df8c800-348d-11e9-88b0-19e825804dee.png)
![screen shot 2019-02-19 at 21 11 07](https://user-images.githubusercontent.com/21424875/53045290-8a7d2080-348d-11e9-9af3-bc277cedea6c.png)

Then, after setting both planar and ball's rolling friction = 0, ball rolls straight. I have also tried set only spinning friction = 0 or only lateral friction = 0, bend is still there. Setting linear damping and angular damping, it's still there.
So I assume it is something with rolling friction, so I give only rolling friction in URDFs, the trajectories bend.
Also, the trajectory will bend to parallel itself to the near axis asymptotically. Initial velocity (0°, 45°), it will bend to x axis; Initial velocity (45°, 90°), it will bend to y axis; etc.

Test code: 
[pool-debug.zip](https://github.com/bulletphysics/bullet3/files/2881989/pool-debug.zip)
",first use big plane setting contact pool table set initial linear velocity instead force still bend found interesting velocity direction straight otherwise bend screen shot screen shot setting planar ball rolling friction ball straight also tried set spinning friction lateral friction bend still setting linear damping angular damping still assume something rolling friction give rolling friction bend also trajectory bend parallel near axis asymptotically initial velocity bend axis initial velocity bend axis test code,issue,positive,positive,positive,positive,positive,positive
465263336,"It would be good to create a trivial PyBullet example for this, it should be reproducable. Likely there are conflicting constraints in the constraint solver that cannot be resolved by the LCP solver, such as velocity motor and joint limit. The residual error may cause the issue.

One experiment would be using the Dantzig direct LCP solver instead of the default iterative PGS-style LCP solver.",would good create trivial example likely conflicting constraint solver resolved solver velocity motor joint limit residual error may cause issue one experiment would direct solver instead default iterative solver,issue,negative,positive,positive,positive,positive,positive
465261156,"Thanks for sharing. Can you help isolating the issue further?

It would be good to keep things a bit more simple.
1) set rolling friction to zero
2) set spinning friction to zero
3) remove cfm, erp, stiffness, damping and other contact parameters from URDF
4) set linear and angular damping to 0
5) use an infinite plane instead of the pool table
6) use some initial velocity for the ball
7) the velocity of the ball should stay constant

See balltest.py in attached example. The urdf files in tmp.zip also have rolling/spinning friction etc, removed.
[tmp.zip](https://github.com/bulletphysics/bullet3/files/2881505/tmp.zip)

From this simple example, make one modification at a time, and see what makes the trajectory bend.

By the way, the ball shouldn't slide. For sliding boxes, there is a cone friction, but this doesn't apply:
~~~~~~
 p.setPhysicsEngineParameter(enableConeFriction=1)
~~~~~~

",thanks help isolating issue would good keep bit set rolling friction zero set spinning friction zero remove stiffness damping contact set linear angular damping use infinite plane instead pool table use initial velocity ball velocity ball stay constant see attached example also friction removed simple example make one modification time see trajectory bend way ball slide sliding cone friction apply,issue,positive,positive,positive,positive,positive,positive
465246123,That example was some contribution by @benelot You could ask him?,example contribution could ask,issue,negative,neutral,neutral,neutral,neutral,neutral
465222241,"> Please provide a small simple reproduction case as a PyBullet file that shows the issue (you can attach a zip file to this issue).

Here is a demo. Run `pool_env_debug.py`.
As you can see the cue ball ends up going strictly parallel to x axis, which is problematic.

[pool.tar.gz](https://github.com/bulletphysics/bullet3/files/2881081/pool.tar.gz)",please provide small simple reproduction case file issue attach zip file issue run see cue ball going strictly parallel axis problematic,issue,negative,negative,neutral,neutral,negative,negative
465203879,Please provide a small simple reproduction case as a PyBullet file that shows the issue (you can attach a zip file to this issue).,please provide small simple reproduction case file issue attach zip file issue,issue,negative,negative,negative,negative,negative,negative
464950091,"Thanks a lot for the contribution. I have been doing more work on deep_mimic, but didn't try your contribution yet, will do so soon!",thanks lot contribution work try contribution yet soon,issue,negative,positive,positive,positive,positive,positive
464555850,"You hit an unimplemented path indeed, should be easy to implement.",hit path indeed easy implement,issue,negative,positive,positive,positive,positive,positive
464528351,"Wmr Mixed reality headset recently changed to a new USB standard for the
image stream,

On Sun, Feb 17, 2019, 3:29 PM borsuk74 <notifications@github.com wrote:

> I hit the same problem in this scenario too , from debugger observed that
> call to:
> glReadPixels(0, 0, width, height, GL_RGBA, GL_UNSIGNED_BYTE, rgbaBuffer)
> fails with error code GL_INVALID_OPERATION.
> I have OpenGL 4.6 installed on Windows 10, renderer is GeForce GTX 1070 .
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/2110#issuecomment-464526253>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25Wal4IjOwbRRw36AFclqy3Ki8TLN3ks5vOeXHgaJpZM4a9MSI>
> .
>
",mixed reality headset recently new standard image stream sun wrote hit problem scenario call width height error code renderer thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
464526253,"I hit the same problem in this scenario too , from debugger observed that  call to:
glReadPixels(0, 0, width, height, GL_RGBA, GL_UNSIGNED_BYTE, rgbaBuffer)
fails with error code  GL_INVALID_OPERATION. 
I have OpenGL 4.6 installed on Windows 10, renderer is GeForce GTX 1070 .",hit problem scenario call width height error code renderer,issue,negative,neutral,neutral,neutral,neutral,neutral
464382813,"There must be some other issue, Bullet is just plain C++ with barely any dependencies. Good luck tracking it down.",must issue bullet plain barely good luck,issue,positive,positive,positive,positive,positive,positive
464107829,"There is a PyBullet test for deterministic save and restore here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/unittests/saveRestoreStateTest.py
It can simulation, save the state, continue the simulation and compare with loading the state and continue simulating, make sure the results are identical.",test deterministic save restore simulation save state continue simulation compare loading state continue make sure identical,issue,positive,positive,positive,positive,positive,positive
463798566,"If you want OpenCL accelerated ray intersections, use Radeon Rays:
https://github.com/GPUOpen-LibrariesAndSDKs/RadeonRays_SDK",want accelerated ray use,issue,negative,neutral,neutral,neutral,neutral,neutral
463668895,"Yes, it will override the physics calculation, so those reset* functions are best used before stepping the simulation.",yes override physic calculation reset best used stepping simulation,issue,positive,positive,positive,positive,positive,positive
463617025,"Hi @erwincoumans. Does using `p.resetBaseVelocity()` have a similar impact as `p.resetBasePositionAndOrientation()` in that, if applied during a running simulation, it will override the effect of all on-going physics calculations?  ",hi similar impact applied running simulation override effect physic,issue,negative,neutral,neutral,neutral,neutral,neutral
463437950,"You can disable collision detection and still perform a 'getClosestPoints' query.

~~~~~~~~~~
import pybullet as p
import time
p.connect(p.GUI)
planeId = p.loadURDF(""plane.urdf"", useMaximalCoordinates=False)
cubeId = p.loadURDF(""cube_collisionfilter.urdf"", [0,0,3], useMaximalCoordinates=False)

#this will disable all collisions with the cubeId
collisionFilterGroup = 0
collisionFilterMask = 0
p.setCollisionFilterGroupMask(cubeId,-1,collisionFilterGroup,collisionFilterMask)

#this would enable/disable collision between a specific pair of objects
#enableCollision = 1
#p.setCollisionFilterPair(planeId, cubeId,-1,-1,enableCollision )

p.setRealTimeSimulation(1)
p.setGravity(0,0,0)
while (p.isConnected()):
	time.sleep(1./240.)
	pts = p.getClosestPoints(planeId, cubeId, distance=100)
	print(""distance="",pts[0][8])

~~~~~~~~~~",disable collision detection still perform query import import time disable would collision specific pair print,issue,negative,neutral,neutral,neutral,neutral,neutral
463436587,"At the moment, the GUI always happens at the server side. It is not clear if/when this is going to change, so let's close this issue.",moment always server side clear going change let close issue,issue,negative,positive,positive,positive,positive,positive
463289931,"You can also copy this zipfile in the Bullet/src folder, it has both premake4.lua and all PhysX source code.
[PhysX.zip](https://github.com/bulletphysics/bullet3/files/2861420/PhysX.zip)
Then use [otherPhysicsEngine.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/otherPhysicsEngine.py) script to test if your setup works. Remember: this is unsupported.",also copy folder source code use script test setup work remember unsupported,issue,negative,neutral,neutral,neutral,neutral,neutral
463032142,"Can I add a check, or a print statement to this effect?  To save the next person a couple hours?",add check print statement effect save next person couple,issue,negative,neutral,neutral,neutral,neutral,neutral
462959190,"Yes, that is the intended behavior. Problem is that Gym doesn't have a boolean render when creating the environment. Bullet needs to enable rendering at initialization, not afterwards.

It requires a lot of changes, to allow opening/closing a render window at any time, so for now, using the 'render' before first reset is needed.",yes intended behavior problem gym render environment bullet need enable rendering afterwards lot allow render window time first reset,issue,negative,positive,positive,positive,positive,positive
462949949,"It does work if I add the env.render() before the env.reset(), rather than each time I want to render.

Is this the intended behaviour?

![image](https://user-images.githubusercontent.com/39970654/52670237-e0b9f480-2ecc-11e9-8715-b1fb84f5b159.png)
",work add rather time want render intended behaviour image,issue,negative,neutral,neutral,neutral,neutral,neutral
462915487,"Thank you! I closed/opened this PR to trigger continuous integration tests, sometimes they time-out
",thank trigger continuous integration sometimes,issue,negative,neutral,neutral,neutral,neutral,neutral
462805156,"It is odd, this PR has 40 changed files, some git merge issue? Could you create a new PR with only the added/modified files under Bullet/examples/pybullet/gym/pybullet_envs/deep_mimic? ",odd git merge issue could create new,issue,negative,negative,neutral,neutral,negative,negative
462650821,"Thanks for your help, currently the bug was fixed by add collision callback and forced the contact normal on the field to 0,0,1.

Regards,",thanks help currently bug fixed add collision forced contact normal field,issue,negative,positive,neutral,neutral,positive,positive
462597619,"😊v  
-lboost_regex needed during linking    yes, gmake use the boost regex ???",linking yes use boost,issue,positive,neutral,neutral,neutral,neutral,neutral
462381058,"Yes, it's compatible, many joints are removed, the number of joints changed from 32 to 17, and after that, shoulders joint's link parents are reseted to chest joint. I've tried many motions in the dataset, should be OK.

I see many updates in the humanoid module. However the change from the original Humanoid to PD control won't change my output, so I kept a copy of the original humanoid.py in mocap/ dir, so that I won't make any change to your current HumanoidStablePD class.",yes compatible many removed number joint link chest joint tried many see many humanoid module however change original humanoid control wo change output kept copy original wo make change current class,issue,positive,positive,positive,positive,positive,positive
462375442,"Latest version should perform the backflip at least once or twice.
Can you move all your files (including readme, ik etc) into a 'mocap' subdirectory, under pybullet_envs.deep_mimic?
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_envs/deep_mimic
Does it generate motions that are compatible with the deep_mimic humanoid? How does it deal with differences in number of links?",latest version perform least twice move generate compatible humanoid deal number link,issue,negative,positive,neutral,neutral,positive,positive
462215735,Thanks! Let me see if I can help with that.,thanks let see help,issue,positive,positive,positive,positive,positive,positive
462170257,"Here is a video, still needs a bit more work (it still falls eventually and speed needs improvements, the video is 4x sped up: https://www.youtube.com/watch?v=PsE48F39Kkw&feature=youtu.be",video still need bit work still eventually speed need video sped,issue,negative,neutral,neutral,neutral,neutral,neutral
462157590,"That's great, thanks for working on this. I am still tracking down an issue that prevents the transfer from the original trained policy to the PyBullet version. Once that is working, we can re-implement the DeepMimic to train much faster, using a large time step (120 Hz). I'll get back when this is sorted.",great thanks working still issue transfer original trained policy version working train much faster large time step get back sorted,issue,positive,positive,positive,positive,positive,positive
462111402,"@erwincoumans  You can try it by running:

python3 render_reference.py --dataset_path=\<path to data_3d_h36m.npz\> \\
	  --subject=S11 \\
	  --action=Walking \\
	  --json_path=\<path to save Walking.json\> \\
	  --fps=24 \\
	  --loop=wrap \\
	  --draw_gt

**data_3d_h36m.npz** can be downloaded at [here](https://www.dropbox.com/s/z5bwig0h6mww590/data_3d_h36m.npz?dl=0)
And it should be look like this [video](https://youtu.be/goew_FmUtOE)",try running python path path save look like video,issue,positive,neutral,neutral,neutral,neutral,neutral
462110577,"I've finally removed the torch dependencies, so now we're about to use Human3.6M dataset freely, since there is many changes in the deep_mimic env, I'll make another pull request. @erwincoumans it seems there has been a huge progress on transferring the DeepMimic, could you please tell me which state we're in right now, I want to know if I can help with this.",finally removed torch use freely since many make another pull request huge progress transferring could please tell state right want know help,issue,positive,positive,positive,positive,positive,positive
462108036,"Is your ground plane a btStaticPlaneShape, a single large btBoxShape?
If it is a triangle mesh or multiple ground shapes, the ball may be hitting an internal edge.
You should be able to add a contact added callback, and verify the contact normal.
For a triangle mesh, you can adjust the contact normal for when the ball hits an internal edge, using some utility:

~~~~~~~~~~~~~~~~~~~~~
#include ""BulletCollision/CollisionDispatch/btInternalEdgeUtility.h""


bool MyContactAddedCallback(btManifoldPoint& cp, const btCollisionObjectWrapper* colObj0Wrap, int partId0, int index0, const btCollisionObjectWrapper* colObj1Wrap, int partId1, int index1)
{
	btAdjustInternalEdgeContacts(cp, colObj1Wrap, colObj0Wrap, partId1, index1);
	return true;
}

{ 
//somewhere in your initialization
gContactAddedCallback = MyContactAddedCallback;
}
~~~~~~~~~~~~~~~~~~~~~

One more thing to try is disabling SSE: 
Manually edit Bullet/src/LinearMath/btScalar.h and comment-out the line around 102 (using Windows)
~~~~~~~~~~
#define BT_USE_SSE
~~~~~~~~~~~~~
",ground plane single large triangle mesh multiple ground ball may internal edge able add contact added verify contact normal triangle mesh adjust contact normal ball internal edge utility include bool index index index return true one thing try manually edit line around define,issue,negative,positive,positive,positive,positive,positive
462106970,"I'm already change time step and use_continuous = false. Unfortunately this still hapend, I'm trying to compare the m_linearVelocity direction before & after added by m_deltaLinearVelocity. I print data on log file below, this ended on first turning if >5 degrees. Here I print log file:

[debug_wrong_dir2.txt](https://github.com/bulletphysics/bullet3/files/2848569/debug_wrong_dir2.txt)

As we seen that m_deltaLinearVelocity changed by _gResolveSingleConstraintRowLowerLimit_sse4_1_fma3_ and _gResolveSingleConstraintRowLowerLimit_sse4_1_fma3_

I couldn't see how the method works, but it seems like caused by invalid contact normal direction (it should always 0,0,1 since the ball only collide with ground). And it makes the ball direction's turning about 74 degrees

![collide_small_again](https://user-images.githubusercontent.com/47136383/52530244-bfbe9b80-2d34-11e9-9e2d-575150eaedc3.PNG)



or you can see on the last log print below:

_SOLVER BODY id - 0
delta_vel :   0.0000 |   0.0000 |   0.0000 | btSolverBody::writebackVelocityAndTransform
deg - delta_vel v.s. prev_vel :  -1.#IND | btSolverBody::writebackVelocityAndTransform
deg - cur_vel v.s. prev_vel :   0.0000 | btSolverBody::writebackVelocityAndTransform
SOLVER BODY id - 1
deg - tran_vel v.s. ang_vel :  -1.#IND | btSolverBody::getVelocityInLocalPointNoDelta
deg - delta_vel v.s. lin_vel :  -1.#IND | btSolverBody::internalApplyImpulse
delta_vel :   0.0000 |   0.0000 |   0.0000 | btSolverBody::internalApplyImpulse
linear comp :  -0.3176 |   0.2194 |  -0.3177 | btSolverBody::internalApplyImpulse
impulse mag :   0.0000 | btSolverBody::internalApplyImpulse
deg - tran_vel v.s. lat_dir :   8.6180 | btSequentialImpulseConstraintSolver::convertContact
deg - delta_vel v.s. lin_vel :  -1.#IND | btSolverBody::internalApplyImpulse
delta_vel :   0.0000 |   0.0000 |   0.0000 | btSolverBody::internalApplyImpulse
linear comp :   0.3702 |   0.0561 |  -0.3313 | btSolverBody::internalApplyImpulse
impulse mag :   0.0000 | btSolverBody::internalApplyImpulse
deg - tran_vel v.s. ang_vel :  61.5673 | btSolverBody::getVelocityInLocalPointNoDelta
deg - delta_vel v.s. lin_vel :  -1.#IND | btSolverBody::internalApplyImpulse
delta_vel :   0.0000 |   0.0000 |   0.0000 | btSolverBody::internalApplyImpulse
linear comp :   0.0000 |   0.0000 |   0.5000 | btSolverBody::internalApplyImpulse
impulse mag :   0.0000 | btSolverBody::internalApplyImpulse
deg - tran_vel v.s. lat_dir :   0.0000 | btSequentialImpulseConstraintSolver::convertContact
deg - delta_vel v.s. lin_vel :  -1.#IND | btSolverBody::internalApplyImpulse
delta_vel :   0.0000 |   0.0000 |   0.0000 | btSolverBody::internalApplyImpulse
linear comp :   0.5000 |   0.0000 |   0.0000 | btSolverBody::internalApplyImpulse
impulse mag :   0.0000 | btSolverBody::internalApplyImpulse
before FMADD delta_vel body 1:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1:  -6.4669 |   4.4676 |  -6.4693 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1:  -6.4669 |   4.4676 |  -6.4693 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1:  -6.4669 |   4.4676 |  31.6548 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1:  -6.4669 |   4.4676 |  31.6548 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -10.9895 |   3.7821 |  35.7024 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -10.9895 |   3.7821 |  35.7024 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -24.8001 |   3.7820 |  35.7024 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -24.8001 |   3.7820 |  35.7024 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -34.6176 |  10.5644 |  25.8812 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -34.6176 |  10.5644 |  25.8812 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -34.6176 |  10.5644 |  31.6533 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -34.6176 |  10.5644 |  31.6533 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -30.4620 |  11.1942 |  27.9341 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -30.4620 |  11.1942 |  27.9341 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -27.3278 |  11.1942 |  27.9341 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -27.3278 |  11.1942 |  27.9341 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.9228 |  13.6777 |  24.3378 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.9228 |  13.6777 |  24.3378 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.9228 |  13.6777 |  31.6536 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.9228 |  13.6777 |  31.6536 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.0514 |  13.9614 |  29.9788 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.0514 |  13.9614 |  29.9788 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -28.0969 |  13.9614 |  29.9788 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -28.0969 |  13.9614 |  29.9788 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -31.4355 |  16.2678 |  26.6390 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -31.4355 |  16.2678 |  26.6390 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -31.4355 |  16.2678 |  31.6537 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -31.4355 |  16.2678 |  31.6537 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.4982 |  16.5614 |  29.9199 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.4982 |  16.5614 |  29.9199 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -28.7223 |  16.5614 |  29.9199 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -28.7223 |  16.5614 |  29.9199 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -31.0599 |  18.1763 |  27.5815 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -31.0599 |  18.1763 |  27.5815 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -31.0599 |  18.1763 |  31.6538 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -31.0599 |  18.1763 |  31.6538 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.4871 |  18.4147 |  30.2462 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.4871 |  18.4147 |  30.2462 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.0635 |  18.4147 |  30.2462 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.0635 |  18.4147 |  30.2462 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.8784 |  19.6685 |  28.4306 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.8784 |  19.6685 |  28.4306 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.8784 |  19.6685 |  31.6538 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.8784 |  19.6685 |  31.6538 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.5291 |  19.8730 |  30.4462 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.5291 |  19.8730 |  30.4462 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.2712 |  19.8730 |  30.4462 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.2712 |  19.8730 |  30.4462 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.6765 |  20.8438 |  29.0404 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.6765 |  20.8438 |  29.0404 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.6765 |  20.8438 |  31.6539 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.6765 |  20.8438 |  31.6539 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.5355 |  21.0167 |  30.6327 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.5355 |  21.0167 |  30.6327 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.3891 |  21.0168 |  30.6327 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.3891 |  21.0168 |  30.6327 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.5032 |  21.7865 |  29.5182 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.5032 |  21.7865 |  29.5182 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.5032 |  21.7865 |  31.6539 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.5032 |  21.7865 |  31.6539 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.5355 |  21.9331 |  30.7879 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.5355 |  21.9331 |  30.7879 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.4543 |  21.9331 |  30.7879 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.4543 |  21.9331 |  30.7879 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.3493 |  22.5514 |  29.8926 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.3493 |  22.5514 |  29.8926 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.3493 |  22.5514 |  31.6539 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.3493 |  22.5514 |  31.6539 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.5296 |  22.6756 |  30.9203 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.5296 |  22.6756 |  30.9203 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.4878 |  22.6756 |  30.9203 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.4878 |  22.6756 |  30.9203 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.2157 |  23.1785 |  30.1921 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:  -0.6353 |   0.4389 |  -0.6355 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.2157 |  23.1785 |  30.1921 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 1: -30.2157 |  23.1785 |  31.6539 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
after delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 1:   0.0000 |   0.0000 |   1.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowLowerLimit_sse4_1_fma3
before FMADD delta_vel body 1: -30.2157 |  23.1785 |  31.6539 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.5213 |  23.2837 |  31.0325 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   0.7405 |   0.1122 |  -0.6627 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 1: -29.5213 |  23.2837 |  31.0325 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
before FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 1: -29.5027 |  23.2837 |  31.0325 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
after FMADD delta_vel body 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 1:   1.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
contact normal 2:   0.0000 |   0.0000 |   0.0000 | gResolveSingleConstraintRowGeneric_sse4_1_fma3
SOLVER BODY id - 0
**delta_vel : -29.5027 |  23.2837 |  31.0325 | btSolverBody::writebackVelocityAndTransform**
deg - delta_vel v.s. prev_vel : 141.7193 | btSolverBody::writebackVelocityAndTransform
deg - cur_vel v.s. prev_vel :  **74.5347** | btSolverBody::writebackVelocityAndTransform
DIRECTION IS CHANGE ??? btSolverBody::writebackVelocityAndTransform_
",already change time step false unfortunately still trying compare direction added print data log file ended first turning print log file seen could see method work like invalid contact normal direction always since ball collide ground ball direction turning see last log print body id deg deg solver body id deg deg linear impulse mag deg deg linear impulse mag deg deg linear impulse mag deg deg linear impulse mag body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal body body body body contact normal contact normal solver body id deg deg direction change,issue,negative,positive,positive,positive,positive,positive
461844500,"This is not implemented at the moment. We would need to provide some way get surface points on one SDF against the other. I suspect there won't be anyone working on this, so contributions are welcome.",moment would need provide way get surface one suspect wo anyone working welcome,issue,negative,positive,positive,positive,positive,positive
461843521,"This is not a Bullet feature, let's close it.",bullet feature let close,issue,negative,neutral,neutral,neutral,neutral,neutral
461843178,"manually setting the joint damping using changeDynamics is in now:
https://github.com/bulletphysics/bullet3/commit/42369aa47d41969cfcd85fd4858b3bb2ded2591a",manually setting joint damping,issue,negative,neutral,neutral,neutral,neutral,neutral
461842589,"Using a ray test or sphere cast (with smaller radius than ball) can help. Or use a smaller fixed time step, so that the ball moves less than its radius in 1 simulation step.",ray test sphere cast smaller radius ball help use smaller fixed time step ball le radius simulation step,issue,negative,positive,neutral,neutral,positive,positive
461841603,"The PyBullet API is manually crafted and only 1 API returns a Numpy array (getCameraImage).
All other APIs are plain Python structures. It is likely slower due to conversion between Numpy and Python list.",manually array plain python likely due conversion python list,issue,negative,negative,negative,negative,negative,negative
461841178,"Use a smaller fixed timestep, for example 120Hz or even 240hz. I would not use 'continuous' ccd, since it may interfere with restitution/bounce.",use smaller fixed example even would use since may interfere,issue,negative,positive,neutral,neutral,positive,positive
461840117,"Assuming this works, let's close the issue. Please re-open if not.",assuming work let close issue please,issue,negative,neutral,neutral,neutral,neutral,neutral
461839663,"Sure, there are no contributions to OpenCL support. My focus is on robotics and reinforcement learning those days, in the form of [PyBullet](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3).
Since it is unlikely anyone is going to have time and resources for OpenCL, let's close this issue for now. If a developer shows up we can re-open.",sure support focus reinforcement learning day form since unlikely anyone going time let close issue developer,issue,positive,neutral,neutral,neutral,neutral,neutral
461830600,@erwincoumans is there a reason opencl support has basically been dropped? It was a feature that I believe many developers were looking forward to.,reason support basically feature believe many looking forward,issue,negative,positive,positive,positive,positive,positive
461804821,"(2) Thanks for your suggestion to using second world (world A which has all bodies, world B to create array), currently I can create an array without stopping the game.

(1) Did you mean fixedTimeStep or timeStep ?
fixedTimeStep (m_fixedTimeStep) still using  1/60.f as suggested on this library, but The time step is using system frame dt, it's range on 0.01 ~ 0.05 s. Currently I'm using m_useContinuous = true and additional customize prediction using raycast on main thread, because using one of them still found penetrating issue with very rare frequency.

But I thought that I found new problem after use continuous. The ball sometimes going to wrong direction after collide and bouncing on the ground even thought there's no object blocked the ball. What are the possible causes of this ?

Here I attaching a file:

![collide_small_02](https://user-images.githubusercontent.com/47136383/52481118-38f8aa00-2be0-11e9-96c9-7210621d09ee.PNG)

The red line is ball trajectory which computed using world B, collision objects are ball, field, goal nets. White collision is ghost object on world A (currently I debugdraw objects on world A).

* I've tried to check colObj0 & colObj1 on btSequentialImpulseConstraintSolver::convertContact(...) and it always ball and stadium (I see from their worldtransform) it should not caused by colliding with goal net (invalid position).

Thanks for any help",thanks suggestion second world world world create array currently create array without stopping game mean still library time step system frame range currently true additional prediction main thread one still found penetrating issue rare frequency thought found new problem use continuous ball sometimes going wrong direction collide bouncing ground even thought object blocked ball possible file red line ball trajectory world collision ball field goal white collision ghost object world currently world tried check always ball stadium see goal net invalid position thanks help,issue,negative,positive,neutral,neutral,positive,positive
461702133,"It sounds a bit like this (thanks Yunfei Bai for the link)
https://www.cc.gatech.edu/graphics/projects/Sumit/homepage/projects/softcontacts/index.html
",bit like thanks link,issue,positive,positive,positive,positive,positive,positive
461688765,"Hi Erwin,

that sounds really great! I will spend some time tomorrow to see how many voxels it will be possible to simulate with a reasonable simulation speed.

Will report back.
",hi really great spend time tomorrow see many possible simulate reasonable simulation speed report back,issue,positive,positive,positive,positive,positive,positive
461621661,"How about using a fixed constraint with a very limited force? That will act like a spring, and you can read the applied forces. This works with regular reduced coordinates.
See attached example. You can add a whole bunch of spheres/boxes next to each other, and use fixed constraint (PyBullet.createConstraint) to keep them there. Then use PyBullet.changeConstraint(cid,maxForce=...) to limit the constraint force.
[constraint.zip](https://github.com/bulletphysics/bullet3/files/2842913/constraint.zip)

I think the [fixed](https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Featherstone/btMultiBodyFixedConstraint.cpp) constraint also works between reduced and maximal coordinate objects, so you can use maximal coordinate spheres for the surfaces and reduced coordinate for the gripper.",fixed constraint limited force act like spring read applied work regular reduced see attached example add whole bunch next use fixed constraint keep use limit constraint force think fixed constraint also work reduced maximal use maximal reduced gripper,issue,negative,positive,neutral,neutral,positive,positive
461606591,"Hi Erwin,

thank you very much for your throughout reply.

Using useMaximalCoordinates and exposing necessary APIs might be the way to go, and I would be happy to code that, but before we dive into the implementation details, let me take a step back and explain the higher-level issue I am trying to solve.

We aim to learn how to optimize gripper shapes and for that we will need to have a better idea which parts of the gripper are affected by the contact when an object is grasped. It's great that pybullet has getContactPoints, but it will only give surface-level contact points. We would like to have deeper insights and the approach we currently explore is to make grippers out of voxels connected with pretty stiff springs organized in a cubic crystal.

That way, after an object is grasped, the points of immediate contact will get highest displacement values, while their neighbors will get lower, and the voxels which don't participate in the contact at all will get ~zeros.

Given that we seem to be outside of the regular pybullet use cases, I wonder if the same problem could be solved by other means. Realistically, we don't care if it's displacements or some other measure of importance for a specific contact event. What we care is that this information is spreaded among higher number of voxels so that we can make better decisions on how to optimize the shape.

Let me know, if that makes sense to you. :)",hi thank much throughout reply necessary might way go would happy code dive implementation let take step back explain issue trying solve aim learn optimize gripper need better idea gripper affected contact object great give contact would like approach currently explore make connected pretty stiff organized cubic crystal way object immediate contact get highest displacement get lower participate contact get given seem outside regular use wonder problem could realistically care measure importance specific contact event care information spreaded among higher number make better optimize shape let know sense,issue,positive,positive,positive,positive,positive,positive
461577638,"By default, PyBullet uses btMultiBody reduced coordinate articulated bodies. Joints in articulated bodies are not implemented as constraints, but handled through the Featherstone articulated body algorithm. We have special btMultiBody constraints, exposed through PyBullet.createConstraint. We could re-implement parts of btGeneric6DofSpring2Constraint for the btMultiBody case.

 btGeneric6DofSpring2Constraint is only implemented for btRigidBody.
You can loadURDF using the useMaximalCoordinates=True flag, and in that case, joints are implemented as  btGeneric6DofSpring2Constraint. So we could add some API that lets you configure existing btRigidBody joints that way. 

One way would be to implement it in the 'changeDynamics' API, only in case we have btRigidBody. This is still complicated, since we don't have all links/other rigid bodies readily available there.
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L7763

Notice that useMaximalCoordinates is not well supported in PyBullet, since most users use the default reduced coordinate methods.",default reduced articulated articulated handled articulated body algorithm special exposed could case flag case could add configure way one way would implement case still complicated since rigid readily available notice well since use default reduced,issue,negative,positive,neutral,neutral,positive,positive
460727401,"Thank you for this, it just helped me get a working copy!",thank get working copy,issue,negative,neutral,neutral,neutral,neutral,neutral
460682704,"It is not extracted from the MuJoCo file, but I'm now exposing a PyBullet API to adjust the joint damping manually: 
pybullet.changeDynamics(objUid, linkIndex, jointDamping=...)
https://github.com/bulletphysics/bullet3/pull/2098/commits/42369aa47d41969cfcd85fd4858b3bb2ded2591a",extracted file adjust joint damping manually,issue,negative,neutral,neutral,neutral,neutral,neutral
460358362,"I don't see the fix overwritten, are you sure?
See around line 920 here:
https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.cpp#L919",see fix sure see around line,issue,negative,positive,positive,positive,positive,positive
460067754,"@erwincoumans Yes, just tested -  Mojave 10.14.2 fixed this! Thanks!",yes tested fixed thanks,issue,positive,positive,positive,positive,positive,positive
459733398,"If you already have an sdf that represents the static shape, that may work. There is a PyBullet demo showing sdf collisions. What format is your SDF? Is the code public?

btCompoundShape uses a btDbvt as dynamic aabb tree, you could try that.  

btDbvtBroadphase uses the same btDbvt.",already static shape may work showing format code public dynamic tree could try,issue,negative,positive,positive,positive,positive,positive
459671620,We'll try to provide you with a fix and a Pull Request.,try provide fix pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
459671498,"> How many boxes/voxels do you have?

Pages of 256 thousand (could be made smaller), but they are all static.

> Signed distance fields are not a good approximation for boxes, and the memory usage is way to large to be practical.

I would be tempted to agree, but I already have an SDF and an octree for other purposes.
When you say ""not a good approximation"" do you mean that SDF is treated like a level surface, i.e. that the normals and interfaces are defined for a smooth surface where distance=0.0 ?
That could actually be ideal for terrain (or anything else) generated with marching cubes from exactly that representation.

> I would use the dynamic AABB tree or create a custom acceleration structure.

That would be `btDbvtBroadphase` correct? I was more after a static collision shape that I could use to have less rigid bodies in the scene. ",many thousand could made smaller static distance good approximation memory usage way large practical would agree already say good approximation mean like level surface defined smooth surface could actually ideal terrain anything else exactly representation would use dynamic tree create custom acceleration structure would correct static collision shape could use le rigid scene,issue,positive,positive,positive,positive,positive,positive
459608839,"Well, if gcc messes SSE, just disable SSE. The gains are not that big anyway. Edit Bullet/src/LinearMath/btScalar.h or use BT_USE_DOUBLE_PRECISION (that disables SSE, more accurate but a bit slower)",well disable gain big anyway edit use accurate bit,issue,positive,positive,positive,positive,positive,positive
459608739,"How many boxes/voxels do you have? 

Signed distance fields are not a good approximation for boxes, and the memory usage is way to large to be practical.

I would use the dynamic AABB tree or create a custom acceleration structure.",many distance good approximation memory usage way large practical would use dynamic tree create custom acceleration structure,issue,positive,positive,positive,positive,positive,positive
459606668,"Attached is a working example. Please modify and re-open if you reproduce the issue.
[removeBody.zip](https://github.com/bulletphysics/bullet3/files/2820146/removeBody.zip)

From the warning, it seems you call removeCollisionShape instead of removeBody?
Use removeBody instead.",attached working example please modify reproduce issue warning call instead use instead,issue,negative,neutral,neutral,neutral,neutral,neutral
459605855,"Please provide a small self-contained reproduction script, preferably no dependencies aside from pybullet. Thanks!",please provide small reproduction script preferably aside thanks,issue,positive,negative,neutral,neutral,negative,negative
459385060,"This is still too preliminary to be useful, are you interested in contributing?
Attached is a premake4.lua file, copy it in the Bullet/src/PhysX folder. In that src/PhysX folder should be a physx and pxshared folder. Most work would be implementing all the methods in 
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/physx/PhysXServerCommandProcessor.cpp#L515
[premake4.zip](https://github.com/bulletphysics/bullet3/files/2817869/premake4.zip)

",still preliminary useful interested attached file copy folder folder folder work would,issue,positive,positive,positive,positive,positive,positive
459383616,"Try harder, use some forum or different physics engine.",try harder use forum different physic engine,issue,negative,negative,neutral,neutral,negative,negative
459171676,"Until we get to this, you can achieve the same (and more fine-grained) using collision filters.
See 'setCollisionFilterPair' in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#).",get achieve collision see guide,issue,negative,neutral,neutral,neutral,neutral,neutral
459171618,"I think one would have to trawl through the source very carefully for any usage of `_mm_BITWISEOPNAME_ps`, I've just started with bullet so I have no familiarity with the codebase.",think one would trawl source carefully usage bullet familiarity,issue,negative,negative,neutral,neutral,negative,negative
459169529,"Some people used the deformable simulation in PyBullet, see https://sites.google.com/view/sim-to-real-deformable
We don't have many resources for this, so we focus on the rigid/multibody/collision detection parts.",people used deformable simulation see many focus detection,issue,negative,positive,positive,positive,positive,positive
459168840,"for (1), likely the timestep is too big, for the ball size/speed, use a smaller timestep.

for (2), it is easiest to create a second (or more) dynamics world, do the ball simulation/prediction in there.",likely big ball use smaller easiest create second dynamic world ball,issue,positive,neutral,neutral,neutral,neutral,neutral
459152624,"Fixed leak in removeBody in test_pr2_mem.py: https://github.com/bulletphysics/bullet3/pull/2087
Note that the first case is expected, until we have removeVisualShape/removeCollisionShape. resetSimulation will have to deal with that case.
Thanks for the report and reproduction case!",fixed leak note first case deal case thanks report reproduction case,issue,negative,positive,positive,positive,positive,positive
459142340,"Yes, we use  retina scale in the code base, it was just missing for this vertical/horizontal setting, will be fixed soon.",yes use retina scale code base missing setting fixed soon,issue,negative,negative,negative,negative,negative,negative
459131156,"In test_pybullet_mem.py, this is expected: the memory of createVisualShape and p.createCollisionShape is not released by a 'removeBody'. We don't have a removeVisualShape/removeCollisionShape, only resetSimulation will release that memory.

I'll have to check what is happening with the second case, thanks for the report!
",memory release memory check happening second case thanks report,issue,negative,positive,neutral,neutral,positive,positive
459120732,"Oh that does work, tested it now. I could do a PR checking for macOS with `sys.platform == 'darwin'`; not sure if you want that. I'm also unsure whether that's a good check: modern Macs use retina screens, but maybe some and the older ones don't?",oh work tested could sure want also unsure whether good check modern use retina maybe older,issue,positive,positive,positive,positive,positive,positive
459117939,"Yes, the you can multiply the mouse coords by 2 for now. We need to compensate the 'vertical' and 'horizontal' with that factor.",yes multiply mouse need compensate factor,issue,negative,neutral,neutral,neutral,neutral,neutral
458719746,"We can now programmatically create both collision and visual shapes.
A few examples:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/createObstacleCourse.py#L31
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/createTexturedMeshVisualShape.py
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/createVisualShape.py#L40",programmatically create collision visual,issue,negative,neutral,neutral,neutral,neutral,neutral
458357140,"Thanks for the report, it is not clear how to reproduce an issue, but the fix is here:
https://github.com/bulletphysics/bullet3/pull/2083",thanks report clear reproduce issue fix,issue,positive,positive,positive,positive,positive,positive
458242605,"I have been digging into this issue for a while and added the -stdlib=libc++ in the compile and linked step for Mac OSX in cpp files in the setup.py. Please check out PyBullet 2.4.2 or newer.
",digging issue added compile linked step mac please check,issue,negative,neutral,neutral,neutral,neutral,neutral
458242250,It works just fine with me (just upgraded some machines to Mojave. Perhaps they fixed things in some updates?,work fine perhaps fixed,issue,negative,positive,positive,positive,positive,positive
458241667,"Thanks! I haven't tested it, since the Gym API seems not stable...",thanks tested since gym stable,issue,positive,positive,positive,positive,positive,positive
458240970,"It is not clear what the command(s) are that you execute, that leads to your error.
Unfortunately the gym and baselines API keeps breaking their own API, I lost track which version works now.

Can you try updating a newer version, I just accepted this PR:
https://github.com/bulletphysics/bullet3/pull/2037",clear command execute error unfortunately gym breaking lost track version work try version accepted,issue,negative,negative,negative,negative,negative,negative
458240565,"That file is newer than PyBullet 2.4.1, you will need PyBullet 2.4.2, uploaded a minute ago.",file need minute ago,issue,negative,neutral,neutral,neutral,neutral,neutral
458072674,"Its good to replace SEE with AVX intrnsics (AVX instrinsics that still operate on __m128) to ensure no expensive SSE/AVX context switch happens on the CPU (CPU has to save all SSE registers before it does AVX ops and vice versa), which can be a problem when Bullet is compiled with mixed SSE and AVX intrinsics.

Another way to alleviate this potential problem is to compile everything with the `-mavx` flag
https://software.intel.com/sites/default/files/m/d/4/1/d/8/11MC12_Avoiding_2BAVX-SSE_2BTransition_2BPenalties_2Brh_2Bfinal.pdf

But not sure if GCC and MSVC behave the same (upgrade SSE intrinsics to VEX coded equivalents).",good replace see still operate ensure expensive context switch save vice problem bullet mixed another way alleviate potential problem compile everything flag sure behave upgrade vex,issue,positive,positive,positive,positive,positive,positive
458008898,"Hi @aerent , I am trying to run humanoidMotionCapture.py in GUI Mode and i am getting `TypeError: a float is required` error at line132, `p.setJointMotorControlMultiDof` function. How did you solve the issue?

```
b3Printf: left_hip
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: left_ankle
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: urdfdom: no axis elemement for Joint, defaulting to (1,0,0) axis
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,126]:

b3Printf: left_shoulder
Traceback (most recent call last):
  File ""/bullet3-master/examples/pybullet/examples/humanoidMotionCapture.py"", line 132, in <module>
    p.setJointMotorControlMultiDof(humanoid,j,p.POSITION_CONTROL,targetPosition, targetVelocity=[0,0,0], positionGain=0,velocityGain=1,force=[0,0,0])
TypeError: a float is required
spherical position:  [0.009485003066, -0.04756001538, -0.004475001447, 0.9988133229]
spherical velocity:  [0.935706195, 0.08277326387, 0.3002461862]
```
",hi trying run mode getting float error line function solve issue axis joint axis axis joint axis recent call last file line module humanoid float spherical position spherical velocity,issue,negative,neutral,neutral,neutral,neutral,neutral
457935858,"It should work fine, make sure to name your arguments, since the 3rd argument is the number of threads.
~~~~~~~~~~~~~
results = p.rayTestBatch(rayFrom,rayTo,numThreads, parentObjectUniqueId=car, parentLinkIndex=hokuyo_joint)
~~~~~~~~~~~~~~

See a working example in [f10_racecar.py](https://github.com/bulletphysics/pybullet_robots/blob/master/f10_racecar.py)
",work fine make sure name since argument number see working example,issue,negative,positive,positive,positive,positive,positive
457935389,"Thanks for the report, that is a bad regression indeed, due to the introduction of multi-dof joints.
Fixed here: https://github.com/bulletphysics/bullet3/pull/2077",thanks report bad regression indeed due introduction fixed,issue,negative,negative,negative,negative,negative,negative
457278079,"Got it.
Documentation said cmake with
build_cmake_pybullet_double.sh
which is the source of the double flag.
Thanks,
Chris
",got documentation said source double flag thanks,issue,negative,positive,neutral,neutral,positive,positive
457272465,"That means that your system version of Bullet is compiled using -DBT_USE_DOUBLE_PRECISION.
How come so? And if so, you obviously have to use the same flags when using Bullet as you compiled Bullet. That's why it is easier to just embed the Bullet source files in your own app.",system version bullet come obviously use bullet bullet easier embed bullet source,issue,negative,neutral,neutral,neutral,neutral,neutral
457262533,"Issue is flag -DBT_USE_DOUBLE_PRECISION

This works
g++  -DBT_USE_DOUBLE_PRECISION -I/usr/local/include/bullet -c HelloWorld.cpp
g++   HelloWorld.o  -o HelloWorld -L /usr/local/lib/ -lBulletDynamics -lBulletCollision -lLinearMath 

This does not
g++ -I /usr/local/include/bullet -c HelloWorld.cpp
g++   HelloWorld.o  -o HelloWorld -L /usr/local/lib/ -lBulletDynamics -lBulletCollision -lLinearMath 

Minimum reproducible case (on my machine)
1) copy HelloWorld.cpp to somewhere.
2)  g++ -I /usr/local/include/bullet -c HelloWorld.cpp
g++ -o HelloWorld HelloWorld.o -L /usr/local/lib/ -lBulletDynamics -lBulletCollision -lLinearMath 
3)  ./HelloWorld
results in error message
HelloWorld: malloc.c:2394: sysmalloc: Assertion `(old_top == initial_top (av) && old_size == 0) || ((unsigned long) (old_size) >= MINSIZE && prev_inuse (old_top) && ((unsigned long) old_end & (pagesize - 1)) == 0)' failed.
",issue flag work minimum reproducible case machine copy error message assertion unsigned long unsigned long,issue,negative,negative,neutral,neutral,negative,negative
457212016,Are you setting any flags to compile Bullet? A minimal repro case is needed. Compare your setup with regular working Bullet examples.,setting compile bullet minimal case compare setup regular working bullet,issue,negative,negative,neutral,neutral,negative,negative
457210599,"collision margin is 0.001 units, or 1mm indeed, assuming SI units, meter, seconds. There is currently no API to change it, such API can be added.",collision margin indeed assuming si meter currently change added,issue,negative,neutral,neutral,neutral,neutral,neutral
457123817,"Hi @erwincoumans, many thanks for your the clarification.

So the collision margin is 0.001 meter = 1.0 millimeter (hope the 0.1 mm was a typo). Is this units' independent? For instance, if I scaled my model 1000 times, the collision margin would be 0.001 kilometers= 1.0 meter.

Lastly and more importantly for me, is it possible for the user to explicitly change the collision margin in PyBullet via `p.setPhysicsEngineParameter` or similar? Say, not to go smaller than the default value of  0.001 (I guess this is a threshold value for minimum numerical stability), but to increase it?",hi many thanks clarification collision margin meter millimeter hope typo independent instance scaled model time collision margin would meter lastly importantly possible user explicitly change collision margin via similar say go smaller default value guess threshold value minimum numerical stability increase,issue,positive,positive,positive,positive,positive,positive
457072628,"I am getting a similar error:

cga@a1:~/bullet3-2.88/bullet/HelloWorld$ ./HelloWorld
collisionShapes.push_back(groundShape); fails
HelloWorld: malloc.c:2394: sysmalloc: Assertion `(old_top == initial_top (av) && old_size == 0) || ((unsigned long) (old_size) >= MINSIZE && prev_inuse (old_top) && ((unsigned long) old_end & (pagesize - 1)) == 0)' failed.
Aborted (core dumped)

Same situation. The app built by cmake in the distribution tree works fine, but when I copy that
directory out of the distribution tree and try to compile it as below, I get the error above.

g++ -I /usr/local/include/bullet -c HelloWorld.cpp
g++ -o HelloWorld HelloWorld.o -L /usr/local/lib/ -lBulletDynamics -lBulletCollision -lLinearMath 

ubuntu-16.04
gcc version 5.5.0 20171010 (Ubuntu 5.5.0-12ubuntu1~16.04) 

",getting similar error assertion unsigned long unsigned long aborted core situation built distribution tree work fine copy directory distribution tree try compile get error version,issue,negative,positive,neutral,neutral,positive,positive
457036024,"The default collision margin in PyBullet is 0.001 meter, which is 0.1 mm. 
Since the margin is for both objects, and happens on both sides, 4 times the collision margin (0.004) sounds about right. You need to give some room for contact to happen.

1/24 -> this is way too big, please use the default timestep of 240 Hz or smaller.
",default collision margin meter since margin side time collision margin right need give room contact happen way big please use default smaller,issue,negative,positive,neutral,neutral,positive,positive
456910471,"Note that there is now an improved [humanoidMotionCapture.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py) example that allows to use either spherical joint motor (setJointMotorControlMultiDof) or using stable PD control. The CL is here, video here:
https://github.com/bulletphysics/bullet3/pull/2047
Enabling spherical stable PD control still requires an update in the python setup.py script (and cmake, premake). In a nutshell, [that code](https://github.com/bulletphysics/bullet3/tree/master/examples/SharedMemory/plugins/stablePDPlugin) relies on Eigen, which is now included in Bullet/examples/ThirdPartyLibs/Eigen.
For stable PD control for spherical joints, it uses the inverse dynamics/mass matrix computation from Jason Peng. I'm hoping to use joint motors though, it may be faster and more stable.
See video here: https://www.youtube.com/watch?v=zwEEQd9nLz8",note example use either spherical joint motor stable control video spherical stable control still update python script premake nutshell code included stable control spherical inverse matrix computation use joint though may faster stable see video,issue,positive,neutral,neutral,neutral,neutral,neutral
456902212,"Thanks for your reply!  I'm trying to re-implement the deepmimic environment and algorithm these days, I will get rid of the PyTorch dependency.  I think I'm quite close to get the training/testing running, when I'm done I'll make another pull request.  : ) @erwincoumans ",thanks reply trying environment algorithm day get rid dependency think quite close get running done make another pull request,issue,negative,positive,positive,positive,positive,positive
456899152,"Thanks a lot for the surprising contribution. I'm still actively looking how to get the basic deep_mimic flow to work, including training a simple model and testing/enjoying it.

I want to avoid adding a torch dependency to in this directory, keep PyBullet simple to use and install.

It looks like the inverse_kinematics is used purely offline as a preprocessing step in conversion from an external motion capture dataset? It would be OK to have torch in the optional offline step, since people can just use the included humanoid/humanoid.urdf, which is a 1:1 conversion from the original 
DeepMimic project.

So I'm not sure if I can merge this PR, but I'll keep this PR in mind while getting the training/testing up and running. Thanks a lot!",thanks lot surprising contribution still actively looking get basic flow work training simple model want avoid torch dependency directory keep simple use install like used purely step conversion external motion capture would torch optional step since people use included conversion original project sure merge keep mind getting running thanks lot,issue,positive,positive,positive,positive,positive,positive
456896454,"Thanks for the contribution! At some stage the re-usable BulletRobotics parts may move into a proper library. For now, this is an acceptable solution. We primarily use Python / PyBullet in my group, so we don't use the BulletRobotics C/C++ directly, nor cmake, so I didn't test this installation myself.",thanks contribution stage may move proper library acceptable solution primarily use python group use directly test installation,issue,positive,positive,positive,positive,positive,positive
456887415,Thanks for the work on this. I'll give you some feedback once I have the chance to look at it.,thanks work give feedback chance look,issue,positive,positive,positive,positive,positive,positive
456882577,"Thanks for the report, fixed here: https://github.com/bulletphysics/bullet3/pull/2047/commits/e02f82f172f00ff886f4bbf42cd6d9b7af0d684c
See also the new upcoming example with stable PD control and spherical joint drive:
https://www.youtube.com/watch?v=zwEEQd9nLz8
",thanks report fixed see also new upcoming example stable control spherical joint drive,issue,positive,positive,positive,positive,positive,positive
456860387,"Well spotted, thanks for the fix!",well spotted thanks fix,issue,positive,positive,positive,positive,positive,positive
456243999,Has the wiki moved to a new location?  Old links like https://pybullet.org/mediawiki-1.5.8/index.php/Collision_Callbacks_and_Triggers have been 404ing ever since the primary site moved.,new location old link like ing ever since primary site,issue,negative,positive,positive,positive,positive,positive
456160970,"It's bumping an old thread, but we ran into an essentially identical issue and I wanted to see if I could get some clarification on the ideal/correct solution.

We have a btCharacterController colliding with a btCollisionShape that we're using as a trigger volume. We aren't doing resolution between the two groups, only listening to the start and end collision callbacks. We've found that the contact point in the persistent manifold lingers well after the character controller has completely exited the trigger volume, as long as the direction of travel is the inverse of the calculated collision normal. In this scenario a ""collision end"" callback isn't dispatched (despite the bodies clearly no longer overlapping) until either; the character controller changes direction of motion OR, the broadphase check determines there's no collision. (character controller exits the AABB of the trigger volume)

In our case, the trigger volume is often rotated such that the broadphase AABB has a significant margin of error.

I understand why this is happening based on the rules for breaking a persistent manifold, but am wondering what the recommended/efficient way of getting this kind of overlap information would be.",bumping old thread ran essentially identical issue see could get clarification solution trigger volume resolution two listening start end collision found contact point persistent manifold well character controller completely trigger volume long direction travel inverse calculated collision normal scenario collision end despite clearly longer either character controller direction motion check collision character controller trigger volume case trigger volume often rotated significant margin error understand happening based breaking persistent manifold wondering way getting kind overlap information would,issue,negative,positive,positive,positive,positive,positive
455805039,"One way:
~~~~~~~~~~
python3
import pybullet as p
p.connect(p.GUI_SERVER) #or SHARED_MEMORY_SERVER)

In a different terminal on same machine, compile and run
App_PhysicsServerSharedMemoryBridgeTCP_gmake_x64_release
Note that only premake builds this project (since that's what I use primarily).
cd build3
./premake4_osx gmake //or linux64 or premake4.exe vs2010 on windows
cd gmake
make App_PhysicsServerSharedMemoryBridgeTCP_gmake
~~~~~~~~~~~~~

Then on another machine, but first for testing on same machine, use:
~~~~~~~~~~~~~
python3
import pybullet as p
p.connect(p.TCP)
p.loadURDF(""plane.urdf"")
~~~~~~~~~~~~~

Then on the original server, you can use 'p.syncBodyInfo' and 'getNumBodies' should report 1.

You cannot start TCP_SERVER from pybullet at the moment. Would be a nice simplication indeed.
Maybe if I have time, I could add it, but networking for pybullet is kind of an obscure / advanced PyBullet feature. There are also UDP and even GRPC connections. GRPC us harder to get working.

Good luck,

",one way python import different terminal machine compile run note premake project since use primarily build make another machine first testing machine use python import original server use report start moment would nice indeed maybe time could add kind obscure advanced feature also even u harder get working good luck,issue,positive,positive,positive,positive,positive,positive
455719367,"Sure, modify the PR? SPU was for Playstation 3, likely not much used anymore.",sure modify likely much used,issue,negative,positive,positive,positive,positive,positive
455708792,"I don't see any difference, aside from a space, the CL should be fine.",see difference aside space fine,issue,negative,positive,positive,positive,positive,positive
455703041,"My PR seems to fix the issues in my use-case, but could definitely use some review either way",fix could definitely use review either way,issue,negative,neutral,neutral,neutral,neutral,neutral
455171413,"Bullet contains soft body dynamics to a certain degree. To examine the options, look at [this](https://www.youtube.com/watch?v=9sh-D0nejUY) youtube video or build Bullet with the soft body option, run the example browser and look at the soft body examples. 

PyBullet has some bindings to the soft body part of the engine, see the [examples](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/load_soft_body.py). Do mind that this is very experimental, old code and not as stable as the rigid body simulation of the physics engine. ",bullet soft body dynamic certain degree examine look video build bullet soft body option run example browser look soft body soft body part engine see mind experimental old code stable rigid body simulation physic engine,issue,positive,positive,positive,positive,positive,positive
455164985,"I created a pull request that fix the issue. This is not the perfect solution. The ideal solution being to move the bullet robotics in the src folder.
https://github.com/bulletphysics/bullet3/pull/2063",pull request fix issue perfect solution ideal solution move bullet folder,issue,positive,positive,positive,positive,positive,positive
454773743,"""I'm also trying as much as possible to avoid just including the sources into my project.""

This is the easiest and recommended way.

",also trying much possible avoid project easiest way,issue,negative,neutral,neutral,neutral,neutral,neutral
454266391,"Indeed, it was too much work to convert the old wiki to new server. Will get to it eventually.",indeed much work convert old new server get eventually,issue,negative,positive,positive,positive,positive,positive
454265612,"Thanks for the contribution. We use pip nowadays to install PyBullet, but it is nice to also allow cmake indeed.

>> Print build time only in debug mode

I intentionally want to see the build time, also in release mode. It makes it more obvious if an old version is installed. Can you undo that part, and I 'll merge the PR.",thanks contribution use pip nowadays install nice also allow indeed print build time mode intentionally want see build time also release mode obvious old version undo part merge,issue,positive,positive,positive,positive,positive,positive
454174737,Can pybullet model a flexible object with certain stiffness ？ ,model flexible object certain stiffness,issue,negative,positive,positive,positive,positive,positive
454011980,"A simple reproduction case is needed, preferably in example browser. Before you modify an object, remove it from the world. Please reopen with repro case.",simple reproduction case preferably example browser modify object remove world please reopen case,issue,negative,neutral,neutral,neutral,neutral,neutral
453274586,"We don't change defaults anymore. At best, we can expose an API to allow the user to set it.",change best expose allow user set,issue,positive,positive,positive,positive,positive,positive
452240530,"Hi, @erwincoumans . I am also following the deep mimic training with pybullet. I directly use PPO algorithm provided by OpenAI baseline to train the pybullet humanoid to mimic the reference motion of walking, but the policy does not succeed in mimicking the reference motion.
You mentioned the pybullet deep mimic implementation is still preliminary, I am wondering which direction should I focus to make it work, is it the humanoid model or the PPO algorithm?
Thanks very much!",hi also following deep mimic training directly use algorithm provided train humanoid mimic reference motion walking policy succeed reference motion deep mimic implementation still preliminary wondering direction focus make work humanoid model algorithm thanks much,issue,positive,positive,neutral,neutral,positive,positive
452155290,"A bit more complete example of ""camera array"" rendering use case (rendering only, no TensorRT inference in this example).

```
#!/usr/bin/python3
#
# git clone https://github.com/dchichkov/bullet3
# cd bullet3
# ./build_cmake_pybullet_double.sh
# cd ..
# export PYTHONPATH=bullet3/build_cmake/examples/pybullet

import pybullet as p, numpy as np

p.connect(p.DIRECT, options='--width=160 --height=160 --cameraArraySize=16')

cameraArraySize,width,height = 16,160, 160
viewMatrices, projectionMatrices = [], []
for yaw in range(0,10 * cameraArraySize,10):
        viewMatrix = p.computeViewMatrixFromYawPitchRoll(cameraTargetPosition = [0,0,0], distance = 1, yaw = yaw, pitch = -10, roll = 0, upAxisIndex = 2)
        projectionMatrix = p.computeProjectionMatrixFOV(fov = 60, aspect = width / height, nearVal = 0.01, farVal = 100)
        viewMatrices.append(viewMatrix)
        projectionMatrices.append(projectionMatrix)

viewMatrices = np.array(viewMatrices, dtype=np.float32)
projectionMatrices = np.array(projectionMatrices, dtype=np.float32)

plane = p.loadURDF(""plane.urdf"")
p.loadURDF(""plane.urdf"",[0,0,-1])
p.loadURDF(""r2d2.urdf"")
p.loadURDF(""duck_vhacd.urdf"")

cameraArraySize,width,height,rgb,featureLength,features = p.getCameraArrayImage(cameraArraySize=cameraArraySize,width=width,height=height,featureLength=2000,viewMatrices=viewMatrices,projectionMatrices=projectionMatrices)

from PIL import Image
print(rgb.shape)
Image.frombuffer('RGB', (width,height*cameraArraySize), rgb, 'raw').save(""out.png"")
```",bit complete example camera array rendering use case rendering inference example git clone bullet export import width height yaw range distance yaw yaw pitch roll aspect width height plane width height import image print width height,issue,negative,positive,neutral,neutral,positive,positive
452152801,"@erwincoumans Okhay, thank you a lot!

I tried the direct connect method and now bullet3 seems to work and can receive commands. It was all just my ignorance about bullet3 itself. :-) Looking at the examples I was a bit confused and didn't look well enough into what the different connect methods were exactly meant for.",thank lot tried direct connect method bullet work receive ignorance bullet looking bit confused look well enough different connect exactly meant,issue,negative,negative,neutral,neutral,negative,negative
452150082,"Indeed, we don't support numpy for all APIs. Only pybullet.getCameraImage optionally returns the output as numpy, to avoid copying millions of pixels between C and Python. Adding numpy support doesn't likely happen anytime soon, so the user has to perform the conversion.",indeed support optionally output avoid million python support likely happen soon user perform conversion,issue,negative,neutral,neutral,neutral,neutral,neutral
452147854,"You should be able to statically link against Bullet without issues. 
We don't support dynamic linking in C++.

The C-API should be able to link dynamically / DLL, since it is used in a Python extension plugin.

If you use b3ConnectSharedMemory, that implies you connect to an existing running physics server.
You likely want to b3ConnectDirect (no debug GUI) or b3ConnectGUI(...).
After you connect, make sure you can send commands. See also the App_HelloBulletRobotics and App_RobotSimulator projects (using premake to build the project).",able statically link bullet without support dynamic linking able link dynamically since used python extension use connect running physic server likely want connect make sure send see also premake build project,issue,negative,positive,positive,positive,positive,positive
452144039,"I'm not sure how off-topic this problem of mine is, but can @erwincoumans shed any light into this?

If you need more information I can provide. I've tried even converting my whole game project to C++ to be compiled as C++ code under visual studio, still the same exact problem. I've tried isolating these bullet3 function calls to the start of my main function before anything else, same problem. I've tried different linker flags, still same problem. I'm out of ideas and have very little experience about linking a C program against a C++ library with a C api anyways.

I'm using MSVC 15 (2017). Trying to statically link bullet3 libs to my project. Using the libs and headers the bullet3 CMake generated Visual Studio solution installs to program files (x86).

edit: I'm sorry about posting this here. I'll leave my messages but I'll move to the bullet physics forums for asking help. I guess I'm just doing something incorrectly. This doesn't feel like an appropriate place for this.

![bullet3_problem_c_api](https://user-images.githubusercontent.com/706596/50804487-cd789f80-12f6-11e9-872a-ee773162d4cd.png)
",sure problem mine shed light need information provide tried even converting whole game project code visual studio still exact problem tried isolating bullet function start main function anything else problem tried different linker still problem little experience linking program library anyways trying statically link bullet project bullet visual studio solution program edit sorry posting leave move bullet physic help guess something incorrectly feel like appropriate place,issue,negative,positive,neutral,neutral,positive,positive
451942475,"I'm currently unable to build the CMake generated MSVC 2017 projects if I choose BUILD_SHARED_LIBS. All the bullet related projects fail due to linker errors (.lib file missing?? says MSVC).

I tried a fresh copy of the latest master branch (c993175a5859e48783cf2c490947d826be5649b2) and then release 2.88. Both fail in the same manner.

I'm personally just looking for a way to link the library with my game project written in C, so that I'd be able to command bullet via the C-api (PhysicsClientC_API.h).

I tried generating the MSVC project files using default CMake settings at first, this built bullet3 just fine with no errors but in a static manner. Then I tried linking the .lib files with my C game project and calling functions using the C-api header file. b3ConnectSharedMemory and b3DisconnectSharedMemory seem to initially work fine (the first one returns a pointer to the client handle), but if I try to call b3InitResetSimulationCommand (or any other b3 function that takes the client handle as an argument), I get an access violation exception (write at some address).

I'm not personally sure if the C-api for Bullet3 is event intended to work when linked statically? And what would be the correct way to build bullet3 dynamically?",currently unable build choose bullet related fail due linker file missing tried fresh copy latest master branch release fail manner personally looking way link library game project written able command bullet via tried generating project default first built bullet fine static manner tried linking game project calling header file seem initially work fine first one pointer client handle try call function client handle argument get access violation exception write address personally sure bullet event intended work linked statically would correct way build bullet dynamically,issue,negative,positive,neutral,neutral,positive,positive
451650729,"If I understand this correctly, the forward dynamics simulation uses the static and damping friction of the URDF, while the inverse dynamics computation ignores the friction.

Can you add this to Pybullet Quickstart Guide in the InverseDynamics section, because this information is quite important for robot control? Or can I submit a merge request for the Quickstart Guide?",understand correctly forward dynamic simulation static damping friction inverse dynamic computation friction add guide section information quite important robot control submit merge request guide,issue,positive,positive,positive,positive,positive,positive
451521393,Please re-open if you provide a repro case that breaks with latest github version.,please provide case latest version,issue,negative,positive,positive,positive,positive,positive
451483596,"Thanks for the fix, good find!",thanks fix good find,issue,positive,positive,positive,positive,positive,positive
451325912,"The double-precision flag is already set in the pc file with `@BULLET_DOUBLE_DEF@`, which is set in the CMakeLists.txt:

* https://github.com/bulletphysics/bullet3/blob/233a7083d19ded151e80c2d9c7cd3d28856d6f76/CMakeLists.txt#L217

It would be a simple matter to set the other flags in cmake variable and add them surrounded by `@` in the `.pc` template",flag already set file set would simple matter set variable add surrounded template,issue,negative,neutral,neutral,neutral,neutral,neutral
451320796,"The limit is increased to 131072 vertices on Windows and Linux, and 8192 on Mac OSX.
This is due to shared memory restrictions, we use shared memory to copy data between client and server. See https://github.com/bulletphysics/bullet3/pull/2042
If you need larger collision meshes, it is best to split them into multiple meshes.",limit vertex mac due memory use memory copy data client server see need collision best split multiple,issue,negative,positive,positive,positive,positive,positive
451258674,"Do you have a small reproduction case mini project with cmake? Without that we cannot help.
Did you try using the regular github latest version of Bullet? That way, we know if it is homebrew specific.",small reproduction case project without help try regular latest version bullet way know specific,issue,negative,positive,neutral,neutral,positive,positive
451066191,"just add the following to ""BodyPart"" may fix the problem:
`def get_position(self):
    return self.current_position()`",add following may fix problem self return,issue,negative,neutral,neutral,neutral,neutral,neutral
451042072,"Okay, I can make a pull request regarding it. I have made the changes in the necessary places I believe.
Thanks

Also ```GetReward()``` function does not fully implement the reward as mentioned in the paper. If you would have time to guide me a little bit I can complete that too.
",make pull request regarding made necessary believe thanks also function fully implement reward paper would time guide little bit complete,issue,positive,positive,neutral,neutral,positive,positive
451026751,"Indeed, we need to call setSimTime. Keep in mind that this PyBullet DeepMimic implementation is still preliminary and under construction, so it still requires a bit more work until it is fully functional. Help is welcome though!",indeed need call keep mind implementation still preliminary construction still bit work fully functional help welcome though,issue,positive,positive,positive,positive,positive,positive
451025620,"Some tips: try using box collision shapes (in case you are using meshes/convex hulls)
use a much higher number of solver iterations
use a smaller time step
What are the friction coefficients for gripper and box? lateral friction, rolling friction and spinning friction?
What are the masses of the gripper and box?
How is the gripper actuated? position control, velocity control or force/torque control?
Try using smaller forces (position and velocity control has a maximum force field)",try box collision case use much higher number solver use smaller time step friction gripper box lateral friction rolling friction spinning friction gripper box gripper position control velocity control control try smaller position velocity control maximum force field,issue,negative,positive,neutral,neutral,positive,positive
451023755,"Thanks for working on this! We haven't ported the heightfield shape to the BulletExampleBrowser yet.

Here is the old code, from the glut based demos:
https://github.com/bulletphysics/bullet3/blob/old_demos/Demos/TerrainDemo/TerrainDemo.cpp
",thanks working ported shape yet old code glut based demo,issue,negative,positive,positive,positive,positive,positive
451020225,"I don't think any of the demos that come with Bullet use the heightfield shape.
However, there is a demo called the benchmark demo that tests ray casting against a terrain. Code for it is [here](https://github.com/bulletphysics/bullet3/blob/master/examples/Benchmarks/BenchmarkDemo.cpp).

In that demo, the terrain is a triangle mesh. You could modify that to (optionally) use a heightfield in place of the triangle mesh.",think demo come bullet use shape however ray casting terrain code terrain triangle mesh could modify optionally use place triangle mesh,issue,negative,neutral,neutral,neutral,neutral,neutral
450761129,"I experimented another technique (from the points above), which speeds up raycasts a lot even without data structure (so even if there is no accelerator), which can be found here https://github.com/Zylann/godot/commit/e780160d99d83a34a31f66470f5f4d832fcff9db.
It yields results in order as well so it would benefit a lot from exit-on-first-hit, which I still don't have.
I only implemented single-level of chunks, but it could easily be made hierarchical (that would mostly matter for horizontal rays).

I need to learn how to test this from within the Bullet repo so I can do a PR here, is there a testbed I can use for testing heightfields?",experimented another technique lot even without data structure even accelerator found order well would benefit lot still could easily made hierarchical would mostly matter horizontal need learn test within bullet use testing,issue,positive,positive,positive,positive,positive,positive
450579814,"I think I got the PR to work within the Bullet version in Godot Engine (not so far from the latest).
It uses a quad tree accelerator, but here are some points to discuss:

- It currently has an early-exit for short rays, but it tests 3D length. I would test 2D length instead so long vertical rays should not travel the tree (which is nice for vehicles or typical is-grounded checks).
- When reaching a leaf node, it still ends up checking all triangles within a rectangular area. I would instead walk through the projected ray with a kind of bresenham algorithm, so we can make the tree less deep while not impacting the final test too much. In fact, I wonder if a hierarchical bresenham algorithm with a few grids of chunks would be better suited than a quadtree?
- `performRaycast` has no exit when the first hit would be found, which is a problem for raycasts because it forces to continue through the whole ray even if only the first result matters. I cannot get the result of `callback->processTriangle`, so how should I interrupt the algorithm on first hit? (this also has an impact in Godot with gui-pickable 3D shapes, which perform a raycast of length 10000)
- I don't know if it works on non-square, or uneven terrains, so for now I trust the PR until I test this case

I may port it to this repository, but for now you can find it here: https://github.com/Zylann/godot/commit/f07458555091a5450d9c6c5acb8c53b8896c5134",think got work within bullet version engine far latest quad tree accelerator discus currently short length would test length instead long vertical travel tree nice typical reaching leaf node still within rectangular area would instead walk ray kind algorithm make tree le deep final test much fact wonder hierarchical algorithm would better exit first hit would found problem continue whole ray even first result get result interrupt algorithm first hit also impact perform length know work uneven trust test case may port repository find,issue,positive,positive,positive,positive,positive,positive
450568317,"It looks like the old PR got archived, and files I can download are not patches, just the whole files as they were years ago... quite hard to find out what actually happened. Diffing them yields too many unrelated changes to tell (especially btCollisionWorld, I wonder what changed there).",like old got whole ago quite hard find actually many unrelated tell especially wonder,issue,negative,positive,positive,positive,positive,positive
450532843,"In the bullet examples, the [BenchmarkDemo](https://github.com/bulletphysics/bullet3/blob/master/examples/Benchmarks/BenchmarkDemo.cpp) has an example of doing raycasts in parallel (look for ""USE_PARALLEL_RAYCASTS""). The same method should work for doing parallel convex sweeps as well.

This example uses the thread management system included with Bullet, however it isn't required -- the convex sweep should be threadsafe (so long as bullet was compiled with the ""BT_THREADSAFE=1"" option) -- so any method for managing the threads should work just as well.

Note that ""BULLET2_USE_THREAD_LOCKS"" is only used in Cmake (not in the code). It is a Cmake configuration option that simply sets the definition of ""BT_THREADSAFE"". Bullet code only checks for ""BT_THREADSAFE"".",bullet example parallel look method work parallel convex well example thread management system included bullet however convex sweep long bullet option method work well note used code configuration option simply definition bullet code,issue,negative,positive,neutral,neutral,positive,positive
450253364,"Hi,

The PPL option should compile for MSVC 2013 and 2015 as I recall. I never tried it with VC 2010, so it sounds like it only works with newer versions of PPL. I don't really recommend using PPL. Its mainly there as an example of how to implement a task scheduler for Bullet. Performance wasn't great compared to the other options.

The ThreadSupport option is probably the best choice for most cases. It's built-in (to Bullet) so there's no extra setup, and it has the best performance (on the Windows platform at least, according to my testing).

I found IntelTBB to also have good performance, but it's a bit of a hassle to setup since it's an external library.

OpenMP on windows with MSVC works, and is very easy to setup since it is built into the compiler but doesn't perform that great. With other compilers hopefully the performance is better.

Please feel free to share your results with CPU multithreading on this [Forum thread](https://pybullet.org/Bullet/phpBB3/viewtopic.php?f=9&t=10232)",hi option compile recall never tried like work really recommend mainly example implement task bullet performance great option probably best choice bullet extra setup best performance platform least according testing found also good performance bit hassle setup since external library work easy setup since built compiler perform great hopefully performance better please feel free share forum thread,issue,positive,positive,positive,positive,positive,positive
450028788,"HI Erwin, thank you, for me the sample browser is really useful to quickly judge and try the different settings. ",hi thank sample browser really useful quickly judge try different,issue,positive,positive,positive,positive,positive,positive
450013760,"You may have to fix things to get it the various multi-threading options working. Good Luck!

>> Maybe I can share some results on this if you like.

If you have some comparison/number for different schedulers, please share (for example running some of the benchmarks in the Bullet/ExampleBrowser BenchmarkDemo)",may fix get various working good luck maybe share like different please share example running,issue,positive,positive,positive,positive,positive,positive
450007315,"HI, While looking into it I found (I am still compiling with Studio 2010...) that it uses concurrency:: as namespace for the ms ppl, while it only compiles with Concurrency:: AM I missing a settings there? ",hi looking found still studio concurrency concurrency missing,issue,negative,negative,negative,negative,negative,negative
449860623,"Dear Erwin, Dear Lunkhound, great that this is finally integrated. Thank you!

One question from your experience, what differences do you see between using openMP, ThreadSupport and TBB? Will there be any differences? 

I am working on a little logger to do more testing on different laptops and workstations with the different options. 

Maybe I can share some results on this if you like.

Yours Georg.
",dear dear great finally thank one question experience see working little logger testing different different maybe share like,issue,positive,positive,positive,positive,positive,positive
449632134,"Cool, thanks for digging it up :) I'll have a look when I get some time.",cool thanks digging look get time,issue,positive,positive,positive,positive,positive,positive
449624092,"This is great news, thank @erwincoumans. And happy holidays!",great news thank happy,issue,positive,positive,positive,positive,positive,positive
449611748,"Scaling patch was applied, let's close the issue.",scaling patch applied let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449611676,We have collision filtering as a PyBullet plugin now. See collisionFilter.py and the[ PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3),collision filtering see guide,issue,negative,neutral,neutral,neutral,neutral,neutral
449611640,"Don't have time to look into specific MJCF cases. If someone has time for MJCF support, welcome to re-open.",time look specific someone time support welcome,issue,positive,positive,positive,positive,positive,positive
449611596,"We just use the Unity wrapper, start a shared memory server outside of Unity and then connect over shared memory to that server. Note that we haven't updated that wrapper, no time for this.
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/unity3d",use unity wrapper start memory server outside unity connect memory server note wrapper time,issue,negative,neutral,neutral,neutral,neutral,neutral
449611532,"We don't have resources to work on this. If a volunteer shows up, please re-open and consider a pull request.",work volunteer please consider pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
449611501,"With the new fileIOPlugin you can set additional search path, and also load from zip files etc.
See also fileIOPlugin.py example.",new set additional search path also load zip see also example,issue,negative,positive,positive,positive,positive,positive
449611359,"Closing the issue, we don't support or deal with Docker.",issue support deal docker,issue,negative,neutral,neutral,neutral,neutral,neutral
449611338,"We don't have resources to work on this. If a volunteer shows up with a small patch, we consider merging it. Until then, closing old issues.",work volunteer small patch consider old,issue,negative,negative,neutral,neutral,negative,negative
449611289,"No, let's close this issue. If volunteers want to merge PyBullet and Blender, welcome.",let close issue want merge blender welcome,issue,positive,positive,positive,positive,positive,positive
449611275,"I think this should be fixed by now. If not, please re-open with a clear repro case. Where was this <1, 0, 0, 0> quaternion exactly?
Thanks for the reports!",think fixed please clear case quaternion exactly thanks,issue,positive,positive,positive,positive,positive,positive
449611163,"No, let's close this old issue.",let close old issue,issue,negative,positive,neutral,neutral,positive,positive
449611133,"This was fixed a while ago, clipping should work now.",fixed ago clipping work,issue,negative,positive,neutral,neutral,positive,positive
449611096,Are people still using freenode? I doubt I can find a password and client to use it. Let's close this issue.,people still doubt find password client use let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449611039,"Things should work, let's close the old issue.",work let close old issue,issue,negative,positive,neutral,neutral,positive,positive
449610898,Let's close this issue. For chat use forums.,let close issue chat use,issue,negative,neutral,neutral,neutral,neutral,neutral
449610886,"Closing issue. If a URDF doesn't load well, check following:
+ use obj/stl instead of dae meshes
+ use relative folders for meshes, instead of 'package://' or 'model://' etc.
",issue load well check following use instead dae use relative instead,issue,negative,neutral,neutral,neutral,neutral,neutral
449610816,Should work better in latest version. Closing issue.,work better latest version issue,issue,negative,positive,positive,positive,positive,positive
449610780,"Closing the issue, PyBullet should work with the regular version of Python 2.7 and 3.5/3.6 through Homebrew (brew install). Anaconda versions work for me, but others have issues. It must be some configuration issue that we cannot dig into. Let's close it.",issue work regular version python brew install anaconda work must configuration issue dig let close,issue,negative,neutral,neutral,neutral,neutral,neutral
449609287,"If making changes to an existing collision shape/object, you need to first remove the body from the world, make the change, and re-insert into the world.
Alternatively, use
~~~~~~~~~
world->getBroadphase()->getOverlappingPairCache()->cleanProxyFromPairs(object->getBroadphaseHandle(),world->getDispatcher());
~~~~~~~~~",making collision need first remove body world make change world alternatively use,issue,negative,positive,positive,positive,positive,positive
449609218,"It should show 2d shapes now, let's close the issue.",show let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449609203,"There hasn't been interest in improving this, no volunteer fixing it. Let's close it.",interest improving volunteer fixing let close,issue,positive,neutral,neutral,neutral,neutral,neutral
449609150,"Too old issue, let's close it since this isn't going to be addressed. In case someone wants to apply a patch, here it is:
[BulletLoadShapeDuplication.patch.zip](https://github.com/bulletphysics/bullet3/files/2705693/BulletLoadShapeDuplication.patch.zip)
",old issue let close since going case someone apply patch,issue,negative,positive,neutral,neutral,positive,positive
449608999,"We just updated the premake5.exe, so let's close the issue.
(note we still use premake4.exe by default, the visual studio project files auto-convert to newer versions just fine)

See https://github.com/bulletphysics/bullet3/pull/2034/commits/21d9465d94eb20c1bf7e7ca458b5e6b644dd4d12",let close issue note still use default visual studio project fine see,issue,negative,positive,positive,positive,positive,positive
449608880,"We don't support all possible combinations of platforms, build systems etc. If someone wants to add Ninja INSTALL support we welcome a simple patch. Otherwise, let's just close the issue.",support possible build someone add install support welcome simple patch otherwise let close issue,issue,positive,positive,positive,positive,positive,positive
449608808,We stick with [PyBullet](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) manual Python bindings for Bullet. This let's users just use pip install pybullet without issues. Let's close this issue.,stick manual python bullet let use pip install without let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449608723,"Character control is a topic on its own, and people develop their own solutions. We don't have volunteers working on this, so closing the issue.",character control topic people develop working issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449608668,"No volunteer shows up in fixing this hash function, so for now just suppress the warning.
If someone has a fix, re-open and provide a pull request.",volunteer fixing hash function suppress warning someone fix provide pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
449608465,"This was fixed a few years ago:
~~~~~~~~~~
 btScalar l2 = normal.length2();
        bool hasContact = false;
        btVector3 contactPoint;

        if (l2 >= SIMD_EPSILON * SIMD_EPSILON)
~~~~~~~~~~

See https://github.com/bulletphysics/bullet3/blob/cdd56e46411527772711da5357c856a90ad9ea67/src/BulletCollision/CollisionDispatch/SphereTriangleDetector.cpp#L103",fixed ago bool false see,issue,negative,negative,negative,negative,negative,negative
449608363,"There isn't any volunteer working on improving GIMpact/concave. So the conclusion is, to use btCompoundShape with convex parts (possibly convex decomposition) and triangle mesh for static non-moving trimeshes. So not using btGImpact.",volunteer working improving conclusion use convex possibly convex decomposition triangle mesh static,issue,negative,positive,positive,positive,positive,positive
449608318,"Workaround:
~~~~~~~~
I've experienced this problem as well. You need to call clearForces and applyGravity from within your simulation tick before you apply any user forces.
~~~~~~~~",experienced problem well need call within simulation tick apply user,issue,negative,positive,positive,positive,positive,positive
449608274,"Before you make any change to the collision shape (replace shape, resize etc) you need to

1) remove the rigid body from the world 2) make the change (resize etc) 3) re-insert the body into the world

Alternatively you can flush the contact points manually for the object involved:

dynamicsWorld->getBroadphase()->getOverlappingPairCache()->cleanProxyFromPairs(body->getBroadphaseHandle(), dynamicsWorld->getDispatcher());
",make change collision shape replace shape resize need remove rigid body world make change resize body world alternatively flush contact manually object involved,issue,negative,neutral,neutral,neutral,neutral,neutral
449608225,"This functionality was added a while ago, let's close it now.",functionality added ago let close,issue,negative,neutral,neutral,neutral,neutral,neutral
449608162,"This is likely not going to happen, unless a volunteer shows up to work on SPH for Bullet. Until such volunteer shows up, let's close the issue.",likely going happen unless volunteer work bullet volunteer let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449608123,"There has been too long no activity and interest in this issue, let's close it.",long activity interest issue let close,issue,negative,negative,neutral,neutral,negative,negative
449608024,"Character controller had some improvements over the years, let's close this old issue.",character controller let close old issue,issue,negative,positive,neutral,neutral,positive,positive
449607978,"In addition to contact ERP/CFM, latest Bullet SDK has contactStiffness and contactDamping in btCollisionObject. This is combined during the collision of two bodies, and converted into ERP/CFM.

See btCollisionObject::setContactStiffnessAndDamping
See also gCalculateCombinedContactStiffnessCallback


Closing the issue, since it is implemented now.",addition contact latest bullet combined collision two converted see see also issue since,issue,negative,positive,positive,positive,positive,positive
449607730,"There is renewed interest in this issue, let's close this one.
See https://github.com/bulletphysics/bullet3/issues/2032",interest issue let close one see,issue,negative,neutral,neutral,neutral,neutral,neutral
449607711,"If you volunteer improving it, a pull request if welcome.
Here is some old discussion too:
https://github.com/bulletphysics/bullet3/issues/73
Thanks!",volunteer improving pull request welcome old discussion thanks,issue,positive,positive,positive,positive,positive,positive
449607573,"Too old issue, we don't get to it anymore. For the record, long discussion here:
~~~~~~~~~
Posted on Nov 11, 2013 by Happy Wombat
Hello Erwin,

Unfortunately we did not have time until now to check if the changes in bullet solve all of our serialization problems. Now we managed to create a list of our remarks about already closed ""Issue 734: Complete float/double serialization"".

We identified some minor issues (we included fixes/modifications for almost all of them in a patch file): - btBulletXmlWorldImporter::auto_serialize_root_level_children is not finished for constraints (btAssert(0);//todo). It is not a problem for us as we do not use this class. - btHingeConstraint::serialize still casts some btScalar value to float. - struct btConeTwistConstraintData should not be guarded by BT_BACKWARDS_COMPATIBLE_SERIALIZATION as there is no dedicated float serialization structure. - btWorldImporter::convertRigidBodyFloat/Double does not use some serialized members for deserialization. Maybe not all is needed, but we can not filter out which are the important ones and which can be neglected. Inertia (m_invInertiaLocal and m_invInertiaTensorWorld members of btRigidBodyFloat/DoubleData) is not yet used, because it is recalculated from shape and mass data, and we did not yet check if it is OK for us this way, but we will check it. - there is something wrong with either the deserialization of the margin/size of capsule shape in btWorldImporter::convertCollisionShape or the handling of the margin and scale is not correct in btCapsuleShape constructors as m_implicitShapeDimensions is set directly without considering margin and scale. For now we have changed the deserialization of capsule shapes (as we do not use scaling and margin). We have also changed the size calculation for the box and cylinder a little bit, please take a look at it. - btGeneric6DofConstraint::serialize should fill not used vector components with 0-s just to be nice. (It was useful for us when comparing different .bullet files.)

We also collected some issues about serialization where we need some advice and have some questions: - unfortunately there is another problem with constraint float serialization. It seems that in the current version usage of btTypedConstraintData and btTypedConstraintFloatData is messed up a little bit: e.g. btPoint2PointConstraintFloatData has a btTypedConstraintData member (to be compatible with older versions) but that is guarded by the BT_BACKWARDS_COMPATIBLE_SERIALIZATION flag, which is not correct this way. Furthermore serialization of btPoint2PointConstraint calls back btTypedConstraint::serialize giving a pointer to the btTypedConstraintData member as the first parameter while btTypedConstraint::serialize uses this pointer as a btTypedConstraintFloatData (when BT_USE_DOUBLE_PRECISION is not defined), which is not correct. btTypedConstraintFloatData is only used in btGearConstraint as a member. We suggest removing btTypedConstraintFloatData and using btTypedConstraintData as the float version without the BT_BACKWARDS_COMPATIBLE_SERIALIZATION guard. The only problem with btTypedConstraintData in this case is that m_rbA and m_rbB members are btRigidBodyData* instead of btRigidBodyFloatData* which is not nice at all, but we think it does not cause any problems. Is this solution acceptable for you? Should I create a patch with this modification? - using Windows/Visual C++ 2010 the default alignment is 8 bytes for doubles even in x86 (32 bit) mode. This causes a problem when the serialization structure is processed using the DNA, e.g. in bFile::resolvePointersStructRecursive as the extra padding for doubles are not considered there. We have 2 ideas, but do not know which one would fit you better: either the default packaging should be changed for the Visual C++ project files of bullet (but we do not know if it will cause any side effects) or the makesdna should be improved to give a warning/error about this case and a special padding member should be used (we already implemented such for the DFF serialization (CONDITIONAL_ALIGN)). Which one is better? Or do you have any other ideas?

What version of the product are you using? On what operating system? 2.82.2712, Win32 build on Windows7 with BT_USE_DOUBLE_PRECISION defined.

Attachments
serialization_fix.patch 47.46KB
Comment #1
Posted on Nov 13, 2013 by Happy Wombat
Since then we managed to check the inertia problem in btWorldImporter::convertRigidBodyFloat/Double. We suggest to use the saved inertia members (colObjData->m_invInertiaLocal and colObjData->m_invInertiaTensorWorld) instead of recalculating those because of the following reasons: - btWorldImporter::createRigidBody uses the btCollisionObject::setWorldTransform function of the created rigid body to set its world/center of mass transformation, but this function does not update the inertia tensor (contrary to btRigidBody::setCenterOfMassTransform). This way the inertia tensor will not be restored correctly. Though it is true that calling the btRigidBody::updateInertiaTensor would be enough after setting the world transform of the newly created rigid body, but it would not solve the second problem that follows. - there are cases when the original mass can not be restored from the inverse mass because of finite floating point precision. In this case considering the usual setup of inertia and mass (see below), the mass can not be restored exactly from saved data and this way the localInertia can not be restored exactly: // Creating rigid body having a btScalar mass, a btCollisionShape* shape btVector3 localInertia; localInertia.setZero();

if (mass)
    shape->calculateLocalInertia(mass,localInertia); // Local inertia is calculated from mass

btRigidBody* body = new btRigidBody(mass,0,shape,localInertia); // btRigidBody only stores inverse mass
...

// This is how btWorldImporter tries to restore it: btScalar mass = btScalar(colObjData->m_inverseMass? 1.f/colObjData->m_inverseMass : 0.f); ... btVector3 localInertia; localInertia.setZero();

if (mass)
    shape->calculateLocalInertia(mass,localInertia); // Problem here, mass is not the same as when rigid body was created

btRigidBody* body = new btRigidBody(mass,0,shape,localInertia); // No real problem here, 1 / mass will evaluate to the same as when created
We attached a patch where the inertia is deserialized to the created rigid body based on the original revision 2712 but we can also provide a patch where all the serialization modifications are included if needed.

Attachments
deserialize_inertia.patch 4.24KB
Comment #2
Posted on Nov 17, 2013 by Happy Giraffe
That is a long wall of text, I hope to find some time to digest and test all.

or the makesdna should be improved to give a warning/error about this case and a special padding member should be used

Yes, we need new padding rules/warnings for double-precision to avoid issues indeed.

Comment #3
Posted on Mar 30, 2014 by Happy Giraffe
moved to github https://github.com/bulletphysics/bullet3/issues/74
~~~~~~~~~
[serialization_fix.patch.zip](https://github.com/bulletphysics/bullet3/files/2705677/serialization_fix.patch.zip)
[deserialize_inertia.patch.zip](https://github.com/bulletphysics/bullet3/files/2705678/deserialize_inertia.patch.zip)
",old issue get record long discussion posted happy wombat hello unfortunately time check bullet solve serialization create list already closed issue complete serialization minor included almost patch file finished problem u use class still value float guarded float serialization structure use maybe filter important inertia yet used shape mass data yet check u way check something wrong either capsule shape handling margin scale correct set directly without considering margin scale capsule use scaling margin also size calculation box cylinder little bit please take look fill used vector nice useful u different also collected serialization need advice unfortunately another problem constraint float serialization current version usage little bit member compatible older guarded flag correct way furthermore serialization back giving pointer member first parameter pointer defined correct used member suggest removing float version without guard problem case instead nice think cause solution acceptable create patch modification default alignment even bit mode problem serialization structure extra padding considered know one would fit better either default visual project bullet know cause side effect give case special padding member used already serialization one better version product operating system win build defined comment posted happy wombat since check inertia problem suggest use saved inertia instead following function rigid body set mass transformation function update inertia tensor contrary way inertia tensor correctly though true calling would enough setting world transform newly rigid body would solve second problem original mass inverse mass finite floating point precision case considering usual setup inertia mass see mass exactly saved data way exactly rigid body mass shape mass mass local inertia calculated mass body new mass inverse mass restore mass mass mass problem mass rigid body body new mass real problem mass evaluate attached patch inertia rigid body based original revision also provide patch serialization included comment posted happy giraffe long wall text hope find time digest test give case special padding member used yes need new padding avoid indeed comment posted mar happy giraffe,issue,positive,positive,positive,positive,positive,positive
449607495,"After 5 years still hasn't been applied, so let's close the issue. Attached is the patch for the record, in case someone cares.
[generic6dof_rotateorder.patch.zip](https://github.com/bulletphysics/bullet3/files/2705676/generic6dof_rotateorder.patch.zip)
",still applied let close issue attached patch record case someone,issue,negative,neutral,neutral,neutral,neutral,neutral
449607441,"This was fixed long ago, let's close the issue.",fixed long ago let close issue,issue,negative,positive,neutral,neutral,positive,positive
449607359,"Thanks @cameronwhite finally applied the patch:
https://github.com/bulletphysics/bullet3/pull/2034/commits/83213da154454e7d7d39653fa9a1a352ca083cc6",thanks finally applied patch,issue,negative,positive,neutral,neutral,positive,positive
449607219,"Finally applied the patch, see https://github.com/bulletphysics/bullet3/pull/2034/commits/e5fb1aa1d5488af59433b6fe02d5fe12c02ead0a

Closing issue.
",finally applied patch see issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449606959,"This API isn't going to change anymore for Bullet 2.x, let's stick with it. Closing issue.",going change bullet let stick issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449606938,"Better late than never: Fixed here:
https://github.com/bulletphysics/bullet3/pull/2034/commits/6661b1ac71a105c76043724ab259c2af6d739a3a
",better late never fixed,issue,negative,positive,neutral,neutral,positive,positive
449606729,The btGeneric6DofSpring2Constraint allows for restitution when hitting the limit. Let's close the issue.,restitution limit let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449606679,"Hasn't shown up anymore, likely fixed. Let's close this old issue.",shown likely fixed let close old issue,issue,negative,positive,neutral,neutral,positive,positive
449606663,"Finally let's close this issue:
merged patch here:
https://github.com/bulletphysics/bullet3/pull/2034/commits/44f8064855b7d263b9d252df44b3e558fc668dfa",finally let close issue patch,issue,negative,neutral,neutral,neutral,neutral,neutral
449606470,"There hasn't been any activity for too long, let's close the issue.",activity long let close issue,issue,negative,negative,neutral,neutral,negative,negative
449606204,"This issue has been open for too long without activity. If someone still needs this, please fix it and create a pull request. Closing it now.",issue open long without activity someone still need please fix create pull request,issue,positive,negative,neutral,neutral,negative,negative
449606119,"This issue hasn't shown up recently, let's close it.",issue shown recently let close,issue,negative,neutral,neutral,neutral,neutral,neutral
449606107,"There hasn't been activity on this issue for too long, let's close it.",activity issue long let close,issue,negative,negative,neutral,neutral,negative,negative
449606082,"There hasn't been activity for too long on this issue, let's close it. If it is urgent and someone wants to work on this, please open a new issue with a pull request.",activity long issue let close urgent someone work please open new issue pull request,issue,negative,positive,neutral,neutral,positive,positive
449606040,"There hasn't been activity for too long on this issue, let's close it. If it is urgent, open a new one with a pull request.",activity long issue let close urgent open new one pull request,issue,negative,positive,neutral,neutral,positive,positive
449605977,"Let's close this old issue, people who want to use V-HACD can use the version in 'extras'.",let close old issue people want use use version,issue,negative,positive,neutral,neutral,positive,positive
449605948,"Object sleeping is enabled in Bullet nowadays, let's close this old issue.",object sleeping bullet nowadays let close old issue,issue,negative,positive,neutral,neutral,positive,positive
449605927,"Let's close this issue, there isn't any volunteer picking up anything from it.",let close issue volunteer anything,issue,negative,neutral,neutral,neutral,neutral,neutral
449605884,"here hasn't been any activity here, let's close the issue.",activity let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
449605865,"here hasn't been any active OpenCL development in years, let's close this.",active development let close,issue,negative,negative,negative,negative,negative,negative
449605693,"The EGL renderer is low priority and since there aren't volunteers to improve it, let's stick with your suggested workaround for now. It could be due to the scaling of different visual shapes as well.
Thanks for the report!
",renderer low priority since improve let stick could due scaling different visual well thanks report,issue,positive,positive,neutral,neutral,positive,positive
449600223,"Thanks for the Xmas present, Erwin! I hope you enjoy some time off. Best regards, Sherm",thanks present hope enjoy time best,issue,positive,positive,positive,positive,positive,positive
449597283,Bullet also reports contact with small positive distance. Just ignore them.,bullet also contact small positive distance ignore,issue,negative,negative,neutral,neutral,negative,negative
449597194,"You are supposed to use motors (setJointMotorControl2) in position mode. Alternative, pd control. Don't use reset joints, except for when starting/resetting your program.",supposed use position mode alternative control use reset except program,issue,negative,neutral,neutral,neutral,neutral,neutral
449597130,Can't help with this. Linking Bullet with cmake for all our platforms works just fine.,ca help linking bullet work fine,issue,positive,positive,positive,positive,positive,positive
449597059,"Out-of-date, new example browser doesn't use this mainloop anymore.",new example browser use,issue,negative,positive,positive,positive,positive,positive
449597018,cmake App_RobotSimulator_NoGUI and App_RobotSimulator link against BulletRobotics without a problem. Let's close this old issue: Bullet/examples/SharedMemory/PhysicsClientC_API.h is the API.,link without problem let close old issue,issue,negative,positive,neutral,neutral,positive,positive
449596873,parallel contact test has been there for a few years. Let's close the old issue.,parallel contact test let close old issue,issue,negative,positive,neutral,neutral,positive,positive
449596845,Should be fixed by now. Let's close the issue.,fixed let close issue,issue,negative,positive,neutral,neutral,positive,positive
449596812,"Good, let's close old issues.",good let close old,issue,negative,positive,positive,positive,positive,positive
449596793,"Yes, long ago. Let's close issues.",yes long ago let close,issue,negative,negative,neutral,neutral,negative,negative
449596650,"It has been a while. We use BT_USE_DOUBLE_PRECISION by default now, in PyBullet, Bullet for Robotics.
Also, we use the GJK convex cast  instead of the subsimplex convex cast. Nevertheless, I just exposed the tolerance/max iteration count, to close this issue. Although, I guess you are now using FCL :-)
Thanks and happy holidays,
Erwin
https://github.com/bulletphysics/bullet3/pull/2030/commits/d477d18ad6f0a0c892a0c346817e84a38ece386b

",use default bullet also use convex cast instead convex cast nevertheless exposed iteration count close issue although guess thanks happy,issue,positive,positive,positive,positive,positive,positive
449595079,"OpenCL pipeline is not actively being developed anymore, let's close this.",pipeline actively let close,issue,negative,negative,negative,negative,negative,negative
449594999,"OpenCL pipeline is not actively being developed anymore, let's close this.
There was GPU cloth here:
https://github.com/bulletphysics/bullet3/commit/4f9b450200e34525ef02b47046923279104394b2",pipeline actively let close cloth,issue,negative,negative,negative,negative,negative,negative
449594782,Thanks for the report. Suggestion: release that key!,thanks report suggestion release key,issue,negative,positive,neutral,neutral,positive,positive
449594691,"This is by design, we busy wait for commands. We used to have a idle sleep, but it adds latency.",design busy wait used idle sleep latency,issue,negative,positive,neutral,neutral,positive,positive
449594624,You can get normal contact forces and tangential friction forces. They are accurate up to each contact point. See PyBullet.getContactPoints in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#).,get normal contact tangential friction accurate contact point see guide,issue,negative,positive,positive,positive,positive,positive
449594557,We cannot take action without a small reproduction case. Let's close it.,take action without small reproduction case let close,issue,negative,negative,neutral,neutral,negative,negative
449594508,"Thanks for the report. Probably best to enable the AABB tree, since there are no volunteers working on this. Or fix it and consider a pull request. Thanks!",thanks report probably best enable tree since working fix consider pull request thanks,issue,positive,positive,positive,positive,positive,positive
449594412,"We have capsule support in PyBullet URDF, that's all we got.
See Bullet/data/capsule.urdf",capsule support got see,issue,negative,neutral,neutral,neutral,neutral,neutral
449594360,"This is not supported at the moment. If there is a voluteer wanting to implemented it, please re-open and file a pull request. Need to clean the tracker, there are too many requests and no voluteers.",moment wanting please file pull request need clean tracker many,issue,positive,positive,positive,positive,positive,positive
449593922,"Please use a forum, book or google etc. This tracker is issues/feature requests.",please use forum book tracker,issue,negative,neutral,neutral,neutral,neutral,neutral
449593868,"If someone has a patch for pkg-config, please consider sharing a pull request. 
Until then, let's close the issue (there are no volunteers working on it).",someone patch please consider pull request let close issue working,issue,negative,neutral,neutral,neutral,neutral,neutral
449593767,"If you care, add an option for either way and submit a pull request. Or just make a local change in the source code.",care add option either way submit pull request make local change source code,issue,negative,neutral,neutral,neutral,neutral,neutral
449593687,"The friction coefficient is combined between two objects. If you want to know the lateral friction force for a certain contact point, see getContactPoints in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.cb0co8y2vuvc).",friction coefficient combined two want know lateral friction force certain contact point see guide,issue,negative,positive,positive,positive,positive,positive
449593515,"Let's remove the line. Note that the OpenGL2.x backend is deprecated/unsupported, best to get a newer graphics card/driver.
Fixed here:
https://github.com/bulletphysics/bullet3/pull/2030/commits/5e08808e69ee596b9f42a1f1b1578aaaa8e4edf8",let remove line note best get graphic fixed,issue,positive,positive,positive,positive,positive,positive
449592946,"It is a harmless warning if using Bullet in a single-threaded environment (DIRECT mode /NO_GUI).
It is fixed here: https://github.com/bulletphysics/bullet3/pull/2030/commits/fb2baa81d67c16e42cc0eec56af08192b12e14fb

If you use Bullet, BulletRobotics or PyBullet in multithreaded mode (GUI, SHARED_MEMORY etc), can you use premake to build the project and make sure to enable_multithreading?
~~~~~~~~~~~~~~~~~
premake4  --double --enable_multithreading  --targetdir=""../bin"" vs2010 
~~~~~~~~~~~~~~~~~

When using cmake, please use BULLET2_MULTITHREADING=ON",harmless warning bullet environment direct mode fixed use bullet multithreaded mode use premake build project make sure premake double please use,issue,negative,positive,positive,positive,positive,positive
449592036,"we don't have volunteers working on this URDF. If someone shares an improvement, we will accept pull requests. Thanks!",working someone improvement accept pull thanks,issue,positive,positive,positive,positive,positive,positive
449591991,"You can try using
~~~~~~~~~~~~~~~~
premake4 --no-demos --no-test
~~~~~~~~~~~~~~~~
otherwise, just manually update the premake4 files, see also build3/premake4.lua",try premake otherwise manually update premake see also,issue,negative,neutral,neutral,neutral,neutral,neutral
449591700,"You will need to create a small reproduction case in the ExampleBrowser, for example in the BenchmarkDemo. if you do that, please re-open or file a new issue.",need create small reproduction case example please file new issue,issue,positive,negative,neutral,neutral,negative,negative
449591658,"Thanks for the report! Odd, it looks like we never enabled this ASM define in our tests.
~~~~~~~~~~~~
USE_X86_64_ASM
~~~~~~~~~~~~

Will be fixed here:
https://github.com/bulletphysics/bullet3/pull/2030/commits/875a5f6b0e90cfb2a9c1284b3ae5cc69322d99df",thanks report odd like never define fixed,issue,negative,positive,neutral,neutral,positive,positive
449591352,"Thanks for the report.
Updated the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#). 
~~~~~~~~~~~
globalScaling is supported for SDF and URDF, not for MJCF.
~~~~~~~~~~~
It should be easy to add, in case someone wants to give it a try (MJCF shares the same code path as SDF, URDF).",thanks report guide easy add case someone give try code path,issue,positive,positive,positive,positive,positive,positive
449591204,"Thanks for the report. Let's use safeNormalize instead:
https://github.com/bulletphysics/bullet3/commit/7ce9ad23fb1dc3468c9ed3c443660e652f28326d",thanks report let use instead,issue,negative,positive,positive,positive,positive,positive
449573438,"Ok, i'll work on that at the beginning of next year ;)",work beginning next year,issue,negative,neutral,neutral,neutral,neutral,neutral
449548296,"Thanks for pointing out the possible solutions, I have worked around it but I shall go ahead and test the patch you suggested and then submit it as a PR",thanks pointing possible worked around shall go ahead test patch submit,issue,negative,positive,neutral,neutral,positive,positive
449244685,"Some help would be appreciated. I have made effort for some envs to be compatible with both old and new gym interfaces.
This Bullet / PyBullet projects is developed by volunteers, so if you have a contribution, that is welcome.

Also, a new example is welcome.",help would made effort compatible old new gym bullet contribution welcome also new example welcome,issue,positive,positive,positive,positive,positive,positive
449223056,"Indeed, this environment needs more work, but the project relies on volunteers to improve things. If you care, please consider improving things and submit a pull request. Thanks!",indeed environment need work project improve care please consider improving submit pull request thanks,issue,positive,positive,positive,positive,positive,positive
449222988,"Thanks Erwin,

Quite so.

In my game, I also override the btManifoldPoint's ERP and CFM, but I guess those are separate from the global value.

I Added a little Cfm to make it more stable, so I'll probably keep the globalCfm and lower the density of the shapes.",thanks quite game also override guess separate global value added little make stable probably keep lower density,issue,positive,negative,neutral,neutral,negative,negative
449222830,"Thanks for the report. It should be easy to add some acceleration structure indeed, for example using the btDbvt dynamic aabb tree. Perhaps there is already a pull request or patch somewhere.

>> Is there any plan to improve this?

This project relies purely on volunteers adding/fixing things and contributing patches. If you have time, consider adding the feature.",thanks report easy add acceleration structure indeed example dynamic tree perhaps already pull request patch somewhere plan improve project purely time consider feature,issue,positive,positive,positive,positive,positive,positive
449222218,"The b3RobotSimulatorClientAPI is some example code that isn't kept up-to-date with all features of the underlying C API. It should be easy to add the missing functionality, if you know some C/C++. The project relies on volunteers/contributors, so if you add it, please consider filing a pull request.",example code kept underlying easy add missing functionality know project add please consider filing pull request,issue,negative,positive,positive,positive,positive,positive
449216214,"Thanks for the report! The globalCFM is causing this. Comment out this line:
~~~~~~~~~~~~~~
//si.m_globalCfm = 0.015f;
~~~~~~~~~~~~~~

Or use a much smaller value of cfm. 0 is the default.",thanks report causing comment line use much smaller value default,issue,positive,positive,neutral,neutral,positive,positive
449207127,"Odd, this doesn't happen with the CPU renderer (TinyRenderer) and the OpenGL renderer. The EGL renderer is based on the OpenGL renderer, but some conversion code is different, which may cause this.",odd happen renderer renderer renderer based renderer conversion code different may cause,issue,negative,negative,neutral,neutral,negative,negative
449201977,"Good point, thanks for the report. We could check for near degenerate ax1, and if the length is close to zero, use factA=0, factB=1.
Do you mind testing that and create a patch?

Of course you can also use btMultiBody (with revolute joint, as used in [PyBullet](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) by default) or btGeneric6DofSpring2Constraint, those don't have this issue. Or change the code and use 
~~~~~~~~~~
#define HINGE_USE_FRAME_OFFSET false
~~~~~~~~~~",good point thanks report could check near degenerate ax length close zero use mind testing create patch course also use revolute joint used default issue change code use define false,issue,positive,positive,positive,positive,positive,positive
448774295,"I figured out this has to do with the lack of OpenGL in DIRECT mode -- seems like a bigger feature requirement, I can work around it for now.",figured lack direct mode like bigger feature requirement work around,issue,negative,positive,neutral,neutral,positive,positive
447068932,"2.4.1 didn't solve the issue, but switching to pybullet.ER_TINY_RENDERER did. I'll close this until I can create a small complete reproduction case.",solve issue switching close create small complete reproduction case,issue,negative,negative,neutral,neutral,negative,negative
446906968,"I have a similar error while loading a urdf using the b3RobotSimulatorClientAPI_noGUI .

I pretty much copied the code from the [example library](https://github.com/bulletphysics/bullet3/blob/master/examples/RobotSimulator/RobotSimulatorMain.cpp).

```c
    model = new b3RobotSimulatorClientAPI_NoGUI();
    connected = model->connect(eCONNECT_DIRECT);
    if (!connected)
    {
        std::cerr << ""Error: Could not connect to bullet server..."" << std::endl;
        abort();
    }

    // Config for bullet
    //model->configureDebugVisualizer(COV_ENABLE_GUI, 0);
    model->setTimeOut(10);
    model->syncBodies();

    // Set the time step
    btScalar bStepSize = 1. / 240.;
    model->setTimeStep(bStepSize);
    // Convert the gravity
    btVector3 bGravity = btVector3(0, 0, 0);
    //for (int i = 0; i < 3; i++)
    //{
    //    bGravity[i] = modelConfig[""gravity""][i].as<double>();
    //}
    model->setGravity(bGravity);
    std::cout << ""Working until load URDF"" << std::endl;
    // load the urdf
    model->loadURDF(modelFile);
    //for (int i = 0; i < 100; i++)
    //{
    //    model->stepSimulation();
    //}
    std::cout << ""Working after load URDF"" << std::endl;
```

Which leads to the following output
```
Working until load URDF
dynamics_benchmark:BULLET_INSTALL/bullet/src/LinearMath/btThreads.cpp:198: void btSpinMutex::lock(): Assertion `!""unimplemented btSpinMutex::lock() called""' failed.
Aborted (core dumped)
```

Running gdb gives:
```
Working until load URDF
dynamics_benchmark: /media/jmartensen/Data/general/research/01_benchmark/external/bullet/src/LinearMath/btThreads.cpp:198: void btSpinMutex::lock(): Assertion `!""unimplemented btSpinMutex::lock() called""' failed.

Program received signal SIGABRT, Aborted.
0x00007ffff5c89428 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:54
54	../sysdeps/unix/sysv/linux/raise.c: No such file or directory.
(gdb) quit()
A debugging session is active.
```

I am using cmake ( C++11) , Ubuntu 16.04.",similar error loading pretty much copied code example library model new connected connect connected error could connect bullet server abort bullet set time step convert gravity gravity double working load load working load following output working load void assertion aborted core running working load void assertion program received signal aborted file directory quit session active,issue,negative,positive,neutral,neutral,positive,positive
446422931,"It is not clear what is happening. Can you try out 2.4.1 (uploaded to https://pypi.org/project/pybullet/)

Otherwise, please share a small complete reproduction case.",clear happening try otherwise please share small complete reproduction case,issue,positive,negative,neutral,neutral,negative,negative
446381217,"@erwincoumans Could the revert be reverted? This would help people using CMake's ExternalProject or FetchContent that want to just include the target. Currently, one needs to patch cmakelists or manually collect include headers if he grabs the project via FetchContent, because the targets don't have exported include directories. ",could revert would help people want include target currently one need patch manually collect include project via include,issue,negative,neutral,neutral,neutral,neutral,neutral
445571030,"Hi @fgolemo, I still have this issue. Can you describe what you have done to solve the problem ?",hi still issue describe done solve problem,issue,negative,neutral,neutral,neutral,neutral,neutral
445424740,"How did you build the exe? cmake or premake? If one, can you try the other?

What OS and compiler?",build premake one try o compiler,issue,negative,neutral,neutral,neutral,neutral,neutral
445312890,"It seems I fixed by removing the bullet version 3 folders and not compiling those along version 2. Idk how that would resolve the issue but shrug. now I'm just compiling BulletCollision, BulletDynamics, BulletSoftBody, clew, LinearMath and that's it.",fixed removing bullet version along version would resolve issue shrug clew,issue,negative,positive,neutral,neutral,positive,positive
445304343,"hm except the default build_cmakee_pybullet_double.sh compile doesn't reproduce the error, this only comes when I try to compile bullet into my own engine. I guess this is an issue on my part nvm.",except default compile reproduce error come try compile bullet engine guess issue part,issue,negative,neutral,neutral,neutral,neutral,neutral
445165666,"Erwin, just had a thought about your answer and your will to not change the API at this stage: I've added a single pointer parameter at the end of the processAllTriangles() mehod:

`virtual void	processAllTriangles(btTriangleCallback* callback,const btVector3& aabbMin,const btVector3& aabbMax,const btCollisionObject* otherObject) const;`

Actually, setting the default value of that parameter to NULL won't break any existing client code at all, so the impact of that API change will likely be invisible to all users in my opinion (but I might have missed some cases of course:

`virtual void	processAllTriangles(btTriangleCallback* callback,const btVector3& aabbMin,const btVector3& aabbMax,const btCollisionObject* otherObject = NULL) const;`

Just trying to defend my case (I prefer using unmodified third-party libraries) :)",thought answer change stage added single pointer parameter end virtual void actually setting default value parameter null wo break client code impact change likely invisible opinion might course virtual void null trying defend case prefer unmodified,issue,negative,negative,neutral,neutral,negative,negative
444918829,"OK, it's a shame (for us :)) but I can understand that. Thanks for the quick answer !",shame u understand thanks quick answer,issue,negative,positive,positive,positive,positive,positive
444916874,"It is best to just maintain a modified/forked version of Bullet, I don't want to change/break the API at this stage. Thanks for sharing the patch though.",best maintain version bullet want stage thanks patch though,issue,positive,positive,positive,positive,positive,positive
444786798,I was having the same problem using `CFLAGS='-stdlib=libc++' pip install pybullet` worked for me.,problem pip install worked,issue,negative,neutral,neutral,neutral,neutral,neutral
444241787,"Thanks for the contribution! This relates to Issue #2000. If this causes a regression, we should add the option to not use INFINITY there. See https://github.com/bulletphysics/bullet3/issues/2000
",thanks contribution issue regression add option use infinity see,issue,negative,positive,positive,positive,positive,positive
444210241,"This is a GPU driver issue, we cannot fix it. Let's close the issue.",driver issue fix let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
443963081,"Thanks for your reply! The weird thing is that when I tried to run the pybullet example files, it still gives me that white screen...

<img width=""800"" alt=""screen shot 2018-12-03 at 10 59 35 pm"" src=""https://user-images.githubusercontent.com/11905844/49418276-50826500-f74f-11e8-8062-c3ed942e2d86.png"">

However, after I resize the window (accidentally), the example browser seems to be triggered/refreshed and everything works like a charm.

I'm not sure what's the reason for this but just wanna drop some notes here in case someone encounters the similar question in the future.

<img width=""800"" alt=""screen shot 2018-12-03 at 11 02 06 pm"" src=""https://user-images.githubusercontent.com/11905844/49418362-c686cc00-f74f-11e8-9daf-e27d47a27551.png"">

Thanks.",thanks reply weird thing tried run example still white screen screen shot however resize window accidentally example browser everything work like charm sure reason wan na drop case someone similar question future screen shot thanks,issue,positive,positive,neutral,neutral,positive,positive
443947163,"I had the similar issue on Windows 10, Anaconda. I created a virtual environment with python version 3.5.3, then installed pybullet. 

    conda create --name pybulletenv python=3.5.3
    conda activate 
    pip install pybullet
",similar issue anaconda virtual environment python version create name activate pip install,issue,negative,neutral,neutral,neutral,neutral,neutral
443862825,"The quickstart guide is super confusing right now. It is too long and reads like a documentation rather than a ""quick"" start. Some examples on running the pre-shipped example from `pip install` is greatly appreciated.",guide super right long like documentation rather quick start running example pip install greatly,issue,positive,positive,positive,positive,positive,positive
443380447,"This is expected. You need to call 'stepSimulation' or other PyBullet command to refresh drawing on Mac OSX. Problem on Mac OSX is that OpenGL commands HAVE to be send from the main thread. Python is the main thread. See the problem?

Add the following for example:

~~~~~~~~~~
import pybullet
pybullet.connect(pybullet.GUI)
while (pybullet.isConnected()):
  pybullet.stepSimulation()
~~~~~~~~~~

Instead of the 'stepSimulation' you can use most other pybullet commands, in the while loop.
",need call command refresh drawing mac problem mac send main thread python main thread see problem add following example import instead use loop,issue,negative,positive,positive,positive,positive,positive
443132537,"I solved this problem.
My own URDF file's **mesh file** is wrong. 
I usually use ""123D Design"" to make STL.  If I change the application to ""Fusion 360"", there is no error in bullet.

Thank you your advice!",problem file mesh file wrong usually use design make change application fusion error bullet thank advice,issue,negative,negative,negative,negative,negative,negative
443091152,"Thanks for the quick response!

You were right, I tested with another client laptop and this time it did work, although it was super slow (I guess that's just the limitations of SSH).

The TCP or UDP solution sounds interesting. I'm not too familiar with this stuff, do you happen to have an example which I can refer to?

My local laptop isn't as powerful as the server so I wanted to offload all the computing to it and to only visualize the GUI on my laptop. It's also a shared lab computer so I wanted to avoid using it remotely.

Yup, it's for running reinforcement learning experiments. Dumping images could be an alternative, but I was kind of hoping for a solution which allowed a ""live stream"" of the GUI. ",thanks quick response right tested another client time work although super slow guess solution interesting familiar stuff happen example refer local powerful server visualize also lab computer avoid remotely running reinforcement learning dumping could alternative kind solution live stream,issue,positive,positive,positive,positive,positive,positive
443053482,"Merged. Also, pip install pybullet at version 2.4.0 has the improvement.",also pip install version improvement,issue,negative,neutral,neutral,neutral,neutral,neutral
443040131,"I just noticed your effort here, adding PyBullet to spinning up.
https://github.com/openai/spinningup
Let me know how that goes, and if I can help :-)",effort spinning let know go help,issue,negative,neutral,neutral,neutral,neutral,neutral
443036592,"Amazing, I'll be watching for the merge to come through, thanks so much!",amazing watching merge come thanks much,issue,positive,positive,positive,positive,positive,positive
443035741,"See https://github.com/bulletphysics/bullet3/pull/2013
this helps with 'box', 'sphere', 'cylinder' and 'capsule' visual shapes (capsule is non-standard URDF)
~~~~~~~~~~~~
<capsule length=""0.1"" radius=""0.02""/>
~~~~~~~~~~~",see visual capsule capsule,issue,negative,neutral,neutral,neutral,neutral,neutral
443028717,"I'll add support for textured box, sphere and capsule, as URDF box/sphere/capsule primitive.",add support box sphere capsule primitive,issue,negative,neutral,neutral,neutral,neutral,neutral
443024893,"@erwincoumans Creating the cube.obj and cube.mtl are significant extra steps, but I guess there is no way to anchor the texture without using an obj mesh, so this is expected behavior? It would just be nice to have a simpler single file format.",significant extra guess way anchor texture without mesh behavior would nice simpler single file format,issue,positive,positive,positive,positive,positive,positive
443019254,"See https://github.com/bulletphysics/bullet3/blob/master/data/cube.urdf
The visual shape has a Wavefront obj with textures, while the collision shape is a non-mesh box.

We could/should generate a textured visual shape for non-meshes indeed.

For collision spheres and capsules, if you remove the entire 'visual' element, it will convert to a textured sphere/capsule. We should do the same for cubes.

Let me find some time to fix this.",see visual shape collision shape box generate visual shape indeed collision remove entire element convert let find time fix,issue,negative,neutral,neutral,neutral,neutral,neutral
443015100,"We use PyBullet in GUI mode over Remote Chrome Desktop with a GPU driver that supports OpenGL 3.2+. It looks like your driver only supports GL_VERSION=1.4 , which is not sufficient.

--opengl2 may not be fully supported by your driver. Try getting a full callstack (debug build), or add printf to check out where the crash happens.

I also ran the PyBullet client remotely and connect to a local PyBullet server, and connect over TCP or UDP over an ssh tunnel, but then your assets needs to be available locally as well (URDF, obj etc).

One future solution would be to have a headless server running on a remote server, and then connect a local PyBullet GUI client to a running server, remotely, and stream the assets from server to local client. Still, that implies you can run PyBullet locally on your laptop. If you can run PyBullet on your laptop, why not run it locally? 

Is this for reinforcement learning, checking the progress?
You can run headless and use the simpler CPU renderer (TinyRenderer) and dump images now-and-then, for debugging?
",use mode remote chrome driver like driver sufficient may fully driver try getting full build add check crash also ran client remotely connect local server connect tunnel asset need available locally well one future solution would headless server running remote server connect local client running server remotely stream asset server local client still run locally run run locally reinforcement learning progress run headless use simpler renderer dump,issue,positive,positive,neutral,neutral,positive,positive
442664581,"I just installed conda conda 4.5.11 with python 3.7 and pip install pybullet works without issue.
It is not clear why some Mac OSX machines don't have conda/python/clang/xcode setup properly.

Here is another possible solution:
https://stackoverflow.com/questions/33738885/python-setuptools-not-including-c-standard-library-headers

~~~~~~~~~~~~~~~
CFLAGS='-stdlib=libc++' pip install pybullet
~~~~~~~~~~~~~~~

And one more thing to try:
~~~~~~~~~~~~~~
sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer
~~~~~~~~~~~~~~",python pip install work without issue clear mac setup properly another possible solution pip install one thing try,issue,negative,positive,neutral,neutral,positive,positive
442618570,"I'm currently looking to extend BulletInverseDynamics with spherical joints and add stable PD control, but it is takes some time.

DeepMimic Stable PD control is here:
https://github.com/xbpeng/DeepMimic/blob/master/DeepMimicCore/sim/ImpPDController.cpp#L136

Its inverse dynamics is here:
https://github.com/xbpeng/DeepMimic/blob/master/DeepMimicCore/sim/RBDUtil.cpp",currently looking extend spherical add stable control time stable control inverse dynamic,issue,positive,neutral,neutral,neutral,neutral,neutral
442616028,"This is cool.  My interest in the N term was because I wanted to experiment with stable PD control, as opposed to regular PD control, in PyBullet.  And, that interest was due to reading about them in the DeepMimic paper.

So I'm doubly happy.",cool interest term experiment stable control opposed regular control interest due reading paper doubly happy,issue,positive,positive,positive,positive,positive,positive
442551733,">> hm I'm unable to replicate with the 3000 box demo

As soon as you can create the issue in BulletExampleBrowser we can look at it. Otherwise it is likely related to code inside Godot.",unable replicate box soon create issue look otherwise likely related code inside,issue,negative,negative,negative,negative,negative,negative
442517352,"yes it would seem the world is configured to use btDbvBroadphase. 
```
	dispatcher = bulletnew(GodotCollisionDispatcher(collisionConfiguration));
	broadphase = bulletnew(btDbvtBroadphase);
	solver = bulletnew(btSequentialImpulseConstraintSolver);

	if (p_create_soft_world) {
		dynamicsWorld = new (world_mem) btSoftRigidDynamicsWorld(dispatcher, broadphase, solver, collisionConfiguration);
		soft_body_world_info = bulletnew(btSoftBodyWorldInfo);
	} else {
		dynamicsWorld = new (world_mem) btDiscreteDynamicsWorld(dispatcher, broadphase, solver, collisionConfiguration);
	}```",yes would seem world use dispatcher solver new dispatcher solver else new dispatcher solver,issue,negative,positive,positive,positive,positive,positive
442511275,"I assume you/Godot are using the btDbvtBroadphase (please double-check!), dealing with AABB-level culling. If you add or remove objects, the acceleration structures is updated immediately, not just when they move.

You can use the broadphase raytest and aabb overlap test, which is much faster.

Good luck figuring out why your setup is slow and the Bullet ExampleBrowser demo isn't.",assume please dealing culling add remove acceleration immediately move use overlap test much faster good luck setup slow bullet,issue,positive,positive,positive,positive,positive,positive
442495361,"er yes, by random i mean I shift the transform position by +3,+3 eahc time i add, and the shape only has a 0.4 radius so they shouldn't be overlapping.

But what I don't understand, is bullet actually evaluating collisions / overlap each time I create a new object and add to the world? why wouldn't that just happen in the next physics step?

On a side-tangent @erwincoumans , let's say I have 3000 agents and I just want to test ray-traces and areas on the AABB, but have no need for the precision of evaulating a collision shape. I currently do a collision box shape, is there a way for bullet3 to do just aabb collision objects without a shape so as to achieve a potential speedup?",er yes random mean shift transform position time add shape radius understand bullet actually overlap time create new object add world would happen next physic step let say want test need precision collision shape currently collision box shape way bullet collision without shape achieve potential,issue,negative,negative,neutral,neutral,negative,negative
442487186,"So try to figure out what the difference is. What are the object sizes and collision shape types?

Make sure to not add objects near each-other, instead of random, add them in a grid so that they are surely not overlapping when adding: 

If you add 3000 objects in the same location, you will get  9 million overlapping pairs, potentially resulting in over 40 million contact points etc. ",try figure difference object size collision shape make sure add near instead random add grid surely add location get million potentially resulting million contact,issue,negative,positive,positive,positive,positive,positive
442456926,hm I'm unable to replicate with the 3000 box demo. I changed the dynamic rigid bodies to static and changed func to addCollisionObject but the demo still loads fast...,unable replicate box dynamic rigid static still fast,issue,negative,positive,neutral,neutral,positive,positive
442449899,"I did create them all in the same location. cause i was doing create 3000 objects, then iterate over them to transform. I updated the code to add a random transofrm when creating the 3000 objects, and now the delay still increases linearly, but slower this time (200 microsec at the end instead of 900 microsec). ",create location cause create iterate transform code add random delay still linearly time end instead,issue,negative,negative,negative,negative,negative,negative
442375754,"batch add object would be useful in upbge as well, I need it for terrain
tiles loading in all their content as the tile loads in.

your sure the time is not coming from rebuilding the scenegraph?

On Tue, Nov 27, 2018 at 10:35 PM erwincoumans <notifications@github.com>
wrote:

> Do you create them all at the same location? The Bullet Example Browser
> has some example with 1000 objects, it shouldn't take that long. Recreate
> the issue in the ExampleBrowser, then we can check it.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/2009#issuecomment-442336129>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WS84uBx-COXNumKCu5Ss4InfX04zks5uzi6WgaJpZM4Y25o0>
> .
>
",batch add object would useful well need terrain loading content tile sure time coming tue wrote create location bullet example browser example take long recreate issue check thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
442367013,"I use the URDF file named ""plane100.urdf"" included pybullet_data.
> Is there any warning in the console while loading the URDF?
No. There is only that error.

>You could only load the URDF and saveState, and then use restoreState instead?
I want to load a target URDF at random after saveState, so I think it's difficult to use saveState and restoreState.

Here is my project. Please give me advises.
[my_project.zip](https://github.com/bulletphysics/bullet3/files/2623357/my_project.zip)
",use file included warning console loading error could load use instead want load target random think difficult use project please give,issue,negative,negative,negative,negative,negative,negative
442336129,"Do you create them all at the same location? The Bullet Example Browser has some example with 1000 objects, it shouldn't take that long. Recreate the issue in the ExampleBrowser, then we can check it.",create location bullet example browser example take long recreate issue check,issue,negative,negative,neutral,neutral,negative,negative
442167416,"Thanks for helping out. This is surely not  PyBullet issue but a MacOS +Python/conda+clang issue. You couls try compile from source using git clone this repo, then run python setup.py build and python setup.py install --user from the Bullet source tree root.",thanks helping surely issue issue try compile source git clone run python build python install user bullet source tree root,issue,positive,positive,positive,positive,positive,positive
442158707,"I have resolved this issue, it may be that you are using the anaconda distribution of python, you can check what python you are using by typing

which python

into the terminal. Changing the python to the version that I downloaded from python.org works for me. Also maybe using pip3 install would help.

Please let me know if this works, I got really frustrated when I was installing it, so I REALLY want to help you out!
",resolved issue may anaconda distribution python check python python terminal python version work also maybe pip install would help please let know work got really really want help,issue,positive,positive,positive,positive,positive,positive
442158066,"I installed it in a virtual environment without conda. It worked

On Tue, Nov 27, 2018, 1:01 PM Samuel Rohr <notifications@github.com wrote:

> I am facing the same problem.
> macOS Mojave
> Python 3.6
> Conda 4.4.10
> Xcode 10.1
>
> Already tried remove the xcode_select tools e reinstall.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1921#issuecomment-442157206>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ATMRvW8V4q_5fPzRYGqAkHf14xJ_4tA3ks5uzX30gaJpZM4XPfGZ>
> .
>
",virtual environment without worked tue wrote facing problem python already tried remove reinstall reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
442157206,"I am facing the same problem.
macOS Mojave
Python 3.6
Conda 4.4.10
Xcode 10.1

Already tried remove the xcode_select tools e reinstall.",facing problem python already tried remove reinstall,issue,negative,neutral,neutral,neutral,neutral,neutral
442136049,"Re-opened for others who may be interested:

I'm currently re-implementing DeepMimic in PyBullet and for stable PD control also need the N (or C, gravity) term. [DeepMimic](https://xbpeng.github.io/projects/DeepMimic/index.html) also uses Bullet, but it implements its own inverse dynamics and stable PD control, using those terms.
You should be able to get the N term using pybullet.calculateInverseDynamics and setting the target acceleration to zero vector:

N(q,qdot) = p.calculateInverseDynamics(objUid, q, qdot, zeroAcc)
I just added a [PR fix](https://github.com/bulletphysics/bullet3/pull/2007) to allow calculateInverseDynamics for floating bodies (it was only supporting fixed-base bodies with joints).

The contact forces are available too, after stepSimulation. Use pybullet.getContactPoints, and see the [quickstart guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.cb0co8y2vuvc) for the applied force field.

The only remaining thing would be to expose the non-contact constraint forces (motors, limits etc) as well.",may interested currently stable control also need gravity term also bullet inverse dynamic stable control able get term setting target acceleration zero vector added fix allow floating supporting contact available use see guide applied force field thing would expose constraint well,issue,positive,positive,positive,positive,positive,positive
442101763,"Something could be wrong with the URDF. Is there any warning in the console while loading the URDF?
You could only load the URDF and saveState, and then use restoreState instead?
Please share a full project including all assets (URDF, obj/stl, textures etc) if you are still stuck.",something could wrong warning console loading could load use instead please share full project asset still stuck,issue,negative,negative,neutral,neutral,negative,negative
441597569,"@BluePrintRandom You mind explaining things a bit more, many of the terms you are using are flying over my head and like that of others?

Also, the question that was asked hasn't yet be answered. :)",mind explaining bit many flying head like also question yet,issue,negative,positive,positive,positive,positive,positive
441565582,"Using a sensor sphere test VS simplified bounds should return the shapes
the capsule could be colliding with

Only checking this data would remove much of your itteration

In upbge we recently setup bvhtree so we can use it to get overlaps quickly.
(so simplified bounds check yields potential collision bodies, and bvhtree
returns overlapping leaves)

On Nov 25, 2018 9:10 PM, ""Andrei Kortunov"" <notifications@github.com> wrote:

Currently in OpenMW we use the Bullet for collision detection.
Basically, we have a btCollisionWorld with a lot of static compound shapes
(based on triangles) and couple of dozens of dynamic moving actors (which
use capsules or box shapes).
To detect collisions, we iterate over actors and use the convexSweepTest
for every actor in the single thread.
With many actors in area or with not fast CPU performance can be pretty low.

Is there a correct way to batch convexSweepTests?
I found this
<https://www.reddit.com/r/gamedev/comments/7nv541/bullet_physics_and_multiple_threads/>
thread on Reddit, where user built Bullet with the
DBULLET2_USE_THREAD_LOCKS=ON and just executed convexSweepTest in different
threads, but I do not know if it is a proper solution.

—
You are receiving this because you are subscribed to this thread.
Reply to this email directly, view it on GitHub
<https://github.com/bulletphysics/bullet3/issues/2004>, or mute the thread
<https://github.com/notifications/unsubscribe-auth/AG25WWX2hp5JX26wQ3fP-O5-ZfNfSFK5ks5uy3ffgaJpZM4YyVZD>
.
",sensor sphere test simplified return capsule could data would remove much recently setup use get quickly simplified check potential collision leaf wrote currently use bullet collision detection basically lot static compound based couple dynamic moving use box detect iterate use every actor single thread many area fast performance pretty low correct way batch found thread user built bullet executed different know proper solution thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
441498067,I see! Just create another thread.,see create another thread,issue,negative,neutral,neutral,neutral,neutral,neutral
441401997,Fixed in main development branch.,fixed main development branch,issue,negative,positive,positive,positive,positive,positive
441395645,Added an option to use infinite constraint error by setting BT_6DOF_FLAGS_USE_INFINITE_ERROR in m_flags of 6DofSpring2 constraint.,added option use infinite constraint error setting constraint,issue,negative,neutral,neutral,neutral,neutral,neutral
441159163,"Upgrade your GPU drivers, or add a proper discrete GPU in your machine.",upgrade add proper discrete machine,issue,negative,neutral,neutral,neutral,neutral,neutral
441015082,"I found the issue. You must enable the dynamic AABB tree on both compound shapes. Otherwise `btCompoundCompoundCollisionAlgorithm::getAllContactManifolds` will return 0 since no manifolds are added to the cache because of the btDvbt null checks in `btCompoundCompoundCollisionAlgorithm::processCollision`.

I didn't have the AABB tree enabled if there was only one child shape (to transform the child shape).

Bug is still open and needs a fix to `btCompoundCompoundCollisionAlgorithm::getAllContactManifolds`.",found issue must enable dynamic tree compound otherwise return since added cache null tree one child shape transform child shape bug still open need fix,issue,negative,neutral,neutral,neutral,neutral,neutral
440940554,"xcode-select --install gives the following output -
xcode-select: error: command line tools are already installed, use ""Software Update"" to install updates

I am not sure what else I can try to make this work. Do you have any other ideas? Thanks in advance!",install following output error command line already use update install sure else try make work thanks advance,issue,negative,positive,positive,positive,positive,positive
440906197,"your c++ environment is not properly setup.
Try 
-------------
xcode-select --instal
-------------
or google for missing std c++ headers on mac ox",environment properly setup try missing mac ox,issue,negative,negative,neutral,neutral,negative,negative
440889891,"This link has the full error when I do pip install pybullet in conda 4.4.11, Python 3.6.3. https://docs.google.com/document/d/1DlFLc9sz-SsJh1lD918Yg2WykNiFtMTKzsY_JGf9evc/edit?usp=sharing
I am working on MacOS Mojave as well",link full error pip install python working well,issue,negative,positive,positive,positive,positive,positive
440526738,"We've not experienced issues regarding this, let's close it.",experienced regarding let close,issue,negative,positive,positive,positive,positive,positive
440521430,Are there still issues? Are you still going to work on them?,still still going work,issue,negative,neutral,neutral,neutral,neutral,neutral
440426564,"Thanks for tracking this down, Bram!

>>so it is much simpler (and more robust) just to simply use inf (with the proper sign)

There may be cases where using +/- INF is more robust according to the comment, although I don't have a specific case for this. I asked Gabor, who wrote this, for feedback.
It would be nice to add an option to the constraint to enable/disable this, just in case someone finds a regression.

~~~~~~~~~~~~
		// after the spring force affecting the body(es) the new velocity will be
		// vel + f / m * (rotational ? -1 : 1)
		// so in theory this should be set here for m_constraintError
		// (with m_constraintError we set a desired velocity for the affected body(es))
		// however in practice any value is fine as long as it is greater then the ""proper"" velocity,
		// because the m_lowerLimit and the m_upperLimit will determinate the strength of the final pulling force
		// so it is much simpler (and more robust) just to simply use inf (with the proper sign)
		// you may also wonder what if the current velocity (vel) so high that the pulling force will not change its direction (in this iteration)
		// will we not request a velocity with the wrong direction ?
		// and the answare is not, because in practice during the solving the current velocity is subtracted from the m_constraintError
		// so the sign of the force that is really matters
#if 0
		info->m_constraintError[srow] = (rotational ? -1 : 1) * (f < 0 ? -SIMD_INFINITY : SIMD_INFINITY);
#else
		// Using infinite constraints makes the damping not work, and oscillate for ever.
		info->m_constraintError[srow] = vel + f / m * (rotational ? -1 : 1);
#endif
~~~~~~~~~~~~",thanks much simpler robust simply use proper sign may robust according comment although specific case wrote feedback would nice add option constraint case someone regression spring force affecting body e new velocity rotational theory set set desired velocity affected body e however practice value fine long greater proper velocity determinate strength final force much simpler robust simply use proper sign may also wonder current velocity high force change direction iteration request velocity wrong direction practice current velocity sign force really rotational else infinite damping work oscillate ever rotational,issue,positive,positive,positive,positive,positive,positive
440388378,"I've added the fix to this pull request.
This change contains:
* modified demo to show issue.
* fix for #2000 issue.",added fix pull request change show issue fix issue,issue,negative,neutral,neutral,neutral,neutral,neutral
440387243,"Ha! I found the bug in Bullet's constraint solver, and fixed it.

The hack with +/- infinite constraints is what caused it. I removed it, and now both 6Dof and Hinge2 joints are working properly.

Will submit pull rq.",ha found bug bullet constraint solver fixed hack infinite removed hinge working properly submit pull,issue,negative,positive,neutral,neutral,positive,positive
439576158,LGTM. sometimes the appveyor errors due to copying file. A quick close/re-open will trigger CI.,sometimes due file quick trigger,issue,negative,positive,positive,positive,positive,positive
439156570,"yeah, we just need to add those definitions to a cmake variable and then put it between `@` characters in the `.pc` template",yeah need add variable put template,issue,negative,neutral,neutral,neutral,neutral,neutral
439155659,"Thanks Steven. Is there also a way to add the necessary preprocessor definitions in pkg-config, such as BT_THREAD_SAFE, DBT_USE_TBB etc? I guess DBT_USE_TBB isn't needed on the client-app side, but BT_USE_DOUBLE_PRECISION definitely is needed for the app , if set on the library.
(I never used pkg-config, it was a contribution)",thanks steven also way add necessary guess side definitely set library never used contribution,issue,positive,positive,neutral,neutral,positive,positive
439154191,@stolk does https://github.com/scpeters/bullet3/commit/cf90a52b370d7944edec050d9f79fa533f112a30 work? I'll submit a pull request if so,work submit pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
438901085,"Of course it should only show up as a dep for the app when bullet it built against it.

CMake already correctly searches for libtbb, if you ask for TBB, and will report failure if the lib is not there.

It's a really minor thing, but the point is: if bullet uses tbb, it would be best if pkg-config knew about this.

That way, you can simply link your app with `pkg-config --libs bullet` and regardless how bullet was configured, it will always work if you use pkg-config.

But again: really minor thing. I'll take a quick look at how the pkg-config is generated, and if it is easy to dynamically augment the deps, depending on CMake's flags.",course show bullet built already correctly ask report failure really minor thing point bullet would best knew way simply link bullet regardless bullet always work use really minor thing take quick look easy dynamically augment depending,issue,positive,positive,positive,positive,positive,positive
438891312,"We don't enable multithreading/tbb by default, and I don't want to make it a hard dependency.
Is there anything we can do to allow for tbb, but not fail if the user doesn't use it/have it not installed?",enable default want make hard dependency anything allow fail user use,issue,negative,negative,negative,negative,negative,negative
438477519,"> Whoa, is that just track the mocap clip? And it's able to successfully perform a cartwheel?! Is the root being actuated at all? Yea, it will probably be a lot faster if I switch over to the motors. The implicit PD controller is currently eating up a lot of time.

Joint angles are tracked by the motors. The base is kinematically reset using 'resetBasePositionAndOrientation.
Code here: https://github.com/erwincoumans/bullet3/blob/master/examples/pybullet/examples/humanoidMotionCapture.py",whoa track clip able successfully perform root yea probably lot faster switch implicit controller currently eating lot time joint tracked base kinematically reset code,issue,negative,positive,positive,positive,positive,positive
438240173,"Sorry, i found solution before. But I found this case again with smaller rates of happening.
I doing this
- create a method to predict future position at dt
- raycasting from current into predicted position
- if true, current position set into P = raycast point - ball radius * displacement.normalize)

calculation on contact point (collision, etc) still calculated by library on simulationStep().

@BluePrintRandom yes, please.",sorry found solution found case smaller happening create method predict future position current position true current position set point ball radius calculation contact point collision still calculated library yes please,issue,positive,negative,neutral,neutral,negative,negative
438145846,"Thanks for the demo! 
I noticed a camera issue (ok after reset), but that is an issue with the benchmark demo. There is another issue when calling 'initializePolyhedralFeatures': the demo shows visible penetration, since there is a difference between collision shape and graphics shape. This should be fixed in this commit: https://github.com/bulletphysics/bullet3/pull/1990",thanks camera issue reset issue another issue calling visible penetration since difference collision shape graphic shape fixed commit,issue,negative,positive,positive,positive,positive,positive
437735757,"We use Ubuntu all the time (14.04, 16.04 and 18.04) and never seen any of those issues. Odd, but we cannot test/support all possible combinations.
You may want to just download/checkout Bullet source code and in the root run 
~~~~~~~~~~
sudo python setup.py install
python3 setup.py install --user
~~~~~~~~~~
If that doesn't work, try using attached setup.zip (unzip in root and install using of the lines above, modify if needed with/without sudo, --user etc.)
[setup.zip](https://github.com/bulletphysics/bullet3/files/2570343/setup.zip)
",use time never seen odd possible may want bullet source code root run python install python install user work try attached root install modify user,issue,negative,negative,neutral,neutral,negative,negative
437646373,"However, this error still occurs. But I think the btRaycastVehicle.cpp is useful for me.",however error still think useful,issue,negative,positive,positive,positive,positive,positive
437421371,"Thanks Bram, I'll check it out soon. We should be able to increase the SAT performance much, but have lots of more important (from our perspective) work, related to [PyBullet](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3).",thanks check soon able increase sat performance much lot important perspective work related,issue,positive,positive,positive,positive,positive,positive
437126669,"Great, thanks for testing. I'll fix it.",great thanks testing fix,issue,positive,positive,positive,positive,positive,positive
437124460,Tried on both Ubuntu 18 and MacOS Mojave with that setup file. It installs nice and fast.,tried setup file nice fast,issue,negative,positive,positive,positive,positive,positive
437089388,"@youssefzaky could you try attached zipfile? It applies a workaround suggested by @pipriles 

[setup.zip](https://github.com/bulletphysics/bullet3/files/2562856/setup.zip)
~~~~~~~~~~~~~~~~~~
git clone https://github.com/bulletphysics/bullet3
cd bullet3
unzip ~/Downloads/setup.zip
python setup build
python setup install --user
~~~~~~~~~~~~~~~~~~

(Monkey patch is much faster, often compiles all in less than 1 minute)",could try attached git clone bullet python setup build python setup install user monkey patch much faster often le minute,issue,negative,positive,neutral,neutral,positive,positive
437081863,I've had the same issue on MacOS mojave and Ubuntu 18. It works after removing that monkey patch,issue work removing monkey patch,issue,negative,negative,neutral,neutral,negative,negative
436930855,I have the similar problem about the raycastvehicle. We can discuss it together. The computing method  of vehicle side impulse may be not correct. ,similar problem discus together method vehicle side impulse may correct,issue,negative,neutral,neutral,neutral,neutral,neutral
436739774,"> Thanks for the update. Did you use changeDynamics(bodyUid, linkIndex, linearDamping=0, angularDamping=0)?

No. That function would change the link damping while I need to change the joint damping. There seems to be no direct way to do that in pybullet so I just changed the URDF. ",thanks update use function would change link damping need change joint damping direct way,issue,negative,positive,positive,positive,positive,positive
436717678,This comes from the effect of joint damping. Setting the joint damping to zero or adding an additional damping compensation term to the controller solves the problem.,come effect joint damping setting joint damping zero additional damping compensation term controller problem,issue,negative,neutral,neutral,neutral,neutral,neutral
435487932,"Yes, I can have a look. I'm a bit surprised it works for the debug viewer though.",yes look bit work viewer though,issue,negative,neutral,neutral,neutral,neutral,neutral
435441381,"Well, the eglPlugin is your contribution. Can you help fixing the issue?",well contribution help fixing issue,issue,positive,neutral,neutral,neutral,neutral,neutral
435440187,"Yes, you can add a gear constraint, relating two joints (angle_joint and knee joint).
See https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/racecar_differential.py for an example of gear constraint.  You can also add the 'erp' to enable positional error correction, so the gear constraint doesn't drift over time.

In addition, you can 'setJointMotorControl2' on the knee_to_shin joint, and configure the maxForce and other parameters.",yes add gear constraint two knee joint see example gear constraint also add enable positional error correction gear constraint drift time addition joint configure,issue,negative,neutral,neutral,neutral,neutral,neutral
435424387,"Cannot reproduce it, please become more familiar with MSVC and C++.",reproduce please become familiar,issue,negative,positive,positive,positive,positive,positive
435419877,"setRealTimeSimulation just periodically calls the 'stepSimulation' at regular intervals from a separate thread. In DIRECT mode there is no other thread, so you need to call stepSimulation. No need to change 'setTimeStep'.

Please stop filing issues with questions.
Thanks!",periodically regular separate thread direct mode thread need call need change please stop filing thanks,issue,negative,positive,positive,positive,positive,positive
435336693,"If i try to reproduce it with a dummy function:

```python
In [10]: def test(objs):
    ...:     list(mp.ThreadPool(8).imap(fn, objs))
    ...:     return objs
```

And then calling it and doing `Ctrl + C` to see where it hangs...

```ipython
----> 1 test([1, 2, 3])

<ipython-input-24-bfcf20059a93> in test(objs)
      1 def test(objs):
----> 2     list(mp.ThreadPool(8).imap(fn, objs))
      3     return objs

/usr/lib/python3.7/multiprocessing/pool.py in next(self, timeout)
    761                 if self._index == self._length:
    762                     raise StopIteration from None
--> 763                 self._cond.wait(timeout)
    764                 try:
    765                     item = self._items.popleft()
```",try reproduce dummy function python test list return calling see test test test list return next self raise none try item,issue,negative,neutral,neutral,neutral,neutral,neutral
435328741,"Hello!
I think it has to do something with python internally, because i have changed the line where you iterate the lazy imap from pool using a list constructor with a for and it worked...

```python
# monkey-patch for parallel compilation
import multiprocessing
import multiprocessing.pool
def parallelCCompile(self, sources, output_dir=None, macros=None, include_dirs=None, debug=0, extra_preargs=None, extra_postargs=None, depends=None):
    # those lines are copied from distutils.ccompiler.CCompiler directly
    macros, objects, extra_postargs, pp_opts, build = self._setup_compile(output_dir, macros, include_dirs, sources, depends, extra_postargs)
    cc_args = self._get_cc_args(pp_opts, debug, extra_preargs)
    # parallel code
    N = 2*multiprocessing.cpu_count()# number of parallel compilations
    def _single_compile(obj):
        try: src, ext = build[obj]
        except KeyError: return
        self._compile(obj, src, ext, cc_args, extra_postargs, pp_opts)
    # convert to list, imap is evaluated on-demand
    # list(multiprocessing.pool.ThreadPool(N).imap(_single_compile,objects))
    pool = multiprocessing.pool.ThreadPool(N)
    for x in pool.imap(_single_compile, objects): pass
    return objects
import distutils.ccompiler
distutils.ccompiler.CCompiler.compile=parallelCCompile
```

Edit:
Well now it is even more weird, if i change to:

```python
# monkey-patch for parallel compilation
import multiprocessing
import multiprocessing.pool
def parallelCCompile(self, sources, output_dir=None, macros=None, include_dirs=None, debug=0, extra_preargs=None, extra_postargs=None, depends=None):
    # those lines are copied from distutils.ccompiler.CCompiler directly
    macros, objects, extra_postargs, pp_opts, build = self._setup_compile(output_dir, macros, include_dirs, sources, depends, extra_postargs)
    cc_args = self._get_cc_args(pp_opts, debug, extra_preargs)
    # parallel code
    N = 2*multiprocessing.cpu_count()# number of parallel compilations
    def _single_compile(obj):
        try: src, ext = build[obj]
        except KeyError: return
        self._compile(obj, src, ext, cc_args, extra_postargs, pp_opts)
    # convert to list, imap is evaluated on-demand
    pool = multiprocessing.pool.ThreadPool(N)
    list(pool.imap(_single_compile, objects))
    return objects
import distutils.ccompiler
distutils.ccompiler.CCompiler.compile=parallelCCompile
```
It also works...",hello think something python internally line iterate lazy pool list constructor worked python parallel compilation import import self copied directly build parallel code number parallel try build except return convert list list pool pas return import edit well even weird change python parallel compilation import import self copied directly build parallel code number parallel try build except return convert list pool list return import also work,issue,negative,negative,neutral,neutral,negative,negative
435215313,"Somehow missed this issue report. The 'package://' prefix needs to be removed. Also, simplified the STL meshes (Blender decimation at 0.1) and added PyBullet script:

See cassie.py at https://github.com/erwincoumans/pybullet_robots

<img width=""1016"" alt=""cassie"" src=""https://user-images.githubusercontent.com/725468/47884757-489d7100-ddef-11e8-9ed8-16c73583911d.png"">
",somehow issue report prefix need removed also simplified blender decimation added script see cassie,issue,negative,neutral,neutral,neutral,neutral,neutral
435183709,"> By default, we don't programmatically create things in PyBullet/robotics, but we load from URDF. I would focus on that too, because creating programmatically is very hard and error-prone

Ah right, I never mentioned, this is a game oriented project. I'm going to use all the pre-defined shapes (say, capsules are popular for modelling player entities, spheres and boxes are useful low poly approximations for a lot of things), plus whatever convex mesh I need (for which I needed the new API to make collision shapes out of vertex lists). The format for storing these things will be most probably be custom and/or some widely used format for 3D data (fbx, collada, maybe obj who knows).

I haven't got that far yet but I'm also planning on using Bullet for trigger zones and hit boxes, which can be used for raycasting (or enter/leave events) but don't necessarily ""collide"" with normal stuff, so I am probably also going to make use of the collision masks you expose through a plugin for the C API.

I wont probably touch the ""visual"" API at all given I have my own renderer.

I know the API is robotics focused but I'm hoping it will be enough for my use case, mine is a hobby project so I don't need AAA game performance/flexibility out of it, just the usual things for a first person game. Of course it'd be nice to have a ""full"" Bullet C API and use that instead but given Bullet is a mature project and a direct C API doesn't exists, I gather it isn't a priority or there isn't enough interest or time to do it so I don't mind.

> An alternative is wrapping the b3RobotSimulatorClientAPI_NoDirect.h API, this C++ API already has most of the stuff implemented, on top of the C API.

Thanks for the suggestion, I'm exclusively using the C API directly here because LWJGL's author has been kind enough to do bindings for it. He doesn't does C++ bindings, and I'm not really into that sort of project to do it on my own.",default programmatically create load would focus programmatically hard ah right never game project going use say popular player useful low poly lot plus whatever convex mesh need new make collision vertex format probably custom widely used format data maybe got far yet also bullet trigger hit used necessarily collide normal stuff probably also going make use collision expose wont probably touch visual given renderer know enough use case mine hobby project need game usual first person game course nice full bullet use instead given bullet mature project direct gather priority enough interest time mind alternative wrapping already stuff top thanks suggestion exclusively directly author kind enough really sort project,issue,positive,positive,positive,positive,positive,positive
435033015,"realTimeSimulation gets updated from a separate thread, hence not available in DIRECT.",separate thread hence available direct,issue,negative,positive,positive,positive,positive,positive
434947737,"> changeConstraint doesn't change the position. You need to step the simulation (stepSimulation). Did you do that?

Problem solved，thank you!",change position need step simulation problem,issue,negative,neutral,neutral,neutral,neutral,neutral
434930212,"Is fixed soon anyway, thanks for the report: https://github.com/bulletphysics/bullet3/commit/9e58a217324d555bb11eb5194825906f977c82e6",fixed soon anyway thanks report,issue,negative,positive,positive,positive,positive,positive
434920772,changeConstraint doesn't change the position. You need to step the simulation (stepSimulation). Did you do that?,change position need step simulation,issue,negative,neutral,neutral,neutral,neutral,neutral
434905733,"By default, we don't programmatically create things in PyBullet/robotics, but we load from URDF. I would focus on that too, because creating programmatically is very hard and error-prone. I would look at the PyBullet examples and pybullet.c for the loadURDF, loadSDF methods instead.
An alternative is wrapping the b3RobotSimulatorClientAPI_NoDirect.h API, this C++ API already has most of the stuff implemented, on top of the C API.",default programmatically create load would focus programmatically hard would look instead alternative wrapping already stuff top,issue,negative,positive,positive,positive,positive,positive
434897679,"Ah right! I completely forgot that you had to create a collision shape, and _then_ a rigid body out of the collision shape(s).

So I suppose I should be looking at b3CreateMultiBody* and friends. I'll try that out, thanks!",ah right completely forgot create collision shape rigid body collision shape suppose looking try thanks,issue,negative,positive,positive,positive,positive,positive
434893950,"Glad to hear, thanks for the report and closing it :-)",glad hear thanks report,issue,positive,positive,positive,positive,positive,positive
434882892,"Nevermind, the problem solved itself - an update just got released (via apple software update) that includes the missing headers.",problem update got via apple update missing,issue,negative,negative,negative,negative,negative,negative
434880154,"b3RequestActualStateCommandInit requires an body unique id, not a shape unique id. Shapes don't have world transforms.",body unique id shape unique id world,issue,negative,positive,positive,positive,positive,positive
434879922,Please create a PyBullet python script as reproduction.,please create python script reproduction,issue,positive,neutral,neutral,neutral,neutral,neutral
434863317,"Ok, you are definitely right. I purged my environment of baselines and gym. Re-installed both and now I can run your demos. I think I must have at one point have installed baselines from master on github, which has changes that produce the bug I was seeing. Anyway, resolved now. Thanks for you help and sorry for wasting your time.",definitely right environment gym run demo think must one point master produce bug seeing anyway resolved thanks help sorry wasting time,issue,positive,negative,neutral,neutral,negative,negative
434848130,"I'll close this since you fixed it in 47b8b98a64ca1159d19555ff985ca7952b24be60

Thanks! And thanks a lot for your work on Bullet since we're at it! :smile: ",close since fixed thanks thanks lot work bullet since smile,issue,positive,positive,positive,positive,positive,positive
434846807,"matt@amdPC:~$ python --version
Python 3.6.6 :: Anaconda, Inc.

Alright, I'll see if I can update to the github version. I'm on Ubuntu 18.04.

I'll also try diving into baselines to see if I can understand the problem. I'm fairly experienced with python, but just starting to learn the AI packages. ",python version python anaconda alright see update version also try diving see understand problem fairly experienced python starting learn ai,issue,negative,positive,positive,positive,positive,positive
434822577,"This is not a bug but expected. The convex doesn't have indices, so there is nothing to draw. You can force to generate faces for prettier wireframe if you like.

~~~~~~~~~
convexHull->initializePolyhedralFeatures();
~~~~~~~~~

If you do that, you can also enable SAT, and get all contact points at once, instead of one at a time. Note that Bullet will accumulate multiple contact points over time anyway using GJK/EPA convex. With SAT it will add multiple contact points between convex shapes.

~~~~~~~~
dynamicsWorld->getDispatchInfo().m_enableSatConvex
~~~~~~~~

Obviously you need polyhedral features for this, hence those 2 calls needed.
Generally we don't enable SAT by default, since accumulating single points to a cache works well in most cases and it is faster.

Here is how it looks like with initializePolyhedralFeatures:

![image](https://user-images.githubusercontent.com/725468/47814824-e750a180-dd0b-11e8-90ea-e21d8e03fa3f.png)
",bug convex index nothing draw force generate like also enable sat get contact instead one time note bullet accumulate multiple contact time anyway convex sat add multiple contact convex obviously need polyhedral hence generally enable sat default since single cache work well faster like image,issue,positive,positive,neutral,neutral,positive,positive
434554413,"Correct. Luckily at the moment, this is the implementation:
~~~~~~~~~~

B3_SHARED_API void b3CreateVisualShapeSetChildTransform(b3SharedMemoryCommandHandle commandHandle, int shapeIndex, const double childPosition[/*3*/], const double childOrientation[/*4*/])
{
	b3CreateCollisionShapeSetChildTransform(commandHandle, shapeIndex, childPosition, childOrientation);
}
~~~~~~~~~~~~

And, cool, Java bindings 👍 ",correct luckily moment implementation void double double cool,issue,positive,positive,positive,positive,positive,positive
434435701,"Yes, update the github version. It seems more like a baselines issue. Do other environments work well?
Is the Mac, Linux or Windows? Can you provide the output of python --version?",yes update version like issue work well mac provide output python version,issue,positive,neutral,neutral,neutral,neutral,neutral
434379242,"thanks for the fast reply.

hmm... I've upgraded to pybullet 2.3.5 as per your instruction, but unfortunately I'm still getting the same error when I run this script.
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/baselines/train_pybullet_cartpole.py

```
matt@matt-amdPC:~/$ python train_pybullet_cartpole.py 
pybullet build time: Oct 30 2018 16:23:38
current_dir=...
Logging to /tmp/openai-2018-10-30-16-38-55-224342
2018-10-30 16:38:55.239391: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: FMA
Traceback (most recent call last):
  File ""train_pybullet_cartpole.py"", line 39, in <module>
    main()
  File ""train_pybullet_cartpole.py"", line 32, in main
    callback=callback
  File ""/home/matt/baselines/baselines/deepq/deepq.py"", line 209, in learn
    param_noise=param_noise
  File ""/home/matt/baselines/baselines/deepq/build_graph.py"", line 376, in build_train
    act_f = build_act(make_obs_ph, q_func, num_actions, scope=scope, reuse=reuse)
  File ""/home/matt/baselines/baselines/deepq/build_graph.py"", line 183, in build_act
    q_values = q_func(observations_ph.get(), num_actions, scope=""q_func"")
  File ""/home/matt/baselines/baselines/deepq/models.py"", line 101, in q_func_builder
    latent = network(input_placeholder)
  File ""/home/matt/baselines/baselines/deepq/models.py"", line 30, in <lambda>
    return lambda *args, **kwargs: _mlp(hiddens, layer_norm=layer_norm, *args, **kwargs)
TypeError: _mlp() missing 2 required positional arguments: 'num_actions' and 'scope'
```

Here are all the versions I'm using.
python                    3.6.6                
pybullet                  2.3.5                     <pip>
baselines                 0.1.5                     <pip>
gym                       0.10.8                    <pip>

Maybe I need to update to the latest pybullet github version to get the changes you made in #1962? Also, I'm running this file from a local directory, not inside the module directory. Would this matter? Cause I notice you are doing some path manipulations at the top of the file.",thanks fast reply per instruction unfortunately still getting error run script python build time logging binary use recent call last file line module main file line main file line learn file line file line file line latent network file line lambda return lambda missing positional python pip pip gym pip maybe need update latest version get made also running file local directory inside module directory would matter cause notice path top file,issue,negative,positive,neutral,neutral,positive,positive
434370773,"Ok, created #1965

Is the procedural geometry feature you've implemented in the latest PyBullet?",procedural geometry feature latest,issue,negative,positive,positive,positive,positive,positive
434133719,"It is not an easy problem, it will take time to get the settings right.
There are a few examples of a robot arm with gripper, using position control.

python3 -m pybullet_envs.baselines.enjoy_kuka_diverse_object_grasping
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/baselines/enjoy_kuka_diverse_object_grasping.py and
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/bullet/kuka.py

It all depends on the problem and settings. Large mass ratios can cause issues. Gripper geometry too (use boxes first instead of meshes). Timestep setting (smaller is better), number of solver iterations (use more and/or use solverResidualThreshold) etc. etc.
POSITION_CONTROL and VELOCITY_CONTROL requires a maxForce not too large.

Be careful with rolling/spinning friction (keep it 0 or very close to 0). Consider using friction_anchors (see urdf files) etc. See also other settings in pybullet.setPhysicsEngineParameter, changeDynamics etc in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#).

",easy problem take time get right robot arm gripper position control python problem large mass cause gripper geometry use first instead setting smaller better number solver use use large careful friction keep close consider see see also guide,issue,negative,positive,positive,positive,positive,positive
434132311,"https://github.com/bulletphysics/bullet3/pull/1955 was merged, so let's close the issue. If you need more than 1024 vertices or 1024 indices, please create a new issue.",let close issue need vertex index please create new issue,issue,positive,positive,positive,positive,positive,positive
434122763,"I just checked the cartpole example and made some updates to make it more similar to the Gym classical control cartpole. https://github.com/bulletphysics/bullet3/pull/1962
Upgrade to pybullet 2.3.5 or later or just use github version:
~~~~~~~~
pip3 install pybullet==2.3.5 --user --no-cache-dir
~~~~~~~~
It works just fine with latest baselines 0.1.5, using python 3.7 on Mac OSX.
Note that baselines doesn't work with Python 2.7!
Can you check it?
",checked example made make similar gym classical control upgrade later use version pip install user work fine latest python mac note work python check,issue,negative,positive,positive,positive,positive,positive
434042820,"(retrigger close/open, likely some glitch in CMake file handling make windows CI build fail sometimes)",likely file handling make build fail sometimes,issue,negative,negative,negative,negative,negative,negative
433783083,">>  Calling pybullet.removeBody does not seem to remove the object from the EGL renderer, 

Fixed here, thanks for the report: https://github.com/bulletphysics/bullet3/pull/1962
Note that you will run out of shape memory eventually, since we don't free the vertex/index data. So a 'resetSimulation' is needed after a while.",calling seem remove object renderer fixed thanks report note run shape memory eventually since free data,issue,positive,positive,positive,positive,positive,positive
433754398,"You may want to ask such question in an OpenGL forum or learning more about TinyRenderer, it has nice documentation.https://github.com/ssloy/tinyrenderer/wiki
(we use it for our software CPU rendering: 
https://github.com/bulletphysics/bullet3/blob/master/examples/TinyRenderer/our_gl.cpp#L82)

We have some code snippet going the other way around, from 2d pixel + z buffer depth to 3d location, in this example: https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pointCloudFromCameraImage.py",may want ask question forum learning nice documentation use rendering code snippet going way around buffer depth location example,issue,negative,positive,positive,positive,positive,positive
433669980,"Could you help debugging the issue? 
~~~~~~~
N = 2*multiprocessing.cpu_count()# number of parallel compilations
print(""N="",N)
~~~~~~~
What is the return value of N on your machine? Or add some additional print statements to find where it stalls.",could help issue number parallel print return value machine add additional print find,issue,positive,neutral,neutral,neutral,neutral,neutral
433651310,"@erwincoumans 
While the rendering stuff is still fresh, I think this is one of the few remaining bugs: Calling `pybullet.removeBody` does not seem to remove the object from the EGL renderer, it does so for the tiny renderer. Test script and images below.

https://gist.github.com/BlGene/938155a2c94b4e8dc7b88b7cbc037fa7

![render_remove](https://user-images.githubusercontent.com/1850503/47608798-dcf48600-da33-11e8-84b7-547d99563321.png)

Also note: #1960 <- small pip-egl build fix

",rendering stuff still fresh think one calling seem remove object renderer tiny renderer test script also note small build fix,issue,negative,positive,neutral,neutral,positive,positive
433647116,"Another issue is that the resetDebugVisualizerCamera call will interfere with mouse picking, adding even more energy into the system. If you want to pick, best to disable the call to resetDebugVisualizerCamera in that demo. I'll see if we can either disable picking in that demo, or remove the follow cam, or compensate the picking location even if the follow cam (resetDebugVisualizerCamera) is done.",another issue call interfere mouse even energy system want pick best disable call see either disable remove follow cam compensate location even follow cam done,issue,positive,positive,positive,positive,positive,positive
433646036,"The demo settings weren't tweaked to deal with additional energy of mouse picking etc. It would be good to make it a bit more robust though, here is a PR to improve it:
https://github.com/bulletphysics/bullet3/pull/1959
Thanks for the report!",deal additional energy mouse would good make bit robust though improve thanks report,issue,positive,positive,positive,positive,positive,positive
433587735,"@erwincoumans ,  Awesome, now it works much better! Also thank you for your very helpful suggestions, I will take care of those in the future. I think I can happily continue my project in Pybullet now :)",awesome work much better also thank helpful take care future think happily continue project,issue,positive,positive,positive,positive,positive,positive
433585005,"There are numerous issues with your project. Damping should be close to 0, never above 1. Rolling/spinning friction should be 0 or close to 0 (never >1). I removed all contact sections from the URDF and a few more changes. Now it works better. It is best to replace the too detailed finger mesh with blocks/cube primitives. Also, that block is 0.02 gram, which doesn't work well with the default number of iterations etc.
[src.zip](https://github.com/bulletphysics/bullet3/files/2521394/src.zip)
Unzip attached zip file and copy in the right locations to try it.

In a nutshell, you may want to stick with Gazebo if that works well for you, since we don't have a support 
team helping you.
[src.zip](https://github.com/bulletphysics/bullet3/files/2521396/src.zip)
",numerous project damping close never friction close never removed contact work better best replace detailed finger mesh also block gram work well default number attached zip file copy right try nutshell may want stick gazebo work well since support team helping,issue,positive,positive,positive,positive,positive,positive
433584827,"Thanks. Pity the monkey-patch doesn't work on all platforms/compiler combos (It works on my Ubuntu machines, Mac and Windows). If there are many more reports like this, I'll disable it.",thanks pity work work mac many like disable,issue,negative,positive,positive,positive,positive,positive
433580790,"Can you edit the setup.py and remove the monkey-patch?

~~~~~
# monkey-patch for parallel compilation
import multiprocessing
import multiprocessing.pool
def parallelCCompile(self, sources, output_dir=None, macros=None, include_dirs=None, debug=0, extra_preargs=None, extra_postargs=None, depends=None):
    # those lines are copied from distutils.ccompiler.CCompiler directly
    macros, objects, extra_postargs, pp_opts, build = self._setup_compile(output_dir, macros, include_dirs, sources, depends, extra_postargs)
    cc_args = self._get_cc_args(pp_opts, debug, extra_preargs)
    # parallel code
    N = 2*multiprocessing.cpu_count()# number of parallel compilations
    def _single_compile(obj):
        try: src, ext = build[obj]
        except KeyError: return
        self._compile(obj, src, ext, cc_args, extra_postargs, pp_opts)
    # convert to list, imap is evaluated on-demand
    list(multiprocessing.pool.ThreadPool(N).imap(_single_compile,objects))
    return objects
import distutils.ccompiler
distutils.ccompiler.CCompiler.compile=parallelCCompile
~~~~~

Or unzip and copy the attached setup.py and see if that works.

[setup.zip](https://github.com/bulletphysics/bullet3/files/2521334/setup.zip)
",edit remove parallel compilation import import self copied directly build parallel code number parallel try build except return convert list list return import copy attached see work,issue,negative,positive,neutral,neutral,positive,positive
433577158,"OS: Arch Linux
G++: 8.2.1
CMAKE: 3.12.3

Output from `python setup.py build`

```
[...]
-- mjcf/humanoid_symmetric.xml
-- mjcf/ground_plane.xml
-- mjcf/humanoid.xml
-- mjcf/thrower.xml
-- mjcf/ground.xml
-- mjcf/humanoid_fixed.xml
-- mjcf/cylinder_fromtoY.xml
-- mjcf/ant.xml
-- mjcf/swimmer.xml
-- table/table.png
-- table/table.urdf
-- table/table.mtl
-- table/table.obj
packages
['pybullet_envs', 'pybullet_utils', 'pybullet_data', 'pybullet_envs.minitaur', 'pybullet_envs.prediction', 'pybullet_envs.examples', 'pybullet_envs.baselines', 'pybullet_envs.bullet', 'pybullet_envs.agents', 'pybullet_envs.minitaur.envs', 'pybullet_envs.minitaur.agents', 'pybullet_envs.minitaur.envs.env_randomizers', 'pybullet_envs.minitaur.agents.ppo', 'pybullet_envs.minitaur.agents.tools', 'pybullet_envs.minitaur.agents.scripts', 'pybullet_envs.agents.ppo', 'pybullet_envs.agents.tools', 'pybullet_utils.examples', 'pybullet_data.policies', 'pybullet_data.policies.ppo', 'pybullet_data.policies.ppo.minitaur_reactive_env', 'pybullet_data.policies.ppo.minitaur_trotting_env']
-----
running build
running build_py
running build_ext
building 'pybullet' extension

```

And doesn't continue... :(
and thanks for the quick response!",o arch output python build running build running running building extension continue thanks quick response,issue,negative,positive,positive,positive,positive,positive
433570886,"What operating system and compiler? Install should take less than a few minutes. What is the output of
~~~~~~~~~~~~~~
python setup.py build
~~~~~~~~~~~~~~",operating system compiler install take le output python build,issue,negative,neutral,neutral,neutral,neutral,neutral
433547325,"Convave collision is double sided, so no need for normals. We need indices to form triangles, only for concave. Convex hull only needs vertices.",collision double sided need need index form concave convex hull need vertex,issue,negative,positive,neutral,neutral,positive,positive
433529084,"I'm writing my own thing in Python/Pyglet. It's nothing impressive, but I'd rather be able to customize it in any way I want and not be tied to PyBullet.

Why do you require vertices+indices for concave? Do you not compute normals (decide what is the front face) based on vertex winding?",writing thing nothing impressive rather able way want tied require concave compute decide front face based vertex winding,issue,negative,positive,positive,positive,positive,positive
433481576,"OK, here is the PR to createCollisionShape for convex and concave collision shapes.
https://github.com/bulletphysics/bullet3/pull/1955
If you only provide vertices it becomes convex, vertices+indices becomes concave.
At the moment a limit of 1024 vertices, 1024 indices, will be lifted once streaming is implemented (soon).
Curious, what renderer do you use, any images/features/details?",convex concave collision provide vertex becomes convex becomes concave moment limit vertex index streaming soon curious renderer use,issue,negative,positive,positive,positive,positive,positive
433272005,"Concave shapes yes, because the geometry I would create would be for rooms & hallways. UV coords no because I have my own rendering code. Normals, only if you need them for physics simulation.",concave yes geometry would create would rendering code need physic simulation,issue,positive,neutral,neutral,neutral,neutral,neutral
433271372,"Attached is a patch, it just allows to pass vertices to createCollisionShape, to allow creation of convex hulls. Addition support for concave shapes requires indices. Adding support for visual shapes with textures requires uv coordinates.

I'm considering to upload data in-memory with in-memory file names instead of this patch. That way, we don't need to replicate all features of obj files. Do you require concave shapes and uv coords, normals etc?
[createColShapeVertices.zip](https://github.com/bulletphysics/bullet3/files/2517498/createColShapeVertices.zip)


~~~~~~~~~~~~~~~~~~~~
verts=[[-0.246350, -0.246483, -0.000624],
	[ -0.151407, -0.176325, 0.172867],
	[ -0.246350, 0.249205, -0.000624],
	[ -0.151407, 0.129477, 0.172867],
	[ 0.249338, -0.246483, -0.000624],
	[ 0.154395, -0.176325, 0.172867],
	[ 0.249338, 0.249205, -0.000624],
	[ 0.154395, 0.129477, 0.172867]]
stoneId = p.createCollisionShape(p.GEOM_MESH,vertices=verts)
~~~~~~~~~~~~~~~~~~~
",attached patch pas vertex allow creation convex addition support concave index support visual considering data file instead patch way need replicate require concave,issue,positive,positive,neutral,neutral,positive,positive
433140129,"It depends on if the point you're using is in world space or model space. From what you've said, it seems that it is in world space, so that shouldn't be a problem. X and y being outside [-1, 1] means that the point's offscreen, so are you sure it's visible?",point world space model space said world space problem outside point sure visible,issue,negative,positive,positive,positive,positive,positive
433041042,"Thanks for the answer. I tried exactly that, but the xy values are out of the [-1,1] range after normalizing. We do not have to take into account the Model matrix, right?",thanks answer tried exactly range take account model matrix right,issue,negative,positive,positive,positive,positive,positive
432910431,"in bge to solve this I take the object linear velocity and the time step to
cast a ray to where the ball will be next frame,

if the ray hits, we can use the reflection of this vector and cast another
ray out from the hitpoint and ensure the ball won't be hitting another
surface before the width of the ball, if it does we have to do some more
math,



(so we only cast out the length of the ball's diameter) if the second ray
does not hit, place the ball at hitpoint + linV reflected off hitNormal ,
normalized * radius)

'psudo CCD'
I can provide a quick video if you wish?
",solve take object linear velocity time step cast ray ball next frame ray use reflection vector cast another ray ensure ball wo another surface width ball math cast length ball diameter second ray hit place ball reflected radius provide quick video wish,issue,positive,positive,positive,positive,positive,positive
432908603,"@erwincoumans Sorry for the previous, I updated a new one. ",sorry previous new one,issue,negative,negative,negative,negative,negative,negative
432893885,"I just tried it on a linux box and also got the same inaccurate result with single precision. I'll have a look at the single precision issue for large shape ratios at some stage. Thanks for the repro case!

Note that you also may want to checkout pybullet, which has a lot of interesting features. It compiles using double precision by default as well, since it targets robotics and reinforcement learning.llet 

pip install pybullet --user
and see the [pybullet quickstart guide.](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3)",tried box also got inaccurate result single precision look single precision issue large shape stage thanks case note also may want lot interesting double precision default well since reinforcement pip install user see guide,issue,positive,positive,positive,positive,positive,positive
432882290,"I made that correction, and it doesn't make any difference with the results I'm seeing.

As for the compiler, I don't know nearly enough about the bullet internals to say it's doing a ""bad job"". It's gcc 8.2.0. If there are issues with this compiler and bullet, then many people would be affected. I'm happy to help you debug, if you like.

In any case, this addresses my immediate problem, so I'm closing this issue. Thank you very much!",made correction make difference seeing compiler know nearly enough bullet internals say bad job compiler bullet many people would affected happy help like case immediate problem issue thank much,issue,positive,positive,positive,positive,positive,positive
432881607,"Don't use words such as ""ridiculous"" if you want a friendly answer. Also, you need to provide a simple fully working reproduction case so someone can point out where you do things wrong. Attach a zipfile with pybullet .py file, urdf, stl, obj etc. Don't use external dependencies, just pybullet.",use ridiculous want friendly answer also need provide simple fully working reproduction case someone point wrong attach file use external,issue,negative,negative,neutral,neutral,negative,negative
432880969,"Here is a fixed version
[HelloWorld.zip](https://github.com/bulletphysics/bullet3/files/2512906/HelloWorld.zip)

>> Is the recommendation to always use double-precision floats to get accurate results?

Yes, use double precision if you care about accuracy. At some stage I'll implement the raytest dedicated for boxshape and convex shape instead of the iterative convex cast, that would work higher accuracy and faster.

Not clear why your compiler does such a bad job. I don't see the difference of x<0 or x>0 in my build.
",fixed version recommendation always use get accurate yes use double precision care accuracy stage implement convex shape instead iterative convex cast would work higher accuracy faster clear compiler bad job see difference build,issue,positive,positive,neutral,neutral,positive,positive
432880669,"Apparently I had to manually define a macro to tell the compiler I'm using double-precision floats; I was assuming this was hidden from the API or that the headers did this for me. I added

    -DBT_USE_DOUBLE_PRECISION=1

to the compiler flags, and the thing now builds and runs. The accuracy issues are pretty much gone. If I add more precision to the printf() in the test application, the plot in the original report looks like this:

http://notes.secretsauce.net/bullettest2.pdf

(github barfs unhelpfully if I try to post files in any other way).

Questions:

1. Even with double-precision, we still do much better at x<0. The difference is immaterial with double-precision, but could this be indicative of a deeper problem?

2. I see large errors with single-precision floats, even with the latest code. But you weren't seeing them. Does this make sense to you?

3. Is the recommendation to always use double-precision floats to get accurate results?


Thanks much!
",apparently manually define macro tell compiler assuming hidden added compiler thing accuracy pretty much gone add precision test application plot original report like unhelpfully try post way even still much better difference immaterial could indicative problem see large even latest code seeing make sense recommendation always use get accurate thanks much,issue,positive,positive,positive,positive,positive,positive
432879223,"Perhaps your compiler is bad? I don't have the bandwidth to do the debugging for you and I don't trust cmake generally.

Please do a fresh checkout, and use premake4 to build stuff instead, and copy my HelloWorld.cpp file over examples/HelloWorld/HelloWorld.cpp, so you don't need to make ANY change in the build system etc.
~~~~~~~~
cd build3
./premake4_linux64 --double gmake
cd gmake
make App_HelloWorld
../../bin/App_HelloWorld_gmake_x64_release > log.csv
~~~~~~~~
",perhaps compiler bad trust generally please fresh use premake build stuff instead copy file need make change build system build double make,issue,positive,negative,neutral,neutral,negative,negative
432874672,"Thanks for the replies. I'm using a mostly bleeding edge install of Debian/sid. GNU/Linux. amd64. This was built with single-precision floating point. To make debugging easier, I'm now running against a bleeding edge clone of your repo. I just cloned it, and I'm at 9c1db5fb349514df62e2a9ba44cc343f4c7c8018.

I'm also now using your test application with one tiny change: to ease debugging I'm now shooting the rays directly towards the wall, without any downward tilt. The relevant lines now look like this:

		btVector3 btFrom ((btScalar)x, 0, 0);
		btVector3 btTo   ((btScalar)x, 0, 100.0);

I have rebuilt bullet with single-precision floating point, and I am seeing the same exact issues as before. I.e. updating to the latest code didn't change anything.

I then rebuilt it with double-precision floating point:

     cmake -DUSE_DOUBLE_PRECISION=On

After doing that the test application crashes here:

		_broadphase = &_overlap_pair_cache;

Full backtrace:

```
(gdb) where
#0  btAlignedObjectArray<btAlignedObjectArray<btDbvtNode const*> >::resize (fillData=..., newsize=65536, this=0x7fffffff89b0) at /tmp/bullet3/src/LinearMath/btAlignedObjectArray.h:218
#1  btAlignedObjectArray<btAlignedObjectArray<btDbvtNode const*> >::copyFromArray (otherArray=..., this=0x7fffffff89b0) at /tmp/bullet3/src/LinearMath/btAlignedObjectArray.h:506
#2  btAlignedObjectArray<btAlignedObjectArray<btDbvtNode const*> >::operator= (other=..., this=0x7fffffff89b0) at /tmp/bullet3/src/LinearMath/btAlignedObjectArray.h:66
#3  btDbvtBroadphase::operator= (this=<optimized out>) at /tmp/bullet3/src/BulletCollision/BroadphaseCollision/btDbvtBroadphase.h:62
#4  main () at bullettest2.cc:11
#5  0x00007ffff7ab8b17 in __libc_start_main (main=0x55555555cda0 <main>, argc=1, argv=0x7fffffffdde8, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffddd8) at ../csu/libc-start.c:310
#6  0x000055555555edaa in _start () at /usr/include/c++/8/new:169
```

I haven't yet done any more debugging than this. Should I dig into it, or do you know off the top of your head what the issue is? There're no stale binaries sitting around. I'm linking to bullet statically.",thanks mostly bleeding edge install built floating point make easier running bleeding edge clone also test application one tiny change ease shooting directly towards wall without downward tilt relevant look like rebuilt bullet floating point seeing exact latest code change anything rebuilt floating point test application full main main yet done dig know top head issue stale sitting around linking bullet statically,issue,positive,positive,positive,positive,positive,positive
432867191,"It uses a slightly modified version of yours, fixing a compile problem and iterating in C++ (instead of from args), and printf a comma-separated values (csv). Please use this version, for comparison:
[RayTest.zip](https://github.com/bulletphysics/bullet3/files/2512764/RayTest.zip)
",slightly version fixing compile problem instead please use version comparison,issue,negative,negative,negative,negative,negative,negative
432866808,"Please try again using the latest Bullet github repo.
Are you using double precision or single precision? What compiler version / platform?
I tried running your test, but didn't see the approximations.

Using latest Bullet from github, in double precision:, using Visual Studio 2010, Windows:

![image](https://user-images.githubusercontent.com/725468/47467883-3a2ad600-d7ad-11e8-81d6-ff6202f58144.png)

In single precision, fp:fast, using Visual Studio 2010 on Windows:

![image](https://user-images.githubusercontent.com/725468/47467891-457e0180-d7ad-11e8-9e62-bef9d73f4221.png)

Obviously, we can (and should) implement the exact raytest for box and convex shapes, instead of using the iterative algorithm. Latest Bullet uses the GJK convex cast and has some improvements in GJK.",please try latest bullet double precision single precision compiler version platform tried running test see latest bullet double precision visual studio image single precision fast visual studio image obviously implement exact box convex instead iterative algorithm latest bullet convex cast,issue,negative,positive,positive,positive,positive,positive
432861367,"If all you want to do is project a point, you just add a 1 as a fourth component, do P\*V\*point, and divide x, y, and z by w. This gives normalized device coordinates (-1 to 1), which can be converted to screen coordinates by adding 1, dividing by 2, and multiplying x by the screen width and y by the screen height (z is used for depth, but it doesn't sound like you need it here). Is that what you wanted to do, or am I misunderstanding?",want project point add fourth component point divide device converted screen dividing multiplying screen width screen height used depth sound like need misunderstanding,issue,negative,positive,positive,positive,positive,positive
432482883,"Poking around, I see that the inaccurate distances reported for x>0 come from exceeding MAX_ITERATIONS in btSubsimplexConvexCast::calcTimeOfImpact(). There's a comment in the source that mentions an internet discussion about this topic, but the link is dead. As an experiment, I bumped up the MAX_ITERATIONS by a factor of 10, and it doesn't help: we still hit the new iteration limits, and the accuracy does not improve.

I tried to bypass this code path entirely by selecting a different method:

    closestResults.m_flags |=
        btTriangleRaycastCallback::kF_UseGjkConvexCastRaytest;

This changes the distribution of errors (we generally overestimate the distance instead of underestimating it, and we do so for both x<0 and x>0). But the magnitude of errors is still high. I traced the sources. Here there's an iterative solver of some sort in btGjkConvexCast::calcTimeOfImpact(). I looked at the most inaccurate point in my set. Here we don't exceed the iteration count; it looks like we return normally, albeit with a wrong result.

Ideas?",poking around see inaccurate come exceeding comment source discussion topic link dead experiment factor help still hit new iteration accuracy improve tried bypass code path entirely different method distribution generally overestimate distance instead magnitude still high iterative solver sort inaccurate point set exceed iteration count like return normally albeit wrong result,issue,negative,negative,neutral,neutral,negative,negative
432365941,"You need to use force control. As for the force required, it depends on the orientation of the gripper and the object, the geometry, the acceleration of the path chosen, and the friction coefficient between the gripper and the object. It is a complex problem, there is no simple solution. Could you just try different holding force until it works for your application?",need use force control force orientation gripper object geometry acceleration path chosen friction coefficient gripper object complex problem simple solution could try different holding force work application,issue,negative,negative,neutral,neutral,negative,negative
432024090,"I just ran another slightly-simpler test. Apparently it's not required to tilt the rays down to observe this problem. Shooting the rays from (x,0,0) to (x,0,100) is enough to see things work correctly for x<0 and incorrectly for x>0.",ran another test apparently tilt observe problem shooting enough see work correctly incorrectly,issue,negative,positive,neutral,neutral,positive,positive
431737709,"We shouldn't be stingy indeed, but let's first increase it to 256. See the PR here: https://github.com/bulletphysics/bullet3/pull/1945",stingy indeed let first increase see,issue,negative,positive,positive,positive,positive,positive
431730934,Let's indeed not be so stingy and increase the limit. Thanks for the PR!,let indeed stingy increase limit thanks,issue,negative,positive,positive,positive,positive,positive
430860309,Thanks for the report. Should be fixed in this commit: https://github.com/bulletphysics/bullet3/commit/63784dab5fdf7fe84fd93f2caeef43b8524f7389,thanks report fixed commit,issue,positive,positive,positive,positive,positive,positive
430668049,"It means your PyBullet is compiled without NumPy and return flat Python list. Make sure your Python has Numpy and install usiny pip install pybullet. 
Make sure
~~~~~~~
import pybullet
print(""isNumpyEnabled="",pybullet.isNumpyEnabled())

~~~~~~~
returns 1",without return flat python list make sure python install pip install make sure import print,issue,positive,positive,positive,positive,positive,positive
430649047,"Run bullet3/examples/pybullet/examples/pointCloudFromCameraImage.py and get this error:
![image](https://user-images.githubusercontent.com/15700681/47093139-24705a80-d25b-11e8-9184-a6140e9feedb.png)
",run get error image,issue,negative,neutral,neutral,neutral,neutral,neutral
430330820,"Thanks for the report. Some file is missing, I'll update the MANIFEST.in and upload version 2.3.1.
Please try it again in a few minutes, using
pip install --no-cache-dir pybullet --user",thanks report file missing update version please try pip install user,issue,negative,neutral,neutral,neutral,neutral,neutral
430064583,Great thank you! Appreciate your help and continued discussion.,great thank appreciate help continued discussion,issue,positive,positive,positive,positive,positive,positive
429713958,"I found what the problem is, I was trying to install it will the anaconda version of python 3.6.5 and failed, however when I was trying to install it for python 3.7 it can be successfully installed, however for 3.7 it doesn't support tensorflow. Can you specify what version of python you are using?",found problem trying install anaconda version python however trying install python successfully however support specify version python,issue,negative,positive,positive,positive,positive,positive
429667950,"If you run [sdf2obj](https://github.com/bulletphysics/bullet3/tree/master/Extras/obj2sdf) over those obj files, it will convert the mtl colors into the SDF materials automatically.
See [data/threecubes](https://github.com/erwincoumans/bullet3/tree/master/data/threecubes) for some generated example.

I also just created [a pull request](https://github.com/bulletphysics/bullet3/pull/1935) that adds flags for loadURDF/loadSDF that uses the colors from MTL. pybullet.URDF_USE_MATERIAL_COLORS_FROM_MTL and pybullet.URDF_USE_MATERIAL_TRANSPARANCY_FROM_MTL. Still, this will only use one color/material per link.
So if you have an OBJ with multiple parts and material colors, you still have to manually split the OBJ into separate objects each with their own color. You can use sdf2obj for that.
~~~~~~~~~~~~
cd build3
./premake4_linux64 gmake
cd gmake
make App_obj2sdf
../../bin/App_obj2sdf_* --fileName=""org.obj""
#now rename and load the newsdf.sdf file
~~~~~~~~~~~~

![image](https://user-images.githubusercontent.com/725468/46921344-fa930b80-cfae-11e8-86d2-200f43c195f7.png)

",run convert color automatically see example also pull request color still use one per link multiple material color still manually split separate color use build make rename load file image,issue,negative,neutral,neutral,neutral,neutral,neutral
429583746,"When I generate a .obj file from a .dae file, it automatically generates multiple .mtl files that look like this: # Blender MTL File: 'None'
# Material Count: 2

newmtl Material_0.001
Ns 0.000000
Ka 1.000000 1.000000 1.000000
Kd 0.640000 0.640000 0.640000
Ks 0.000000 0.000000 0.000000
Ke 0.000000 0.000000 0.000000
Ni 1.000000
d 1.000000
illum 2
map_Kd globedone01.jpg

newmtl Material_001.001
Ns 96.078431
Ka 1.000000 1.000000 1.000000
Kd 0.015080 0.166336 0.373760
Ks 0.500000 0.500000 0.500000
Ke 0.000000 0.000000 0.000000
Ni 1.000000
d 1.000000
illum 2

Happy to add it into the URDF file if you have suggestions on how to automatically convert .mtl files into materials in .urdf files.
",generate file file automatically multiple look like blender file material count ka ni ka ni happy add file automatically convert,issue,positive,positive,positive,positive,positive,positive
429583155,What is the issue of adding the material field with color in the URDF file?,issue material field color file,issue,negative,neutral,neutral,neutral,neutral,neutral
429582391,"And if that's the case, is it possible to replace the visual shape of a link with an output of p.createVisualShape(...)? 

Currently  p.changeVisualShape(obUniqueId, linkIndex, ...) seems to only support outputs from p.loadTexture (which I don't think support .obj files), but since p.createVisualShape loads all of the colors fine, would be great to just replace the visual shape of the link above with its output. 
",case possible replace visual shape link output currently support think support since color fine would great replace visual shape link output,issue,positive,positive,positive,positive,positive,positive
429581394,"Ah I see, that explanation helps. No, the URDF file does not have materials, and instead relies on meshes which reference "".obj"" files, which in turn reference the "".mtl"" files. So if the "".obj"" file references two "".mtl"" files (i.e., for the globe_base.obj file, using the command mtllib globe_base.mtl), it won't load the content in the mtl files?",ah see explanation file instead reference turn reference file two file command wo load content,issue,negative,neutral,neutral,neutral,neutral,neutral
429580941,"The URDF file doesn't have any material tag?
Can you just add the material tag inside the visual tag in the URDF file? That is method B.
~~~~~~~~~~~~
 <material name=""red"">
        <color rgba=""1 0 0 1""/>
  </material>
~~~~~~~~~~~~

PyBullet currently only assigned the color using method A or method B (in the URDF).

Here an example:
~~~~~~~~~~~~~
<?xml version=""1.0""?>
<robot name=""globe"">
  <link name =""rb0"">
    <inertial>
      <mass value=""1.0""/>
      <inertia ixx=""100"" ixy=""100"" ixz=""100"" iyy=""100"" iyz=""100"" izz=""100""/>
    </inertial>
    <visual>
      <origin xyz='0.134201 0.028644 -0.201127' rpy='1.544267 -1.265865 -1.388046'/>
      <geometry>

        <mesh filename=""meshes/globe_base.obj""  scale=""1 1 1"" />
      </geometry>
		<material name=""red"">
        <color rgba=""1 0 0 1""/>
  	</material>
    </visual>
    <collision>
      <origin xyz='0.134201 0.028644 -0.201127' rpy='1.544267 -1.265865 -1.388046'/>
      <geometry>
        <mesh filename=""/cvgl2/u/golubd/GibsonInteractive/exploratory/articulated_objects_db/data/objects/globe/meshes/globe_base.obj""  scale=""1 1 1"" />
      </geometry>
    </collision>
  </link>
  <joint name=""j_0_1"" type=""revolute"">
    <parent link=""rb0""/>
    <child link=""rb1""/>
    <origin xyz=""0.112827626961 0.0769681379313 -0.26023652027"" rpy=""0 0 0 ""/>
    <axis xyz=""0.0692656093156 -0.417084054731 0.906224677801""/>
    <limit effort=""30"" velocity=""1.0"" lower=""-3.1416"" upper=""3.1416""/>
  </joint>
  <joint name=""j_0_fixed"" type=""fixed"">
    <parent link=""rb1""/>
    <child link=""rb1_marker""/>
      <origin xyz=""-0.184778028883 -0.000950895735824 0.0135191242097"" rpy=""0.96920987265 0.338639521178 -2.21123982949""/>
    <limit effort=""30"" velocity=""1.0"" lower=""-3.1416"" upper=""3.1416""/>
  </joint>
  <link name =""rb1"">
  </link>
  <link name =""rb1_marker"">
    <visual>
      <origin xyz='-0.049149 0.089968 -0.112483' rpy='3.012065 1.349311 -3.110684'/>
      <geometry>
        <mesh filename=""meshes/globe_sphere.obj""  scale=""1 1 1"" />
      </geometry>
			<material name=""red"">
        <color rgba=""1 0 0 1""/>
  		</material>
    </visual>
    <collision>
      <origin xyz='-0.049149 0.089968 -0.112483' rpy='3.012065 1.349311 -3.110684'/>
      <geometry>
        <mesh filename=""meshes/globe_sphere.obj""  scale=""1 1 1"" />
      </geometry>

    </collision>
  </link>
</robot>

~~~~~~~~~~~~~",file material tag add material tag inside visual tag file method material red color currently assigned color method method example robot globe link name inertial mass inertia visual origin geometry mesh material red color collision origin geometry mesh joint revolute parent child origin axis limit joint fixed parent child origin limit link name link name visual origin geometry mesh material red color collision origin geometry mesh,issue,negative,positive,neutral,neutral,positive,positive
429579929,"Thanks for your feedback. I tried Method A, and am able to set the color successfully, but that's not my question and I'm not using the URDF file you're referring to though. The one I'm using is in configuration_2017-07-18 that has "".obj"" files as meshes. So, for example, instead of having .dae files, the mesh would reference .obj files as needed `<visual>
      <origin xyz=""-0.049149 0.089968 -0.112483"" rpy=""3.012065 1.349311 -3.110684""/>
      <geometry>
        <mesh filename=""meshes/globe_sphere.obj""  scale=""1 1 1"" />
      </geometry>
    </visual>`
    
    ",thanks feedback tried method able set color successfully question file though one example instead mesh would reference visual origin geometry mesh,issue,positive,positive,positive,positive,positive,positive
429579267,"Can you answer the 2 questions?

The color can be

A) assigned in the URDF file using the material tag:
~~~~~~~~~~~~
<link name =""rb1_marker"">
    <visual>
      <origin xyz='-0.125441 0.088169 -0.129482' rpy='-1.936752 0.767602 1.007135'/>
      <geometry>
        <mesh filename=""meshes/globe_sphere.dae""  scale=""1 1 1"" />
      </geometry>
       <material name=""red"">
        <color rgba=""1 0 0 1""/>
      </material>
    </visual>
  </link>
~~~~~~~~~~~~
B) assigned in PyBullet programmatically:
~~~~~~~~~~~
p.changeVisualShape(obUniqueId, linkIndex, rgbaColor=[r,g,b,a])
~~~~~~~~~~~

Method A and method B should work.

Did you try method A and/or B?

Which of those 2 methods don't work?",answer color assigned file material tag link name visual origin geometry mesh material red color assigned programmatically method method work try method work,issue,negative,neutral,neutral,neutral,neutral,neutral
429578020,"The color can be
A) assigned in the URDF file
~~~~~~~~~~~~
<link name =""rb1_marker"">
    <visual>
      <origin xyz='-0.125441 0.088169 -0.129482' rpy='-1.936752 0.767602 1.007135'/>
      <geometry>
        <mesh filename=""meshes/globe_sphere.dae""  scale=""1 1 1"" />
      </geometry>
       <material name=""red"">
        <color rgba=""1 0 0 1""/>
      </material>
    </visual>
  </link>
~~~~~~~~~~~~
B) assigned in PyBullet
~~~~~~~~~~~
p.changeVisualShape(obUniqueId, linkIndex, rgbaColor=[r,g,b,a])
~~~~~~~~~~~

Both versions work when I test the zip file. configuration_2017-06-01.zip
Did you try method A and/or B?

Which of those don't work?",color assigned file link name visual origin geometry mesh material red color assigned work test zip file try method work,issue,negative,neutral,neutral,neutral,neutral,neutral
429577056,"Thanks for your fast response. But in the URDF file we already converted all objects from DAE to OBJ format, and we're still facing the same issue.",thanks fast response file already converted dae format still facing issue,issue,negative,positive,positive,positive,positive,positive
429576582,"Your URDF didn't have any color assigned. 
We don't read color from DAE. We do read color from OBJ/MTL, which is recommended over DAE.
Assigning color works just fine in Python, using changeVisualShape.
Finally, I commend to use relative path to the URDF for the meshes instead of absolute path when sharing things, and add a simple 5 line PyBullet file to reproduce it.
See attached fixed version with two ways to get color using DAE.
[configuration_2017-06-01.zip](https://github.com/bulletphysics/bullet3/files/2475855/configuration_2017-06-01.zip)

~~~~~~~~~~~~~
<link name =""rb1_marker"">
    <visual>
      <origin xyz='-0.125441 0.088169 -0.129482' rpy='-1.936752 0.767602 1.007135'/>
      <geometry>
        <mesh filename=""meshes/globe_sphere.dae""  scale=""1 1 1"" />
      </geometry>
       <material name=""red"">
        <color rgba=""1 0 0 1""/>
      </material>
    </visual>
  </link>
~~~~~~~~~~~~~",color assigned read color dae read color dae color work fine python finally commend use relative path instead absolute path add simple line file reproduce see attached fixed version two way get color dae link name visual origin geometry mesh material red color,issue,positive,positive,neutral,neutral,positive,positive
429575905,"[globe.tar.gz](https://github.com/bulletphysics/bullet3/files/2475846/globe.tar.gz)
The urdf file is in configuration_2017-07-18/globe.urdf, and the meshes are in the meshes folder. Note that you would have to change the absolute path of meshes in the urdf file to point to the proper meshes subdirectory on your machine
",file folder note would change absolute path file point proper machine,issue,negative,positive,neutral,neutral,positive,positive
429575800,"Yes, there is only 1 mesh per a link. Will share the files right now.",yes mesh per link share right,issue,positive,positive,positive,positive,positive,positive
429575717,"Only 1 mesh/color per link.
You can change the color using
~~~~~~~~~~~~~
p.changeVisualShape(obUniqueId, linkIndex, rgbaColor=[r,g,b,a])
~~~~~~~~~~~~~
Otherwise, share the files, zipped.",per link change color otherwise share,issue,negative,neutral,neutral,neutral,neutral,neutral
429506892,"Bullet uses OpenGL to render, and the convention is non-linear z-buffer.

See https://stackoverflow.com/questions/6652253/getting-the-true-z-value-from-the-depth-buffer

far=1000.//depends on projection matrix, this is default
near=0.01//depends on projection matrix
depth = far * near / (far - (far - near) * depthImg)//depthImg is the depth from Bullet 'getCameraImage'

Note that this 'true' z value is still not really the distance from 3d point to the camera center,
but the projected distance onto the near plane.
If you want the actual distance from camera to 3d point, you need a bit more work.
depth/=math.cos(alpha)

See PyBullet https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pointCloudFromCameraImage.py",bullet render convention see projection matrix default projection matrix depth far near far far near depth bullet note value still really distance point camera center distance onto near plane want actual distance camera point need bit work alpha see,issue,negative,positive,neutral,neutral,positive,positive
429363647,"Those axis are part of the default GUI. You can disable it using 'configureDebugVisualizer', see the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#):
~~~~~~~~~
import pybullet as p
p.connect(p.GUI)
p.configureDebugVisualizer(p.COV_ENABLE_GUI,enable=0)
while (1):
        p.stepSimulation()
~~~~~~~~~",axis part default disable see guide import,issue,negative,neutral,neutral,neutral,neutral,neutral
428781979,"./obj2sdf --fileName=""input.obj""

Use premake4 to compile obj2sdf executable (works on Windows, Linux and Mac OSX). 
For example on Linux:
~~~~~~~~~~
git clone https://github.com/bulletphysics/bullet3
cd bullet3/build3
./premake4_linux64 gmake
cd gmake
make App_obj2sdf
#now the App_obj2sdf_gmake_x64_release executable is in bullet3/bin folder
../../App_obj2sdf_gmake_x64_release --inputName=""input.obj""
~~~~~~~~~~
Some examples are Bullet/data/kitchens/1.sdf or
or checkout atlas.py in https://github.com/erwincoumans/pybullet_robots which loads data/botlab/botlab.sdf, it is worth trying out:

![image](https://user-images.githubusercontent.com/725468/46774466-67f52280-ccb7-11e8-820b-fec4ae1281f5.png)
",use premake compile executable work mac example git clone make executable folder worth trying image,issue,negative,positive,positive,positive,positive,positive
428681846,"You need the information that is used in the pointCloudFromCameraImage.py
Try figusing out how to get/compute the camForward vector (the target position of the camera - world position of the camera) etc. 

PyBullet uses the common OpenGL camera model for rgb/depth. Try OpenGL forums/search (gluUnProject), this is not specific to PyBullet. Good luck!
",need information used try vector target position camera world position camera common camera model try specific good luck,issue,positive,positive,positive,positive,positive,positive
428680804,"If you want a visual GUI window, you need to call env.render(mode=""human"") before calling reset:
~~~~~~
import gym
import pybullet_envs
env = gym.make(""AntBulletEnv-v0"")
env.render(mode=""human"")
env.reset()
while (1):
	observations,reward,done,_=env.step([0,0,0,0,0,0,0,0])
~~~~~~~",want visual window need call human calling reset import gym import human reward done,issue,positive,neutral,neutral,neutral,neutral,neutral
428642778,"Your system, xcode and command-line tools is not properly setup. Google for 'fatal error: 'algorithm' file not found'.

We don't have the bandwidth to help with setting up a working C++ environment.",system properly setup error file found help setting working environment,issue,negative,neutral,neutral,neutral,neutral,neutral
428630876,"I attached the log to this comment
[Terminal Saved Output.txt](https://github.com/bulletphysics/bullet3/files/2465476/Terminal.Saved.Output.txt)

",attached log comment terminal saved,issue,negative,neutral,neutral,neutral,neutral,neutral
428601467,"Your system, xcode and command-line tools is not properly setup. Google for 'fatal error: 'algorithm' file not found'",system properly setup error file found,issue,negative,neutral,neutral,neutral,neutral,neutral
428599205,please attach full log in a zip file,please attach full log zip file,issue,negative,positive,positive,positive,positive,positive
428438205,"Due to the upload limit I tried to upload as much as I can, this is what happened during my installation. I really don't know what this means please help me take a look and see what the issue is, thanks!",due limit tried much installation really know please help take look see issue thanks,issue,positive,positive,positive,positive,positive,positive
428380835,"Yes, that is what I wanted. Thanks for responding with detailed information 👍 ",yes thanks detailed information,issue,positive,positive,positive,positive,positive,positive
428357708,"Yes, it is on my todo. I'll add it soon, it is pretty straighforward to add, in a nutshell:
1) In pybullet.c, modify pybullet_createCollisionShape/pybullet_createVisualShape to accept additional vertex/index data.
2) Add a b3CreateCollisionShapeAddConvex/b3CreateVisualShapeAddMesh with the index/vertex/texture info (in PhysicsClientC_API.cpp)
3) Implement the actual code in processCreateVisualShapeCommand (PhysicsServerCommandProcessor.cpp)

",yes add soon pretty add nutshell modify accept additional add implement actual code,issue,positive,positive,positive,positive,positive,positive
428355937,"See this example:
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_utils/examples

If you installed pybullet using pip install pybullet, you can also run it like this:
python3 -m pybullet_utils.examples.multipleScenes

If you look at the following code, p0, p1 and pgui can run in parallel, in separate threads. Note that you can only have 1 GUI thread, the others have to be DIRECT, using TinyRenderer.

~~~~~~~~~~
import pybullet_utils.bullet_client as bc
import pybullet
import pybullet_data

p0 = bc.BulletClient(connection_mode=pybullet.DIRECT)
p0.setAdditionalSearchPath(pybullet_data.getDataPath())

p1 = bc.BulletClient(connection_mode=pybullet.DIRECT)
p1.setAdditionalSearchPath(pybullet_data.getDataPath())

#can also connect using different modes, GUI, SHARED_MEMORY, TCP, UDP, SHARED_MEMORY_SERVER, GUI_SERVER
pgui = bc.BulletClient(connection_mode=pybullet.GUI)

p0.loadURDF(""r2d2.urdf"")
p1.loadSDF(""stadium.sdf"")
print(p0._client)
print(p1._client)
print(""p0.getNumBodies()="",p0.getNumBodies())
print(""p1.getNumBodies()="",p1.getNumBodies())
while (1):
        p0.stepSimulation()
        p1.stepSimulation()
        pgui.stepSimulation()
~~~~~~~~~~

The default PyBullet environments use this bullet_client, instead of directly talking to pybullet, all API calls are automatically passed through with the right physicsClientId.

Is that what you wanted?",see example pip install also run like python look following code run parallel separate note thread direct import import import also connect different print print print print default use instead directly talking automatically right,issue,negative,positive,neutral,neutral,positive,positive
428312925,"Thanks for the feedback, good points. Various environments (*) already can run in multiple thread (since our PPO runs them in parallel). You don't pass the connection id, that is kept internally to pybullet_client.py.

Let me get back to this, provide some docs and simple examples.

(*) PyBullet envs such as MinitaurReactiveEnv-v0, AntBulletEnv-v0, AntBulletEnv-v0, AntBulletEnv-v0, HumanoidFlagrunBulletEnv-v0, HumanoidFlagrunHarderBulletEnv-v0, HalfCheetahBulletEnv-v0, Walker2DBulletEnv-v0, StrikerBulletEnv-v0, InvertedPendulumSwingupBulletEnv-v0, InvertedDoublePendulumBulletEnv-v0, InvertedPendulumBulletEnv-v0. ",thanks feedback good various already run multiple thread since parallel pas connection id kept internally let get back provide simple,issue,positive,positive,positive,positive,positive,positive
428307202,"Thanks Erwin. I would like to see some example code for how to create multiple connections and use them independently. The only documentation I've seen is the quickstart guide, and the examples in that all have a single connection, and they don't thread any kind of ""connection id"" argument through the calls, to specify which simulation would be affected by the calls.",thanks would like see example code create multiple use independently documentation seen guide single connection thread kind connection id argument specify simulation would affected,issue,positive,positive,positive,positive,positive,positive
428304572,"Each PyBullet DIRECT connection runs independent. You can use the pybullet_utils/bullet_client.py to make it easier to run multiple independent DIRECT simulations. Each of those can run in its own thread without problem, no need to fork or offset in a shared environment

Do you have some suggestions what you have in mind to run environments in parallel? Would an example that runs multiple envs in their own thread help?",direct connection independent use make easier run multiple independent direct run thread without problem need fork offset environment mind run parallel would example multiple thread help,issue,positive,positive,neutral,neutral,positive,positive
428197703,"You will have to set the alpha to 1 to render into the depth map, so you may want to render twice:
Render with alpha for RGB, and then set the alpha to 1 for the transparent objects that you want to show up in the depth map and render again.",set alpha render depth map may want render twice render alpha set alpha transparent want show depth map render,issue,negative,neutral,neutral,neutral,neutral,neutral
428041393,"There is no information about a Bullet file that fails to compile, you removed the essential information.

Did you try pip install pybullet?
Or python setup.py build (in the root of Bullet)?",information bullet file compile removed essential information try pip install python build root bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
428040129,"This is the error I encountered, do you have ant idea what the issue is?",error ant idea issue,issue,negative,neutral,neutral,neutral,neutral,neutral
428040033,"/usr/local/Cellar/gcc/8.2.0/include/c++/8.2.0/cwchar:44:10: fatal error: wchar.h: No such file or directory
     #include <wchar.h>
              ^~~~~~~~~
    compilation terminated.
    
    ----------------------------------------
Command ""/anaconda3/bin/python -u -c ""import setuptools, tokenize;__file__='/private/var/folders/26/3vt_y1v15td9p0rlbynzv72m0000gn/T/pip-install-7w79oxwl/pybullet/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\r\n', '\n');f.close();exec(compile(code, __file__, 'exec'))"" install --record /private/var/folders/26/3vt_y1v15td9p0rlbynzv72m0000gn/T/pip-record-eogpgo_m/install-record.txt --single-version-externally-managed --compile"" failed with error code 1 in /private/var/folders/26/3vt_y1v15td9p0rlbynzv72m0000gn/T/pip-install-7w79oxwl/pybullet/",fatal error file directory include compilation command import open compile code install record compile error code,issue,negative,neutral,neutral,neutral,neutral,neutral
427617883,"could shape recognition be used to process the 'game' avatars vision state
and navigate the map visually?

something like D* but using shape recognition and repeated trials?

'neural game ai' that act like people do?

On Sat, Oct 6, 2018 at 4:15 PM Dmitry Chichkov <notifications@github.com>
wrote:

> Is there a pybullet example/test program with a small description what it
> is trying to do?
> Does the getCamereImageArray work without TensorRT as well?
>
> getCamereImageArray works without TensorRT. It returns rendered images and
> an empty featureVector. It is still might be useful in that mode. I.e.
> allows 700*16 FPS (see image in the comment above) rendered and delivered
> to python/numpy.
>
> To build it without TensorRT, just comment out ""#define BT_USE_TENSOR_RT""
> in the eglRendererVisualShapeConverter.cpp.
>
> Code below should produce an array of images similar to the one with R2D2s
> above:
> `
> import pybullet as p, numpy as np, PIL
>
> cameraArraySize,width,height = 16,160, 160
> viewMatrices =
> np.array([p.computeViewMatrixFromYawPitchRoll(cameraTargetPosition =
> [0,0,0], distance = 1, yaw = yaw, pitch = -10, roll = 0, upAxisIndex = 2)
> for yaw in range(0,10 * cameraArraySize,10)]
> , dtype=np.float32)
> projectionMatrices = np.array([p.computeProjectionMatrixFOV(fov = 60,
> aspect = width / height, nearVal = 0.01, farVal = 100)] * cameraArraySize,
> dtype=np.float32)
>
> p.loadURDF(""plane.urdf"",[0,0,-1])
> p.loadURDF(""r2d2.urdf"")
>
> cameraArraySize,width,height,rgb,featureLength,features =
> p.getCameraArrayImage(cameraArraySize=cameraArraySize,width=width,height=height,featureLength=1001,viewMatrices=viewMatrices,projectionMatrices=projectionMatrices)
>
> PIL.Image.frombuffer('RGB', (width,height*cameraArraySize), rgb,
> 'raw').save(""out.png"")
> `
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1885#issuecomment-427612882>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WYvaa4gzaTk7BIh8QV5zXjkpuIQLks5uiTmDgaJpZM4Wva61>
> .
>
",could shape recognition used process vision state navigate map visually something like shape recognition repeated game ai act like people sat wrote program small description trying work without well work without empty still might useful mode see image comment build without comment define code produce array similar one import width height distance yaw yaw pitch roll yaw range aspect width height width height width height thread reply directly view mute thread,issue,positive,negative,neutral,neutral,negative,negative
427612882,"> Is there a pybullet example/test program with a small description what it is trying to do?
> Does the getCamereImageArray work without TensorRT as well?

getCamereImageArray  works without TensorRT.   It returns rendered images and an empty featureVector.  It is still might be useful in that mode. I.e. allows 700*16 FPS (see image in the comment above) rendered and delivered to python/numpy.

To build it without TensorRT, just comment out  ""#define BT_USE_TENSOR_RT""  in the eglRendererVisualShapeConverter.cpp.

Code below should produce an array of images similar to the one with R2D2s above:
`
import pybullet as p, numpy as np, PIL

cameraArraySize,width,height = 16,160, 160
viewMatrices = np.array([p.computeViewMatrixFromYawPitchRoll(cameraTargetPosition = [0,0,0], distance = 1, yaw = yaw, pitch = -10, roll = 0, upAxisIndex = 2) for yaw in range(0,10 * cameraArraySize,10)]
, dtype=np.float32)
projectionMatrices = np.array([p.computeProjectionMatrixFOV(fov = 60, aspect = width / height, nearVal = 0.01, farVal = 100)] * cameraArraySize, dtype=np.float32)

p.loadURDF(""plane.urdf"",[0,0,-1])
p.loadURDF(""r2d2.urdf"")

cameraArraySize,width,height,rgb,featureLength,features = p.getCameraArrayImage(cameraArraySize=cameraArraySize,width=width,height=height,featureLength=1001,viewMatrices=viewMatrices,projectionMatrices=projectionMatrices)

PIL.Image.frombuffer('RGB', (width,height*cameraArraySize), rgb, 'raw').save(""out.png"")
`",program small description trying work without well work without empty still might useful mode see image comment build without comment define code produce array similar one import width height distance yaw yaw pitch roll yaw range aspect width height width height width height,issue,negative,negative,neutral,neutral,negative,negative
427610717,"Thanks for the contribution. It exposed an issue in reporting the friction, will be fixed in this commit/pr:
https://github.com/bulletphysics/bullet3/pull/1919",thanks contribution exposed issue friction fixed,issue,negative,positive,positive,positive,positive,positive
427595260,"> We should be either in the the same process as eglMakeCurrent() call, or bind/initialize EGL in the same way.

All plugins are executed in the same thread, so if there is a eglPlugin and tensorRT plugin, one just has to make sure eglPlugin is initialized first. Only 1 thread makes EGL/OpenGL calls, so we don't need to worry about makecurrent. (We only use eglPlugin in a headless environment (DIRECT, SHARED_MEMORY_SERVER, GRPC, TCP, UDP etc modes, not in GUI / VR mode).",either process call way executed thread one make sure first thread need worry use headless environment direct mode,issue,negative,positive,positive,positive,positive,positive
427594991,"Is there a pybullet example/test program with a small description what it is trying to do?

Does the getCamereImageArray work without TensorRT as well? 
If so, I would prefer to create the getCamereImageArray as a separate PR.

Then the 'TensorRT' as a follow-up PR, which is more tricky, due to CUDA dependency (which may not be available on platforms etc). I am very careful not to break anything, not backward incompatible changes if possible (since we have many internal tests/projects that use it, and they are not supposed to break).",program small description trying work without well would prefer create separate tricky due dependency may available careful break anything backward incompatible possible since many internal use supposed break,issue,negative,positive,neutral,neutral,positive,positive
427589931,"My pleasure!  It's a nice codebase to work with.  Brings in memories of Carmack's code.  And sure, I'd be happy to meet over a cup of coffee or lunch (pm me over gmail, it's the same as my github handle).

> Thanks a lot for the work! I'll look at it soon. Also, you are in the Bay Area right? We could also meet in person to discuss.
",pleasure nice work code sure happy meet cup coffee lunch handle thanks lot work look soon also bay area right could also meet person discus,issue,positive,positive,positive,positive,positive,positive
427540989,"Thanks a lot for the work! I'll look at it soon. Also, you are in the Bay
Area right? We could also meet in person to discuss.

On Fri, 5 Oct 2018 at 18:32, Dmitry Chichkov <notifications@github.com>
wrote:

> It seem to be code complete and both single-pass/multiple viewport
> rendering and batch inference are working. Still some minor cleanup left.
> TODOs:
>
>    - decide if the approach of a single plugin is right / etc;
>    - have a go-ahead on the final integration;
>    - add model, layers names as parameters;
>    - pass in other parameters (workspace size / FP16 / etc);
>    - rebase onto clang-reformatted code, integrate other changes;
>    - test resizing, make sure it plays well with regular rendering calls;
>    - add support for .plan files, to avoid model optimization every run;
>    - add CMake build parameter, to enable TensorRT feature;
>    - add support of other build systems;
>    - add tests;
>    - writeup / documentation / installation;
>
> Tested with CUDA 9.2 / TensorRT 4 and CUDA 10.0 / TensorRT 5. No
> significant performance difference between TensorRT 4 and 5, on SqueezeNet.
> Depending on the complexity of the scene and the network, either inference
> of rendering is a limiting factor.
>
> I'll work on TODOs ~ Oct 15th, right now focusing on transitioning my
> training to use this code. I'd really appreciate any review / feedback,
> before I do a run of cleanup.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1885#issuecomment-427536108>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3HADlK5M0usCTFWwx-sE3fNl5pvKks5uiAgTgaJpZM4Wva61>
> .
>
",thanks lot work look soon also bay area right could also meet person discus wrote seem code complete rendering batch inference working still minor cleanup left decide approach single right final integration add model pas size rebase onto code integrate test make sure well regular rendering add support avoid model optimization every run add build parameter enable feature add support build add documentation installation tested significant performance difference depending complexity scene network either inference rendering limiting factor work th right training use code really appreciate review feedback run cleanup reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
427536108,"It seem to be code complete and both single-pass/multiple viewport rendering and batch inference are working.  Still some minor cleanup left. TODOs:
- [ ] decide if the approach of a single plugin is right / etc;
- [ ] have a go-ahead on the final integration;
- [ ] add model, layers names as parameters;
- [ ] pass in other parameters (workspace size / FP16 / etc);
- [ ] rebase onto clang-reformatted code, integrate other changes;
- [ ] test resizing, make sure it plays well with regular rendering calls;
- [ ] add support for .plan files, to avoid model optimization every run;
- [ ] add  CMake build parameter, to enable TensorRT feature;
- [ ] add support of other build systems;
- [ ] add tests;
- [ ] writeup / documentation / installation;

Tested with CUDA 9.2 / TensorRT 4 and CUDA 10.0 / TensorRT 5.  No significant performance difference between TensorRT 4 and 5, on SqueezeNet.  Depending on the complexity of the scene and the network, either inference of rendering is a limiting factor. 

I'll work on TODOs ~ Oct 15th, right now focusing on transitioning my RL environment to use this code.  I'd really appreciate any review / feedback, before I do a run of cleanup.
",seem code complete rendering batch inference working still minor cleanup left decide approach single right final integration add model pas size rebase onto code integrate test make sure well regular rendering add support avoid model optimization every run add build parameter enable feature add support build add documentation installation tested significant performance difference depending complexity scene network either inference rendering limiting factor work th right environment use code really appreciate review feedback run cleanup,issue,positive,positive,positive,positive,positive,positive
426862418,"Test code:
```
cameraArraySize,width,height = 16,160, 160
viewMatrices, projectionMatrices = [], []
for yaw in range(0,10 * cameraArraySize,10):
        viewMatrix = p.computeViewMatrixFromYawPitchRoll(cameraTargetPosition = [0,0,0], distance = 1, yaw = yaw, pitch = -10, roll = 0, upAxisIndex = 2)
        projectionMatrix = p.computeProjectionMatrixFOV(fov = 60, aspect = width / height, nearVal = 0.01, farVal = 100)
        viewMatrices.append(viewMatrix)
        projectionMatrices.append(projectionMatrix)

viewMatrices = np.array(viewMatrices, dtype=np.float32)
projectionMatrices = np.array(projectionMatrices, dtype=np.float32)

plane = p.loadURDF(""plane.urdf"")
p.loadURDF(""plane.urdf"",[0,0,-1])
p.loadURDF(""r2d2.urdf"")
p.loadURDF(""duck_vhacd.urdf"")

cameraArraySize,width,height,rgb,featureLength,features = p.getCameraArrayImage(cameraArraySize=cameraArraySize,width=width,height=height,featureLength=2000,viewMatrices=viewMatrices,projectionMatrices=projectionMatrices)
```
",test code width height yaw range distance yaw yaw pitch roll aspect width height plane width height,issue,negative,neutral,neutral,neutral,neutral,neutral
426861985,"I've integrated back original GLInstancingRenderer.cpp code, I think there shouldn't be incompatible changes in the GLInstancingRenderer now.  Still need to further test.  Also need to rebase / integrate your clang-format / latest viewport cleanups, etc.

Seem more or less alive. Performance is also looking promising - on R2D2 and 16-way rendering, 700 FPS - so it is 10k FPS total.  Batch inference also seem to run, but resulting output not validated at all.

![0 array](https://user-images.githubusercontent.com/369017/46449245-d24e1600-c73f-11e8-8037-1088b3b379ae.png)
",back original code think incompatible still need test also need rebase integrate latest seem le alive performance also looking promising rendering total batch inference also seem run resulting output array,issue,positive,positive,positive,positive,positive,positive
426798976,"I do not know how friction is implemented in pybullet, by usually the _friction coefficient_ does not depend on mass (do not confuse it with the _friction force_).",know friction usually depend mass confuse,issue,negative,negative,negative,negative,negative,negative
426668360,"@erwincoumans 
~If one loads a SDF file instead of a URDF file with the `testrender_egl.py` script the material colors don't work, with the default tiny renderer they do, and in the OpenGL debug viewer too.~

~For example by substituting the R2D2 with the IIWA:~
```
-pybullet.loadURDF(""r2d2.urdf"")
+pybullet.loadSDF(""kuka_iiwa/kuka_with_gripper2.sdf"")
```
EDIT: this is fixed",one file instead file script material color work default tiny renderer viewer example substituting edit fixed,issue,negative,positive,neutral,neutral,positive,positive
426308863,">> shapes don't get deleted with pybullet.resetSimulation

Visual shapes are now removed in
~~~~~~~~~~~
void EGLRendererVisualShapeConverter::resetAll()

m_data->m_instancingRenderer->removeAllInstances();
~~~~~~~~~~~
https://github.com/bulletphysics/bullet3/pull/1913/commits/0f8b8388a62e4baf9a3afed34ece7283dde9b470

",get visual removed void,issue,negative,neutral,neutral,neutral,neutral,neutral
426307848,"We now use glViewport to select the right image size when rendering, so glReadPixels reads the right size image. This issue can be closed now.
See also https://github.com/bulletphysics/bullet3/pull/1913",use select right image size rendering right size image issue closed see also,issue,negative,positive,positive,positive,positive,positive
425725088,"I added segmentation mask rendering in OpenGL GLInstancingRenderer.
Also added glViewport to resize to destination size, makes it much faster (glReadPixels was reading the source width).
This will likely conflict with this PR. Hopefully we can sort it out somehow.
https://github.com/bulletphysics/bullet3/pull/1905",added segmentation mask rendering also added resize destination size much faster reading source width likely conflict hopefully sort somehow,issue,negative,positive,neutral,neutral,positive,positive
425605947,">> Isn't there a way to share the code paths and just add some shaders? The shadow pass is optional, there is a boolean for that. 

Yes, thank you for the feedback.  I'll do exactly that.  In the GLInstancingRenderer, I've only removed the code temporarily - it's difficult to work directly on the original GLInstancingRenderer codebase - it's large. 

>> I'm searching for a nice open source real-time raytracer that benefits RTX/CUDA (with denoising). Are you aware of any?

Let me get back on that.  Quick google search gives  https://github.com/NVIDIAGameWorks/Falcor  and https://github.com/world8th/vRt  (it looks like there's work in progress, see ""make Turing capable traffic of stack"" recent change, etc).  Anything open-source / cross vendor likely will be Vulkan based.   There's also some low level raytracing sample code around, for example see page 45:  http://on-demand.gputechconf.com/gtc/2018/presentation/s8521-advanced-graphics-extensions-for-vulkan.pdf

AFAIK denoising with DNN is fairly advanced - it needs training of the denoising DNN, you can't just use a generic one (I might be wrong here).
",way share code add shadow pas optional yes thank feedback exactly removed code temporarily difficult work directly original large searching nice open source aware let get back quick search like work progress see make capable traffic stack recent change anything cross vendor likely based also low level sample code around example see page fairly advanced need training ca use generic one might wrong,issue,positive,positive,neutral,neutral,positive,positive
425598014,"Thanks for the contribution, let's merge it.",thanks contribution let merge,issue,negative,positive,positive,positive,positive,positive
425597064,">> I was thinking of keeping the existing code, and adding a simplified (no shadows,etc) 
>> rendering mode for a camera array call.

We need to keep the current features of the GLInstancingRenderer, various teams/people are using and relying on it.  Creating yet another simplified renderer add maintenance burden though. Isn't there a way to share the code paths and just add some shaders? The shadow pass is optional, there is a boolean for that. Also, I'm currently adding support for segmentation mask in the GLInstancingRenderer (people use that in TinyRenderer at the moment, so if/when they want to switch to EGL, they need it too).

Please keep my concern into account related to keep things compiling/linking/running if the new features are not available, in particular CUDA, TensorRT and geometry shaders.

I'm searching for a nice open source real-time raytracer that benefits RTX/CUDA (with denoising). Are you aware of any?",thinking keeping code simplified rendering mode camera array call need keep current various yet another simplified renderer add maintenance burden though way share code add shadow pas optional also currently support segmentation mask people use moment want switch need please keep concern account related keep new available particular geometry searching nice open source aware,issue,positive,positive,positive,positive,positive,positive
425542437,"Yup, I don't think the bug is related to pybullet itself and it was just a misunderstanding on my part.

It's my own custom environment but strongly based on 'ReacherBulletEnv-v0'. It just doesn't seem to get better as it trains (using OpenAI's baseline agent). I'll need to look into it more before specifying anything.

Thanks for the quick response and feedback Erwin! 
",think bug related misunderstanding part custom environment strongly based seem get better agent need look anything thanks quick response feedback,issue,positive,positive,positive,positive,positive,positive
425535283,"Ah, so all is well on the sanity test?
~~~~~~~~~~~~
Yup, it was just a basic sanity test since I am having a hard time learning the reacher-2D task in pybullet (bug is probably somewhere else).
~~~~~~~~~~~~
Is this the 'ReacherBulletEnv-v0' PyBullet gym environment from pybullet_envs (part of pip install pybullet) or your custom env? What kind of bug?
",ah well sanity test basic sanity test since hard time learning task bug probably somewhere else gym environment part pip install custom kind bug,issue,positive,positive,positive,positive,positive,positive
425530108,"Forgot to clarify this earlier, I'm also restricting the two joints to be planar relative to each other so that i'm dealing with 2D commutative rotations and the position is restricted to be in a plane. 

I did a quick test again, where I kept track of my sent average velocity commands and it seems like the position offset was just a function of how far off the actual average velocity was of zero.

Yup, it was just a basic sanity test since I am having a hard time learning the reacher-2D task in pybullet (bug is probably somewhere else). I was also initially concerned because in the original pictures the offset was especially bad, but after running it a few more times that situation seems to rarely happen (I am guessing since sampling np.random.uniform(-1,1) rarely goes too far off of 0).",forgot clarify also two planar relative dealing commutative position restricted plane quick test kept track sent average velocity like position offset function far actual average velocity zero basic sanity test since hard time learning task bug probably somewhere else also initially concerned original offset especially bad running time situation rarely happen guessing since sampling rarely go far,issue,negative,negative,neutral,neutral,negative,negative
425528882,"* TensorRT support, feature extraction, what does it bring

It allows to run a DNN (for example a TensorFlow model) on a rendered image, directly in the GPU memory.  

Currently, in case of GPU based OpenGL renderer, images are being rendered into the GPU memory and then copied into CPU.  Multiple memory copy operations are being done on the images  in the CPU (reverse pass over memory to flip the image, RGBA->RGB, shared memory, copying in chunks, etc). In the RL case, or image post-processing pipeline (DNN post-processing, to make it more realistic, etc) cases, image is often copied back to GPU.  The module allows to run these operations directly in the GPU memory, and then only copy DNN output.  For some RL cases, this optimizes pipeline significantly, as extracted embedding is much smaller / can easily be stored in the exp. replay buffers, etc.

> It doesn't have to be in the same plugin. It requires correctly initialized OpenGL (to get pointer to pixels in the GPU). We should be either in the the same process as eglMakeCurrent() call, or bind/initialize EGL in the same way.
> 
> The cooperation that it requires from eglPlugin is getCameraImage(width,height, viewMatrix, projectionMatrix) call with a flag that asks it to do only rendering and omit any pixel transfers calls. Or alternatively, support for getCameraImageArray(arraySize, width,height, viewMatrix[], projectionMatrix[]) call that renders multiple views stacked vertically with single-pass/multi-viewport rendering.
> 

* getCameraImageArray

This allows to render images from an array of cameras (specified by an array of view/projection matrices), rather than a single camera. In case of a OpenGL implementation - in a _single pass_ of GPU render calls.  Useful, if you have multiple robots present in a single environment, or a single robot has an array of cameras.  Single pass - multiple view rendering is much more efficient way of rendering.

Then it can calls a TensorRT model, on the rendered array of images.  And apply DNN processing in a batch mode.  This also gives a significant speedup (easily can give 10x for small images), over running DNN processing on a single image (due to various overheads and under-utilization of the system).

* geometry shaders, why/how

It uses single-pass multiple viewport rendering - see: 

https://www.khronos.org/registry/OpenGL/extensions/ARB/ARB_viewport_array.txt
In the geometry step, render calls are being pushed in parallel into multiple views, with the array of camera matrices indexed by viewport instance ID.

* refactoring GLInstancingRenderer why/how

There are two changes:
 1) refactoring, only allowing single pass rendering (no shadows, etc);
 2) making that single pass render into multiple views (with ARB_viewport_array / geometry shader);

This is work in progress. I was thinking of keeping the existing code, and adding a simplified (no shadows,etc) rendering mode for a camera array call.  I'm not sure of usefulness of multiple pass/faking shadows/etc in the long-term (raytracing doesn't require it).  And it was increasing the complexity of the shader.  Your advice on this will be much appreciated.

(please note, all of this might be wrong in many places - I'm a deep learning adept, not graphics adept! - but in the tests it seemed to work as intended).

> Finally, I ran a clang-format on the source tree a few days ago, the patch needs to take it into account. What is a good way to hand this? Rebase?

I'll run it with the same settings, see if we get the same result? It'd be good to know exact version of clang-format.",support feature extraction bring run example model image directly memory currently case based renderer memory copied multiple memory copy done reverse pas memory flip image memory case image pipeline make realistic image often copied back module run directly memory copy output pipeline significantly extracted much smaller easily replay correctly get pointer either process call way width height call flag rendering omit alternatively support width height call multiple vertically rendering render array array matrix rather single camera case implementation render useful multiple present single environment single robot array single pas multiple view rendering much efficient way rendering model array apply batch mode also significant easily give small running single image due various system geometry multiple rendering see geometry step render parallel multiple array camera matrix indexed instance id two single pas rendering making single pas render multiple geometry shader work progress thinking keeping code simplified rendering mode camera array call sure usefulness multiple require increasing complexity shader advice much please note might wrong many deep learning adept graphic adept work intended finally ran source tree day ago patch need take account good way hand rebase run see get result good know exact version,issue,positive,positive,positive,positive,positive,positive
425522567,"~~~~~~~~~~~~~~
As a quick test, I am sending random 0 mean actions:
I thought that since the timesteps were constant and the velocities were 0 mean, the final position should remain near 0?
~~~~~~~~~~~~~~
Why would that be? Rotations are not commutative, so even if you step the simulation with a series of joint velocities whose sum is zero, the result on the position is surely not zero.

Try it with a cubic cube: apply a sequence of rotations, then apply the inverse sequence, but in randomized order. You surely don't end up in the same state.

Also, what does the test have to do with the environment? Just a basic sanity test?",quick test sending random mean thought since constant mean final position remain near would commutative even step simulation series joint whose sum zero result position surely zero try cubic cube apply sequence apply inverse sequence order surely end state also test environment basic sanity test,issue,positive,positive,neutral,neutral,positive,positive
425516361,"I might be misunderstanding what you are saying and/or what's going on in the underlying simulation but to clarify:

I am sending 0 mean random velocities at each time step. I thought that since the timesteps were constant and the velocities were 0 mean, the final position should remain near 0? My reasoning might be flawed, but I can't immedietaly see why. M guess is that the drift would come from the average motor commands not being exactly 0? 

I don't think I disabled the velocity motor, I am using:
```bash
p.setJointMotorControlArray(id, motor_indices[0:6], p.VELOCITY_CONTROL,
                                            targetVelocities=v, forces=f)
```",might misunderstanding saying going underlying simulation clarify sending mean random time step thought since constant mean final position remain near reasoning might flawed ca see guess drift would come average motor exactly think disabled velocity motor bash id,issue,negative,negative,negative,negative,negative,negative
425498134,"It is not clear what the issue is. When you apply random forces, forward dynamics will result in random poses. Why would the joint positions stay at 0, when applying random forces?
Also, did you disable the default velocity motors? If they are disabled, what keeps the links from falling down due to gravity?",clear issue apply random forward dynamic result random would joint stay random also disable default velocity disabled link falling due gravity,issue,positive,negative,negative,negative,negative,negative
425481971,">> eviscerated GLInstancingRenderer. Would really appreciate early feedback / code review. Thanks!

Ah, I didn't realize your pull request contains that many changes, it start looking like a refactoring of existing files.

My biggest concern is that things keep on compiling/linking/running if the new features are not available, in particular CUDA, TensorRT and geometry shaders. TinyRendererPlugin and eglRendererPlugin can co-exist, and since eglRenderer isn't working in many cases (driver issues etc), it has to be enabled using the 'loadPlugin' command before activating it.

I'll look more into the patch soon.

Can you give a paragraph or so what feature(s) you add, and how they interact?

1) TensorRT support, feature extraction, what does it bring
2) getCameraImageArray
3) geometry shaders, why/how
4) refactoring GLInstancingRenderer why/how

If those 4 steps are the main ones, ideally the work for each step would have been split into its own separate patch, so they can be applied/reviewed one by one, if at all possible.

Anway, let's iterate and see how/if we can get this in.

Finally, I ran a clang-format on the source tree a few days ago, the patch needs to take it into account. What is a good way to hand this? Rebase?
",would really appreciate early feedback code review thanks ah realize pull request many start looking like biggest concern keep new available particular geometry since working many driver command look patch soon give paragraph feature add interact support feature extraction bring geometry main ideally work step would split separate patch one one possible let iterate see get finally ran source tree day ago patch need take account good way hand rebase,issue,positive,positive,positive,positive,positive,positive
424970669,"Please, could you give a bit of code-review?

> You could add some interface in the [UrdfRenderingInterface.h](https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportURDFDemo/UrdfRenderingInterface.h).

Ok. I've sketched  ""Render Camera Array / Run Inference"" interface, along the lines:
`p.getCameraArrayImage(cameraArraySize, w, h, viewMatrices[cameraArraySize][16], projection[cameraArraySize][16], lightDir[3], lightColor[3], lightDist, hasShadow, lightAmbientCoeff, lightDiffuseCoeff, lightSpecularCoeff, renderer)
`
it will return cameraArraySize,  width, height, rgb,   featureLength, features.

Renders images from a 'camera array', with specified camera matrices, with single-pass/multi-viewport rendering. And then runs inference in a batch, in TensorRT.  I've pushed an early sketch, but both single-pass/multi-viewport rendering and batch inference steps had been working.   Compiles, but doesn't yet link, because I've eviscerated GLInstancingRenderer.   Would really appreciate early feedback / code review.  Thanks!

Sample camera array rendering:
![0 plugin](https://user-images.githubusercontent.com/369017/46126419-0c6c6480-c1e2-11e8-9f99-12d3cdaebb73.png)
",please could give bit could add interface render camera array run inference interface along projection renderer return width height array camera matrix rendering inference batch early sketch rendering batch inference working yet link would really appreciate early feedback code review thanks sample camera array rendering,issue,positive,positive,positive,positive,positive,positive
424934608,"We use a different code style at the moment (tabs instead of spaces etc),
can you run clang-format-all.sh ? or clang-format using the _clang-format file in the root of Bullet?
Also, where is the loadUrdf called with the new boolean?",use different code style moment instead run file root bullet also new,issue,negative,positive,neutral,neutral,positive,positive
424934223,"You would create two cameras indeed, each with their own view matrix (likely same projection matrix).
We don't have an implementation to compute the distance/depth from a stereo image, do you have that?",would create two indeed view matrix likely projection matrix implementation compute stereo image,issue,negative,neutral,neutral,neutral,neutral,neutral
424780959,"It should be fixed in 2.2.2, please use
~~~~~~~~~~~~~~~
pip install --no-cache-dir -U --user pybullet
~~~~~~~~~~~~~~~
(to make sure you get pybullet version 2.2.2 or later)
",fixed please use pip install user make sure get version later,issue,positive,positive,positive,positive,positive,positive
424780524,"If you the premake or cmake to generate the examples, it should compile link and run out-of-the-box.
If you one of those scripts, and you get still the linker error, please re-open:
~~~~~~~~~
build_cmake_pybullet_double.sh
build_visual_studio_vr_pybullet_double.bat
build_visual_studio_vr_pybullet_double_cmake.bat
build_visual_studio_without_pybullet_vr.bat
~~~~~~~~~",premake generate compile link run one get still linker error please,issue,negative,neutral,neutral,neutral,neutral,neutral
424589529,"Hi, @nimaasg could you please list all the steps that made it work for you.?
How do I start a physics server for vr using bullet3 and how do I connect to it using pybullet
",hi could please list made work start physic server bullet connect,issue,negative,neutral,neutral,neutral,neutral,neutral
423986590,"> I just applied a clang-format on the source tree, which may result in conflicts.

Rebased on current master and ran `clang-format-all.sh`.",applied source tree may result current master ran,issue,negative,neutral,neutral,neutral,neutral,neutral
423872983,"Thanks for the pull request!
I just applied a clang-format on the source tree, which may result in conflicts.
Can you try applying the script clang-format-all.sh in the root (works on Windows, Mac and Linux).
Alternatively, I can apply the diff with no-whitespace manually.
(using https://github.com/bulletphysics/bullet3/pull/1896.diff)",thanks pull request applied source tree may result try script root work mac alternatively apply manually,issue,negative,positive,positive,positive,positive,positive
423641360,Yes fixed! Thanks for the very fast turnaround.,yes fixed thanks fast turnaround,issue,positive,positive,positive,positive,positive,positive
423640115,"It should be fixed in 2.2.0, can you try it?
~~~~~~~
pip install --user -U  --no-cache-dir pybullet
~~~~~~~
Thanks for the report!
",fixed try pip install user thanks report,issue,negative,positive,positive,positive,positive,positive
423630050,Version 2.2.0 installed successfully with pip ! Thank you Erwin !,version successfully pip thank,issue,positive,positive,positive,positive,positive,positive
423551908,"It seems like there are still some issues:

- [ ] Vertex colors don't work, I'm importing from `.sdf`
- [ ] shapes don't get deleted with `pybullet.resetSimulation`",like still vertex color work get,issue,negative,neutral,neutral,neutral,neutral,neutral
423526255,"We used to upload prebuild wheels, but there are too many incompatible Python components (regular versus Anaconda, with or without numpy, etc).",used many incompatible python regular versus anaconda without,issue,negative,positive,positive,positive,positive,positive
423432902,"Probably it's just a problem with visual studio or some other component, not with pybullet itself. I haven't seen any other people posting the same issue.

Would it be possible to get pre-build wheels for pybullet ?",probably problem visual studio component seen people posting issue would possible get,issue,negative,neutral,neutral,neutral,neutral,neutral
423289712,It is a ‘feature’ of pip to cache out-of-date versions. Use -no-cache-dir option,feature pip cache use option,issue,negative,neutral,neutral,neutral,neutral,neutral
423262117,"Alright, I gited the repository and ran `python setup.py install` and it did install !
The output was:
`Installed c:\anaconda3\envs\pybullet_env\lib\site-packages\pybullet-2.1.6-py3.6-win-amd64.egg
Processing dependencies for pybullet==2.1.6
Finished processing dependencies for pybullet==2.1.6`

It is not the latest version as I understand ?

Right after installation I tried to upgrade pybullet by running `pip install -U pybullet`. Not only it didn't upgrade to a newer version it also uninstalled the exiting one !

Then I ran `pip install -U pybullet ` again and recorded the output in a txt file. 
[output-log.txt](https://github.com/bulletphysics/bullet3/files/2402351/output-log.txt)

**Update**

I ran `python setup.py install` from the repository and it installed well again.
I can now import the module without a problem.
```
>>> import pybullet
pybullet build time: Sep 20 2018 19:31:43
>>> 
```

Here is the log of installation - 
[output-log-setup.txt](https://github.com/bulletphysics/bullet3/files/2402376/output-log-setup.txt)

I'm only able to install the older version from repository with setup.py. I still can't install the newest one with pip. The output is the same as in output-log.txt file.",alright repository ran python install install output finished latest version understand right installation tried upgrade running pip install upgrade version also uninstalled one ran pip install output file update ran python install repository well import module without problem import build time log installation able install older version repository still ca install one pip output file,issue,positive,positive,positive,positive,positive,positive
423260122,">> By the way, does TensorRT have to be in the same plugin as EGL? Or could it be a separate plugin, just using CUDA/TensorRT? If so, we can easier make customizations, a separate API etc.

It doesn't have to be in the same plugin.  It requires correctly initialized OpenGL (to get pointer to pixels in the GPU). We should be either in the the same process as eglMakeCurrent() call, or bind/initialize EGL in the same way.  

The cooperation that it requires from eglPlugin is getCameraImage(width,height, viewMatrix, projectionMatrix) call with a flag that asks it to do only rendering and omit any pixel transfers calls.  Or alternatively, support for getCameraImage(width,height, viewMatrix[], projectionMatrix[]) call that renders multiple views stacked vertically.  Ideally with single-pass/multi-viewport rendering, but even sequential render() calls and a batch inference call do significantly speed up the process (10x faster for thirty 160x160 cameras).",way could separate easier make separate correctly get pointer either process call way width height call flag rendering omit alternatively support width height call multiple vertically ideally rendering even sequential render batch inference call significantly speed process faster thirty,issue,positive,positive,positive,positive,positive,positive
423235354,"The essential part is missing, what file is missing from the linker. 
Can you copy and past the full outpu?
What version of pybullet (2.1.9 is latest)?

Second way:
Can you git checkout github.com/bulletphysics/bullet3 and run python setup.py build in the root of Bullet and provide full error message?
",essential part missing file missing linker copy past full version latest second way git run python build root bullet provide full error message,issue,negative,positive,neutral,neutral,positive,positive
423206553,"Thanks Dmitry,

>> what is the best way to call the constructor EGLRendererTensorRT() and pass the model name?

The 'executePluginCommand' allows the user to pass string, array of integers and array of floats. It is up to you to create a protocol for this.

>> what is the best way to call copyCameraImageFeatures ?

You could add some interface in the [UrdfRenderingInterface.h](https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportURDFDemo/UrdfRenderingInterface.h
).
By the way, does TensorRT have to be in the same plugin as EGL? Or could it be a separate plugin, just using CUDA/TensorRT? If so, we can easier make customizations, a separate API etc.

>> I would really appreciate a kick to the right direction, 
>> onto how to convince various build systems to find the headers. 

In premake4, we explicitly enable a feature (--enable_tensorrt) and pass the include and library directories. I can look into that. For pybullet pip version is will be more complicated. Since many people don't have the CUDA/RT libraries installed, we cannot enable it unless we can avoid compile/link errors.

Let's first get the cmake support working.

>> SET(CMAKE_CXX_STANDARD 11)

Yes, if (and only if) tensorrt is enabled, we enable this flag. We do the same for the GRPC plugin, it requires C++11 as well. It would be best to add some flag in cmake to enable/disable TensorRT support.

Please undo the minor change in PhysicsServerCommandProcessor to avoid the conflict in the pull request.
",thanks best way call constructor pas model name user pas string array array create protocol best way call could add interface way could separate easier make separate would really appreciate kick right direction onto convince various build find premake explicitly enable feature pas include library look pip version complicated since many people enable unless avoid let first get support working set yes enable flag well would best add flag support please undo minor change avoid conflict pull request,issue,positive,positive,positive,positive,positive,positive
423049964,"It does seem to be alive:
```
./test.sh 
pybullet build time: Sep 20 2018 01:48:32
argv[0]=--window_backend=2
argv[1]=--render_device=0
argv[2]=--width=160
argv[3]=--height=160
Loaded EGL 1.4 after reload.
GL_VENDOR=NVIDIA Corporation
GL_RENDERER=Tesla M60/PCIe/SSE2
GL_VERSION=4.6.0 NVIDIA 396.44
GL_SHADING_LANGUAGE_VERSION=4.60 NVIDIA
Version = 4.6.0 NVIDIA 396.44
Vendor = NVIDIA Corporation
Renderer = Tesla M60/PCIe/SSE2
b3Warning[/home/ubuntu/github/bullet3/examples/SharedMemory/plugins/eglPlugin/eglRendererTensorRT.cpp,44]:
GLTensorRTLogger: 3 UFFParser: parsing input
b3Warning[/home/ubuntu/github/bullet3/examples/SharedMemory/plugins/eglPlugin/eglRendererTensorRT.cpp,44]:
...
...
b3Warning[/home/ubuntu/github/bullet3/examples/SharedMemory/plugins/eglPlugin/eglRendererTensorRT.cpp,44]:
GLTensorRTLogger: 3 Block size 69376
b3Warning[/home/ubuntu/github/bullet3/examples/SharedMemory/plugins/eglPlugin/eglRendererTensorRT.cpp,44]:
GLTensorRTLogger: 3 Block size 0
b3Warning[/home/ubuntu/github/bullet3/examples/SharedMemory/plugins/eglPlugin/eglRendererTensorRT.cpp,44]:
GLTensorRTLogger: 3 Total Activation Memory: 6183168
b3Warning[/home/ubuntu/github/bullet3/examples/SharedMemory/plugins/eglPlugin/eglRendererTensorRT.cpp,44]:
GLTensorRTLogger: 3 Data initialization and engine generation completed in 0.0241021 seconds.
ven = NVIDIA Corporation
inputDataHost: 0.000000 0.847059 0.000000 0.000000 0.600000

905:0.454386 633:0.038937 906:0.021344 795:0.020545 907:0.018450 
test.py:29: RuntimeWarning: the frombuffer defaults may change in a future release; for portability, change the call to read:
  frombuffer(mode, size, data, 'raw', mode, 0, 1)
  Image.frombuffer('RGBA', (width,height), rgba, 'raw').save(""0."" + sys.argv[1] + "".png"")
Destroy EGL OpenGL window.
```
",seem alive build time loaded reload corporation version vendor corporation renderer input block size block size total activation memory data engine generation corporation may change future release portability change call read mode size data mode width height destroy window,issue,negative,negative,neutral,neutral,negative,negative
422879936,"Excellent, keep up the good work!",excellent keep good work,issue,positive,positive,positive,positive,positive,positive
422875476,">> EGLOpenGLWindow.cpp: No such file or directory

should be fixed in 2.1.9, somehow the local fix didn't make it in pip. Thanks for the report",file directory fixed somehow local fix make pip thanks report,issue,negative,positive,positive,positive,positive,positive
422805564,"I'm still getting this error:

```
x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -Wdate-time -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security -fPIC -I/usr/lib/python2.7/dist-packages/numpy/core/include -Iexamples/ThirdPartyLibs/optionalX11 -Isrc -Iexamples -Iexamples/ThirdPartyLibs -Iexamples/ThirdPartyLibs/glad -Iexamples/ThirdPartyLibs/enet/include -Iexamples/ThirdPartyLibs/clsocket/src -I/usr/include/python2.7 -c examples/OpenGLWindow/EGLOpenGLWindow.cpp -o build/temp.linux-x86_64-2.7/examples/OpenGLWindow/EGLOpenGLWindow.o -DGWEN_COMPILE_STATIC -DBT_USE_DOUBLE_PRECISION -DBT_ENABLE_ENET -DBT_ENABLE_CLSOCKET -DB3_DUMP_PYTHON_VERSION -DPYBULLET_USE_NUMPY -D_LINUX -DGLEW_STATIC -DGLEW_INIT_OPENGL11_FUNCTIONS=1 -DGLEW_DYNAMIC_LOAD_ALL_GLX_FUNCTIONS=1 -DDYNAMIC_LOAD_X11_FUNCTIONS -DHAS_SOCKLEN_T -fno-inline-functions-called-once -DBT_USE_EGL -fPIC
    x86_64-linux-gnu-gcc: error: examples/OpenGLWindow/EGLOpenGLWindow.cpp: No such file or directory
    x86_64-linux-gnu-gcc: fatal error: no input files
    compilation terminated.
```

Running `pip search pybullet` gives `pybullet (2.1.8)`. This is on Ubuntu 16.04, running in parallels on a Mac OS X 10.11.6, ",still getting error error file directory fatal error input compilation running pip search running mac o,issue,negative,neutral,neutral,neutral,neutral,neutral
421526162,"Thank you for the modified file as well as the Simbicon video! Yes, video recording would be great :) 

Is there a way to know the STL's exact offset though (other than trying out different values)?  For my purposes, I need to be as precise about this as possible.",thank file well video yes video recording would great way know exact offset though trying different need precise possible,issue,positive,positive,positive,positive,positive,positive
421518627,"By the way, I noticed your nice [simbicon pybullet project](https://github.com/Anmol6/locomotion). The upcoming version of Pybullet will make it easier to make a video, if ffmpeg is installed (Windows, Linux, Mac OSX): Attached is video and modified simbicon.py file.

[locomotion.zip](https://github.com/bulletphysics/bullet3/files/2385225/locomotion.zip)

https://www.youtube.com/watch?v=ytE2kxJCwqo",way nice project upcoming version make easier make video mac attached video file,issue,positive,positive,positive,positive,positive,positive
421517569,"The STL is not centered around the origin, so you need to compensate for it in the visual/collision transforms, try this one, note the -.2 0.3 offset.

~~~~~~~~~~~~~~
<?xml version=""0.0"" ?>
<robot name=""frame"">
<link name=""frontWheelLink"">
    <inertial>
      <origin rpy=""0 0 0"" xyz=""0 0 0""/>
       <mass value="".01""/>
       <inertia ixx=""0.01"" ixy=""0"" ixz=""0"" iyy=""0.01"" iyz=""0"" izz=""0.01""/>
    </inertial>
    <visual>
      <origin rpy=""0 0 0"" xyz=""-.2 0.3 0""/>
      <geometry>
      <mesh filename=""simplewheel.stl"" scale=""0.001 0.001 0.001""/>
      </geometry>
        <material name=""framemat0"">
                <color rgba=""0.9 0.4 0.3 1"" />
        </material>
    </visual>
    <collision>
      <origin rpy=""0 0 0"" xyz=""-.2 0.3 0""/>
      <geometry>
       <mesh filename=""simplewheel.stl"" scale=""0.001 0.001 0.001""/>
      </geometry>
    </collision>
  </link>

</robot>
~~~~~~~~~~~~~~",centered around origin need compensate try one note offset robot frame link inertial origin mass inertia visual origin geometry mesh material color collision origin geometry mesh,issue,negative,neutral,neutral,neutral,neutral,neutral
421405330,"Some others had similar issues, various people solve this in different ways, we have no bandwidth on solving it for you.
https://github.com/bulletphysics/bullet3/issues/830
https://github.com/bulletphysics/bullet3/issues/1207
",similar various people solve different way,issue,negative,neutral,neutral,neutral,neutral,neutral
421404492,"It must be some clang/Xcode/compiler issue.

Xcode 9.4.1, Build version 9F2000, can you try updating to a newer Xcode / clang version?",must issue build version try clang version,issue,negative,neutral,neutral,neutral,neutral,neutral
421399388,"Thanks a lot for the report.
Apparently some file was missing in the MANIFEST file, I reuploaded the a new 2.1.7 version to pypi,
can you try it again?
~~~~~~~~~~~~~~~~~~
pip install --no-cache-dir -U pybullet
~~~~~~~~~~~~~~~~~~",thanks lot report apparently file missing manifest file new version try pip install,issue,negative,positive,neutral,neutral,positive,positive
421118175,"well, just in case - glViewport(x,y,width,height) is straightforward, once you call it, rendering calls and glCopyPixels are directed into a window region - you'll get same effect as calling window resizing, but with no memory management. ",well case width height straightforward call rendering directed window region get effect calling window memory management,issue,negative,positive,positive,positive,positive,positive
421082542,It’s hopefully good enough for merging. I’ll have a look at glviewport if I start needing multiple viewport rendering. Feel free to submit a more ideal PR though. ,hopefully good enough look start needing multiple rendering feel free submit ideal though,issue,positive,positive,positive,positive,positive,positive
421077811,Resizing a window is still a costly call which results in GPU memory management - not ideal.   It still seems to me that glViewport is a better way of doing it (and also an approach to single-pass/multiple viewport rendering and running inference in a batch mode).,window still costly call memory management ideal still better way also approach rendering running inference batch mode,issue,positive,positive,positive,positive,positive,positive
421046446,"@pisuto  if you use BT_USE_DOUBLE_PRECISION to build the Bullet libraries ,you also need add this BT_USE_DOUBLE_PRECISION definition in your own applications and all files/libraries that use Bullet.",use build bullet also need add definition use bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
421009594,"sorry, i meet the same problem on ubuntu14.04
can you explain the solution in detail?
thank you.",sorry meet problem explain solution detail thank,issue,negative,negative,negative,negative,negative,negative
420977823,"I've added a `updateWindow` function to `EGLOpenGLWindow` which resizes it without closing. This seems to do the trick.

If somebody has time they could double check if they also see 10% performance drop between 
615f917 and af3f41b. 
",added function without trick somebody time could double check also see performance drop,issue,negative,neutral,neutral,neutral,neutral,neutral
420962113,"To solve this problem, just create a new environment. I've installed in this environment: tensorflow, keras, pybullet and gym. Then called 'Spyder' from the anaconda prompt and everything was ok!",solve problem create new environment environment gym anaconda prompt everything,issue,negative,positive,positive,positive,positive,positive
420922722,"If possible, I would advocate for pre-allocating a single buffer (or opening a single window) and using view-ports on it for each camera, rather than allocating separate buffers.  View ports can be set by [glViewport](https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glViewport.xhtml), and it is a fast operation.  This has the advantage of that a continuous region of GPU memory can be used in other operations (for example inference on a batch of rendered images, rather than on an individual 84x84 image). ",possible would advocate single buffer opening single window camera rather separate view set fast operation advantage continuous region memory used example inference batch rather individual image,issue,negative,positive,neutral,neutral,positive,positive
420697233,">Closing  and opening the window each time you request a different camera image  width/height is not practical. We should look into creating a temporary  framebuffer at the right size. 

~Would using/fixing `m_data->m_window->getResizeCallback()(width, height);` suffice?~
If you want fast rendering with different sizes allocating a buffer per camera would be good. For the simple case of one camera adding a resize function to m_window that resizes the windows buffer would probably do.

>Also, this PR has a lot of white space changes, making it hard to  spot the actual changes, can you undo them? I need to start activating  the use of Clang format (#1822)

fixed. My preference would be 4 space indentation and spaces only, no tabs.

",opening window time request different camera image practical look temporary right size width height suffice want fast rendering different size buffer per camera would good simple case one camera resize function buffer would probably also lot white space making hard spot actual undo need start use clang format fixed preference would space indentation,issue,negative,positive,neutral,neutral,positive,positive
420687693,"Yep. It's extremely well documented for the APIs, perhaps I should read the source code for pybullet_envs a little bit more closely to find out how I can grab the relevant parameters. ",yep extremely well perhaps read source code little bit closely find grab relevant,issue,positive,positive,neutral,neutral,positive,positive
420686230,"> @erwincoumans Thanks for the clarification! Would it be good if these APIs and usage are documented somewhere?

Have you seen the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3)? It documents the 'changeDynamics' and other PyBullet APIs. The internal Gym environments data (such as parts.bodies and unwrapped etc) are not considered public API. If you access/modify internal data/code, you need to dig into that code.
",thanks clarification would good usage somewhere seen guide internal gym data unwrapped considered public internal need dig code,issue,positive,positive,positive,positive,positive,positive
420684485,"Closing and opening the window each time you request a different camera image width/height is not practical. We should look into creating a temporary framebuffer at the right size.

Also, this PR has a lot of white space changes, making it hard to spot the actual changes, can you undo them? I need to start activating the use of Clang format (https://github.com/bulletphysics/bullet3/pull/1822)",opening window time request different camera image practical look temporary right size also lot white space making hard spot actual undo need start use clang format,issue,negative,negative,neutral,neutral,negative,negative
420573298,"I looks like rendering sizes were not being correctly passed to the OpenGL renderer. This means that the the default resolution of 640x480 was being used, for small image sizes such as 84x84 this resulted in a 6x speed increase. :rocket: 

PR at #1875.

```
rendertest.py size: 84x84px
back nenv fps fps_tot
DIRECT/tiny 	 1 136 	 136
DIRECT/egl 	 1 992 	 992
GUI/egl 	 1 522 	 522

rendertest_sync.py size: 84x84px
back nenv fps fps_tot
DIRECT/tiny 	 1 126 	 126
DIRECT/tiny 	 8 47 	 380
DIRECT/egl 	 1 633 	 633
DIRECT/egl 	 8 167 	 1332
GUI/egl 	 1 419 	 419
GUI/egl 	 8 8 	 61

```


![bullet_timings_windowfix](https://user-images.githubusercontent.com/1850503/45415574-408e4400-b67e-11e8-8047-de18da1556d4.png)


on Server: GeForce GTX TITAN X
```
rendertest.py size: 84x84px
back nenv fps fps_tot
DIRECT/tiny 	 1 296 	 296
DIRECT/egl 	 1 1165 	 1165
GUI/egl 	 1 595 	 595

rendertest_sync.py size: 84x84px
back nenv fps fps_tot
DIRECT/tiny 	 1 159 	 159
DIRECT/tiny 	 8 141 	 1132
DIRECT/egl 	 1 688 	 688
DIRECT/egl 	 8 287 	 2297
GUI/egl 	 1 498 	 498
GUI/egl 	 8 128 	 1027
```
",like rendering size correctly renderer default resolution used small image size speed increase rocket size back size back server size back size back,issue,positive,negative,neutral,neutral,negative,negative
420570200,"OK @erwincoumans, the reason you get 0 mass is because you are accessing partId=0, the torso has partId=3.",reason get mass torso,issue,negative,neutral,neutral,neutral,neutral,neutral
420561777,"@erwincoumans Thanks for the clarification! Would it be good if these APIs and usage are documented somewhere?
",thanks clarification would good usage somewhere,issue,positive,positive,positive,positive,positive,positive
420419206,"By the way, I'm now using this in the examples:

import pkgutil
eglPath = pkgutil.get_loader('eglRenderer').get_filename()
p.loadPlugin(eglPath, ""_eglRendererPlugin"")



On Sun, 9 Sep 2018 at 18:01, Dmitry Chichkov <notifications@github.com>
wrote:

> I've patched the pybyllet/CMakefile.txt to compile statically eglPlugin
> instead of TinyRenderer, and then I was using
> build_cmake_pybullet_double.sh. Also, setup.py build actually worked as
> well - it builds eglplugin.so, which in turn could be loaded by the
> following hack:
> p.loadPlugin(p.__file__.replace(""pybullet"", ""eglRenderer""),
> ""_tinyRendererPlugin"")
>
> By the way, I've hacked-in TensorRT support into the plugin/egl. It runs
> inference directly in the GPU memory, and then return a feature vector,
> instead of an image. Calling it with:
> .getCameraImage(width=feature_vector_width, height=1, ... ,
> renderer=pybullet.ER_CALCULATE_FEATURES).
>
> If you are interested, I can put together a PR.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1868#issuecomment-419759264>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3A1s5oDOvHY5TBnOeRPe0L1MuL5rks5uZbndgaJpZM4WgcEA>
> .
>
",way import sun wrote compile statically instead also build actually worked well turn could loaded following hack way support inference directly memory return feature vector instead image calling interested put together reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
420332164,"You should never use the bodyPart 'bodyIndex' but use the bodyUniqueId, which is bodies[bodyIndex]

Attached is a modified script.

Note that the mass of the torso is intially 0, which is odd (it should compute the mass from the volume of the collision shapes of the link), there may be some issue in our simple MJCF parser.
[mass.zip](https://github.com/bulletphysics/bullet3/files/2371808/mass.zip)
",never use use attached script note mass torso odd compute mass volume collision link may issue simple parser,issue,negative,negative,neutral,neutral,negative,negative
420251539,"Yes, please share some example of TensorRT, I haven’t used it yet. We
primarily use TensorFlow for our robots and RL with OpenAI Gym environments
using PyBullet.

On Sunday, 9 September 2018, Dmitry Chichkov <notifications@github.com>
wrote:

> I've patched the pybyllet/CMakefile.txt to compile statically eglPlugin
> instead of TinyRenderer, and then I was using build_cmake_pybullet_double.sh.
> Also, setup.py build actually worked as well - it builds eglplugin.so,
> which in turn could be loaded by the following hack:
> p.loadPlugin(p.__file__.replace(""pybullet"", ""eglRenderer""),
> ""_tinyRendererPlugin"")
>
> By the way, I've hacked-in TensorRT support into the plugin/egl. It runs
> inference directly in the GPU memory, and then return a feature vector,
> instead of an image. Calling it with:
> .getCameraImage(width=feature_vector_width, height=1, ... ,
> renderer=pybullet.ER_CALCULATE_FEATURES).
>
> If you are interested, I can put together a PR.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1868#issuecomment-419759264>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3A1s5oDOvHY5TBnOeRPe0L1MuL5rks5uZbndgaJpZM4WgcEA>
> .
>
",yes please share example used yet primarily use gym wrote compile statically instead also build actually worked well turn could loaded following hack way support inference directly memory return feature vector instead image calling interested put together reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
419848561,"I've updated #1869 and fixed the `rendertest.py` and `rendertest_sync.py` scripts.

While doing this I noticed that rendering does not work if the `pybullet.loadPlugin` function is used outside a python context. see: https://github.com/BlGene/bullet3/blob/egl-fix/examples/pybullet/examples/rendertest.py#L132. I'm not sure why this fails, by maybe pybullet could raise a warning/error in this case.

I did some initial profiling on my desktop:
```
rendertest.py size: 84x84px
back nenv fps fps_tot
DIRECT/tiny 	 1 135 	 135
DIRECT/egl 	 1 172 	 172
GUI/egl 	 1 523 	 523


rendertest_sync.py size: 84x84px
back nenv fps fps_tot
DIRECT/tiny 	 1 127 	 127
DIRECT/tiny 	 8 47 	 372
DIRECT/egl 	 1 145 	 145
DIRECT/egl 	 8 29 	 235
GUI/egl 	 1 455 	 455
GUI/egl 	 8 8 	 62

```

### TODO List:
Here are the things that I can think of that could potentially improve DIRECT/egl performance. 

- [x] Check hardcoding of START_WIDTH, START_HEIGHT. See below.
- [x] ~Remove unnecessary copy of depth buffer.~
- [x] ~See if second call to GLInstancingRenderer (shown in profiler timings below) is redundant.~

@dchichkov said (this may no longer be valid)
> major performance gap between the plugin and GUI disappears once START_WIDTH / START_HEIGHT are hardcoded to correct values (although displayed GPU load is still much higher).

Profiling for 320x200px looks as follows DIRECT/egl above and DIRECT/tiny below:
![bullet_timings](https://user-images.githubusercontent.com/1850503/45289030-6e438380-b4ec-11e8-8b5e-21b6ab6c1489.png)



",fixed rendering work function used outside python context see sure maybe could raise case initial size back size back list think could potentially improve performance check see unnecessary copy depth second call shown profiler said may longer valid major performance gap correct although displayed load still much higher,issue,positive,positive,neutral,neutral,positive,positive
419807502,"A brief overview of related PRs:
1. #1597 is depreciated by merging of #1790
2. #1868 @dchichkov 's updates (superceded by #1869)
3.  #1869 @erwincoumans 's fixes (pose sync, build)



",brief overview related pose sync build,issue,negative,neutral,neutral,neutral,neutral,neutral
419804796,"@dchichkov:
closer integration of simulation and computational models is a good idea. I would however suggest achieving this by using CUDA's OpenGL/EGL Interoperability to copy data to Tensorflow, i.e. turning the simulation into an TF Op that takes as input the actions and returns an observation tensor. This would be easier to integrate into existing RL code.",closer integration simulation computational good idea would however suggest copy data turning simulation input observation tensor would easier integrate code,issue,positive,positive,positive,positive,positive,positive
419759264,"I've patched the pybyllet/CMakefile.txt to compile statically eglPlugin instead of TinyRenderer, and then I was using build_cmake_pybullet_double.sh.  Also, setup.py build actually worked as well - it builds eglplugin.so, which in turn could  be loaded by the following hack:
`  p.loadPlugin(p.__file__.replace(""pybullet"", ""eglRenderer""), ""_tinyRendererPlugin"")`

By the way, I've hacked-in TensorRT support into the plugin/egl. It runs inference directly in the GPU memory, and then return a feature vector, instead of an image.  Calling it with:
.getCameraImage(width=feature_vector_width, height=1, ... , renderer=pybullet.ER_CALCULATE_FEATURES).   

If you are interested, I can put together a PR.",compile statically instead also build actually worked well turn could loaded following hack way support inference directly memory return feature vector instead image calling interested put together,issue,positive,positive,neutral,neutral,positive,positive
419748926,"Will move the eglPlugin from 'Extension' to static linked plugin in setup.py, it is easier to use that way.",move static linked easier use way,issue,negative,positive,positive,positive,positive,positive
419743965,"Here is the PR: https://github.com/bulletphysics/bullet3/pull/1869 with similar changes to this PR.
I added a credit/mention to your fix in the description of my PR.",similar added fix description,issue,negative,neutral,neutral,neutral,neutral,neutral
419742866,"How are you building the plugin? The premake4 file was a bit out-of-date. I updated the premake for Windows (using Win32OpenGLWindow), will update the premake build for Linux and Mac later.",building premake file bit premake update premake build mac later,issue,negative,neutral,neutral,neutral,neutral,neutral
419742802,"Thanks. Actually I started looking into the plugin and already fixed those things, picked from your patch. I'll upload a patch in a minute.

Also I fixed the up axis and light direction, so it look already more like the regular 'GUI' mode. Obviously the main benefit of this plugin is that it can run in EGL mode in a headless server/cloud environment.
Thanks for your PR anyway!

![45268603-91f6c300-b433-11e8-842c-d5ab7f3b6c9c](https://user-images.githubusercontent.com/725468/45268637-62948600-b434-11e8-9c56-e43503a3294c.png)
",thanks actually looking already fixed picked patch patch minute also fixed axis light direction look already like regular mode obviously main benefit run mode headless environment thanks anyway,issue,positive,positive,positive,positive,positive,positive
419742447,"I'm fixing some of the obvious issues. The plugin also works on Windows in DIRECT mode, when using Win32OpenGLWindow instead of EGLOpenGLWindow in the plugin. Here is an image using the plugin, using Windows:
![image](https://user-images.githubusercontent.com/725468/45268603-91f6c300-b433-11e8-842c-d5ab7f3b6c9c.png)
",fixing obvious also work direct mode instead image image,issue,negative,positive,neutral,neutral,positive,positive
419727381,"Let's merge the PR and if someone has time we can address the remaining conversion issues with the plugin. @dchichkov There are 2 renderers: the CPU tiny renderer and the OpenGL 3 GLInstancingRenderer. The connection modes (GUI, DIRECT, SHARED_MEMORY etc) are not directly related to the underlying rendering implementation, aside from some conversion parts. 

Ideally we couple some higher quality rendering as a plugin or as external program (communicating over shared memory or using the new gRPC plugin to PyBullet). I hope to see some real-time raytracing rendering in the future :-)",let merge someone time address conversion tiny renderer connection direct directly related underlying rendering implementation aside conversion ideally couple higher quality rendering external program communicating memory new hope see rendering future,issue,positive,positive,positive,positive,positive,positive
419692713,"Note, there are issues with rendering. In particular, writeSingleInstanceTransformToCPU / writeTransforms are never being called. 

It seems, this can be addressed, see:  
https://github.com/BlGene/bullet3/commit/30b57b04e4242d83a8638573bc34e9ac7ed5a23f

But it seems like some parts of the rendering still mismatch to the baseline, for example the default plane.  

It also seems like, there is a score of ways to call sensor rendering (plugin, GUI, GUI_MAIN_THREAD, etc, etc) and at least to me, all of them are broken in their unique ways.  Choosing one particular way and eliminating the rest might improve usability.  As it limits the amount of time a user can spend on attempts to use various ways of rendering sensor output.",note rendering particular never see like rendering still mismatch example default plane also like score way call sensor rendering least broken unique way choosing one particular way rest might improve usability amount time user spend use various way rendering sensor output,issue,negative,positive,neutral,neutral,positive,positive
419690880,"I'm looking at this PR again. It would be best to avoid renaming glad/glad_gl.c and glad/glad_glx.c to glad/gl.c and glad/glx.c (same for header). That would reduce the amount of change in this PR a lot, and avoid having to change all the build files (I also have to make changes to build files in some private/internal repositories).

Do you have time to rename the glad files back to original (and only add the new glad/egl.c as glad/glad_egl.c)? Otherwise, if I accept this PR, I'll have to do it myself.",looking would best avoid header would reduce amount change lot avoid change build also make build time rename glad back original add new otherwise accept,issue,positive,positive,positive,positive,positive,positive
419687522,"Thanks for your PR, let's close this issue.",thanks let close issue,issue,negative,positive,positive,positive,positive,positive
419638326,"We don’t support MinGW, but a regular Windows command prompt with Visual
Studio should work fine.

On Saturday, 8 September 2018, Feng Yu <notifications@github.com> wrote:

> This command also occured a ERROR.
>
> python setup.py build
>
> [image: image]
> <https://user-images.githubusercontent.com/15700681/45252248-0541fb80-b386-11e8-937c-34f4e18f677f.png>
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1864#issuecomment-419624139>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3J6HBGZSJ_uQieEvQ9yfVudu1SLHks5uY4LUgaJpZM4WfqW4>
> .
>
",support regular command prompt visual studio work fine wrote command also error python build image image reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
419624139,"This command also occured a ERROR.
```
python setup.py build
```
![image](https://user-images.githubusercontent.com/15700681/45252248-0541fb80-b386-11e8-937c-34f4e18f677f.png)",command also error python build image,issue,negative,neutral,neutral,neutral,neutral,neutral
419613167,"It could be Windows anaconda related? Although on Mac, we use Anaconda without issue.",could anaconda related although mac use anaconda without issue,issue,negative,neutral,neutral,neutral,neutral,neutral
419608367,"Never seen that error. You can also simply do
~~~~~~~~~~~~
git clone https://github.com/bulletphysics/bullet3
or download and unzip https://github.com/bulletphysics/bullet3/archive/master.zip and then:
cd bullet3
python setup.py build
python setup.py install
~~~~~~~~~~~~",never seen error also simply git clone bullet python build python install,issue,negative,neutral,neutral,neutral,neutral,neutral
418991339,"Hi, I use it to draw manipulability ellipsoids. For now, I created a 3D mesh of an ellipsoid which is loaded into the simulator. However, my biggest problem right now is that when the robot is moving, the manipulability ellipsoid (which depends on the Jacobian) is changing as well (its position, orientation and scaling), but pybullet doesn't allow you to rescale a 3D mesh in an online manner. So, I am currently removing and reloading the ellipsoids for each end effector as the robot is moving, but this is not smooth, and is certainly not the proper way to do it. This is related to issue #1816.
",hi use draw mesh ellipsoid loaded simulator however biggest problem right robot moving ellipsoid well position orientation scaling allow mesh manner currently removing end effector robot moving smooth certainly proper way related issue,issue,negative,positive,positive,positive,positive,positive
418837049,"We haven't added it since we didn't need it yet and ellipsoids are not exposed in the URDF format, which is our main format in robotics. Until it is exposed, you can easily create a tesselated ellipsoid as convex mesh.

Can you tell what you are using it for?",added since need yet exposed format main format exposed easily create ellipsoid convex mesh tell,issue,negative,positive,positive,positive,positive,positive
418831341,"Hi!

Did you guys (@bdelhaisse or @erwincoumans) come out with a solution for this? I was trying to update the scale for a mesh in Pybullet but I realized it is possible to only change position and orientation. ",hi come solution trying update scale mesh possible change position orientation,issue,negative,neutral,neutral,neutral,neutral,neutral
418830284,"Hi! 

I am not sure if you have figured this out, but this is, in fact, a relevant functionality that is missing in Pybullet (**I am also in need of it**). It would be nice to add this functionality to Pybullet or to know if there is a way to do it.
",hi sure figured fact relevant functionality missing also need would nice add functionality know way,issue,negative,positive,positive,positive,positive,positive
418410833,"Standard OpenGL view and projection matrices are 4x4, so one wouldn't expect a 3x4 matrix. https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glMultMatrix.xml

~~~~~~~
Secondly, I wanted to ask what the quickest way is to obtain the corresponding 2D-image coordinates of an object with 3D-coordinates given in the world frame.
~~~~~~~
We don't provide an API to do such conversion.",standard view projection matrix one would expect matrix secondly ask way obtain corresponding object given world frame provide conversion,issue,negative,neutral,neutral,neutral,neutral,neutral
418260105,"could one make a multiplayer pybullet server with permissions with this?

kinda like second life?


On Mon, Sep 3, 2018 at 11:14 PM erwincoumans <notifications@github.com>
wrote:

> ------------------------------
> You can view, comment on, or merge this pull request online at:
>
>   https://github.com/bulletphysics/bullet3/pull/1855
> Commit Summary
>
>    - more work on proto/pybullet.proto
>    - more GRPC work
>
> File Changes
>
>    - *M* build3/premake4.lua
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-0> (4)
>    - *M* build_visual_studio_vr_pybullet_double.bat
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-1> (1)
>    - *M* examples/RobotSimulator/b3RobotSimulatorClientAPI.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-2> (13)
>    - *M* examples/SharedMemory/PhysicsClientC_API.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-3>
>    (292)
>    - *M* examples/SharedMemory/PhysicsClientC_API.h
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-4> (35)
>    - *M* examples/SharedMemory/PhysicsClientTCP.h
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-5> (1)
>    - *M* examples/SharedMemory/PhysicsClientUDP.h
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-6> (2)
>    - *M* examples/SharedMemory/PhysicsCommandProcessorInterface.h
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-7> (3)
>    - *M* examples/SharedMemory/PhysicsDirect.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-8> (3)
>    - *M* examples/SharedMemory/PhysicsServerCommandProcessor.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-9> (37)
>    - *M* examples/SharedMemory/SharedMemoryCommandProcessor.h
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-10> (1)
>    - *M* examples/SharedMemory/SharedMemoryPublic.h
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-11>
>    (12)
>    - *M* examples/SharedMemory/b3RobotSimulatorClientAPI_NoDirect.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-12>
>    (18)
>    - *M* examples/SharedMemory/grpc/ConvertGRPCBullet.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-13>
>    (1797)
>    - *M* examples/SharedMemory/grpc/ConvertGRPCBullet.h
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-14> (6)
>    - *M* examples/SharedMemory/grpc/main.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-15>
>    (76)
>    - *M* examples/SharedMemory/grpc/premake4.lua
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-16>
>    (20)
>    - *M* examples/SharedMemory/grpc/proto/pybullet.proto
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-17>
>    (394)
>    - *M* examples/SharedMemory/grpc/pybullet.pb.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-18>
>    (22877)
>    - *M* examples/SharedMemory/grpc/pybullet.pb.h
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-19>
>    (11615)
>    - *M* examples/SharedMemory/grpc/pybullet_client.py
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-20>
>    (68)
>    - *M* examples/SharedMemory/grpc/pybullet_pb2.py
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-21>
>    (2793)
>    - *M* examples/pybullet/pybullet.c
>    <https://github.com/bulletphysics/bullet3/pull/1855/files#diff-22>
>    (16)
>
> Patch Links:
>
>    - https://github.com/bulletphysics/bullet3/pull/1855.patch
>    - https://github.com/bulletphysics/bullet3/pull/1855.diff
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1855>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WXHkR-iE3-CSFkxUCQS0G1URhnB-ks5uXhozgaJpZM4WYWng>
> .
>
",could one make server like second life mon wrote view comment merge pull request commit summary work work file patch link thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
417727753,"Thanks for the contribution. Can you add a space between the >> so it compiles?
~~~~~~~~~~~~
btHashMap<btHashInt,btAlignedObjectArray<b3VisualShapeData>   > 
~~~~~~~~~~~~",thanks contribution add space,issue,negative,positive,positive,positive,positive,positive
417556089,"Sorry if I didn't answer yet, but was a busy period.",sorry answer yet busy period,issue,negative,negative,negative,negative,negative,negative
417542736,"Need to look into it. Unfortunately the project lacks resources, so it can take a while.",need look unfortunately project take,issue,negative,negative,negative,negative,negative,negative
417542482,"The quaternion version should be fine now, please use that one. Let's close the issue. Thanks for the report.",quaternion version fine please use one let close issue thanks report,issue,positive,positive,positive,positive,positive,positive
417542302,"Yes, this is correct, we need to add the serialization of the capacity.",yes correct need add serialization capacity,issue,negative,neutral,neutral,neutral,neutral,neutral
417541764,"The jitter is likely due to conflicted constraints somewhere. It takes time to track it down. Try to increase the number of solver iterations, descrease the timestep, descrease the residual threshold etc. Remove joint limits, check motor targets etc.

The jump in joints while clicking is likely due to a constraint added between a fixed body and the fixed world in the mouse picking code somewhere. We should avoid adding such constraint.",jitter likely due somewhere time track try increase number solver residual threshold remove joint check motor jump likely due constraint added fixed body fixed world mouse code somewhere avoid constraint,issue,negative,negative,neutral,neutral,negative,negative
417541450,"Happy to accept a contribution, if it doesn't add much maintenance. No cycles to work on this though. Please re-open if someone wants to contribute it.",happy accept contribution add much maintenance work though please someone contribute,issue,positive,positive,positive,positive,positive,positive
417533184,"Some improvements are checked in now. Please provide some feedback.
https://github.com/bulletphysics/bullet3/pull/1850/commits/ee9fca8c29149a28769d1128a22155ed30ad7826",checked please provide feedback,issue,negative,neutral,neutral,neutral,neutral,neutral
417159483,"Thanks, looks good to me.
close/re-open, due to some issue in cmake files, sometimes CI fails (copy files related)",thanks good due issue sometimes copy related,issue,positive,positive,positive,positive,positive,positive
417140818,"So just to double check, getDebugVisualizerCamera will only work if in GUI mode? (and similarly if I try the resetDebugVisualizerCamera option). I saved a projection matrix from getDebugVisualizerCamera I got from GUI mode to use in DIRECT mode, then call something like:

vm = p.computeViewMatrix([0,0,1], [1,0,1], [0,0,1])
image = p.getCameraImage(32, 32, viewMatrix=vm, projectionMatrix=savedPM, renderer=p.ER_TINY_RENDERER)

I am still getting segfaults. To minimise the occurrence I have reduced the number of process from 16 to 8, and run 3 of my vision based experiments at the same time. 1-2 will segfault in an hour or so of training, but usually one will survive for a few hours (at this stage it is enough time to validate my experiment). For now this is a partial solution.

Thanks again for your time.",double check work mode similarly try option saved projection matrix got mode use direct mode call something like image still getting occurrence reduced number process run vision based time hour training usually one survive stage enough time validate experiment partial solution thanks time,issue,positive,negative,neutral,neutral,negative,negative
416068721,"getCameraImage needs both a view matrix and projection matrix.
You can get some valid projection matrix from the getDebugVisualizerCamera API.
You cannot set it once, both matrices have to be passed in the getCameraImage API.

It should work just fine.",need view matrix projection matrix get valid projection matrix set matrix work fine,issue,negative,positive,positive,positive,positive,positive
416067560,"Thank you for your reply, just a couple of quick questions.

Did you mean just using viewMatrix in the call to getCameraImage()? I have tried getCameraImage() just using the viewMatrix input, but the image position doesn't change unless there is a projectionMatrix as well:

// Image position changes:
vm = p.computeViewMatrix([0,0,1], [1,0,1], [0,0,1])
pm = p.computeProjectionMatrixFOV(60, 1, 0.1, 1000);
image = p.getCameraImage(32, 32, viewMatrix=vm, projectionMatrix=pm, renderer=p.ER_TINY_RENDERER)

// Image position doesn't change
vm = p.computeViewMatrix([0,0,1], [1,0,1], [0,0,1])
image = p.getCameraImage(32, 32, viewMatrix=vm, renderer=p.ER_TINY_RENDERER)

Is a way to set the projectionMatrix once (given that it doesn't change)? It reverts back to default once I call getCameraImage() without the projectionMatrix argument. 

Using p.resetDebugVisualizerCamera() is a good alternative, though doesn't allow me to capture the roll of the agent, which I would ideally like (and trivially requires an additional call to getCameraImage() for debugging/seeing what the agent is doing externally).

Thanks for your time Erwin.",thank reply couple quick mean call tried input image position change unless well image position image image position change image way set given change back default call without argument good alternative though allow capture roll agent would ideally like trivially additional call agent externally thanks time,issue,positive,positive,positive,positive,positive,positive
415989480,"Thanks for the contribution, will look at it soon.",thanks contribution look soon,issue,negative,positive,positive,positive,positive,positive
415921906,"You should not use the computeProjectionMatrixFOV to move the camera.

Use the view matrix, or even easier:
pybullet.resetDebugVisualizerCamera(distance,yaw,pitch,targetPos);
",use move camera use view matrix even easier distance yaw pitch,issue,negative,neutral,neutral,neutral,neutral,neutral
415079957,"Yes, it is a debug printf in the upcoming collisionFilterPlugin, I'll remove it.

https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/plugins/collisionFilterPlugin/collisionFilterPlugin.cpp

Thanks for the report!
",yes upcoming remove thanks report,issue,positive,positive,positive,positive,positive,positive
414923275,"It seams that p.computeProjectionMatrixFOV() could be the culprit (at least when I run the could without it I haven't been able to break it yet). 

I have tried running p.computeProjectionMatrix() instead, though haven't been able to get it do what I want (and I'm not sure if it would fix my issue). The docs list the following arguments, how can I work them out? There doesn't seem to be an example of usage of p.computeProjectionMatrix().

left screen (canvas) coordinate
right screen (canvas) coordinate
bottom screen (canvas) coordinate
top screen (canvas) coordinate

I am trying to use camera that moves with the body, if anyone knows a a better way to get this I would appreciate it.

Kind regards 

Brendan",could culprit least run could without able break yet tried running instead though able get want sure would fix issue list following work seem example usage left screen canvas right screen canvas bottom screen canvas top screen canvas trying use camera body anyone better way get would appreciate kind,issue,positive,positive,positive,positive,positive,positive
414459789,Let me close this PR and create a revised version later.,let close create version later,issue,negative,neutral,neutral,neutral,neutral,neutral
414071726,"There is no support, volunteers help make things work. pybullet compiles and runs for the platforms and configurations , I've not run into those Mac/Python issues myself, and don't have time tracking down everyones issues. If you find a solution, please consider sharing a PR.

I use Anaconda 3.6 without any issue with pybullet on Mac using any recent Xcode + command line tools. Mac has too many variables to support (OS, gcc/clang compiler + version, python versions, system vs non-system etc)",support help make work run time find solution please consider use anaconda without issue mac recent command line mac many support o compiler version python system,issue,positive,positive,positive,positive,positive,positive
413755310,Bullet is actually licensed under the zlib license.  Look at [LICENSE.txt](https://github.com/bulletphysics/bullet3/blob/master/LICENSE.txt),bullet actually licensed license look,issue,negative,neutral,neutral,neutral,neutral,neutral
413711696,thank you so much. i'll close this issue. ,thank much close issue,issue,negative,positive,positive,positive,positive,positive
413663889,"yes, DIRECT mode for all instances. I can confirm that without the image code it does not segfault. I have tried reducing how frequently I get an image, and even limiting one process getting an image at a time, which possibly delays the segfault, but still occurs.

On a side note, I just wanted to say that I have been very interested in your paper recently using the minitaur transferring from sim to real, awesome stuff! I am hoping this could be the direction of my work someday. 

Brendan",yes direct mode confirm without image code tried reducing frequently get image even limiting one process getting image time possibly still side note say interested paper recently transferring real awesome stuff could direction work someday,issue,positive,positive,positive,positive,positive,positive
413661432,I am using them in a different application -- I'll make a PR. Thanks!,different application make thanks,issue,negative,positive,neutral,neutral,positive,positive
413617453,"The joint damping values need to be really small probably (I haven't tested the feature). Also, we didn't expose modifying the joint limits at run-time yet, it should be reasonably easy to modify them with some code changes. See the [PyBullet quickstart guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) for things that can be modified through APIs.

You can also use PyBullet.changeDynamics to reduce the joint damping to a smaller amount.",joint damping need really small probably tested feature also expose joint yet reasonably easy modify code see guide also use reduce joint damping smaller amount,issue,negative,positive,neutral,neutral,positive,positive
413616083,"Can you share the URDF/PyBullet file to see if we can reproduce the problem? It could be related to conflicting joint limits or self collision etc. 

Also, we fixed some issues recently, are you using the very latest version of PyBullet? pybullet 2.1.2 or later?",share file see reproduce problem could related conflicting joint self collision also fixed recently latest version later,issue,negative,positive,positive,positive,positive,positive
413578602,"This is not supported, you need to periodically call resetSimulation, since memory is only freed at that point.",need periodically call since memory freed point,issue,negative,neutral,neutral,neutral,neutral,neutral
413578054,"PyBullet should handle those xml files anyway (I suppose tinyxml2 ignores the header). If you use a program that doesn't handle them and want to fix the URDF files, feel free to submit a pull request.",handle anyway suppose header use program handle want fix feel free submit pull request,issue,positive,positive,positive,positive,positive,positive
413577783,"The number of joint poses is equal to the number of degrees of freedom, so it skips the fixed joints.",number joint equal number freedom fixed,issue,positive,positive,neutral,neutral,positive,positive
413577515,"We used to have a demo that shows how to cut soft bodies at run-time, the feature is still there but the demo doesn't enable it. Search the code in SoftBody demo.",used cut soft feature still enable search code,issue,negative,positive,neutral,neutral,positive,positive
413576869,"It is commented out in the latest revision, it will propagate the pypi/pip soon. Thanks for the report.


Until then, just comment it out or fix the KukaBulletEnv-v0 (the number of damping values should equal the number of degrees of freedom, not the number of joints (so fixed joints are skipped).",latest revision propagate soon thanks report comment fix number damping equal number freedom number fixed,issue,positive,positive,positive,positive,positive,positive
413576553,"You process the simulation using stepSimulation(deltaTime), so you should be able to track some notion of time.",process simulation able track notion time,issue,negative,positive,positive,positive,positive,positive
413575963,"It is very odd, since each process should run isolated and TinyRenderer is just a CPU renderer in its own process: there shouldn't be any interference or shared memory used. Are you using DIRECT mode for all pybullet instances?",odd since process run isolated renderer process interference memory used direct mode,issue,negative,negative,neutral,neutral,negative,negative
413575257,"pip3 install pybullet works fine here for all platforms, including Mac OSX High Sierra 10.13.5. If you figure out what the problem is, please let us know. Try using the default Python (2.7) and/or Anaconda (3.6) and the latest default Xcode compiler and report of that still breaks.",pip install work fine mac high sierra figure problem please let u know try default python anaconda latest default compiler report still,issue,negative,positive,positive,positive,positive,positive
413405853,"Can you please check the attached file and see if that fixes the issue(s)? Unzip and copy to Bullet/src/BulletCollision/NarrowPhaseCollision

Some general tips (some repeated):
+ Please never set the collision margin to zero (preferably leave it default). 
+ Don't make it easy for the user to set the margin to zero, since it will lead to incorrect collisions and slow performance.
+ Don't set this setEqualVertexThreshold to zero, please remove the line:
~~~~~~~~~~
//don't do this: gjk_simplex_solver->setEqualVertexThreshold(0.f);
~~~~~~~~~~
+ Avoid using huge collision objects
+ If you need huge collision objects, compile using double precision and /fp:precise

[btGjkPairDetector.zip](https://github.com/bulletphysics/bullet3/files/2292248/btGjkPairDetector.zip)

Thanks for the report and testing!",please check attached file see issue copy general repeated please never set collision margin zero preferably leave default make easy user set margin zero since lead incorrect slow performance set zero please remove line avoid huge collision need huge collision compile double precision precise thanks report testing,issue,positive,positive,positive,positive,positive,positive
413187962,"In this moment I can't apply any of these, except for 0 margin. But I think that I can wait the fix, so Thanks you for looking on it",moment ca apply except margin think wait fix thanks looking,issue,negative,positive,positive,positive,positive,positive
413184160,"I've been looking into the problem, it is a mix of issues. Need a bit more time, working on it. In the meanwhile, avoid 0 margin, use smaller shape size differences, use double precision, strict float (instead of fast).",looking problem mix need bit time working meanwhile avoid margin use smaller shape size use double precision strict float instead fast,issue,negative,positive,neutral,neutral,positive,positive
413171210,"I also noticed that most of the files in `src/LinearMath/` directory are at least 7-8 months old, except for three files that were 16 days old as of writing this comment. `btQuickprof.cpp` is one of those files. ",also directory least old except three day old writing comment one,issue,negative,negative,neutral,neutral,negative,negative
412350134,"pip works just for here, using the regular Python 3.6 64bit, on Windows 10 with Visual Studio 2017.

You may have multiple Python versions installed? Multiple Visual Studio versions? 32bit versus 64bit? There are too many combinations where things go wrong, you'll have to digg further yourself to fix your issue: google, stackoverflow etc.",pip work regular python bit visual studio may multiple python multiple visual studio bit versus bit many go wrong fix issue,issue,negative,neutral,neutral,neutral,neutral,neutral
412250584,"That solved this problem for me and while I understand why demos may not work on an ARM device, the author of the issue would probably prefer to have them. I am having other issues, but will post them in a separate Github issue at a later time if I cannot find an answer in previous issues. Thanks yurivict.",problem understand demo may work arm device author issue would probably prefer post separate issue later time find answer previous thanks,issue,negative,positive,neutral,neutral,positive,positive
412177687,"I just ran into this error when compiling for ARMv6 (Raspberry Pi Zero W) using Gnu compilers version 6.3.0.
1. cmake -G""Unix Makefiles"" -DCMAKE_BUILD_TYPE=Release
2. make

The fault appears to lie in building the Gwen third party library in my case.

```
In file included from /home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/OpenGL_DebugFont.cpp:37:0:
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
 };
 ^
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-128’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-32’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-128’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-32’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-26’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-128’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-103’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-128’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-32’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-128’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-16’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-80’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-32’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-48’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-64’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-124’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-112’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-110’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-128’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-113’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-92’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-96’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
/home/pi/bullet3/examples/ThirdPartyLibs/Gwen/Renderers/FontData.h:265:1: error: narrowing conversion of ‘-128’ from ‘int’ to ‘char’ inside { } [-Wnarrowing]
examples/ThirdPartyLibs/Gwen/CMakeFiles/gwen.dir/build.make:1574: recipe for target 'examples/ThirdPartyLibs/Gwen/CMakeFiles/gwen.dir/Renderers/OpenGL_DebugFont.o' failed
make[2]: *** [examples/ThirdPartyLibs/Gwen/CMakeFiles/gwen.dir/Renderers/OpenGL_DebugFont.o] Error 1
CMakeFiles/Makefile2:830: recipe for target 'examples/ThirdPartyLibs/Gwen/CMakeFiles/gwen.dir/all' failed
make[1]: *** [examples/ThirdPartyLibs/Gwen/CMakeFiles/gwen.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
```",ran error raspberry pi zero gnu version make fault lie building third party library case file included error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside error conversion char inside recipe target make error recipe target make error make waiting unfinished,issue,negative,neutral,neutral,neutral,neutral,neutral
411923481,"Thanks! I'll also add it to the premake4.lua file after merge. Also, we should add it to the pybullet and to setup.py setup tools build (in the root of this repo)",thanks also add file merge also add setup build root,issue,negative,positive,positive,positive,positive,positive
411923068,"Great, thanks a lot of tracking it down. Let me review and LGTM it asap.",great thanks lot let review,issue,positive,positive,positive,positive,positive,positive
411920445,Maybe wrap the values with `btScalar` for the case Bullet is compiled with `USE_DOUBLE_PRECISION=ON`?,maybe wrap case bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
411223017,"The instability was actually due to [this mistake](https://github.com/bulletphysics/bullet3/pull/1818/commits/340236ee29472aae9c13ec901ac91bb1e07a9d2c). Now all the LCP solvers except Lemke works (without blowing up) even with zero CFM. I added some CFM just in case.

As we discussed, Lemke implementation needs some work, so I removed from the demo for now.",instability actually due mistake except work without blowing even zero added case implementation need work removed,issue,negative,negative,negative,negative,negative,negative
410858488,"I haven't tried solving the discrete version of the KUKA grasping (kukaGymEnv), the continuous version is solved with ES. Note that there is another newer environment, KukaDiverseObjectEnv that is more interesting. Again, I think it was only tested with continuous actions.

Please let us know if you experiment with the discrete version.",tried discrete version grasping continuous version e note another environment interesting think tested continuous please let u know experiment discrete version,issue,positive,positive,positive,positive,positive,positive
410855836,"Just to confirm, is the discrete version of KUKA working correctly now? In other words, is it possible to be trained with any algorithm, no matter if ES or RL (possibly assuming some advanced exploration for RL, demonstrations or curriculum)? Was not sure because it is still flagged in the documentation. Thanks!",confirm discrete version working correctly possible trained algorithm matter e possibly assuming advanced exploration curriculum sure still documentation thanks,issue,positive,positive,positive,positive,positive,positive
410454237,"Great, thanks a lot for this contribution!
At a first glance, the direct solver(s) such as Dantzig and Lemke require some CFM:
~~~~~~~~
m_dynamicsWorld->getSolverInfo().m_globalCfm = 1e-4; //todo: what value is good?
~~~~~~~~
Let's look at it more in detail next week.",great thanks lot contribution first glance direct solver require value good let look detail next week,issue,positive,positive,positive,positive,positive,positive
410077298,"PyBullet (and the underlying Bullet Robotics APIs) rendering has some limitations:

1) wavefront obj files can have at most 1 texture
2) there is a limited pre-allocated memory for visual meshes

You can use obj2sdf utility to get around (1), it creates additional obj files for each material/texture. Use premake to build Bullet, you get the [App_obj2sdf](https://github.com/bulletphysics/bullet3/tree/master/Extras/obj2sdf) executable (it is in the 'Extras' folder).

You can try increasing the default memory allocation to get around (2), or reduce/simplify the mesh/obj file.  See https://github.com/bulletphysics/bullet3/blob/master/examples/OpenGLWindow/SimpleOpenGL3App.h#L19, increase the maxShapeCapacityInBytes.

Can you share the full reproduction case, including PyBullet python file and the actual obj file and textures in some github repo?

By the way, the Stanford [GIBSON](https://github.com/StanfordVL/GibsonEnv) project also uses PyBullet and its own renderer, which may be able to render those datasets better. Still, it would be good to fix PyBullet to allow to render this too.",underlying bullet rendering texture limited memory visual use utility get around additional use premake build bullet get executable folder try increasing default memory allocation get around file see increase share full reproduction case python file actual file way project also renderer may able render better still would good fix allow render,issue,positive,positive,positive,positive,positive,positive
409648593,"Thanks for your answer. I am not sure I understand the relation with my issue however.. I would need to access some information about the other shape colliding in my processAllTriangles() callback, either by casting the callback to the right derived type and extract information from that, or by passing the other collision shape as parameter of that function..",thanks answer sure understand relation issue however would need access information shape either casting right derived type extract information passing collision shape parameter function,issue,negative,positive,positive,positive,positive,positive
409634938,"If the shape is not changing {the colliding object not the terrain} one can
build a bvhtree of the object on frame 0 and then on collision get the
closest triangle [nearest] or closest triangles [findRange] almost instanly

{this is great for dynamic destruction}

On Wed, Aug 1, 2018 at 9:17 AM, gjaegy <notifications@github.com> wrote:

> Another option would be to pass down the two colliding rigid bodies as
> parameters to the processAllTriangles() method...
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1810#issuecomment-409631738>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WQ5K8mKQIhs9Bbuv9xuRPlv841icks5uMdSWgaJpZM4VqsQE>
> .
>
",shape object terrain one build object frame collision get triangle nearest almost great dynamic destruction wed wrote another option would pas two rigid method thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
409631738,Another option would be to pass down the two colliding rigid bodies as parameters to the processAllTriangles() method...,another option would pas two rigid method,issue,negative,neutral,neutral,neutral,neutral,neutral
409118501,"Hi Erwin, probably you are really busy, I want just remember you this issue. Let me know thanks you!!",hi probably really busy want remember issue let know thanks,issue,positive,positive,positive,positive,positive,positive
408905930,"Good point, here is a PR with a suggested fix, similar to URDF dom headers:
https://github.com/bulletphysics/bullet3/pull/1806

https://github.com/ros/urdfdom_headers/blob/e7e0972a4617b8a5df7a274ea3ba3b92e3895a35/urdf_model/include/urdf_model/pose.h#L103",good point fix similar dom,issue,negative,positive,positive,positive,positive,positive
408816068,"```
auto abc_start = btVector3(0, PI/2.0, PI/4.0);
auto mat1 = abc2mat(abc_start);
auto abc_temp = mat2abc(mat1);
auto mat2 = abc2mat(abc_temp);
```
abc_start and abc_temp don't have to be identical due to redundancy in the singularity but mat1 and mat2 should be equal. However, mat1 is correctly

```
 0  -0.707  0.707
 0   0.707  0.707
-1   0      0
```
but mat2 becomes
```
 0  -0.992  0.124
 0   0.124  0.992
-1   0      0
```",auto auto mat auto mat auto mat identical due redundancy singularity mat mat equal however mat correctly mat becomes,issue,negative,negative,neutral,neutral,negative,negative
408795498,"Sure, provide some repro case please.",sure provide case please,issue,positive,positive,positive,positive,positive,positive
408786637,"Hi! Thanks for your answer! However, I'd like to reopen this issue (but I can't). The x-axis is correct now but y and z are still off in the singularity case.",hi thanks answer however like reopen issue ca correct still singularity case,issue,positive,positive,positive,positive,positive,positive
408530955,"Thanks for your prompt reply!

Actually, I am planning to create a simulation with randomly generating several multibodies into the scene and then removing some of them from the scene in lots of iterations. So I probably need to keep the resetSimulation in the end of program.

The testing program is something like this:
```
#include <string>

#include ""bullet/LinearMath/btTransform.h""
#include ""bullet/PhysicsClientC_API.h""

using namespace std;

static string husky = ""./husky/robot_kuka.urdf"";
static string chair = ""./chair_1/chair.urdf"";
static string apple = ""./apple/apple.urdf"";
static string cat = ""./cat_1/cat.urdf"";

static float start_x = 0;
static float start_y = 0;
static float start_z = 0;
static b3PhysicsClientHandle client;

int loadURDF(const string& filename)
{
	b3SharedMemoryCommandHandle command = b3LoadUrdfCommandInit(client, filename.c_str());
	b3LoadUrdfCommandSetStartPosition(command, start_x, start_y, start_z);
	b3LoadUrdfCommandSetStartOrientation(command, 0, 0, 0, 1);
	b3LoadUrdfCommandSetUseFixedBase(command, false);
	b3LoadUrdfCommandSetGlobalScaling(command, 1.0f);
	b3LoadUrdfCommandSetUseMultiBody(command, true);
	b3LoadUrdfCommandSetFlags(command, 0);

	b3SharedMemoryStatusHandle statusHandle = b3SubmitClientCommandAndWaitStatus(client, command);
	if (b3GetStatusType(statusHandle) != CMD_URDF_LOADING_COMPLETED) {
		fprintf(stderr, ""Cannot load URDF file '%s'.\n"", filename.c_str());
		return -1;
	}

	return b3GetStatusBodyIndex(statusHandle);
}

void removeURDF(const int bullet_handle)
{
	if(bullet_handle < 0)
	{
		fprintf(stderr, ""Cannot remove URDF '%i'.\n"", bullet_handle);
		return;
	}
	b3SharedMemoryStatusHandle statusHandle;
	statusHandle = b3SubmitClientCommandAndWaitStatus(client, b3InitRemoveBodyCommand(client,bullet_handle));
}

int main()
{
	client = b3ConnectPhysicsDirect();
	
	int it = 0;
	while(it++ < 1000){
		
		int b0 = loadURDF(husky);
		int b1 = loadURDF(chair);
		int b2 = loadURDF(apple);
		int b3 =loadURDF(cat);

		// Do some simulation...		
		printf(""Iterations: %d\n"", it);

		removeURDF(b0);
		removeURDF(b1);
		removeURDF(b2);
		removeURDF(b3);
	}
	
	b3SubmitClientCommandAndWaitStatus(client, b3InitResetSimulationCommand(client));
	return 0;
}
```

After 1000 iterations, it occupies approx. 1GB of RAM.",thanks prompt reply actually create simulation randomly generating several scene removing scene lot probably need keep end program testing program something like include string include include static string husky static string chair static string apple static string cat static float static float static float static client string command client command command command false command command true command client command load file return return void remove return client client main client husky chair apple cat simulation client client return ram,issue,positive,positive,positive,positive,positive,positive
408516023,"Those interfaces aren't used in Bullet and not well tested (some contribution long ago).

I would recommend using the btQuaternion version:

~~~~~~~~
btVector3 mat2abc(btMatrix3x3 ori){
        btScalar x,y,z;
        btQuaternion q;
        ori.getRotation(q);
        q.getEulerZYX(x,y,z);
        return btVector3(z,y,x);
}

btMatrix3x3 abc2mat(btVector3 abc){
        btMatrix3x3 result;
        btQuaternion q;
        q.setEulerZYX(abc[2], abc[1], abc[0]);
        result.setRotation(q);
        return result;
}
~~~~~~~~",used bullet well tested contribution long ago would recommend version return result return result,issue,positive,negative,neutral,neutral,negative,negative
408411107,LGTM. In the future we may want to only add/process notifications if there is any plugin that implements the processNotification callback (as an optimization).,future may want optimization,issue,negative,neutral,neutral,neutral,neutral,neutral
408346860,"Thanks, I added your leak fix in the PR.",thanks added leak fix,issue,negative,positive,positive,positive,positive,positive
408340336,"There is no-one who supports BUILD_SHARED_LIBS on Windows. If someone wants to add support for BUILD_SHARED_LIBS on Windows, feel free to contribute. Some people use BUILD_SHARED_LIBS on Linux and Mac OSX without issue.",someone add support feel free contribute people use mac without issue,issue,positive,positive,positive,positive,positive,positive
408340132,"Some people use BUILD_SHARED_LIBS without problem on Linux and Mac OSX. We don't support BUILD_SHARED_LIBS on Windows. If someone wants to add support for BUILD_SHARED_LIBS, feel free to contribute.",people use without problem mac support someone add support feel free contribute,issue,negative,positive,positive,positive,positive,positive
408292191,"From my experience not with out gobs of errors.


There's this saying just use static

https://github.com/bulletphysics/bullet3/issues/1570

thought I do find the solvingj question quite intriguing

Maybe static libs could be added to the ""features list"" of bullet and to a
FAQ.



On Thu, Jul 26, 2018 at 3:42 PM, Matthew Albrecht <notifications@github.com>
wrote:

> Any reason why BUILD_SHARED_LIBS has to be off on windows? Why can bullet
> not be built as dlls on MSVC?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1794#issuecomment-408228797>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AGqnE4oJJSX4omx0cJn3zZ-dEIat4LrEks5uKinMgaJpZM4VVdh1>
> .
>



-- 
Brian J. Davis
",experience saying use static thought find question quite intriguing maybe static could added list bullet wrote reason bullet built thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
408019087,"I found another memory leak in CompoundCollisionAlgorithm, the following patch ought to fix it:
```diff
diff --git a/src/BulletCollision/CollisionDispatch/btCompoundCollisionAlgorithm.cpp b/src/BulletCollision/CollisionDispatch/btCompoundCollisionAlgorithm.cpp
index 9d96ef8..91b7809 100644
--- a/src/BulletCollision/CollisionDispatch/btCompoundCollisionAlgorithm.cpp
+++ b/src/BulletCollision/CollisionDispatch/btCompoundCollisionAlgorithm.cpp
@@ -156,10 +156,12 @@ public:
 			btCollisionObjectWrapper compoundWrap(this->m_compoundColObjWrap,childShape,m_compoundColObjWrap->getCollisionObject(),newChildWorldTrans,-1,index);
 			
 			btCollisionAlgorithm* algo = 0;
+			bool allocatedAlgorithm = false;
 
 			if (m_resultOut->m_closestPointDistanceThreshold > 0)
 			{
 				algo = m_dispatcher->findAlgorithm(&compoundWrap, m_otherObjWrap, 0, BT_CLOSEST_POINT_ALGORITHMS);
+				allocatedAlgorithm = true;
 			}
 			else
 			{
@@ -204,7 +206,11 @@ public:
 			{
 				m_resultOut->setBody1Wrap(tmpWrap);
 			}
-			
+			if(allocatedAlgorithm)
+			{
+				algo->~btCollisionAlgorithm();
+				m_dispatcher->freeCollisionAlgorithm(algo);
+ 			}
 		}
 	}
 	void		Process(const btDbvtNode* leaf)
```",found another memory leak following patch ought fix git index public index bool false true else public void process leaf,issue,negative,negative,neutral,neutral,negative,negative
407981465,"Actually, my app seems to be still leaking albeit less seriously than before whereas the duck example is fixed. I'm investigating.",actually still albeit le seriously whereas duck example fixed investigating,issue,negative,negative,neutral,neutral,negative,negative
407958050,"I've looked a bit more into it, it seems that:
 * major performance gap between the plugin and GUI disappears once START_WIDTH / START_HEIGHT are hardcoded to correct values (although displayed GPU load is still much higher).  
 * ~~the difference in the rendered image is in the direction of the axis.  In tiny/GUI the camera is pointing down, but in the rendering by the plugin, it is pointing up.~~
* ~~It looked like m_data->m_instancingRenderer->updateCamera() calls were lacking the m_upAxis parameter.  And the default in the eglRendererVisualShapeConverter::m_upAxis(2) while in the 
 examples/OpenGLWindow/GLInstancingRenderer.h/cpp the defaults are 1, for example updateCamera(int upAxis=1).  Tried tweaking it - no effect.  Any clues?~~
",bit major performance gap correct although displayed load still much higher difference image direction axis camera pointing rendering pointing like parameter default example tried effect,issue,negative,positive,positive,positive,positive,positive
407942409,"Thanks for the fix, it seems like it's no longer leaking !",thanks fix like longer,issue,positive,positive,positive,positive,positive,positive
407790580,"Thanks for the PR. When are the reportNotifications/processNotification callback called exactly?
After each command that is processed, as well as in each postTickCallback (if a step simulation is executed)?",thanks exactly command well step simulation executed,issue,positive,positive,positive,positive,positive,positive
407667319,"Before disabling timings all together, we should remove the ones in the most innerloops. Let me look at it. Otherwise we can add some API to enable/disable timers.",together remove let look otherwise add,issue,negative,neutral,neutral,neutral,neutral,neutral
407644660,"I'm getting a nasty amount of syscalls too: 7M calls / second on a EC2 box.   And it looks like these are coming from pybullet.cpython  ::: getTimeMicroseconds.     Is there a way to completely disable profiling/Timers ?

I've adjusted clock source to tsc, and a test shows that normally in a single thread gettimeofday doesn't result in a syscall.  But it looks like from pybullet somehow it does.  On  EC2 it looks like there are issues , even if one had switched the timesource to tsc: https://blog.packagecloud.io/eng/2017/03/08/system-calls-are-much-slower-on-ec2/


```
+   27.81%     5.27%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] _ZN7b3Clock19getTimeMicrosecondsEv
+   23.09%     9.23%  [vdso]                                      [.] __vdso_gettimeofday
+   15.44%     0.00%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] _ZN34InProcessPhysicsClientSharedMemoryD0Ev
+   15.44%     0.00%  [unknown]                                   [.] 0x2806058b4808ec83


```
sudo syscount -c -d 5
...
futex                56728
sched_yield        4439754
clock_gettime     32326537

",getting nasty amount second box like coming way completely disable clock source test normally single thread result like somehow like even one switched unknown,issue,negative,negative,negative,negative,negative,negative
407529087,some 'internal server error' in CI? Let's close/re-open to trigger CI.,server error let trigger,issue,negative,neutral,neutral,neutral,neutral,neutral
407512395,"Please rename the function 'reportNotification'. 

Separately, we can add a function to regularly add a 'stepPlugin' function. Let me also look at how to regularly call the stepPlugin. Shall we do that as a separate CL/PR?",please rename function separately add function regularly add function let also look regularly call shall separate,issue,negative,neutral,neutral,neutral,neutral,neutral
407511897,"Good idea, will merge once the CI is finished ok.",good idea merge finished,issue,negative,positive,positive,positive,positive,positive
407479005,"Also from my CMakeCache.txt file

goop
...
...
//Set when you want to build pybullet (Python bindings for Bullet)
BUILD_PYBULLET:BOOL=OFF

//Use shared libraries
BUILD_SHARED_LIBS:BOOL=ON

//Build Unit Tests
BUILD_UNIT_TESTS:BOOL=ON

...
more goop

Are you sure your sure?

From CMakeLists.txt

OPTION(BUILD_SHARED_LIBS ""Use shared libraries"" OFF)

Then later..

	IF(WIN32)
		SET(BUILD_SHARED_LIBS OFF CACHE BOOL ""Shared Libs"" FORCE)
	ELSE(WIN32)
		SET(BUILD_SHARED_LIBS ON CACHE BOOL ""Shared Libs"" FORCE)
	ENDIF(WIN32)


Cuz theres this bit about 

IF(BUILD_PYBULLET)
	FIND_PACKAGE(PythonLibs)

yada yada yada

then the bit above about building shared libs


ENDIF(BUILD_PYBULLET)

You guys ever though about what happens when user does not want to build pybullet?

Ya know there are still those C/C++ guys out there.

My pybullet is off in CMakeCache.txt and was default off see above exeerpt from my CMakeCache.txt

Are you sure this is a  Closed Ticket?  I'm a thinkin no.


",also file want build python bullet unit sure sure option use later win set cache bool force else win set cache bool force win there bit bit building ever though user want build ya know still default see sure closed ticket,issue,positive,positive,positive,positive,positive,positive
406781565,"I try to visualize the image returned by getCameraImage directly with the code below.
```python
        _, _, rgba_pic, _, _ = p.getCameraImage(800, 600)
        rgba_pic = np.array(rgba_pic, np.uint8).T.reshape((800, 600, 4))
        pic = cv2.cvtColor(rgba_pic, cv2.COLOR_RGBA2BGR)
        cv2.imshow('test', pic)
        cv2.waitKey(0)
```
However, the result is very werid.
![image](https://user-images.githubusercontent.com/28669500/43033930-a125dbf4-8d05-11e8-8eab-011a725bb2b3.png)
I wonder how to get it right.",try visualize image returned directly code python pic pic however result image wonder get right,issue,negative,positive,positive,positive,positive,positive
406488963,"To me, the images looked like the projection or camera matrix were passed to opengl incorrectly. Which impacts FPS, by the way.",like projection camera matrix incorrectly way,issue,negative,neutral,neutral,neutral,neutral,neutral
406315574,"
    
Simply using cmake gui and also setting cmake args in externalptlroject_add in my super build.


Sent from my U.S. Cellular® Smartphone

-------- Original message --------
From: erwincoumans <notifications@github.com> 
Date: 7/19/18  8:26 AM  (GMT-06:00) 
To: bulletphysics/bullet3 <bullet3@noreply.github.com> 
Cc: bitminer49er <bitminer@gmail.com>, Author <author@noreply.github.com> 
Subject: Re: [bulletphysics/bullet3] Bullet3 CMake BUILED_SHARED_LIBS option  on Windows (#1794) 

BUILD_SHARED_LIBS  is disabled on WIN32:
SET(BUILD_SHARED_LIBS OFF CACHE BOOL ""Shared Libs"" FORCE)

How did you enable it?

—
You are receiving this because you authored the thread.
Reply to this email directly, view it on GitHub, or mute the thread.
{""api_version"":""1.0"",""publisher"":{""api_key"":""05dde50f1d1a384dd78767c55493e4bb"",""name"":""GitHub""},""entity"":{""external_key"":""github/bulletphysics/bullet3"",""title"":""bulletphysics/bullet3"",""subtitle"":""GitHub repository"",""main_image_url"":""https://assets-cdn.github.com/images/email/message_cards/header.png"",""avatar_image_url"":""https://assets-cdn.github.com/images/email/message_cards/avatar.png"",""action"":{""name"":""Open in GitHub"",""url"":""https://github.com/bulletphysics/bullet3""}},""updates"":{""snippets"":[{""icon"":""PERSON"",""message"":""@erwincoumans in #1794: BUILD_SHARED_LIBS  is disabled on WIN32:\r\n~~~~~~~~~~~~~~~~\r\nSET(BUILD_SHARED_LIBS OFF CACHE BOOL \""Shared Libs\"" FORCE)\r\n~~~~~~~~~~~~~~~~\r\n\r\nHow did you enable it?""}],""action"":{""name"":""View Issue"",""url"":""https://github.com/bulletphysics/bullet3/issues/1794#issuecomment-406275480""}}}
[
{
""@context"": ""http://schema.org"",
""@type"": ""EmailMessage"",
""potentialAction"": {
""@type"": ""ViewAction"",
""target"": ""https://github.com/bulletphysics/bullet3/issues/1794#issuecomment-406275480"",
""url"": ""https://github.com/bulletphysics/bullet3/issues/1794#issuecomment-406275480"",
""name"": ""View Issue""
},
""description"": ""View this Issue on GitHub"",
""publisher"": {
""@type"": ""Organization"",
""name"": ""GitHub"",
""url"": ""https://github.com""
}
},
{
""@type"": ""MessageCard"",
""@context"": ""http://schema.org/extensions"",
""hideOriginalBody"": ""false"",
""originator"": ""AF6C5A86-E920-430C-9C59-A73278B5EFEB"",
""title"": ""Re: [bulletphysics/bullet3] Bullet3 CMake BUILED_SHARED_LIBS option on Windows (#1794)"",
""sections"": [
{
""text"": """",
""activityTitle"": ""**erwincoumans**"",
""activityImage"": ""https://assets-cdn.github.com/images/email/message_cards/avatar.png"",
""activitySubtitle"": ""@erwincoumans"",
""facts"": [

]
}
],
""potentialAction"": [
{
""name"": ""Add a comment"",
""@type"": ""ActionCard"",
""inputs"": [
{
""isMultiLine"": true,
""@type"": ""TextInput"",
""id"": ""IssueComment"",
""isRequired"": false
}
],
""actions"": [
{
""name"": ""Comment"",
""@type"": ""HttpPOST"",
""target"": ""https://api.github.com"",
""body"": ""{\n\""commandName\"": \""IssueComment\"",\n\""repositoryFullName\"": \""bulletphysics/bullet3\"",\n\""issueId\"": 1794,\n\""IssueComment\"": \""{{IssueComment.value}}\""\n}""
}
]
},
{
""targets"": [
{
""os"": ""default"",
""uri"": ""https://github.com/bulletphysics/bullet3/issues/1794#issuecomment-406275480""
}
],
""@type"": ""OpenUri"",
""name"": ""View on GitHub""
},
{
""name"": ""Unsubscribe"",
""@type"": ""HttpPOST"",
""target"": ""https://api.github.com"",
""body"": ""{\n\""commandName\"": \""MuteNotification\"",\n\""threadId\"": 357947509\n}""
}
],
""themeColor"": ""26292E""
}
]",simply also setting super build sent cellular registered original message date bullet author author subject bullet option disabled win set cache bool force enable thread reply directly view mute thread publisher name entity title subtitle repository disabled win cache bool force enable action name view issue context type type target name view issue description view issue publisher type organization name type context false originator title bullet option text name add comment type true type id false name comment type target body o default type name view name type target body,issue,positive,positive,positive,positive,positive,positive
406277167,"You should use the world info from the softbody dynamics world (using the getWorldInfo API) and not create a separate one.

Alternatively, you are responsible for setting the m_broadphase  manually, as you figure out.",use world dynamic world create separate one alternatively responsible setting manually figure,issue,positive,positive,neutral,neutral,positive,positive
406275480,"BUILD_SHARED_LIBS  is disabled on WIN32:
~~~~~~~~~~~~~~~~
SET(BUILD_SHARED_LIBS OFF CACHE BOOL ""Shared Libs"" FORCE)
~~~~~~~~~~~~~~~~

How did you enable it?",disabled win set cache bool force enable,issue,positive,positive,positive,positive,positive,positive
406188860,"to summarize:
1. The plugin is broken. These tests were preliminary to see how worth it is investing time in fixing the plugin. I'm assuming that the plugin is merely visually broken and not broken is such a way that computation takes longer, but this is not clear, especially since large meshes cause stalling.
2. DIRECT/Tiny seems to be the best choice for small meshes, GUI/EGL or GUI/GLX for large ones, But it's not clear that GUI runs synchronously with physics. 
3. Its easy to make the mistake of calling `loadPlugin` after `loadURDF`.

next steps:
1. make sure there is no memory leak-type error in plugin, by testing large meshes
2. look at plugin profiling to see what takes time.
",summarize broken preliminary see worth time fixing assuming merely visually broken broken way computation longer clear especially since large cause stalling best choice small large clear synchronously physic easy make mistake calling next make sure memory error testing large look see time,issue,negative,positive,positive,positive,positive,positive
406176506,"Tried building with your latest commit - builds.

And another attempt to roughly measure average FPS.  This time much more complex scene, g3.4xlarge, and I've actually verified that the renderings are correct.  plugin is also measured, but the rendering is wrong (see comment above).  
```
Processes   GUI/GLX             GUI/EGL     DIRECT/Tiny   DIRECT/eglPlugin
1               120              113             5               53      
2               255              212             9               70      
5               386              372             18              71      
7               442              417             29              71      
10              444              433             36              70      
20              404              414             45              72      
30              388              407             44              75      
40              368              432             45              76    
```

```
import pybullet as p, os, sys, timeit, multiprocessing
M, N = int(sys.argv[2]), int(sys.argv[3])

def render(n):
  if sys.argv[1] == ""glx"":
    p.connect(p.GUI)
  elif sys.argv[1] == ""egl"":
    p.connect(p.GUI, options='--window_backend=2 --render_device=0')
  elif sys.argv[1] == ""tiny"":
    p.connect(p.DIRECT)
  elif sys.argv[1] == ""plugin"":
    p.connect(p.DIRECT)
    p.loadPlugin(p.__file__.replace(""pybullet"", ""eglRenderer""), ""_tinyRendererPlugin"")
  else:
    print(""args should be [glx|egl|plugin|tiny]"")
    sys.exit(1)

  if sys.argv[1] in (""egl"", ""glx""):
    p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,0)
    p.configureDebugVisualizer(p.COV_ENABLE_GUI,0)
    p.configureDebugVisualizer(p.COV_ENABLE_SEGMENTATION_MARK_PREVIEW,0)
    p.configureDebugVisualizer(p.COV_ENABLE_DEPTH_BUFFER_PREVIEW,0)
    p.configureDebugVisualizer(p.COV_ENABLE_RGB_BUFFER_PREVIEW,0)

  p.setAdditionalSearchPath(""data"")
  width,height,viewMatrix,projectionMatrix = 128, 128, (0.9999997019767761, 0.00036114765680395067, -0.0006804274744354188, 0.0, -0.00036628328962251544, 0.9999714493751526, -0.007562750019133091, 0.0, 0.0006776766385883093, 0.007562996819615364, 0.9999712705612183, 0.0, 0.0007347110076807439, 0.09311465173959732, -0.22162719070911407, 1.0), (3.732050895690918, 0.0, 0.0, 0.0, 0.0, 3.732050895690918, 0.0, 0.0, 0.0, 0.0, -1.040816307067871, -1.0, 0.0, 0.0, -0.040816325694322586, 0.0)
  plane = p.loadURDF(""plane.urdf"")
  #cube = p.loadURDF(""cube.urdf"",(-0.2, -0.6, 0.05), (0.0, 0.0, 0.0, 1.0))
  cube = p.loadURDF(""minis.urdf"", [0.0, 0.0, .23], p.getQuaternionFromEuler([3.14157 / 2, 0, 0]))

  if sys.argv[1] in (""egl"", ""glx""):
    f = lambda:p.getCameraImage(width=width,height=height,viewMatrix=viewMatrix,projectionMatrix=projectionMatrix, renderer=p.ER_BULLET_HARDWARE_OPENGL)
  else:
    f = lambda:p.getCameraImage(width=width,height=height,viewMatrix=viewMatrix,projectionMatrix=projectionMatrix)

  return timeit.timeit(f, number=N)
  #_,_,rgba,_,_ = f()
  #from PIL import Image
  #Image.frombuffer('RGBA', (width,height), rgba, 'raw').save(""0."" + sys.argv[1] + "".png"")  

p = multiprocessing.Pool(processes=M)
FPS = N * M * M / sum(p.imap_unordered(render, range(M)))
open(""results.txt"", 'at').write(""%s %s %.0f"" % (sys.argv[1], sys.argv[2], FPS))

```


",tried building latest commit another attempt roughly measure average time much complex scene actually correct also measured rendering wrong see comment import o render tiny else print data width height plane cube cube lambda else lambda return import image width height sum render range open,issue,negative,negative,neutral,neutral,negative,negative
406137153,"I'm actually getting a _different_ rendering from the plugin, if it is loaded correctly before loadURDF.  Rendering looks very similar (and correct) for GLX,EGL,Tiny but the picture is different for plugin.
Code to reproduce is below:

```
import pybullet as p, os, sys

if sys.argv[1] == ""glx"":
    p.connect(p.GUI)
elif sys.argv[1] == ""egl"":
    p.connect(p.GUI, options='--window_backend=2 --render_device=0')
elif sys.argv[1] == ""tiny"":
    p.connect(p.DIRECT)
elif sys.argv[1] == ""plugin"":
    p.connect(p.DIRECT)
    p.loadPlugin(p.__file__.replace(""pybullet"", ""eglRenderer""), ""_tinyRendererPlugin"")
else:
    print(""args should be [glx|egl|plugin|tiny]"")
    sys.exit(1)

p.setAdditionalSearchPath(""data"")

width,height,viewMatrix,projectionMatrix = 128, 128, (0.9999997019767761, 0.00036114765680395067, -0.0006804274744354188, 0.0, -0.00036628328962251544, 0.9999714493751526, -0.007562750019133091, 0.0, 0.0006776766385883093, 0.007562996819615364, 0.9999712705612183, 0.0, 0.0007347110076807439, 0.09311465173959732, -0.22162719070911407, 1.0), (3.732050895690918, 0.0, 0.0, 0.0, 0.0, 3.732050895690918, 0.0, 0.0, 0.0, 0.0, -1.040816307067871, -1.0, 0.0, 0.0, -0.040816325694322586, 0.0)


print(p.getQuaternionFromEuler([0.0, 0.0, 0.0]))
plane = p.loadURDF(""plane.urdf"")
cube = p.loadURDF(""cube.urdf"",(-0.2, -0.6, 0.05), (0.0, 0.0, 0.0, 1.0))

if sys.argv[1] in (""egl"", ""glx""):
    _,_,rgba,_,_ = p.getCameraImage(width=width,height=height,viewMatrix=viewMatrix,projectionMatrix=projectionMatrix, renderer=p.ER_BULLET_HARDWARE_OPENGL)
else:
    _,_,rgba,_,_ = p.getCameraImage(width=width,height=height,viewMatrix=viewMatrix,projectionMatrix=projectionMatrix)

from PIL import Image
Image.frombuffer('RGBA', (width,height), rgba, 'raw').save(""0."" + sys.argv[1] + "".png"")

```

python3 giu.py egl ; python3 giu.py glx ; python3 giu.py plugin ; python3 giu.py tiny
",actually getting rendering loaded correctly rendering similar correct tiny picture different code reproduce import o tiny else print data width height print plane cube else import image width height python python python python tiny,issue,negative,neutral,neutral,neutral,neutral,neutral
406036876,"Oh, I forgot that the C++ code changes was for fixing #1510. Without the changes it fails to build with Clang 6.

Let me remove the change and make it as a separate PR to see it clearly. ",oh forgot code fixing without build clang let remove change make separate see clearly,issue,negative,positive,positive,positive,positive,positive
405990788,"Please scrap previous test results, I was doing loadPlugin after loadURDF and it looks like this results in blank images.",please scrap previous test like blank,issue,positive,negative,neutral,neutral,negative,negative
405879326,"@dchichkov:
Can you please try the following:
1. try cmake with the latest commit, remember to `rm -r cmake_build`
2. run the MP test with DIRECT/Tiny too, as comparison.
3. (if you have time) check if DIRECT/eglPlugin + complex mesh increase GPU memory consumption for each step.

Also, from looking at profiling timings, I have the suspicion GUI/EGL might be rendering asynchronously to the physics updates. This might be an issue for RL in case this is what you are pursuing, so it might be worth looking into that.",please try following try latest commit remember run test comparison time check complex mesh increase memory consumption step also looking suspicion might rendering physic might issue case might worth looking,issue,positive,positive,positive,positive,positive,positive
405850874,"Yeah, I believe the modern compiler does the job. I actually expect this change improves the performance by merging two for-loops into one, which is somewhat not easy to see in the diff. 😄 ",yeah believe modern compiler job actually expect change performance two one somewhat easy see,issue,positive,positive,positive,positive,positive,positive
405849889,"Thanks, I would expect the compiler to be smart enough to optimize this without const too, but making those variable const doesn't hurt. LGTM, thanks!",thanks would expect compiler smart enough optimize without making variable hurt thanks,issue,positive,positive,positive,positive,positive,positive
405849397,"> So this adds the docker tests, but also leaves the original tests (without docker) running?

Exactly!

> How long do the new docker tests approximately take (in minutes)?

I added Xenial (gcc/clang) and Bionic (gcc/clang), and [they took (28/21) and (35/27), respectively (in minutes)](https://travis-ci.org/bulletphysics/bullet3/builds/402344169?utm_source=github_status&utm_medium=notification).

> Also, could you remove the C++ code changes from this CL, so this CL is purely a travis change?

Sure, it's accidentally added. Let me remove those changes (edit: let me revert them tomorrow so that I don't mess up the tab/spaces).",docker also leaf original without docker running exactly long new docker approximately take added xenial took respectively also could remove code purely travis change sure accidentally added let remove edit let revert tomorrow mess,issue,negative,positive,neutral,neutral,positive,positive
405847848,"Thanks for the contribution. So this adds the docker tests, but also leaves the original tests (without docker) running? How long do the new docker tests approximately take (in minutes)?

Also, could you remove the C++ code changes from this CL, so this CL is purely a travis change?

~~~~~~~~~~
  float quat[4]={-world_to_local[i+1].x(),-world_to_local[i+1].y(),-world_to_local[i+1].z(),world_to_local[i+1].w()};	+		const btScalar quat[4]={-world_to_local[i+1].x(),-
~~~~~~~~~~~

",thanks contribution docker also leaf original without docker running long new docker approximately take also could remove code purely travis change float quat quat,issue,positive,positive,neutral,neutral,positive,positive
405839304,"Similar trend with the MP test, at about 10 renderers FPS maxes out on Tesla M60, DIRECT/eglPlugin.
```
  Processes   total FPS
    1                 519
    5                 2747
    7                2800
    10              2857
    20              2409
```

Something is very broken with DIRECT/eglPlugin for me with a more complex model which contains meshes - I'm getting full utilization of Tesla M60, 5FPS just a single process running.  
Overhead  Shared Object                                Symbol                   
  33.12%  [kernel]                                     [k] entry_SYSCALL_64_afte
  15.79%  libc-2.23.so                                 [.] syscall
  11.53%  [kernel]                                     [k] __schedule
  11.23%  [kernel]                                     [k] pvclock_clocksource_r
   4.24%  libc-2.23.so                                 [.] __sched_yield
   3.46%  [kernel]                                     [k] sys_clock_gettime
   2.15%  [kernel]                                     [k] ktime_get_ts64
   1.88%  [kernel]                                     [k] xen_clocksource_get_c
   1.71%  [kernel]                                     [k] posix_ktime_get_ts
   0.74%  libnvidia-eglcore.so.396.37                  [.] 0x0000000000df508d
   0.72%  [kernel]                                     [k] _nv028699rm
   0.63%  [kernel]                                     [k] finish_task_switch
   0.59%  libnvidia-eglcore.so.396.37                  [.] 0x0000000000cc8b55
   0.59%  [kernel]                                     [k] sys_sched_yield
   0.46%  libnvidia-eglcore.so.396.37                  [.] 0x0000000000d115ae
   0.45%  eglRenderer.cpython-35m-x86_64-linux-gnu.so  [.] _ZN32TinyRendererVisu
   0.44%  [kernel]                                     [k] entry_SYSCALL_64_fast
   0.40%  libnvidia-eglcore.so.396.37                  [.] 0x0000000000cc8803

While the same model is fine with  GUI/--window_backend=2 --render_device=0 / renderer=p.ER_BULLET_HARDWARE_OPENGL.  It gives ~450FPS with 10 processes, which is good enough for the moment :)

",similar trend test total something broken complex model getting full utilization single process running overhead object symbol kernel kernel kernel kernel kernel kernel kernel kernel kernel kernel kernel model fine good enough moment,issue,negative,positive,neutral,neutral,positive,positive
405778583,"Tried building with setup.py - it builds and EGL loads and works.   I'll try to evaluate on the real MP environment tonight, see if eglPlugin performs better, compared to TinyRenderer and OpenGL/headless X server with ""nvidia-xconfig --use-display-device=none"".

Also, tried your new version, with -DBT_USE_EGL=ON in the build_cmake_pybullet_double.sh script, still same thing:
 [ 42%] Linking CXX executable Test_BulletDynamics
../OpenGLWindow/libOpenGLWindow.so: undefined reference to `glad_eglQueryDevicesEXT'



With your test script I'm getting:
rendertest.py
back nenv fps fps_tot
tiny 	   1 122  122
plugin 1  870  870
egl 	   1 1163 	 1163

In a single-threaded code / my test, I'm getting:
GUI/GLX + Hardware renderer - 32FPS
GUI/GLX + Tiny renderer - 58FPS
GUI/EGL + Hardware - 125FPS
GUI/EGL + Tiny renderer - 200FPS
DIRECT + Tiny renderer - 500FPS
DIRECT + eglPlugin - 880FPS


Following code:
```
p.connect(p.GUI, options='--window_backend=2 --render_device=0')  # or DIRECT  and/or loadPlugin
plane = p.loadURDF(""plane100.urdf"")
cube = p.loadURDF(""cube.urdf"",[0,0,1])
for i in range(10000):
    img = p.getCameraImage(100,100) #, renderer=p.ER_BULLET_HARDWARE_OPENGL)

```

GUI/EGL + Hardware renderer, I'm getting about 100FPS.
  10.85%  [vdso]                                      [.] 0x0000000000000939
   9.15%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] b3Clock::getTimeInSeconds
   7.41%  [vdso]                                      [.] __vdso_gettimeofday
   7.12%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] OpenGLGuiHelper::copyCameraImageData
   4.79%  libnvidia-eglcore.so.387.26                 [.] 0x0000000000ff6895
   4.69%  libnvidia-eglcore.so.387.26                 [.] 0x0000000000ff6891

With DIRECT + Tiny renderer,  I'm getting about 500FPS.
  23.02%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] Shader::fragment
  22.17%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] barycentric
  20.25%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] triangleClipped
   5.30%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] TGAImage::get
   4.01%  pybullet.cpython-35m-x86_64-linux-gnu.so    [.] TinyRendererVisualShapeConverter::copyCameraImageData

With DIRECT + eglPlugin, I'm getting about 880 FPS:
  50.76%  eglRenderer.cpython-35m-x86_64-linux-gnu.so    [.] TinyRendererVisualShapeConverter::copyCameraImageDataGL
   4.57%  libnvidia-eglcore.so.387.26                    [.] 0x00000000012116c4
   3.64%  pybullet.cpython-35m-x86_64-linux-gnu.so       [.] PhysicsDirect::processCamera
   2.34%  [kernel]                                       [k] entry_SYSCALL_64_after_swapgs
   1.68%  [kernel]                                       [k] entry_SYSCALL_64
   1.59%  [kernel]                                       [k] _copy_to_user
   1.35%  [kernel]                                       [k] __sched_text_start",tried building work try evaluate real environment tonight see better server also tried new version script still thing linking executable undefined reference test script getting back tiny code test getting hardware renderer tiny renderer hardware tiny renderer direct tiny renderer direct following code direct plane cube range hardware renderer getting direct tiny renderer getting shader barycentric direct getting kernel kernel kernel kernel,issue,negative,positive,neutral,neutral,positive,positive
405624342,">> Can you try installing pybullet using distutils, e.g. pip install -e .?

Ok.

>>  When I build using CMake all the example Apps stick with X11 by default and so does pybullet. Did you change anything else, or are you using an Apple?

Ubuntu, 16.04.  No changes, this PR and:
export CXXFLAGS=-DBT_USE_EGL
export CFLAGS=-DBT_USE_EGL
./build_cmake_pybullet_double.sh
....
....
[ 42%] Linking CXX executable AppBasicExampleGui
../OpenGLWindow/libOpenGLWindow.so: undefined reference to glad_eglQueryDevicesEXT' ../OpenGLWindow/libOpenGLWindow.so: undefined reference togladLoaderLoadEGL'
../OpenGLWindow/libOpenGLWindow.so: undefined reference to `glad_eglDestroyContext'

I've tried the EGL sample from https://github.com/erwincoumans/egl_example and that one built and ran.",try pip install build example stick default change anything else apple export export linking executable undefined reference undefined reference undefined reference tried sample one built ran,issue,negative,neutral,neutral,neutral,neutral,neutral
405527352,"@dchichkov 
If can you get it to work, the best thing to test would by a gym version of `rendertest.py` that I added to the repo: https://github.com/BlGene/bullet3/blob/egl-plugin/examples/pybullet/examples/rendertest_sync.py and https://github.com/BlGene/bullet3/blob/egl-plugin/examples/pybullet/examples/rendertest.py
I don't think rendering being visually broken causes it to be any slower.

My numbers:
```
rendertest.py
back nenv fps fps_tot
tiny 	 1 193 	 193
plugin 	 1 300 	 300
egl 	 1 602 	 602

rendertest_sync.py
back nenv fps fps_tot
tiny 	 1 325 	 325
tiny 	 8 150 	 1202
plugin 	 1 201 	 201
plugin 	 8 87 	 696
egl 	 1 426 	 426
egl 	 8 51 	 408

```
I don't know why Tiny is running quicker in `rendertest_sync.py`.",get work best thing test would gym version added think rendering visually broken back tiny back tiny tiny know tiny running,issue,negative,positive,neutral,neutral,positive,positive
405516915,"@dchichkov 

Can you try installing pybullet using distutils, e.g.  `pip install -e .`?

I can't reproduce this error on my machine, and I don't see why its happening. Did you change anything else, or are you using an Apple? When I build using CMake all the example Apps stick with X11 by default and so does pybullet.


",try pip install ca reproduce error machine see happening change anything else apple build example stick default,issue,negative,neutral,neutral,neutral,neutral,neutral
405438897,"Building it with:
export CXXFLAGS=-DBT_USE_EGL 
./build_cmake_pybullet_double.sh

[ 42%] Linking CXX executable AppBasicExampleGui
../OpenGLWindow/libOpenGLWindow.so: undefined reference to `glad_eglQueryDevicesEXT'
../OpenGLWindow/libOpenGLWindow.so: undefined reference to `gladLoaderLoadEGL'
../OpenGLWindow/libOpenGLWindow.so: undefined reference to `glad_eglDestroyContext'

And pybullet fails to load:
>>> import pybullet
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
ImportError: /home/dchichkov/w/bullet3/build_cmake/examples/OpenGLWindow/libOpenGLWindow.so: undefined symbol: glad_eglQueryDevicesEXT

",building export linking executable undefined reference undefined reference undefined reference load import recent call last file line module undefined symbol,issue,negative,neutral,neutral,neutral,neutral,neutral
405380345,">> This happens even on servers with multiple cores and big GPUs. Can anybody else verify this?

I'd be glad to try it on g3.8xlarge, if you'd tell what branch should I pick. You have ""OpenGL render plugin #1790"" and ""Render options glad2 #1597"".  Which one should I try?

On g3.8xlarge I've seen similar performance degradation of the standard pybullet GUI/OpenGL backend, if I'm running 30 parallel processes. And so I'm also forced to use DIRECT+Tiny.",even multiple big anybody else verify glad try tell branch pick render render glad one try seen similar performance degradation standard running parallel also forced use,issue,negative,positive,neutral,neutral,positive,positive
404883549,"Hello Erwin,

I am working again on the mujoco envs and I get stuck with some mujoco related variables that are used as variables. Can you help me guess what they might correspond to in bullet?
Currently I am looking for:
self.sim.data.qfrc_constraint

In the above mentioned mjdata.h, it says the following about it:
 mjtNum*   qfrc_constraint;      // constraint force                         (nv x 1)

In the double pendulum, this returns 3 different values. For now, I can live with replacing them with 0, but I would love to understand what they mean and what they correspond to.

How can I retrieve something like this in pybullet?",hello working get stuck related used help guess might correspond bullet currently looking following constraint force double pendulum different live would love understand mean correspond retrieve something like,issue,positive,positive,neutral,neutral,positive,positive
404631921,"@erwincoumans:
> Great, after purging the nvidia drivers and re-installing 396 your example works. I create a small repo with the files for reference: https://github.com/erwincoumans/egl_example

Good to hear that you could get it to work.


> Why do you need to revert the naming glx_dyn.c -> glx.c ?

Just so that I don't have to change all build files.


> Could you re-apply/update your EGL patch to latest Bullet trunk, only for Linux (it seems Windows and Mac build is broken, see All checks have failed). 

Yep, done.


> Preferably keep the file/line changes as needed low.

If you don't coun't the glad files its quite short actually. :grimacing: ",great purging example work create small reference good hear could get work need revert naming change build could patch latest bullet trunk mac build broken see yep done preferably keep low glad quite short actually grimacing,issue,positive,positive,positive,positive,positive,positive
403880523,I believe the original issue is fixed by 9ffb05e. But I've encountered similar [build errors but on different code (`InvertedPendulumPDControl.cpp`) on Bionic with clang-6.0](https://travis-ci.org/bulletphysics/bullet3/jobs/402060359#L4432). Let me try to fix it by applying the same approach of 9ffb05e in https://github.com/bulletphysics/bullet3/pull/1788.,believe original issue fixed similar build different code let try fix approach,issue,negative,positive,positive,positive,positive,positive
403536605,"@jagjeet-singh Hi, I am also trying to move the kuka arm to a specific location. Would you please share with me how you use `p.calculateInverseKinematics` to do the work?",hi also trying move arm specific location would please share use work,issue,positive,neutral,neutral,neutral,neutral,neutral
403304527,"So, have probably to add ""install"" 
https://cmake.org/cmake/help/v3.0/command/install.html
after compiling the bullet, so that you compiler find these, it can be issues of the path.",probably add install bullet compiler find path,issue,negative,neutral,neutral,neutral,neutral,neutral
403302488,"I much prefer CLion of Visual Studio, so for now I have just included the Bullet files I need in my project. It isn't a very good solution though and I would like to resolve this problem.

I've checked `${BULLET_LIBRARIES}` and it contains all the of the `.a` files it should. I'm not generating `.dll` or `.lib` files, instead `.a` files. The actual compilation of Bullet works just fine and the `.a` files are generated. The problem seems to be with getting it linked to my project which is building with pure Cmake, no GUI for linker options.",much prefer visual studio included bullet need project good solution though would like resolve problem checked generating instead actual compilation bullet work fine problem getting linked project building pure linker,issue,positive,positive,positive,positive,positive,positive
403300489,"There should be Linker Options or some other place, where you define what to link, the question is how these are sent to the commman line. I have from time to time similar problems with Visual Studio, but all my projects are based on CMake. CMake generate VS projekt file and then you can see (in Visual Studio - Project Properties -> linker) what should be linked there;
In the older time I had as well problems compiling Bullets with minGW, so this was the reason to switch to VS;
I know what the very last line is doing but you should check what ${BULLET_LIBRARIES} has and if the compiled libraries are the proper (debug/release 32/64 bit).
You can check wich command line parameters are send to  the linker  and if there are listed the bullet libarires.
OR
you could include Bullets in your project three and compile it as library... Takes more time but solves several problems (if you have to swich often between different options dll/lib 32/64 etc.)",linker place define link question sent line time time similar visual studio based generate file see visual studio project linker linked older time well reason switch know last line check proper bit check command line send linker listed bullet could include project three compile library time several often different,issue,negative,positive,neutral,neutral,positive,positive
403287611,"The find_package is working perfectly, inspecting the paths it provides reveals they are correct. CLion is based solely on Cmake, so there are no ""Linker Options"", it is all done through Cmake. The very last line is supposed to be linking the `.a` files generated by Bullet to my project.",working perfectly correct based solely linker done last line supposed linking bullet project,issue,positive,positive,positive,positive,positive,positive
403265945,"Try replacing ""BULLET"" with ""BULLET_PHYSICS"",
check the project name in the cmakelists of the bullet lib there is PROJECT(BULLET_PHYSICS)
If this does not help, check the ""Linker Options"" in your IDE (I do not have experience with CLion) and have a look what links there, here definitivelly is missing the proper LINK to the bullet libs",try bullet check project name bullet project help check linker ide experience look link missing proper link bullet,issue,negative,negative,neutral,neutral,negative,negative
403249036,"Turns out I needed to add `-DBUILD_SHARED_LIBS=ON` to the cmake options. Though the following symbols are still missing:

```
b3CreateInProcessPhysicsServerAndConnect
b3CreateInProcessPhysicsServerAndConnectMainThread
b3CreateInProcessPhysicsServerAndConnectSharedMemory
b3CreateInProcessPhysicsServerFromExistingExampleBrowserAndConnect3
```
I tried to search for them in the elf information in the installed libs and can't find where they ended up. If I don't use those functions it looks like it works fine.

This is a great library, and I'm very thankful for all the work put in here, thanks @erwincoumans ",turn add though following still missing tried search elf information ca find ended use like work fine great library thankful work put thanks,issue,positive,positive,positive,positive,positive,positive
403226869,"I am facing a similar issue and running on laptop and rebooting did not fix it for me. I guess my graphics drivers are set correctly.

Graphics
```
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 390.67                 Driver Version: 390.67                    |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  Quadro M1200        Off  | 00000000:01:00.0 Off |                  N/A |
| N/A   38C    P8    N/A /  N/A |    251MiB /  4043MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|=============================================================================|
|    0      1162      G   /usr/lib/xorg/Xorg                           182MiB |
|    0      2042      G   compiz                                        65MiB |
+-----------------------------------------------------------------------------+
```

Error:

```
startThreads creating 1 threads.
starting thread 0
started thread 0 
argc=3
argv[0] = --unused
argv[1] = ./main
argv[2] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
glewXInit dynamically loaded using dlopen/dlsym OK
glewXInit OK
Creating context
Failed to create GL 3.0 context ... using old-style GLX context
Failed to create an OpenGL context
```
Can you please recommend a fix?",facing similar issue running fix guess graphic set correctly graphic driver version name volatile fan temp compute mib mib default memory type process name usage mib mib error starting thread thread unused server dynamically loaded dynamically loaded context create context context create context please recommend fix,issue,positive,neutral,neutral,neutral,neutral,neutral
403212858,"@erwincoumans I understand if you don't have the time to answer, but I'm trying to compile a C file using the API, and I can't seem to link it with `libBulletRobotics.a`

If I just link it, `cc` outputs a bunch of `undefined reference to vtable ...`, and if I try to include it as a shared library using `-shared -fPIC` I get:

```
/usr/lib/gcc/x86_64-pc-linux-gnu/7.3.0/../../../../x86_64-pc-linux-gnu/bin/ld: /usr/lib/gcc/x86_64-pc-linux-gnu/7.3.0/../../../../lib64/libBulletRobotics.a(LoadMeshFromCollada.o): warning: relocation against `_Z17readNodeHierarchyPN8tinyxml210XMLElementER9btHashMapI12btHashStringiER20btAlignedObjectArrayI23ColladaGraphicsInstanceERK11btMatrix4x4' in read-only section `.text'
/usr/lib/gcc/x86_64-pc-linux-gnu/7.3.0/../../../../x86_64-pc-linux-gnu/bin/ld: /usr/lib/gcc/x86_64-pc-linux-gnu/7.3.0/../../../../lib64/libBulletRobotics.a(PhysicsServerCommandProcessor.o): relocation R_X86_64_PC32 against symbol `gVRTeleportPos1' can not be used when making a shared object; recompile with -fPIC
/usr/lib/gcc/x86_64-pc-linux-gnu/7.3.0/../../../../x86_64-pc-linux-gnu/bin/ld: final link failed: Bad value
```

Again, I don't want to be a bother, so if you don't have the time, I understand if you don't answer.",understand time answer trying compile file ca seem link link bunch undefined reference try include library get warning relocation section relocation symbol used making object recompile final link bad value want bother time understand answer,issue,negative,negative,negative,negative,negative,negative
403208943,"Ok, here's where I got it wrong, my package manager has an older version of the library which does not contain the C api... Sorry about that. Now I see the C API does get installed in the default folder.",got wrong package manager older version library contain sorry see get default folder,issue,negative,negative,negative,negative,negative,negative
403207602,"Thanks for the help, I'm sorry if this was obvious stuff, it's just it's a bit different from other libraries I've used before. Thanks for all the hard work.",thanks help sorry obvious stuff bit different used thanks hard work,issue,positive,negative,neutral,neutral,negative,negative
403192095,"@EvilPudding 
cmake should build the BulletRobotics library out-of-the-box, which includes the C and C++ API. It will be installed using the INSTALL_EXTRA_LIBS option.

App_RobotSimulator and App_HelloBulletRobotics are two example of using the C and C++ API. Both should build out-of-the box as well, using cmake.

For Linux and Mac, use the build_cmake_pybullet_double.sh as an example. For Windows, see the build_visual_studio_vr_pybullet_double_cmake.bat in the root of Bullet. Alternatively, premake also builds BulletRobotics library, with C-API.",build library option two example build box well mac use example see root bullet alternatively premake also library,issue,negative,neutral,neutral,neutral,neutral,neutral
403177624,I would thank someone who would walk me through how to get a compiled library so I can use the C API? Why is this so tangled?,would thank someone would walk get library use,issue,negative,neutral,neutral,neutral,neutral,neutral
403175935,"I don't even know how to compile this... I tried to use the cmake file of the SharedMemory example, and I get the following error:

```
... bullet3/examples/SharedMemory/plugins/pdControlPlugin/pdControlPlugin.cpp:8:10: fatal error: LinearMath/btScalar.h: No such file or directory
 #include ""LinearMath/btScalar.h""
```

Why does this file assume it is in the `src` folder? Am I building it wrong?",even know compile tried use file example get following error fatal error file directory include file assume folder building wrong,issue,negative,negative,negative,negative,negative,negative
403156111,"Excuses for not applying this patch yet. 

Could you re-apply/update your EGL patch to latest Bullet trunk, only for Linux (it seems Windows and Mac build is broken, see All checks have failed). Preferably keep the file/line changes as needed low.",patch yet could patch latest bullet trunk mac build broken see preferably keep low,issue,negative,positive,neutral,neutral,positive,positive
403154305,"Great, after purging the nvidia drivers and re-installing 396 your example works. I create a small repo with the files for reference: https://github.com/erwincoumans/egl_example


You can also test the plugin(s) using C and C++ API, so without Python, which makes debugging easier. I prefer statically linking the plugin by default once finished (while still keeping the option to dynamically load the plugin).

Why do you need to revert the naming glx_dyn.c -> glx.c ?",great purging example work create small reference also test without python easier prefer statically linking default finished still keeping option dynamically load need revert naming,issue,positive,positive,positive,positive,positive,positive
402837104,@erwincoumans Why is the C API you linked in an example and is not installed by default? Do we have to copy the example API for each project and update it manually every time there's an update?,linked example default copy example project update manually every time update,issue,negative,neutral,neutral,neutral,neutral,neutral
402493843,"@erwincoumans 
I would have expected at least Linux to work. I am using Ubuntu 16.04.3 LTS, with NVIDIA 384.90. I have a cpp-only EGL test script (link below) that should work, the compile command is in the first line, but it needs the new glad files, a copy of these could be found in my branch. https://gist.github.com/BlGene/2b0d865bf93e9adc88946c248f315dcc

This is my first very cursory first stab at an EGL/OpenGL plugin. https://github.com/BlGene/bullet3/tree/egl-plugin. I'm not very familiar with bullets internal interfaces, so any tips would be appreciated. Two question I have are:

1. Would I need one instance of `GLInstancingRenderer` per object or is one instance for all objects sufficient? https://github.com/BlGene/bullet3/blob/egl-plugin/examples/SharedMemory/plugins/eglPlugin/eglRendererVisualShapeConverter.cpp#L80
2. How can I make `B3_PROFILE` to work for python plugins.

My to-do list would look something like:
- [ ] get python plugins profiling to work (to help debug)
- [x] fix setting camera params for EGL
- [ ] don't copy `convertURDFToVisualShape`  function
- [x] revert `glx_dyn.c` -> `glx.c` to fix make scripts.
- [ ] ...",would least work test script link work compile command first line need new glad copy could found branch first cursory first stab familiar internal would two question would need one instance per object one instance sufficient make work python list would look something like get python work help fix setting camera copy function revert fix make,issue,positive,positive,positive,positive,positive,positive
401959246,"@BlGene It would be nice to have an EGL/OpenGL plugin indeed. I'm working on other things at the moment. 

I still haven't been able to run EGL on any of my desktops (Linux, Mac, Windows).
What operating system (+version) do you use, and what NVIDIA driver version? Is there some hello world example that should work with plain EGL?",would nice indeed working moment still able run mac operating system use driver version hello world example work plain,issue,negative,positive,positive,positive,positive,positive
400701417,"@erwincoumans I didn't understand the API at first, but now it's look great!",understand first look great,issue,positive,positive,positive,positive,positive,positive
400386689,"Sure, you are welcome, hopy you enjoy PyBullet a bit :)",sure welcome enjoy bit,issue,positive,positive,positive,positive,positive,positive
400385231,"p.getAABB takes the object unique id, not the shape id. From the [PyBullet quickstart guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.fvuk009zgiah):

![image](https://user-images.githubusercontent.com/725468/41927115-1cf64096-7926-11e8-958c-344b0cd01977.png)
",object unique id shape id guide image,issue,negative,positive,positive,positive,positive,positive
400363375,Thanks for the contribution. We may also want to remove the PD controllers at 'resetSimulation' in the future.,thanks contribution may also want remove future,issue,negative,positive,neutral,neutral,positive,positive
399852032,"Hi Hadelin2p

It seems that you have some training resources at hand. Do you have
pretrained agents for several of the OpenAI mujoco gyms at hand by chance?
Mine take very long to finish training to a decent performance level as I
am just training on my laptop with a mediocre dedicated GPU. And until
then, I can not tune my pybullet mujoco-env implementations to perform
similar to mujoco.

On Sat, Jun 16, 2018, 21:40 erwincoumans <notifications@github.com> wrote:

> The other pull request replaces this, right?
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1759#issuecomment-397834835>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q7hFpSE69e_OvVe73g8A3uxMolp3ks5t9V9AgaJpZM4Uofbh>
> .
>
",hi training hand several hand chance mine take long finish training decent performance level training mediocre tune perform similar sat wrote pull request right reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
399775446,"@Tal500 There is no global world: you can create multiple physics clients/servers and each server has its own world. I highly recommend trying to prototype in Python/PyBullet and try out the API.
You can set user-data if desired, for each link. This API doesn't use callbacks: you create one or more physics clients/servers, and you create objects, step the simulation, query for transforms, all using unique ids for each client/server.",tal global world create multiple physic server world highly recommend trying prototype try set desired link use create one physic create step simulation query unique,issue,positive,positive,positive,positive,positive,positive
399744912,"@Tal500 The good thing about that it's backwards compatible, meaning you can pass a function callback whose signature does not receive the `user_data`, libs like gtk even encourage this.",tal good thing backwards compatible meaning pas function whose signature receive like even encourage,issue,positive,positive,positive,positive,positive,positive
399738561,"Hi Erwin
It seems like this C API has two major disadvantages:
* Is it following Singelton design pattern? I.e. only one global world.
* User pass handlers, but no user_data approach.
I mean, you can have a callback foo(args...,void* user_data), so handlers can get data locally, not by global memory.",hi like two major following design pattern one global world user pas approach mean foo void get data locally global memory,issue,negative,negative,neutral,neutral,negative,negative
399720660,"
Yes, the new C API is here:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h

It is used in PyBullet, see the [quickstart guide here](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3).
You can also use the[ C++ API ](https://github.com/erwincoumans/bullet3/blob/master/examples/SharedMemory/b3RobotSimulatorClientAPI_NoGUI.h)on top of this C-API. As you can see, it is more high-level.
This is also available as 'BulletRobotics' using cmake (in Extras).

",yes new used see guide also use top see also available,issue,positive,positive,positive,positive,positive,positive
399714885,"> that the new C API will be part of Bullet3 API

What does that mean? And is it available right now?",new part bullet mean available right,issue,negative,positive,positive,positive,positive,positive
399713849,"EvilPudding, I stopped the work since Erwin didn't accept it. He said(as much as I understand) that the new C API will be part of Bullet3 API.",stopped work since accept said much understand new part bullet,issue,negative,positive,positive,positive,positive,positive
399684118,How is this going along? Is there any viable C API nowadays?,going along viable nowadays,issue,negative,neutral,neutral,neutral,neutral,neutral
399623066,"Yes, a zero-mass base is considered 'fixed' (infinite mass).",yes base considered infinite mass,issue,negative,negative,negative,negative,negative,negative
399622860,"Right, and zero-mass also makes the link immune to force/torque applied by an attached link?",right also link immune applied attached link,issue,negative,positive,positive,positive,positive,positive
399622405,"If the world has any non-zero mass, the world will keep on falling down :-)",world mass world keep falling,issue,negative,neutral,neutral,neutral,neutral,neutral
399620668,Actually I noticed another thing; you set the mass of the 'world' link to 0. I tried setting it to something really small and it totally makes the 2d constraint go away... Why is that?,actually another thing set mass link tried setting something really small totally constraint go away,issue,negative,negative,neutral,neutral,negative,negative
399619267,"Super - thank you! I was trying to add two prismatic joints to the same body earlier, instead of following a tree-like structure.",super thank trying add two prismatic body instead following structure,issue,positive,positive,positive,positive,positive,positive
399618236,"Here is an example of the biped in 2d, using 2 prismatic and 1 revolute joint. We don't expose planar nor spherical joints at the moment (no short-term resources to add them, since non of our robots need them -> lower priority)
[test2d.zip](https://github.com/bulletphysics/bullet3/files/2129495/test2d.zip)
",example biped prismatic revolute joint expose planar spherical moment add since non need lower priority,issue,negative,neutral,neutral,neutral,neutral,neutral
399616210,"We start with a fixed base, then add prismatic and revolute joints. This is how we convert MuJoCo 2D models too (2D hopper and Half Cheetah etc). We don't expose/support planar constraints and spherical joints (none of our robots have them).",start fixed base add prismatic revolute convert hopper half cheetah planar spherical none,issue,negative,negative,negative,negative,negative,negative
399611823,"It might be better if I open a new issue, actually. ",might better open new issue actually,issue,negative,positive,positive,positive,positive,positive
399608312,"@erwincoumans Thanks for that! However, I am not able to add a planar movement constraint using planar joints to the body (I also tried adding just one planar constraint). I get a segmentation fault when I load [this](https://gist.github.com/Anmol6/7370676bda259a0f11968420b1ac5bb0) file. Any ideas on how to add this constraint? ",thanks however able add planar movement constraint planar body also tried one planar constraint get segmentation fault load file add constraint,issue,negative,positive,positive,positive,positive,positive
399602562,"Perhaps start removing removing FindOpenGL on Linux? I think we can also do Windows , but a bit work left. Mac may be more tricky.",perhaps start removing removing think also bit work left mac may tricky,issue,negative,neutral,neutral,neutral,neutral,neutral
399596345,"No idea, we focus primarily on URDF for PyBullet (we just added a rudimentary MJCF loader for some OpenAI Gym models). Attached is a URDF you could try to use as a starting point instead.
[biped_pybullet_urdf_debug (1).zip](https://github.com/bulletphysics/bullet3/files/2129294/biped_pybullet_urdf_debug.1.zip)

If someone wants to improve the MJCF importer, the source code is [here](https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportMJCFDemo/BulletMJCFImporter.cpp).  I don't have the time/bandwidth to work on this, but happy to accept contributions.",idea focus primarily added rudimentary loader gym attached could try use starting point instead someone improve importer source code work happy accept,issue,positive,positive,positive,positive,positive,positive
398570983,"Thanks for the contribution, I'll check it out (close/reopen to trigger rebuild, the appveyor build sometimes fails)",thanks contribution check trigger rebuild build sometimes,issue,negative,positive,positive,positive,positive,positive
397992771,"Rendering with EGL, connection mode GUI, is faster for a small number of parallel environments, rendering with Tiny connection mode DIRECT, is faster for a larger number of parallel environments. Environments were stepped synchronously. 

I don't think this occurs for non-synchronous stepping. I couldn't get good numbers for Tiny-GUI as I cannot run this on the server, it opens a window.

@erwincoumans: Do you think this is due to the connection mode or the rendering back end? what would you suggest doing in this case?

![profile_sync](https://user-images.githubusercontent.com/1850503/41527571-e2d0e7c0-72e7-11e8-9a4f-6a42aac65f6d.png)
(total = average fps over envs * number of envs)
",rendering connection mode faster small number parallel rendering tiny connection mode direct faster number parallel stepped synchronously think stepping could get good run server window think due connection mode rendering back end would suggest case total average number,issue,positive,positive,neutral,neutral,positive,positive
397839829,"I can add that to the API. Right now, if the maxForce=0, the controller is not removed, but it has no effect.",add right controller removed effect,issue,negative,positive,positive,positive,positive,positive
397834619,Follow up to achieve proper API backward compatibility: https://github.com/bulletphysics/bullet3/pull/1765,follow achieve proper backward compatibility,issue,negative,neutral,neutral,neutral,neutral,neutral
397824852,"Python.h is missing for pip, see https://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory
The premake linker issue for App_HelloBulletRobotics is fixed.",missing pip see premake linker issue fixed,issue,negative,negative,neutral,neutral,negative,negative
397824358,"The TaskScheduler was allocated but never freed, leading to large memory leaks. Fixed in 
https://github.com/bulletphysics/bullet3/pull/1761",never freed leading large memory fixed,issue,negative,positive,positive,positive,positive,positive
397818940,"This pull request undoes the ""Added a pointer to PhysicsClient "" / exposing SHARED_MEMORY_MAX_STREAM_CHUNK_SIZE (they should be internal details).https://github.com/bulletphysics/bullet3/pull/1761
It also adds the batchRaycastExample.py, used to create above timings:
https://github.com/erwincoumans/bullet3/blob/master/examples/pybullet/examples/batchRayCast.py
![image](https://user-images.githubusercontent.com/725468/41499902-b8404aec-713d-11e8-9ff0-8ed172f77f0f.png)
(press 'G' to remove UI panels for faster line drawing update)",pull request added pointer internal also used create image press remove faster line drawing update,issue,negative,neutral,neutral,neutral,neutral,neutral
397810641,"I'm going to merge it and make some changes, to avoid slow round-trip time. Let's discuss next week about details.",going merge make avoid slow time let discus next week,issue,negative,negative,negative,negative,negative,negative
397791719,"screenshot of my simple Python benchmark, running from 1 to 8 threads (disabled the conversion to Python raycast results, in pybullet.c for the benchmark)

![image](https://user-images.githubusercontent.com/725468/41496489-024a1a34-70f6-11e8-9f12-310c9fe9fbe7.png)

~~~~~~~~~~~~~
import pybullet as p
import time
import math

p.connect(p.DIRECT)#GUI)

p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,0)
p.loadURDF(""samurai.urdf"")
p.loadURDF(""r2d2.urdf"",[3,3,1])

rayFrom=[]
rayTo=[]
numRays = 2048
rayLen = 13

for i in range (numRays):
	rayFrom.append([0,0,1])
	rayTo.append([rayLen*math.sin(2.*math.pi*float(i)/numRays), rayLen*math.cos(2.*math.pi*float(i)/numRays),1])

timingLog = p.startStateLogging(p.STATE_LOGGING_PROFILE_TIMINGS,""rayCastBench.json"")
for i in range (10):
	p.stepSimulation()
	for j in range (8):
		results = p.rayTestBatch(rayFrom,rayTo,j+1)
	
	rayHitColor = [1,0,0]
	rayMissColor = [0,1,0]
	#for i in range (numRays):
	#	if (results[i][0]<0):
	#		p.addUserDebugLine(rayFrom[i],rayTo[i], rayMissColor)
	#	else:
	#		p.addUserDebugLine(rayFrom[i],rayTo[i], rayHitColor)
		
	#time.sleep(1./240.)
p.stopStateLogging(timingLog)
~~~~~~~~~~~~~",simple python running disabled conversion python image import import time import math range float float range range range else,issue,negative,negative,neutral,neutral,negative,negative
397791376,"Great, thanks for the contribution! I've tried it out and it works well.
Please fix the controversial changes: we don't need to maximize the #MAX_RAY_INTERSECTION_BATCH_SIZE to maximize the SHARED_MEMORY_MAX_STREAM_CHUNK_SIZE. How many rays do we want at most in batch? 1024? 10k? Also, please implement the upload/copy from rays to shared memory inside the client code, similar to uploadBulletFileToSharedMemory (or just use that function).
",great thanks contribution tried work well please fix controversial need maximize maximize many want batch also please implement memory inside client code similar use function,issue,positive,positive,positive,positive,positive,positive
397790574,"Great, thanks for the contribution. Would it be possible to automatically remove/disable the pdController if maxForce = 0, through the setJointMotorControl2 API?",great thanks contribution would possible automatically,issue,positive,positive,positive,positive,positive,positive
397747960,"isDone method is more clear than 'isAlive', since it is passed through Gym interface as 'done' boolean.
Thanks for the help!",method clear since gym interface thanks help,issue,positive,positive,positive,positive,positive,positive
397699767,"can you implement those?

On Fri, Jun 15, 2018, 10:29 AM hadelin2p <notifications@github.com> wrote:

> We need to have three different 'done' for Half-Cheetah, Ant and Humanoid,
> if we want to use the same as in Mujoco (which I think we should since
> replacing 'done = alive < 0' by 'done = False' made Half-Cheetah work
> successfully). The 'done' in MuJoCo are as follows:
>
> *Half-Cheetah:*
> done = False
>
> *Ant:*
>
> notdone = np.isfinite(state).all() and state[2] >= 0.2 and state[2] <= 1.0
> done = not notdone
>
> *Humanoid:*
>
> qpos = self.sim.data.qpos
> done = bool((qpos[2] < 1.0) or (qpos[2] > 2.0))
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1762#issuecomment-397690231>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3KYcuuQIsPmWsMKninseMV2blSUDks5t8-7tgaJpZM4UpxDJ>
> .
>
",implement wrote need three different ant humanoid want use think since alive false made work successfully done false ant state state state done humanoid done bool reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
397690231,"We need to have three different 'done' for Half-Cheetah, Ant and Humanoid, if we want to use the same as in MuJoCo (which I think we should since replacing 'done = alive < 0' by 'done = False' made Half-Cheetah work successfully with ARS). The 'done' in MuJoCo are as follows:

**Half-Cheetah:**
`done = False`

**Ant:**
```
notdone = np.isfinite(state).all() and state[2] >= 0.2 and state[2] <= 1.0
done = not notdone
```

**Humanoid:**
```
qpos = self.sim.data.qpos
done = bool((qpos[2] < 1.0) or (qpos[2] > 2.0))
```",need three different ant humanoid want use think since alive false made work successfully done false ant state state state done humanoid done bool,issue,positive,positive,neutral,neutral,positive,positive
397671801,"Half-Cheetah is the only one that overwrites the method, so it should be the only one affected. 
With ARS, Half-Cheetah seems ok, Humanoid and Ant are longer to train. I tell you asap if they worked.",one method one affected humanoid ant longer train tell worked,issue,negative,neutral,neutral,neutral,neutral,neutral
397669178,"Is only Half-Cheetah affected? Do the other environments (Humanoid, Ant etc) train with with ARS with the original PyBullet reward/done?",affected humanoid ant train original,issue,negative,positive,positive,positive,positive,positive
397647283,"Glad to help!

Indeed, it would be amazing to have the original MuJoCo versions of 'done' for the other environments, especially for Ant and Humanoid where I am still observing some room for improvement. That would definitely work with ARS, as it did with this Mujoco-like update of 'done' in pybullet_envs for Half-Cheetah.",glad help indeed would amazing original especially ant humanoid still observing room improvement would definitely work update,issue,positive,positive,positive,positive,positive,positive
397509981,"Thanks for the contribution! For [Half-Cheetah, MuJoCo gym](https://github.com/openai/gym/blob/master/gym/envs/mujoco/half_cheetah.py#L18) also uses done=False, and I'd like to use that too in ours for Half-Cheetah.

Let's implement a 'isDone' method for each environment, False for Cheetah etc. For the other envs (Ant, Humanoid etc), ideally we can use the original MuJoCo versions of 'done', would that work with ARS?

https://github.com/openai/gym/tree/master/gym/envs/mujoco

I want those changes by default, flags don't work well in Gym. Someone could implement some optional flag to use roboschool behavior of 'done', but default should be more like MuJoCo.
",thanks contribution gym also like use let implement method environment false cheetah ant humanoid ideally use original would work want default work well gym someone could implement optional flag use behavior default like,issue,positive,positive,positive,positive,positive,positive
397429161,"Hello,

I forced the exploration on the full episode by setting Done to False here:

https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/gym_locomotion_envs.py#L64

Now it works and the agent walks just fine.

Will try on HumanoidFlagrunHarderBulletEnv-v0 tonight.",hello forced exploration full episode setting done false work agent fine try tonight,issue,negative,positive,neutral,neutral,positive,positive
397426213,"That does not sound right. Especially because you do not add it as a flag,
but you just break the code.

On Thu, Jun 14, 2018, 21:00 hadelin2p <notifications@github.com> wrote:

> We force the exploration by setting done to False during the whole episode.
>
> Forced exploration allows to give more information to the AI, which leads
> to finding the best muscle impulsions / actions even after it fails within
> one same full episode.
> ------------------------------
> You can view, comment on, or merge this pull request online at:
>
>   https://github.com/bulletphysics/bullet3/pull/1759
> Commit Summary
>
>    - Forced Exploration
>
> File Changes
>
>    - *M* examples/pybullet/gym/pybullet_envs/gym_locomotion_envs.py
>    <https://github.com/bulletphysics/bullet3/pull/1759/files#diff-0> (2)
>
> Patch Links:
>
>    - https://github.com/bulletphysics/bullet3/pull/1759.patch
>    - https://github.com/bulletphysics/bullet3/pull/1759.diff
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1759>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q8ZRz7ku_Opn6QgfzjhsnZz64hliks5t8rLQgaJpZM4Uofbh>
> .
>
",sound right especially add flag break code wrote force exploration setting done false whole episode forced exploration give information ai finding best muscle even within one full episode view comment merge pull request commit summary forced exploration file patch link thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
397391025,I'm using visual studio community 2015 version 14,visual studio community version,issue,negative,neutral,neutral,neutral,neutral,neutral
397384641,What version of Visual Studio exactly?,version visual studio exactly,issue,negative,positive,positive,positive,positive,positive
397382727,"I used build_visual_studio_vr_pybullet_double.bat to build the snl, then opened the sln and compiled the project. It compile most things just fine, but give me this error when compiling bullet3opencl_clew. I'm compiling it in release version x64",used build project compile fine give error release version,issue,negative,positive,positive,positive,positive,positive
397362715,We use Visual Studio every day and compile just fine. What version? How do you create the project solution?,use visual studio every day compile fine version create project solution,issue,positive,positive,positive,positive,positive,positive
396113545,I need to sort out a few more things related to this collision detection issue and get back to you when it is done.,need sort related collision detection issue get back done,issue,negative,neutral,neutral,neutral,neutral,neutral
395744546,"Oh! Thanks to reply me @BluePrintRandom and @erwincoumans. I am sorry my english is bad. In fact I am use the javascript version of bullet。 it work great. I will try the C++ sample later.
I found problem now. if I setLocalScale of btCompoundShape is not (1,1,1).for example is (3,3,3) and then addChild(childTransform,childShape)。the physic collider is small(have problem). if focre set setLocalScale of btCompoundShape(1,1,1) and then addChild(childTransform,childShape),and revert LocalScale(3,3,3) is OK(No problem).
In fact. I think
btCompoundShape.setLocalScale(3,3,3)
2.btCompoundShape.addChild(childTransform,childShape)
And
btCompoundShape.setLocalScale(1,1,1)
2.btCompoundShape.addChild(childTransform,childShape)
3.btCompoundShape.setLocalScale(3,3,3)
should same,because btCompoundShape.setLocalScale function is set the parent's LocalScale and childTransform is the child's local transform they are indepent. two ways world Bound should same.
Maybe I am not deep understand it.",oh thanks reply sorry bad fact use version work great try sample later found problem example physic small problem set revert problem fact think function set parent child local transform two way world bound maybe deep understand,issue,negative,negative,neutral,neutral,negative,negative
395669078,Thanks it works now! Thanks for your help :) ,thanks work thanks help,issue,positive,positive,positive,positive,positive,positive
395658675,"If you follow the fix in 1708, you can do ""pip install pybullet"", and all good to go. You have to sort out the lack of stdint.h issue first.",follow fix pip install good go sort lack issue first,issue,negative,positive,positive,positive,positive,positive
395656660,"I have Visual Studio 2017 installed on my computer. Is my python tied to it? I don't know which version my python is tied to. 

Thanks for pointing out the thread issue 1708. However I don't really understand your answer. Do you mean I should just compile it by using Visual studio as I've done previously. 

Thanks for your help! 
",visual studio computer python tied know version python tied thanks pointing thread issue however really understand answer mean compile visual studio done previously thanks help,issue,positive,positive,neutral,neutral,positive,positive
395495741,"Do you use the full version of Visual Studio, or some crippled python specific version?
I've seen reports of people who use the python-specific cripped version that has no stdint.h (what were they thinking when removing it?!?). 

See https://github.com/bulletphysics/bullet3/issues/1708",use full version visual studio python specific version seen people use version thinking removing see,issue,negative,positive,positive,positive,positive,positive
395489322,"Thanks for the explanation - makes sense.
I'll clear the manifold in the collision algorithm `processCollision()` functions if one of the objects has `btCollisionObject::CF_NO_CONTACT_RESPONSE` set.",thanks explanation sense clear manifold collision algorithm one set,issue,negative,positive,positive,positive,positive,positive
395488212,"Hallo Erwin! 

It outputs ""Cannot open include file: 'stdint.h': No such file or directory."". 

I've attached a printscreen of the error below. 
![error_pip](https://user-images.githubusercontent.com/40029896/41112814-797584fa-6a6f-11e8-83d4-c5b0a1762388.png)

Any idea whats wrong by installing by pip? 

I tried the approach by adding a symbolic link. I did the following.

1. In bullet3-master\bin rename pybullet_vs2010.dll to pybullet.pyd.
2. Add symbolic link to previous file in C:\Python27\DLLs.

When I then tried to import it in python it seemed to work! Does the steps seem right to you? 

Thanks for your help :) 








",open include file file attached error idea whats wrong pip tried approach symbolic link following rename add symbolic link previous file tried import python work seem right thanks help,issue,negative,negative,neutral,neutral,negative,negative
395484390,"I think what he is trying to do is have the center of mass change when a
compound parent occurred, (I could be wrong*)

I have done this manually in bge using a empty physics shape and parenting
all children, moving the center of mass obj, parent all child shapes to
empty(compound root) and setting it's mass to reflect its children.



On Thu, Jun 7, 2018, 9:25 AM erwincoumans <notifications@github.com> wrote:

> Please zip a small modified Bullet example to reproduce your problem.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1737#issuecomment-395482275>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WZ5_qhvygoEq0EH-t7NzSZ_OHkwtks5t6VP4gaJpZM4Udrnn>
> .
>
",think trying center mass change compound parent could wrong done manually empty physic shape moving center mass parent child empty compound root setting mass reflect wrote please zip small bullet example reproduce problem reply directly view mute thread,issue,negative,negative,negative,negative,negative,negative
395482275,"Yes, please update to latest Bullet version from github (not a release, just latest trunk/master).

Please zip a small modified Bullet example to reproduce your problem and attach to this topic. Also, try understanding/debugging the code for btCompoundCollisionShape/Algorithm to track down the issue yourself.",yes please update latest bullet version release latest please zip small bullet example reproduce problem attach topic also try code track issue,issue,positive,positive,positive,positive,positive,positive
395480206,"Thanks for the detailed report and analysis. The persistent contact manifold heuristic is meant for dynamics, where deep penetrations are resolved by pushing back the object. You seem to not use dynamics, but slide the box 'through' the other box? In that case, you may want to just manually clear the contact cache every frame.

If required, one can add a contact dropping threshold, if the penetration depth gets deeper than a certain threshold for persistent contacts.",thanks detailed report analysis persistent contact manifold heuristic meant dynamic deep resolved pushing back object seem use dynamic slide box box case may want manually clear contact cache every frame one add contact dropping threshold penetration depth certain threshold persistent,issue,positive,positive,positive,positive,positive,positive
395468491,"I use unparent / transform / reparent each frame.

On Wed, Jun 6, 2018, 8:31 PM gl3336563 <notifications@github.com> wrote:

> hello! I found some problem when I change the child of btCompoundShape(add
> or romove), if it attatched
> to a rigidbody have problem, if not attatched to a rigidbody is Ok. but i
> want to dynamic change child weather it have attached . I know change a
> shape must remove rigidbody from the world and then add again and should
> compute setMassProps and calculateLocalInertia. I have do this. but still
> not work。Maybe some special thing need to do with btCompoundShape. Maybe my
> bullet verison is a litte old 2.82. Or I must destroy old btCompoundShape
> and new another btCompoundShape to set rigidbody again? I know this can
> work.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1737>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25Waw_zbR1bEh3CmmkqQVfqvUyR15iks5t6J56gaJpZM4Udrnn>
> .
>
",use transform frame wed wrote hello found problem change child add problem want dynamic change child weather attached know change shape must remove world add compute still special thing need maybe bullet old must destroy old new another set know work thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
395452586,"~~~~~~~
I also tried to install the via pip (pip install pybullet). This failed with an error.
~~~~~~~
pip is the main way of installing pybullet. What error do you get?

Manually compiling the pybullet plugin is complicated and only for developers who know what they are doing. pip is the way to go.

Python needs to know where to find the plugin, and the name needs to be pybullet.pyd file (instead of the name ending with dll).
Usually I make a symbolic link manually in the c:\python-x.y.z\dll folder, from pybullet.pyd to the dll in the Bullet/bin folder.
Another way is to rename the dll to pybullet.pyd and then add an environment variable PYTHONPATH to point to the folder.

",also tried install via pip pip install error pip main way error get manually complicated know pip way go python need know find name need file instead name ending usually make symbolic link manually folder folder another way rename add environment variable point folder,issue,negative,negative,negative,negative,negative,negative
394748004,"LGTM. The main todo is to make userDataId globally unique, and simplify the API to
getUserData(dataUid) and removeUserData(dataUid), with optionally a user-friendly version getUserData(obUid, linkIndex, keyStr) (using the conversion from (ObjUid, linkIndex, keyStr)->dataUid under the hood.",main make globally unique simplify optionally version conversion hood,issue,negative,positive,positive,positive,positive,positive
394407731,"The problem occurred when I stored a std::string in a btAlignedObjectArray, then pointed the btHashString pointer to the c_str() pointer of the std::string. the btAlignedObjectArray copies over the elements when it resizes. Usually a string does a shallow copy (retaining the underlying buffer) if it can, but I guess sometimes it does a deep copy, de-allocating the old underlying buffer.

If the idea of letting btHashString owning the memory sounds OK to you, how about using strdup() instead?",problem pointed pointer pointer usually string shallow copy retaining underlying buffer guess sometimes deep copy old underlying buffer idea memory instead,issue,negative,negative,negative,negative,negative,negative
394407658,"Constraint forces might be something I need at some point for openai gym.

On Mon, Jun 4, 2018, 12:01 chao <notifications@github.com> wrote:

> Thanks for your reply. I choose RBDL in my project.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1529#issuecomment-394301242>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q4zRJHS2J3GaYZo4CkFzm-K19ga2ks5t5QVwgaJpZM4Rt5rC>
> .
>
",constraint might something need point gym mon chao wrote thanks reply choose project thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
394380018,"Thanks for the contribution.

>> Changes the char pointer in btHashString to std::string. T

We cannot use STL or std:: string in side core Bullet code (anything under Bullet/src). Bullet/examples can use STL and std::string. Where does the problem occur exactly? We should fix it there.",thanks contribution char pointer use string side core bullet code anything use problem occur exactly fix,issue,negative,positive,positive,positive,positive,positive
394326696,"Hello Erwin,

I've finally found the time to check out that pull request. The fix works for my scenario. Thank you so much for helping me with this!

Cheers ",hello finally found time check pull request fix work scenario thank much helping,issue,positive,positive,neutral,neutral,positive,positive
394301242,Thanks for your reply. I choose RBDL in my project.,thanks reply choose project,issue,negative,positive,positive,positive,positive,positive
394254804,">     1. Exposing the N term (gravity, coriolis and centrifugal) should be easy.

If we're voting, heck even if we're not, I'd love to see this exposed in pybullet.
",term gravity centrifugal easy voting heck even love see exposed,issue,positive,positive,positive,positive,positive,positive
393936329,"Appreciate it!

On Fri, Jun 1, 2018 at 9:25 AM erwincoumans <notifications@github.com>
wrote:

> The quick start guide
> <https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#>
> did mention the range [0..nDof] in the calculateInverseKinematics. I added
> a few more notes to explain it.
>
> —
> You are receiving this because you modified the open/close state.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1714#issuecomment-393933999>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ACr59n9ZKYtplNiOXQl1uI4xplBCTIg5ks5t4WsMgaJpZM4UQnd2>
> .
>
",appreciate wrote quick start guide mention range added explain state reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
393933999,The [quick start guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#) did mention the range [0..nDof] in the calculateInverseKinematics. I added a few more notes to explain it.,quick start guide mention range added explain,issue,negative,positive,positive,positive,positive,positive
393928245,"Yes, it is a limitation of the PyBullet and its OpenGL debug visualizer, so you need to split visual shapes with multiple materials into separate links. We have a tool to do this for OBJ files (obj2sdf).

I'll mention it in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) as current limitation. Perhaps we remove the limitation in the future, but since we lack resources (the is no team supporting/developing PyBullet) don't bet on it.",yes limitation visualizer need split visual multiple separate link tool mention guide current limitation perhaps remove limitation future since lack team bet,issue,negative,neutral,neutral,neutral,neutral,neutral
393754276,"@erwincoumans code and video look great, thanks so much!

Side note -- it would be great if the quickstart guide could be updated to disambiguate between numDofs and numJoints whenever applicable.

Thanks again! Closing.
",code video look great thanks much side note would great guide could whenever applicable thanks,issue,positive,positive,positive,positive,positive,positive
393752733,"It is fixed now. Picking the sliding joint adds a challenge, better to pick joint 48 for Baxter.
Note that you need to be careful with setting the joint ranges and limits, since there are conflicting constraints it can easily go unstable. For now, I made the joint limits/ranges very wide.
See  updated demo https://github.com/erwincoumans/pybullet_robots/blob/master/baxter_ik_demo.py
and sync to latest source at github (or wait for pip pybullet 2.0.2)
",fixed sliding joint challenge better pick joint baxter note need careful setting joint since conflicting easily go unstable made joint wide see sync latest source wait pip,issue,negative,positive,positive,positive,positive,positive
393734040,"@erwincoumans thanks so much for taking the time to dig into this, I really appreciate it.

I think the issue should be tentatively reopened (I do not have privileges to reopen myself). I am suspicious that the ""Null Space mode"" for IK is only activated when the arrays are equal to the number of joints (fixed joints included).

So I think what happens when you skip the fixed joints is that the arrays are effectively ignored.

I have verified that if you pass in random or arbitrary arrays of length `numDofs` to the accurate IK calculator, the result is identical if you pass in arrays with the correct joint information. The IK behavior only changes when the arrays if of length `numJoints`. My suspicion is also backed up by the C++ code I cited in the original issue.

Let me know if there's any other tests I can write to verify whether Null Space mode is being used or not.

Thanks again!",thanks much taking time dig really appreciate think issue tentatively reopen suspicious null space mode equal number fixed included think skip fixed effectively pas random arbitrary length accurate calculator result identical pas correct joint information behavior length suspicion also backed code original issue let know write verify whether null space mode used thanks,issue,positive,positive,positive,positive,positive,positive
393717603,"I finally implemented the accurate inverse kinematics in C++, and exposed through PyBullet.calculateInverseKinematics. Now the default  residual threshold is 1e-4 with 20 max iterations. Pull request was merged: https://github.com/bulletphysics/bullet3/pull/1722
Available in PyBullet 2.0.1, pip install pybullet --no-cache-dir
Tested with this Baxter robot demo from Tom Silver:
https://github.com/erwincoumans/pybullet_robots

![image](https://user-images.githubusercontent.com/725468/40814087-1485c496-64f3-11e8-972d-1c7e42f8a0c2.png)
",finally accurate inverse kinematics exposed default residual threshold pull request available pip install tested baxter robot silver image,issue,negative,positive,positive,positive,positive,positive
393716077,"close it for now, please re-open if there is still an issue.",close please still issue,issue,negative,neutral,neutral,neutral,neutral,neutral
393713326,"I implemented accurate inverse kinematics, and when trying your demo, it works fine, pull request is here: https://github.com/bulletphysics/bullet3/pull/1722
See https://github.com/erwincoumans/pybullet_robots, baxter_ik_demo.py
You need to skip the fixed joints, when passing arrays to the IK.",accurate inverse kinematics trying work fine pull request see need skip fixed passing,issue,negative,positive,positive,positive,positive,positive
393690885,"Thanks, looks like a nice model, I'm looking into it.",thanks like nice model looking,issue,positive,positive,positive,positive,positive,positive
393672044,"For now, it is not on my list either. I just wanted to point out that there
seems to be some discrepancy between the mujoco mjcf importer and the
pybullet mjcf importer. So maybe at some point it can be fixed. But next up
is definitely the Gym MuJoCo envs. I trained some agents on the original
envs and now I am about to build the envs in pybullet. If I may call you in
at some point to help me decrypt some of the mujoco internal values they
are using as observations (basically stuff below --main inputs and outputs
of the computation: http://www.mujoco.org/book/source/mjdata.h)
, then that would be great. Some of them are needed to make similar
observations from pybullet to the agent.

On Thu, May 31, 2018, 21:18 erwincoumans <notifications@github.com> wrote:

> If you want to help out, please consider submitting a patch to fix this.
> The MJCF importer is here:
>
> https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportMJCFDemo/BulletMJCFImporter.cpp
>
> Having a new port of the Ant and Half Cheetah (to start with) that behaves
> more similar to the original Gym MuJoCo environments (in addition of the
> existing Roboschool ports) would be higher on my wish list though.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1721#issuecomment-393646650>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q0tzQlUvESR4G6G3cV24lPJsHUVTks5t4EINgaJpZM4UVi10>
> .
>
",list either point discrepancy importer importer maybe point fixed next definitely gym trained original build may call point help internal basically stuff main computation would great make similar agent may wrote want help please consider patch fix importer new port ant half cheetah start similar original gym addition would higher wish list though thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
393646858,"Thanks Andres, that is likely the issue. Let's close it (reopen if it doesn't fix it)",thanks likely issue let close reopen fix,issue,negative,positive,neutral,neutral,positive,positive
393646650,"If you want to help out, please consider submitting a patch to fix this. The MJCF importer is here:
https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportMJCFDemo/BulletMJCFImporter.cpp

Having a new port of the Ant and Half Cheetah (to start with) that behaves more similar to the original Gym MuJoCo environments (in addition of the existing Roboschool ports) would be higher on my wish list though.",want help please consider patch fix importer new port ant half cheetah start similar original gym addition would higher wish list though,issue,positive,positive,positive,positive,positive,positive
393525114,"Thank you for the feedback. I noticed that the test below failed on travis-ci but and I did see several failures on appveyor but I am new to Bullet and not sure where to start on resolving the errors shown appveyor. Can you provide any guidance?

FAIL: test_rolling_friction (__main__.TestPybulletMethods)",thank feedback test see several new bullet sure start shown provide guidance fail,issue,negative,positive,neutral,neutral,positive,positive
393504095,"Hello,

I clipped the actions for both training and test but unfortunately I am getting the same results on the Half-Cheetah: the reward reached 1000 but the agent is still getting stuck not moving. Please find attached a zip folder containing:

          1. The modified code including the clipping (the clipping is applied in the evaluate() method of the Policy() class).
          2. A console screenshot of the final rewards obtained.
          3. One of the last output videos of the cheetah.

Maybe I am still missing something but that must be a tiny detail since it works very well with Mujoco (even with no clipping). Would you mind having a quick look at it? I'm close but another pair of eyes might be helpful :)

[ARS.zip](https://github.com/bulletphysics/bullet3/files/2058040/ARS.zip)
",hello clipped training test unfortunately getting reward agent still getting stuck moving please find attached zip folder code clipping clipping applied evaluate method policy class console final one last output cheetah maybe still missing something must tiny detail since work well even clipping would mind quick look close another pair might helpful,issue,positive,negative,neutral,neutral,negative,negative
393422844,"Your own project needs to have BT_USE_DOUBLE_PRECISION defined when including the Bullet headers.
Otherwise the project will expect single precision methods in the libs.",project need defined bullet otherwise project expect single precision,issue,negative,negative,neutral,neutral,negative,negative
393384990,"Note that [ESTool ](https://github.com/hardmaru/estool)trains fine for PyBullet Ant and Half Cheetah.

You need to use the clipping for both training and test/rollout. You need to clip, since you cannot apply randomly large actions, the action space is in the range [-1.1]",note fine ant half cheetah need use clipping training need clip since apply randomly large action space range,issue,negative,positive,positive,positive,positive,positive
393384790,"I don't think I used the batch files, I opened the program called ""CMake 3.10.0-rc5 ,
source: c:/bullet3-master
where to build binaries: c:/bullet3-master/vs_2017
configure , selected some options, generate -> open project -> set to release -> build entire solution

then closed that solution, opened my current project, added the .lib files along with the lib include directory of: bullet3-master\vs_2017\lib  
  
I'm still new at this, and could be doing it all wrong

edit: this config works as expected so far: https://i.imgur.com/BmD0PVq.png",think used batch program source build configure selected generate open project set release build entire solution closed solution current project added along include directory still new could wrong edit work far,issue,negative,negative,neutral,neutral,negative,negative
393384342,"Odd, we build with cmake and double precision all the time, and no unresolved symbols.

Did you try build_visual_studio_vr_pybullet_double_cmake.bat or
build_cmake_pybullet_double.sh

Also, pip (pip install pybullet) uses double precision by default, and should build fine (without cmake).
Of course you can also build Bullet using premake, with double precision, on all platforms.",odd build double precision time unresolved try also pip pip install double precision default build fine without course also build bullet premake double precision,issue,negative,positive,neutral,neutral,positive,positive
393326537,"@erwincoumans thanks for your reply!

The URDFs and meshes are too large to paste here, is a dropbox link okay?
https://www.dropbox.com/s/lb3ukdwnkeja6m4/pybullet_ik_test.zip?dl=0

In the example, using Inverse Kinematics without null space arguments behaves as expected:

<img width=""522"" alt=""screen shot 2018-05-30 at 1 58 40 pm"" src=""https://user-images.githubusercontent.com/2816502/40748621-e069d2fc-6415-11e8-9d45-a6f098c7a278.png"">

But with null space arguments passed in, things go haywire:

[ikNumJoints.mov.zip](https://github.com/bulletphysics/bullet3/files/2055728/ikNumJoints.mov.zip)

In the provided PyBullet script, the two examples can be reproduced by switching between `useNullSpace=True` and `useNullSpace=False` in the call to `accurateIK`.



",thanks reply large paste link example inverse kinematics without null space screen shot null space go haywire provided script two switching call,issue,negative,positive,positive,positive,positive,positive
393325985,"Thanks a lot Erwin! I've just relaunched the training after adding np.clip(..., -1.0, +1.0). Besides I noticed pybullet==2.0.0 was just released so I've just upgraded as well. Let's see if it's going to work now. @benelot let me know if that fixes the issue on your side. Will keep you posted.",thanks lot training besides well let see going work let know issue side keep posted,issue,positive,positive,positive,positive,positive,positive
393311409,"Oh I see that you are just clipping to [-1;1]. Why does that make sense? Is
this just to make the action not overload the motors in the sense that it
uses the proper range of force, velocity or position?

On Wed, May 30, 2018, 22:33 Benjamin Ellenberger <be.ellenberger@gmail.com>
wrote:

> I have similar problems when training cheetah and ant with ppo. I will
> check your solution and see if there is a more generic way to make the envs
> work in pybullet. Is it because the simulation does not get some params
> from the xml file?
>
> On Wed, May 30, 2018, 18:11 erwincoumans <notifications@github.com> wrote:
>
>> See the modifications in this repo, in particular the numpy np.clip
>> operations and the episode length.
>> jietan/ARS@f781beb
>> <https://github.com/jietan/ARS/commit/f781beb48fabf7772b3a51ca10db5bcfdf358508>
>>
>> —
>> You are receiving this because you are subscribed to this thread.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/bulletphysics/bullet3/issues/1718#issuecomment-393221405>,
>> or mute the thread
>> <https://github.com/notifications/unsubscribe-auth/AC97q0JzQ89biZFsSZqm5wUDxgPfAKT9ks5t3sTNgaJpZM4UTdmK>
>> .
>>
>
",oh see clipping make sense make action overload sense proper range force velocity position wed may benjamin wrote similar training cheetah ant check solution see generic way make work simulation get file wed may wrote see particular episode length thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
393309424,"I have similar problems when training cheetah and ant with ppo. I will
check your solution and see if there is a more generic way to make the envs
work in pybullet. Is it because the simulation does not get some params
from the xml file?

On Wed, May 30, 2018, 18:11 erwincoumans <notifications@github.com> wrote:

> See the modifications in this repo, in particular the numpy np.clip
> operations and the episode length.
> jietan/ARS@f781beb
> <https://github.com/jietan/ARS/commit/f781beb48fabf7772b3a51ca10db5bcfdf358508>
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1718#issuecomment-393221405>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q0JzQ89biZFsSZqm5wUDxgPfAKT9ks5t3sTNgaJpZM4UTdmK>
> .
>
",similar training cheetah ant check solution see generic way make work simulation get file wed may wrote see particular episode length thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
393308326,"Sounds good, will do.

On Wed, May 30, 2018, 18:21 erwincoumans <notifications@github.com> wrote:

> *@erwincoumans* commented on this pull request.
> ------------------------------
>
> In examples/pybullet/gym/pybullet_envs/gym_sanity_check.py
> <https://github.com/bulletphysics/bullet3/pull/1702#discussion_r191833133>
> :
>
> > @@ -0,0 +1,18 @@
> +import gym
> +import numpy as np
> +import pybullet_envs
> +envs = [spec.id for spec in gym.envs.registry.all() if spec.id.find('Bullet') >= 0]
> +bugged_envs = []
> +for env_name in envs:
> +    try:
> +        print('[TESTING] ENV', env_name, '...')
> +        env = gym.make(env_name)
> +        env.reset()
> +        env.step(np.random.random(env.action_space.shape))
>
> Better to use env.action_space.sample()
> See also
> https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/examples/testEnv.py
>
> sample = env.action_space.sample()
> action = sample*0.0
> obs,rewards,done,_ =env.step(action)
> ~~~~~~~
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1702#pullrequestreview-124484742>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q1KB8UFvyhisuRLi8gZ7RhIqlNIoks5t3scDgaJpZM4UJ_oP>
> .
>
",good wed may wrote pull request gym spec try print testing better use see also sample action sample done action thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
393221405,"See the modifications in this repo, in particular the numpy np.clip operations and the episode length.
https://github.com/jietan/ARS/commit/f781beb48fabf7772b3a51ca10db5bcfdf358508

Ideally we make a 100% compatible locomotion environment to the original Gym MuJoCo envs (and drop the Roboschool version)",see particular episode length ideally make compatible locomotion environment original gym drop version,issue,negative,positive,positive,positive,positive,positive
393220175,"Thanks a lot for your reply and help. Please find attached the zip file.

1. I understand, it's noted.
2. That's where I thought the problem came from. However I am not sure how to clamp the output actions with PyBullet. Could you please indicate me on this?
3. Sure I haven't trained that long for the ant, but long enough for the cheetah. I'd be already very happy to solve my issue for the cheetah.

[ARS.zip](https://github.com/bulletphysics/bullet3/files/2054734/ARS.zip)
",thanks lot reply help please find attached zip file understand noted thought problem came however sure clamp output could please indicate sure trained long ant long enough cheetah already happy solve issue cheetah,issue,positive,positive,positive,positive,positive,positive
393198883,"Thanks for the report. Please attach a zip file with the modified ARS files.
1) Note that the PyBullet versions of the locomotion envs are derived from OpenAI Roboschool, and are much harder than default MuJoco versions. 
2) In addition, you may need to clamp the output of the linear policy to the appropriate action range.
3) 1000 is not a very high reward for Ant, you may want to train longer, at least until > 2000.",thanks report please attach zip file note locomotion derived much harder default addition may need clamp output linear policy appropriate action high reward ant may want train longer least,issue,positive,positive,neutral,neutral,positive,positive
393196656,"Please provide a simple reproduction case (URDF file, with meshes etc) and a simple PyBullet script, no further dependencies aside from Python and numpy.",please provide simple reproduction case file simple script aside python,issue,negative,neutral,neutral,neutral,neutral,neutral
393194428,"If you use the regular Visual Studio, it should compile just fine. Please report the bug to guys who crippled the compiler.",use regular visual studio compile fine please report bug compiler,issue,negative,positive,positive,positive,positive,positive
393191766,"By default, Bullet uses a convex hull. There are 2 APIs to create a concave triangle mesh:
In the URDF file, add concave = ""yes"" in the link:
~~~~~~~~
<link concave=""yes"" name=""baseLink"">
~~~~~~~~

When using PyBullet.createCollisionShape, add a PyBullet.GEOM_FORCE_CONCAVE_TRIMESH as flags.",default bullet convex hull create concave triangle mesh file add concave yes link link yes add,issue,positive,positive,positive,positive,positive,positive
393024024,"Thanks a lot for the contribution.

Let me get back to you about restitution and joint limits in a couple of days.",thanks lot contribution let get back restitution joint couple day,issue,negative,positive,neutral,neutral,positive,positive
392876882,"By the way, I want to simulate elastic collision between rigid objects to check restitutional coefficient works properly. Could you give me some idea how to disable speculativeContacts using Bullet3 API? 

Also is there an option to disable joint limits? I would like to investigate energy conservation without any collision between objects and internal collision.  ",way want simulate elastic collision rigid check coefficient work properly could give idea disable bullet also option disable joint would like investigate energy conservation without collision internal collision,issue,negative,neutral,neutral,neutral,neutral,neutral
392836882,"This was fixed recently, in this commit: https://github.com/bulletphysics/bullet3/commit/f5952a73e77a5f9fcb0ba0fdc179e7ad519fd5be#diff-2541db1b78f6ae1338b0bde76ddab760
pip/pypi version pybullet-2.0.0 includes the fix, so use pip install pybullet --no-cache-dir, make sure version is at least 2.0.0.
",fixed recently commit version fix use pip install make sure version least,issue,positive,positive,neutral,neutral,positive,positive
392820378,The removed environment also means all `python -m ...` examples listed under [RL Gym Envs documentation](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.wz5to0x8kqmr) in the quickstart guide now fail with `ModuleNotFoundError: No module named 'pybullet_envs.bullet.simpleHumanoidGymEnv'`,removed environment also python listed gym documentation guide fail module,issue,negative,negative,negative,negative,negative,negative
392598492,Thanks for the contribution. The Pull Request contains a lot of code layout and formatting changes. Can you please re-create it using a fresh Bullet checkout without the changes?,thanks contribution pull request lot code layout please fresh bullet without,issue,positive,positive,positive,positive,positive,positive
392527218,"I updated the docstring to match the new function signature. If this gets merged into master, I can also adapt the google doc appropriately.",match new function signature master also adapt doc appropriately,issue,negative,positive,positive,positive,positive,positive
392344343,"Perfect, thanks very much for the prompt reply @erwincoumans !",perfect thanks much prompt reply,issue,positive,positive,positive,positive,positive,positive
392309125,"Indeed, PyBullet doesn't support this legacy support option of Gazebo (latest version of Gazebo uses the same default as PyBullet, using the joint axis in child joint frame). Adding a print is easy, somewhere in [UrdfParser.cpp](https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportURDFDemo/UrdfParser.cpp) (which is also used for SDF files).

 If someone wants to implement the backward compatibility, it is a bit more work. Aside from adding the element in UrdfParser (UrdfJoint), the conversion code would happen in [Urdf2Bullet](https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportURDFDemo/URDF2Bullet.cpp#L381), around this block of code:
~~~~~~~
  btTransform offsetInA,offsetInB;
            offsetInA = parentLocalInertialFrame.inverse()*parent2joint;
            offsetInB = localInertialFrame.inverse();
            btQuaternion parentRotToThis = offsetInB.getRotation() * offsetInA.inverse().getRotation();
~~~~~~~",indeed support legacy support option gazebo latest version gazebo default joint axis child joint frame print easy somewhere also used someone implement backward compatibility bit work aside element conversion code would happen around block code,issue,positive,positive,positive,positive,positive,positive
392307930,"There are no target positions for fixed joints, so the numJoints != jointPoses if there are fixed joints.
See thw inverse_kinematics_sawyer.py example how to deal with it:
https://github.com/erwincoumans/pybullet_robots
",target fixed fixed see example deal,issue,negative,positive,neutral,neutral,positive,positive
392297149,"It is better to switch to btVector3/btQuaternion in that API to support consistent double precision, here is the pull request: https://github.com/bulletphysics/bullet3/pull/1710
Thanks for the report. If there are missing API's that need to be exposed for leggedrobotics/SimBenchmark, please report them in a separate issue.",better switch support consistent double precision pull request thanks report missing need exposed please report separate issue,issue,positive,positive,positive,positive,positive,positive
392275126,"As I forced to use double precision by 

```cmake
add_definitions(-DB3_USE_DOUBLE_PRECISION=1)
```
I got the following error

```
/home/kangd/git/bullet3/src/Bullet3Common/b3Vector3.h:547:72: error: cannot convert ‘float*’ to ‘b3Scalar* {aka double*}’ in return
  B3_FORCE_INLINE operator       b3Scalar *()       { return &m_floats[0]; }
                                                                        ^
/home/kangd/git/bullet3/src/Bullet3Common/b3Vector3.h: In member function ‘b3Vector3::operator const b3Scalar*() const’:
/home/kangd/git/bullet3/src/Bullet3Common/b3Vector3.h:548:72: error: cannot convert ‘const float*’ to ‘const b3Scalar* {aka const double*}’ in return
  B3_FORCE_INLINE operator const b3Scalar *() const { return &m_floats[0]; }
```
",forced use double precision got following error error convert float aka double return operator return member function error convert float aka double return operator return,issue,negative,negative,neutral,neutral,negative,negative
392252784,"> Let's try to improve things: Can you unzip attached file and copy the files into Bullet/src/BulletCollision/NarrowPhaseCollision and see if it fixes the issue(s)?

Erwin thanks you! it fix the problem!! If you merge it I will import the new version of bullet in godot",let try improve attached file copy see issue thanks fix problem merge import new version bullet,issue,negative,positive,positive,positive,positive,positive
392017010,"Could you try attached setup.py, it tries to use thread_local in C++11.
[setup.zip](https://github.com/bulletphysics/bullet3/files/2039043/setup.zip)
",could try attached use,issue,negative,neutral,neutral,neutral,neutral,neutral
391889760,"Sounds good, we can discuss it when we are back next week.
On Fri, May 25, 2018 at 8:38 AM erwincoumans <notifications@github.com>
wrote:

> Yes I agree, we should add the option to allow the user to provide the
> initial IK pose (similar to what we allow for calculateInverseDynamics).
> Let me discuss with Yunfei, shouldn't be too hard for us to add.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1380#issuecomment-391887273>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ABBEVLorfk8zacPkuk1T9GiHZVGqPstvks5t1zZpgaJpZM4P4nhl>
> .
>
",good discus back next week may wrote yes agree add option allow user provide initial pose similar allow let discus hard u add reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
391887273,"Yes I agree, we should add the option to allow the user to provide the initial IK pose (similar to what we allow for calculateInverseDynamics). Let me discuss with Yunfei, shouldn't be too hard for us to add.",yes agree add option allow user provide initial pose similar allow let discus hard u add,issue,positive,negative,neutral,neutral,negative,negative
391884684,"accurateCalculateInverseKinematics is the obvious python workaround that I'm sure the OP implemented. I certainly did. The problem is that it makes a call to reset state in the inner loop. This just seems unnecessary because A) why can't we just allow the user to increase the number of IK solver steps and B) the IK solver must have to get a starting seed pose from somewhere, why can't we input that seed pose?

pybullet.saveState and pybullet.restoreState are also good suggestions, but IMO it's a pretty heavy weight solution to something the IK already must take in as an argument (but is just not exposed).

On my end, I'm using the IK during VR data collection... which is why I don't want to change states or increase compute in the python interpreter.

I know you and @YunfeiBai are super busy.. Perhaps I can take a stab at exposing the initial joint configuration of the IK solver? Or maybe @YunfeiBai wants to do it since he wrote the solver and doesn't want people changing it? Either way is OK with me.",obvious python sure certainly problem call reset state inner loop unnecessary ca allow user increase number solver solver must get starting seed pose somewhere ca input seed pose also good pretty heavy weight solution something already must take argument exposed end data collection want change increase compute python interpreter know super busy perhaps take stab initial joint configuration solver maybe since wrote solver want people either way,issue,positive,positive,positive,positive,positive,positive
391882635,">> It would also be good to return / expose a few things:

Those things are all implemented and exposed in the accurateCalculateInverseKinematics script. Are you suggesting implementing accurateCalculateInverseKinematics in C++?

A few more suggestions: PyBullet can connect to multiple independent simulations in the same thread, and you can duplicate the robot in a 'scratch' simulation and do your IK using 'accurateCalculateInverseKinematics'.

pseudo scenario:

~~~~~~~
import pybullet as p #only used for constants
from pybullet_utils import bullet_client

mainSim = bullet_client.connect(p.GUI)
ikSim = bullet_client.connect(p.DIRECT)

#duplicate the robot from mainSim to ikSim, either manually or using pybullet_utils.UrdfEditor
#do your ik in ikSim, using ikSim.resetJointState and ikSim.calculateInverseKinematics APIs.

mainSim.stepSimulation()
~~~~~~~~
You can also use pybullet.saveState and pybullet.restoreState to temporarily make changes and revert them.
",would also good return expose exposed script suggesting connect multiple independent thread duplicate robot simulation pseudo scenario import used import duplicate robot either manually also use temporarily make revert,issue,negative,positive,positive,positive,positive,positive
391875920,"Yes, there are many ways, and it all depends on the particular scenario how to achieve faster speeds. It helps starting to profile your simulation, using the startStateLogging command:

~~~~~~
logId = p.startStateLogging(p.STATE_LOGGING_PROFILE_TIMINGS, ""timings.json"")
~~~~~~
You can open such timings in Google Chrome, visit the about://tracing (as URL) and load that timings.json file. Zoom in and get a good idea where time is spend, and optimize from there.

Also, try out the examples that come with PyBullet and look at the Bullet Quickstart Guide for performance related APIs (numSolverIterations, timeStep), simplify collision and visual geometries in the URDF file, etc.",yes many way particular scenario achieve faster starting profile simulation command open chrome visit load file zoom get good idea time spend optimize also try come look bullet guide performance related simplify collision visual file,issue,positive,positive,positive,positive,positive,positive
391862656,"+1

It would be great if we could expose the seed joint configuration from C++. By default it does make sense to use the current joint configuration, but there are other cases where using a rest pose for the IK method makes sense as well.

I'm also finding that the settling behavior of IK is adding latency. Decreasing the dampening can result in instability, but is also less than ideal (I'd rather find a solution, if it exists without having to step the simulator or hard-set joints).

It would also be good to return / expose a few things:

1. The final residual of the solver and / or the solver's best fit endeffector pose at termination.
2. The number of solver steps to take.
3. Solver residual termination condition.

Thoughts?",would great could expose seed joint configuration default make sense use current joint configuration rest pose method sense well also finding settling behavior latency decreasing result instability also le ideal rather find solution without step simulator would also good return expose final residual solver solver best fit pose termination number solver take solver residual termination condition,issue,positive,positive,positive,positive,positive,positive
391592435,"Thanks for the report. The GJK and EPA algorithms are very sensitive to numerical issues, especially in single-precision floating point, colliding between collision shapes that are very different in size.

Let's try to improve things: Can you unzip attached file and copy the files into Bullet/src/BulletCollision/NarrowPhaseCollision and see if it fixes the issue(s)?

Alternatively some suggestions:
1) compile Bullet in double precision mode
2) You could use the dedicated Box-Box detector.
3) Try to avoid zero margin, at least allow a small margin of say 0.001

[NarrowPhaseCollision.zip](https://github.com/bulletphysics/bullet3/files/2033919/NarrowPhaseCollision.zip)
",thanks report sensitive numerical especially floating point collision different size let try improve attached file copy see issue alternatively compile bullet double precision mode could use try avoid zero margin least allow small margin say,issue,negative,negative,neutral,neutral,negative,negative
391498850,"Thank you, running python from the gym folder let me run the examples.

As far as the thread-local problem, I did google, and did install a newer compiler, neither of which helped, as I was unsure how to tell PIP to use the compiler. As mentioned, I tried `CC=/newer/compiler/path CXX=/newer/compiler/path PIP3 etc...' and that did not help.

Also, I have a pretty new LLVM, right?
```
$ llvm-gcc --version
Apple LLVM version 9.1.0 (clang-902.0.39.1)
Target: x86_64-apple-darwin17.5.0
Thread model: posix
InstalledDir: /Library/Developer/CommandLineTools/usr/bin
``` 

Is there a solution somewhere that you know works that is explicit?

(I don't want to downgrade Python. Currently at 3.6)

Thank you again!
",thank running python gym folder let run far problem install compiler neither unsure tell pip use compiler tried pip help also pretty new right version apple version target thread model solution somewhere know work explicit want downgrade python currently thank,issue,positive,positive,positive,positive,positive,positive
391495517,"You can find the pybullet_envs in the bullet/examples/pybullet/gym folder, and the code should work in-place (just open a terminal in that place). You can also copy those folders manually into your python distribution (in the lib/site-packages).

You probably want to solve the 'thread-local storage is not supported for the current target' problem, google for it, install a newer llvm, or newer xcode etc.",find folder code work open terminal place also copy manually python distribution probably want solve storage current target problem install,issue,negative,neutral,neutral,neutral,neutral,neutral
391211698,"Yes, this goes in the right direction indeed. Unfortunately this breaks a lot of internal tests here (they rely on deterministic physics, and even small changes can add up).",yes go right direction indeed unfortunately lot internal rely deterministic physic even small add,issue,negative,negative,negative,negative,negative,negative
391133704,"Other feedback

- btBulletCollisionCommon.h and btBulletDynamicsCommon.h aren't included in any projects. Following the Hello World section of the guide this causes a moment of 'uh, where does this file come from?' and a couple extra steps to track it down.
- autoexp_ext.txt is mentioned in the user manual, but doesn't seem to actually exist.
- It appears there's no way to change between /MD and /MT from the command line? Static CRT linking is enabled by default and the only way I see to change it is to remove the StaticRuntime flag from premake4.lua
- It appears there's no way to add debug symbols to release builds. Even adding ""Symbols"" to the release flags doesn't copy the pdb files to the output directory.
- targetsuffix options don't appear to work. The output files have no suffixes.",feedback included following hello world section guide moment file come couple extra track user manual seem actually exist way change command line static linking default way see change remove flag way add release even release copy output directory appear work output,issue,negative,positive,positive,positive,positive,positive
391050713,There are some other problems with all manipulators except the reacher that weren't there when I pushed them at the time. I will look into that soon.,except reacher time look soon,issue,negative,neutral,neutral,neutral,neutral,neutral
391016929,"Awkwardly, there seem to be more commits on the list, but as you can see, I only changed some lines in 3 files, that is all.",awkwardly seem list see,issue,negative,negative,negative,negative,negative,negative
390998370,"It is a good point, and I'd like to see that feature too. Someone is looking into adding user values, and I'll discuss this request. Thanks for the report.",good point like see feature someone looking user discus request thanks report,issue,positive,positive,positive,positive,positive,positive
390997424,"Yes, it is a removed environment, just delete the line in the __file__, I'll fix it in our repo asap.
Thanks for the report!",yes removed environment delete line fix thanks report,issue,positive,positive,positive,positive,positive,positive
390880014,"Should be fixed by this commit: https://github.com/bulletphysics/bullet3/pull/1695
Thanks a lot for your work on reporting and creating the reproduction case!",fixed commit thanks lot work reproduction case,issue,positive,positive,positive,positive,positive,positive
390770785,"If using cmake-gui, click on Configure and choose Visual Studio 14 2015 Win64 as the current generator, triggering the use of the 64-bit v140 tools. Click again on Configure, then on Generate. To finish, click on BULLET_PHYSICS.sln in the directory where are the binaries. The box Debug will then show x64 in the IDE.",click configure choose visual studio win current generator use click configure generate finish click directory box show ide,issue,positive,positive,positive,positive,positive,positive
390727295,"Thanks for your quick response, however some games are still wrong in the new version.
```
    import pybullet_envs
    games = [spec.id for spec in gym.envs.registry.all() if spec.id.find('Bullet') >= 0]
    bugs = []
    for game in games:
        try:
            env = gym.make(game)
            env.reset()
            env.step(np.random.random(env.action_space.shape))
        except Exception as e:
            print(e)
            bugs.append(game)
    print(bugs)
```
Most are
```
episode_restart() takes 1 positional argument but 2 were given
```",thanks quick response however still wrong new version import spec game try game except exception print game print positional argument given,issue,negative,negative,negative,negative,negative,negative
390518872,"My fix has been merged now. I removed that if/break statement and replaced it with an assert.

If you have infinite mass bodies which are lacking the correct flags your simulation can suffer performance-wise due to:

- the generating and processing of useless contact manifolds
- unnecessary merging of simulation islands

So the assert I've added is there to warn you about that performance issue.",fix removed statement assert infinite mass correct simulation suffer due generating useless contact unnecessary simulation assert added warn performance issue,issue,negative,negative,negative,negative,negative,negative
390493616,"I think the problem was caused by a race condition somewhere else in my code, and this just happened to make it more apparent.",think problem race condition somewhere else code make apparent,issue,negative,positive,neutral,neutral,positive,positive
390472049,"Thanks for digging this up. 

Bullet uses the btConvexHullComputer to create polyhedral features to enable optional separating axis test collision detection (GJK/EPA is enabled by default, which doesn't need those features).

I was re-creating the faces in [btPolyhedralConvexShape::initializePolyhedralFeatures](https://github.com/bulletphysics/bullet3/blob/master/src/BulletCollision/CollisionShapes/btPolyhedralConvexShape.cpp#L92), but your code seems more suitable.

Can you provide a repro case of a crash? Attached is your snippet in a form that compiles and runs fine (zipped). Please add a collection of vertices that consistently causes a crash in that main.cpp.
[main.zip](https://github.com/bulletphysics/bullet3/files/2020247/main.zip)
",thanks digging bullet create polyhedral enable optional separating axis test collision detection default need code suitable provide case crash attached snippet form fine please add collection vertex consistently crash,issue,negative,positive,positive,positive,positive,positive
390467952,"Hi!

I think the collision detection does not require the faces to be computed.
You could use a [quickhull](https://github.com/akuukka/quickhull) implementation to calculate the faces.

",hi think collision detection require could use implementation calculate,issue,negative,neutral,neutral,neutral,neutral,neutral
390466858,"I have it working but when I use this code I get intermittent random crashes, as if some memory is being randomly overwritten somewhere. Can you see anything I am doing wrong?:
```
	shared_ptr<ConvexHull> CreateConvexHull(const std::vector<Vec3>& points)
	{
		if (points.size() < 4) return nullptr;

		std::vector<float> f;
		for (int i = 0; i < points.size(); ++i)
		{
			f.push_back(points[i].x);
			f.push_back(points[i].y);
			f.push_back(points[i].z);
		}

		btConvexHullComputer* computer = new btConvexHullComputer();
		if (computer->compute(&f[0], 12, points.size(), 0.0f, 0.0f) < 0.0f)
		{
			delete computer;
			return nullptr;
		}
		
		if (computer->vertices.size() < 4 or computer->faces.size() < 4)
		{
			delete computer;
			return nullptr;
		}

		auto hull = make_shared<ConvexHull>();

		for (int i = 0; i < computer->vertices.size(); ++i)
		{
			hull->AddVertex(computer->vertices[i].m_floats[0], computer->vertices[i].m_floats[1], computer->vertices[i].m_floats[2]);
		}

		int v0, v1;
		for (int j = 0; j < computer->faces.size(); j++)
		{
			auto face = hull->AddFace();
			const btConvexHullComputer::Edge* edge = &computer->edges[computer->faces[j]];
			v0 = edge->getSourceVertex();
			face->AddIndice(v0);
			v1 = edge->getTargetVertex();
			while (v1 != v0)
			{
				face->AddIndice(v1);
				edge = edge->getNextEdgeOfFace();
				v1 = edge->getTargetVertex();
			}
			Assert(face->indices.size() > 2);
		}

		delete computer;

		hull->Build();
		return hull;
	}
```",working use code get intermittent random memory randomly somewhere see anything wrong return float computer new compute delete computer return delete computer return auto hull vertex vertex vertex auto face edge edge assert delete computer build return hull,issue,negative,negative,negative,negative,negative,negative
390457426,"It is fixed in the pull request: https://github.com/bulletphysics/bullet3/pull/1692
will upload pybullet 1.9.9 soon
Thanks for the report!",fixed pull request soon thanks report,issue,negative,positive,positive,positive,positive,positive
390436196,"Your  pybullet-gym seems a bit more ambitous with a growing number of environments, Keras support etc. I can't keep up with those developments easily and need to grow my our own environments (Minitaur, KUKA, MIT racecar etc) that I'm more familiar with. Still, those Mujoco locomotion and pendulum envs (Ant, Humanoid, Hopper etc) are pretty important and I can manage and became familiar with your initial port of Roboschool that is now in PyBullet and maintain those as part of PyBullet. I think Roboschool is a dead project and making those envs fully compatible (as in weights are exchangable with the Mujoco versions) would be nice, but then the version needs to bump up.",bit growing number support ca keep easily need grow familiar still locomotion pendulum ant humanoid hopper pretty important manage familiar initial port maintain part think dead project making fully compatible would nice version need bump,issue,positive,positive,positive,positive,positive,positive
390434186,"Hello Erwin,

I should've attached the changed code to my response. I've only changed the line creating the cube. If you'd like me to, I can put together a small pull request for bullet adding the rigid body creator to python. This would allow you to actually run the code yourself and checkout the bug.

[multibody_rigidbody.zip](https://github.com/bulletphysics/bullet3/files/2019815/multibody_rigidbody.zip)
",hello attached code response line cube like put together small pull request bullet rigid body creator python would allow actually run code bug,issue,negative,negative,negative,negative,negative,negative
390414302,"So you again intend to keep all envs up to date and maintained within the
bullet repository? I am again working on making the envs more similar to
MuJoCo. My results will all be in pybullet-gym and depend on pybullet. I
would suggest to keep it that way to make them less coupled and reduce your
maintenance work on them. What do you think Erwin?

On Sat, May 19, 2018 at 1:48 AM erwincoumans <notifications@github.com>
wrote:

> Fixed here: #1690 <https://github.com/bulletphysics/bullet3/pull/1690>
> Now you can create multiple of those environments in the same process
> (same thread or other thread). The Gym environments from this repository
> ship with PyBullet, including Ant, Hopper, Humanoid, HumanoidFlagrunHarder,
> InvertedPendulum etc should be stable and considered the reference version.
>
> —
> You are receiving this because you were mentioned.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1643#issuecomment-390359768>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qzXsJ6Q4J7uEu6JJ8_I3qhRQ2Qcuks5tz13XgaJpZM4TbF8W>
> .
>
",intend keep date within bullet repository working making similar depend would suggest keep way make le coupled reduce maintenance work think sat may wrote fixed create multiple process thread thread gym repository ship ant hopper humanoid stable considered reference version reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
390359768,"Fixed here: https://github.com/bulletphysics/bullet3/pull/1690
Now you can create multiple of those environments in the same process (same thread or other thread). The Gym environments from this repository ship with PyBullet, including Ant, Hopper, Humanoid, HumanoidFlagrunHarder, InvertedPendulum etc should be stable and considered the reference version.",fixed create multiple process thread thread gym repository ship ant hopper humanoid stable considered reference version,issue,positive,positive,neutral,neutral,positive,positive
390128003,"Sorry, I have run it in a container and there were no memory leak happened.
Maybe because I installed some libraries and the the library conflict with PyBullet.

Thank you for you help!",sorry run container memory leak maybe library conflict thank help,issue,negative,negative,negative,negative,negative,negative
389680929,"Thanks for the PR. 

We moved to the generic 'setPhysicsEngineParameter' and 'getPhysicsEngineParameter' instead of individual functions in the PyBullet API, and those parameters are already exposed in the 'setPhysicsEngineParameter' API, see the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#) in that section.


optional | restitutionVelocityThreshold | float | If relative velocity is below this threshold, restitution will be zero.
-- | -- | -- | --
optional | erp | float | constraint error reduction parameter (non-contact, non-friction)
optional | contactERP | float | contact error reduction parameter
optional | frictionERP | float | friction error reduction parameter (when positional friction anchors are enabled)

The PyBullet.setDefaultContactERP is an obsolete API, replaced by above. It is not removed, to avoid breaking peoples existing scripts.

So let's not blow up the number of separate APIs.
",thanks generic instead individual already exposed see guide section optional float relative velocity threshold restitution zero optional float constraint error reduction parameter optional float contact error reduction parameter optional float friction error reduction parameter positional friction obsolete removed avoid breaking let blow number separate,issue,negative,positive,neutral,neutral,positive,positive
389339287,"That seems to be the case. I've exchanged the URDF cube for a rigid body one and this is the result:
https://youtu.be/wLU2y5ztRzc",case cube rigid body one result,issue,negative,neutral,neutral,neutral,neutral,neutral
389330840,"There could be an issue with creating a fixed constraint between btMultibody and btRigidBody, attached repro case. It works to attach a multi body cube to KUKA, but not for rigid body cube.
[multibody_rigidbody.zip](https://github.com/bulletphysics/bullet3/files/2006918/multibody_rigidbody.zip)
",could issue fixed constraint attached case work attach body cube rigid body cube,issue,negative,positive,neutral,neutral,positive,positive
389321724,"It seems to be a problem with constraints multi and rigid bodies, which are created in the context of pybullet and this is the environment in which this bug occurs. 
I get that this is quite complicated and fully understand your hesitation. I will just try to dig trough this on my own, or try to put together a smaller example, if I fail.  ",problem rigid context environment bug get quite complicated fully understand hesitation try dig trough try put together smaller example fail,issue,negative,negative,negative,negative,negative,negative
389320105,"Thanks, but I expected 1 URDF file (with optional assets, OBJ file, MTL, png etc) and  10 lines of regular PyBullet. Why do I need entire repositories and forks?",thanks file optional asset file regular need entire,issue,positive,positive,neutral,neutral,positive,positive
389311277,"Thank you for offering your help! I've put together a small demo ""urdf_rigid_body_constraint_bug.py"" in this repository: https://github.com/ARoefer/pbsbtest
I work in a ROS environment, but I've removed the dependencies for this demo. However you need to export a ""ROS_PACKAGE_PATH"" environment variable which points to the folder containing the cloned package. 
You'll also have to use the devel-version of my bullet fork: https://github.com/ARoefer/bullet3.git ",thank offering help put together small repository work environment removed however need export environment variable folder package also use bullet fork,issue,positive,negative,negative,negative,negative,negative
389296924,"We looked at our previous test, and indeed we also attached a rigid body to the multi body first. So that is the easiest way to get going. There is no anchor implementation between btMultiBody and btSoftBody yet.

>> However, I've run into a problem when creating user constraints between rigid and multi bodies.

A small repro case with URDF would allow someone to help.
",previous test indeed also attached rigid body body first easiest way get going anchor implementation yet however run problem user rigid small case would allow someone help,issue,negative,negative,neutral,neutral,negative,negative
389295740,"In the last couple of days I tried implementing Jan's solution by exposing the creation of rigid bodies to PyBullet and using constraints. (Sadly simply loading the URDF as rigid bodies didn't work.) 
However, I've run into a problem when creating user constraints between rigid and multi bodies.
Video demonstrating the problem: https://youtu.be/cl62iTtHXZg?t=20

If you could point to the code where I can find the implementation for the anchors, I could work on exposing them. The anchor definition in btSoftBody.h only allows for rigid bodies.",last couple day tried solution creation rigid sadly simply loading rigid work however run problem user rigid video problem could point code find implementation could work anchor definition rigid,issue,negative,neutral,neutral,neutral,neutral,neutral
389127609,"I replace with UserIndex instead of UserPointer, and it works well.",replace instead work well,issue,negative,neutral,neutral,neutral,neutral,neutral
388837366,"Hi Andrea,

Not yet, very busy with other stuff, and in preparation for ICRA conference. Hopefully soon,
Thanks!
Erwin
",hi yet busy stuff preparation conference hopefully soon thanks,issue,positive,positive,positive,positive,positive,positive
388827322,"Hi Erwin, did you got the time to look into it?",hi got time look,issue,negative,neutral,neutral,neutral,neutral,neutral
388602929,"I tested these changes with MSVC 2015 x64 in Debug and RelWithDebInfo configurations (with the multithreading compile option on).
For testing purposes I modified the MultiThreadedDemo::createStack() function so that half of the boxes created are static:
```
                btRigidBody* body = localCreateRigidBody( mass, trans, boxShape );
                if ( ( iX & 1 ) == 0 )
                {
                    body->setMassProps(0.0, btVector3(0,0,0));
                    body->setCollisionFlags(0);  // incorrect flags
                }
```

I was able to verify that:
 - in a Debug build with incorrect flags the expected asserts fire
 - in a Debug build with correct flags, no asserts fire
 - in a RelWithDebInfo build with incorrect or correct flags, it does not crash
",tested compile option testing function half static body mass incorrect able verify build incorrect fire build correct fire build incorrect correct crash,issue,negative,positive,positive,positive,positive,positive
388582405,"Nice! Thank you for tracking that down. 
I agree that 'break' statement looks totally wrong.
I'll fix it.",nice thank agree statement totally wrong fix,issue,positive,positive,neutral,neutral,positive,positive
388562873,"@benelot Thanks for sharing this, it looks much helpful. I will check it out.",thanks much helpful check,issue,positive,positive,positive,positive,positive,positive
388555442,"It is not the reason why roboschool uses a fork. They hack some constants
into the physics engine. That is why roboschool will be outdated pretty
quickly. Check out benelot/pybullet-gym for the most up-to-date gyms. I
made a separate repository to free Erwin from the burden of maintaining the
envs as development goes along.

On Fri, May 11, 2018, 17:35 erwincoumans <notifications@github.com> wrote:

> There is no need for Robotschool. The environment needs to be modified to
> use bulliet_client.py, and then all should work well.
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1643#issuecomment-388400087>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qzG5ZHYu249OvwWfPAGIbu3HnnQgks5txa_GgaJpZM4TbF8W>
> .
>
",reason fork hack physic engine outdated pretty quickly check made separate repository free burden development go along may wrote need environment need use work well reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
388551948,"ad1. With CF_KINEMATIC_OBJECT flag added everything works just fine.
ad2. I debugged crash when btDiscreteDynamicsWorldMt is with specified btSequentialImpulseConstraintSolverMt.

I think I found source of problem within btSequentialImpulseConstraintSolverMt::internalCollectContactManifoldCachedInfo:
```
void btSequentialImpulseConstraintSolverMt::internalCollectContactManifoldCachedInfo(btContactManifoldCachedInfo* cachedInfoArray, btPersistentManifold** manifoldPtr, int numManifolds, const btContactSolverInfo& infoGlobal)
{
    BT_PROFILE(""internalCollectContactManifoldCachedInfo"");
    for (int i = 0; i < numManifolds; ++i)
    {
        btContactManifoldCachedInfo* cachedInfo = &cachedInfoArray[i];
        btPersistentManifold* manifold = manifoldPtr[i];
        btCollisionObject* colObj0 = (btCollisionObject*) manifold->getBody0();
        btCollisionObject* colObj1 = (btCollisionObject*) manifold->getBody1();

        int solverBodyIdA = getOrInitSolverBodyThreadsafe( *colObj0, infoGlobal.m_timeStep );
        int solverBodyIdB = getOrInitSolverBodyThreadsafe( *colObj1, infoGlobal.m_timeStep );

        cachedInfo->solverBodyIds[ 0 ] = solverBodyIdA;
        cachedInfo->solverBodyIds[ 1 ] = solverBodyIdB;
        cachedInfo->numTouchingContacts = 0;

        btSolverBody* solverBodyA = &m_tmpSolverBodyPool[ solverBodyIdA ];
        btSolverBody* solverBodyB = &m_tmpSolverBodyPool[ solverBodyIdB ];

        ///avoid collision response between two static objects
        if ( solverBodyA->m_invMass.fuzzyZero() && solverBodyB->m_invMass.fuzzyZero() )
            break;

        int iContact = 0;
        for ( int j = 0; j < manifold->getNumContacts(); j++ )
        {
            btManifoldPoint& cp = manifold->getContactPoint( j );

            if ( cp.getDistance() <= manifold->getContactProcessingThreshold() )
            {
                cachedInfo->contactPoints[ iContact ] = &cp;
                cachedInfo->contactHasRollingFriction[ iContact ] = ( cp.m_combinedRollingFriction > 0.f );
                iContact++;
            }
        }
        cachedInfo->numTouchingContacts = iContact;
    }
}
```

Shouldn't be 'continue' instead of 'break' in code below?
```
        ///avoid collision response between two static objects
        if ( solverBodyA->m_invMass.fuzzyZero() && solverBodyB->m_invMass.fuzzyZero() )
            break;
```

This leaves cachedInfo->numTouchingContacts uninitialized for all remaining manifolds.
After I changed 'break' to 'continue' there is no crash anymore.",ad flag added everything work fine ad crash think found source problem within void manifold collision response two static break instead code collision response two static break leaf crash,issue,negative,positive,positive,positive,positive,positive
388400795,"I don't know what happened but it works on the desktop computer after a reboot, using a GL 3.0 context. Thank you for looking into it!",know work computer context thank looking,issue,negative,neutral,neutral,neutral,neutral,neutral
388400087,"There is no need for Robotschool. The environment needs to be modified to use bulliet_client.py, and then all should work well.
In a nutshell, remove all import pybullet, and at one central place import bullet_client, create an instance (connect to GUI, SHARED_MEMORY or DIRECT) and pass that instance around, as replacement for 'p'. Again, this is done in our Minitaur environment. Someone has to do this refactoring.",need environment need use work well nutshell remove import one central place import create instance connect direct pas instance around replacement done environment someone,issue,negative,positive,neutral,neutral,positive,positive
388399520,"You can try to modify testbike.py (around line 10) as follows, and report if you see a graphics window:
p.connect(p.GUI, options=""--opengl2"")

Note that the OpenGL 2.x implementation is rudimentary and doesn't have all features.",try modify around line report see graphic window note implementation rudimentary,issue,negative,neutral,neutral,neutral,neutral,neutral
388397989,"The error is reported: Failed to create GL 3.0 context
Are you using a virtual environment, remote desktop connection? You may only be able to run old OpenGL 2 apps. You could modify the code to create a rudimentary OpenGL 2 display, but best is to sort out your graphics drivers.",error create context virtual environment remote connection may able run old could modify code create rudimentary display best sort graphic,issue,positive,positive,positive,positive,positive,positive
388397970,"It works on my laptop using the same installation method.
The laptop runs on AMD open-source driver with Wayland while the desktop uses NVIDIA/proprietary driver. They are both up to date and should have approximately the same packages installed.
```
[trougnouf@uryzen:pybullet_envs/examples]$ python testBike.py     (05-11 17:23)
pybullet build time: May 11 2018 17:14:09
startThreads creating 1 threads.
starting thread 0
started thread 0 
argc=2
argv[0] = --unused
argv[1] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
Creating context
Created GL 3.0 context
Direct GLX rendering context obtained
Making context current
GL_VENDOR=X.Org
GL_RENDERER=AMD RAVEN (DRM 3.23.0 / 4.16.7-1-ARCH, LLVM 6.0.0)
GL_VERSION=4.5 (Core Profile) Mesa 18.0.3
GL_SHADING_LANGUAGE_VERSION=4.50
pthread_getconcurrency()=0
Version = 4.5 (Core Profile) Mesa 18.0.3
Vendor = X.Org
Renderer = AMD RAVEN (DRM 3.23.0 / 4.16.7-1-ARCH, LLVM 6.0.0)
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0 
MotionThreadFunc thread started
ven = X.Org
rpy="" 0.0 -0.0 0.0 "" xyz="" -0.07000000029802322 0.0 0.6899999976158142
XIO:  fatal IO error 11 (Resource temporarily unavailable) on X server "":0""
      after 694 requests (694 known processed) with 0 events remaining.
```",work installation method driver driver date approximately python build time may starting thread thread unused server dynamically loaded context context direct rendering context making context current raven arch core profile mesa version core profile mesa vendor renderer raven arch selected physic server starting thread thread thread fatal io error resource temporarily unavailable server known,issue,negative,negative,neutral,neutral,negative,negative
388396513,"I find an easy workaround, if we start each env in a new process, this collision will no longer exists. And I guess this is the reason why OpenAI Roboschool doesn't use the official bullet3, they use a forked branch named `roboschool_self_collision` instead.",find easy start new process collision longer guess reason use official bullet use forked branch instead,issue,negative,positive,positive,positive,positive,positive
388182936,"With bad assert removed demo works.

> Note that your collision objects which are not rigid bodies should have either the collision flag CF_STATIC_OBJECT or CF_KINEMATIC_OBJECT set.

I have some objects without those flags indeed. Ok, I will add CF_KINEMATIC_OBJECT flag to them and see if this solve the problems.

Thanks. ",bad assert removed work note collision rigid either collision flag set without indeed add flag see solve thanks,issue,negative,negative,negative,negative,negative,negative
388141089,"I asked Yunfei Bai (who added soft body versus btMultiBody contact), and anchors should be implemented too, but not exposed yet. Once I have time, I may look at exposing them.",added soft body versus contact exposed yet time may look,issue,negative,positive,neutral,neutral,positive,positive
388126279,"Thank you for confirming that that workaround works, Jan. I thought about trying that, but hoped for a response from Erwin, before going ahead and exposing rigid bodies to pybullet.",thank confirming work thought trying hoped response going ahead rigid,issue,positive,neutral,neutral,neutral,neutral,neutral
388125435,"With the bad assert removed, I'm not seeing any crash related to btSequentialImpulseConstraintSolver::getOrInitSolverBody using the reproduction steps you provided.
Do you have repro steps for that crash?

Note that your collision objects which are not rigid bodies should have either the collision flag CF_STATIC_OBJECT or CF_KINEMATIC_OBJECT set. Failing to set one of those flags _could_ lead to a crash in that code.
I'll take a look into making that function more tolerant of such usage errors.",bad assert removed seeing crash related reproduction provided crash note collision rigid either collision flag set failing set one lead crash code take look making function tolerant usage,issue,negative,negative,negative,negative,negative,negative
388124107,"I will fix it if I can get steps to reproduce it.
The bad assert was the only issue I found from the given repro steps. I'll inquire about getting a repro case for the other problems that were mentioned.",fix get reproduce bad assert issue found given inquire getting case,issue,negative,negative,negative,negative,negative,negative
388049649,"A quick update, I found this python library [trimesh](https://github.com/mikedh/trimesh) to be extremely useful. If the [v-hacd](https://github.com/kmammou/v-hacd) library is already installed, then update the environment variable PATH to the testVHACD executable. Once that is done, 

```
import trimesh
from trimesh.io.urdf import export_urdf
mesh = trimesh.load(<path to STL/ OBJ/PLY file>)
export_urdf(mesh, <folder path to which urdf has to be saved>)
```
This will do a hierarchial decomposition of the concave object and generate a urdf file from the same. This urdf file can be easily used in bullet. 

I am on Ubuntu and hence I compiled the v-hacd. My export path is as follows:

` export PATH=$PATH:' <path to v-hacd>/build/linux2/test`

Note: The v-hacd have the binary for OSx and Windows, for Linux it has to be compiled using the the run.py in the scripts folder and then running make in the build directory. The build directory will be automatically created upon successful running of run.py 
",quick update found python library extremely useful library already update environment variable path executable done import import mesh path file mesh folder path saved decomposition concave object generate file file easily used bullet hence export path export path path note binary folder running make build directory build directory automatically upon successful running,issue,positive,positive,positive,positive,positive,positive
388041415,"Hi,

I have not seen a way to create an anchor between softbody and multibody either. My workaround was to create a tiny rigidbody attached to multibody and then anchor the softbody to the rigidbody. Obviously it would be much better to find a direct way of doing it. ",hi seen way create anchor either create tiny attached anchor obviously would much better find direct way,issue,positive,positive,positive,positive,positive,positive
387554392,Bah.  Don't merge this yet.  I optimistically thought I had solved the problem but it I'm not done yet.,bah merge yet optimistically thought problem done yet,issue,negative,neutral,neutral,neutral,neutral,neutral
387496585,"We are trying to update our project to use Bullet 2.88 instead of 2.83 but one of the blockers are some warnings about explicit cast from `float` to `double` (we have a strict policy: no **new** compile warnings can be added).  We are patching our own version of Bullet, distributed as a downloadable asset in our build configuration, but we humbly submit this simple change upstream to help reduce future upgrade complications.",trying update project use bullet instead one explicit cast float double strict policy new compile added version bullet distributed asset build configuration humbly submit simple change upstream help reduce future upgrade,issue,positive,negative,neutral,neutral,negative,negative
387247447,"Thanks for the contribution. Do you mind looking into the btCollisionObject related issue(s) in btSequentialImpulseConstraintSolver and Mt version?

https://github.com/bulletphysics/bullet3/issues/1673",thanks contribution mind looking related issue version,issue,negative,positive,neutral,neutral,positive,positive
386938364,"Sorry for being late.
This is my code of the reset function. (Changed a little bit to the original one)
```
    def reset(self):
        self.terminated = 0
        p.resetSimulation()
        p.setPhysicsEngineParameter(numSolverIterations=150)
        p.setTimeStep(self._timeStep)
        p.loadURDF(""parts/plane/plane.urdf"", [0, 0, -1])

        self.tableUid = p.loadURDF(""parts/table/table.urdf"", 0.5000000, 0.00000, -.820000, 0.000000, 0.000000, 0.0, 1.0)

        p.setGravity(0, 0, -10)
        self._kuka = kuka.Kuka(timeStep=self._timeStep)
        self._kukaUid = self._kuka.kukaUid
        self._envStepCounter = 0
        p.stepSimulation()
```

My first call to the reset function,  it is like this
```
top - 10:45:13 up 30 min,  6 users,  load average: 0.69, 0.53, 0.72
Tasks: 277 total,   1 running, 276 sleeping,   0 stopped,   0 zombie
%Cpu(s):  9.4 us,  0.2 sy,  0.0 ni, 90.3 id,  0.1 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem : 32880900 total, 28786732 free,  2196292 used,  1897876 buff/cache
KiB Swap: 33488892 total, 33488892 free,        0 used. 30193616 avail Mem 

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND     
 4367 sun       20   0 1116300 155760  58504 S 110.3  0.5   0:31.67 python      
```
My second call
```
 4367 sun       20   0 1116300 161268  58504 S 111.3  0.5   5:21.39 python   
```
My third call
```
 4367 sun       20   0 1120396 167604  58504 S 110.6  0.5   5:31.44 python 
```
My fourth call
```
 4367 sun       20   0 1120396 176980  62600 S 111.6  0.5   5:38.13 python 
```
The memory consumption goes up everytime. 



But if I comment out all loadURDF. Like this
```
    def reset(self):
        self.terminated = 0
        p.resetSimulation()
        p.setPhysicsEngineParameter(numSolverIterations=150)
        p.setTimeStep(self._timeStep)
        p.setGravity(0, 0, -10)
        self._envStepCounter = 0
        p.stepSimulation()
```
Everytime I call the reset function, it has the same memory consumption.
```
4594 sun       20   0 1116232 109176  50484 S 110.3  0.3   0:15.39 python   
```
I think it might be strange if the p.resetSimulation() clean up the memory.
",sorry late code reset function little bit original one reset self first call reset function like top min load average total running sleeping stopped zombie u ni id wa hi si st mem total free used swap total free used avail mem user ni mem command sun python second call sun python third call sun python fourth call sun python memory consumption go comment like reset self call reset function memory consumption sun python think might strange clean memory,issue,positive,positive,neutral,neutral,positive,positive
386896417,"> If you care, fork the repo, fix the error, create a pull request. Only deal with the error, no other changes in the pull request makes it more like to be accepted.

I am a maintainer of the FreeBSD port. I don't really use it, and can't spend a significant time debugging the third party packages. You as a project owner should be more interested in your project being buildable on various systems with different compilers.

Currently it fails with C++ errors with clang-6.
",care fork fix error create pull request deal error pull request like accepted maintainer port really use ca spend significant time third party project owner interested project buildable various different currently,issue,positive,positive,positive,positive,positive,positive
386880816,"If you care, fork the repo, fix the error, create a pull request. Only deal with the error, no other changes in the pull request makes it more like to be accepted.",care fork fix error create pull request deal error pull request like accepted,issue,positive,neutral,neutral,neutral,neutral,neutral
386807529,"The OpenCL port is still therw, you can try it out by running the Bullet Example Browser with the flag --enable_experimental_opencl

Our OpenCL port DOES work for single large islands, using graph coloring. We published some papers/book chapter about this. See the docs folder.",port still try running bullet example browser flag port work single large graph coloring chapter see folder,issue,negative,positive,neutral,neutral,positive,positive
386791396,"Hi!

Would you be able to do it or are others meant to do it? There were tries
to do so in the past, but there were compatibility problems with different
OpenCL drivers as far as I can tell. Another thung that might not always be
simple speed up on GPUs is the resolving of a single island (a heap of
touching bodies basically), since this makes it not parallelizable. You can
resolve multiple islands at the same time though! If you are interested on
working on the OpenCL part, I am sure Erwin Coumans will be glad to give
you some pointers on where to continue.

On Sat, May 5, 2018, 04:48 Thorsten Kiefer <notifications@github.com> wrote:

> Heya, would be able to port bullet to opencl ???
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1672>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q_Arke7z8FL2ogrl2cepcVEhepqiks5tvRMOgaJpZM4Tzd1z>
> .
>
",hi would able meant past compatibility different far tell another thung might always simple speed single island heap touching basically since resolve multiple time though interested working part sure glad give continue sat may wrote would able port bullet thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
386618695,"Thanks you for your help! In this archive you can find the scene and the trimesh.bullet. the scene has trimesh shape and sphere at the position where the depth returned is positive.

The query is done inside the function `renderScene`

I want to point out this, the camera is pointing from  above to the trimesh and the trimesh normals are ""reversed"" you can notice that the trimesh is ""invisible"", due to the culling. I don't know if this could be the problem (in godot it's show correctly). However even if the normals are inthe opposite direction the depth should be negative

[BasicExample.zip](https://github.com/bulletphysics/bullet3/files/1974749/BasicExample.zip)
",thanks help archive find scene scene shape sphere position depth returned positive query done inside function want point camera pointing reversed notice invisible due culling know could problem show correctly however even opposite direction depth negative,issue,negative,positive,neutral,neutral,positive,positive
386511778,Just noticed this issue and seems like my fix in https://github.com/bulletphysics/bullet3/pull/1662 was exactly the same as the patch behind the google code link. I think you can close this issue too.,issue like fix exactly patch behind code link think close issue,issue,negative,negative,neutral,neutral,negative,negative
386408863,"No, you should not compile ALL target, only  1 target. That's why I mentioned ""**_and just compile the ExampleBrowser_**."" in my previous message.

~~~~~~~
make App_ExampleBrowser
~~~~~~~
After all builds, you can run it:
~~~~~~~
examples/ExampleBrowser/App_ExampleBrowser
~~~~~~~
The BasicExample.cpp is used in several targets, and most of them don't include the required dependencies (for example, AppBasicExampleGui doesn't link against BulletWorldImporter).
The App_ExampleBrowser target also includes BasicExample.cpp, and it has the required dependencies.",compile target target compile previous message make run used several include example link target also,issue,negative,negative,neutral,neutral,negative,negative
386399868,"I've searched inside CMake properties but all seems correct to me (at the end I'm using the default settings) Also I think that if you are able to compile it can't be a problem of Make file that doesn't include the cpp files....

Do you have any idea?",inside correct end default also think able compile ca problem make file include idea,issue,negative,positive,positive,positive,positive,positive
386394538,"It's more or less the same thing that I did, but I'm getting the exact same compiling error:

```
$ make
[ 10%] Built target BulletCollision
[ 15%] Built target BulletDynamics
[ 17%] Built target LinearMath
[ 17%] Built target App_HelloWorld
[ 17%] Built target Bullet3Common
[ 19%] Built target OpenGLWindow
[ 19%] Linking CXX executable AppBasicExampleGui
CMakeFiles/AppBasicExampleGui.dir/BasicExample.o: In function `BasicExample::initPhysics()':
BasicExample.cpp:(.text+0x2b2): undefined reference to `btBulletWorldImporter::btBulletWorldImporter(btDynamicsWorld*)'
BasicExample.cpp:(.text+0x2c1): undefined reference to `btBulletWorldImporter::loadFile(char const*, char const*)'
BasicExample.cpp:(.text+0x2cc): undefined reference to `btWorldImporter::getNumCollisionShapes() const'
BasicExample.cpp:(.text+0x2e4): undefined reference to `btBulletWorldImporter::loadFile(char const*, char const*)'
BasicExample.cpp:(.text+0x2f1): undefined reference to `btWorldImporter::getNumCollisionShapes() const'
BasicExample.cpp:(.text+0x4a1): undefined reference to `btWorldImporter::getCollisionShapeByIndex(int)'
BasicExample.cpp:(.text+0x6b6): undefined reference to `btWorldImporter::getCollisionShapeByIndex(int)'
collect2: error: ld returned 1 exit status
make[2]: *** [examples/BasicDemo/CMakeFiles/AppBasicExampleGui.dir/build.make:167: examples/BasicDemo/AppBasicExampleGui] Error 1
make[1]: *** [CMakeFiles/Makefile2:308: examples/BasicDemo/CMakeFiles/AppBasicExampleGui.dir/all] Error 2
make: *** [Makefile:141: all] Error 2

```",le thing getting exact error make built target built target built target built target built target built target linking executable function undefined reference undefined reference char char undefined reference undefined reference char char undefined reference undefined reference undefined reference collect error returned exit status make error make error make error,issue,negative,positive,positive,positive,positive,positive
386365836,"I think there is a way to connect soft bodies to multi bodies, but it is not exposed in PyBullet yet. Let me check it and get back to it later. Thanks for offering resources.",think way connect soft exposed yet let check get back later thanks offering,issue,negative,positive,neutral,neutral,positive,positive
386298962,"Thanks, indeed the filter should be applied for CCD as well.",thanks indeed filter applied well,issue,positive,positive,positive,positive,positive,positive
386289339,"Fixed in this PR: https://github.com/bulletphysics/bullet3/pull/1668
If you like to contribute a closed-form diagonalize method, feel free to submit a PR.",fixed like contribute diagonalize method feel free submit,issue,positive,positive,positive,positive,positive,positive
386286987,"Yes, this is the best quick solution. However, I would suggest replacing with the 3x3 symmetric closed form solution for eigenvalues/eigenvectors, no iteration, guaranteed solution, fastest possible solution etc. I'm just using Eigen's solver, but the implementation is very few lines of code.

I looked at the previous bug report on this method, not sure how the user got a non-symmetric inertia tensor as this cannot be an inertia tensor.",yes best quick solution however would suggest symmetric closed form solution iteration solution possible solution solver implementation code previous bug report method sure user got inertia tensor inertia tensor,issue,positive,positive,positive,positive,positive,positive
386285376,"Ah, extractRotation extracts an orthogonal matrix, so the matrix R may include both rotation and scaling. Let's revert to the previous btMatrix3x3::diagonalize implementation using the Jacobi method.",ah orthogonal matrix matrix may include rotation scaling let revert previous implementation method,issue,negative,negative,negative,negative,negative,negative
386235053,"Hi,

our method is intended to extract the rotational part of an arbitrary
3x3 matrix. The inertia tensor is symmetric and therefore contains no 
rotation information. Hence, the rotational part is zero.

To make this a bit clearer. Our method can be seen as a kind of polar 
decomposition which decomposes a matrix A in a orthogonal matrix R and a 
symmetric matrix S:

A = R*S.

Our method ensures that R is always a rotation matrix and contains no 
reflection. If A is already symmetric, then R will be the identity matrix.

What you search for is a main axis transformation which diagonalizes the 
inertia tensor. This can be done by an SVD. A polar decomposition is not 
the same as an SVD and cannot be directly used to diagonalize the 
tensor. But an SVD can also be used to extract the rotational part of a 
matrix.

Hope that helps,

Jan


Am 03.05.2018 um 03:48 schrieb Stephen Butler:
> Howdy,
> 
> Your paper 
> https://animation.rwth-aachen.de/media/papers/2016-MIG-StableRotation.pdf was 
> used to implement finding the rotation to diagonalize an inertia tensor.
> 
> I'm finding that there is a problem with this, when you use a symmetric 
> matrix with the algorithm you presented no solution can be found. 
> Inertia tensors are always symmetric.
> 
> For example try:
> 
> 0.00076275, -0.00047298, 0
> -0.00047298, 0.0019185, 0
> 0, 0, 0.0022293
> 
> 
> Trying various starting q's as suggested in the paper always converges 
> to q=0. However, SVD finds the solution.
> 
> You can see the discussion unfolding here:
> https://github.com/bulletphysics/bullet3/issues/1667
> 
> Best regards,
> 
> Stephen
",hi method intended extract rotational part arbitrary matrix inertia tensor symmetric therefore rotation information hence rotational part zero make bit clearer method seen kind polar decomposition matrix orthogonal matrix symmetric matrix method always rotation matrix reflection already symmetric identity matrix search main axis transformation inertia tensor done polar decomposition directly used diagonalize tensor also used extract rotational part matrix hope um butler howdy paper used implement finding rotation diagonalize inertia tensor finding problem use symmetric matrix algorithm solution found inertia always symmetric example try trying various starting paper always however solution see discussion unfolding best,issue,positive,positive,positive,positive,positive,positive
386179175,"The previous implementation of btMatrix3x3::diagonalize works fine with your matrix, implementation is here: https://github.com/bulletphysics/bullet3/blob/fe6c8775da6a07b56297311c32cc14bb8c9ed771/src/LinearMath/btMatrix3x3.h#L660

Probably good to restore the old implementation.",previous implementation work fine matrix implementation probably good restore old implementation,issue,positive,positive,positive,positive,positive,positive
386169702,"Thanks, I was referencing the paper you linked while looking at the functions. 

Can you contact the authors of the paper and report back?
I'll see if I can ping the authors.

How did you generate this inertia matrix?
Solidworks, this was just one assembly link in a humanoid robot. This same problem occurs for every link in the robot. Since the inertia tensor is always symmetric it appears this will always give you 0,0,0 unless I am missing something.

SVD seems to work fine giving (which is one of many, many solutions): 
>> [v,d] = eig(x)
v =
   -0.9418   -0.3363         0
   -0.3363    0.9418         0
         0         0    1.0000
d =
    0.0006         0         0
         0    0.0021         0
         0         0    0.0022

Once I have my simulation working I'm thinking about commenting up btMultiBody and related in doxygen format which I'll submit.

As for diagonalize being a utility function, the whole diagonal/principle axis requirement is a bit painful for implementing real robots and adds a bit of extra obfuscation. The principle axis of a link is usually fairly difficult to think about in a design context since on real robots they will be wonky and not aligned to meaningful frames, i.e., world, joint, various useful surfaces like bottoms of feet etc (usually the frames for the visual meshes).

Edit*: Since inertia tensors are always 3x3 symmetric-real there is a closed form solution for the eigenvalues (diag inertial elements) and vectors (which make up rotation matrix). Nearly all linalg solvers have this. No iteration needed. For example: Eigen::SelfAdjointEigenSolver
https://eigen.tuxfamily.org/dox/group__TopicLinearAlgebraDecompositions.html",thanks paper linked looking contact paper report back see ping generate inertia matrix one assembly link humanoid robot problem every link robot since inertia tensor always symmetric always give unless missing something work fine giving one many many simulation working thinking related format submit diagonalize utility function whole axis requirement bit painful real bit extra obfuscation principle axis link usually fairly difficult think design context since real wonky meaningful world joint various useful like usually visual edit since inertia always closed form solution inertial make rotation matrix nearly iteration example,issue,positive,positive,neutral,neutral,positive,positive
386164600,"The diagonalize method is a convenience/utility function that isn't used by default in Bullet. I recently replaced the btMatrix3x3::diagonalize implementation (using Jacobi method) with a new one based on the extractRotation from this paper ""A robust method to extract the rotational part of deformations"", see [pdf link](https://animation.rwth-aachen.de/media/papers/2016-MIG-StableRotation.pdf). The original paper extractRotation code has the same issue, see below.

Can you contact the authors of the paper and report back?

How did you generate this inertia matrix? Is it positive semi-definite?
~~~~~~~~~~~~~

#include ""E:\develop\eigen\Eigen\Dense""

void extractRotation(const Eigen::Matrix3d &A, Eigen::Quaterniond &q,
	const unsigned int maxIter)
{
	for (unsigned int iter = 0; iter < maxIter; iter++)
	{
		Eigen::Matrix3d R = q.matrix();
		Eigen::Vector3d omega = (R.col(0).cross(A.col(0)) + R.col
		(1).cross(A.col(1)) + R.col(2).cross(A.col(2))
			) * (1.0 / fabs(R.col(0).dot(A.col(0)) + R.col
			(1).dot(A.col(1)) + R.col(2).dot(A.col(2))) +
				1.0e-9);
		double w = omega.norm();
		if (w < 1.0e-9)
			break;
		q = Eigen::Quaterniond(Eigen::AngleAxisd(w, (1.0 / w) * omega)) *
			q;
		q.normalize();
	}
}

int main()
{
	Eigen::Matrix3d A;
	A << 0.00076275, -0.00047298, 0,
		-0.00047298, 0.0019185, 0,
		0, 0, 0.0022293;
	Eigen::Quaterniond q(1, 0, 0, 0);
	
	

	const unsigned int maxIter = 100;

	extractRotation(A, q, maxIter);
    return 0;
}
~~~~~~~~~~~~",diagonalize method function used default bullet recently implementation method new one based paper robust method extract rotational part see link original paper code issue see contact paper report back generate inertia matrix positive include void unsigned unsigned iter iter omega double break omega main unsigned return,issue,positive,positive,positive,positive,positive,positive
386120128,p.resetSimulation() does cleanup the memory. Can you share a small reproduction case that shows the leak?,cleanup memory share small reproduction case leak,issue,negative,negative,negative,negative,negative,negative
386119777,"Thanks for the report and repro case, it is fixed now.",thanks report case fixed,issue,negative,positive,positive,positive,positive,positive
386004404,"The BasicExample.zip (that I attached a few messages ago in this thread) includes the BasicExample.cpp that includes the btBulletWorldImporter.
You can use premake or cmake to generate build files for any platform (Linux, Mac OSX, Windows) and just compile the ExampleBrowser.  The ExampleBrowser starts with BasicExample by default. Just make sure to put the sphere.bullet and trimesh.bullet files in the current working directory (or use an absolute path)",attached ago thread use premake generate build platform mac compile default make sure put current working directory use absolute path,issue,negative,positive,positive,positive,positive,positive
385989036,"Hi Erwin, I'm really sorry for this delay but I was a bit busy with a moving house these two weeks... Now I'm managing to create the reproducible project by editing the BasicExample.cpp.

Can you please tell me the step that I've to do to include `btBulletWorldImporter.h`and link it from the BasicExample demo correctly?",hi really sorry delay bit busy moving house two create reproducible project please tell step include link correctly,issue,negative,negative,negative,negative,negative,negative
385715092,"Thanks for the PR. I fixed it in a slightly different way here:
https://github.com/bulletphysics/bullet3/pull/1637/commits/c7d9afac1ec3aee4be74f9f3c894ef0b65eb808c",thanks fixed slightly different way,issue,negative,positive,positive,positive,positive,positive
385712350,"The KUKA grasping environment has a very sparse reward, and the TF Agents PPO may not find a suitable policy.
Using Evolution Strategies works OK, see
http://blog.otoro.net/2017/11/12/evolving-stable-strategies/
The code is released, including a pretrained model for KUKA grasping:
https://github.com/hardmaru/estool/

If you want to use PPO, you may need to extend it with a more fancy exploration strategy or other ideas (create some curriculum, starting with states closer to a successful grasp, and gradually make the trajectories longer, starting further away)",grasping environment sparse reward may find suitable policy evolution work see code model grasping want use may need extend fancy exploration strategy create curriculum starting closer successful grasp gradually make longer starting away,issue,positive,positive,positive,positive,positive,positive
384849069,"I have tried:
python3 -m pybullet_envs.agents.train_ppo --config=pybullet_kuka_grasping --logdir=kuka
Then i evaluate the environment:
python3 -m pybullet_envs.agents.visualize_ppo  --logdir=kuka/<timestampname> --outdir=kuka_video1

However, from the ""kuka_video1"", we find it the robot can still not grasp the object.",tried python evaluate environment python however find robot still grasp object,issue,negative,neutral,neutral,neutral,neutral,neutral
384627350,"Ah, good point, expose them to the PyBullet.getPhysicsEngineParameters API.

Our error reduction parameter is related to the number of solver iterations and timestep. The default erp (0.2) is suitable for 60Hz, 10 iterations. For robotics, our default is 240Hz and 50 iterations, so I picked a more suitable erp default of 0.08. It is",ah good point expose error reduction parameter related number solver default suitable default picked suitable default,issue,negative,positive,positive,positive,positive,positive
384624234,"SoftBody support is experimental and undocumented, thanks for trying it out and for sharing the pull request!
You may want to add a check for m_data and m_data->m_dynamicsWorld, before using it.
if (m_data && m_data->m_dynamicsWorld)
{

}
",support experimental undocumented thanks trying pull request may want add check,issue,positive,positive,positive,positive,positive,positive
384465784,"I've been there

`cleanProxyFromPairs` seems to work for us, though I haven't done much performance profiling",work u though done much performance,issue,negative,positive,positive,positive,positive,positive
384460212,Oops...apparently my ability to search for prior issues is atrocious *and* I have a short-term memory cache that doesn't extend back 18 months. I'd forgotten about that conversation and the recommendations he'd made.,apparently ability search prior atrocious memory cache extend back forgotten conversation made,issue,negative,negative,negative,negative,negative,negative
384458343,"I had this same issue in the past; Erwin recommended calling `cleanProxyFromPairs`, so we do that in gazebo when we move or resize something:

https://bitbucket.org/osrf/gazebo/pull-requests/683/model-resize-in-bullet-mode/diff#chg-gazebo/physics/bullet/BulletLink.cc

I think he made the same recommendation in the following issue: https://github.com/bulletphysics/bullet3/issues/871#issuecomment-262604136

",issue past calling gazebo move resize something think made recommendation following issue,issue,negative,negative,negative,negative,negative,negative
383854298,"Sorry, I did not come back to this issue:

RBDL/RBDyn only help with your point 1) AFAIK. However, RBDyn especially has a suite of associated control tools.

2) In my mind, `\tau` is the control signal, so it is provided by the user.

3) In typical control schemes, the contact forces are either sensed or estimated. I think it would be important to be able to retrieve that information from the simulator to implement and / or verify algorithms. An extra term might be the contact locations.",sorry come back issue help point however especially suite associated control mind control signal provided typical control contact either sensed think would important able retrieve information simulator implement verify extra term might contact,issue,negative,positive,neutral,neutral,positive,positive
383360394,"I think since you already have an idea and know how to implement it, just
do it in your own fork and pull-request it. Then you can use it already and
Erwin can give you advice on how to make it better or if it is suitable for
merging.

On Sat, Apr 21, 2018, 23:48 Levi Armstrong <notifications@github.com> wrote:

> @erwincoumans <https://github.com/erwincoumans> Any thoughts on if this
> would be an acceptable change?
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/90#issuecomment-383333864>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q2GA5tmE3Hqh5W-UxlSTcYO3qZ2uks5tq6kjgaJpZM4BuE5Q>
> .
>
",think since already idea know implement fork use already give advice make better suitable sat wrote would acceptable change thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
383072135,"There will be conflict, since both environments use a global pybullet module handle, and populate it twice etc.

We could solve this using the same solution as in the Minitaur Gym environments by using a local module handle, called BulletClient.
For example [bullet_client.py ](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/bullet/bullet_client.py)and v1 Minitaur using [bullet_client.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/minitaur/envs/bullet_client.py)
Then instead of using global p.loadURDF, you use self._bullet_client.loadURDF: all methods are passed through, and the bullet_client adds the right physicsClientHandle.

",conflict since use global module handle populate twice could solve solution gym local module handle example instead global use right,issue,negative,positive,neutral,neutral,positive,positive
382924797,"`
import pybullet as p
import pybullet_envs
import gym

train_env = gym.make('HalfCheetahBulletEnv-v0')
test_env = gym.make('HalfCheetahBulletEnv-v0')

train_env.reset()
test_env.reset()
`

This gives the error:
![image](https://user-images.githubusercontent.com/11016779/39024799-63870136-4400-11e8-8083-bc8cefe6e67f.png)
",import import import gym error image,issue,negative,neutral,neutral,neutral,neutral,neutral
382667862,"Hi,

Can you build a simple, shareable reproduction case for the problem? It
seems that it does not load the ground plane properly.

On Thu, Apr 19, 2018, 05:26 Sungsu Lim <notifications@github.com> wrote:

> [image: image]
> <https://user-images.githubusercontent.com/11016779/38969600-516c4e50-434e-11e8-9bfd-fbbcf88a68d0.png>
>
> When calling test_env.reset(), it throws an error which I'm not sure how
> to parse. I'm using HalfCheetahBulletEnv-v0.
>
> I have two different instance of the environment, one for training and one
> for evaluating.
> At every N timesteps of training, I do evaluation by running episodes on
> the test_environment.
> It does not throw an error when doing train_env.reset() at the beginning.
>
> What would be the issue?
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1643>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q_rOwhrt1DY8ixwGLIMkuJPEHaDEks5tqAPmgaJpZM4TbF8W>
> .
>
",hi build simple shareable reproduction case problem load ground plane properly lim wrote image image calling error sure parse two different instance environment one training one every training evaluation running throw error beginning would issue thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
381565422,"Using a high damping for the joints except the arm joints results in a very slow movement of the arm itself, although I'm not sure why. The desired pose is never reached. However, I found another workaround: computing the IK for all joints, but then setting the jointPoses of the rigid joints to zero seems to work quite well.",high damping except arm slow movement arm although sure desired pose never however found another setting rigid zero work quite well,issue,positive,positive,positive,positive,positive,positive
381558261,thanks a lot for the reply. I am trying the methods you suggested.,thanks lot reply trying,issue,negative,positive,positive,positive,positive,positive
381497685,"There are a few ways: if the concave part is not a rigid body, but static, use this flag to collide against the triangle mesh:
~~~~~~~~~~~
<collision concave=""yes"">
~~~~~~~~~~~
Alternative, if you need the concave part moving too, create a convex decomposition, and insert each part as a separate object in the obj file. You can use V-HACD to create a convex decomposition. Bullet comes with a VHACD tool that creates a convex decomposition from a Wavefront .obj file, and exports it to a new .obj file with convex parts that are automatically recognized in Bullet/PyBullet. Use premake to build the tool called test_vhacd.

I am currently working on adding signed distance fields in Bullet, see [btSdfCollisionShape](https://github.com/bulletphysics/bullet3/blob/master/src/BulletCollision/CollisionShapes/btSdfCollisionShape.cpp) it will be exposed in URDF too. You can use [DiscreGrid](https://github.com/InteractiveComputerGraphics/Discregrid) to generate the SDF.
I'll report back when this is available.
",way concave part rigid body static use flag collide triangle mesh collision yes alternative need concave part moving create convex decomposition insert part separate object file use create convex decomposition bullet come tool convex decomposition file new file convex automatically use premake build tool currently working distance bullet see exposed use generate report back available,issue,negative,positive,positive,positive,positive,positive
381442803,"Oh gosh, please, yes! Sometimes it even feels like bullet code was written like this intentionally with the main goal of trolling those with OCD. Otherwise how do you explain tabs and spaces mixed together all over the place, lines that are well over 300 characters, generous use of trailing whitespace, files with CRLF line terminators, and so on… And all that in a project that had enough time to fix these minor (but really disturbing) issues.

IMO applying to the whole code base is OK in this situation. `-w` git flag to the rescue.",oh gosh please yes sometimes even like bullet code written like intentionally main goal trolling otherwise explain mixed together place well generous use trailing line project enough time fix minor really disturbing whole code base situation git flag rescue,issue,positive,negative,negative,negative,negative,negative
381357787,"Bumping... any reason this still isn't landed? I don't know of any compiler that throws a warning on float->double implicit conversions of constants, but double->float warnings is definitely a real thing.

Bullet also already uses float constants all the time (it even uses them already in the lines in question, just not consistently). At the very least making the code consistent in this regard would be nice.",bumping reason still landed know compiler warning double implicit float definitely real thing bullet also already float time even already question consistently least making code consistent regard would nice,issue,negative,positive,positive,positive,positive,positive
380894229,"Reinforcement Learning tasks are the primary use of PyBullet, so we should fix any leaks.
(although recently we start exploring [ARS](https://arxiv.org/abs/1803.07055), it seems to give faster results, compared to RL/PPO, DDPG, TRPO etc)

Thanks for the repro case!
",reinforcement learning primary use fix although recently start exploring give faster thanks case,issue,negative,positive,positive,positive,positive,positive
380871774,"It would be good to expose the missing terms in PyBullet as well.
1) Exposing the N term (gravity, coriolis and centrifugal) should be easy.

2) Why would you need the \tao / user force? Didn't you apply it yourself?

3) Do you need the constaint forces, as computed by the LCP solver, such as contact, joint limits term too?

How does RBDL or RBDyn help with (2) and (3)?

Any other term(s)?",would good expose missing term gravity centrifugal would need user force apply need solver contact joint term help term,issue,negative,positive,positive,positive,positive,positive
380870202,"By the way, I noticed you experiment with the[ j2s7s300 robot](https://github.com/Kinovarobotics/kinova-ros/issues/126). 

Could you provide the URDF file, already preprocessed with xacro, so I can check it out with PyBullet? Eventually we should update the Gazebo integration of Bullet with btMultiBody functionality, it should provide stiffer robot arms than ODE and btRigidBody.
",way experiment robot could provide file already check eventually update gazebo integration bullet functionality provide robot arm ode,issue,negative,neutral,neutral,neutral,neutral,neutral
380795798,"I cannot debug godot code, I really need an isolate repro case without
customer code.

Please try to compile unmodified Bullet, then modify the BasicDemo.cpp step
by step.

On Thu, Apr 12, 2018, 2:10 AM Andrea Catania <notifications@github.com>
wrote:

> Since I'm able to debug Bullet code from Godot code and it's really easy,
> If you are ok to check it with-in godot I can give you a step by step list
> in order to debug it.
>
> I've already the project setup in godot with kinematic body that start
> from the position where the body returns the positive depth.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1623#issuecomment-380733524>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3B2MFvmn-Z70l0XlYMIPZtTSwDPEks5tnxn8gaJpZM4TGfML>
> .
>
",code really need isolate case without customer code please try compile unmodified bullet modify step step wrote since able bullet code code really easy check give step step list order already project setup kinematic body start position body positive depth reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
380733524,"Since I'm able to debug Bullet code from Godot code and it's really easy, If you are ok to check it with-in godot I can give you a step by step list in order to debug it.

I've already the project setup in godot with kinematic body that start from the position where the body returns the positive depth.",since able bullet code code really easy check give step step list order already project setup kinematic body start position body positive depth,issue,positive,positive,positive,positive,positive,positive
380703278,"Not yet, I got some problem during compilation of bullet with examples.. It was a problem on linking libraries, now I don't remember exactly. I'll check it soon..
",yet got problem compilation bullet problem linking remember exactly check soon,issue,negative,positive,positive,positive,positive,positive
380702058,Do you manage to recreate the issue with this world file?,manage recreate issue world file,issue,negative,neutral,neutral,neutral,neutral,neutral
380663015,"Indeed, those terms are not exposed yet. I've had success using [RBDL](https://rbdl.bitbucket.io/) and [RBDyn](https://github.com/jrl-umi3218/RBDyn) (and maybe even [Tasks](https://github.com/jrl-umi3218/Tasks) if you want to do QP-based control) to compute the missing terms, treating pybullet as a pure simulator.",indeed exposed yet success maybe even want control compute missing treating pure simulator,issue,negative,positive,positive,positive,positive,positive
380642443,"Selecting the root of IK is currently not exposed (but it could be implemented, the underlying IK is very flexible/powerful). 

Alternatively, you could try to create a similar model in a separate simulation (note that PyBullet can connect to multiple 'DIRECT"" simulation instances that you can use for this), and have the joints fixed.

Finally, you could try using a very high damping in the IK, for the torso joints.
This damping works for IK2_DLS, IK2_VEL_DLS_WITH_ORIENTATION, IK2_VEL_DLS
",root currently exposed could underlying alternatively could try create similar model separate simulation note connect multiple simulation use fixed finally could try high damping torso damping work,issue,negative,positive,neutral,neutral,positive,positive
380568228,"Thanks for the feedback, I added some comment, so let's close the issue.",thanks feedback added comment let close issue,issue,negative,positive,positive,positive,positive,positive
380533780,"Page 17 of the quickstart guide:
""Since the base is not a regular 'link', we use the convention of -1 as its link index.""
In other words, for a free floating body, the segmentation mask is just its object unique id.
I'll add this line to the doc, does that help/explain things?",page guide since base regular use convention link index free floating body segmentation mask object unique id add line doc,issue,positive,negative,neutral,neutral,negative,negative
380532857,"@erwincoumans  I understand this. I'm not personally having an issue, I just thought that was unclear in the [documentation](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#). Also where does it say the base link index for all objects is -1?",understand personally issue thought unclear documentation also say base link index,issue,negative,negative,negative,negative,negative,negative
380528512,"A free-floating body with only a base with no joints has no links. The base link index is -1. 
What is the issue?",body base link base link index issue,issue,negative,negative,negative,negative,negative,negative
380369801,"+1 Great! Unrelated, I added the option for planar reflections :-)
![image 2](https://user-images.githubusercontent.com/725468/38605025-ffc04318-3d26-11e8-9007-fb1bd0e349a7.png)
",great unrelated added option planar image,issue,positive,positive,positive,positive,positive,positive
379968429,"Thanks for the test. It would be good to remove the numpy dependency, a dot product is just one while loop with mul and add operations.",thanks test would good remove dependency dot product one loop add,issue,positive,positive,positive,positive,positive,positive
379703428,"In this zip file you can find the two shapes (sphere and trimesh terrain) and the entire world
[world.zip](https://github.com/bulletphysics/bullet3/files/1889386/world.zip)

During separation process (of kinematic body) I'm using another shape that is a bit bigger, it's not part of world, so you will not find them in the world.bullet file
",zip file find two sphere terrain entire world separation process kinematic body another shape bit bigger part world find file,issue,negative,neutral,neutral,neutral,neutral,neutral
379672586,"I didn't saw the notification that you answered, Give me few min I'll give you what you need. Sorry for the delay",saw notification give min give need sorry delay,issue,negative,negative,negative,negative,negative,negative
379491565,"I got it working by building from source instead. 
 https://github.com/bulletphysics/bullet3/issues/830",got working building source instead,issue,negative,neutral,neutral,neutral,neutral,neutral
379419134,"Great. Do you mind sharing the updated Baxter URDF/obj files? 
I could add them to 
 https://github.com/erwincoumans/pybullet_robots
It has the Sawyer, Atlas, Dobot and some other robots.",great mind baxter could add sawyer atlas,issue,positive,positive,positive,positive,positive,positive
379418955,"Thanks, that worked! It seems like it was just incompatibility with the COLLADA files.",thanks worked like incompatibility,issue,positive,positive,positive,positive,positive,positive
379331184,"I have the exact same installation issue on MacOS, and I'm using python2.7, with Anaconda.
I tried:
$CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" pip install pybullet -v

$ python --version
Python 2.7.14 :: Anaconda, Inc.

$ conda -V
conda 4.4.10

$ gcc --version
Apple LLVM version 9.0.0 (clang-900.0.39.2)
Target: x86_64-apple-darwin17.4.0
Thread model: posix

$ clang --version
Apple LLVM version 9.0.0 (clang-900.0.39.2)
Target: x86_64-apple-darwin17.4.0
Thread model: posix

Any help would be appreciated.
Thanks!",exact installation issue anaconda tried pip install python version python anaconda version apple version target thread model clang version apple version target thread model help would thanks,issue,positive,positive,positive,positive,positive,positive
379107795,"Could you try converting the COLLADA files into .obj or stl? (using meshlab or Blender etc) COLLADA is a very complex file format, and Bullet only supports a tiny subset of it.

(still, we need to avoid crashes of course, but we may not support the particular COLLADA files even after fixing the crash)",could try converting blender complex file format bullet tiny subset still need avoid course may support particular even fixing crash,issue,negative,negative,neutral,neutral,negative,negative
379028300,"Thanks! The trimesh.bullet doesn't contain a triangle mesh mesh. Could you serialize the entire world instead of separate shapes (use dynamicsWorld->serialize).

Here is some snippet that can load a shape.
~~~~~~~~~~~~~
btBulletWorldImporter* importer = new btBulletWorldImporter(m_dynamicsWorld);
	importer->loadFile(""sphere.bullet"");
	btAssert(importer->getNumCollisionShapes() == 1);
	if (importer->getNumCollisionShapes() == 1)
	{
		sphere = importer->getCollisionShapeByIndex(0);
	}
~~~~~~~~~~~~~
It is better to start modifying the BasicExample.cpp, so we can also visualize it in BulletExampleBrowser, see attached. I can help a bit creating the repro case, if you share the updated .bullet file.
[BasicExample.zip](https://github.com/bulletphysics/bullet3/files/1881184/BasicExample.zip)

Alternatively, programmatically re-create the problem (instead of using .bullet files).",thanks contain triangle mesh mesh could serialize entire world instead separate use serialize snippet load shape importer new sphere better start also visualize see attached help bit case share file alternatively programmatically problem instead,issue,positive,positive,positive,positive,positive,positive
378952050,"Here the project https://github.com/AndreaCatania/TestBullet/blob/master/main.cpp#L93 sorry if it's too dirty I did it more fast I could

Also the .bullet files 
https://github.com/AndreaCatania/TestBullet/blob/master/sphere.bullet
https://github.com/AndreaCatania/TestBullet/blob/master/trimesh.bullet",project sorry dirty fast could also,issue,negative,negative,negative,negative,negative,negative
378943054,"I've:
- extracted the .bullet file for both shape sphere and trimesh.
- position of sphere where the collision error happens
- created a new project that use only bullet.

But I can't understand how to load/create the shapes from .bullet file, can you please explain what I've to do to load the shapes?",extracted file shape sphere position sphere collision error new project use bullet ca understand file please explain load,issue,negative,positive,positive,positive,positive,positive
378779638,"Yes, it works with Steam. 
Command to start server:
[your_path_to_steam]/ubuntu12_32/steam-runtime/run.sh [your_path_to_bullet]/build_cmake/examples/SharedMemory/App_PhysicsServer_SharedMemory_VR

I use INVIDIA GPU, driver version: 387.34
",yes work steam command start server use driver version,issue,negative,neutral,neutral,neutral,neutral,neutral
378777880,"Thanks for the pull request!
Did you get the OpenVR server to run on Linux?
If so, that would be great (last time I checked Linux support of OpenVR didn't work yet)

Also, the error is unrelated and will be fixed in this PR:
https://github.com/bulletphysics/bullet3/pull/1625
",thanks pull request get server run would great last time checked support work yet also error unrelated fixed,issue,positive,positive,positive,positive,positive,positive
378687648,"> Some main.cpp that loads the .bullet file, does a query (btCollisionWorld::contactPairTest?) :that shows ""a positive depth result even if the shape is penetrated."".

Ok perfect

> Does it also happen when using btCollisionWorld::contactPairTest?

I don't know, I let you know",file query positive depth result even shape perfect also happen know let know,issue,positive,positive,positive,positive,positive,positive
378684677,"Some main.cpp that loads the .bullet file, does a query (btCollisionWorld::contactPairTest?) :that shows ""a positive depth result even if the shape is penetrated."".

We basically need to isolate the problem. Does it also happen when using btCollisionWorld::contactPairTest?
",file query positive depth result even shape basically need isolate problem also happen,issue,negative,positive,positive,positive,positive,positive
378682709,"Thanks you too, Erwin!
Do you need only the serialized .bullet file? or do I have to implement it in a ""plain"" project with only bullet?

Also do you need only kinematic body serialization and the ""terrain"" or the entire world is better?",thanks need file implement plain project bullet also need kinematic body serialization terrain entire world better,issue,positive,positive,positive,positive,positive,positive
378610380,"Hi Andrea,

Thanks a lot for reporting an issue. I'm happy to look at it within Bullet: can you please create a reproduction case using plain Bullet (without Godot or other external code), in a way that doesn't require user interaction etc?

Bullet has a way to serialize (part of) the state with just a few lines of code:
Ideally you just save the state of the sphere and the triangle mesh. Since there are many ways to create a sphere and a triangle mesh in Bullet, and it could be due to certain settings, it is important to create a simple reproduction case.

Here is some info how to serialize to a binary .bullet file:
http://bulletphysics.org/mediawiki-1.5.8/index.php/Bullet_binary_serialization

Please let me know if you run into issues creating a reproduction case.
Thanks!
Erwin
",hi thanks lot issue happy look within bullet please create reproduction case plain bullet without external code way require user interaction bullet way serialize part state code ideally save state sphere triangle mesh since many way create sphere triangle mesh bullet could due certain important create simple reproduction case serialize binary file please let know run reproduction case thanks,issue,positive,positive,positive,positive,positive,positive
378301352,"Nao came somewhere from github, search for it.
Attached is a small script that simulated nao in pybullet (use pip install pybullet first)
Note that we can enable self-collision, but we need to exclude child-parent collision for directly connected links, since they overlap. This is very typical: don't enable collision between parts that share a joint.
[nao.zip](https://github.com/bulletphysics/bullet3/files/1872288/nao.zip)

![image](https://user-images.githubusercontent.com/725468/38260798-628bb492-371d-11e8-9a3f-7b47ad4bd4c8.png)
",came somewhere search attached small script use pip install first note enable need exclude collision directly connected link since overlap typical enable collision share joint image,issue,negative,negative,neutral,neutral,negative,negative
378265487,Thanks for the quick reply. Can you tell how did you make the nao.urdf or give contact of the person who made it? It will help me a lot.,thanks quick reply tell make give contact person made help lot,issue,positive,positive,positive,positive,positive,positive
378028151,"We support open source [PyBullet](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) here, it should simulate the nao.urdf robot with contact forces just fine. If you use mujoco (why not just PyBullet) please visit their forums to report such issues.",support open source simulate robot contact fine use please visit report,issue,positive,positive,positive,positive,positive,positive
377822350,"The attached file is not a valid MJCF file (MuJoco PRO 1.50 doesn't load it).
Aside from that, the sphere in the XML file is attached to the world and can only rotate, since you added a 'hinge' joint, and by default, bodies in a MJCF file have 0 degrees of freedom: each degree of freedom needs to be added using joints. You can add a 'free' joint to make it free moving, as in attached controlSphere.zip file.

Attached is an example that lets you control a freely moving sphere, use cursor keys to move and rotate.
[controlSphere.zip](https://github.com/bulletphysics/bullet3/files/1866758/controlSphere.zip)
",attached file valid file pro load aside sphere file attached world rotate since added joint default file freedom degree freedom need added add joint make free moving attached file attached example control freely moving sphere use cursor move rotate,issue,positive,positive,positive,positive,positive,positive
377814411,"Attached a small example that demonstrates the issue we talked about - with both XML examples we provided before. Only other dependency are time - which we used for intervals between simulation steps and argparse that you have in your examples - we didn't remove it.
[Example.zip](https://github.com/bulletphysics/bullet3/files/1866672/Example.zip)

We looked at other examples that work fine (including our own XMLs that behave correctly) and we didn't notice any difference - do you have an idea?",attached small example issue provided dependency time used simulation remove work fine behave correctly notice difference idea,issue,negative,positive,neutral,neutral,positive,positive
377288097,"Please provide a small reproduction case (test.py and xml/urdf/obj/stl files needed) and description how to run it in a attached zipfile or github repo with only pybullet as dependency and someone may look at it. Again, compare why other examples work fine and yours doesn't.",please provide small reproduction case description run attached dependency someone may look compare work fine,issue,negative,positive,neutral,neutral,positive,positive
377193579,"We have read the quickstart guide and played with the examples - we posted this issue only after not finding a solution there. In any case - this is the code that we start our simulation run with:

>     def startRun(self, filePath = None, sdfPath = None, gravity = (0,0,-9.8), visual = True):
        if filePath is None:
            print (""Filepath is required"")
            return
        if sdfPath is None:
            sdfPath = getDefaultSDF()

        self.finishBuild = True
        self.WB.prettyPrint(filePath)

        cid = p.connect(p.SHARED_MEMORY)
        if (cid<0):
            if visual is True:
                cid = p.connect(p.GUI)
            else:
                cid = p.connect(p.DIRECT)

        p.setGravity(gravity[0], gravity[1], gravity[2])
        p.setPhysicsEngineParameter(fixedTimeStep=1.0/60., numSolverIterations=5, numSubSteps=2)

        p.loadSDF(sdfPath)
        objs = p.loadMJCF(filePath + "".xml"" , flags = p.URDF_USE_SELF_COLLISION_EXCLUDE_ALL_PARENTS)

        self.robot  = objs[0]
        ordered_joints = []
        ordered_joint_indices = []

        parser = argparse.ArgumentParser()
        parser.add_argument('--profile')
        self.jdict = {}
        for j in range( p.getNumJoints(self.robot) ):
            info = p.getJointInfo(self.robot, j)
            ordered_joint_indices.append(j)
            
            if info[2] != p.JOINT_REVOLUTE: continue
            jname = info[1].decode(""ascii"")
            self.jdict[jname] = j
            lower, upper = (info[8], info[9])
            ordered_joints.append( (j, lower, upper) )
            p.setJointMotorControl2(self.robot, j, controlMode=p.VELOCITY_CONTROL, force=0)

        self.frame = 0
        self.startTime = time.time()

        self.startPosition, (qx, qy, qz, qw) = p.getBasePositionAndOrientation(self.robot)
        print (self.startPosition)

As you can see we are unlocking all motors first. Any idea why still the body acts so rigid?",read guide posted issue finding solution case code start simulation run self none none gravity visual true none print return none true visual true else gravity gravity gravity parser profile range continue ascii lower upper lower upper print see unlocking first idea still body rigid,issue,negative,positive,positive,positive,positive,positive
377024904,"I recommend reading the quickstart guide and play with the [examples](https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/examples) and gym environments. Most of them will unlock the motors first.

Unlocking all motors after loading the robot:

~~~~~~~~~~
robot = p.loadMJCF(""file"")
numJoints = p.getNumJoints(robot)
for j in range (numJoints):
  p.setJointMotorControl2(robot,j, p.VELOCITY_CONTROL,force=0)
~~~~~~~~~~
",recommend reading guide play gym unlock first unlocking loading robot robot file robot range robot,issue,positive,positive,positive,positive,positive,positive
377022478,"We created a similar PyBullet environment like in the examples. We set the following gravity: (0, 0, -9.8). Attached to this message another example we ran with the same PyBullet script. In this case the ball fall down, but we can't move him around. It seems like it is somehow related to the first joint we add to the body? Can it be? 
We have looked at the PyBullet guide, but we couldn't find any solution. Regarding, the URDF, we prefer to use the most basic XML format we can. We only used the headline of MJCF because the example we initially built our project on was Ant.

The example:

> <mujoco model=""WB"">
    <compiler angle=""degree"" coordinate=""local"" inertiafromgeom=""true""/>
    <option integrator=""RK4"" timestep=""0.01""/>
    <default>
        <joint limited=""true""/>
        <geom friction=""1 0.5 0.5"" />
    </default>
    <worldbody>
        <body name=""main_torso"" pos=""0 0 1.25"" >
            <geom name=""my_g"" fromto=""0 0 0.4"" type=""sphere"" size=""0.25"" >
            </geom>
            <body name=""torso"" pos=""0 0 0"" >
                <joint name=""j_root"" axis=""1 1 1"" pos=""0 0 0"" range=""-360 360"" type=""hinge"" >
                </joint>
            </body>
        </body>
    </worldbody>
    <actuator>
        <motor ctrllimited=""false"" crtlrange=""-1.0 1.0"" joint=""j_root"" gear=""110"" />
    </actuator>
</mujoco>
",similar environment like set following gravity attached message another example ran script case ball fall ca move around like somehow related first joint add body guide could find solution regarding prefer use basic format used headline example initially built project ant example compiler degree local true option default joint true body sphere body torso joint hinge actuator motor false,issue,positive,positive,neutral,neutral,positive,positive
376969030,"Where is the PyBullet script you used? Did you set the gravity using pybullet.setGravity(x,y,z)?
Also see the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3).
Also, I recommend using URDF files, it is a bit easier to parse. We only reversed engineered small parts of the MJCF file format, enough to simulate the locomotion environments (Ant, Half-Cheetah, Humanoid etc).",script used set gravity also see guide also recommend bit easier parse reversed small file format enough simulate locomotion ant humanoid,issue,positive,negative,negative,negative,negative,negative
376732398,"I opened a new PR for the Jacobian test, #1617.

For the baseline, I cannot share it in its current state, but the idea revolves around a reaching task:
- Control the robot by IK, in this case a good control is simply the object position.
- Control the robot directly by joint position, in this case a good control is the pseudo-inverse of J multiplied by the position error.
- Control the robot directly by joint torque, in this case a good control is given by some inverse dynamics. However, bullet does not provide the derivative of the jacobian, so the desired acceleration cannot be computed purely in bullet. Note that a good implementation ( [example](https://github.com/jrl-umi3218/RBDyn/blob/a1e6f0ad5a9ea79f19d967ccb7ecc0657f19e702/src/Jacobian.cpp#L727) ) directly computes the ""normal acceleration"" i.e. the product `Jd qd`.

Inverse dynamics:
```
qdd_d = argmin_qdd || J qdd + Jd qd - Kp e - Kd ed ||
tau_d = inverse_dynamics(qdd_d)
```",new test share current state idea around reaching task control robot case good control simply object position control robot directly joint position case good control position error control robot directly joint torque case good control given inverse dynamic however bullet provide derivative desired acceleration purely bullet note good implementation example directly normal acceleration product inverse dynamic,issue,positive,positive,positive,positive,positive,positive
376573910,"You are welcome to add a some tests, by default travis continuous integration runs
~~~~~~
python3 examples/pybullet/unittests/unittests.py
~~~~~~

Do you have more info on this classic control baseline? If you can create it using pybullet, please consider sharing the baseline.
",welcome add default travis continuous integration python classic control create please consider,issue,positive,positive,positive,positive,positive,positive
376359706,"Thanks for merging this :) I am also doing RL-related things, but I wanted to set a baseline using classic control.

If you'd like I can also modify `jacobian.py` to become a real test on multiple robots.",thanks also set classic control like also modify become real test multiple,issue,positive,positive,positive,positive,positive,positive
376344936,"Good point! The multi-threading PR takes a bit longer, need to review the effect on our internal code/unit tests.",good point bit longer need review effect internal,issue,negative,positive,positive,positive,positive,positive
376344393,"Looks good to me, thanks a lot for the contribution!",good thanks lot contribution,issue,positive,positive,positive,positive,positive,positive
376343013,"Fixed in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#), thanks for the report!
",fixed guide thanks report,issue,negative,positive,positive,positive,positive,positive
376342449,"Good! I should probably enable this flag by default, or just remove it (just the hassle of fixing our internal unit tests / backward compatibility )",good probably enable flag default remove hassle fixing internal unit backward compatibility,issue,negative,positive,positive,positive,positive,positive
376340873,"Thanks for the prompt reply!! This works!

I wasn't aware of the `computeForwardKinematics ` flag. PyBullet's Quickstart Guide doesn't document it for some reason.",thanks prompt reply work aware flag guide document reason,issue,negative,positive,positive,positive,positive,positive
376335960,"You need to use the 'computeForwardKinematics=True' flag to getLinkState, otherwise you get an older state.
~~~~~~~~~~
com_p, com_o, _, _, _, _ = p.getLinkState(kuka_id, 6, computeForwardKinematics=True)
~~~~~~~~~~",need use flag otherwise get older state,issue,negative,positive,positive,positive,positive,positive
376190796,"Great, thanks for the contribution. I haven't used the calculateJacobian myself yet: we mainly use deep reinforcement learning to control our virtual and real robots, which directly outputs torque without using inverse dynamics and jacobians. At a glance it looks good to me, I'll verify and accept your PR.",great thanks contribution used yet mainly use deep reinforcement learning control virtual real directly torque without inverse dynamic glance good verify accept,issue,positive,positive,positive,positive,positive,positive
376092365,"Sorry for my previous comment, it was a bit hasty: it looks like my code has some other issue. However, could you confirm if the input to `calculateJacobian` should in `numJoints`or `numDoF`? Given that the documentation states that `inverseDynamics` is used to compute the Jacobian, and that the Jacobian dimension is `numDoF`, I would expect `numDoF` inputs.",sorry previous comment bit hasty like code issue however could confirm input given documentation used compute dimension would expect,issue,negative,negative,negative,negative,negative,negative
374831645,"Hi Erwin, I have exposed an API to set projective texture instead of using the global variable, which does not require GLInstancingRenderer dependency.",hi exposed set projective texture instead global variable require dependency,issue,negative,neutral,neutral,neutral,neutral,neutral
374341535,"Thanks for the contribution.
It is better to avoid adding this GLInstancingRenderer dependency to PhysicsServerCommandProcessor.cpp
#include ""../OpenGLWindow/GLInstancingRenderer.h""

Those globals shouldn't be in GLInstancingRenderer.cpp, please expose some APIs instead.",thanks contribution better avoid dependency include please expose instead,issue,positive,positive,positive,positive,positive,positive
374294256,"Thanks for the quick response.

When I hear ""search path"" my mind goes to system $PATH variables, which can contain any number of paths. In my specific case, I'm trying to search in both the `pybullet_data` folder, and a folder specific to my project. I can think of other scenarios where you'd want to allow multiple search paths. For example, if your data files are stored in separate places (say you're using URDFs from upstream GitHub repos) and you don't want your data to be desynced with the other repositories.

Your comment about memory management makes more sense to me now that I see that pybullet is written in C. I don't know what it would take to properly handle a Python list of strings as input but I can guess that it would not be straightforward.",thanks quick response hear search path mind go system path contain number specific case trying search folder folder specific project think want allow multiple search example data separate say upstream want data comment memory management sense see written know would take properly handle python list input guess would straightforward,issue,positive,positive,positive,positive,positive,positive
374247015,"At the moment it is not possible. For an 'addAdditionalSearchPath' we would need either a fixed number of total search path, or things get more complicated with memory management.
How many paths do you need? Can't you move/copy the data in a similar root folder?

An alternative is using absolute paths (starting with / on unix or C:/ on Windows)
",moment possible would need either fixed number total search path get complicated memory management many need ca data similar root folder alternative absolute starting,issue,negative,positive,neutral,neutral,positive,positive
373526397,"It's Apache License 2.0. 
from [here](https://github.com/kentsai0319/techman_robot)
ok, it's big compare to iiwa(18mb vs 1.8mb), I'll put it somewhere mentioned above.
Thank you for reviewing.",apache license big compare put somewhere thank,issue,negative,neutral,neutral,neutral,neutral,neutral
373469130,"This is a very long list of small random changes and I have to sift through every line to make sure things don't break. I don't have the time to do that.

If you have some real bug fixes or new feature, please keep them to few files, with the essential parts, don't mix a large list of changes.",long list small random sift every line make sure break time real bug new feature please keep essential mix large list,issue,positive,positive,neutral,neutral,positive,positive
373453731,"Sorry, but I'm not sure I really get what you meant.. what do you mean exactly?",sorry sure really get meant mean exactly,issue,negative,positive,neutral,neutral,positive,positive
373452684,oops..meant to do the PR in my fork but GitHub defaults to the main repo. Let me know if there's any interests in this and I'll reopen.,meant fork main let know reopen,issue,negative,positive,positive,positive,positive,positive
373431415,"Thanks for the tip, this should be fixed now, though I've only tested on Linux.",thanks tip fixed though tested,issue,negative,positive,positive,positive,positive,positive
373420153,"Premake works on Linux and OSX very well too:
cd build3
./premake4_linux64 gmake
cd gmake
make -j12
(use ./premake4_osx on OSX)",premake work well build make use,issue,negative,neutral,neutral,neutral,neutral,neutral
373419484,"...I'm on Linux, the easiest way might be switching Appveyor to premake and debugging over CI.",easiest way might switching premake,issue,negative,neutral,neutral,neutral,neutral,neutral
373415513,Thanks a lot. The premake build is broken. Can you try running build_visual_studio_vr_pybullet_double.bat and open/compile the solution? Premake is not included in the continuous integration (I didn't figure out how to enable BOTH premake and cmake),thanks lot premake build broken try running solution premake included continuous integration figure enable premake,issue,negative,negative,neutral,neutral,negative,negative
373400829,Thanks fo the contribution! I need to see if the changes don't break our internal builds.,thanks contribution need see break internal,issue,negative,positive,neutral,neutral,positive,positive
373399778,"It looks nice. What is the license of those files? What is their origin?
If the size is big, it may be better to move it into the https://github.com/erwincoumans/pybullet_robots repo",nice license origin size big may better move,issue,positive,positive,positive,positive,positive,positive
373221341,"We can add a BT_DISABLE_SHARED_MEMORY option around that case in b3RobotSimulatorClientAPI_NoGUI.cpp
(I don't have time to update all the build files here internally, so a BT_ENABLE_SHARED_MEMORY is not going to happen). If you feel like, please add it and create a pull request.",add option around case time update build internally going happen feel like please add create pull request,issue,positive,neutral,neutral,neutral,neutral,neutral
373221012,"It was a contribution and somehow this method got missing in action.
This pull request adds it: https://github.com/bulletphysics/bullet3/pull/1603
We primarily use PyBullet and the C-API, but it is good to keep the C++ binding up-to-date too.
Thanks for the report!",contribution somehow method got missing action pull request primarily use good keep binding thanks report,issue,positive,positive,positive,positive,positive,positive
373071135,"I do have availability to add this if it is not already added. It looks like from what I can tell is it is not. It seems in order to add this capability you would need to make the change bellow for all of the shapes getAabb. Would this change be acceptable or is there a better solution?

`localHalfExtents += btVector3(getMargin(),getMargin(),getMargin());`

to

`localHalfExtents += btVector3(getMargin()+getContactProcessingThreshold(),getMargin()+getContactProcessingThreshold(),getMargin()+getContactProcessingThreshold());`",availability add already added like tell order add capability would need make change bellow would change acceptable better solution,issue,positive,positive,positive,positive,positive,positive
373065414,"Hello, I currently need this type of functionality. Does anyone know if is currently capable or is it still missing?",hello currently need type functionality anyone know currently capable still missing,issue,negative,neutral,neutral,neutral,neutral,neutral
372887420,"I was able to remove PosixSharedMemory from the linker dependencies and needed to comment out: https://github.com/bulletphysics/bullet3/blob/282458684fa2e56f33b22e3ccb011d2c1c3d4f25/examples/RobotSimulator/b3RobotSimulatorClientAPI_NoGUI.cpp#L76

Feature request: Guard shared memory in the same way udp is guarded by BT_ENABLE_ENET and tcp is guarded by BT_ENABLE_CLSOCKET.",able remove linker comment feature request guard memory way guarded guarded,issue,negative,positive,positive,positive,positive,positive
372883217,"Ah, that's right. Note that by default (DIRECT and GUI mode), PyBullet and the Bullet C API use InProcessMemory. So you should be able to use the software on Android, just without PosixSharedMemory.
",ah right note default direct mode bullet use able use android without,issue,negative,positive,positive,positive,positive,positive
372771436,"Thanks for the contribution! The file PhysicsServerCommandProcessor.cpp includes a lot of white-space changes. Could you please revert those, so it only shows the actual changes in code?",thanks contribution file lot could please revert actual code,issue,positive,positive,neutral,neutral,positive,positive
372087430,"I had some time to create an example that renders a camera image and then projects the pixels back into world space. It uses some helper function in C++, so you need to still do some extra work. See the [example code here](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/pointCloudFromCameraImage.py). The implementation of getDebugVisualizerCamera in C++ is in [OpenGLGuiHelper::getCameraInfo](https://github.com/bulletphysics/bullet3/blob/master/examples/ExampleBrowser/OpenGLGuiHelper.cpp#L1045)

![image 2](https://user-images.githubusercontent.com/725468/37249451-9b69b3a6-249c-11e8-8976-c64d8e452d17.png)

![image 3](https://user-images.githubusercontent.com/725468/37249452-9e2b5518-249c-11e8-8a72-60ae1bba7317.png)
",time create example camera image back world space helper function need still extra work see example code implementation image image,issue,positive,neutral,neutral,neutral,neutral,neutral
371659126,"High Sierra is my main development platform, it installs flawless.

You may need to reinstall xcode, xcode command-line tools, anaconda Python or even your entire operating system.",high sierra main development platform flawless may need reinstall anaconda python even entire operating system,issue,positive,positive,positive,positive,positive,positive
371657621,"Thanks for confirming!
@benelot 
It was already applied in a pull request here:
https://github.com/bulletphysics/bullet3/pull/1589/commits/86ca7dc2d13a38db031c762dee0ff091b13357ff",thanks confirming already applied pull request,issue,negative,positive,positive,positive,positive,positive
371636621,This cannot be a general problem of MacOS High Sierra as I could install pybullet 1.9.2 with kernel version 17.4.0,general problem high sierra could install kernel version,issue,negative,positive,positive,positive,positive,positive
371625284,"Any reason why the better version is not merged into master? Or how come it
is packed in a zip instead?

On Thu, Mar 8, 2018, 19:52 Nadina Zweifel <notifications@github.com> wrote:

> Sorry about the late response. I can confirm that the simulated
> frequencies now correspond with those of the btGeneric6DofSpringConstraint,
> thank you!
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1567#issuecomment-371585985>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q6hNVXzvJc2L2bQb52YNoVVKscAEks5tcX4DgaJpZM4SJWhv>
> .
>
",reason better version master come zip instead mar wrote sorry late response confirm correspond thank thread reply directly view mute thread,issue,positive,negative,neutral,neutral,negative,negative
371585985,"Sorry about the late response. I can confirm that the simulated frequencies now correspond with those of the btGeneric6DofSpringConstraint, thank you!",sorry late response confirm correspond thank,issue,negative,negative,negative,negative,negative,negative
371331076,"oddly there is some conflict in the branch. I manually applied it following the steps,
new PR is here: https://github.com/bulletphysics/bullet3/pull/1592",oddly conflict branch manually applied following new,issue,negative,negative,neutral,neutral,negative,negative
371326817,"Good point, Eventually it would be good to expose spherical joints (and planar) and add motors/actuators etc. For now, we don't have robots in our lab with spherical joints, and not many cycles to add the feature. ",good point eventually would good expose spherical planar add lab spherical many add feature,issue,positive,positive,positive,positive,positive,positive
371194175,is there a significant performance difference between the python and c++ APIs ? Has some one benchmarked the two to compare ?,significant performance difference python one two compare,issue,negative,positive,positive,positive,positive,positive
371076265,"Fixed build

Also, there is no point for `p` [here](https://github.com/bulletphysics/bullet3/blob/master/examples/OpenGLWindow/GLPrimitiveRenderer.cpp#L31) to be a `vec2`, it should be simply a `float`",fixed build also point simply float,issue,negative,positive,neutral,neutral,positive,positive
370995655,Closing for now since it doesn't look like this is on a path to get merged. I will leave the branch as it is in my repo.,since look like path get leave branch,issue,negative,neutral,neutral,neutral,neutral,neutral
370995491,"I'm afraid that if you or any other maintainer of Bullet aren't in a position to commit resources to this PR in a reasonable timetable then I can't commit resources to it either :(

I will leave the branch as it is in my repo.",afraid maintainer bullet position commit reasonable timetable ca commit either leave branch,issue,negative,negative,negative,negative,negative,negative
370991343,"At the moment I don't have time to FULLY review/test and merge it.
It would be helpful if you address the points in my previous post, you can just leave the PR open:

1) remove the creation of btDefaultMotionState by default
2) test loading a double precision file that was saved in a single precision build of Bullet and vise versa (in particular due to [this change](https://github.com/bulletphysics/bullet3/pull/1577/commits/6f8091d9e71e3bb74d803efa1ab73d5824930145#diff-797c275fa95423e4c3b2daf25c1742a8L376))
3) re-create the autogenerated bullet.h (if that is complicated, I'll do it myself)
",moment time fully merge would helpful address previous post leave open remove creation default test loading double precision file saved single precision build bullet vise particular due change complicated,issue,positive,negative,neutral,neutral,negative,negative
370988405,"I'm a little confused, you said you don't have time to review it, but then you provided some comments. Did you mean to say that if I made those changes and did that testing that you might be able to find the time to review and merge, or am I misinterpreting? I can certainly do those things, but I do have to budget my own time as well, and I can only budget time for these things if we're on a path to getting this merged in some fashion, even if it's a subset of these changes.

Regarding the breaking backwards compatibility, I guess that comes with the splitting of the ConvexInternalShape into the float and double variants (and all of the downstream impacts of that of course)? Yeah, it's unfortunate. Personally, I might categorize that under ""can't make an omelet without breaking a few eggs"", since the breaking comes with the benefit of determinism for future work, but obviously that's your call to make :) ",little confused said time review provided mean say made testing might able find time review merge certainly budget time well budget time path getting fashion even subset regarding breaking backwards compatibility guess come splitting float double downstream course yeah unfortunate personally might categorize ca make omelet without breaking since breaking come benefit determinism future work obviously call make,issue,positive,negative,neutral,neutral,negative,negative
370965837,"At the moment I don't have time to review and merge it.
This is going to break the serialization backward compatibility, not too fond of that.
Also, did you test loading a double precision file in a single precision build of Bullet and vise versa?
You also need to re-create the autogenerated [bullet.h](https://github.com/bulletphysics/bullet3/blob/master/Extras/Serialize/BulletFileLoader/autogenerated/bullet.h)
I would not create btDefaultMotionState by default, it is easy to create it afterwards if you need it.
",moment time review merge going break serialization backward compatibility also test loading double precision file single precision build bullet vise also need would create default easy create afterwards need,issue,positive,positive,positive,positive,positive,positive
370961672,"Ping @erwincoumans . Any interest? If not I will close the PR, as it will only get stale.",ping interest close get stale,issue,negative,negative,negative,negative,negative,negative
370613679,"Great, thanks a lot Gabor! 

It fixes the repro case in #1567.",great thanks lot case,issue,positive,positive,positive,positive,positive,positive
370261817,"The files are all added directly, no need to unzip anymore:
https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/gym/pybullet_data/random_urdfs
The PyPi version already has all the files, check this out:

pip install pybullet
python -m pybullet_envs.baselines.enjoy_kuka_diverse_object_grasping
",added directly need version already check pip install python,issue,negative,positive,neutral,neutral,positive,positive
370258833,Thanks for bringing this to our attention. We'll check in the random_urdfs.zip shortly. ,thanks attention check shortly,issue,negative,positive,neutral,neutral,positive,positive
370164535,"The previous issue was resolved a while ago, the depth issue was fixed previously in this [pull request](https://github.com/bulletphysics/bullet3/pull/1439), I just closed Issue #1197.

That issue has an example to compute the depth from the OpenGL depth image, it involves both near and far plane distance, your computation doesn't.

In the example, the camera eye is looking from [0,0,1] downward at a plane at location [0,0,0] pointing up and a little cube of 5cm with its center at position 0.025:

~~~~~~
import matplotlib.pyplot as plt
import numpy as np
import pybullet as p

p.connect(p.GUI)
p.loadURDF('plane.urdf')
p.loadURDF('cube_small.urdf', basePosition=[0.0, 0.0, 0.025])

width = 128
height = 128

fov = 60
aspect = width / height
near = 0.02
far = 100

view_matrix = p.computeViewMatrix([0, 0, 1], [0, 0, 0], [1, 0, 0])
projection_matrix = p.computeProjectionMatrixFOV(fov, aspect, near, far)

# Get depth values using the OpenGL renderer
images = p.getCameraImage(width, height, view_matrix, projection_matrix, renderer=p.ER_BULLET_HARDWARE_OPENGL)
depth_buffer_opengl = np.reshape(images[3], [width, height])
depth_opengl = far * near / (far - (far - near) * depth_buffer_opengl)

# Get depth values using Tiny renderer
images = p.getCameraImage(width, height, view_matrix, projection_matrix, renderer=p.ER_TINY_RENDERER)
depth_buffer_tiny = np.reshape(images[3], [width, height])
depth_tiny = far * near / (far - (far - near) * depth_buffer_tiny)

p.disconnect()

# Plot both images - should show depth values of 0.45 over the cube and 0.5 over the plane
plt.subplot(1, 2, 1)
plt.imshow(depth_opengl, cmap='gray', vmin=0, vmax=1)
plt.title('OpenGL Renderer')

plt.subplot(1, 2, 2)
plt.imshow(depth_tiny, cmap='gray', vmin=0, vmax=1)
plt.title('Tiny Renderer')

plt.show()
~~~~~~


Please confirm if this works for you (or re-open with further explanation)
",previous issue resolved ago depth issue fixed previously pull request closed issue issue example compute depth depth image near far plane distance computation example camera eye looking downward plane location pointing little cube center position import import import width height aspect width height near far aspect near far get depth renderer width height width height far near far far near get depth tiny renderer width height width height far near far far near plot show depth cube plane renderer renderer please confirm work explanation,issue,negative,positive,neutral,neutral,positive,positive
370155140,"Closing this old issue, since this pull request fixes it: https://github.com/bulletphysics/bullet3/pull/1439",old issue since pull request,issue,negative,positive,neutral,neutral,positive,positive
370155079,"Your [pull request](https://github.com/bulletphysics/bullet3/pull/1439) fixed the issue, let's close it:

![image](https://user-images.githubusercontent.com/725468/36935943-49666e1c-1eb3-11e8-9230-70934a689b86.png)
",pull request fixed issue let close image,issue,negative,positive,neutral,neutral,positive,positive
369705681,I will create a pull request shortly.,create pull request shortly,issue,negative,neutral,neutral,neutral,neutral,neutral
369415137,"Could you try attached fix? (unzip and copy over the old version)

[btGeneric6DofSpring2Constraint.cpp.zip](https://github.com/bulletphysics/bullet3/files/1769179/btGeneric6DofSpring2Constraint.cpp.zip)

",could try attached fix copy old version,issue,negative,positive,neutral,neutral,positive,positive
369411863,"Thanks for bringing this up, it is best to fix this indeed (dividing by FPS when using a force).",thanks best fix indeed dividing force,issue,positive,positive,positive,positive,positive,positive
369397077,"I recommend looking into KukaDiverseObjectEnv . You can try it out with a random policy using the following command:
python -m pybullet_envs.baselines.enjoy_kuka_diverse_object_grasping
The KukaCamGymEnv hasn't been used/tried out yet, so it could have issues, but we never have seen issues with getCameraImage, stall is more likely in the training code.",recommend looking try random policy following command python yet could never seen stall likely training code,issue,negative,negative,negative,negative,negative,negative
369384803,"That is going to be very hard to reproduce. If you find a way to do it, I am happy to look into it. What env are you training on?",going hard reproduce find way happy look training,issue,positive,positive,positive,positive,positive,positive
369344369,"Thanks for bringing up the feature request.

Indeed, the swept collision query is not exposed yet. Your proposal in the docx looks reasonable. The work-flow to implement a new feature is not documented and non-trivial (Implement in PhysicsServerCommandProcessor.cpp, expose in Bullet-C-API and in pybullet). If you still want to give it a try, you are welcome and if the changes are limited I consider reviewing/merging. At some stage I may expose it myself too.",thanks feature request indeed swept collision query exposed yet proposal reasonable implement new feature implement expose still want give try welcome limited consider stage may expose,issue,negative,positive,positive,positive,positive,positive
369340327,"It all depends from what directory you run cmake. If things don't work, first check if the provided script don't work either. If they work fine, compare what is different from your approach.",directory run work first check provided script work either work fine compare different approach,issue,negative,positive,positive,positive,positive,positive
369333391,"I just cloned the project and generated using `cmake` for VS 2017 Win64, am I not supposed to do like this?",project win supposed like,issue,positive,positive,positive,positive,positive,positive
369330913,"It works just fine here. Did you change your current working directory or compile/run out-of-source? 
The provided scripts in the root of Bullet should work out-of-the-box for cmake: build_visual_studio_vr_pybullet_double_cmake.bat
also there is a premake generated version that works too:
build_visual_studio_vr_pybullet_double.bat
The tutorial load a texture file checker_huge.gif, in a data directory in one of the parent directories of the current working directory.",work fine change current working directory provided root bullet work also premake version work tutorial load texture file data directory one parent current working directory,issue,negative,positive,positive,positive,positive,positive
369296954,"The pull request is not acceptable: some devs use the EGL in the cloud and require original egl API calls, so renaming to glad is not an option.
EGL needs to be dynamically loaded, not linked. If glad cannot do that, then we need to wait for another solution.
There are small other nitpicks (windowType needs to be an int etc), but above needs to be sorted out first. I suggest just using your own fork for now.",pull request acceptable use cloud require original glad option need dynamically loaded linked glad need wait another solution small need need sorted first suggest fork,issue,positive,positive,positive,positive,positive,positive
369295997,"Terminating just shows where the program counter was, it doesn't mean that the code stalls there. Create an easy to reproduce case (and zip all files and attach here) and someone may look at it.
",program counter mean code create easy reproduce case zip attach someone may look,issue,positive,positive,neutral,neutral,positive,positive
369294762,"Things work just fine here, can you try unzipping and opening the two_cubes.py file?

Create a full reproduction similar to attached zip file: add the assets such as urdf, sdf, obj, mtl, png in the same directory as the python file or in a data folder as child of the directory where the python file, exactly like in attached example.

[two_cubes.zip](https://github.com/bulletphysics/bullet3/files/1767906/two_cubes.zip)
",work fine try opening file create full reproduction similar attached zip file add asset directory python file data folder child directory python file exactly like attached example,issue,positive,positive,positive,positive,positive,positive
368918461,Fixed build (crap VS didnt find any references..),fixed build crap didnt find,issue,negative,negative,negative,negative,negative,negative
368203843,"The commits seem to have gotten out of order in the display here. See https://github.com/nbelakovski/bullet3/commits/nbelakovski/determinism_changes for the proper list, and I'd recommend starting with the time one since that's where it first diverges from the official repo.",seem gotten order display see proper list recommend starting time one since first official,issue,negative,positive,neutral,neutral,positive,positive
368107596,"> I'll try to look at it at some stage

Could you be more specific? We have other work planned that we'd like to contribute back, but if we can't expect timely approval on PRs, then we'll have to keep our development internal. And we'd really like to be able to contribute back!",try look stage could specific work like contribute back ca expect timely approval keep development internal really like able contribute back,issue,positive,positive,positive,positive,positive,positive
367536944,"Yes, I plan to work on exposing that and also other projector parameters in the API.",yes plan work also projector,issue,negative,neutral,neutral,neutral,neutral,neutral
367421846,"Thanks, we just need to add some APIs to enable it (instead of hard-coding the change), right?",thanks need add enable instead change right,issue,negative,positive,positive,positive,positive,positive
367399639,"This CI/build stuff is a pain, you have my fullest sympathy. :pray: ",stuff pain sympathy pray,issue,negative,neutral,neutral,neutral,neutral,neutral
367397921,"I recommend using the static library, generally.",recommend static library generally,issue,negative,positive,positive,positive,positive,positive
367397132,"Thanks for working on this! I'm in the process of moving from glew to glad, so there will be likely some conflicts, we can deal with them.
My pull request is here: https://github.com/bulletphysics/bullet3/pull/1569",thanks working process moving glad likely deal pull request,issue,positive,positive,positive,positive,positive,positive
367268704,"@erwincoumans  This has finally converged on a version that I am happy with. It should address all the points you mentioned, except for commit size, but this is due to glad.",finally version happy address except commit size due glad,issue,positive,positive,positive,positive,positive,positive
367133635,"~~I would separate this into two separate PRs. This one adding render options and another changing the loaders. This is seems like a natural factoring because glad doesn't change the OpenGL/EGL behavior, it just changes loading.~~
I'll give glad loading a stab tomorrow.

In this case we would need to be careful since it means committing a bit of EGL code that is not covered by CI, as EGL is not included in the current CI. Making CI cover EGL can be done by another PR if needed. The docker option is a pain, the most efficient option might just be to wait till Travis enables Xenial support, which should happen soon. This would also mean that EGL support is not available without changing `setup.py` till this point, but that should be OK.",would separate two separate one render another like natural glad change behavior give glad loading stab tomorrow case would need careful since bit code covered included current making cover done another docker option pain efficient option might wait till travis xenial support happen soon would also mean support available without till point,issue,positive,positive,positive,positive,positive,positive
367064716,"Moving to glad (https://github.com/Dav1dde/glad) is probably a good thing to do. There is the GLFWOpenGLWindow with glad support, we could/should move from glew to glad. 

We can create multiple glad loaders (for egl and opengl etc) see also https://github.com/Dav1dde/glad/issues/123#issuecomment-367071772 at the bottom.",moving glad probably good thing glad support move glad create multiple glad see also bottom,issue,positive,positive,positive,positive,positive,positive
367051499,"I'll have a more reasonable PR tomorrow, then we can have another look.",reasonable tomorrow another look,issue,negative,positive,positive,positive,positive,positive
367045305,"Hi @erwincoumans, 

1. Some EGL function calls that I was using, for optional device discovery, were not available on the version of `<EGL/eglext.h>` provided by Ubuntu 14 and travis-ci only really supports Ubuntu 16 via docker. 

2. I reduced the commit size, amongst others by removing the `rendertest.py` file.

I've commented out device discovery, I would suggest removing it completely and adding it again once these functions can be loaded dynamically using GLAD, this also solves the docker problem. That would reduce the size of the commit to ~100 lines. Device discovery can be added in another commit if its still desired.",hi function optional device discovery available version provided really via docker reduced commit size amongst removing file device discovery would suggest removing completely loaded dynamically glad also docker problem would reduce size commit device discovery added another commit still desired,issue,positive,positive,positive,positive,positive,positive
367043922,">> Will Bullet ever support C++11

Perhaps in the future indeed, but don't expect it soon.

>>do you have any big picture questions/comments/concerns?

Yes, I'll try to look at it at some stage and give some feedback. Keeping a pull request as small as possible helps (no whitespace changes, keep impact local to a fewer files, keep amount of changed files low etc.)

Note that this project lacks resources/time and at the moment I'm  focussing at [PyBullet](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3) and doing research on the intersection of machine learning and physics simulation.",bullet ever support perhaps future indeed expect soon big picture yes try look stage give feedback keeping pull request small possible keep impact local keep amount low note project moment research intersection machine learning physic simulation,issue,positive,negative,neutral,neutral,negative,negative
367031210,"Thanks for the work on this, but mind that if it requires too many changes it is unlikely to be merged.
1) Before introducing EGL by default, it would be good to have a way to dynamically loading EGL functions, instead of linking against them. So we can select EGL at runtime, without failing on systems where EGL is missing. This is why we modified glew, and it is probably best to switch to GLAD instead of glew.

2) why do you introduce Docker?
",thanks work mind many unlikely default would good way dynamically loading instead linking select without failing missing probably best switch glad instead introduce docker,issue,positive,positive,positive,positive,positive,positive
366583123,"I created an example which you can clone from here: https://github.com/trashpirate/bullet_spring_constraint_demo/tree/master

Let me know if you have issues compiling it. Thanks!",example clone let know thanks,issue,negative,positive,positive,positive,positive,positive
366539493,"Here is a follow up pull request with some performance improvements:
https://github.com/bulletphysics/bullet3/pull/1568

We still need to sync the vertices from the physics thread (which compute the soft body sim and updates the vertices) using double-buffering, to avoid flickering in the rendering (graphics is running in a separate thread from physics, and no synchronization happens).

",follow pull request performance still need sync vertex physic thread compute soft body vertex avoid flickering rendering graphic running separate thread physic synchronization,issue,negative,positive,neutral,neutral,positive,positive
366537669,"Let's merge it for now, and I add a couple of improvements.",let merge add couple,issue,negative,neutral,neutral,neutral,neutral,neutral
366488277,"Will Bullet ever support C++11, and is there a forum discussion on this topic, or other more appropriate place to discuss that question other than this PR?

Apart from style and formatting, do you have any big picture questions/comments/concerns? Is this functionality that you'd like to see added to Bullet, and if so, are you broadly satisfied with the implementation, or do you have an alternative implementation that you'd like to propose?",bullet ever support forum discussion topic appropriate place discus question apart style big picture functionality like see added bullet broadly satisfied implementation alternative implementation like propose,issue,positive,positive,positive,positive,positive,positive
366461861,"I haven't never used or looked into the spring parts of the btGeneric6DofSpring2Constraint (for our robotics / deep reinforcement learning work, we use btMultiBody, and we don't use springs).

Can you please create a small reproduction case, perhaps modifying some Bullet example, that  shows the issue?",never used spring deep reinforcement learning work use use please create small reproduction case perhaps bullet example issue,issue,positive,negative,negative,negative,negative,negative
366391098,"C++2003, no auto, no override, no dynamic_cast or RTTI etc.

instead of
~~~~
chassis = dynamic_cast<btRigidBody*>(*obj);
~~~~
use
~~~~
chassis = btRigidBody::upcast(colObj);
~~~~
and check if chassis is non-zero.
",auto override instead chassis use chassis check chassis,issue,negative,neutral,neutral,neutral,neutral,neutral
366389767,"It seems the compiler didn't like some of the C++ 11 features I was using. Are there any plans for bullet to support C++11? I tried searching the forums, but the search function didn't like the search term ""C++"".",compiler like bullet support tried searching search function like search term,issue,positive,neutral,neutral,neutral,neutral,neutral
366315678,"Indeed, I'm using it for surface-surface contact between convex hulls.  It works very well!  But I had been confused for quite some time about why my contact point were occasionally not on the surface of the objects, so finally decided to dive in.  Thanks for the merge!",indeed contact convex work well confused quite time contact point occasionally surface finally decided dive thanks merge,issue,negative,neutral,neutral,neutral,neutral,neutral
366314490,"Thanks for tracking this down! The convex perturbation is not enabled by default but can be useful indeed, to compute multiple contact point, even when the algorithm only computes one (GJK, EPA etc).

I ran your test and confirm the sign swap, so let's fix it.

Note that you can also enable separating axis test (SAT) and contact clipping for convex hulls, which also computes multiple contact points directly (without perturbation).
~~~~~~~~~~
world->getDispatchInfo().m_enableSatConvex=true;
and for each convex shape:
convexShape->initializePolyhedralFeatures();
~~~~~~~~~~~~


~~~~~~~~~~~~
///Use this method to allow to generate multiple contact points between at once, between two objects using the generic convex-convex algorithm.
	///By default, this feature is disabled for best performance.
	///@param numPerturbationIterations controls the number of collision queries. Set it to zero to disable the feature.
	///@param minimumPointsPerturbationThreshold is the minimum number of points in the contact cache, above which the feature is disabled
	///3 is a good value for both params, if you want to enable the feature. This is because the default contact cache contains a maximum of 4 points, and one collision query at the unperturbed orientation is performed first.
	///See Bullet/Demos/CollisionDemo for an example how this feature gathers multiple points.
	///@todo we could add a per-object setting of those parameters, for level-of-detail collision detection.
	void	setConvexConvexMultipointIterations(int numPerturbationIterations=3, int minimumPointsPerturbationThreshold = 3);

	void	setPlaneConvexMultipointIterations(int numPerturbationIterations=3, int minimumPointsPerturbationThreshold = 3);

~~~~~~~~~~~~~~",thanks convex perturbation default useful indeed compute multiple contact point even algorithm one ran test confirm sign swap let fix note also enable separating axis test sat contact clipping convex also multiple contact directly without perturbation convex shape method allow generate multiple contact two generic algorithm default feature disabled best performance param number collision set zero disable feature param minimum number contact cache feature disabled good value want enable feature default contact cache maximum one collision query unperturbed orientation first example feature multiple could add setting collision detection void void,issue,positive,positive,positive,positive,positive,positive
366268408,"I have tried to create a PR to make this stuff a bit easier, please see: #1565.",tried create make stuff bit easier please see,issue,positive,neutral,neutral,neutral,neutral,neutral
366229694,I am trying to build finger gait planner with bullet. It involves several fingers to trying to manipulate  an object. I was able to achieve a rotation of an object in position mode. Bullet seems to works well (quite stable) with contacts. I was trying to re implement the same using torque mode and faced the issue. ,trying build finger gait planner bullet several trying manipulate object able achieve rotation object position mode bullet work well quite stable trying implement torque mode faced issue,issue,positive,positive,positive,positive,positive,positive
366141599,"Also, please let us know what you try to achieve with PyBullet, we can give some hints towards a solution.",also please let u know try achieve give towards solution,issue,positive,neutral,neutral,neutral,neutral,neutral
366127326,"I have reverted the previous commit, and removed those unnecessary files.",previous commit removed unnecessary,issue,negative,negative,negative,negative,negative,negative
366104995,">> Could any one please tell me what is going wrong?

Please checkout the Bullet Quickstart Guide.
https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#

Each motor has a default velocity control mode to keep the velocity zero. You can switch this off, by iterating over all motors and using this, after loading the URDF
~~~~~~~
maxForce = 0
mode = p.VELOCITY_CONTROL
p.setJointMotorControl2(objUid, jointIndex, 	controlMode=mode, force=maxForce)
~~~~~~~
Note that each motor can have velocity/position control mode and torque control mode active at the same time.

Also, there are many PyBullet examples, just learn from them/play with them.
See the Bullet/examples/pybullet subdirectories, in particular Bullet/examples/pybullet/examples.",could one please tell going wrong please bullet guide motor default velocity control mode keep velocity zero switch loading mode note motor control mode torque control mode active time also many learn see particular,issue,negative,positive,neutral,neutral,positive,positive
366081153,The pull request adds many (247) files under build3/xcode etc. I'll see how to many apply the pull request without them.,pull request many see many apply pull request without,issue,negative,positive,positive,positive,positive,positive
365726068,"The patch reverts an improvement/fix in SortableTransparentInstance:
we need to pre-compute the dot product and not compute it during the sorting.

Can you undo the change to SortableTransparentInstance and apply the same fix to TransparentDistanceSortPredicate?

This is how it should be:
~~~~~~~~
B3_ATTRIBUTE_ALIGNED16(struct) SortableTransparentInstance
{
	b3Scalar m_projection;

	int m_shapeIndex;
	int m_instanceId;
};

B3_ATTRIBUTE_ALIGNED16(struct) TransparentDistanceSortPredicate
{

	inline bool operator() (const SortableTransparentInstance& a, const SortableTransparentInstance& b) const 
	{
		
		return (a.m_projection > b.m_projection);
	}
};
~~~~~~~~
",patch need dot product compute undo change apply fix bool operator return,issue,negative,neutral,neutral,neutral,neutral,neutral
365470718,"Great, thanks for the contribution. Let me have a look first and then merge it soon.
Thanks!",great thanks contribution let look first merge soon thanks,issue,positive,positive,positive,positive,positive,positive
365447988,Some tidying of the styling would be great! Do you plan to set this up as a commit hook of some sort?,styling would great plan set commit hook sort,issue,positive,positive,positive,positive,positive,positive
365417443,"I'm trying to extend the serialization structures, so, yea, I am compiling this on purpose. ",trying extend serialization yea purpose,issue,negative,neutral,neutral,neutral,neutral,neutral
365414927,"Why/how would you compile makesdna.cpp? The file is optional and shouldn't be compiled by default. Did you use cmake and set INTERNAL_UPDATE_SERIALIZATION_STRUCTURES to ON (it is OFF) by default?
If so, can you just turn it OFF again?",would compile file optional default use set default turn,issue,negative,neutral,neutral,neutral,neutral,neutral
365413360,"I just had this same issue compiling makesDNA on mac:
/Users/nickolai.belakovski/develop/bullet3/Extras/Serialize/makesdna/makesdna.cpp:1074:9: error: use of undeclared identifier 'btintptr_t'
It looks like the #defines that have been referenced in this thread resolve to #include <inttypes.h> for Mac. Adding `typedef long btintptr_t` right after that include fixed the compile issue, not sure if that's the desired fix though.
",issue mac error use undeclared identifier like thread resolve include mac long right include fixed compile issue sure desired fix though,issue,positive,positive,positive,positive,positive,positive
364896408,Thanks for the insight! I reverted the commit in question. Please let me know if you have any other feedback I should address. ,thanks insight commit question please let know feedback address,issue,positive,positive,positive,positive,positive,positive
364664625,"PyBullet and BulletRobotics (the[ C-API](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h) and [C++ API](https://github.com/bulletphysics/bullet3/blob/master/examples/RobotSimulator/b3RobotSimulatorClientAPI_NoGUI.h)) don't expose Bullet directly, so there is no need to leave it free. Please revert that commit and I'll look at merging your PR.",expose bullet directly need leave free please revert commit look,issue,positive,positive,positive,positive,positive,positive
364664473,"Can you try latest revision, this pull request should fix it for premake and cmake:
https://github.com/bulletphysics/bullet3/pull/1557",try latest revision pull request fix premake,issue,negative,positive,positive,positive,positive,positive
364660901,"Hi Erwin,

I just felt that userPointer should be left free for bullet library users in their applications instead of populating it inside the library code. I do not have a strong opinion on it and I am very happy to roll back the second commit if you prefer to use userPtr.",hi felt left free bullet library instead inside library code strong opinion happy roll back second commit prefer use,issue,positive,positive,positive,positive,positive,positive
364604795,"That's great, thanks for sharing your work!
It would be nice to keep using the getUserPointer/setUserPointer. Why did you add a new method?",great thanks work would nice keep add new method,issue,positive,positive,positive,positive,positive,positive
364453890,"@cprogrammer1994 passing the `-ldl` option works but I'm facing another issue.

```
Linking pybullet_testplugin
/usr/bin/ld: ../../bin/libBulletFileLoader_gmake_x64_release.a(bFile.o): relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC
../../bin/libBulletFileLoader_gmake_x64_release.a: error adding symbols: Bad value
collect2: error: ld returned 1 exit status
pybullet_testplugin.make:101: recipe for target '../../bin/libpybullet_testplugin_gmake_x64_release.so' failed
make[1]: *** [../../bin/libpybullet_testplugin_gmake_x64_release.so] Error 1
Makefile:64: recipe for target 'pybullet_testplugin' failed
make: *** [pybullet_testplugin] Error 2

```
My working Environment is as follows:

- OS: Ubuntu 16.04.2 LTS
- gcc version: gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.5)

Someone mentioned that this is an issue of premake with Ubuntu 16.04 and gcc 5.4
https://github.com/bulletphysics/bullet3/issues/1538",passing option work facing another issue linking relocation used making object recompile error bad value collect error returned exit status recipe target make error recipe target make error working environment o version version someone issue premake,issue,negative,negative,negative,negative,negative,negative
364411640,"
Hi unfortunately premake at least until commit 0421c60, does not build correctly with gcc 6.3.0 (Debian 9.3) and gcc 5.4.0 (Ubuntu 16.04).
After analyzing a bit I saw that the problems are related to the linking phase:
- the plugin system does not link with the `dl` library
- the linker complains that various static libraries (ie declared `kind StaticLib`) are not compiled with the `-fPIC` flag

To solve the first problem I have included, in several premake.lua, the code:
```
if os.is (""Linux"") then
     Links {""dl""}
end
```
The second I solved by inserting in all the premake.lua that define the static libraries the code:
```
     if os.is (""Linux"") then
         buildoptions {""- fPIC""}
     end
```
To see the changes made, I've attached a simple `git diff master` with the latest commit 0421c60
[bullet3-premake.diff.txt](https://github.com/bulletphysics/bullet3/files/1710791/bullet3-premake.diff.txt)

Bye",hi unfortunately premake least commit build correctly bit saw related linking phase system link library linker various static ie declared kind flag solve first problem included several code link end second define static code end see made attached simple git master latest commit bye,issue,negative,positive,positive,positive,positive,positive
364362666,Try to add `-ldl` option to the linker.,try add option linker,issue,negative,neutral,neutral,neutral,neutral,neutral
364292248,"has anyone successfully built bullet in Docker, I'm getting a similar error related to shared memory  building  with ubuntu 16.04 and 14.04.  I never got this error when building on Mac or a regular ubuntu 14.04 install

```
Linking App_PhysicsServer_SharedMemory
obj/x64/Release/App_PhysicsServer_SharedMemory/b3PluginManager.o: In function `b3PluginManager::unloadPlugin(int)':
b3PluginManager.cpp:(.text+0xa69): undefined reference to `dlclose'
obj/x64/Release/App_PhysicsServer_SharedMemory/b3PluginManager.o: In function `b3PluginManager::registerStaticLinkedPlugin(char const*, int (*)(b3PluginContext*), void (*)(b3PluginContext*), int (*)(b3PluginContext*, b3PluginArguments const*), int (*)(b3PluginContext*), int (*)(b3PluginContext*), UrdfRenderingInterface* (*)(b3PluginContext*))':
b3PluginManager.cpp:(.text+0xf76): undefined reference to `dlclose'
obj/x64/Release/App_PhysicsServer_SharedMemory/b3PluginManager.o: In function `b3PluginManager::loadPlugin(char const*, char const*)':
b3PluginManager.cpp:(.text+0x1f23): undefined reference to `dlopen'
b3PluginManager.cpp:(.text+0x2106): undefined reference to `dlsym'
b3PluginManager.cpp:(.text+0x211a): undefined reference to `dlsym'
b3PluginManager.cpp:(.text+0x212e): undefined reference to `dlsym'
b3PluginManager.cpp:(.text+0x2142): undefined reference to `dlsym'
b3PluginManager.cpp:(.text+0x2156): undefined reference to `dlsym'
obj/x64/Release/App_PhysicsServer_SharedMemory/b3PluginManager.o:b3PluginManager.cpp:(.text+0x216a): more undefined references to `dlsym' follow
obj/x64/Release/App_PhysicsServer_SharedMemory/b3PluginManager.o: In function `b3PluginManager::loadPlugin(char const*, char const*)':
b3PluginManager.cpp:(.text+0x220b): undefined reference to `dlclose'
b3PluginManager.cpp:(.text+0x22ec): undefined reference to `dlclose'
b3PluginManager.cpp:(.text+0x2837): undefined reference to `dlclose'
collect2: error: ld returned 1 exit status
make[1]: *** [../../bin/App_PhysicsServer_SharedMemory_gmake_x64_release] Error 1
make: *** [App_PhysicsServer_SharedMemory] Error 2
```",anyone successfully built bullet docker getting similar error related memory building never got error building mac regular install linking function undefined reference function char void undefined reference function char char undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined follow function char char undefined reference undefined reference undefined reference collect error returned exit status make error make error,issue,negative,positive,positive,positive,positive,positive
363873499,"I still don't have an error, and the continuous integration neither (it runs on windows, linux and mac). Are you using the latest github version of Bullet?",still error continuous integration neither mac latest version bullet,issue,negative,positive,positive,positive,positive,positive
363855396,"@erwincoumans  thank you for your response. 

But still I got the error for linking step for shared memory

[100%] Linking CXX executable App_PhysicsServer_SharedMemory
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBody.o): In function `btSoftBody::updatePose() [clone .part.103] [clone .constprop.409]':
btSoftBody.cpp:(.text+0x1c77): undefined reference to `btPolarDecomposition::decompose(btMatrix3x3 const&, btMatrix3x3&, btMatrix3x3&) const'
btSoftBody.cpp:(.text+0x2003): undefined reference to `btPolarDecomposition::btPolarDecomposition(float, unsigned int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBody.o): In function `btSoftBody::updateClusters()':
btSoftBody.cpp:(.text+0xc154): undefined reference to `btPolarDecomposition::decompose(btMatrix3x3 const&, btMatrix3x3&, btMatrix3x3&) const'
btSoftBody.cpp:(.text+0xcc33): undefined reference to `btPolarDecomposition::btPolarDecomposition(float, unsigned int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o): In function `btSoftBodyRigidBodyCollisionConfiguration::~btSoftBodyRigidBodyCollisionConfiguration()':
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0x9d): undefined reference to `btDefaultCollisionConfiguration::~btDefaultCollisionConfiguration()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o): In function `btSoftBodyRigidBodyCollisionConfiguration::btSoftBodyRigidBodyCollisionConfiguration(btDefaultCollisionConstructionInfo const&)':
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0xdb): undefined reference to `btDefaultCollisionConfiguration::btDefaultCollisionConfiguration(btDefaultCollisionConstructionInfo const&)'
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0x26a): undefined reference to `btDefaultCollisionConfiguration::~btDefaultCollisionConfiguration()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o): In function `btSoftBodyRigidBodyCollisionConfiguration::~btSoftBodyRigidBodyCollisionConfiguration()':
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0x92): undefined reference to `btDefaultCollisionConfiguration::~btDefaultCollisionConfiguration()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o): In function `btSoftBodyRigidBodyCollisionConfiguration::getCollisionAlgorithmCreateFunc(int, int)':
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0x2d3): undefined reference to `btDefaultCollisionConfiguration::getCollisionAlgorithmCreateFunc(int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o):(.rodata._ZTI41btSoftBodyRigidBodyCollisionConfiguration[_ZTI41btSoftBodyRigidBodyCollisionConfiguration]+0x10): undefined reference to `typeinfo for btDefaultCollisionConfiguration'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o):(.rodata._ZTV41btSoftBodyRigidBodyCollisionConfiguration[_ZTV41btSoftBodyRigidBodyCollisionConfiguration]+0x38): undefined reference to `btDefaultCollisionConfiguration::getClosestPointsAlgorithmCreateFunc(int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftRigidCollisionAlgorithm.o): In function `btSoftRigidCollisionAlgorithm::btSoftRigidCollisionAlgorithm(btPersistentManifold*, btCollisionAlgorithmConstructionInfo const&, btCollisionObjectWrapper const*, btCollisionObjectWrapper const*, bool)':
btSoftRigidCollisionAlgorithm.cpp:(.text+0xc0): undefined reference to `btCollisionAlgorithm::btCollisionAlgorithm(btCollisionAlgorithmConstructionInfo const&)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::serialize(btSerializer*)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x9ab): undefined reference to `btDiscreteDynamicsWorld::serializeDynamicsWorldInfo(btSerializer*)'
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x9d1): undefined reference to `btDiscreteDynamicsWorld::serializeRigidBodies(btSerializer*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::~btSoftMultiBodyDynamicsWorld()':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0xb26): undefined reference to `btMultiBodyDynamicsWorld::~btMultiBodyDynamicsWorld()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::btSoftMultiBodyDynamicsWorld(btDispatcher*, btBroadphaseInterface*, btMultiBodyConstraintSolver*, btCollisionConfiguration*, btSoftBodySolver*)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0xb87): undefined reference to `btMultiBodyDynamicsWorld::btMultiBodyDynamicsWorld(btDispatcher*, btBroadphaseInterface*, btMultiBodyConstraintSolver*, btCollisionConfiguration*)'
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x1159): undefined reference to `btMultiBodyDynamicsWorld::~btMultiBodyDynamicsWorld()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::predictUnconstraintMotion(float)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x118f): undefined reference to `btDiscreteDynamicsWorld::predictUnconstraintMotion(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::internalSingleStepSimulation(float)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x1253): undefined reference to `btDiscreteDynamicsWorld::internalSingleStepSimulation(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::debugDrawWorld()':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x156e): undefined reference to `btDiscreteDynamicsWorld::debugDrawWorld()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::~btSoftMultiBodyDynamicsWorld()':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0xae5): undefined reference to `btMultiBodyDynamicsWorld::~btMultiBodyDynamicsWorld()'
btSoftMultiBodyDynamicsWorld.cpp:(.text+0xb0f): undefined reference to `btMultiBodyDynamicsWorld::~btMultiBodyDynamicsWorld()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::removeCollisionObject(btCollisionObject*)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x14da): undefined reference to `btDiscreteDynamicsWorld::removeCollisionObject(btCollisionObject*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btDiscreteDynamicsWorld::updateVehicles(float)':
btSoftMultiBodyDynamicsWorld.cpp:(.text._ZN23btDiscreteDynamicsWorld14updateVehiclesEf[_ZN23btDiscreteDynamicsWorld14updateVehiclesEf]+0x1): undefined reference to `btDiscreteDynamicsWorld::updateActions(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTI28btSoftMultiBodyDynamicsWorld[_ZTI28btSoftMultiBodyDynamicsWorld]+0x10): undefined reference to `typeinfo for btMultiBodyDynamicsWorld'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x58): undefined reference to `btDiscreteDynamicsWorld::addCollisionObject(btCollisionObject*, int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x78): undefined reference to `btDiscreteDynamicsWorld::stepSimulation(float, int, float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x80): undefined reference to `btDiscreteDynamicsWorld::addConstraint(btTypedConstraint*, bool)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x88): undefined reference to `btDiscreteDynamicsWorld::removeConstraint(btTypedConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x90): undefined reference to `btDiscreteDynamicsWorld::addAction(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x98): undefined reference to `btDiscreteDynamicsWorld::removeAction(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xa0): undefined reference to `btDiscreteDynamicsWorld::setGravity(btVector3 const&)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xa8): undefined reference to `btDiscreteDynamicsWorld::getGravity() const'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xb0): undefined reference to `btDiscreteDynamicsWorld::synchronizeMotionStates()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xb8): undefined reference to `btDiscreteDynamicsWorld::addRigidBody(btRigidBody*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xc0): undefined reference to `btDiscreteDynamicsWorld::addRigidBody(btRigidBody*, int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xc8): undefined reference to `btDiscreteDynamicsWorld::removeRigidBody(btRigidBody*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xd0): undefined reference to `btDiscreteDynamicsWorld::setConstraintSolver(btConstraintSolver*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xd8): undefined reference to `btDiscreteDynamicsWorld::getConstraintSolver()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xe0): undefined reference to `btDiscreteDynamicsWorld::getNumConstraints() const'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xe8): undefined reference to `btDiscreteDynamicsWorld::getConstraint(int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xf0): undefined reference to `btDiscreteDynamicsWorld::getConstraint(int) const'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x100): undefined reference to `btMultiBodyDynamicsWorld::clearForces()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x108): undefined reference to `btDiscreteDynamicsWorld::addVehicle(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x110): undefined reference to `btDiscreteDynamicsWorld::removeVehicle(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x118): undefined reference to `btDiscreteDynamicsWorld::addCharacter(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x120): undefined reference to `btDiscreteDynamicsWorld::removeCharacter(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x130): undefined reference to `btMultiBodyDynamicsWorld::integrateTransforms(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x138): undefined reference to `btMultiBodyDynamicsWorld::calculateSimulationIslands()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x140): undefined reference to `btMultiBodyDynamicsWorld::solveConstraints(btContactSolverInfo&)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x148): undefined reference to `btMultiBodyDynamicsWorld::updateActivationState(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x158): undefined reference to `btDiscreteDynamicsWorld::createPredictiveContacts(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x160): undefined reference to `btDiscreteDynamicsWorld::saveKinematicState(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x168): undefined reference to `btDiscreteDynamicsWorld::debugDrawConstraint(btTypedConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x170): undefined reference to `btMultiBodyDynamicsWorld::applyGravity()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x188): undefined reference to `btMultiBodyDynamicsWorld::serializeMultiBodies(btSerializer*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x190): undefined reference to `btMultiBodyDynamicsWorld::addMultiBody(btMultiBody*, int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x198): undefined reference to `btMultiBodyDynamicsWorld::removeMultiBody(btMultiBody*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1a8): undefined reference to `btMultiBodyDynamicsWorld::addMultiBodyConstraint(btMultiBodyConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1c8): undefined reference to `btMultiBodyDynamicsWorld::removeMultiBodyConstraint(btMultiBodyConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1d0): undefined reference to `btMultiBodyDynamicsWorld::debugDrawMultiBodyConstraint(btMultiBodyConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1d8): undefined reference to `btMultiBodyDynamicsWorld::clearMultiBodyConstraintForces()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1e0): undefined reference to `btMultiBodyDynamicsWorld::clearMultiBodyForces()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftSoftCollisionAlgorithm.o): In function `btSoftSoftCollisionAlgorithm::btSoftSoftCollisionAlgorithm(btPersistentManifold*, btCollisionAlgorithmConstructionInfo const&, btCollisionObjectWrapper const*, btCollisionObjectWrapper const*)':
btSoftSoftCollisionAlgorithm.cpp:(.text+0x58): undefined reference to `btCollisionAlgorithm::btCollisionAlgorithm(btCollisionAlgorithmConstructionInfo const&)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyConcaveCollisionAlgorithm.o): In function `btSoftBodyConcaveCollisionAlgorithm::btSoftBodyConcaveCollisionAlgorithm(btCollisionAlgorithmConstructionInfo const&, btCollisionObjectWrapper const*, btCollisionObjectWrapper const*, bool)':
btSoftBodyConcaveCollisionAlgorithm.cpp:(.text+0x15a8): undefined reference to `btCollisionAlgorithm::btCollisionAlgorithm(btCollisionAlgorithmConstructionInfo const&)'
collect2: error: ld returned 1 exit status
examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory.dir/build.make:1456: recipe for target 'examples/SharedMemory/App_PhysicsServer_SharedMemory' failed
make[2]: *** [examples/SharedMemory/App_PhysicsServer_SharedMemory] Error 1
CMakeFiles/Makefile2:631: recipe for target 'examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory.dir/all' failed
make[1]: *** [examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
",thank response still got error linking step memory linking executable function clone clone undefined reference undefined reference float unsigned function undefined reference undefined reference float unsigned function undefined reference function undefined reference undefined reference function undefined reference function undefined reference undefined reference undefined reference function bool undefined reference function undefined reference undefined reference function undefined reference function undefined reference undefined reference function float undefined reference float function float undefined reference float function undefined reference function undefined reference undefined reference function undefined reference function float undefined reference float undefined reference undefined reference undefined reference float float undefined reference bool undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference float undefined reference undefined reference undefined reference float undefined reference float undefined reference float undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference function undefined reference function bool undefined reference collect error returned exit status recipe target make error recipe target make error make waiting unfinished,issue,negative,neutral,neutral,neutral,neutral,neutral
363837161,"I just ran exactly those lines, and there is no problem. More info is needed:

~~~~~~~~
[  1%] Built target LinearMath
[ 11%] Built target BulletCollision
[ 16%] Built target BulletDynamics
[ 16%] Built target App_HelloWorld
[ 17%] Built target App_BasicExample
[ 17%] Built target Bullet3Common
[ 19%] Built target OpenGLWindow
[ 19%] Built target AppBasicExampleGui
[ 20%] Built target BulletExampleBrowserLib
[ 27%] Built target gwen
[ 28%] Built target BussIK
[ 29%] Built target BulletInverseDynamicsUtils
[ 30%] Built target BulletInverseDynamics
[ 31%] Built target BulletSoftBody
[ 45%] Built target App_ExampleBrowser
[ 53%] Built target BulletRobotics
[ 53%] Built target BulletFileLoader
[ 53%] Built target BulletWorldImporter
[ 54%] Built target App_RobotSimulator_NoGUI
[ 54%] Built target App_RobotSimulator
[ 61%] Built target App_PhysicsServer_SharedMemory_VR
[ 67%] Built target App_PhysicsServer_SharedMemory_GUI
[ 73%] Built target App_PhysicsServer_SharedMemory
[ 73%] Built target clsocket
[ 80%] Built target App_TwoJoint
[ 80%] Built target App_obj2sdf
[ 82%] Built target ConvexDecomposition
[ 83%] Built target HACD
[ 83%] Built target GIMPACTUtils
[ 84%] Built target BulletXmlWorldImporter
[ 87%] Built target Bullet3OpenCL_clew
[ 88%] Built target Bullet2FileLoader
[ 89%] Built target Bullet3Dynamics
[ 90%] Built target Bullet3Collision
[ 90%] Built target Bullet3Geometry
[ 91%] Built target gtest
[ 91%] Built target Test_BulletInverseDynamicsJacobian
[ 94%] Built target Test_BulletInverseForwardDynamics
[ 94%] Built target Test_BulletInverseDynamics
[ 99%] Built target Test_PhysicsClientServer
[100%] Built target Test_Collision
[100%] Built target Test_btKinematicCharacterController
[100%] Built target Test_BulletDynamics
Install the project...
-- Install configuration: ""Release""
-- Installing: /usr/local/lib/pkgconfig/bullet.pc
-- Installing: /usr/local/lib/cmake/bullet/UseBullet.cmake
-- Installing: /usr/local/lib/cmake/bullet/BulletConfig.cmake
-- Installing: /usr/local/lib/libclsocket.a
-- Installing: /usr/local/include/ActiveSocket.h
-- Installing: /usr/local/include/Host.h
-- Installing: /usr/local/include/PassiveSocket.h
-- Installing: /usr/local/include/SimpleSocket.h
-- Installing: /usr/local/include/StatTimer.h
-- Installing: /usr/local/lib/libBulletInverseDynamicsUtils.a
-- Installing: /usr/local/include/bullet/InverseDynamics
-- Installing: /usr/local/include/bullet/InverseDynamics/BulletInverseDynamicsUtilsCommon.h
-- Installing: /usr/local/include/bullet/PhysicsClientC_API.h
-- Installing: /usr/local/include/bullet/PhysicsClientSharedMemory_C_API.h
-- Installing: /usr/local/include/bullet/PhysicsClientSharedMemory2_C_API.h
-- Installing: /usr/local/include/bullet/PhysicsDirectC_API.h
-- Installing: /usr/local/include/bullet/PhysicsClientUDP_C_API.h
-- Installing: /usr/local/include/bullet/PhysicsClientTCP_C_API.h
-- Installing: /usr/local/include/bullet/SharedMemoryInProcessPhysicsC_API.h
-- Installing: /usr/local/include/bullet/SharedMemoryPublic.h
-- Installing: /usr/local/lib/libBulletRobotics.a
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /usr/local/lib/libBulletRobotics.a(Win32SharedMemory.o) has no symbols
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /usr/local/lib/libBulletRobotics.a(b3Win32ThreadSupport.o) has no symbols
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /usr/local/lib/libBulletRobotics.a(win32.o) has no symbols
-- Installing: /usr/local/lib/libBulletFileLoader.a
-- Installing: /usr/local/include/bullet/BulletFileLoader
-- Installing: /usr/local/include/bullet/BulletFileLoader/bCommon.h
-- Installing: /usr/local/include/bullet/BulletFileLoader/bDefines.h
-- Installing: /usr/local/include/bullet/BulletFileLoader/btBulletFile.h
-- Installing: /usr/local/include/bullet/BulletFileLoader/bChunk.h
-- Installing: /usr/local/include/bullet/BulletFileLoader/bFile.h
-- Installing: /usr/local/include/bullet/BulletFileLoader/autogenerated
-- Installing: /usr/local/include/bullet/BulletFileLoader/autogenerated/bullet.h
-- Installing: /usr/local/include/bullet/BulletFileLoader/bDNA.h
-- Installing: /usr/local/lib/libBulletXmlWorldImporter.a
-- Installing: /usr/local/include/bullet/BulletXmlWorldImporter
-- Installing: /usr/local/include/bullet/BulletXmlWorldImporter/tinyxml.h
-- Installing: /usr/local/include/bullet/BulletXmlWorldImporter/btBulletXmlWorldImporter.h
-- Installing: /usr/local/include/bullet/BulletXmlWorldImporter/tinystr.h
-- Installing: /usr/local/include/bullet/BulletXmlWorldImporter/string_split.h
-- Installing: /usr/local/lib/libBulletWorldImporter.a
-- Installing: /usr/local/include/bullet/BulletWorldImporter
-- Installing: /usr/local/include/bullet/BulletWorldImporter/btBulletWorldImporter.h
-- Installing: /usr/local/include/bullet/BulletWorldImporter/btMultiBodyWorldImporter.h
-- Installing: /usr/local/include/bullet/BulletWorldImporter/btWorldImporter.h
-- Installing: /usr/local/lib/libConvexDecomposition.a
-- Installing: /usr/local/include/bullet/ConvexDecomposition
-- Installing: /usr/local/include/bullet/ConvexDecomposition/fitsphere.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/ConvexDecomposition.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/raytri.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/ConvexBuilder.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/vlookup.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/cd_hull.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/meshvolume.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/float_math.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/splitplane.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/bestfitobb.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/cd_vector.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/planetri.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/bestfit.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/concavity.h
-- Installing: /usr/local/include/bullet/ConvexDecomposition/cd_wavefront.h
-- Installing: /usr/local/lib/libHACD.a
-- Installing: /usr/local/include/bullet/HACD
-- Installing: /usr/local/include/bullet/HACD/hacdHACD.h
-- Installing: /usr/local/include/bullet/HACD/hacdGraph.h
-- Installing: /usr/local/include/bullet/HACD/hacdVector.inl
-- Installing: /usr/local/include/bullet/HACD/hacdManifoldMesh.h
-- Installing: /usr/local/include/bullet/HACD/hacdCircularList.inl
-- Installing: /usr/local/include/bullet/HACD/hacdICHull.h
-- Installing: /usr/local/include/bullet/HACD/hacdVersion.h
-- Installing: /usr/local/include/bullet/HACD/hacdCircularList.h
-- Installing: /usr/local/include/bullet/HACD/hacdVector.h
-- Installing: /usr/local/lib/libGIMPACTUtils.a
-- Installing: /usr/local/include/bullet/GIMPACTUtils
-- Installing: /usr/local/include/bullet/GIMPACTUtils/btGImpactConvexDecompositionShape.h
-- Installing: /usr/local/include/bullet/btBulletCollisionCommon.h
-- Installing: /usr/local/include/bullet/btBulletDynamicsCommon.h
-- Installing: /usr/local/lib/libBullet3OpenCL_clew.a
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /usr/local/lib/libBullet3OpenCL_clew.a(b3ContactCache.o) has no symbols
-- Installing: /usr/local/include/bullet/Bullet3OpenCL
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/b3GpuGridBroadphase.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/kernels
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/kernels/gridBroadphaseKernels.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/kernels/sapKernels.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/kernels/parallelLinearBvhKernels.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/b3GpuBroadphaseInterface.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/b3GpuSapBroadphase.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/b3GpuParallelLinearBvhBroadphase.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/b3GpuParallelLinearBvh.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/BroadphaseCollision/b3SapAabb.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3ConvexHullContact.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/kernels
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/kernels/mprKernels.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/kernels/bvhTraversal.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/kernels/satConcaveKernels.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/kernels/primitiveContacts.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/kernels/satClipHullContacts.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/kernels/satKernels.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3SupportMappings.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3TriangleCallback.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3VoronoiSimplexSolver.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3ContactCache.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3ConvexPolyhedronCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3OptimizedBvh.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3VectorFloat4.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3StridingMeshInterface.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3QuantizedBvh.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3GjkEpa.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3TriangleIndexVertexArray.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/NarrowphaseCollision/b3BvhInfo.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/Initialize
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/Initialize/b3OpenCLUtils.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/Initialize/b3OpenCLInclude.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/Raycast
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/Raycast/kernels
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/Raycast/kernels/rayCastKernels.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/Raycast/b3GpuRaycast.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/batchingKernels.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/solverSetup.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/updateAabbsKernel.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/solverUtils.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/solverSetup2.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/integrateKernel.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/solveFriction.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/solveContact.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/batchingKernelsNew.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/kernels/jointSolver.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuNarrowPhaseInternalData.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuPgsConstraintSolver.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuGenericConstraint.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuSolverConstraint.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuPgsContactSolver.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuSolverBody.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuConstraint4.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuRigidBodyPipeline.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuRigidBodyPipelineInternalData.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuNarrowPhase.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3GpuJacobiContactSolver.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/RigidBody/b3Solver.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/kernels
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/kernels/FillKernelsCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/kernels/CopyKernelsCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/kernels/BoundSearchKernelsCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/kernels/PrefixScanKernelsCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/kernels/RadixSort32KernelsCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/kernels/PrefixScanKernelsFloat4CL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/b3BoundSearchCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/b3PrefixScanCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/b3RadixSort32CL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/b3PrefixScanFloat4CL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/b3LauncherCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/b3OpenCLArray.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/b3FillCL.h
-- Installing: /usr/local/include/bullet/Bullet3OpenCL/ParallelPrimitives/b3BufferInfoCL.h
-- Installing: /usr/local/lib/libBullet2FileLoader.a
-- Installing: /usr/local/include/bullet/Bullet2FileLoader
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/b3File.h
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/b3Common.h
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/b3DNA.h
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/b3BulletFile.h
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/b3Chunk.h
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/b3Serializer.h
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/b3Defines.h
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/autogenerated
-- Installing: /usr/local/include/bullet/Bullet2FileLoader/autogenerated/bullet2.h
-- Installing: /usr/local/lib/libBullet3Dynamics.a
-- Installing: /usr/local/include/bullet/Bullet3Dynamics
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/shared
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/shared/b3IntegrateTransforms.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/shared/b3ContactConstraint4.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/shared/b3Inertia.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/shared/b3ConvertConstraint4.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3SolverBody.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3Point2PointConstraint.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3SolverConstraint.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3FixedConstraint.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3TypedConstraint.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3Generic6DofConstraint.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3ContactSolverInfo.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3PgsJacobiSolver.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/ConstraintSolver/b3JacobianEntry.h
-- Installing: /usr/local/include/bullet/Bullet3Dynamics/b3CpuRigidBodyPipeline.h
-- Installing: /usr/local/lib/libBullet3Collision.a
-- Installing: /usr/local/include/bullet/Bullet3Collision
-- Installing: /usr/local/include/bullet/Bullet3Collision/BroadPhaseCollision
-- Installing: /usr/local/include/bullet/Bullet3Collision/BroadPhaseCollision/b3DynamicBvh.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/BroadPhaseCollision/b3DynamicBvhBroadphase.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/BroadPhaseCollision/b3BroadphaseCallback.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/BroadPhaseCollision/shared
-- Installing: /usr/local/include/bullet/Bullet3Collision/BroadPhaseCollision/shared/b3Aabb.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/BroadPhaseCollision/b3OverlappingPair.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/BroadPhaseCollision/b3OverlappingPairCache.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/b3RaycastInfo.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/b3ConvexUtility.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/b3RigidBodyCL.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3FindConcaveSatAxis.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3Contact4Data.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3ClipFaces.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3QuantizedBvhNodeData.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3Collidable.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3BvhSubtreeInfoData.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3BvhTraversal.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3RigidBodyData.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3ContactConvexConvexSAT.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3UpdateAabbs.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3FindSeparatingAxis.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3ContactSphereSphere.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3ConvexPolyhedronData.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3MprPenetration.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3ReduceContacts.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3NewContactReduction.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/b3Config.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/b3CpuNarrowPhase.h
-- Installing: /usr/local/include/bullet/Bullet3Collision/NarrowPhaseCollision/b3Contact4.h
-- Installing: /usr/local/lib/libBullet3Geometry.a
-- Installing: /usr/local/include/bullet/Bullet3Geometry
-- Installing: /usr/local/include/bullet/Bullet3Geometry/b3ConvexHullComputer.h
-- Installing: /usr/local/include/bullet/Bullet3Geometry/b3GrahamScan2dConvexHull.h
-- Installing: /usr/local/include/bullet/Bullet3Geometry/b3AabbUtil.h
-- Installing: /usr/local/include/bullet/Bullet3Geometry/b3GeometryUtil.h
-- Installing: /usr/local/lib/libBulletInverseDynamics.a
-- Installing: /usr/local/include/bullet/BulletInverseDynamics
-- Installing: /usr/local/include/bullet/BulletInverseDynamics/details
-- Installing: /usr/local/include/bullet/BulletInverseDynamics/btBulletCollisionCommon.h
-- Installing: /usr/local/lib/libBulletSoftBody.a
-- Installing: /usr/local/include/bullet/BulletSoftBody
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftBodyConcaveCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftRigidCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftRigidDynamicsWorld.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSparseSDF.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftBodyData.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftBodyHelpers.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btDefaultSoftBodySolver.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftMultiBodyDynamicsWorld.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftBodySolverVertexBuffer.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftBodyInternals.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftSoftCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftBodyRigidBodyCollisionConfiguration.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftBody.h
-- Installing: /usr/local/include/bullet/BulletSoftBody/btSoftBodySolvers.h
-- Installing: /usr/local/lib/libBulletCollision.a
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /usr/local/lib/libBulletCollision.a(btBroadphaseProxy.o) has no symbols
-- Installing: /usr/local/include/bullet/BulletCollision
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btOverlappingPairCache.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btOverlappingPairCallback.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btSimpleBroadphase.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btBroadphaseProxy.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btDbvtBroadphase.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btBroadphaseInterface.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btAxisSweep3Internal.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btDispatcher.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btDbvt.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btAxisSweep3.h
-- Installing: /usr/local/include/bullet/BulletCollision/BroadphaseCollision/btQuantizedBvh.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btGjkEpaPenetrationDepthSolver.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btSimplexSolverInterface.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btGjkCollisionDescription.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btGjkPairDetector.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btGjkEpa2.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btDiscreteCollisionDetectorInterface.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btConvexPenetrationDepthSolver.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btGjkConvexCast.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btComputeGjkEpaPenetration.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btPolyhedralContactClipping.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btSubSimplexConvexCast.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btConvexCast.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btManifoldPoint.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btMprPenetration.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btVoronoiSimplexSolver.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btPersistentManifold.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btContinuousConvexCollision.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btPointCollector.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btGjkEpa3.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btRaycastCallback.h
-- Installing: /usr/local/include/bullet/BulletCollision/NarrowPhaseCollision/btMinkowskiPenetrationDepthSolver.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btSphereTriangleCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btManifoldResult.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btBoxBoxDetector.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCollisionWorld.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btBoxBoxCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btUnionFind.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btActivatingCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCollisionDispatcherMt.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btDefaultCollisionConfiguration.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btSimulationIslandManager.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btSphereBoxCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCollisionDispatcher.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btConvexConcaveCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCollisionConfiguration.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btEmptyCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btBox2dBox2dCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btConvexConvexAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/SphereTriangleDetector.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCollisionWorldImporter.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btGhostObject.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btConvex2dConvex2dAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCollisionObjectWrapper.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btConvexPlaneCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btSphereSphereCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCompoundCompoundCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btHashedSimplePairCache.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCollisionObject.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCompoundCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btInternalEdgeUtility.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionDispatch/btCollisionCreateFunc.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_geometry.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_geom_types.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_hash_table.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btQuantization.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_radixsort.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btContactProcessingStructs.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_basic_geometry_operations.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_clip_polygon.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGenericPoolAllocator.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btTriangleShapeEx.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_bitset.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGImpactMassUtil.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btClipPolygon.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_box_set.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGImpactCollisionAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGImpactBvh.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btContactProcessing.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_box_collision.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btCompoundFromGimpact.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btBoxCollision.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_memory.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_math.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGImpactQuantizedBvhStructs.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_contact.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_linear_math.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_array.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/gim_tri_collision.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGImpactQuantizedBvh.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGImpactShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGeometryOperations.h
-- Installing: /usr/local/include/bullet/BulletCollision/Gimpact/btGImpactBvhStructs.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btMinkowskiSumShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btOptimizedBvh.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btBoxShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btBvhTriangleMeshShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTriangleCallback.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btUniformScalingShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConeShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btStaticPlaneShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTriangleShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btMaterial.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btCompoundShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConvexHullShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btMultiSphereShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btStridingMeshInterface.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btEmptyShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btMultimaterialTriangleMeshShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btShapeHull.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTriangleIndexVertexMaterialArray.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btCollisionMargin.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConvex2dShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConcaveShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btHeightfieldTerrainShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConvexPolyhedron.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTetrahedronShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btBox2dShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btSphereShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btCylinderShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btCollisionShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConvexShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTriangleInfoMap.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTriangleMesh.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTriangleMeshShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btPolyhedralConvexShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConvexInternalShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConvexPointCloudShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btCapsuleShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTriangleBuffer.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btTriangleIndexVertexArray.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btConvexTriangleMeshShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/CollisionShapes/btScaledBvhTriangleMeshShape.h
-- Installing: /usr/local/include/bullet/BulletCollision/btBulletCollisionCommon.h
-- Installing: /usr/local/lib/libBulletDynamics.a
-- Installing: /usr/local/include/bullet/BulletDynamics
-- Installing: /usr/local/include/bullet/BulletDynamics/Dynamics
-- Installing: /usr/local/include/bullet/BulletDynamics/Dynamics/btRigidBody.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Dynamics/btDiscreteDynamicsWorldMt.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Dynamics/btDiscreteDynamicsWorld.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Dynamics/btDynamicsWorld.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Dynamics/btSimulationIslandManagerMt.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Dynamics/btActionInterface.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Dynamics/btSimpleDynamicsWorld.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Vehicle
-- Installing: /usr/local/include/bullet/BulletDynamics/Vehicle/btVehicleRaycaster.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Vehicle/btWheelInfo.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Vehicle/btRaycastVehicle.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Character
-- Installing: /usr/local/include/bullet/BulletDynamics/Character/btKinematicCharacterController.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Character/btCharacterControllerInterface.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodySliderConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyFixedConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyJointLimitConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyLinkCollider.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyLink.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyJointMotor.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyPoint2Point.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyJointFeedback.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyDynamicsWorld.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBody.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyGearConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodySolverConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/Featherstone/btMultiBodyConstraintSolver.h
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers/btSolveProjectedGaussSeidel.h
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers/btDantzigLCP.h
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers/btLemkeAlgorithm.h
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers/btMLCPSolver.h
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers/btLemkeSolver.h
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers/btMLCPSolverInterface.h
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers/btDantzigSolver.h
-- Installing: /usr/local/include/bullet/BulletDynamics/MLCPSolvers/btPATHSolver.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btTypedConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btConstraintSolver.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btSolverBody.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btGeneric6DofConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btSolverConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btSolve2LinearConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btGeneric6DofSpring2Constraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btHingeConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btFixedConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btContactConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btGearConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btContactSolverInfo.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btConeTwistConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btGeneric6DofSpringConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btNNCGConstraintSolver.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btPoint2PointConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btHinge2Constraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btJacobianEntry.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btSliderConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/ConstraintSolver/btUniversalConstraint.h
-- Installing: /usr/local/include/bullet/BulletDynamics/btBulletDynamicsCommon.h
-- Installing: /usr/local/lib/libLinearMath.a
-- Installing: /usr/local/include/bullet/LinearMath
-- Installing: /usr/local/include/bullet/LinearMath/btIDebugDraw.h
-- Installing: /usr/local/include/bullet/LinearMath/btMatrixX.h
-- Installing: /usr/local/include/bullet/LinearMath/btQuadWord.h
-- Installing: /usr/local/include/bullet/LinearMath/btRandom.h
-- Installing: /usr/local/include/bullet/LinearMath/btPolarDecomposition.h
-- Installing: /usr/local/include/bullet/LinearMath/btTransform.h
-- Installing: /usr/local/include/bullet/LinearMath/btMotionState.h
-- Installing: /usr/local/include/bullet/LinearMath/btStackAlloc.h
-- Installing: /usr/local/include/bullet/LinearMath/btTransformUtil.h
-- Installing: /usr/local/include/bullet/LinearMath/btGrahamScan2dConvexHull.h
-- Installing: /usr/local/include/bullet/LinearMath/btVector3.h
-- Installing: /usr/local/include/bullet/LinearMath/btAabbUtil2.h
-- Installing: /usr/local/include/bullet/LinearMath/btQuaternion.h
-- Installing: /usr/local/include/bullet/LinearMath/btDefaultMotionState.h
-- Installing: /usr/local/include/bullet/LinearMath/btConvexHullComputer.h
-- Installing: /usr/local/include/bullet/LinearMath/btPoolAllocator.h
-- Installing: /usr/local/include/bullet/LinearMath/btQuickprof.h
-- Installing: /usr/local/include/bullet/LinearMath/btGeometryUtil.h
-- Installing: /usr/local/include/bullet/LinearMath/btSerializer.h
-- Installing: /usr/local/include/bullet/LinearMath/btAlignedObjectArray.h
-- Installing: /usr/local/include/bullet/LinearMath/btSpatialAlgebra.h
-- Installing: /usr/local/include/bullet/LinearMath/btScalar.h
-- Installing: /usr/local/include/bullet/LinearMath/btList.h
-- Installing: /usr/local/include/bullet/LinearMath/btConvexHull.h
-- Installing: /usr/local/include/bullet/LinearMath/btAlignedAllocator.h
-- Installing: /usr/local/include/bullet/LinearMath/btMinMax.h
-- Installing: /usr/local/include/bullet/LinearMath/btCpuFeatureUtility.h
-- Installing: /usr/local/include/bullet/LinearMath/btMatrix3x3.h
-- Installing: /usr/local/include/bullet/LinearMath/btHashMap.h
-- Installing: /usr/local/include/bullet/LinearMath/btThreads.h
-- Installing: /usr/local/lib/libBullet3Common.a
-- Installing: /usr/local/include/bullet/Bullet3Common
-- Installing: /usr/local/include/bullet/Bullet3Common/b3Vector3.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3StackAlloc.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3TransformUtil.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3Random.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3Transform.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3AlignedObjectArray.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3PoolAllocator.h
-- Installing: /usr/local/include/bullet/Bullet3Common/shared
-- Installing: /usr/local/include/bullet/Bullet3Common/shared/b3Int4.h
-- Installing: /usr/local/include/bullet/Bullet3Common/shared/b3Mat3x3.h
-- Installing: /usr/local/include/bullet/Bullet3Common/shared/b3Float4.h
-- Installing: /usr/local/include/bullet/Bullet3Common/shared/b3Int2.h
-- Installing: /usr/local/include/bullet/Bullet3Common/shared/b3Quat.h
-- Installing: /usr/local/include/bullet/Bullet3Common/shared/b3PlatformDefinitions.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3Quaternion.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3MinMax.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3Matrix3x3.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3Logging.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3HashMap.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3Scalar.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3CommandLineArgs.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3FileUtils.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3AlignedAllocator.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3QuadWord.h
-- Installing: /usr/local/include/bullet/Bullet3Common/b3ResizablePool.h
~~~~~~~~",ran exactly problem built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target install project install configuration release file file file file file,issue,negative,positive,positive,positive,positive,positive
363831662,"The premake issue is resolved.

cmake is not the same as premake, so please create a new issue and provide the full lines / arguments to build using cmake.

What if you use pip install pybullet instead (or sudo pip install pybullet or sudo pip3 install pybullet)?",premake issue resolved premake please create new issue provide full build use pip install instead pip install pip install,issue,positive,positive,positive,positive,positive,positive
363828531,"same here. 

I am using cmake 3.5 

 ```
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBody.o): In function `btSoftBody::updatePose() [clone .part.103] [clone .constprop.409]':
btSoftBody.cpp:(.text+0x1c77): undefined reference to `btPolarDecomposition::decompose(btMatrix3x3 const&, btMatrix3x3&, btMatrix3x3&) const'
btSoftBody.cpp:(.text+0x2003): undefined reference to `btPolarDecomposition::btPolarDecomposition(float, unsigned int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBody.o): In function `btSoftBody::updateClusters()':
btSoftBody.cpp:(.text+0xc154): undefined reference to `btPolarDecomposition::decompose(btMatrix3x3 const&, btMatrix3x3&, btMatrix3x3&) const'
btSoftBody.cpp:(.text+0xcc33): undefined reference to `btPolarDecomposition::btPolarDecomposition(float, unsigned int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o): In function `btSoftBodyRigidBodyCollisionConfiguration::~btSoftBodyRigidBodyCollisionConfiguration()':
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0x9d): undefined reference to `btDefaultCollisionConfiguration::~btDefaultCollisionConfiguration()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o): In function `btSoftBodyRigidBodyCollisionConfiguration::btSoftBodyRigidBodyCollisionConfiguration(btDefaultCollisionConstructionInfo const&)':
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0xdb): undefined reference to `btDefaultCollisionConfiguration::btDefaultCollisionConfiguration(btDefaultCollisionConstructionInfo const&)'
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0x26a): undefined reference to `btDefaultCollisionConfiguration::~btDefaultCollisionConfiguration()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o): In function `btSoftBodyRigidBodyCollisionConfiguration::~btSoftBodyRigidBodyCollisionConfiguration()':
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0x92): undefined reference to `btDefaultCollisionConfiguration::~btDefaultCollisionConfiguration()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o): In function `btSoftBodyRigidBodyCollisionConfiguration::getCollisionAlgorithmCreateFunc(int, int)':
btSoftBodyRigidBodyCollisionConfiguration.cpp:(.text+0x2d3): undefined reference to `btDefaultCollisionConfiguration::getCollisionAlgorithmCreateFunc(int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o):(.rodata._ZTI41btSoftBodyRigidBodyCollisionConfiguration[_ZTI41btSoftBodyRigidBodyCollisionConfiguration]+0x10): undefined reference to `typeinfo for btDefaultCollisionConfiguration'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyRigidBodyCollisionConfiguration.o):(.rodata._ZTV41btSoftBodyRigidBodyCollisionConfiguration[_ZTV41btSoftBodyRigidBodyCollisionConfiguration]+0x38): undefined reference to `btDefaultCollisionConfiguration::getClosestPointsAlgorithmCreateFunc(int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftRigidCollisionAlgorithm.o): In function `btSoftRigidCollisionAlgorithm::btSoftRigidCollisionAlgorithm(btPersistentManifold*, btCollisionAlgorithmConstructionInfo const&, btCollisionObjectWrapper const*, btCollisionObjectWrapper const*, bool)':
btSoftRigidCollisionAlgorithm.cpp:(.text+0xc0): undefined reference to `btCollisionAlgorithm::btCollisionAlgorithm(btCollisionAlgorithmConstructionInfo const&)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::serialize(btSerializer*)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x9ab): undefined reference to `btDiscreteDynamicsWorld::serializeDynamicsWorldInfo(btSerializer*)'
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x9d1): undefined reference to `btDiscreteDynamicsWorld::serializeRigidBodies(btSerializer*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::~btSoftMultiBodyDynamicsWorld()':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0xb26): undefined reference to `btMultiBodyDynamicsWorld::~btMultiBodyDynamicsWorld()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::btSoftMultiBodyDynamicsWorld(btDispatcher*, btBroadphaseInterface*, btMultiBodyConstraintSolver*, btCollisionConfiguration*, btSoftBodySolver*)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0xb87): undefined reference to `btMultiBodyDynamicsWorld::btMultiBodyDynamicsWorld(btDispatcher*, btBroadphaseInterface*, btMultiBodyConstraintSolver*, btCollisionConfiguration*)'
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x1159): undefined reference to `btMultiBodyDynamicsWorld::~btMultiBodyDynamicsWorld()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::predictUnconstraintMotion(float)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x118f): undefined reference to `btDiscreteDynamicsWorld::predictUnconstraintMotion(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::internalSingleStepSimulation(float)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x1253): undefined reference to `btDiscreteDynamicsWorld::internalSingleStepSimulation(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::debugDrawWorld()':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x156e): undefined reference to `btDiscreteDynamicsWorld::debugDrawWorld()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::~btSoftMultiBodyDynamicsWorld()':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0xae5): undefined reference to `btMultiBodyDynamicsWorld::~btMultiBodyDynamicsWorld()'
btSoftMultiBodyDynamicsWorld.cpp:(.text+0xb0f): undefined reference to `btMultiBodyDynamicsWorld::~btMultiBodyDynamicsWorld()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btSoftMultiBodyDynamicsWorld::removeCollisionObject(btCollisionObject*)':
btSoftMultiBodyDynamicsWorld.cpp:(.text+0x14da): undefined reference to `btDiscreteDynamicsWorld::removeCollisionObject(btCollisionObject*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o): In function `btDiscreteDynamicsWorld::updateVehicles(float)':
btSoftMultiBodyDynamicsWorld.cpp:(.text._ZN23btDiscreteDynamicsWorld14updateVehiclesEf[_ZN23btDiscreteDynamicsWorld14updateVehiclesEf]+0x1): undefined reference to `btDiscreteDynamicsWorld::updateActions(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTI28btSoftMultiBodyDynamicsWorld[_ZTI28btSoftMultiBodyDynamicsWorld]+0x10): undefined reference to `typeinfo for btMultiBodyDynamicsWorld'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x58): undefined reference to `btDiscreteDynamicsWorld::addCollisionObject(btCollisionObject*, int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x78): undefined reference to `btDiscreteDynamicsWorld::stepSimulation(float, int, float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x80): undefined reference to `btDiscreteDynamicsWorld::addConstraint(btTypedConstraint*, bool)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x88): undefined reference to `btDiscreteDynamicsWorld::removeConstraint(btTypedConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x90): undefined reference to `btDiscreteDynamicsWorld::addAction(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x98): undefined reference to `btDiscreteDynamicsWorld::removeAction(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xa0): undefined reference to `btDiscreteDynamicsWorld::setGravity(btVector3 const&)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xa8): undefined reference to `btDiscreteDynamicsWorld::getGravity() const'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xb0): undefined reference to `btDiscreteDynamicsWorld::synchronizeMotionStates()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xb8): undefined reference to `btDiscreteDynamicsWorld::addRigidBody(btRigidBody*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xc0): undefined reference to `btDiscreteDynamicsWorld::addRigidBody(btRigidBody*, int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xc8): undefined reference to `btDiscreteDynamicsWorld::removeRigidBody(btRigidBody*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xd0): undefined reference to `btDiscreteDynamicsWorld::setConstraintSolver(btConstraintSolver*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xd8): undefined reference to `btDiscreteDynamicsWorld::getConstraintSolver()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xe0): undefined reference to `btDiscreteDynamicsWorld::getNumConstraints() const'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xe8): undefined reference to `btDiscreteDynamicsWorld::getConstraint(int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0xf0): undefined reference to `btDiscreteDynamicsWorld::getConstraint(int) const'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x100): undefined reference to `btMultiBodyDynamicsWorld::clearForces()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x108): undefined reference to `btDiscreteDynamicsWorld::addVehicle(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x110): undefined reference to `btDiscreteDynamicsWorld::removeVehicle(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x118): undefined reference to `btDiscreteDynamicsWorld::addCharacter(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x120): undefined reference to `btDiscreteDynamicsWorld::removeCharacter(btActionInterface*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x130): undefined reference to `btMultiBodyDynamicsWorld::integrateTransforms(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x138): undefined reference to `btMultiBodyDynamicsWorld::calculateSimulationIslands()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x140): undefined reference to `btMultiBodyDynamicsWorld::solveConstraints(btContactSolverInfo&)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x148): undefined reference to `btMultiBodyDynamicsWorld::updateActivationState(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x158): undefined reference to `btDiscreteDynamicsWorld::createPredictiveContacts(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x160): undefined reference to `btDiscreteDynamicsWorld::saveKinematicState(float)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x168): undefined reference to `btDiscreteDynamicsWorld::debugDrawConstraint(btTypedConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x170): undefined reference to `btMultiBodyDynamicsWorld::applyGravity()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x188): undefined reference to `btMultiBodyDynamicsWorld::serializeMultiBodies(btSerializer*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x190): undefined reference to `btMultiBodyDynamicsWorld::addMultiBody(btMultiBody*, int, int)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x198): undefined reference to `btMultiBodyDynamicsWorld::removeMultiBody(btMultiBody*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1a8): undefined reference to `btMultiBodyDynamicsWorld::addMultiBodyConstraint(btMultiBodyConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1c8): undefined reference to `btMultiBodyDynamicsWorld::removeMultiBodyConstraint(btMultiBodyConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1d0): undefined reference to `btMultiBodyDynamicsWorld::debugDrawMultiBodyConstraint(btMultiBodyConstraint*)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1d8): undefined reference to `btMultiBodyDynamicsWorld::clearMultiBodyConstraintForces()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftMultiBodyDynamicsWorld.o):(.rodata._ZTV28btSoftMultiBodyDynamicsWorld[_ZTV28btSoftMultiBodyDynamicsWorld]+0x1e0): undefined reference to `btMultiBodyDynamicsWorld::clearMultiBodyForces()'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftSoftCollisionAlgorithm.o): In function `btSoftSoftCollisionAlgorithm::btSoftSoftCollisionAlgorithm(btPersistentManifold*, btCollisionAlgorithmConstructionInfo const&, btCollisionObjectWrapper const*, btCollisionObjectWrapper const*)':
btSoftSoftCollisionAlgorithm.cpp:(.text+0x58): undefined reference to `btCollisionAlgorithm::btCollisionAlgorithm(btCollisionAlgorithmConstructionInfo const&)'
../../src/BulletSoftBody/libBulletSoftBody.a(btSoftBodyConcaveCollisionAlgorithm.o): In function `btSoftBodyConcaveCollisionAlgorithm::btSoftBodyConcaveCollisionAlgorithm(btCollisionAlgorithmConstructionInfo const&, btCollisionObjectWrapper const*, btCollisionObjectWrapper const*, bool)':
btSoftBodyConcaveCollisionAlgorithm.cpp:(.text+0x15a8): undefined reference to `btCollisionAlgorithm::btCollisionAlgorithm(btCollisionAlgorithmConstructionInfo const&)'
collect2: error: ld returned 1 exit status
examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory.dir/build.make:1456: recipe for target 'examples/SharedMemory/App_PhysicsServer_SharedMemory' failed
make[2]: *** [examples/SharedMemory/App_PhysicsServer_SharedMemory] Error 1
CMakeFiles/Makefile2:631: recipe for target 'examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory.dir/all' failed
make[1]: *** [examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory.dir/all] Error 2
Makefile:138: recipe for target 'all' failed
make: *** [all] Error 2
```",function clone clone undefined reference undefined reference float unsigned function undefined reference undefined reference float unsigned function undefined reference function undefined reference undefined reference function undefined reference function undefined reference undefined reference undefined reference function bool undefined reference function undefined reference undefined reference function undefined reference function undefined reference undefined reference function float undefined reference float function float undefined reference float function undefined reference function undefined reference undefined reference function undefined reference function float undefined reference float undefined reference undefined reference undefined reference float float undefined reference bool undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference float undefined reference undefined reference undefined reference float undefined reference float undefined reference float undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference undefined reference function undefined reference function bool undefined reference collect error returned exit status recipe target make error recipe target make error recipe target make error,issue,negative,neutral,neutral,neutral,neutral,neutral
363627153,Thanks for the contribution.  It is useful to create some 'experimental' APIs for soft body. I'll look at it soon and give some feedback.,thanks contribution useful create soft body look soon give feedback,issue,positive,positive,positive,positive,positive,positive
363603818,"Yes, only commit logs.

On Feb 6, 2018 2:10 PM, ""Dmitry Koteroff"" <notifications@github.com> wrote:

@erwincoumans <https://github.com/erwincoumans> any advice? or there is no
more changelogs for bullets, only github commits history?

—
You are receiving this because you were mentioned.

Reply to this email directly, view it on GitHub
<https://github.com/bulletphysics/bullet3/issues/1541#issuecomment-363581942>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AAsR3H6q7u86ZoC1vuqoIVnP4Z4MYAuTks5tSM3OgaJpZM4R0kMw>
.
",yes commit wrote advice history reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
362931668,"@benelot 

```python
import gym

class TestEnv(gym.Env):

  def _step(self, action):
    return None, None, None, None

  def _reset(self):
    return None


env = TestEnv()
env.reset()
```

This raises the following:

```
Traceback (most recent call last):
  File ""test.py"", line 13, in <module>
    env.reset()
  File ""python3.6/site-packages/gym/core.py"", line 70, in reset
    raise NotImplementedError
NotImplementedError
```

By changing this to the following:
```python
import gym

class TestEnv(gym.Env):

  def _step(self, action):
    return None, None, None, None

  def _reset(self):
    return None

  step = _step
  reset = _reset

env = TestEnv()
env.reset()
```

No longer causes issues, and supports backwards compatibility (AFAIK)",python import gym class self action return none none none none self return none following recent call last file line module file line reset raise following python import gym class self action return none none none none self return none step reset longer backwards compatibility,issue,negative,positive,neutral,neutral,positive,positive
362931357,"@benelot there was gym support before this, for gym version < 0.9.x, please see this [https://github.com/openai/gym/releases/tag/v0.9.6](https://github.com/openai/gym/releases/tag/v0.9.6) 

More specifically, 

> Now your Env and Wrapper subclasses should define step, reset, render, close, seed rather than underscored method names.",gym support gym version please see specifically wrapper define step reset render close seed rather method,issue,positive,neutral,neutral,neutral,neutral,neutral
362931129,"In what way was there no pybullet support for gym before this? I do not see yet, what were the crucial changes.",way support gym see yet crucial,issue,negative,neutral,neutral,neutral,neutral,neutral
362918912,"@erwincoumans can these changes be verified by the CI, I assume it's difficult and may not be necessary (i.e. using 2 version of `gym`)? Or is there one for the module?",assume difficult may necessary version gym one module,issue,negative,negative,negative,negative,negative,negative
362918706,"@erwincoumans I appreciate the response. 

I made the decision to add ""proxy"" methods _on-top-of_ the original `gym < 0.9.x` methods that cause issues when adapting `>= v0.9.x`, where the `_step, _reset, _etc.` methods are not just depreciated, they are removed and replaced with `step, reset, etc.`. 

I believe if developers adapt this ""proxy"" methodology, versions `< 0.9.x AND >= 0.9.x` will be supported and maintained without a problem or further changes.

And yes, I will remove the white space changes :)",appreciate response made decision add proxy original gym cause removed step reset believe adapt proxy methodology without problem yes remove white space,issue,positive,positive,positive,positive,positive,positive
362918120,"Thanks for the contribution.
>> Backwards compatibility for gym < v0.9.x is maintained without any major changes.

What does 'without major changes' mean?
Does this make pybullet incompatible with older Gym versions (pre- 0.9.5)?

Can you re-do the pull request without the white-space changes?",thanks contribution backwards compatibility gym without major major mean make incompatible older gym pull request without,issue,negative,positive,neutral,neutral,positive,positive
362732412,"👍 thanks a lot  for all of the help!

I’ll try this next week.",thanks lot help try next week,issue,positive,positive,neutral,neutral,positive,positive
362731647,"You need to define BT_USE_EGL in your build system, and make it all compile again. I don't have time to dig into this right now.",need define build system make compile time dig right,issue,negative,positive,positive,positive,positive,positive
362731387,EGLOpenGLWindow is based on GUI mode. No need to 'reduce' anything.,based mode need anything,issue,negative,neutral,neutral,neutral,neutral,neutral
362728229,"Is this implementation based on the GUI connection mode (examplebrowser without examplebrowser) or SHARED_MEMORY (App_PhysicsServer_SharedMemory).

If it would be possible to make this option available (on github) that would be very helpful for me and others too.

Edit: Otherwise I'll try to take a stab at this by reducing OpenGLExampleBrowser.cpp",implementation based connection mode without would possible make option available would helpful edit otherwise try take stab reducing,issue,negative,positive,positive,positive,positive,positive
362723966,There is already some implementation using [EGLOpenGLWindow](https://github.com/bulletphysics/bullet3/blob/master/examples/OpenGLWindow/EGLOpenGLWindow.cpp). We used this internally in Google in the cloud. It will open a context using EGL (not X11) and the window is not visible. What is your target platform?,already implementation used internally cloud open context window visible target platform,issue,negative,neutral,neutral,neutral,neutral,neutral
362723534,"Ok, I'll try to add a method for GUI not to open an examplebrowser window. This would allow training.",try add method open window would allow training,issue,negative,neutral,neutral,neutral,neutral,neutral
362723439,"Things are already parallelized, physics runs in a separate thread from graphics.

Rendering + readback GPU is around 2.5 ms. I wouldn't waste time going from 4ms to 2.5ms, hence take 280FPS as your target. You cannot ignore the readback and copy of pixels.
",already physic separate thread graphic rendering around would waste time going hence take target ignore copy,issue,negative,negative,neutral,neutral,negative,negative
362723052,"So in your last post on the image ""Rendering"" -> getCameraImage and ""Render2"" ->BulletExampleBrowser.

4ms? there's only like .4ms of real rendering in there. How do I parallelize rendering/physics? :rocket:  :grin: 
",last post image rendering render like real rendering parallelize rocket grin,issue,positive,positive,neutral,neutral,positive,positive
362723026,">> 1. DIRECT connection mode does not use GPU rendering.

Indeed. DIRECT  means each PyBullet call is directly process in the same thread, using purely CPU (=TinyRenderer at the moment).

>> 2. The one thread per bullet instance constraint for GUI / DIRECT is
satisfied if I run bullet instances in separate processes using
`multiprocessing.Process` as done by SubprocVecEnv.

Yes, if you use separate processes, you can use multiple examplebrowsers / GUI mode.

>> 3.  What FPS are you getting for getting for BulletExampleBrowser w/
and w/o preview windows. (edit: this was answered, thanks)

Around 280 FPS, which is pretty good.

>> 4. The fastest solution would probably be to write a TF GPU Op which uses
cuda's OpenGL Interoperability API to do a OpenGL->TF copy. This is a bit
advanced for me, but cursory googling suggest this would require sharing
OpenGL contexts between processes via GLX_EXT_import_context.

Yes, this would require a lot of effort.

",direct connection mode use rendering indeed direct call directly process thread purely moment one thread per bullet instance constraint direct satisfied run bullet separate done yes use separate use multiple mode getting getting preview edit thanks around pretty good solution would probably write copy bit advanced cursory suggest would require via yes would require lot effort,issue,positive,positive,positive,positive,positive,positive
362718358,"Hi Erwin,

thanks for the quick reply. From what I understand:

1. DIRECT connection mode does not use GPU rendering.
2. The one thread per bullet instance constraint for GUI / DIRECT is
satisfied if I run bullet instances in separate processes using
`multiprocessing.Process` as done by SubprocVecEnv.
3.  What FPS are you getting for getting for BulletExampleBrowser w/
and w/o preview windows. (edit: this was answered, thanks)
4. The fastest solution would probably be to write a TF GPU Op which uses
cuda's OpenGL Interoperability API to do a OpenGL->TF copy. This is a bit
advanced for me, but cursory googling suggest this would require sharing
OpenGL contexts between processes via GLX_EXT_import_context.

Best, Max

On Fri, Feb 2, 2018 at 8:53 PM, erwincoumans <notifications@github.com>
wrote:

> The preview windows in the BulletExampleBrowser (GUI, SHARED_MEMORY etc)
> takes some time too. You can make it faster (when using
> renderer=ER_BULLET_HARDWARE_OPENGL) by disabling them:
>
>  optionstring='--width={} --height={}'.format(pixelWidth,pixelHeight)
>
>         cid = pybullet.connect(self.connection_mode, options=optionstring,*self.argv)
>         if cid < 0:
>             raise ValueError
>         print(""connected"")
>         pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_GUI,0)
>         pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_SEGMENTATION_MARK_PREVIEW,0)
>         pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_DEPTH_BUFFER_PREVIEW,0)
>         pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_RGB_BUFFER_PREVIEW,0)
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1545#issuecomment-362704115>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ABw8h_e0DRRO_vpViDaXEevT_Kk9WhJmks5tQ3XLgaJpZM4R3gZZ>
> .
>
",hi thanks quick reply understand direct connection mode use rendering one thread per bullet instance constraint direct satisfied run bullet separate done getting getting preview edit thanks solution would probably write copy bit advanced cursory suggest would require via best wrote preview time make faster raise print connected thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
362704115,"The preview windows in the BulletExampleBrowser (GUI, SHARED_MEMORY etc) takes some time too. You can make it faster (when using renderer=ER_BULLET_HARDWARE_OPENGL) by disabling them:

~~~~~~~~
 optionstring='--width={} --height={}'.format(pixelWidth,pixelHeight)
        
        cid = pybullet.connect(self.connection_mode, options=optionstring,*self.argv)
        if cid < 0:
            raise ValueError
        print(""connected"")
        pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_GUI,0)
        pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_SEGMENTATION_MARK_PREVIEW,0)
        pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_DEPTH_BUFFER_PREVIEW,0)
        pybullet.configureDebugVisualizer(pybullet.COV_ENABLE_RGB_BUFFER_PREVIEW,0)
~~~~~~~~
With this, I get around 280FPS using GTX 1080. It could be further optimized from 4ms to 2ms with a lot of work.

![image](https://user-images.githubusercontent.com/725468/35754521-981339d4-0818-11e8-8a9f-a13f6078c2eb.png)
",preview time make faster raise print connected get around could lot work image,issue,negative,neutral,neutral,neutral,neutral,neutral
362674334,"You cannot easily train in GUI or SHARED_MEMORY mode unless you only have 1 thread. You could just use DIRECT mode and TinyRenderer. Apparently, rendering the ground plane takes most time (try removing the loadURDF(""plane.urdf"") ).  TinyRenderer hasn't been optimized.

>> https://www.youtube.com/watch?v=__ilQzkPDNI

Yes, this example runs over 1000FPS, but there is no 'getCameraImage' used: most of the locomotion RL tasks don't use vision/camera.

>> roboschool rendering 

That won't help, Bullet's own OpenGL renderer is likely faster than roboschool's one. Time is currently going into other parts, see screenshot below.

When in GUI / hardware OpenGL mode, the pixels are copied from the main window. Resizing it to match the requested camera image dimensions helps. Also disable the GUI (= buttons etc). See attached updated version.
[rendertest.zip](https://github.com/bulletphysics/bullet3/files/1690473/rendertest.zip)

Multi-GPU setups are a hassle indeed, can you just take out the GPU?
See also https://github.com/bulletphysics/bullet3/pull/1481


>>setJointMotorControlArray input variable linkIndices should be jointIndices.

Thanks, fixed

>> btCollisionShape::setMargin 

No, setMargin is not exposed, it is not consistently implemented for various shapes, and would cause confusion. Why would you need/want it?

Later this year we will use vision/synthetic camera and likely optimize the 'getCameraImage' implementation. Note that very little time is currently spend in rendering (less than 200 microseconds on my 1080), it is mainly copying data / waiting that makes is several milliseconds.

When you run my updated script, there is additional performance logging. The renderTimings.json can be opened in Google Chrome using about://tracing.

![image](https://user-images.githubusercontent.com/725468/35749901-f70aa546-0807-11e8-9a70-62239c36c63e.png)
",easily train mode unless thread could use direct mode apparently rendering ground plane time try removing yes example used locomotion use rendering wo help bullet renderer likely faster one time currently going see hardware mode copied main window match camera image also disable button see attached version hassle indeed take see also input variable thanks fixed exposed consistently various would cause confusion would later year use camera likely optimize implementation note little time currently spend rendering le mainly data waiting several run script additional performance logging chrome image,issue,positive,positive,neutral,neutral,positive,positive
362658703,"PyBullet.getClosestPoints gives the closest points, normal and signed distance, no workaround needed.
Read the PyBullet Quickstart Guide for details of the output of getClosestPoints",normal distance read guide output,issue,negative,positive,positive,positive,positive,positive
362648396,"Also: 

1. In the pybullet documentation google doc the setJointMotorControlArray input variable linkIndices should be jointIndices.
2. Should a way to access btCollisionShape::setMargin from pybullet be added?

",also documentation doc input variable way access added,issue,negative,neutral,neutral,neutral,neutral,neutral
362633816,"From the documentation, I can see that, method rayTest returns collision information such as hit normal, hit position etc. But, I need same information along with signed(separation or penetration) distance, how we get it from getClosestPoints method around certain distance, incase of no collision.

Is there any workaround to get similar results?

Please help me with this. 
",documentation see method collision information hit normal hit position need information along separation penetration distance get method around certain distance incase collision get similar please help,issue,negative,positive,positive,positive,positive,positive
362579995,"It is complete: in the root dir use 
(sudo) python setup.py install 
or (sudo) pip install pybullet
no need for cmake or premake for pybullet

If there are any pybullet function calls missing, please list them and re-open.",complete root use python install pip install need premake function missing please list,issue,negative,negative,neutral,neutral,negative,negative
362483487,"Thanks.

Thanks a bunch Erwin. Will double check again with Algo.
I was able to train hopper with updated pybullet https://youtu.be/A_JkodPVxjQ

I will run the algorithm on other environments again and report.",thanks thanks bunch double check able train hopper run algorithm report,issue,positive,positive,positive,positive,positive,positive
362375122,">>The environment fails to detect that the cheetah's head has crashed onto the ground.

This doesn't seem to be true. I just tested enjoy_TF_HalfCheetahBulletEnv_v0_2017may.py and added a print. The collision between head and ground is correctly reported. Also, we can train Ant, Cheetah etc just fine. 

It could be an error in your training algorithm? Note that those environments are harder to train than plain Gym/Mujoco versions.

If you still think that there is a real issue with the environments, please provide a simple repro case that shows the issue.",environment detect cheetah head onto ground seem true tested added print collision head ground correctly also train ant cheetah fine could error training algorithm note harder train plain still think real issue please provide simple case issue,issue,negative,positive,positive,positive,positive,positive
362327245,Nope. I don't have point clouds as such. All I have is two joint angles(samples) corresponding to a link of a trajectory. Now I need to find a closest point between the convexhull formed between two successive sample points of that link with a nearby obstacle.,nope point two joint corresponding link trajectory need find point formed two successive sample link nearby obstacle,issue,negative,neutral,neutral,neutral,neutral,neutral
362323342,You can store a convex point cloud as an .obj or .stl file. Then create a URDF file that points to the obj file. See all the examples in PyBullet and the data folder.,store convex point cloud file create file file see data folder,issue,negative,positive,positive,positive,positive,positive
362322949,"Please use plain pybullet, we don't give Qt support.",please use plain give support,issue,positive,negative,negative,negative,negative,negative
362307001,This was fixed yesterday (see https://github.com/bulletphysics/bullet3/pull/1540/commits/cb0e7404221b92cfb85ba2765a20342b9f69a026) can you do an update?,fixed yesterday see update,issue,negative,positive,neutral,neutral,positive,positive
362288972,"I just found that, everthying works as expected when instantiating the simulationWorld before,
     app = QtGui.QApplication(sys.argv)
but not doesn't work, after the above statement.
",found work work statement,issue,negative,neutral,neutral,neutral,neutral,neutral
361506182,"Hi, I am totally interested at some point. Do you have MuJoCo as well? I
need an agent trained on a MuJoCo env and if possible a trace of the
position of one/all limbs at each time. Then I can plot that in a debug
view to see where and possibly why it differs.

On Mon, Jan 29, 2018, 23:02 Fit Machine Learning <notifications@github.com>
wrote:

> Awesome.
> I am going through your repos and I can see it there.
> Let me know if you are looking for someone to test them out.
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1537#issuecomment-361402091>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q3LMuqyKblupweBFj_QV1jE96iT7ks5tPj_vgaJpZM4RvYyC>
> .
>
",hi totally interested point well need agent trained possible trace position time plot view see possibly mon fit machine learning wrote awesome going see let know looking someone test reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
361402091,"Awesome. 
I am going through your repos and I can see it there. 
Let me know if you are looking for someone to test them out.",awesome going see let know looking someone test,issue,positive,positive,positive,positive,positive,positive
361395393,"I am already working on porting them over. It takes some experience to do
it properly, that is why I am not sure if a coding contest could do it.
Thanks for the feedback, it is highly appreciated.

On Mon, Jan 29, 2018 at 6:19 PM Fit Machine Learning <
notifications@github.com> wrote:

> Thanks a bunch Ben.
>
> One other thing to note is that there seems to be a problem with the
> efficiency-dependant reward allocation.
>
> Algorithms agent tend to freeze into some algorithm-independent mediocre
> state. This does not happen with the same algorithms on different
> continuous control environments.
>
> So far I have observed this problem on HalfCheetah, Ant, Hopper.
> Hopper has additional termination issues where the episode would suddenly
> terminate when the agent is in the air .
>
> It might be worthwhile, as Erwin suggests, to port over the Mujoco
> versions.
> Or maybe have a coding contest.
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1537#issuecomment-361318595>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q-7SNrV2vYM4Ny9mDQjn0tfrIFh5ks5tPf27gaJpZM4RvYyC>
> .
>
",already working experience properly sure contest could thanks feedback highly mon fit machine learning wrote thanks bunch ben one thing note problem reward allocation agent tend freeze mediocre state happen different continuous control far problem ant hopper hopper additional termination episode would suddenly terminate agent air might port maybe contest reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
361318595,"Thanks a bunch Ben.

One other thing to note is that there seems to be a problem with the efficiency-dependant reward allocation. 

Algorithms agent tend to freeze into some algorithm-independent mediocre state. This does not happen with the same algorithms on different continuous control environments.

So far I have observed this problem on HalfCheetah, Ant, Hopper. 
Hopper has additional termination issues where the episode would suddenly terminate when the agent is in the air .

It might be worthwhile, as Erwin suggests, to port over the Mujoco versions.
Or maybe have a coding contest.",thanks bunch ben one thing note problem reward allocation agent tend freeze mediocre state happen different continuous control far problem ant hopper hopper additional termination episode would suddenly terminate agent air might port maybe contest,issue,negative,negative,neutral,neutral,negative,negative
361174349,"Thanks for the quick reply. I haven't been in office until now, but with the changing of:

```python
p.changeDynamics(plane,-1,restitution=.97)
p.changeDynamics(sphere,-1,restitution=1., linearDamping = 1e-5, angularDamping = 1e-5)
```
 I have been able to produce a stable energy level for both the ""sphere2.urdf"" and ""ball-e.urdf"" models.

",thanks quick reply office python plane sphere able produce stable energy level,issue,positive,positive,positive,positive,positive,positive
361153339,"I will look into this in case there should be a termination upon hitting
ground.

On Sat, Jan 27, 2018 at 9:01 PM erwincoumans <notifications@github.com>
wrote:

> This Half Cheetah is a conversion by Benjamin from the original Roboschool
> Half Cheetah.
> Does that original environment have any collision check with the ground as
> termination?
> https://github.com/openai/roboschool/tree/master/roboschool
> At some stage, I'd like to see a PyBullet conversion from the Mujoco Half
> Cheetah (and other envs) instead of the harder/modified Roboschool
> environments.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1537#issuecomment-361011032>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q_5CzwQNGh5H6yitFnE9Ab6WB3OLks5tO4B_gaJpZM4RvYyC>
> .
>
",look case termination upon ground sat wrote half cheetah conversion benjamin original half cheetah original environment collision check ground termination stage like see conversion half cheetah instead thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
361120396,"well, 'N' stands for centripetal, Coriolis and gravity forces, '\tao' stands for user force, '\lamda' stands for constraint forces
i want to use this matrix to do inverse dynamic QP optimization for control purpose.",well centripetal gravity user force constraint want use matrix inverse dynamic optimization control purpose,issue,positive,neutral,neutral,neutral,neutral,neutral
361094778,"Yes, and the build system is not behind at all.
Using premake, you can switch between 32bit and 64bit in Visual Studio, which is recommended. Just click on build_visual_studio_vr_pybullet_double.bat and open the generated solution.
Using cmake, you can pick 64bit when creating the visual studio project.
The build_visual_studio_vr_pybullet_double_cmake.bat batch file creates 64bit project and open the generated solution.
",yes build system behind premake switch bit bit visual studio click open solution pick bit visual studio project batch file bit project open solution,issue,positive,negative,neutral,neutral,negative,negative
361092909,Yes it does. Just the build systems is a little behind.,yes build little behind,issue,negative,negative,negative,negative,negative,negative
361011032,"I'm not familiar with any of the reward or termination functions of those environments. It could be intentional, just train longer and the learning algorithm with figure out not to bump the Half Cheetah into the ground.

This Half Cheetah is a conversion by Benjamin from the original Roboschool Half Cheetah. 
Does that original environment have any collision check with the ground as termination?
https://github.com/openai/roboschool/blob/master/roboschool/gym_mujoco_walkers.py#L32

PyBullet HalfCheetah:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/robot_locomotors.py#L108 

The comment seems to suggest that 
""Use contact other than feet to terminate episode: due to a lot of strange walks using knees""
We need to track down how the mechanism is supposed to work exactly. 
Do you want to help with this?

At some stage, I'd like to see a PyBullet conversion from the Mujoco Half Cheetah (and other envs) instead of the harder/modified Roboschool environments.",familiar reward termination could intentional train longer learning algorithm figure bump half cheetah ground half cheetah conversion benjamin original half cheetah original environment collision check ground termination comment suggest use contact terminate episode due lot strange need track mechanism supposed work exactly want help stage like see conversion half cheetah instead,issue,positive,positive,neutral,neutral,positive,positive
360905213,"Thanks, looks good to me. I'll update the pypi repo version soon.",thanks good update version soon,issue,positive,positive,positive,positive,positive,positive
360824812,"There is some default damping active for multibodies, you can disable it using 
PyBullet.changeDynamics(obUid, -1, linearDamping=0, angularDamping=0

The splitImpulse option is not implemented for multibody, so the error recovery will impact the energy/restitution. If you load the plane and sphere using the 'useMaximalCoordinates=True' option in loadURDF, the splitImpulse can be enabled.

Also, the ball-e.urdf is missing. Can you use the existing sphere2.urdf or attached a zipped version here?",default damping active disable option error recovery impact load plane sphere option also missing use attached version,issue,negative,negative,negative,negative,negative,negative
360823151,"There is a PyBullet.getConnectionInfo for that, see [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3), it also provides the connection type.",see guide also connection type,issue,negative,neutral,neutral,neutral,neutral,neutral
360819799,"As described in the [PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3), PyBullet provides a function to calculate the mass matrix M, calculateMassMatrix, and Jacobian, calculateJacobian. There is an example for calculateJacobian here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/jacobian.py

There is also a [calculateInverseDynamics](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_dynamics.py) and a [calculateInverseKinematics](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_kinematics.py) with example:


Presumably the 'N' stands for Coriolis and centrifugal terms? Those are not exposed at the moment. Does 'S' stand for user forces? Some link/info about the variable names and what/why you need it would help.",guide function calculate mass matrix example also example presumably centrifugal exposed moment stand user variable need would help,issue,negative,neutral,neutral,neutral,neutral,neutral
360505568,"That baselines line shouldn't be there. For the time being, try use pip install baselines?",line time try use pip install,issue,negative,neutral,neutral,neutral,neutral,neutral
360395904,"Wow, thanks for working on this! I did not realize there were clamps on the
humanoids. But it actually makes sense, since it is much easier for larger
robots to control the motors with a simulated maximum output.

On Thu, Jan 25, 2018 at 6:30 AM erwincoumans <notifications@github.com>
wrote:

> After days tracking down some bug in the Humanoid/Flagrun/Harder envs, it
> works now.
> #1524 <https://github.com/bulletphysics/bullet3/pull/1524> and
> https://www.youtube.com/watch?v=rMSWKdTiFAo
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-360365222>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q0R5Cr02htA4Qzu56JlKvSNh754Aks5tOBFZgaJpZM4PNUdu>
> .
>
",wow thanks working realize actually sense since much easier control maximum output wrote day bug work thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
360341671,"This PR will improve the environment and add the zipfile. At the moment, the zipfile needs to be manually extracted first. When I have time, I add zip reading in PyBullet.
https://github.com/bulletphysics/bullet3/pull/1524
See also a Youtube video of your environment in action:
https://www.youtube.com/watch?v=y7scmgsGQdA&feature=youtu.be",improve environment add moment need manually extracted first time add zip reading see also video environment action,issue,negative,positive,positive,positive,positive,positive
360196246,"Thanks for the fix, @erwincoumans . I'll report back once I've tried it. ",thanks fix report back tried,issue,negative,positive,neutral,neutral,positive,positive
360142029,"Note that VR has only been tested on Windows, but it may work on Mac OSX. Please report back if/when you tried it. Intel(R) Iris(TM) Graphics 6100 Won't give you a smooth VR experience.",note tested may work mac please report back tried iris graphic wo give smooth experience,issue,negative,positive,positive,positive,positive,positive
360141729,"Yes, it was a regression, thanks for reporting.
It will be fixed with this upcoming PR:
https://github.com/bulletphysics/bullet3/pull/1524",yes regression thanks fixed upcoming,issue,positive,positive,positive,positive,positive,positive
360092381,"I can confirm I experience the same issue. It must have been introduced in some recent commits, because if I check out an older version (I tested 7118470eb6e4da60ae8c3009655bb2c3548b1c98) it works perfectly. ",confirm experience issue must recent check older version tested work perfectly,issue,positive,positive,positive,positive,positive,positive
359732218,"Right, that is a typo indeed. It seems that the renaming did not work there.

On Tue, Jan 23, 2018 at 10:25 AM Kim Heecheol <notifications@github.com>
wrote:

> It seems there was typo: BaseBulletEnv -> MJCFBaseBulletEnv
> ------------------------------
> You can view, comment on, or merge this pull request online at:
>
>   https://github.com/bulletphysics/bullet3/pull/1523
> Commit Summary
>
>    - [fixed] gym_manipulator_envs typo
>
> File Changes
>
>    - *M* examples/pybullet/gym/pybullet_envs/gym_manipulator_envs.py
>    <https://github.com/bulletphysics/bullet3/pull/1523/files#diff-0> (6)
>
> Patch Links:
>
>    - https://github.com/bulletphysics/bullet3/pull/1523.patch
>    - https://github.com/bulletphysics/bullet3/pull/1523.diff
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1523>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q2CBLg8d2DpfrSzsrnR0naPuFQyOks5tNaV8gaJpZM4RpU-S>
> .
>
",right typo indeed work tue kim wrote typo view comment merge pull request commit summary fixed typo file patch link thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
359270148,">> changeVisualShape some mysterious argument named shapeIndex is mentioned.

It is best to ignore this optional argument, since it is only experimental for some internal experiments in some of our project and not fully implemented (leave shapeIndex out or use -1). I updated the quickstart guide to explain this. This 'shapeIndex' is a way to identify which of the visual shapes you want to modify. Since URDF can have more than one (or zero) visual shapes per link, just an object unique id and link (=joint) index is not sufficient.

>> Also is it possible to change the shape of the object on the fly?

This is currently not possible: you have to remove the entire body and re-create it with the modifications. You can only change the RGBA color and texture currently. Since we don't have a large team working on this project we focus on our own needs. If you really need something, I recommend discussing it in this issue tracker.

@avikde: linkIndex == jointIndex, since each link has exactly one joint connecting it to the parent. We used linkIndex and jointIndex exchangeably since they are the same.",mysterious argument best ignore optional argument since experimental internal project fully leave use guide explain way identify visual want modify since one zero visual per link object unique id link index sufficient also possible change shape object fly currently possible remove entire body change color texture currently since large team working project focus need really need something recommend issue tracker since link exactly one joint parent used exchangeably since,issue,negative,positive,positive,positive,positive,positive
359251255,"I recently had the same problem, and (albeit in the C API), did something like this to find the shape ID

```cpp
	// Loop through all joints
	for (int i=0; i<numJoints; ++i) {
		b3GetJointInfo(kPhysClient, b3id, i, &jointInfo);
		if (jointInfo.m_jointName[0]) {
			jointNameToId[std::string(jointInfo.m_jointName)] = i;
			printf(""jointId=%d -> %s\n"", jointInfo.m_jointIndex, jointInfo.m_jointName);
		} else {
			continue;
		}
	}

// now loop through all the shapes
	b3VisualShapeInformation vsi;
	b3VisualShapeData *vsd;
	command = b3InitRequestVisualShapeInformation(kPhysClient, BODY_ID);
	statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
	b3GetVisualShapeInformation(kPhysClient, &vsi);
	printf(""numshapes = %d\n"", vsi.m_numVisualShapes);
	for (int i=0; i<vsi.m_numVisualShapes; ++i)
	{
		vsd = &vsi.m_visualShapeData[i];
		// m_linkIndex in this corresponds to the jointIndex above. 
		printf(""shapeId=%d -> jointId=%d\n"", i, vsd->m_linkIndex);
	}
```

By cross-referencing those, hopefully you have the right shape ID. I'm not confident this is right (especially since it's a little confusing to conflate linkIndex and jointIndex -- which the pybullet guide says to do on occasion).",recently problem albeit something like find shape id loop bid else continue loop command command hopefully right shape id confident right especially since little conflate guide occasion,issue,positive,positive,positive,positive,positive,positive
359197695,"Indeed, not all fields are supported, since MJCF is evolving and a very complex format compared to URDF. The MJCF parser is only tested with the files that ship with Bullet/Pybullet, those are from OpenAI Gym and Roboschool. It shouldn't be hard to adapt the DeepMind dm_control files. You could have a look at Bullet/data/mjcf and compare  the xml files. 'include' tag can be done manually by replacing the include line with the content of the included file. I didn't port light/camera, since it was not needed for our control tasks yet. Once I find some time, I'll check out dm_control and make the MJCF files load in PyBullet. Your help is appreciated.

I think the best approach is to fork https://github.com/deepmind/dm_control and add PyBullet support next to MuJoCo in the forked repository. The DeepMind dm_control seems more interesting than Gym.",indeed since complex format parser tested ship gym hard adapt could look compare tag done manually include line content included file port since control yet find time check make load help think best approach fork add support next forked repository interesting gym,issue,positive,positive,positive,positive,positive,positive
358697334,Let me know if there is anything else I can do to help!,let know anything else help,issue,negative,neutral,neutral,neutral,neutral,neutral
358697153,"Hi Erwin, thanks for the quick feedback. I updated the pull request to not include the random urdfs- If you have time to make the small changes, maybe that would be easier for me (I'm not sure what you mean exactly by the near plane). Thanks so much!",hi thanks quick feedback pull request include random time make small maybe would easier sure mean exactly near plane thanks much,issue,positive,positive,neutral,neutral,positive,positive
358602654,"Hello,

Using the information in your latest comment, I was able to fix all my problems and replicate the particular cartpole I had in Bullet. Thank you very much!

To do that, though, I have added parsing of the `damping` MJCF attribute into `m_jointDamping`, as in here https://github.com/rhaps0dy/bullet3/commit/6995995a0bfa5963d313c34043cf3bac41393e48. Would you be interested in a pull request with this, adding a `URDF_USE_DAMPING_FROM_FILE` or something?

Thank you for your excellent work and help, and sorry it's been such a long time.",hello information latest comment able fix replicate particular bullet thank much though added damping attribute would interested pull request something thank excellent work help sorry long time,issue,positive,positive,positive,positive,positive,positive
358478202,"![image](https://user-images.githubusercontent.com/6040760/35071794-eb4953cc-fbd9-11e7-805d-aa375ac97d24.png)

Example for dm_control's cartpole, the rails are not handled correctly. This might be due to some issues with handling zaxis.",image example handled correctly might due handling,issue,negative,negative,negative,negative,negative,negative
358475038,"When using numpy to compile PyBullet, it is not a flat array, see the code here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c#L6595",compile flat array see code,issue,negative,negative,neutral,neutral,negative,negative
358457868,"@erwincoumans I encountered some issues when importing the MJCF files from dm_control.
Some of the tags not yet supported:
- [ ] include
- [ ] light
- [ ] camera
- [ ] geom with type plane (it has really different rendering)
- [ ] zaxis does not seem to be handled correctly
I guess it would be a good idea to keep track of a list of these things not yet supported?

",yet include light camera type plane really different rendering seem handled correctly guess would good idea keep track list yet,issue,negative,positive,positive,positive,positive,positive
358393915,I think we can keep it as Robot. The thing I want to improve is to add ease when users want to customize their rewards and state representation.,think keep robot thing want improve add ease want state representation,issue,positive,neutral,neutral,neutral,neutral,neutral
358391748,"Wow, I find the name 'Physics' much more confusing that 'robot'. It seems dm_control 'Physics' is the python binding to MuJoCo, which implies it is similar to 'pybullet'?",wow find name much python binding similar,issue,positive,positive,positive,positive,positive,positive
358390322,"@erwincoumans I find the naming robot a bit confusing. After some digging, I think this sort of correspond to Physics in dm_control (https://github.com/deepmind/dm_control/blob/master/dm_control/mujoco/engine.py#L92).
@benelot I will make a prototype and ping you after that :D",find naming robot bit digging think sort correspond physic make prototype ping,issue,negative,neutral,neutral,neutral,neutral,neutral
358373317,"It seems that there are already wrappers for dm_control to be used with
gym. But that is definitely true, maybe we should rethink the naming there.

On Wed, Jan 17, 2018 at 5:19 PM erwincoumans <notifications@github.com>
wrote:

> Since dm_control doesn't use the gym interface, it would be nice to pick
> naming carefully. If the environments are relatively simple it can become
> part of PyBullet as pybullet_controls.
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1520#issuecomment-358357054>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q7Huc-VR8JsB0P4OhyYifvVSI_bRks5tLh2UgaJpZM4RhjUF>
> .
>
",already used gym definitely true maybe rethink naming wed wrote since use gym interface would nice pick naming carefully relatively simple become part reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
358357054,"Since dm_control doesn't use the gym interface, it would be nice to pick naming carefully. If the environments are relatively simple it can become part of PyBullet as pybullet_controls.",since use gym interface would nice pick naming carefully relatively simple become part,issue,positive,positive,positive,positive,positive,positive
358355557,"I am currently working on releasing the dm_control envs in my repository:
https://github.com/benelot/pybullet-gym. If you are interested in
collaborating, just leave me a note!

On Wed, Jan 17, 2018 at 5:10 PM erwincoumans <notifications@github.com>
wrote:

> Yes, I'm surely interested in this. I'd like to re-create (some of) their
> environments in PyBullet, ideally in a way that models trained in
> dm_control are compatible in pybullet_control and vise-versa.
> Please fork Bullet and prototype a simple example env for some feedback
> (say in Bullet/examples/pybullet/pybullet_control.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1520#issuecomment-358354164>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q6Ef-T4dych-pd_LMBvk5rdA6lohks5tLhuPgaJpZM4RhjUF>
> .
>
",currently working repository interested leave note wed wrote yes surely interested like ideally way trained compatible please fork bullet prototype simple example feedback say thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
358354164,"Yes, I'm surely interested in this. I'd like to re-create (some of) their environments in PyBullet, ideally in a way that models trained in dm_control are compatible in pybullet_control and vise-versa.
Please fork Bullet and prototype a simple example env for some feedback (say in Bullet/examples/pybullet/pybullet_control.

For most of our PyBullet Gym enviroments we already separate the robot from the environment. For example see [gym_locomotion_envs.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/gym_locomotion_envs.py) versus [robot_locomotors.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/robot_locomotors.py) and  also [minitaur_duck_gym_env.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/bullet/minitaur_duck_gym_env.py)  versus [minitaur.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/bullet/minitaur.py).",yes surely interested like ideally way trained compatible please fork bullet prototype simple example feedback say gym already separate robot environment example see versus also versus,issue,positive,positive,positive,positive,positive,positive
358304470,Thanks for the report. I'm not getting that issue. Could it be you compiled PyBullet without numpy support? How did you build PyBullet?,thanks report getting issue could without support build,issue,negative,positive,positive,positive,positive,positive
358262257,I'm using a really old version of gcc version 4.4.7. That is possibly why it picked it up and the g++ compiler you're using possibly has different default c++ version which allows the syntax. It was the least I could do. ,really old version version possibly picked compiler possibly different default version syntax least could,issue,negative,negative,neutral,neutral,negative,negative
358205706,"Thanks for bringing this up. Odd, none of our compilers complain about it (Linux gcc + clang, Mac, Windows,etc).
I re-applied it here: https://github.com/bulletphysics/bullet3/pull/1518/commits/c6a350b807f7b715836f57ac115faca2559d3ba7",thanks odd none complain clang mac,issue,negative,positive,neutral,neutral,positive,positive
358196365,"`diff --git a/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp b/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
index 5bb4a33..a44f779 100644
--- a/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
+++ b/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
@@ -49,9 +49,9 @@ inline mat33 operator*(const idScalar& s, const mat33& a) { return a * s; }
 
 class vecx : public btVectorX<idScalar> {
 public:
-       vecx(int size) : btVectorX(size) {}
+       vecx(int size) : btVectorX<idScalar>(size) {}
        const vecx& operator=(const btVectorX<idScalar>& rhs) {
-               *static_cast<btVectorX*>(this) = rhs;
+               *static_cast<btVectorX<idScalar>*>(this) = rhs;
                return *this;
        }
`",git index mat operator mat return class public public size size size size return,issue,negative,neutral,neutral,neutral,neutral,neutral
358196292,"Here is a patch against the head. 
diff --git a/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp b/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
index 5bb4a33..a44f779 100644
--- a/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
+++ b/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
@@ -49,9 +49,9 @@ inline mat33 operator*(const idScalar& s, const mat33& a) { return a * s; }
 
 class vecx : public btVectorX<idScalar> {
 public:
-       vecx(int size) : btVectorX(size) {}
+       vecx(int size) : btVectorX<idScalar>(size) {}
        const vecx& operator=(const btVectorX<idScalar>& rhs) {
-               *static_cast<btVectorX*>(this) = rhs;
+               *static_cast<btVectorX<idScalar>*>(this) = rhs;
                return *this;
        }
",patch head git index mat operator mat return class public public size size size size return,issue,negative,neutral,neutral,neutral,neutral,neutral
358194381,Just checked bullet3 out from GitHub and it appears that change ba8964c4ac reversed the fix that was applied for this problem.,checked bullet change reversed fix applied problem,issue,negative,neutral,neutral,neutral,neutral,neutral
358069983,"Thanks for the contribution, it looks like a nice Gym environment! 

The large amount of random files (3000) is an issue, it degrades performance of git and pip etc.
We could add a zipfile of all, and implement some zip reading on the server side, or have a manual step to unzip the archive.

Can you re-create the pull request and remove all the random objects? I'll make sure to deal with them separately.

I added some maxVelocity in kuka.py to avoid the abrupt/shaky motion: https://github.com/bulletphysics/bullet3/pull/1515

1) Change action repeat to 75 (from 50).
2) Twice add a if self._renders:    	time.sleep(self._timeStep) after p.stepSimulation
3) Change near plane from 0.1 to 0.01 make the z-buffer show up (even though the env doesn't seem to use it).

I'm happy to make those small changes, if you re-create the pull request without all the random files (I already made a zipfile of them)",thanks contribution like nice gym environment large amount random issue performance git pip could add implement zip reading server side manual step archive pull request remove random make sure deal separately added avoid motion change action repeat twice add change near plane make show even though seem use happy make small pull request without random already made,issue,positive,positive,neutral,neutral,positive,positive
357949569,"It is not that important, as it works fine with a single triangle. :)
I am not sure it is worth improving it. If it's done, it obviously would be a good news, but to be honest the only good reason for it on our side would be to avoid users opening issues about it (as the behaviour looks a little bit unintuitive). But it should be fine if we document this clearly.

Thank you for you time.",important work fine single triangle sure worth improving done obviously would good news honest good reason side would avoid opening behaviour little bit unintuitive fine document clearly thank time,issue,positive,positive,positive,positive,positive,positive
357939222,"By default, Bullet only computes 1 point at a time for convex versus btPlaneShape, and it adds more points to the cache over multiple simulation steps. So it is expected behaviour. It is easy to improve, if it is very important. How does the comparison look like when using a single triangle as ground?",default bullet point time convex versus cache multiple simulation behaviour easy improve important comparison look like single triangle ground,issue,positive,positive,positive,positive,positive,positive
357805673,"Oh, thanks for working on this. I will check out the changes.
saveState/restoreState is definitely the better option.

On Mon, Jan 15, 2018, 22:32 erwincoumans <notifications@github.com> wrote:

> I manually updated your Roboschool ports of PyBullet, see here: #1512
> <https://github.com/bulletphysics/bullet3/pull/1512>
> The reset was causing slowdown, since it was adding objects each time, now
> it uses saveState/restoreState etc. Also there are various other fixes, so
> you may want to include all this.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-357793776>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q0ezMzaHLgQFl7NuArehbu87-_5eks5tK8PSgaJpZM4PNUdu>
> .
>
",oh thanks working check definitely better option mon wrote manually see reset causing slowdown since time also various may want include thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
357793776,"I manually updated your Roboschool ports of PyBullet, see here: https://github.com/bulletphysics/bullet3/pull/1512
The reset was causing slowdown, since it was adding objects each time, now it uses saveState/restoreState etc. Also there are various other fixes, so you may want to include all this.",manually see reset causing slowdown since time also various may want include,issue,negative,neutral,neutral,neutral,neutral,neutral
357590843,"The reacher has a weird problem. I once looked into it, but I do not
remember what the problem was. So for now it is just a preview.

I can successfully train them and enjoy them using my own trained model (at
least a while ago I could). I will try this week and post here and update
the status in the spreadsheet. The instructions are basically in the train
scripts, which uses the Trainer class to combine an agent and an evironment.

On Sun, Jan 14, 2018, 21:33 erwincoumans <notifications@github.com> wrote:

> The enjoy_TF_ReacherBulletEnv_v0_2017may.py (using your gymperium branch)
> doesn't seem to reach to the target. Do you have any idea why?
>
> pybullet-gym
> Naming is always a challenge. There is pybullet module includes
> pybullet_envs and pybullet_data already and pybullet_envs already has many
> gym envs. Perhaps pybullet_roboschool is a bit more informative? Or
> pybullet_keras?
>
> Also, some way to avoid naming conflicts of the actual environments would
> be useful.
> Here is a spreadsheet of the current envs in pybullet_envs (assuming
> numbering increases v0, v1, v2 etc)
>
> https://docs.google.com/spreadsheets/d/1MhnOE1H7JMolq6M93gVAlBakGHvHGpEvxoXM3VDGhes/edit#gid=0
> It would be good to clarify for each env what the status is beyond just
> ""working"" (comments are enabled)
> For ""working"" we could use ""Do we have a way to train it successfully and
> enjoy it with our own trained model?""
> Which of the environments can you successfully train+enjoy using your own
> trained model/weights?
> Are there instructions how to do it?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-357540042>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q6wsFG83hASwdXMCOMCMrF0iW3V6ks5tKmSUgaJpZM4PNUdu>
> .
>
",reacher weird problem remember problem preview successfully train enjoy trained model least ago could try week post update status basically train trainer class combine agent sun wrote branch seem reach target idea naming always challenge module already already many gym perhaps bit informative also way avoid naming actual would useful current assuming would good clarify status beyond working working could use way train successfully enjoy trained model successfully trained thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
357540042,"The enjoy_TF_ReacherBulletEnv_v0_2017may.py (using your gymperium branch) doesn't seem to reach to the target. Do you have any idea why?

>> pybullet-gym

Naming is always a challenge. There is pybullet module includes pybullet_envs and pybullet_data already and pybullet_envs already has many gym envs. Perhaps pybullet_roboschool is a bit more informative? Or pybullet_keras? 

Also, some way to avoid naming conflicts of the actual environments would be useful.
Here is a spreadsheet of the current envs in pybullet_envs (assuming numbering increases v0, v1, v2 etc)
https://docs.google.com/spreadsheets/d/1MhnOE1H7JMolq6M93gVAlBakGHvHGpEvxoXM3VDGhes/edit#gid=0
It would be good to clarify for each env what the status is beyond just ""working"" (comments are enabled)
For ""working"" we could use ""Do we have a way to train it successfully and enjoy it with our own trained model?""
Which of the environments can you successfully train+enjoy using your own trained model/weights?
Are there instructions how to do it?",branch seem reach target idea naming always challenge module already already many gym perhaps bit informative also way avoid naming actual would useful current assuming would good clarify status beyond working working could use way train successfully enjoy trained model successfully trained,issue,positive,positive,positive,positive,positive,positive
357495787,"Oh that is great, if pybullet now supports all I need, I will rebuild the
NNWalkers.

The new repository for the gym things is benelot/pybullet-gym to comply
with the naming of pybullet. The python package will be named pybulletgym.
The bullet-gym repository just contains my previous state and some older
experiments.

In the pybullet-gym, I am currently working on making the envs
easier/cleaner/more maintainable. The Atlas environment works, however, I
have no trained agent for it. Same for flagrun and flagrun-harder. I will
keep you posted here.

On Sun, Jan 14, 2018, 03:14 erwincoumans <notifications@github.com> wrote:

> Sure, PyBullet is deterministic. In fact, you can save the state after n
> steps, restart the program (or reset the simulation) and restore the state
> (from .bullet file or in-memory state) and still be deterministic.
>
> How far did you get with FlagRun and FlagRunHarder envs in PyBullet? And
> Atlas?
>
> https://github.com/benelot/bullet-gym/blob/master/pybulletgym/envs/gym_humanoid_flagrun.py
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-357483223>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q8MU7pCNNwhqH_JSvmq-fG89ggRZks5tKWL9gaJpZM4PNUdu>
> .
>
",oh great need rebuild new repository gym comply naming python package repository previous state older currently working making maintainable atlas environment work however trained agent keep posted sun wrote sure deterministic fact save state restart program reset simulation restore state file state still deterministic far get atlas thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
357483223,"Sure, PyBullet is deterministic. In fact, you can save the state after n steps, restart the program (or reset the simulation) and restore the state (from .bullet file or in-memory state) and still be deterministic, see [saveRestoreState.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/saveRestoreState.py).

How far did you get with FlagRun and FlagRunHarder envs in PyBullet? And Atlas?
https://github.com/benelot/bullet-gym/blob/master/pybulletgym/envs/gym_humanoid_flagrun.py",sure deterministic fact save state restart program reset simulation restore state file state still deterministic see far get atlas,issue,positive,positive,positive,positive,positive,positive
357330712,"Thank you very much for the quick and very helpful response. I was not aware that I had to remove the old mesh. I thought VHACD would just replace it.

Also, thanks for adding a cup to your database. That is very nice and helpful.

I consider my question answered. Hence, I close this issue.",thank much quick helpful response aware remove old mesh thought would replace also thanks cup nice helpful consider question hence close issue,issue,positive,positive,positive,positive,positive,positive
357293381,"Your VHACD obj still contains the original cup, just remove it and it should work fine. Attached is your fixed cup.obj zipped.
[mug.zip](https://github.com/bulletphysics/bullet3/files/1626827/mug.zip)
[cup.zip](https://github.com/bulletphysics/bullet3/files/1626834/cup.zip)

Instead of using Blender, you can compile the Bullet SDK using premake and there is an executable that creates VHACD from obj to obj called Bullet/bin/test_vhacd_gmake_x64_release.

Various VHACD examples are in Bullet/data for example duck_vhacd.obj

![image](https://user-images.githubusercontent.com/725468/34885884-316c06dc-f776-11e7-955f-6803479e7333.png)

I just added another cup, this one has a separate visual mesh, so it looks nicer:
https://github.com/bulletphysics/bullet3/tree/master/data/dinnerware/cup

Note that PyBullet will search relative to a data folder around your current working directory. Meshes and other assets will be searched relative to the URDF file, so a relative path works well.
For the URDF file, you can use PyBullet.setAdditionalSearchPath to add another asset root (used to resolve URDF file names)",still original cup remove work fine attached fixed instead blender compile bullet premake executable various example image added another cup one separate visual mesh note search relative data folder around current working directory asset relative file relative path work well file use add another asset root used resolve file,issue,positive,positive,neutral,neutral,positive,positive
357144364,"See this pull request:https://github.com/bulletphysics/bullet3/pull/1506 or use pip install pybullet (version 1.8.1 and later). Use this option 
~~~~~~~~~
 p.loadMJCF(filename, flags=p.URDF_MJCF_COLORS_FROM_FILE
~~~~~~~~~
When using the option, it uses a highly tesselated spheres/capsules without instancing. We can optimize that later.",see pull request use pip install version later use option option highly without optimize later,issue,negative,positive,neutral,neutral,positive,positive
357090767,"[toeforce.zip](https://github.com/bulletphysics/bullet3/files/1624429/toeforce.zip)
Attached is a diff to enable toe forces.
If the Minitaur lands, there is a symmetry, as we expect. If you drag the mouse and let loose, the leg friction with ground will cause assymetry, also as expected.",attached enable toe symmetry expect drag mouse let loose leg friction ground cause also,issue,negative,negative,neutral,neutral,negative,negative
357067392,"I cannot run main.py since I don't have Qt. Try removing Qt and see if the problem is still there. You can try running a separate PyBullet server and connect through SHARED_MEMORY instead (either run the Example Browser in physics server mode, or run the script 
~~~~~~~~
python -m pybullet_envs.examples.runServer
~~~~~~~~",run since try removing see problem still try running separate server connect instead either run example browser physic server mode run script python,issue,negative,neutral,neutral,neutral,neutral,neutral
357038669,"@erwincoumans Thanks! I am working with RL with image observations of the environment. To me, the texture becomes less important but they have to be distinct from the environment. Would you be able to point to me where the Google colours are instantiated in the codebase? I am trying to understand the how pybullet works right now. I will like to be able to extend it in the long term :D",thanks working image environment texture becomes le important distinct environment would able point trying understand work right like able extend long term,issue,positive,positive,positive,positive,positive,positive
357015928,"[bullet_issue.zip](https://github.com/bulletphysics/bullet3/files/1623680/bullet_issue.zip)

I have created an example replicating the issue.

steps to reproduce,
1. Run main.py from scripts directory 
2. click start simulation 

only collision shape will be created and loaded into the simulation, also note that the number of joints printed as 7

But if you run the scripts/simulation/SimulationWorld.py, everything works as expected.
",example issue reproduce run directory click start simulation collision shape loaded simulation also note number printed run everything work,issue,negative,neutral,neutral,neutral,neutral,neutral
356993681,"I have never seen an issue like this. Please provide a full working script (not just a snippet) that can be executed using plain Bullet. 

Thanks!
Erwin
",never seen issue like please provide full working script snippet executed plain bullet thanks,issue,negative,positive,positive,positive,positive,positive
356981253,"At the moment, the MJCF parser doesn't create visual shapes. This means, there is an autogeneration of visual shapes, using the Bullet collision shapes. Since those don't have colors, some Google colors a picked.

I have some early patch that creates visual shapes, with color, but don't have texture coordinates, so it doesn't look nice yet.

Until then, you can use 
~~~~~~~~~~
p.changeVisualShape(sphere,linkIndex,rgbaColor=[red,green,blue,1])
~~~~~~~~~~
for each link, to assign colors (each color component in range [0..1]


",moment parser create visual visual bullet collision since color color picked early patch visual color texture look nice yet use sphere red green blue link assign color color component range,issue,negative,positive,neutral,neutral,positive,positive
356887550,"@benelot That's good to know.

After some digging, it appears that the importing happens here https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportMJCFDemo/BulletMJCFImporter.cpp#L709. It appears that rgba has been parsed. I am not entirely sure why after this the color is not set up. Maybe I am missing something. If someone can point me to the right direction I can probably make a PR and get this fixed.",good know digging entirely sure color set maybe missing something someone point right direction probably make get fixed,issue,positive,positive,positive,positive,positive,positive
356845568,"I am totally up for that. The Walkers are still not deterministic and I
have no idea why. I worked way too much on that. Let us just recreate them
in pybullet. The setup of training evolved creatures is something I would
love to see too.

On Wed, Jan 10, 2018, 20:11 erwincoumans <notifications@github.com> wrote:

> I'm currently working on a 'UrdfEditor.py' that makes it easier to
> on-the-fly create URDF files and upload from client to server.
> This would also allow dynamically changing things, add/remove limbs etc, so
> you can re-create your Neural Network 3D Walkers.
> Generally, I'd love to see ES creating creatures, and then train those
> using RL and/or ES.
>
> Small note I just encountered:
> I recommend not to do this, because we always add new fields at the end
> (right before physicsClientId field):
> _,_,_,_,_,_,_,_,self.lowerLimit, self.upperLimit,_,_,_ =
> p.getJointInfo(self.bodies[self.bodyIndex], self.jointIndex)
> do this instead:
> jointInfo = p.getJointInfo(self.bodies[self.bodyIndex], self.jointIndex)
> self.lowerLimit = jointInfo[8]
> self.upperLimit = jointInfo[9]
> we don't reshuffle fields, only add at the end.
>
>
>
> On 9 January 2018 at 14:26, Benjamin Ellenberger <notifications@github.com
> >
> wrote:
>
> > I started working in my own repository again (
> https://github.com/benelot/
> > pybullet-gym) and for now I think I will keep it that way. I intend to
> > make it an independently installable package that depends on your
> pybullet
> > package, that way we can keep maintenance much simpler and you do no
> longer
> > have to make sure nothing breaks when you do changes. I will continue
> with
> > the Roboschool oriented code since I still think it contains a lot of
> > helpful parts, but I will refactor is strongly and clean up all the parts
> > not required.
> >
> > Then, I still intend to make it compatible to MuJoCo envs, the roadmap we
> > discussed here stays the same. I just found some information on a prior
> > attempt to make an open-source physics engine replace MuJoCo, but it
> seems
> > to be hard (https://github.com/DartEnv/dart-env/wiki/OpenAI-Gym-
> > Environments).
> >
> > —
> > You are receiving this because you commented.
> > Reply to this email directly, view it on GitHub
> > <
> https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-356434641
> >,
> > or mute the thread
> > <
> https://github.com/notifications/unsubscribe-auth/AAsR3NJ3x7s7BdJoL39lS6tcstuYgILJks5tI-eHgaJpZM4PNUdu
> >
> > .
> >
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-356705486>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q6Ss-3rzhBxewALyvZYdN6x8yJjUks5tJQt2gaJpZM4PNUdu>
> .
>
",totally still deterministic idea worked way much let u recreate setup training something would love see wed wrote currently working easier create client server would also allow dynamically neural network generally love see e train e small note recommend always add new end right field instead reshuffle add end benjamin wrote working repository think keep way intend make independently package package way keep maintenance much simpler longer make sure nothing continue code since still think lot helpful strongly clean still intend make compatible stay found information prior attempt make physic engine replace hard reply directly view mute thread thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
356844528,"It is not extracted for now. And they are indeed picked randomly. That is
all I know.

On Wed, Jan 10, 2018, 21:13 Ethan Luo Yicheng <notifications@github.com>
wrote:

> Hi,
>
> It appears that when using the pybullet API, the colour for the models in
> MJCF files are not loaded properly. Right now, the colors are somehow
> picked randomly. I am not sure how this can be fixed.
>
> To reproduce, simply run the examples. If I change the model files in mjcf
> folder, there will not be any effect if I change the color.
>
> Thanks!
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1504>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q8E1ZZjFxnVmZPL1rTX9w7LqqGtLks5tJRnjgaJpZM4RZ4YX>
> .
>
",extracted indeed picked randomly know wed wrote hi colour loaded properly right color somehow picked randomly sure fixed reproduce simply run change model folder effect change color thanks thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
356705486,"I'm currently working on a 'UrdfEditor.py' that makes it easier to
on-the-fly create URDF files and upload from client to server.
This would also allow dynamically changing things, add/remove limbs etc, so
you can re-create your Neural Network 3D Walkers.
Generally, I'd love to see ES creating creatures, and then train those
using RL and/or ES.

Small note I just encountered:
I recommend not to do this, because we always add new fields at the end
(right before physicsClientId field):
_,_,_,_,_,_,_,_,self.lowerLimit, self.upperLimit,_,_,_ =
p.getJointInfo(self.bodies[self.bodyIndex], self.jointIndex)
do this instead:
jointInfo = p.getJointInfo(self.bodies[self.bodyIndex], self.jointIndex)
self.lowerLimit = jointInfo[8]
self.upperLimit = jointInfo[9]
we don't reshuffle fields, only add at the end.



On 9 January 2018 at 14:26, Benjamin Ellenberger <notifications@github.com>
wrote:

> I started working in my own repository again (https://github.com/benelot/
> pybullet-gym) and for now I think I will keep it that way. I intend to
> make it an independently installable package that depends on your pybullet
> package, that way we can keep maintenance much simpler and you do no longer
> have to make sure nothing breaks when you do changes. I will continue with
> the Roboschool oriented code since I still think it contains a lot of
> helpful parts, but I will refactor is strongly and clean up all the parts
> not required.
>
> Then, I still intend to make it compatible to MuJoCo envs, the roadmap we
> discussed here stays the same. I just found some information on a prior
> attempt to make an open-source physics engine replace MuJoCo, but it seems
> to be hard (https://github.com/DartEnv/dart-env/wiki/OpenAI-Gym-
> Environments).
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-356434641>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3NJ3x7s7BdJoL39lS6tcstuYgILJks5tI-eHgaJpZM4PNUdu>
> .
>
",currently working easier create client server would also allow dynamically neural network generally love see e train e small note recommend always add new end right field instead reshuffle add end benjamin wrote working repository think keep way intend make independently package package way keep maintenance much simpler longer make sure nothing continue code since still think lot helpful strongly clean still intend make compatible stay found information prior attempt make physic engine replace hard reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
356518504,"Ok thanks! I can work with that.

On Wed, Jan 10, 2018, 02:48 erwincoumans <notifications@github.com> wrote:

> You can create multiple physics servers (DIRECT) but not easily visualize
> (only one GUI at a time). One way is to extract all data and then
> synchronize the state using the saveBullet/loadState combination (if the
> worlds have the identical setup). I'll work on a way to easily visualize a
> 'DIRECT' simulation.
>
> No access to collision filtering in PyBullet at the moment.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1497#issuecomment-356473334>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q9RarIXuKLAoTURLxXnUAwcmzxAHks5tJBb2gaJpZM4RVoIk>
> .
>
",thanks work wed wrote create multiple physic direct easily visualize one time one way extract data synchronize state combination identical setup work way easily visualize simulation access collision filtering moment thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
356473334,"You can create multiple physics servers (DIRECT) but not easily visualize (only one GUI at a time). One way is to extract all data and then synchronize the state using the saveBullet/loadState combination (if the worlds have the identical setup). I'll work on a way to easily visualize a 'DIRECT' simulation.

No access to collision filtering in PyBullet at the moment.",create multiple physic direct easily visualize one time one way extract data synchronize state combination identical setup work way easily visualize simulation access collision filtering moment,issue,positive,positive,positive,positive,positive,positive
356472775,"Let's close the pull request. We plan to complete the C++ API with missing methods, so it will be feature-parity with the PyBullet API.",let close pull request plan complete missing,issue,negative,negative,neutral,neutral,negative,negative
356472597,"(copy from comment in PR)
Here is a better implementation. I also [updated the MinitaurSetup](https://github.com/bulletphysics/bullet3/pull/1503) to allow switching to more up-to-date Minitaur simulation models. I consistently get 73.2 Newton for newer minitaur and 60 Newton for older model (which relates to approx 7.3kg and 6kg)

~~~~~~
 int b3RobotSimulatorClientAPI::getContactNormalForce(int bodyA, int linkA, int bodyB, int linkB, b3Vector3* normalForceOut)
 {
 	b3SharedMemoryCommandHandle commandHandle = b3InitRequestContactPointInformation(m_data->m_physicsClientHandle);
 	b3SetContactFilterBodyA(commandHandle, bodyA);
 	b3SetContactFilterLinkA(commandHandle, linkA);
 	b3SetContactFilterBodyB(commandHandle, bodyB);
 	b3SetContactFilterLinkB(commandHandle, linkB);
 
 	b3SharedMemoryStatusHandle statusHandle = b3SubmitClientCommandAndWaitStatus(m_data->m_physicsClientHandle, commandHandle);
 	int statusType = b3GetStatusType(statusHandle);
 	if (statusType == CMD_CONTACT_POINT_INFORMATION_COMPLETED)
 	{
 		b3ContactInformation contactInfo;
 		b3GetContactPointInformation(m_data->m_physicsClientHandle, &contactInfo);
 		// printf(""nc: %d\n"", contactInfo.m_numContactPoints);
 		
		normalForceOut->x = 0;
 		normalForceOut->y = 0;
 		normalForceOut->z = 0;
 		for (int i=0;i<contactInfo.m_numContactPoints;i++)
 		{
 			b3ContactPointData* c = &contactInfo.m_contactPointData[i];
 			normalForceOut->x += c->m_contactNormalOnBInWS[0] * c->m_normalForce;
 			normalForceOut->y += c->m_contactNormalOnBInWS[1] * c->m_normalForce;
 			normalForceOut->z += c->m_contactNormalOnBInWS[2] * c->m_normalForce;
 		}
		return 0;
 	}
 	return -1;
 }
  ~~~~~~
  
  ",copy comment better implementation also allow switching simulation consistently get newton newton older model return return,issue,positive,positive,positive,positive,positive,positive
356471918,"Here is a better implementation. I also [updated the MinitaurSetup](https://github.com/bulletphysics/bullet3/pull/1503) to allow switching to more up-to-date Minitaur simulation models. I consistently get 73.2 Newton for newer minitaur and 60 Newton for older model (which relates to approx 7.3kg and 6kg)

~~~~~~
 int b3RobotSimulatorClientAPI::getContactNormalForce(int bodyA, int linkA, int bodyB, int linkB, b3Vector3* normalForceOut)
 {
 	b3SharedMemoryCommandHandle commandHandle = b3InitRequestContactPointInformation(m_data->m_physicsClientHandle);
 	b3SetContactFilterBodyA(commandHandle, bodyA);
 	b3SetContactFilterLinkA(commandHandle, linkA);
 	b3SetContactFilterBodyB(commandHandle, bodyB);
 	b3SetContactFilterLinkB(commandHandle, linkB);
 
 	b3SharedMemoryStatusHandle statusHandle = b3SubmitClientCommandAndWaitStatus(m_data->m_physicsClientHandle, commandHandle);
 	int statusType = b3GetStatusType(statusHandle);
 	if (statusType == CMD_CONTACT_POINT_INFORMATION_COMPLETED)
 	{
 		b3ContactInformation contactInfo;
 		b3GetContactPointInformation(m_data->m_physicsClientHandle, &contactInfo);
 		// printf(""nc: %d\n"", contactInfo.m_numContactPoints);
 		
		normalForceOut->x = 0;
 		normalForceOut->y = 0;
 		normalForceOut->z = 0;
 		for (int i=0;i<contactInfo.m_numContactPoints;i++)
 		{
 			b3ContactPointData* c = &contactInfo.m_contactPointData[i];
 			normalForceOut->x += c->m_contactNormalOnBInWS[0] * c->m_normalForce;
 			normalForceOut->y += c->m_contactNormalOnBInWS[1] * c->m_normalForce;
 			normalForceOut->z += c->m_contactNormalOnBInWS[2] * c->m_normalForce;
 		}
		return 0;
 	}
 	return -1;
 }
  ~~~~~~
  ",better implementation also allow switching simulation consistently get newton newton older model return return,issue,positive,positive,positive,positive,positive,positive
356453351,"You need to accumulate the forces of all contact points in a each manifold. In addition, you need to add the forces of all 8 legs, since in this setup all legs touch the ground. This is a very old Minitaur URDF file, I'll update to a newer one, where only 4 legs touch the ground.",need accumulate contact manifold addition need add since setup touch ground old file update one touch ground,issue,negative,positive,neutral,neutral,positive,positive
356434641,"I started working in my own repository again (https://github.com/benelot/pybullet-gym) and for now I think I will keep it that way. I intend to make it an independently installable package that depends on your pybullet package, that way we can keep maintenance much simpler and you do no longer have to make sure nothing breaks when you do changes. I will continue with the Roboschool oriented code since I still think it contains a lot of helpful parts, but I will refactor is strongly and clean up all the parts not required. 

Then, I still intend to make it compatible to MuJoCo envs, the roadmap we discussed here stays the same. I just found some information on a prior attempt to make an open-source physics engine replace MuJoCo, but it seems to be hard (https://github.com/DartEnv/dart-env/wiki/OpenAI-Gym-Environments).",working repository think keep way intend make independently package package way keep maintenance much simpler longer make sure nothing continue code since still think lot helpful strongly clean still intend make compatible stay found information prior attempt make physic engine replace hard,issue,positive,positive,positive,positive,positive,positive
356418723,"Thanks for the report!
Some Python 2.x related bug slipped in 1.7.9, can you try it again now using 1.8.0 or later?
(I had to use --no-cache-dir to get latest)",thanks report python related bug slipped try later use get latest,issue,negative,positive,positive,positive,positive,positive
356321268,"Good point, thanks for the contribution. Nowaways I mainly use pip (or python setup.py develop) to install pybullet, and premake4 for development, but good to improve cmake as well.",good point thanks contribution mainly use pip python develop install premake development good improve well,issue,positive,positive,positive,positive,positive,positive
356320589,"Great, thanks for the contribution. We may want to create a softbody from vertices/indices as well, and re-use the same command.",great thanks contribution may want create well command,issue,positive,positive,positive,positive,positive,positive
356149082,I'll look at it later this week. I've been busy with save/restore state and urdf editing/state reflection.,look later week busy state reflection,issue,negative,positive,neutral,neutral,positive,positive
355785313,"Yes, I added clamping for now. Eventually I'll create a combined joint limit/motor for btMultiBody. The btGeneric6DofSpring2Constraint provides similar functionality for btRigidBody.",yes added eventually create combined joint similar functionality,issue,positive,neutral,neutral,neutral,neutral,neutral
355738317,"I haven't made a lot of progress, but I plan to continue working on it a few weeks.
If you would like to help, I was planning on doing the following:

If you run the ExampleBrowser you'll see that I have added some examples for Softbodies. These examples use different underlying C code than the pybullet examples but in general they simulate the same thing. These examples however do not use the PhysicsServerCommandProcessor code, which is used by pybullet.

So the idea would be to create a new example in the ExampleBrowser that uses the same code as the pybullet examples (uses the code from PhysicsServerCommandProcessor), and see whether it also crashes. If this works we can at least rule out some possible causes.",made lot progress plan continue working would like help following run see added use different underlying code general simulate thing however use code used idea would create new example code code see whether also work least rule possible,issue,positive,negative,neutral,neutral,negative,negative
355552911,"Hi @dvercaut , I have tried checking out your branch and I seem to be also getting random segmentation faults. I was wondering if you had any updates on this lately.",hi tried branch seem also getting random segmentation wondering lately,issue,negative,negative,negative,negative,negative,negative
354629013,"I'll recreate a pybullet test first and look at it in a few days. We get very reliable contact forces that sum up well for our Minitaur experiments.  Best not to analyse the force readings while dragging with the mouse since it adds tons of energy and causes penetrations: de-penetration forces are part of the normal force, so they need to be small enough to be negligible.

Happy 2018!",recreate test first look day get reliable contact sum well best analyse force dragging mouse since energy part normal force need small enough negligible happy,issue,positive,positive,positive,positive,positive,positive
354580033,"Latest revision of getCameraImage has the option to also add the link index, next to the object unique id, for each pixel in the segmentation mask buffer. Also the quickstart guide has info about it, and example here:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/segmask_linkindex.py

Any object and link in the scene that is visible can be in the segmentation mask buffer.

Also, the depth buffer and segmentation mask is visible by default now. You can hide/show it using configureDebugVisualizer (for example COV_ENABLE_SEGMENTATION_MARK_PREVIEW etc), see [quickstart guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#).",latest revision option also add link index next object unique id segmentation mask buffer also guide example object link scene visible segmentation mask buffer also depth buffer segmentation mask visible default example see guide,issue,negative,positive,positive,positive,positive,positive
354579908,"createVisualShape is pretty rudumentary, main workflow is loadURDF etc. Still, it will be fixed here:
https://github.com/bulletphysics/bullet3/commit/9c55b613155cb6d868c27289397f66188b01d240
Thanks for the report!",pretty main still fixed thanks report,issue,positive,positive,positive,positive,positive,positive
354571050,"Thanks, that seems to work, but could you confirm that I am using it correctly (pull request #1490)? For your convenience I added a few functions to the RobotSimulator example, but I have three questions:
* Logically, it seems incorrect to be providing a joint ID (vs a link in the URDF) to this function... but in the pybullet guide it seems to suggest using a joint ID so that's what I used
* Often the number of contacts even when filtering by the link index is higher than expected and these multiple contacts have similar normal forces... do you have any tips how to disambiguate (or understand what the source is)?
* In the RobotSimulator example, I am printing the contact forces, and the net z force seems quite far from the weight of the body, and especially if I pick the body and move it with my mouse, the result changes quite a bit. Also, the distribution between the 4 legs seems more varied than I'd expect. I thought @erwincoumans you had an example of this already -- hopefully you can point out my mistake.

Thanks!",thanks work could confirm correctly pull request convenience added example three logically incorrect providing joint id link function guide suggest joint id used often number even filtering link index higher multiple similar normal understand source example printing contact net force quite far weight body especially pick body move mouse result quite bit also distribution varied expect thought example already hopefully point mistake thanks,issue,positive,positive,positive,positive,positive,positive
354556715,@JanMatas For my uses it ended up being faster just to write in C++ in hacky way. Sorry! ,ended faster write hacky way sorry,issue,negative,negative,negative,negative,negative,negative
354555190,"You could get a temporary free trial license (I think it is 1 month or so).

It is better to start from scratch for MuJoCo compatibile locomotion envs, preferably 1 file per env, keeping the code much simpler to navigate and understand.

Please don't start refactoring existing Roboschool-oriented code, and work in a separate repository, not main Bullet/PyBullet: it takes too much time for me to maintain backward compatibility, make sure nothing breaks etc. Also, I cannot properly maintain and support a large collection of new environments developed by others as main part of PyBullet and Bullet. So if you want to grow a large collection, it is better to grow it in a separate repository. Once environments are working well in the separate repository and we are happy with it, we can consider moving it to PyBullet.

Hence my suggestion to fork https://github.com/erwincoumans/pybullet_robots and create a subfolder for the environments.",could get temporary free trial license think month better start scratch locomotion preferably file per keeping code much simpler navigate understand please start code work separate repository main much time maintain backward compatibility make sure nothing also properly maintain support large collection new main part bullet want grow large collection better grow separate repository working well separate repository happy consider moving hence suggestion fork create,issue,positive,positive,positive,positive,positive,positive
354554475,"Ok, that sounds good. The changes in this PR make some parts a bit more
clearly separated compared to the state that is currently in the repo. I
will split this PR into some more digestible other PRs for you to accept in
several steps.

I will merge some inheritance structures a bit and duplicate some methods
to make it easier to maintain (merging the base classes into the more
specialized classes will do the trick I think). Any other suggestions?

Comparing to MuJoCo will be hard for me since I do not have a MuJoCo
license. But maybe I can get a trace of some MuJoCo env outputs using a
certain well known agent so that I can start to use the MuJoCo output as a
guideline and see if I can make our outputs more compatible. Do you have
some traces of MuJoCo or any other way for me to do this? I can even look
at videos of env performance if I have the repsective trained agent.

On Sat, Dec 30, 2017, 17:00 erwincoumans <notifications@github.com> wrote:

> Let's move on: Roboschool doesn't seem an active project.
> It would be more useful to become compatible with the very popular MuJoCo
> locomotion tasks from Gym. Ideally allow models that are trained using
> PyBullet (for Reacher, Hopper, Humanoid, Ant etc) work on MuJoCo and vise
> versa.
>
> The current object oriented code-structure is very confusing to me, and I
> keep on having to search where certain data/functions are (I made attached
> image).
>
> [image: image2]
> <https://user-images.githubusercontent.com/725468/34455611-4d390be2-ed37-11e7-9c9b-0fa023bca559.png>
>
> So for new MuJoCo compatible-versions, I rather have environments that are
> simple to understand and maintain, even it that means not sharing code.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-354553385>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q9bUOdWLyd_RT8k3GcfuRhkmNlJnks5tFl4PgaJpZM4PNUdu>
> .
>
",good make bit clearly state currently split digestible accept several merge inheritance bit duplicate make easier maintain base class specialized class trick think hard since license maybe get trace certain well known agent start use output guideline see make compatible way even look performance trained agent sat wrote let move seem active project would useful become compatible popular locomotion gym ideally allow trained reacher hopper humanoid ant work vise current object keep search certain made attached image image image new rather simple understand maintain even code thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
354553385,"Good to hear from you again! Let's move on: Roboschool doesn't seem an active project.
It would be more useful to become compatible with the very popular MuJoCo locomotion tasks from Gym. Ideally allow models that are trained using PyBullet (for Reacher, Hopper, Humanoid, Ant etc) work on MuJoCo and vise versa.

The current object oriented code-structure is very confusing to me, and I keep on having to search where certain data/functions are (I made attached image).

![image2](https://user-images.githubusercontent.com/725468/34455611-4d390be2-ed37-11e7-9c9b-0fa023bca559.png)

So for new MuJoCo compatible-versions, I rather have environments that are simple to understand (1 or 2 files per env) and maintain, even it that means not sharing code.

We can also prototype new envs in a separate repository, for example fork from here: https://github.com/erwincoumans/pybullet_robots",good hear let move seem active project would useful become compatible popular locomotion gym ideally allow trained reacher hopper humanoid ant work vise current object keep search certain made attached image image new rather simple understand per maintain even code also prototype new separate repository example fork,issue,positive,positive,positive,positive,positive,positive
354552358,"BulletRobotics indeed relies on example code, so don't switch it off. We should add some check that if example code is turned off, BulletRobotics is also turned off.

The issue #1406 is different, it requires adding a few Windows specific libraries (winmm.lib and Ws2_32.lib)",indeed example code switch add check example code turned also turned issue different specific,issue,negative,neutral,neutral,neutral,neutral,neutral
354551995,"It looks like there are conflicting interests going on here. You patch seems to undo that revert again, so we keep on going back and forward without making progress.

Please provide a patch and if it doesn't break the build I'll apply it. Make sure to resolve the reason for @jbohren revert here: https://github.com/bulletphysics/bullet3/pull/679

What solution do you suggest that makes both you and @jbohren happy?",like conflicting going patch undo revert keep going back forward without making progress please provide patch break build apply make sure resolve reason revert solution suggest happy,issue,positive,positive,positive,positive,positive,positive
354540548,"Could this issue be reopened? As mentioned one year ago, the ""fix"" has been reverted, and the issue is still valid. I still need to drag the same SUSE patch in my Mageia packaging: http://svnweb.mageia.org/packages/cauldron/bullet/current/SOURCES/bullet-suse-Fix-bullet.pc.patch?view=markup",could issue one year ago fix issue still valid still need drag patch,issue,negative,negative,neutral,neutral,negative,negative
354515832,"You can use[ pybullet.getContactPoints](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c#L5974) to access the contact points computed/used during the last call to stepSimulation. See the[ PyBullet Quickstart Guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#) for more info. If you don't pass in a filter, you can ALL the contact points. You can optionally provide a filter, to get only the contact points between the foot body/link and floor, for example.

Each contact has an normalForce field that you can multiply with the contactNormal to get the normal interaction force, applied at positionOnA and its negative was applied to bodyB at positionOnB (positions and normal are all in Cartesian world coordinates).
The friction forces/directions are not exposed yet at the moment, but we can add them if needed.

Separately, I'm currently writing a saveState/restoreState that also stores all contact info, it should be finished soon. That would also contact the friction directions and applied friction forces. It it pretty easy to read this binary Bullet file.",use access contact last call see guide pas filter contact optionally provide filter get contact foot floor example contact field multiply get normal interaction force applied negative applied normal world friction exposed yet moment add separately currently writing also contact finished soon would also contact friction applied friction pretty easy read binary bullet file,issue,negative,positive,neutral,neutral,positive,positive
354496922,"HI @ashwal 

have you made any progress on the bindings lately? I am looking for a way to simulate cloth grasping using pybullet. 

Thanks!",hi made progress lately looking way simulate cloth grasping thanks,issue,positive,negative,neutral,neutral,negative,negative
354104501,"Hello Erwin

I might find some time after New Year's Eve to look again for differences between Roboschool and PyBullet Gym. I suspect the differences are in python vs. c++ floating-point precision. I read a lot about the issue recently, so I might find a fix for it. Do you still need a fix to be similar to roboschool or do you want to keep our own code and move on? I can create a new PR for the above improvements if you like.",hello might find time new year eve look gym suspect python precision read lot issue recently might find fix still need fix similar want keep code move create new like,issue,negative,positive,neutral,neutral,positive,positive
353743276,"By the way, we'll implement a C++ PD controller soon, that is automatically applied right before each stepSimulation call. Currently we implemented the PD controller together with motor model for Minitaur in Python here:

https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/bullet/motor.py

So we are actually not using the jointMotorControl2 but a custom PD controller/motor model, that matches the real Minitaur a bit better.",way implement controller soon automatically applied right call currently controller together motor model python actually custom model real bit better,issue,negative,positive,positive,positive,positive,positive
353743141,"I clarified it in the getJointState documentation of the [PyBullet quickstart guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.p3s2oveabizm), in the appliedJointMotorTorque output field.",documentation guide output field,issue,negative,neutral,neutral,neutral,neutral,neutral
353743011,"The jointMotorTorque only reports the applied torque in POSITION or VELOCITY control modes. Internally it is implemented by reporting the torque applied by the joint motor constraint at the last simulation step.

If you use TORQUE control, you provide the actual torque that is applied yourself, so you have the values that is applied already.",applied torque position velocity control internally torque applied joint motor constraint last simulation step use torque control provide actual torque applied applied already,issue,negative,neutral,neutral,neutral,neutral,neutral
353740030,"> I didn't know PyBullet

It would be nice if PyBullet got some proper publicity indeed. We did port various Roboschool environment in PyBullet. In addition we have several original Gym environments in PyBullet that have an equivalent in real hardware, such as the Minitaur locomotion tasks and KUKA grasping. See also this [blog post.](http://blog.otoro.net/2017/11/12/evolving-stable-strategies/). The quickstart guide has a little bit of information about the Gym environments. Unfortunately the Roboschool environments such as Ant, Humanoid, Walker, Hopper etc are not compatible with MuJoCo. Eventually we will also include versions of Ant, Humanoid, Hopper etc that are compatible with the popular MuJoCo versions, so that models trained in PyBullet will work in MuJoCo Gym environments and vise-versa.

> The modification to the MJCF importer also affects PyBullet though.

We try to maintain backward compatibility when loading files, and add a flag when starting to read new fields that were ignored before. So we would need to add flags like URDF_USE_INERTIA_FROM_FILE for MJCF, and URDF_USE_BODY_DAMPING_FROM_FILE, etc. It seems easier to just add a line in pybullet for the linear/angular damping. We already read joint damping from URDF files, see below.

Note that the body linear/angular damping for btMultiBody is different from joint damping: the velocity of each body and link is dampened. So in the case of a body that consists only of a base and no child links/joints, there is still damping.

The body linear/angular velocity damping is implemented here:
for the base:
https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Featherstone/btMultiBody.cpp#L826
and for child links:
https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Featherstone/btMultiBody.cpp#L913

Currently, this body damping can only be changed using pybullet.changeDynamics.

Separately, there is some explicit joint damping applied here:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L5868

This joint damping is read from the URDF file here:
https://github.com/bulletphysics/bullet3/blob/8c04bc9473b4c179d9781fc3577910354a2d9d84/examples/Importers/ImportURDFDemo/UrdfParser.cpp#L1095

",know would nice got proper publicity indeed port various environment addition several original gym equivalent real hardware locomotion grasping see also post guide little bit information gym unfortunately ant humanoid walker hopper compatible eventually also include ant humanoid hopper compatible popular trained work gym modification importer also though try maintain backward compatibility loading add flag starting read new would need add like easier add line damping already read joint damping see note body damping different joint damping velocity body link case body base child still damping body velocity damping base child link currently body damping separately explicit joint damping applied joint damping read file,issue,positive,negative,neutral,neutral,negative,negative
353736690,">Why do you want to use Roboschool instead of PyBullet?

Ignorance. I didn't know PyBullet had essentially the same things but with one less wrapper to worry about and no outdated Bullet fork. Thank you!

The modification to the MJCF importer also affects PyBullet though.

I read the default damping parameters that you linked. That looks exactly like what I need. Should I, and how would I, add support for loading those from MJCF/URDF? Is the procedure related to this https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Featherstone/btMultiBodyLink.h#L147-L148 ?",want use instead ignorance know essentially one le wrapper worry outdated bullet fork thank modification importer also though read default damping linked exactly like need would add support loading procedure related,issue,negative,negative,neutral,neutral,negative,negative
353732160,"Why do you want to use Roboschool instead of PyBullet?
PyBullet is more actively developed, much easier to install, has CPU software and OpenGL rendering, and it exposes the full PhysicsClient_CAPI.

There is some default linear and angular damping in btMultiBody. You can disable it using PyBullet. In addition, PyBullet creates default motors with target 0, just disable them using max force=0.

pybullet.changeDynamics(bodyUniqueId=..., linkIndex=..., linearDamping=0, angularDamping=0)
Do this for the base (linkIndex=-1) and all links.
See also the [PyBullet quickstart guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#).

Thanks for exposing the inertia from MJCF files, we only expose it for URDF/SDF files when flags=URDF_USE_INERTIA_FROM_FILE. Many URDF/SDF files have wrong inertias, so we recompute it from mass and collision volume, and similar for MJCF files.",want use instead actively much easier install rendering full default linear angular damping disable addition default target disable base link see also guide thanks inertia expose many wrong recompute mass collision volume similar,issue,negative,negative,neutral,neutral,negative,negative
353608381,"Solution found within user code, so I'm closing this",solution found within user code,issue,negative,neutral,neutral,neutral,neutral,neutral
353243926,"I tried a few things but it seems like (unlike what https://docs.nvidia.com/gameworks/content/technologies/desktop/optimus.htm says), even declaring 

```
extern ""C"" {
__declspec(dllexport) DWORD NvOptimusEnablement = 0x00000000;
}
```

enables the dGPU, even though the assigned value is 0 (without anything even changing its value in the program).

I guess till there's a more robust solution I'll just declare the global var in my user code and we can discard this PR for now...

EDIT: Same issue here https://github.com/grimfang4/sdl-gpu/issues/17",tried like unlike even extern even though assigned value without anything even value program guess till robust solution declare global user code discard edit issue,issue,positive,neutral,neutral,neutral,neutral,neutral
353238619,"We can also just enable it, and deal with it if/when someone has the issue.",also enable deal someone issue,issue,negative,neutral,neutral,neutral,neutral,neutral
353238436,"~~~~~~~~
static int gDiscreteGpuEnabled = 1;
__declspec(dllexport) DWORD NvOptimusEnablement = gDiscreteGpuEnabled;
~~~~~~~~
If you set gDiscreteGpuEnabled to 0, before initializing the window, does it still select the discrete GPU? If so, I can figure out some way (command-line flag, through the pybullet 'connect' method etc)",static set window still select discrete figure way flag method,issue,negative,positive,positive,positive,positive,positive
353237067,"I can't test the AMD option but it seems harmless to add.

I see your point about the API, but the only way I see to do it is with a preprocessor directive (maybe set using cmake -- let me know if I should try this)... I'm not sure of a run-time way to let the user choose.",ca test option harmless add see point way see directive maybe set let know try sure way let user choose,issue,positive,positive,positive,positive,positive,positive
353235112,"Thanks for looking into this. I'd like to add an API to disable it (someone may want to use integrated GPU to save battery life etc), and AMD support.

~~~~~
extern ""C"" {
__declspec(dllexport) int AmdPowerXpressRequestHighPerformance = 1;
}
~~~~~
(from https://www.gamedev.net/forums/topic/679029-selecting-the-actual-gpu/)
",thanks looking like add disable someone may want use save battery life support extern,issue,positive,positive,positive,positive,positive,positive
353109426,I found a solution for NVidia specifically https://docs.nvidia.com/gameworks/content/technologies/desktop/optimus.htm and created a pull request that makes the request on windows.,found solution specifically pull request request,issue,negative,neutral,neutral,neutral,neutral,neutral
352904131,"It maybe GPU hardware (NVIDIA, AMD, Intel etc) and laptop specific. What brand dGPU is it?
https://stackoverflow.com/questions/6036292/select-a-graphic-device-in-windows-opengl

It is not enabled indeed, our home-grown implementation is pretty simple.
The OpenGLWindow implementation is all here:
https://github.com/bulletphysics/bullet3/blob/master/examples/OpenGLWindow/Win32OpenGLWindow.cpp


Recently I added some option to enable GLFW, it could be worth trying out.

It is only enabled with the premake4 build system, see the build3/premake4.lua file.
(you can also back port that to cmake with a little bit of effort)

newoption
    {
trigger     = ""glfw_include_dir"",
value       = default_glfw_include_dir,
description = ""GLFW 3.x include directory""
    }

newoption
    {
                        trigger     = ""glfw_lib_name"",
                        value       = default_glfw_lib_name,
                        description = ""GLFW 3.x library name (glfw, glfw3)""
    }

    newoption
    {
trigger     = ""glfw_lib_dir"",
value       = default_glfw_lib_dir,
description = ""(optional) GLFW 3.x library directory ""
    }

    newoption
    {
trigger     = ""enable_glfw"",
value       = false,
description = ""(optional) use GLFW 3.x library""
    }

if _OPTIONS[""enable_glfw""] then
defines {""B3_USE_GLFW""}

So if GLFW has that feature, you may use that, or backport it to Bullet
OpenGL.

Let me know how it goes, or if you need some further help,
Thanks!
Erwin



On 19 December 2017 at 13:55, Avik De <notifications@github.com> wrote:

> This is more of a query than a request: I have a laptop with integrated as
> well as discrete GPU (Windows 10) and bullet3 only uses the integrated one.
> Is there a way to make it use the discrete GPU when available? MATLAB (for
> e.g.) uses the dGPU when it opens so I think it's possible for the program
> to request or select it.
>
> If you could point me to where in the OpenGL init code I should dig, I can
> look myself as well.
>
> Thanks!
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1480>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3OOaglgWJ8x4gFOQRU2BCpRoRbp_ks5tCDDggaJpZM4RHnEw>
> .
>
",maybe hardware specific brand indeed implementation pretty simple implementation recently added option enable could worth trying premake build system see file also back port little bit effort trigger value description include directory trigger value description library name trigger value description optional library directory trigger value false description optional use library feature may use bullet let know go need help thanks de wrote query request well discrete bullet one way make use discrete available think possible program request select could point code dig look well thanks thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
352227135,"As mentioned the patch that was used was the one referenced in #1432 
[softbody_patch_clean.patch.zip](https://github.com/bulletphysics/bullet3/files/1565257/softbody_patch_clean.patch.zip)

The script in question is bullet3/examples/pybullet/examples/test_loadSoftBody.py, the crash seems to only happen when there is an interaction between a rigid body and a soft body. 
There is no exact moment when the crash happens, but in most cases the segmentation fault will occur after about 10 seconds.",patch used one script question crash happen interaction rigid body soft body exact moment crash segmentation fault occur,issue,negative,positive,positive,positive,positive,positive
351857176,"It isn't supported yet, so please track down the crash. Also,in case someone wants to help out: provide the full patch you used and the exact script you ran, and how long it takes until the crash happens. Thanks!",yet please track crash also case someone help provide full patch used exact script ran long crash thanks,issue,negative,positive,positive,positive,positive,positive
351849898,"You can add this section to the legs / links that touches the ground:
		
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ python
		<contact>
			<friction_anchor/>
			<stiffness value=""3000.0""/>
			<damping value=""100.0""/>
			<spinning_friction value="".3""/>
			<lateral_friction value=""1""/>
		</contact>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
",add section link ground python contact stiffness damping,issue,negative,neutral,neutral,neutral,neutral,neutral
351813901,"Thanks for the fix, and also the tip about friction_anchors - I'll try it out",thanks fix also tip try,issue,negative,positive,positive,positive,positive,positive
351810638,"Note that the quadruped.urdf used in App_RobotSimulator is very old before we did system identification. We made a lot of progress simulating the Minitaur and its motors etc, so that the transfer from simulation to real hardware is starting to work now. I'll make some updated demo soon, with controls to walk forward/turn. 

You can also enable friction_anchors in the contact section. Attached is an example (still a version without proper system identification). friction_anchors will remove all drift in the tangential friction.

[minitaur.zip](https://github.com/bulletphysics/bullet3/files/1560458/minitaur.zip)
",note used old system identification made lot progress transfer simulation real hardware starting work make soon walk also enable contact section attached example still version without proper system identification remove drift tangential friction,issue,negative,positive,neutral,neutral,positive,positive
351803690,"It should be fixed in this commit the bug was that we accumulated the residual, instead of squared residual. https://github.com/bulletphysics/bullet3/pull/1479/commits/5ab6a0ad434447d99b3080ec9a86a1f733a5b2cb
Pull request of the commit is here: https://github.com/bulletphysics/bullet3/pull/1479

The cone friction is described in slide 31 of my SimPar 2016 presentation:
https://docs.google.com/presentation/d/1q00u8IY1biDcVwkhfXaJrurspk35NrwPTBINeRKm2c8/edit#slide=id.p9
Instead of approximating the friction cone with a polygon (pyramid) we clamp both friction directions simultaneously against the actual cone.
",fixed commit bug residual instead squared residual pull request commit cone friction slide presentation instead friction cone polygon pyramid clamp friction simultaneously actual cone,issue,positive,positive,neutral,neutral,positive,positive
351099335,"oh, Thanks you!

>> Did you already move to use btGeneric6DofSpring2Constraint?

I didn't it yet, but it's something to do to fully implement bullet",oh thanks already move use yet something fully implement bullet,issue,negative,positive,positive,positive,positive,positive
351092924,"There are always two bodies (and frames) involved with a btGeneric6DofSpring2Constraint (rbA and rbB, frameA and frameB), and the joint limits are expressed in parent frame (rbA, frameA). It looks like you are only moving the child frame?

Did you already move to use btGeneric6DofSpring2Constraint?

For btMultiBody (which is recommended for perfectly stiff joints, such as doors or characters/robots driven by strong motors and IK), the joint limits are also expressed in parent/joint frame.",always two involved framea joint expressed parent frame framea like moving child frame already move use perfectly stiff driven strong joint also expressed frame,issue,positive,positive,positive,positive,positive,positive
351060942,"I tried for a bit to look into the issues, but b031ba0 looks like a huge update that I don't see how to chunk into smaller pieces. It seems like the updates to btMultiBodyConstraintSolver in that commit are the relevant ones? If you have time to write a paragraph or two on what the cone friction update means and is supposed to do I can try to dig deeper, time permitting.

Also I guess this should be resolved (from your comment) so I reopened the issue to keep track of the fixes / development",tried bit look like huge update see chunk smaller like commit relevant time write paragraph two cone friction update supposed try dig time also guess resolved comment issue keep track development,issue,positive,positive,positive,positive,positive,positive
350919383,"thanks for testing it. If I find time I'll track down why cone friction
adds sliding in this case, it shouldn't.

On Dec 11, 2017 5:40 PM, ""Avik De"" <notifications@github.com> wrote:

> Yes, that resolved it! Thanks for your prompt help. Presumably this will
> also fix RobotSimulator.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1473#issuecomment-350917196>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3KV8mZbALsWr1wLyrATk2sXMlrkEks5s_dmFgaJpZM4Q-IBY>
> .
>
",thanks testing find time track cone friction sliding case de wrote yes resolved thanks prompt help presumably also fix reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
350917196,"Yes, that resolved it! Thanks for your prompt help. Presumably this will also fix RobotSimulator.",yes resolved thanks prompt help presumably also fix,issue,positive,positive,positive,positive,positive,positive
350913064,"There is a way to disable cone friction, can you see if that helps?
C-API: b3PhysicsParamSetEnableConeFriction(command, 0  /*enableConeFriction*/);
pybullet: p.setPhysicsEngineParameter(enableConeFriction=0)

(haven't had time to try App_RobotSimulator.exe yet)",way disable cone friction see command time try yet,issue,negative,neutral,neutral,neutral,neutral,neutral
350418104,"It's working perfectly now, but lose your google ranks is not a problem?",working perfectly lose problem,issue,negative,positive,positive,positive,positive,positive
350410179,"The wiki page is up online now. I'll try to migrate the wiki page to the
new server too, and shutdown the old machine.
Can you try the pybullet.org server?

On 8 December 2017 at 16:51, Erwin Coumans <erwin.coumans@gmail.com> wrote:

> Thanks for the report. I'm in the process of moving it all to
> https://pybullet.org/wordpress. Can you try it?
> (not the wiki, just phpBB3 and wordpress)
>
> On 8 December 2017 at 16:41, Andrea Catania <notifications@github.com>
> wrote:
>
>> Bullet site is not working:
>> http://bulletphysics.org/mediawiki-1.5.8/index.php/Constraints
>> http://bulletphysics.org
>>
>> —
>> You are receiving this because you are subscribed to this thread.
>> Reply to this email directly, view it on GitHub
>> <https://github.com/bulletphysics/bullet3/issues/1472>, or mute the
>> thread
>> <https://github.com/notifications/unsubscribe-auth/AAsR3AAndsz5n4q99s0axagmGBgzsrRQks5s-dc5gaJpZM4Q70kd>
>> .
>>
>
>
",page try migrate page new server shutdown old machine try server wrote thanks report process moving try wrote bullet site working thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
350408945,"Thanks for the report. I'm in the process of moving it all to
https://pybullet.org/wordpress. Can you try it?
(not the wiki, just phpBB3 and wordpress)

On 8 December 2017 at 16:41, Andrea Catania <notifications@github.com>
wrote:

> Bullet site is not working:
> http://bulletphysics.org/mediawiki-1.5.8/index.php/Constraints
> http://bulletphysics.org
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1472>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3AAndsz5n4q99s0axagmGBgzsrRQks5s-dc5gaJpZM4Q70kd>
> .
>
",thanks report process moving try wrote bullet site working thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
350278386,"Thanks for the PR, can you retrigger CI (commit small edit), since it failed likely due to unrelated other changes.",thanks commit small edit since likely due unrelated,issue,positive,negative,neutral,neutral,negative,negative
349767873,"@wxmerkt after a quick test it seems like it is both picked up from the urdf, as well as used in the physics solver! Thanks for your help.

I.e. the solution is to use
```
  <joint name=""10"" type=""revolute"">
    <parent link=""body""/>
    <child link=""hip2""/>
    <axis xyz=""1 0 0""/>
    <origin xyz=""0.3 -0.1 0""/>
    <limit effort=""40"" velocity=""45"" lower=""-1.57"" upper=""1.57""/>
    <dynamics damping=""1.0"" friction=""0.0""/>
  </joint>
```",quick test like picked well used physic solver thanks help solution use joint revolute parent body child hip axis origin limit dynamic,issue,positive,positive,positive,positive,positive,positive
349765749,"@avikde I haven't seen ``joint_properties`` as an official tag - ``<dynamics>``, on the other hand is listed/official: http://wiki.ros.org/urdf/XML/joint - not sure whether that one is picked up though.",seen official tag dynamic hand sure whether one picked though,issue,positive,positive,positive,positive,positive,positive
349672078,"Please file your issue in the Bullet / PyBullet forums here:
https://pybullet.org/Bullet/phpBB3/viewforum.php?f=24",please file issue bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
348566963,"Thanks for the feedback, I modified it to divide by the number of wheels, as you suggested, so let's close the issue. If you have some other (easy to reproduce) issue with Bullet, please report it here again.",thanks feedback divide number let close issue easy reproduce issue bullet please report,issue,positive,positive,positive,positive,positive,positive
348420583,"ah yep, sorry about that. I appreciate you taking the the time to respond. 

This repository contains my urdf under 'assets', I created it from a xacro using a ROS command. my gym-like environment is called 'env.py'. The rest of the code is from OpenAI baselines: 
https://github.com/neveryoubetray/ddpg

Thanks again.",ah yep sorry appreciate taking time respond repository command environment rest code thanks,issue,positive,negative,negative,negative,negative,negative
348303154,"Never seen anything like this, it could be self-collision.

>> Am I missing any steps in my implementation?

I'm not a fortune teller or clairvoyant.
If you can provide a simple reproduction case (a pybullet file and URDF etc), someone may look into it.

Usual delta time values for robotics ranges from 0.01 sec (pretty big) to 0.001 (1khz). I wouldn't recommend using a bigger timestep, but smaller timestep are better (but slower). The default timestep is 240 Hz.",never seen anything like could missing implementation fortune teller clairvoyant provide simple reproduction case file someone may look usual delta time sec pretty big would recommend bigger smaller better default,issue,positive,positive,neutral,neutral,positive,positive
347776886,"For the following lines based on ``hello_pybullet.py ``
```python
import pybullet as p
from time import sleep

physicsClient = p.connect(p.GUI)
```
I get the following bus error:
```$ python3 hello_pybullet.py 
pybullet build time: Nov 29 2017 09:19:55
startThreads creating 1 threads.
starting thread 0
started thread 0 
argc=4
argv[0] = unused
argv[1] = 
argv[2] = --logtostderr
argv[3] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
glewXInit dynamically loaded using dlopen/dlsym OK
glewXInit OK
Creating context
Created GL 3.0 context
Direct GLX rendering context obtained
Making context current
glewOpenGL11Init dynamically loaded using dlopen/dlsym OK
glewOpenGL11Init OK!
GL_VENDOR=Intel Open Source Technology Center
GL_RENDERER=Mesa DRI Intel(R) Ivybridge Desktop 
GL_VERSION=3.3 (Core Profile) Mesa 11.2.0
GL_SHADING_LANGUAGE_VERSION=3.30
pthread_getconcurrency()=0
Bus error
```
If I enable ``opengl2``, as in:
```python
import pybullet as p
from time import sleep

physicsClient = p.connect(p.GUI, options=""--opengl2"")
```
everything seems to be working fine:
```
 $ python3 hello_pybullet.py 
pybullet build time: Nov 29 2017 09:19:55
startThreads creating 1 threads.
starting thread 0
started thread 0 
argc=4
argv[0] = unused
argv[1] = --opengl2
argv[2] = --logtostderr
argv[3] = --start_demo_name=Physics Server
ExampleBrowserThreadFunc started
X11 functions dynamically loaded using dlopen/dlsym OK!
glewXInit dynamically loaded using dlopen/dlsym OK
glewXInit OK
4

	visual 0x20 selected
glewOpenGL11Init dynamically loaded using dlopen/dlsym OK
glewOpenGL11Init OK!
GL_VENDOR=Intel Open Source Technology Center
GL_RENDERER=Mesa DRI Intel(R) Ivybridge Desktop 
GL_VERSION=3.0 Mesa 11.2.0
GL_SHADING_LANGUAGE_VERSION=1.30
pthread_getconcurrency()=0
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0 
MotionThreadFunc thread started
numActiveThreads = 0
stopping threads
stopThreads: Thread 0 used: 1
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed
finished
numActiveThreads = 0
btShutDownExampleBrowser stopping threads
stopThreads: Thread 0 used: 1
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed
```
Let me know if you need any additional info.

**Edit**: Clean build, no custom settings.
```sh
$./build_cmake_pybullet_double.sh
$ python3 setup.py build
$ sudo python3 setup.py install
```
on
```
$ uname -a
Linux homestation 4.4.0-57-generic #78-Ubuntu SMP Fri Dec 9 23:50:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux
```
with
```
$ gcc --version
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609
```
and
```
$ python3
Python 3.5.2 (default, Nov 23 2017, 16:37:01) 
[GCC 5.4.0 20160609] on linux
```
",following based python import time import sleep get following bus error python build time starting thread thread unused server dynamically loaded dynamically loaded context context direct rendering context making context current dynamically loaded open source technology center core profile mesa bus error enable python import time import sleep everything working fine python build time starting thread thread unused server dynamically loaded dynamically loaded visual selected dynamically loaded open source technology center mesa selected physic server starting thread thread thread stopping thread used thread thread destroy semaphore semaphore destroy main semaphore main semaphore finished stopping thread used thread thread destroy semaphore semaphore destroy main semaphore main semaphore let know need additional edit clean build custom sh python build python install generic version python python default,issue,negative,positive,neutral,neutral,positive,positive
347566216,"Indeed, only JOINT_REVOLUTE, JOINT_PRISMATIC, and JOINT_FIXED are supported in pybullet for createMultiBody at the moment. I updated the pybullet quickstart quide in the createMultibody section.
In addition, you can createUserConstraint using JOINT_PRISMATIC, JOINT_FIXED, JOINT_POINT2POINT, JOINT_GEAR, for example to close loops or simulate gears etc.",indeed moment section addition example close simulate,issue,negative,neutral,neutral,neutral,neutral,neutral
347061419,"* I mostly copied the CMakeLists from the RobotSimulator example
* It's missing a `premake4.lua`",mostly copied example missing,issue,negative,positive,positive,positive,positive,positive
347037710,"Great! Would it be possible to share the matlab script and way/description to add/generate the Bullet curves?
There is also a Pendulum demo and test here: https://github.com/bulletphysics/bullet3/blob/master/examples/MultiBody/Pendulum.cpp
It uses the a sPendulumGold version as comparison using this Python script:
```
#!/usr/bin/env python
from __future__ import print_function
import numpy as np
from scipy import integrate
import pylab as pl
import math
import argparse
theta_pos = 0
dtheta_pos = 1
def pendulum_system(Y, t):
  m = 10  # [kg]
  g = 9.81  # [m/s^2]
  l = 0.5  # [m]
  tau = 20  # [Nm]
  I = m * pow(l, 2)  # inertia
  return [Y[dtheta_pos], (tau - m*g*l*math.sin(Y[theta_pos])) / I]
def main():
  parser = argparse.ArgumentParser()
  parser.add_argument('--plot', action='store_true', default=False, help='Plot results')
  args = parser.parse_args()
  t = np.arange(0, 2, 0.001) # [s]
  theta0 = 0
  dtheta0 = 0
  theta = integrate.odeint(pendulum_system, [theta0, dtheta0], t)  # [rad]
  print(""timestamp;theta;"")
  for i in range(theta.shape[0]):
    print(""%f;%f;"" % (t[i], theta[i,theta_pos]))
  if args.plot:
    pl.plot(t, theta[:,theta_pos], '+')
    pl.show()
if __name__ == '__main__':
  main()

```",great would possible share script bullet also pendulum test version comparison python script python import import import integrate import import math import tau pow inertia return tau main parser plot theta theta theta rad print theta range print theta theta main,issue,positive,positive,positive,positive,positive,positive
347034346,"Thanks, that eliminated that problem!
![untitled](https://user-images.githubusercontent.com/3183687/33243775-5c5dcc3a-d2ba-11e7-8980-f8c8e39bbb4d.png)
Next, I will try to make a similar test with a hybrid system (with contacts) and perhaps have similar stupid questions about sim parameters.

> Even if you use the C-API, it helps reading the pybullet.org documentation, since pybullet uses the same C-API.

I will do that more. I might start adding doxygen comments to PhysicsClientC_API.h (from the similar functions in the pybullet guide, as well as what I'm learning from these issues or otherwise) so that at least I have a reference for the C API. I can send a PR after it is done in case you want to host on github pages, or I can do it with all the pointers/references to this github repo.",thanks problem untitled next try make similar test hybrid system perhaps similar stupid even use reading documentation since might start similar guide well learning otherwise least reference send done case want host,issue,negative,negative,negative,negative,negative,negative
347026995,"It is hard to tell where the differences come from. Note that you call 'stepSimulation' after reading the joint values, so there could be 1 frame delay difference between Bullet and MATLAB.

Also, we can implement the calculateForwardDynamics, taking joint angles/velocities as argument, instead of stepping the simulation and changing the state (similar to calculateInverseDynamics).

Bullet loadURDF command ignores the inertia tensor by default, since it is often a bogus value. Instead, it recomputes the inertia based on mass and volume of the collision shape. You can force using the inertia from the URDF file using the flag URDF_USE_INERTIA_FROM_FILE. Even if you use the C-API, it helps reading the pybullet.org documentation, since pybullet uses the same C-API.

```
int flags = URDF_USE_INERTIA_FROM_FILE;
b3LoadUrdfCommandSetFlags(command,flags);

```",hard tell come note call reading joint could frame delay difference bullet also implement taking joint argument instead stepping simulation state similar bullet command inertia tensor default since often bogus value instead inertia based mass volume collision shape force inertia file flag even use reading documentation since command,issue,negative,negative,negative,negative,negative,negative
347021932,"That resolves my misuse of the C API, thanks!

I'm now trying to calibrate different simulation parameters (which I'm slowly learning about) so I understand their effect. I ran some simulations and compared to a MATLAB simulation with MaxStep 0.1ms (to try and create a ""ground truth"" for this simple example). 

I varied:
* different fixed timestep in bullet (250, 500, 1000 Hz) 
* with and without the linear/angular damping -- the 500Hz trial has the default linear/angular damping, it is turned off for the others

![untitled](https://user-images.githubusercontent.com/3183687/33242182-ce500658-d29e-11e7-9682-287cd155e1d5.png)

Sorry the plot is a little crowded, but the 'mi' plots are matlab, joint i, 'bi' are from bullet. In general my conclusion is that the timestep is not having a large effect (the 250, 1000 plots almost coincide). The linear/angular damping has some effect, so disabling them seems right. However, there is still some discrepancy with MATLAB. Would you suggest tuning any other parameters?

EDIT: my simulation code is the same as yours, with the last while loop containing this:
```cpp
	while (b3CanSubmitCommand(kPhysClient)) {
		simTimeS += 0.000001*dtus1;
		// apply some torque
		b3GetJointInfo(kPhysClient, twojoint, jointNameToId2[""joint_2""], &jointInfo);
		command = b3JointControlCommandInit2(kPhysClient, twojoint, CONTROL_MODE_TORQUE);
		b3JointControlSetDesiredForceTorque(command, jointInfo.m_uIndex, 0.5 * sin(10*simTimeS));
		statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);

		// get joint values
		command = b3RequestActualStateCommandInit(kPhysClient, twojoint);
		statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
		b3GetJointState(kPhysClient, statusHandle, jointNameToId2[""joint_1""], &state);
		q[0] = state.m_jointPosition;
		v[0] = state.m_jointVelocity;
		b3GetJointState(kPhysClient, statusHandle, jointNameToId2[""joint_2""], &state);
		q[1] = state.m_jointPosition;
		v[1] = state.m_jointVelocity;

		statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, b3InitStepSimulationCommand(kPhysClient));

		// debugging output
		printf(""%.3f\t%.3f\t%.3f\t%.3f\t%.3f\n"", simTimeS, q[0], q[1], v[0], v[1]);
		std::this_thread::sleep_for(std::chrono::microseconds(dtus1));
	}
```",misuse thanks trying calibrate different simulation slowly learning understand effect ran simulation try create ground truth simple example varied different fixed bullet without damping trial default damping turned untitled sorry plot little crowded joint bullet general conclusion large effect almost coincide damping effect right however still discrepancy would suggest tuning edit simulation code last loop apply torque command command sin command get joint command command state state output,issue,negative,negative,neutral,neutral,negative,negative
346985021,"Yes, it sounds reasonable to make it easier to activate other bodies when removing a body.

If you would add a 'stepSimulation', after 'active' and before 'removeBody', the 'activate' will likely propagate, but since you remove the object before stepping the simulation, the other objects will never be activated.

If you make a small patch (no whitespace), I'll review/merge it.",yes reasonable make easier activate removing body would add likely propagate since remove object stepping simulation never make small patch,issue,positive,negative,neutral,neutral,negative,negative
346983821,"The C-API is very error-prone and verbose, mainly for pybullet and C++ binding.

You can 'fix' the base of the body using
 `b3LoadUrdfCommandSetUseFixedBase(command,true);`

You need to use b3JointControlSetDesiredVelocity together with b3JointControlSetMaximumForce, otherwise the command has no effect. We could remove the [if (hasDesiredVelocity) check](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L4492) around line 4492 to make your version work. For now, just add some target velocity:

 ```
command = b3JointControlCommandInit2(kPhysClient, twojoint, CONTROL_MODE_VELOCITY);
 b3JointControlSetDesiredVelocity(command,jointInfo.m_uIndex,0);
 b3JointControlSetMaximumForce(command, jointInfo.m_uIndex, 0);

```

Also, you may want to disable the default linear and angular damping:
  ```
//disable default linear/angular damping
    b3SharedMemoryCommandHandle command = b3InitChangeDynamicsInfo(kPhysClient);
    double linearDamping = 0;
    double angularDamping = 0;
    b3ChangeDynamicsInfoSetLinearDamping(command,twojoint, linearDamping);
    b3ChangeDynamicsInfoSetAngularDamping(command,twojoint,angularDamping);
    statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
   
```

Here is a working version. Note that the links move very fast and seem to hit some joint limit soon.

```

#include <map>
#include <string>
#include <chrono>
#include <thread>

#include ""SharedMemory/PhysicsClientC_API.h""
#include ""Bullet3Common/b3Vector3.h""
#include ""Bullet3Common/b3Quaternion.h""

extern const int CONTROL_RATE;
const int CONTROL_RATE = 250;

// Bullet globals
b3PhysicsClientHandle kPhysClient = 0;
const b3Scalar FIXED_TIMESTEP = 1.0/((b3Scalar)CONTROL_RATE);
// temp vars used a lot
b3SharedMemoryCommandHandle command;
b3SharedMemoryStatusHandle statusHandle;
int statusType, ret;
b3JointInfo jointInfo;
b3JointSensorState state;
// test
int twojoint;
std::map< std::string, int > jointNameToId;

int main(int argc, char* argv[]) {
    kPhysClient = b3CreateInProcessPhysicsServerAndConnectMainThread(argc, argv);
    if (!kPhysClient)
        return -1;
    // visualizer
    command = b3InitConfigureOpenGLVisualizer(kPhysClient);
    b3ConfigureOpenGLVisualizerSetVisualizationFlags(command, COV_ENABLE_GUI, 0);
    b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
    b3ConfigureOpenGLVisualizerSetVisualizationFlags(command, COV_ENABLE_SHADOWS, 0);
    b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
    
    b3SetTimeOut(kPhysClient, 10);
    
    //syncBodies is only needed when connecting to an existing physics server that has already some bodies
    command = b3InitSyncBodyInfoCommand(kPhysClient);
    statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
    statusType = b3GetStatusType(statusHandle);
    
    // set fixed time step
    command = b3InitPhysicsParamCommand(kPhysClient);
    ret = b3PhysicsParamSetTimeStep(command, FIXED_TIMESTEP);
    statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
    ret = b3PhysicsParamSetRealTimeSimulation(command, false);
    statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
    
    b3Assert(b3GetStatusType(statusHandle) == CMD_CLIENT_COMMAND_COMPLETED);
    
    
    // load test
    command = b3LoadUrdfCommandInit(kPhysClient, ""TwoJointRobot_wo_fixedJoints.urdf"");
    b3LoadUrdfCommandSetStartPosition(command, -2, 0, 1);
    b3LoadUrdfCommandSetUseFixedBase(command,true);
    // q.setEulerZYX(0, 0, 0);
    // b3LoadUrdfCommandSetStartOrientation(command, q[0], q[1], q[2], q[3]);
    b3LoadUrdfCommandSetUseMultiBody(command, true);
    statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
    statusType = b3GetStatusType(statusHandle);
    b3Assert(statusType == CMD_URDF_LOADING_COMPLETED);
    if (statusType == CMD_URDF_LOADING_COMPLETED) {
        twojoint = b3GetStatusBodyIndex(statusHandle);
    }
    
    //disable default linear/angular damping
    b3SharedMemoryCommandHandle command = b3InitChangeDynamicsInfo(kPhysClient);
    double linearDamping = 0;
    double angularDamping = 0;
    b3ChangeDynamicsInfoSetLinearDamping(command,twojoint, linearDamping);
    b3ChangeDynamicsInfoSetAngularDamping(command,twojoint,angularDamping);
    statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
    
    int numJoints = b3GetNumJoints(kPhysClient, twojoint);
    printf(""twojoint numjoints = %d\n"", numJoints);
    // Loop through all joints
    for (int i=0; i<numJoints; ++i) {
        // max force = 0
        command = b3JointControlCommandInit2(kPhysClient, twojoint, CONTROL_MODE_VELOCITY);
        b3JointControlSetDesiredVelocity(command,jointInfo.m_uIndex,0);
        b3JointControlSetMaximumForce(command, jointInfo.m_uIndex, 0);
        statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
        
        b3GetJointInfo(kPhysClient, twojoint, i, &jointInfo);
        if (jointInfo.m_jointName[0]) {
            jointNameToId[std::string(jointInfo.m_jointName)] = i;
        } else {
            continue;
        }
        
    }
    
    // loop
    unsigned long dtus1 = (unsigned long) 1000000.0*FIXED_TIMESTEP;
    double simTimeUS1 = 0;
    double zer[3] = {0,0,0};
    double q[2], v[2];
    while (b3CanSubmitCommand(kPhysClient)) {
        simTimeUS1 += dtus1;
        // reset base velocity
        // apply some torque
        b3GetJointInfo(kPhysClient, twojoint, jointNameToId[""joint_2""], &jointInfo);
        // command = b3JointControlCommandInit2(kPhysClient, twojoint, CONTROL_MODE_VELOCITY);
        // b3JointControlSetDesiredVelocity(command, jointInfo.m_uIndex, 1);
        command = b3JointControlCommandInit2(kPhysClient, twojoint, CONTROL_MODE_TORQUE);
        b3JointControlSetDesiredForceTorque(command, jointInfo.m_uIndex, 200);
        // b3JointControlSetMaximumForce(command, jointInfo.m_uIndex, 100);
        statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
      
        statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, b3InitStepSimulationCommand(kPhysClient));
        
        // get joint values
        command = b3RequestActualStateCommandInit(kPhysClient, twojoint);
        statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
        b3GetJointState(kPhysClient, statusHandle, jointNameToId[""joint_1""], &state);
        q[0] = state.m_jointPosition;
        v[0] = state.m_jointVelocity;
        b3GetJointState(kPhysClient, statusHandle, jointNameToId[""joint_2""], &state);
        q[1] = state.m_jointPosition;
        v[1] = state.m_jointVelocity;
        
        statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, b3InitStepSimulationCommand(kPhysClient));
        
        // debugging output
        printf(""%.3f\t%.3f\t%.3f\t%.3f\t%.3f\n"", 0.000001*simTimeUS1, q[0], q[1], v[0], v[1]);
        std::this_thread::sleep_for(std::chrono::microseconds(dtus1));
    }
    b3DisconnectSharedMemory(kPhysClient);
    return 0;
}

```",verbose mainly binding base body command true need use together otherwise command effect could remove check around line make version work add target velocity command command command also may want disable default linear angular damping default damping command double double command command command working version note link move fast seem hit joint limit soon include map include string include include thread include include include extern bullet temp used lot command ret state test main char return visualizer command command command command command physic server already command command set fixed time step command ret command command ret command false command load test command command command true command command true command default damping command double double command command command loop force command command command command else continue loop unsigned long unsigned long double double zer double reset base velocity apply torque command command command command command command get joint command command state state output return,issue,positive,negative,neutral,neutral,negative,negative
346982692,"Yes, those masses should be const indeed. Thanks for the contribution!",yes indeed thanks contribution,issue,positive,positive,positive,positive,positive,positive
346981706,"BTW my goal is just to compare to (e.g.) this simple MATLAB _(EDIT: R2017A)_ code

```matlab
robot = importrobot('../../../bullet3/data/TwoJointRobot_wo_fixedJoints.urdf');

X0 = zeros(4,1);
[t,X] = ode45(@(t, X) myDyn(t, X, robot), [0,5], X0);

subplot(211)
plot(t, X(:,1:2))
ylabel('pos')
subplot(212)
plot(t, X(:,3:4))
ylabel('vel')

function Xd = myDyn(t, X, robot)
	q = X(1:2);
	qd = X(3:4);
	qdd = forwardDynamics(robot, q, qd, [0;1]);
	Xd = [qd;qdd];
end
```

![untitled](https://user-images.githubusercontent.com/3183687/33236910-14e25efe-d231-11e7-86e2-af1f36f506f4.png)


I'll try the pybullet suggestion but I don't have it installed yet so it will take me a little while -- besides I'm sure my problem is just that I'm not using the API correctly in the first place.",goal compare simple edit ra code robot ode robot subplot plot subplot plot function robot robot end untitled try suggestion yet take little besides sure problem correctly first place,issue,negative,positive,positive,positive,positive,positive
346981091,"Thanks for the very quick response! 

* Here is a full working example -- to build, the fastest way is to replace all the code in RobotSimulator/RobotSimulatorMain.cpp (but it doesn't use any other file in that project).
* I removed the resetting of base velocity -- I just didn't want the body to float around. I should add a constraint to do that.
* The urdf I'm using is in data/ already https://github.com/bulletphysics/bullet3/blob/master/data/TwoJointRobot_wo_fixedJoints.urdf 

```cpp

#include <map>
#include <string>
#include <chrono>
#include <thread>

#include ""SharedMemory/PhysicsClientC_API.h""
#include ""Bullet3Common/b3Vector3.h""
#include ""Bullet3Common/b3Quaternion.h""

extern const int CONTROL_RATE;
const int CONTROL_RATE = 250;

// Bullet globals
b3PhysicsClientHandle kPhysClient = 0;
const b3Scalar FIXED_TIMESTEP = 1.0/((b3Scalar)CONTROL_RATE);
// temp vars used a lot
b3SharedMemoryCommandHandle command;
b3SharedMemoryStatusHandle statusHandle;
int statusType, ret;
b3JointInfo jointInfo;
b3JointSensorState state;
// test
int twojoint;
std::map< std::string, int > jointNameToId;

int main(int argc, char* argv[]) {
	kPhysClient = b3CreateInProcessPhysicsServerAndConnect(argc, argv);
	if (!kPhysClient)
		return -1;
	// visualizer
	command = b3InitConfigureOpenGLVisualizer(kPhysClient);
	b3ConfigureOpenGLVisualizerSetVisualizationFlags(command, COV_ENABLE_GUI, 0);
	b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
	b3ConfigureOpenGLVisualizerSetVisualizationFlags(command, COV_ENABLE_SHADOWS, 0);
	b3SubmitClientCommandAndWaitStatus(kPhysClient, command);

	b3SetTimeOut(kPhysClient, 10);

	//syncBodies is only needed when connecting to an existing physics server that has already some bodies
	command = b3InitSyncBodyInfoCommand(kPhysClient);
	statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
	statusType = b3GetStatusType(statusHandle);

	// set fixed time step
	command = b3InitPhysicsParamCommand(kPhysClient);
	ret = b3PhysicsParamSetTimeStep(command, FIXED_TIMESTEP);
	statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
	ret = b3PhysicsParamSetRealTimeSimulation(command, false);
	statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);

	b3Assert(b3GetStatusType(statusHandle) == CMD_CLIENT_COMMAND_COMPLETED);


	// load test
	command = b3LoadUrdfCommandInit(kPhysClient, ""TwoJointRobot_wo_fixedJoints.urdf"");
	b3LoadUrdfCommandSetStartPosition(command, -2, 0, 1);
	// q.setEulerZYX(0, 0, 0);
	// b3LoadUrdfCommandSetStartOrientation(command, q[0], q[1], q[2], q[3]);
	b3LoadUrdfCommandSetUseMultiBody(command, true);
	statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
	statusType = b3GetStatusType(statusHandle);
	b3Assert(statusType == CMD_URDF_LOADING_COMPLETED);
	if (statusType == CMD_URDF_LOADING_COMPLETED) {
		twojoint = b3GetStatusBodyIndex(statusHandle);
	}
	int numJoints = b3GetNumJoints(kPhysClient, twojoint);
	printf(""twojoint numjoints = %d\n"", numJoints);
	// Loop through all joints
	for (int i=0; i<numJoints; ++i) {
		b3GetJointInfo(kPhysClient, twojoint, i, &jointInfo);
		if (jointInfo.m_jointName[0]) {
			jointNameToId[std::string(jointInfo.m_jointName)] = i;
		} else {
			continue;
		}
		// max force = 0
		command = b3JointControlCommandInit2(kPhysClient, twojoint, CONTROL_MODE_VELOCITY);
		b3JointControlSetMaximumForce(command, jointInfo.m_uIndex, 0);
		statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
	}

	// loop
	unsigned long dtus1 = (unsigned long) 1000000.0*FIXED_TIMESTEP;
	double simTimeUS1 = 0;
	double zer[3] = {0,0,0};
	double q[2], v[2];
	while (b3CanSubmitCommand(kPhysClient)) {
		simTimeUS1 += dtus1;
		// reset base velocity
		// apply some torque
		b3GetJointInfo(kPhysClient, twojoint, jointNameToId[""joint_2""], &jointInfo);
		// command = b3JointControlCommandInit2(kPhysClient, twojoint, CONTROL_MODE_VELOCITY);
		// b3JointControlSetDesiredVelocity(command, jointInfo.m_uIndex, 1);
		command = b3JointControlCommandInit2(kPhysClient, twojoint, CONTROL_MODE_TORQUE);
		b3JointControlSetDesiredForceTorque(command, jointInfo.m_uIndex, 200);
		// b3JointControlSetMaximumForce(command, jointInfo.m_uIndex, 100);
		statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);

		// get joint values
		command = b3RequestActualStateCommandInit(kPhysClient, twojoint);
		statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, command);
		b3GetJointState(kPhysClient, statusHandle, jointNameToId[""joint_1""], &state);
		q[0] = state.m_jointPosition;
		v[0] = state.m_jointVelocity;
		b3GetJointState(kPhysClient, statusHandle, jointNameToId[""joint_2""], &state);
		q[1] = state.m_jointPosition;
		v[1] = state.m_jointVelocity;

		statusHandle = b3SubmitClientCommandAndWaitStatus(kPhysClient, b3InitStepSimulationCommand(kPhysClient));

		// debugging output
		printf(""%.3f\t%.3f\t%.3f\t%.3f\t%.3f\n"", 0.000001*simTimeUS1, q[0], q[1], v[0], v[1]);
		std::this_thread::sleep_for(std::chrono::microseconds(dtus1));
	}
	b3DisconnectSharedMemory(kPhysClient);
	return 0;
}


```",thanks quick response full working example build way replace code use file project removed base velocity want body float around add constraint already include map include string include include thread include include include extern bullet temp used lot command ret state test main char return visualizer command command command command command physic server already command command set fixed time step command ret command command ret command false command load test command command command command true command loop else continue force command command command loop unsigned long unsigned long double double zer double reset base velocity apply torque command command command command command command get joint command command state state output return,issue,positive,negative,neutral,neutral,negative,negative
346980627,"It would be easier if you quickly prototype this using pybullet in Python, and once that works, re-implement it using the C-API: this is likely about 10 lines of Python. It is very easy to get the indexing wrong in C (m_uIndex/m_qIndex, joint index etc). Alternatively, provide a simple reproduction case that compiles out-of-the-box (with some main function etc, because scanning C code for mistakes is very time consuming. Also provide the TwoJointRobot_wo_fixedJoints.urdf, or use any of the URDF files in Bullet/data.

It is not recommended to call any reset/b3CreatePoseCommandSetBaseLinearVelocity during the simulation, why is it needed?

>>setting all the joints to velocity mode, with max force 0

Yes, you need to unlock the joints after loading the URDF, even if you use torque control afterwards.


There are plenty of pybullet examples using torque control. For example, see
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_dynamics.py with graphs.
Thanks!",would easier quickly prototype python work likely python easy get indexing wrong joint index alternatively provide simple reproduction case main function scanning code time consuming also provide use call simulation setting velocity mode force yes need unlock loading even use torque control afterwards plenty torque control example see thanks,issue,positive,positive,neutral,neutral,positive,positive
346980204,"BTW I'm setting all the joints to velocity mode, with max force 0 after importing  (as suggested in #1026)",setting velocity mode force,issue,negative,neutral,neutral,neutral,neutral,neutral
346916794,"Please provide more information, since ""problematic"" is not clear enough.
getCameraImage can render using TinyRenderer on CPU and using OpenGL 3.x hardware, so there are two different code paths. Both should give similar results in RGB and depth data (not identical, since TinyRenderer is very limited etc)

Please create a small test that recreates the problem, mention if the issue is related to CPU and/or OpenGL GPU rendering, and if there are just two lines needed to fix it, please open a pull request with those two lines.

If your conversion is about scaling the range from [0,1] to real depth, some example code is useful too (instead of changing the API).

See also this accepted pull request, that made sure TinyRenderer and OpenGL provides similar depth data:
https://github.com/bulletphysics/bullet3/pull/1439

Thanks a lot!",please provide information since problematic clear enough render hardware two different code give similar depth data identical since limited please create small test problem mention issue related rendering two fix please open pull request two conversion scaling range real depth example code useful instead see also accepted pull request made sure similar depth data thanks lot,issue,positive,positive,neutral,neutral,positive,positive
346910082,"actually, another fix was needed, please try pybullet 1.7.3 (using pip install -U pybullet now)",actually another fix please try pip install,issue,negative,neutral,neutral,neutral,neutral,neutral
346902922,"Fixed here, can you try pip install -U pybullet, using 1.7.2?
https://github.com/bulletphysics/bullet3/pull/1455",fixed try pip install,issue,negative,positive,neutral,neutral,positive,positive
346494401,"Thanks for the contribution, let's apply it.",thanks contribution let apply,issue,negative,positive,positive,positive,positive,positive
346420458,"That fixed it! Not sure why I didn't try that before.  For reference,
```
> cmake .. -DUSE_MSVC_SSE=OFF <other options> -G ""NMake Makefiles""
```",fixed sure try reference,issue,negative,positive,positive,positive,positive,positive
346417551,"You could try to use -DUSE_MSVC_SSE=OFF
It looks like a silly warning, https://stackoverflow.com/questions/1067630/sse2-option-in-visual-c-x64",could try use like silly warning,issue,negative,negative,negative,negative,negative,negative
345795180,"Yes, we can look into adding support for maximum velocity control (due to the motor).",yes look support maximum velocity control due motor,issue,positive,negative,negative,negative,negative,negative
345554517,"The other method (including a div by 2) is more conservative of energy, and more accurate between varying tick rates.
(clients running at 90fps and servers running at 30 or less for instance).

For a falling body, with your existing method, the body will fall further than it should, thereby gaining energy; and causing guaranteed desync between different systems.
",method div conservative energy accurate tick running running le instance falling body method body fall thereby gaining energy causing different,issue,positive,positive,positive,positive,positive,positive
345553714,"Bullet uses the semi-implicit Euler integration, as described here: https://en.wikipedia.org/wiki/Semi-implicit_Euler_method. One of the benefits is that semi-implicit integration almost conserves the energy.

As the time step gets smaller, it will approximate the analytical solution, but at larger time steps there is an approximation error indeed. So if you want better accuracy, use a smaller time step.

If you don't want damping (linear/angular), set it to zero.",bullet integration one integration almost energy time step smaller approximate analytical solution time approximation error indeed want better accuracy use smaller time step want damping set zero,issue,positive,positive,neutral,neutral,positive,positive
345475351,"Hi Erwin! I found the delay is caused by glClear [here](https://github.com/bulletphysics/bullet3/blob/master/examples/OpenGLWindow/X11OpenGLWindow.cpp#L983). And I also found that after restarting the computer, at the first time I run pybullet and connect to GUI, it goes smoothly. But starting with the second time, the delay is significant (more than a minute). 

Meanwhile, among your suggestions, `p.connect(p.GUI,options=""--opengl2"")` and `./App_BulletExampleBrowser_gmake_x64_release --start_demo_name=""Physics Server""` does not solve the problem. The delay is the same in both situations.",hi found delay also found computer first time run connect go smoothly starting second time delay significant minute meanwhile among physic server solve problem delay,issue,negative,positive,positive,positive,positive,positive
345474171,"Oh ok, I'll expose it. In the meanwhile if you want to see how look like in this moment: https://www.youtube.com/watch?v=8A6PYFSesKQ",oh expose meanwhile want see look like moment,issue,negative,neutral,neutral,neutral,neutral,neutral
345465467,"I'm glad you got it to work.

>> bullet [softbody] require CCW indices?

Who knows, the original creator of btSoftBody has long gone, that code is over 10 years old. Soft body has not been my focus.

It will take some time to understand the limitations and possibilities of btSoftbody, and exposing the various options will help (shape matching enabled/disabled, collision clusters ON/OFF, generating bending constraints etc.).",glad got work bullet require index original creator long gone code old soft body focus take time understand various help shape matching collision generating bending,issue,positive,positive,positive,positive,positive,positive
345450957,"I fixed it, by inverting the indices order. This is odd why bullet require CCW indices?",fixed index order odd bullet require index,issue,negative,negative,neutral,neutral,negative,negative
345446348,"Thanks you for your response, I've fixed this issue. Now the implementation is quite completed but I've this last problem.

https://www.youtube.com/watch?v=xJciXWShCr8&feature=youtu.be

As you can see in the begining of the video in the editor the sphere normals are correctly outside the mesh: 
![untitled2](https://user-images.githubusercontent.com/8342599/32981457-4b217e2a-cc76-11e7-84cf-2903250c528f.png)

When I start the simulation the mesh normals are inverted:
![untitled](https://user-images.githubusercontent.com/8342599/32981458-4f80af72-cc76-11e7-98aa-ce9ee583cd8d.png)

I'm searching what is the cause of it. Can you imagine what's the cause is?

However Thanks you for help!",thanks response fixed issue implementation quite last problem see video editor sphere correctly outside mesh untitled start simulation mesh inverted untitled searching cause imagine cause however thanks help,issue,positive,positive,neutral,neutral,positive,positive
345404491," There is some generateBendingConstraints helper, and btSoftBodyHelpers.

>> pressure = 0 and mass = 1

For soft body settings and features, please study the softbody demos (and the [C++ code](https://github.com/bulletphysics/bullet3/blob/master/examples/SoftDemo/SoftDemo.cpp)) in the Bullet Example Browser.

For another source of inspiratoin, you could check out Blender Game Engine (BGE), it has some [conversion for btSoftBody ](https://github.com/dfelinto/blender/blob/3068ea34e414e7af6d20af7ab92c69cbd9a33414/source/gameengine/Physics/Bullet/CcdPhysicsController.cpp#L264)too for some features.

Notice things like btSoftBody:;updateBounds (needs to be called at the right time),  shape matching features (setPose) , generateClusters etc. You may want to expose those as options in Godot Engine, since those features are not universally applicable.

If you are still stuck after that, please ask another specific question. Good luck!",helper pressure mass soft body please study demo code bullet example browser another source could check blender game engine conversion notice like need right time shape matching may want expose engine since universally applicable still stuck please ask another specific question good luck,issue,positive,positive,positive,positive,positive,positive
345403242,"Are you using pybullet / Python bindings? If so, each object has a unique id, and the collision results will provide the body unique ids (and link indices). See http://pybullet.org
The underlying C++ implementation is here: https://github.com/erwincoumans/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L5305
There is a collision query for existing contact points (after step Simulation) and a query to compute closest points between arbitrary object(s). The object unique id can be stored in the btCollisionObject/btMultiBody/btRigidBody user info (for example getUserIndex2), or you can store the mapping between rigid body and unique id explicitly in some custom efficient data structure (hash map etc).",python object unique id collision provide body unique link index see underlying implementation collision query contact step simulation query compute arbitrary object object unique id user example store rigid body unique id explicitly custom efficient data structure hash map,issue,negative,positive,positive,positive,positive,positive
345402043,"Odd, seems some compiler bug. By the way, we could safely remove btRaycastVehicle.cpp from pybullet, since we don't use/expose it in pybullet.",odd compiler bug way could safely remove since,issue,negative,positive,positive,positive,positive,positive
345287490,"It can be anything, so it will help giving some suggestions (some obvious ones):
+ Did you try rebooting your machine?
+ Remove that second GPU to see if that is really causing the issue
+ Update to better/latest Nvidia drivers? (there are proprietary ones etc)
+ Does the slow delay also happen if you start the Bullet Example Browser first, in server mode, and connect over shared memory?  Use `./App_BulletExampleBrowser_gmake_x64_release --start_demo_name=""Physics Server""`
+ build Bullet/pybullet using GLFW with premake (cd build3, premake4_linux64 --enable_glfw --enable_pybullet  --double --python_include_dir=""....."" --python_lib_dir=""...."") See also build3/premake4.lua for GLFW related options.
+ Track down which lines causes the delay: sprinkle printf state statements inside Bullet/examples/OpenGLWIndow/X11OpenGLWindow.cpp, in particular inside X11OpenGLWindow::createWindow::createWindow and perhaps X11OpenGLWindow::enableOpenGL.
+ Does the delay also happen if you enable OpenGL2? Use `import pybullet as p p.connect(p.GUI,options=""--opengl2"")`
",anything help giving obvious try machine remove second see really causing issue update proprietary slow delay also happen start bullet example browser first server mode connect memory use physic server build premake build double see also related track delay sprinkle state inside particular inside perhaps delay also happen enable use import,issue,negative,positive,neutral,neutral,positive,positive
345278516,"Great, thanks for sharing your improvements. Will look at it soon.",great thanks look soon,issue,positive,positive,positive,positive,positive,positive
345261046,"Aside from that, you may need to generate extra edges, etc. ",aside may need generate extra,issue,negative,neutral,neutral,neutral,neutral,neutral
345260267,"Vertices with the same position need to be shared, in order to be connected for softbodies. You can create some mappings, if your have multiple vertices with the same position.",vertex position need order connected create multiple vertex position,issue,negative,neutral,neutral,neutral,neutral,neutral
345162552,"So you received a registration confirmation after all?

On Thu, Nov 16, 2017, 17:45 Spencer Kohan <notifications@github.com> wrote:

> Closed #1436 <https://github.com/bulletphysics/bullet3/issues/1436>.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1436#event-1345506697>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qzhZ8tPjG-ttaTV5_PZlv72CDq0xks5s3GaZgaJpZM4QgHGs>
> .
>
",received registration confirmation spencer wrote closed thread reply directly view mute thread,issue,negative,neutral,neutral,neutral,neutral,neutral
345000039,"You can take a look at issue #1432 and #1175 for some conversation around this, but no outward facing progress has been made.

I'm working on basic bindings right now. ",take look issue conversation around outward facing progress made working basic right,issue,negative,positive,positive,positive,positive,positive
344837420,"Hi all, I want to use bullet's examples as libraries in my code. But I found it would take a lot of labor to modify those CMakeLists.txt files in examples folder. So I am just wandering if there are already some source with this kind of work.",hi want use bullet code found would take lot labor modify folder wandering already source kind work,issue,positive,positive,positive,positive,positive,positive
344791128,"Good point. btQuickProf/BT_PROFILE is used for benchmarking, and we mainly use the newer and better b3ProfileZone/B3_PROFILE instead which is more flexible (in combination with Bullet/examples/Util/ChromeTraceUtil.cpp). At some stage, I'll have to retire LinearMath and move to Bullet3Common, have to figure out when/how to avoid breaking lots of code bases.",good point used mainly use better instead flexible combination stage retire move figure avoid breaking lot code base,issue,positive,positive,positive,positive,positive,positive
344723967,Did you get a chance to have a look at it?  Thanks!,get chance look thanks,issue,positive,positive,positive,positive,positive,positive
344639207,"If you can modify an existing multibody demo in the examplr browser and it doesn't work, file  an issue. Otherwise compare your code with the examples. You can also use http://pybullet.org and try to reproduce it.",modify browser work file issue otherwise compare code also use try reproduce,issue,negative,neutral,neutral,neutral,neutral,neutral
343785934,"Thanks for the reply.
Yes it seems we're approaching it from two different angles, we're doing a game prototype where players can design robots in-game and so obviously need to create bullet objects programmatically, as well as be able to solve arbitrary-tree IK which is essential to the game design :(
Creating a Unity-based URDF parser and simulator would be relatively trivial, particularly if it's limited to primitive shapes and doesn't have to load in the visual meshes, we've done half the work already so could get an example going in the next week or two.

In the meantime as we're unable to do certain vital tasks when creating multibodies programmatically, we'll try resorting to a ""trick"" we've been using until now, which is simply creating the URDF files programmatically, loading them up and then matching the link index with the correct mesh for transforms updating.

If we could get arbitrary-tree IK and full support for programmatic creation of bodies and constraints we could then, on our end, merge the two things together and create a Unity-based application that parses URDF files, allows players to modify the robots within the application, simulate, and export any changes back to URDF format, creating a sort-of robot sandbox builder ""game"".
",thanks reply yes approaching two different game prototype design obviously need create bullet programmatically well able solve essential game design parser simulator would relatively trivial particularly limited primitive load visual done half work already could get example going next week two unable certain vital programmatically try trick simply programmatically loading matching link index correct mesh could get full support programmatic creation could end merge two together create application modify within application simulate export back format robot sandbox builder game,issue,positive,negative,neutral,neutral,negative,negative
343784606,"Yes, it is a todo. For our purposes (robotics, machine learning) we really want to load URDF/SDF files into Unity and create Unity graphics objects, and not the other way around. The is a starting point for programmatic creation, and you can use 'changeConstraint' to adjust some parameters but not all. If/when you have made some progress, please share it and it can motivate us to add the needed features.",yes machine learning really want load unity create unity graphic way around starting point programmatic creation use adjust made progress please share motivate u add,issue,positive,positive,neutral,neutral,positive,positive
343782805,"The meaningful way of integrating this into Unity is to be able to create links/joints programmatically and not by loading URDF files.
As such I think a few vital functions are not exposed, namely when creating a multiBody there is no way of defining joint paramters, such as origins, limits, etc.
Is this another part that is yet to be implemented? Any tips on how we could potentially do the work on our end?",meaningful way unity able create programmatically loading think vital exposed namely way joint another part yet could potentially work end,issue,positive,positive,positive,positive,positive,positive
343769696,I think that fixed our problem. Thanks so much!,think fixed problem thanks much,issue,negative,positive,positive,positive,positive,positive
343727306,"The new patch fixes it.

BT_THREADSAFE is defined when BULLET2_USE_THREAD_LOCKS is set in CMake, so you'd have to build two configurations if you want to test this. It makes sense for it to be a preprocessor macro, because otherwise, with the way multi-threading is done now, an ""isThreadSafe"" variable would have to be checked a lot during simulation.

As an exception, I think btQuickProf should be made thread-safe by default or at least redesigned to not use static variables, because it crashes in the case where you want to simulate completely separate worlds in separate threads, which has nothing to do with Bullet's multi-threading functionality: http://bulletphysics.org/Bullet/phpBB3/viewtopic.php?t=5588",new patch defined set build two want test sense macro otherwise way done variable would checked lot simulation exception think made default least use static case want simulate completely separate separate nothing bullet functionality,issue,negative,positive,positive,positive,positive,positive
343714385,"OMG, this patch seems to be broken indeed: https://github.com/bulletphysics/bullet3/commit/8aefa7e8d05118a09d9bb3a4c49db7678391b7b5#commitcomment-25547649

So it gets reverted and I'll have to manually change the logic to not break things.... ",patch broken indeed manually change logic break,issue,negative,negative,negative,negative,negative,negative
343701823,"Awesome! Thanks Erwin.

On Fri, Nov 10, 2017, 9:26 PM erwincoumans <notifications@github.com> wrote:

> No, it was a C99 issue, variables need to be declared at the beginning of
> a block. Fixed now, please update.
> Thanks for the report!
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1411#issuecomment-343642171>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ADcl2hiw_qFfswIX_HqmbiC9ZBnAeCiMks5s1S_4gaJpZM4QKfGw>
> .
>
",awesome thanks wrote issue need declared beginning block fixed please update thanks report thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
343642171,"No, it was a C99 issue in the numpy section of pybullet.c, variables need to be declared at the beginning of a block. Fixed now, please update.
Thanks for the report!",issue section need declared beginning block fixed please update thanks report,issue,negative,positive,positive,positive,positive,positive
343642132,"They were mixed up indeed (and there is only a single implementation with wrong names). Please modify your renderer, it is not worth breaking the API for this seldomly used shape.",mixed indeed single implementation wrong please modify renderer worth breaking seldomly used shape,issue,negative,negative,neutral,neutral,negative,negative
343641720,"You cannot use numpy format matrices, it needs to be a flat list of 16 floats.  Convert it, for example:
 return projection_matrix.transpose().flatten()

getCameraImage requires both a valid view matrix AND projection matrix, otherwise neither will be used (you cannot provide one or the other)

Then, compare your computation with the one from Bullet, by printing it:
 print(""projection_matrix"",projection_matrix)
",use format matrix need flat list convert example return valid view matrix projection matrix otherwise neither used provide one compare computation one bullet printing print,issue,negative,negative,neutral,neutral,negative,negative
343327914,"Thanks @AndresTraks for the tip, it does indeed work as expected by simply passing a double[] instead of having to use an allocated garbage collection handle, although I wonder if it has any memory implications.

@erwincoumans Great news that the IK solver can handle arbitrary tree-IK, we would love to have this in pybullet and the C# bindings as it's essential for the game prototype we're working on.
If you have any pointer on how to expose this ourselves I'd love to know.

b3ApplyExternalForceCommandInit works fine on simple shapes created with the b3CreateBoxShapeCommandInit command but behaves very strangely with URDF files, even the simple cube.urdf and applying a simple force along a world axis leads to some wild intermittent spinning, I have yet to fully understand the issue but it might be related to inertial values?

We are currently working on the game prototype while I experiment with pybullet/C#, in the long-term if we end up using it in production I'd like to do a friendly C# wrapper and put itin the examples folder of the bullet repo if appropriate.

One other question if I may, I can't fully understand how to create visual shapes without loading an external file? There are methods to create the collision shapes and multibodies, but nothing meaningful that I can find for visuals, is this yet to be done?

A small example of what we're doing, this is within Unity and using the simple position IK solver to move the arm: https://i.imgur.com/1LQsdbc.gif

Thanks,
Patrick",thanks tip indeed work simply passing double instead use garbage collection handle although wonder memory great news solver handle arbitrary would love essential game prototype working pointer expose love know work fine simple command strangely even simple simple force along world axis wild intermittent spinning yet fully understand issue might related inertial currently working game prototype experiment end production like friendly wrapper put folder bullet appropriate one question may ca fully understand create visual without loading external file create collision nothing meaningful find yet done small example within unity simple position solver move arm thanks,issue,positive,positive,positive,positive,positive,positive
343310273,"So, I finally ""resolved"" this issue by upgrading my Ubuntu 16.04 LTS to 17.04. Therefore, it seems like an Bug in Ubunutu 16.04, which might be specific to Intel Skylake CPU's as other Intel CPU's on 16.04 were not affected. 

But, I guess making Timers optional at compile time would carve out a few percent in computation time. 

```
-------------------------------------------------
                 	  Iter  	 Total  
Object Creation  	8.229e-05s	0.010s
Simulation       	1.122e-03s	1.122s
-------------------------------------------------
Simulation       	        	1.122s
```",finally resolved issue therefore like bug might specific affected guess making optional compile time would carve percent computation time iter total object creation simulation simulation,issue,positive,neutral,neutral,neutral,neutral,neutral
343277469,"> you can set the parameter type to ""double[]"" and pass the array directly.

Does that fix your issue? I'm not very familiar with C# myself.

>  to calculate inverse kinematics only for a portion of the robot 

The underlying IK can do it, but we need to expose the functionality: it can handle arbitrary tree-IK with multiple end effector targets, but we only exposed what we needed at the moment. We'll look into it.

b3ApplyExternalForceCommandInit has some option to apply forces in local or world frame.

You may want to create some user friendly C# wrapper,with a similar API to [pybullet](http://pybullet.org) is that what you work on?",set parameter type double pas array directly fix issue familiar calculate inverse kinematics portion robot underlying need expose functionality handle arbitrary multiple end effector exposed moment look option apply local world frame may want create user friendly wrapper similar work,issue,positive,positive,neutral,neutral,positive,positive
342700160,Since the logic is more complex than #if defined(__ANDROID__)  #else <unmodified> #endif I'll have to manually go through the code and test if this doesn't break on any platform.,since logic complex defined else unmodified manually go code test break platform,issue,negative,negative,negative,negative,negative,negative
342699940,"pybullet adds a lot of performance profiling, which uses _gettimeofday on Linux. I'm very surprised it is so slow. We can figure out a way to make the impact less/allow to disable those timers.

Thanks for tracking it down!",lot performance slow figure way make impact disable thanks,issue,negative,negative,neutral,neutral,negative,negative
342672752,"Instead of ""ref double"", you can set the parameter type to ""double[]"" and pass the array directly.",instead ref double set parameter type double pas array directly,issue,negative,positive,neutral,neutral,positive,positive
342668801,"Hi Erwin,
a small issue so far, the NativeMethods.cs has incorrect parameter declaration in the function prototypes when a user needs to pass a double[].
```
// Example
public static extern int b3CreateCollisionShapeAddBox(IntPtr commandHandle, ref double halfExtents);
// Should be
public static extern int b3CreateCollisionShapeAddBox(IntPtr commandHandle, IntPtr halfExtents);
```
When calling, a user needs to allocate some memory and pass a pointer, like so:
```
double[] halfExtents = new double[] { 0.5, 0.5, 0.5 };
GCHandle handle = GCHandle.Alloc(halfExtents, GCHandleType.Pinned);
NativeMethods.b3CreateCollisionShapeAddBox(cmd, handle.AddrOfPinnedObject());
```

I also wanted to ask if it is possible to calculate inverse kinematics only for a portion of the robot or if it can only be calculated for the whole hierarchy?
We need to calculate IK for individuals arms of a robot, I haven't dived into it yet but just wanted to get some input first.

Lastly, I need to do more research into this, but when attempting to manually apply gravity to the base link of a robot I'm running into some issues, if I use a ""robot"" created with the b3CreateBoxShapeCommandInit approach it works fine, if I instead load a URDF (ex: cube.urdf), then as soon as the cube rotates the gravity is applied what seems to be locally and not in world coordinates anymore, and so far I've had little success in understanding why, this is what I use to apply gravity:
```
double[] force = new double[] { 0, -10, 0 };
double[] pos = new double[] { 0, 0, 0 };
GCHandle forceHandle = GCHandle.Alloc(force, GCHandleType.Pinned);
GCHandle posHandle = GCHandle.Alloc(pos, GCHandleType.Pinned);
IntPtr cmd = NativeMethods.b3ApplyExternalForceCommandInit(pybullet);
NativeMethods.b3ApplyExternalForce(cmd, bodyId, -1, forceHandle.AddrOfPinnedObject(), posHandle.AddrOfPinnedObject(), 1);
IntPtr status = NativeMethods.b3SubmitClientCommandAndWaitStatus(pybullet, cmd);
```

Any thoughts?
Thanks,
Patrick",hi small issue far incorrect parameter declaration function user need pas double example public static extern ref double public static extern calling user need allocate memory pas pointer like double new double handle also ask possible calculate inverse kinematics portion robot calculated whole hierarchy need calculate arm robot yet get input first lastly need research manually apply gravity base link robot running use robot approach work fine instead load ex soon cube gravity applied locally world far little success understanding use apply gravity double force new double double new double force status thanks,issue,positive,positive,neutral,neutral,positive,positive
342251497,"So I investigated this further and found the reason. The delay is caused by __vdso_gettimeofday. So for a currently unknown reason the time ""system call""  takes much longer, i.e. System 1: 40s or 86% of 46s vs System 2: 0.037s or 1.28% of 2.9s.

While evaluating the CPU performance using the [Bullet Test of Phoronix Testsuite](https://openbenchmarking.org/test/pts/bullet) I did not experience this time delay. Hence, I guess the timing is used within the Pybullet Interface and not the Bullet Core?  
 
These results were obtained using perf on ubuntu 16.04 with
```
perf record -F 99 python createSphereMultiBodies.py
```

**System 1:**
<img width=""991"" alt=""system_1"" src=""https://user-images.githubusercontent.com/10160295/32456761-05d3ff80-c327-11e7-809f-863990b056db.png"">

**System 2:**
<img width=""1578"" alt=""system_2"" src=""https://user-images.githubusercontent.com/10160295/32456762-05ef812e-c327-11e7-96a3-5557c72ed60f.png"">
",found reason delay currently unknown reason time system call much longer system system performance bullet test experience time delay hence guess timing used within interface bullet core record python system system,issue,negative,positive,neutral,neutral,positive,positive
341938411,"Thanks for the input, I plan on porting the b3RobotSimulatorClientAPI to native C# to be used in a game context within Unity.
I'll let you know how it goes and if I find any major issues or required features.",thanks input plan native used game context within unity let know go find major,issue,negative,negative,neutral,neutral,negative,negative
341931862,"Great, thanks! This is very experimental work, the bindings etc. If you do anything useful with it, or have some improvements/suggestions, please let me know (you can reply in this closed issue).",great thanks experimental work anything useful please let know reply closed issue,issue,positive,positive,positive,positive,positive,positive
341882633,"> These look like pretty good changes.

@ahundt, thanks.

It remains to wait until the decision of @erwincoumans )",look like pretty good thanks remains wait decision,issue,positive,positive,positive,positive,positive,positive
341843160,These look like pretty good changes.,look like pretty good,issue,positive,positive,positive,positive,positive,positive
341747094,"Ok, pushed new version. Will wait for tests to pass",new version wait pas,issue,negative,positive,positive,positive,positive,positive
341730741,"Mac OSX platform is affected by this change. Could you rewrite the patch, using  
```
#if defined(__ANDROID__) 
 //some new logic, 
#else 
unmodified existing logic 
#endif
```
then there is less chance it breaks other platforms.",mac platform affected change could rewrite patch defined new logic else unmodified logic le chance,issue,negative,positive,positive,positive,positive,positive
341722180,"OK, let me have a look and merge it today, Thanks!",let look merge today thanks,issue,negative,positive,positive,positive,positive,positive
341632936,Thanks for the replies and continued updates. I will get back soon after trying.,thanks continued get back soon trying,issue,negative,positive,neutral,neutral,positive,positive
341625427,"Actually, hardmaru could train this kuka grasping environment with his Evolution Strategies algorithms: https://twitter.com/hardmaru/status/926316139071799301
Hopefully his code will be released soon.",actually could train grasping environment evolution hopefully code soon,issue,negative,neutral,neutral,neutral,neutral,neutral
341594055,@erwincoumans Thanks for support. I resolved by enabling STL on Android compiler. Nothing is needed in bullet side.,thanks support resolved android compiler nothing bullet side,issue,positive,positive,positive,positive,positive,positive
341577785,"For the pip installation I used:

```
pip uninstall pybullet
pip install pybullet --user --no-cache-dir
```
From my understanding this should install pybullet from scratch. I also updated the Bios to get the newest Intel Microcode, but the problem still remains. Without Maximal Coordinates the performance degrades even more to 46.5s compared to the 2.8s of the other systems.

Tomorrow, I can try to reproduce the issue on a quite similar CPU. If this does not reproduce the results, I will verify the CPU performance on other benchmarks. 


**Thanks for your super fast & extensive support.** 


```
python createSphereMultiBodies.py 
pybullet build time: Nov  2 2017 23:13:40
--max=0 (useMaximalCoordinates)
--mode=2(connection mode)
DIRECT
--iterations=10 (constraint solver iterations)
Writing 1048576 timings for thread 0

-------------------------------------------------
                 	  Iter  	 Total  
Object Creation  	4.106e-04s	0.051s
Simulation       	4.646e-02s	46.457s
-------------------------------------------------
Simulation       	        	46.457s

python createSphereMultiBodies.py --max=1
pybullet build time: Nov  2 2017 23:13:40
--max=1 (useMaximalCoordinates)
--mode=2(connection mode)
DIRECT
--iterations=10 (constraint solver iterations)
Writing 831208 timings for thread 0

-------------------------------------------------
                 	  Iter  	 Total  
Object Creation  	2.076e-04s	0.026s
Simulation       	8.987e-03s	8.987s
-------------------------------------------------
Simulation       	        	8.987s
```",pip installation used pip pip install user understanding install scratch also bios get problem still remains without maximal performance even tomorrow try reproduce issue quite similar reproduce verify performance thanks super fast extensive support python build time connection mode direct constraint solver writing thread iter total object creation simulation simulation python build time connection mode direct constraint solver writing thread iter total object creation simulation simulation,issue,positive,positive,positive,positive,positive,positive
341533794,"pybullet only runs on CPU at the moment, please ignore CUDA/OpenCL.

I just did ran our benchmark on a tiny NVIDIA Jetson TX2 embedded system with Ubuntu 16.04 and it runs the benchmark around 5sec on its ARM cpu (--max=1)

It is not clear why your i7 Ubuntu system runs so slow and I cannot reproduce it on any of my machines. Did you make sure pybullet is removed properly, and re-install the pip version?

",moment please ignore ran tiny system around sec arm clear system slow reproduce make sure removed properly pip version,issue,positive,positive,neutral,neutral,positive,positive
341518205,"So I had time to play around a bit. 
I used the CMake building script with gcc 5.4. 

I tried the pip installation on all systems with gcc 5.4 and gcc 7.2. I did not see a change in performance. The stronger Ubuntu System 1 needs 8.6s to complete while weaker Ubuntu System 2 needs 1.9s. I guess it cannot be an Ubuntu and gcc problem as we could reproduce the 1.9s performance on Ubuntu. For completeness I uploaded the traces, but these should not look too different from the previous ones ([Google Drive](https://drive.google.com/file/d/1cVy4u18GiEWv84phaBNaHa5TVvjIRVdI/view?usp=sharing)).

OpenCL is turned off by default? So it cannot be caused by GPU computations? As system 1 is the only system with Cuda and OpenCl installed. 

```
python createSphereMultiBodies.py --max=1
pybullet build time: Nov  2 2017 19:05:00
--max=1 (useMaximalCoordinates)
--mode=2(connection mode)
DIRECT
--iterations=10 (constraint solver iterations)
Writing 831208 timings for thread 0

-------------------------------------------------
                 	  Iter  	 Total  
Object Creation  	1.988e-04s	0.025s
Simulation       	8.640e-03s	8.640s
-------------------------------------------------
Simulation       	        	8.640s

```",time play around bit used building script tried pip installation see change performance system need complete system need guess problem could reproduce performance completeness look different previous drive turned default system system python build time connection mode direct constraint solver writing thread iter total object creation simulation simulation,issue,negative,positive,neutral,neutral,positive,positive
341501839,"I have some Ubuntu 16.04 laptop here (product: Intel(R) Core(TM) i7-6700HQ CPU @ 2.60GHz)
 and tried to reproduce your issue, but cannot, the timings are 2.8s (default reduced coordinates) and 1.9s (maximal coordinates), see below:

It could be that the Mac OSX compiler (clang etc) just does a better job optimizing than gcc on Ubuntu.

```
sudo pip install -U pybullet
createSphereMultiBodies.py
-------------------------------------------------
                 	  Iter  	 Total  
Object Creation  	2.570e-04s	0.032s
Simulation       	2.892e-03s	2.892s
-------------------------------------------------
Simulation       	        	2.893s

--------------------------------------------------------------
createSphereMultiBodies.py --max=1
pybullet build time: Nov  2 2017 10:29:24
--max=1 (useMaximalCoordinates)
--mode=2(connection mode)
DIRECT
--iterations=10 (constraint solver iterations)
Writing 831208 timings for thread 0
-------------------------------------------------
                 	  Iter  	 Total  
Object Creation  	1.106e-04s	0.014s
Simulation       	1.996e-03s	1.996s
-------------------------------------------------
Simulation       	        	1.996s

```",product core tried reproduce issue default reduced maximal see could mac compiler clang better job pip install iter total object creation simulation simulation build time connection mode direct constraint solver writing thread iter total object creation simulation simulation,issue,positive,positive,positive,positive,positive,positive
341458855,"ok, thanks for the answers! I will try in the next few days",thanks try next day,issue,negative,positive,neutral,neutral,positive,positive
341450006,"I think it would be good for future contributions if we give some support
for training personal environments (Maybe not here but on the Bullet
Physics forum). If the environment is written in pybullet and uses the Gym
interface, there shouldn't be a big problem to train it. At least the
contributions in my gymperium branch are allowing this.

On Thu, Nov 2, 2017 at 3:55 PM erwincoumans <notifications@github.com>
wrote:

> You should be able to train many pybullet environments without problem
> using PPO or DQN, they use the Gym interface (reset, step). I flagged it in
> the pybullet quickstart guide.
>
> Here are pybullet environments that train well using DQN:
>
> python -m pybullet_envs.baselines.train_pybullet_cartpole
> python -m pybullet_envs.baselines.train_pybullet_racecar
>
> python -m pybullet_envs.baselines.enjoy_pybullet_cartpole
> python -m pybullet_envs.baselines.enjoy_pybullet_racecar
>
> Using PPO:
> python -m pybullet_envs.agents.train_ppo --config=pybullet_pendulum
> --logdir=pendulum
>
> The following environments are available as Agents config:
> pybullet_pendulum
> pybullet_doublependulum
> pybullet_pendulumswingup
> pybullet_cheetah
> pybullet_ant
> pybullet_racecar
> pybullet_minitaur
>
> We cannot provide support for training personal environments here, in
> particular when you don't point to them on github.
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1386#issuecomment-341447738>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q4YUwQK17jeMU-QW6HHQHMq7Gl8hks5sydf8gaJpZM4P5vc6>
> .
>
",think would good future give support training personal maybe bullet physic forum environment written gym interface big problem train least branch wrote able train many without problem use gym interface reset step guide train well python python python python python following available provide support training personal particular point reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
341447738,"You should be able to train many pybullet environments without problem using PPO or DQN, they use the Gym interface (reset, step). I flagged the issue with KUKA in the pybullet quickstart guide.

Here are pybullet environments that train well using DQN:

python -m pybullet_envs.baselines.train_pybullet_cartpole
python -m pybullet_envs.baselines.train_pybullet_racecar
python -m pybullet_envs.baselines.enjoy_pybullet_cartpole
python -m pybullet_envs.baselines.enjoy_pybullet_racecar

Using PPO:
python -m pybullet_envs.agents.train_ppo --config=pybullet_pendulum --logdir=pendulum

The following environments are available as Agents config:
pybullet_pendulum
pybullet_doublependulum
pybullet_pendulumswingup
pybullet_cheetah
pybullet_ant
pybullet_racecar
pybullet_minitaur

See also the Reinforcement Learning section of http://pybullet.org

We cannot provide support for training personal environments here, in particular when you don't share them on github.",able train many without problem use gym interface reset step issue guide train well python python python python python following available see also reinforcement learning section provide support training personal particular share,issue,positive,positive,positive,positive,positive,positive
341360805,"In what format is your personal env? Is it MuJoCo or did you write some
pybullet code?

On Thu, Nov 2, 2017 at 8:12 AM buzzo123 <notifications@github.com> wrote:

> instead of using kukagymEnv-v0, can I train my personal env using ppo?
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1386#issuecomment-341335915>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qyiQymjCVcEsPpLnX2vTvoxNPXMQks5syWtLgaJpZM4P5vc6>
> .
>
",format personal write code wrote instead train personal thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
341298721,"Make sure to upgrade to pybullet 1.6.3 (`pip install -U pybullet`):
I just uploaded a new version of the Kuka grasping environment, both discrete and continuous.
Let's first try to get the kukaGymEnv to train properly (cheat by providing object positions), then later we look into kukaCamGymEnv (from camera pixels)
Using the latest pybullet, you can run the environment manually using

`python3 -m pybullet_envs.examples.kukaGymEnvTest `(this lets you control a few more action settings, it calls the gym 'step2' API.
and 
`python3 -m pybullet_envs.examples.kukaGymEnvTest2` (this calls the actual gym step API)

Training usine TensorFlow Agents PPO:

```
//install pybullet etc
pip install agents, gym, tensorflow, pybullet
//train
python3 -m pybullet_envs.agents.train_ppo --config=pybullet_kuka_grasping --logdir=kuka
tensorboard --logdir=kuka/<timestamp> (and open a browser, point to localhost:6006 or other port, if using --port=xyz argument for tensorboard)
//evaluate
python3 -m pybullet_envs.agents.visualize_ppo  --logdir=kuka/<timestampname> --outdir=kuka_video1

```


This Kuka grasping environment has a very sparse reward only at the end of the episode, so we may need to use learning from demonstration (VR), curriculum learning or [GraspGAN](https://research.googleblog.com/2017/10/closing-simulation-to-reality-gap-for.html) (like my colleagues did).
",make sure upgrade pip install new version grasping environment discrete continuous let first try get train properly cheat providing object later look camera latest run environment manually python control action gym python actual gym step training pip install gym python open browser point port argument python grasping environment sparse reward end episode may need use learning demonstration curriculum learning like,issue,positive,positive,positive,positive,positive,positive
341298199,"This is a duplicate of https://github.com/bulletphysics/bullet3/issues/1386
I just uploaded a new version of the Kuka grasping environment, both discrete and continuous.
Let's first try to get the kukaGymEnv to train properly, then later we look into kukaCamGymEnv .
",duplicate new version grasping environment discrete continuous let first try get train properly later look,issue,negative,positive,positive,positive,positive,positive
341271593,"Thanks for the data. The compiler likely didn't do a good job compiling pybullet on Ubuntu. What build system did you use (premake, cmake etc), what flags did you pass the build system, and which compiler (gcc version etc)?

Could you please use ""pip install -U pybullet"" on each system? pip will also compile from source anyway.


![image](https://user-images.githubusercontent.com/725468/32302442-f6c2c64e-bf1f-11e7-89f3-09b4ca91765e.png)
",thanks data compiler likely good job build system use premake pas build system compiler version could please use pip install system pip also compile source anyway image,issue,positive,positive,positive,positive,positive,positive
341267955,"Yes, the JSON's are DIRECT. As DIRECT is the default, I did not explicitly specify it. The Systems are:

#### System 1: 
OS: Ubuntu 16.04:
CPU: i7-7800X @ 3.50 - 4.00 GHz, 6 Cores, 12 Threads
Memory: 32 GB RAM
Graphics: GTX 1070
Software: Python 2.7.12 (system installation) / Pybullet 1.5.8 (Compiled from Source), NVIDA OpenCL & Cuda

#### System 2
Os: Ubuntu 16.04:
CPU: i5-7400, @ 3.00 - 3.50 GHz, 4 Cores, 4 Threads
Memory:	8 GB RAM (2133 MHz)
Graphics: GTX 1050
Software: Python 2.7.12 (system installation) / Pybullet 1.5.8 (Compiled from Source)

#### System 3
OS: MacOs 10.12 - (MacBook Pro 2014 Model)
CPU: i5-4308U @ 2.8 - 3.3 GHz, 2 Cores , 4 Threads
Memory: 16 GB RAM (1600 MHz)
Graphics: Intel Iris 1536 MB
Software: Python 2.7.13 / Pybullet 1.6.2 (Pip Version)",yes direct direct default explicitly specify system o memory ram graphic python system installation source system o memory ram graphic python system installation source system o pro model memory ram graphic iris python pip version,issue,negative,positive,neutral,neutral,positive,positive
341266363,"I'll have a look soon.

OK, shared memory/GUI mode do some threading for physics, graphics and it involves some 'sleep' etc, so please ignore them for benchmarks for now.

I assume you used DIRECT for the json files? Please don't use shared memory or GUI, it gets very confusing that way.

So system3=The macbook pro achieves with an 2014 i5 and one core?
System1=2017 i7? What operating system?
What is system2 and which operating system?

Thanks!
Erwin
",look soon mode physic graphic please ignore assume used direct please use memory way pro one core operating system system operating system thanks,issue,positive,positive,positive,positive,positive,positive
341259032,"Thanks for your extensive help. I ran your create Spheres on all systems using

python createSphereMultiBodies.py --max=1

. The Json Logs can be downloaded from my [Google Drive](https://drive.google.com/file/d/0B390aE8xuBACUkJucjkzMjkwcjQ/view?usp=sharing).  The macbook still achieves the lowest computation time with 1.8 seconds. The computation times are:

1) 8.669s 
2) 2.028s
3) 1.803s

Edit: The three cores referred to the shared memory mode.",thanks extensive help ran create python drive still computation time computation time edit three memory mode,issue,positive,positive,neutral,neutral,positive,positive
341250285,"The plots are created using Google Chrome GUI, type about://tracing in the address bar of Google Chrome, then load that json file and wait a while (the file is really big, using 500 simulation steps instead of 1000 will make loading much faster).

DIRECT mode doesn't create any new threads, so it occupies only 1 core at maximum, so it doesn't make any sense to occupy 3 cores. Please focus on DIRECT for now, let's deal with that mode first.",chrome type address bar chrome load file wait file really big simulation instead make loading much faster direct mode create new core maximum make sense occupy please focus direct let deal mode first,issue,positive,positive,positive,positive,positive,positive
341247964,"Thanks for these cool insights. How did you generate the plots? It would be interesting to see how the figures vary between hardware.

Yes, I will try that script on my machines. 

Generally my topic was not about the absolute computation time but the relative computation time between hardware. The 1), 2) & 3) correspond to the hardware configuration which were described below the tables. The macbook pro achieves with an **2014 i5 and one core** a computation time that is **one order of magnitude lower** than the same script running on a **2017 i7 occupying three cores**, where each core should be more powerful than the one core of the i5.

This does not make sense to me. My only guess is that there is some overhead which blocks the computation. ",thanks cool generate would interesting see vary hardware yes try script generally topic absolute computation time relative computation time hardware correspond hardware configuration table pro one core computation time one order magnitude lower script running three core powerful one core make sense guess overhead computation,issue,positive,positive,positive,positive,positive,positive
341245895,"with --max=1 and 10 solver iterations, a single simulation step takes around 1.2ms on my machine, which is reasonable. It can be further optimized if needed.
![image](https://user-images.githubusercontent.com/725468/32298426-7f2275b8-bf0f-11e7-9366-64a6e6094e64.png)
",solver single simulation step around machine reasonable image,issue,negative,positive,neutral,neutral,positive,positive
341244785,"Here is the output for the best case on my Maxbook pro, of the most up-to-date 'createMultiBodies.py' from previous zip file.

```
python createSphereMultiBodies.py --max=1
pybullet build time: Oct 31 2017 16:18:04
--max=1 (useMaximalCoordinates)
--mode=2(connection mode)
DIRECT
--iterations=10 (constraint solver iterations)
Writing 829011 timings for thread 0

-------------------------------------------------
                 	  Iter  	 Total  
Object Creation  	1.414e-04s	0.018s
Simulation       	1.230e-03s	1.230s
-------------------------------------------------
Simulation       	        	1.230s


```

Can you run it on some machines using --max=1 and DIRECT mode, and zip the json files and attach them? json name is createSphereAndSimTimings.json_0.json
",output best case pro previous zip file python build time connection mode direct constraint solver writing thread iter total object creation simulation simulation run direct mode zip attach name,issue,positive,positive,positive,positive,positive,positive
341241005,"What is script (1), (2) and (3) in your initial post?

pybullet.DIRECT should perform best, it doesn't allocate any new thread etc.

Attached is a modified version of createSphereMultiBodies, with some more info: it creates a performance log in json. You can open this in Google Chrome, using about://tracing and point to that file. It gives info where performance goes. useMaximalCoordinates will speed things up, and can be useful for static geometry (non-moving, such as samurai) and for non-jointed bodies.

For this example, my timings are around 3ms, as you can see in the image. Most time goes into the constraint solver, since the default number of iterations it 50, very high. I lowered it to 10 in the benchmark to speed things up. Also, apparently pybullet creates compound shapes for spheres, which shouldn't be needed, that can shave off some more time.

The new createSphereMultiBodies has the following arguments:
--max=0 (useMaximalCoordines)
--iterations=10 (default = 10, it used to be 50)
--mode=2 (1=GUI, 2=DIRECT,3=SHARED_MEMORY,4=UDP,5=TCP)

Do you get bad timings in DIRECT mode on some platforms?

![image](https://user-images.githubusercontent.com/725468/32297515-a563e098-bf0c-11e7-84ea-e1e96a951684.png)
[createSphereMultiBodies.zip](https://github.com/bulletphysics/bullet3/files/1435700/createSphereMultiBodies.zip)

",script initial post perform best allocate new thread attached version performance log open chrome point file performance go speed useful static geometry samurai example around see image time go constraint solver since default number high speed also apparently compound shave time new following default used get bad direct mode image,issue,positive,positive,positive,positive,positive,positive
341222216,"Thanks for your fast response. 

I attached the scripts. The scripts are just slight variations of two of the PyBullet examples. The computation time is measured by time.clock. 

 
[PyBulletPerformance.zip](https://github.com/bulletphysics/bullet3/files/1435516/PyBulletPerformance.zip)
",thanks fast response attached slight two computation time measured,issue,negative,positive,neutral,neutral,positive,positive
341220379,"Without reproduction cases I can't help.
Can you share the scripts you used to measure performance?",without reproduction ca help share used measure performance,issue,negative,neutral,neutral,neutral,neutral,neutral
341214141,"Yes, I haven't always committed the version in setup.py, but it is very up-to-date. I'll make a bit more effort to keep those numbers in sync.",yes always version make bit effort keep sync,issue,negative,neutral,neutral,neutral,neutral,neutral
341197874,"Yes, this is a possible solution. But that does not solve my problem as I cannot call _resetJointState_ during a simulation. 

I looked at the Inverse Kinematics implementation and to completely solve the problem one would have to expose the starting joint configuration in the Python API and a Forward Kinematics function that computes task-position from a joint configuration without changing the simulation state. I personally don't know how much effort this forward kinematics function would be and how it would be realised. ",yes possible solution solve problem call simulation inverse kinematics implementation completely solve problem one would expose starting joint configuration python forward kinematics function joint configuration without simulation state personally know much effort forward kinematics function would would,issue,negative,positive,neutral,neutral,positive,positive
341131596,I'm working on fixing it and providing continuous action/PPO support. Will report here when it is done.,working fixing providing continuous support report done,issue,negative,neutral,neutral,neutral,neutral,neutral
341126716,The same issue happens to me too. Kuka grasp training using DQN is not converging. It would be greatly helpful if an example on training using  PPO or atleast some hints on using PPO is provided. ,issue grasp training converging would greatly helpful example training provided,issue,negative,positive,positive,positive,positive,positive
340898050,"Yes, the macro is useless right now anyway.
How about introducing 
```
#ifndef BT_AVOID_PLACEMENT_NEW
#include <new>
#else 
#do whatever android needs
#endif //BT_AVOID_PLACEMENT_NEW

```

A suggested patch is welcome.",yes macro useless right anyway include new else whatever android need patch welcome,issue,negative,positive,positive,positive,positive,positive
340523540,@erwincoumans in general friction is a hassle for dynamic character controllers. In our examples we just take the velocity from the floor collider at that point and apply it,general friction hassle dynamic character take velocity floor point apply,issue,negative,positive,neutral,neutral,positive,positive
340505913,"> Ideally we re-factoring the code in btCollisionWorld:::rayTestSingleInternal in a separate utility. I'll keep it in mind.

Very good, just let me know when you do it so I can improve the algorithm.

>I assume you add the ray-shape contact points with zero friction? It could be useful to allow to add those rayshape contacts WITH friction as an option: then the character will follow moving platforms automatically due to friction, and you can tune friction so it will slide down (if you pass the actual contact normal, instead of ray normal). But I agree with @reduz that the default should be easy and customized. So an option for friction and surface normal (instead of ray normal) may be nice as option, but disabled by default in GoDot?

Currently I didn't touch the friction that is managed outside the narrowphase algorithm (correct me if I'm wrong).

So basically the friction is considered and this is a prove: 
![bulletrayshape](https://user-images.githubusercontent.com/8342599/32183188-eeacb7d6-bd98-11e7-9ccb-e2e0ea32e12a.gif)

However your idea is not wrong, someone could need that ray shape slides on slopes, so I'll make a PR to add a check box in the Godot shape to control this behaviour.

> I added a whole series of comments in the GoDot tracker, please check it: 

I waited to fix the RayShape, I'll respond soon",ideally code separate utility keep mind good let know improve algorithm assume add contact zero friction could useful allow add friction option character follow moving automatically due friction tune friction slide pas actual contact normal instead ray normal agree default easy option friction surface normal instead ray normal may nice option disabled default currently touch friction outside algorithm correct wrong basically friction considered prove however idea wrong someone could need ray shape make add check box shape control behaviour added whole series tracker please check fix respond soon,issue,positive,positive,positive,positive,positive,positive
340487725,"Great, thanks @AndreaCatania! 

You included btDiscreteDynamicsWorld.h in that algorithm, which usually is too big of a dependency. In Bullet we avoid circular dependencies by enforcing that high level classes such as btDynamicsWorld can include low level classes such as btVector3, btCollisionShape, but low-level classes should never include high-level classes. Since there is no low-level rayTestSingleInternal at the btCollisionShape/btCollisionObject level, this cannot be easily avoided so it is OK. Ideally we re-factoring the code in btCollisionWorld:::rayTestSingleInternal in a separate utility. I'll keep it in mind.

> to climb the trimesh collision

@AndreaCatania well, if the contact normal is always along the ray, there won't be sliding indeed.

I assume you add the ray-shape contact points with zero friction? It could be useful to allow to add those rayshape contacts WITH friction as an option: then the character will follow moving platforms automatically due to friction, and you can tune friction so it will slide down (if you pass the actual contact normal, instead of ray normal). But I agree with @reduz that the default should be easy and customized. So an option for friction and surface normal (instead of ray normal) may be nice as option, but disabled by default in GoDot?

I added a whole series of comments in the GoDot tracker, please check it:
https://github.com/godotengine/godot/pull/10013#issuecomment-340480956

Yes, feel free to close this issue, if it works OK.",great thanks included algorithm usually big dependency bullet avoid circular high level class include low level class class never include class since level easily ideally code separate utility keep mind climb collision well contact normal always along ray wo sliding indeed assume add contact zero friction could useful allow add friction option character follow moving automatically due friction tune friction slide pas actual contact normal instead ray normal agree default easy option friction surface normal instead ray normal may nice option disabled default added whole series tracker please check yes feel free close issue work,issue,positive,positive,positive,positive,positive,positive
340449660,"@erwincoumans also is interesting that you was able to climb the trimesh collision with old implementation. Is probably your ""IOS"" the reason of this difference?",also interesting able climb collision old implementation probably reason difference,issue,negative,positive,positive,positive,positive,positive
340448870,"I've implemented the ray shape by creating a custom narrow phase algorithm that use raycast as suggested.

This is the algorithm: https://github.com/godotengine/godot/blob/ce367016f4d1d97d998049287e70fe694377c061/modules/bullet/godot_ray_world_algorithm.cpp

Thanks you both @reduz @erwincoumans !!

Tell me if I can close it",ray shape custom narrow phase algorithm use algorithm thanks tell close,issue,negative,neutral,neutral,neutral,neutral,neutral
340311540,"Hi,

sorry, we created our own copy of the raycast vehicle, so we could keep an as-clean-as-possible copy of bullet in case that we want to update (which in the end we never did). 
https://github.com/supertuxkart/stk-code/commit/4c1874ebf86ab6cd85dc92846cda0e83fa7a2fba

Re skidding: we have that implemented, but we are cheating: when you skid, we tweak the turn radius, add a graphical only rotation (with separate raycast to find location for skidmarks). Then on release of the skid we align graphical and physical view again, and add a speed boost. So no real skidding

Re ""nicer vehicle model"": do you mean the graphical models? There have been quite a few updates in our graphics (though not all karts have been updated). Or the physical model?

I admit we still have some strange physics behaviour - sometimes karts can drive up on walls, and sometimes karts would get pushed backed far too much (the latter caused by high speed collision: kart and track intersect too much --> the computed impulse to resolve the collision is too big, and often contains an 'up' component (likely caused by slight differences in suspension I guess), which then sends the kart flying up into the air. We have actually halved the physics timestep size, and that got rid of the most severe issues).",hi sorry copy vehicle could keep copy bullet case want update end never skidding cheating skid tweak turn radius add graphical rotation separate find location release skid align graphical physical view add speed boost real skidding vehicle model mean graphical quite graphic though physical model admit still strange physic behaviour sometimes drive sometimes would get backed far much latter high speed collision track intersect much impulse resolve collision big often component likely slight suspension guess flying air actually halved physic size got rid severe,issue,negative,negative,neutral,neutral,negative,negative
340309480,"Yeah. Numpy was installed. Presumably the wrong version. There were a bunch
of warnings about using a deprecated numpy API.

I'm not super familiar with this, but if it's helpful I can try and figure
out how to compile on my system.

Alternatively, if I know the approved method of installation I can do that.

On Sun, Oct 29, 2017, 2:38 PM erwincoumans <notifications@github.com> wrote:

> Thanks for the report. Did you try to install numpy first (pip install
> numpy)?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1411#issuecomment-340301636>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ADcl2gkeWHdtV-AHN-Rv7ae1EqBzEeeiks5sxPBHgaJpZM4QKfGw>
> .
>
",yeah presumably wrong version bunch super familiar helpful try figure compile system alternatively know method installation sun wrote thanks report try install first pip install thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
340301636,"Thanks for the report. Did you try to install numpy first (pip install numpy)? The pybullet setup.py tries to locate numpy, and if NOT available it disable it. Apparently you got numpy installed OK? Can you share the full log of error messages (attached as zipped txt file)?

Numpy is only used in one place, optionally, to pass the pixels from 'getCameraImage' a bit faster. Without numpy, it still works, just a bit slower (each pixel is an entry in a python list)",thanks report try install first pip install locate available disable apparently got share full log error attached file used one place optionally pas bit faster without still work bit entry python list,issue,negative,positive,positive,positive,positive,positive
340289601,"Thanks, I can amend it. Where are those changes been made? I didn't see it in https://github.com/supertuxkart/stk-code/blob/master/lib/bullet/src/BulletDynamics/Vehicle/btRaycastVehicle.cpp#L485

Also, did you ever work on power sliding in corners? At some stage a nicer vehicle model would be great.",thanks amend made see also ever work power sliding stage vehicle model would great,issue,positive,positive,positive,positive,positive,positive
340286851,Thanks for the effort and patience. I reviewed those changes and looks good to me.,thanks effort patience good,issue,positive,positive,positive,positive,positive,positive
340285180,"@reduz Yes, using shared memory would be one way to do it, and upload the contents of the shared memory to OpenGL in the editor process, and read/copy the OpenGL content to shared memory in the game process. I'm using shared memory for the physics client-server intra-process communication a lot, on Windows/Mac and Linux. Since this is a lot of work (user input transfer from editor to game process through shared memory etc), let's ignore it for now.

For the current solution, main issue is that the window starts mostly out-of-view. Is there an option to automatically (re)position that game play window so it is fully visible? Can some script line reposition the window to say (10,10) at absolute screen coordinates?",yes memory would one way content memory editor process content memory game process memory physic communication lot since lot work user input transfer editor game process memory let ignore current solution main issue window mostly option automatically position game play window fully visible script line reposition window say absolute screen,issue,positive,negative,neutral,neutral,negative,negative
340284407,"@erwincoumans regarding the demo and Bullet branch, I don't know exactly how it's put together, you'll have to ask @AndreaCatania .

Godot uses a different approach to Unity, as the game runs in a separate process. This allows editing the scene in the editor and have changes reflect in the game while allowing you to save your changes (this is not possible in Unity). It also makes running the game faster (as Unity, using the same process, has to unload current state, load game, unload game, reload state.. which is pretty inefficient).

If I knew how to put a separate process embedded into an OpenGL texture I would gladly do it, but this seems incredibly difficult in most operating systems. That said, users dont really care much about this.",regarding bullet branch know exactly put together ask different approach unity game separate process scene editor reflect game save possible unity also running game faster unity process unload current state load game unload game reload state pretty inefficient knew put separate process texture would gladly incredibly difficult operating said dont really care much,issue,negative,negative,negative,negative,negative,negative
340282001,"@erwincoumans It's meant for bodies that can't rotate, so there is no chance of them falling over. Again, not looking for a custom way to add contact points, just custom narrow phase code which can do that logic instead of the classical Bullet GJKEPA.",meant ca rotate chance falling looking custom way add contact custom narrow phase code logic instead classical bullet,issue,negative,negative,neutral,neutral,negative,negative
340281595,"@reduz Every time I play 'start', a new window pops open in the right left hand corner, mostly invisible, so I have to drag it into view. See this video: https://www.youtube.com/watch?v=clYY3ifr-xs

Isn't there an option to pop up at a fully visible location?
Why not add an option to integrate the play window within the current editor, like Unity does?",every time play new window open right left hand corner mostly invisible drag view see video option pop fully visible location add option integrate play window within current editor like unity,issue,positive,positive,positive,positive,positive,positive
340281427,"@reduz So the raycastshape is a stick to push the rigid body upwards. So you add contact points to the constraint solver that only act along the normal direction, without friction constraints, right? What prevents the rigid body from falling over and rotation if you strafe along walls?

@AndreaCatania I re-uploaded a new video,I cannot see a difference in behavour using Bullet:
See video here: https://www.youtube.com/watch?v=clYY3ifr-xs

>  I was trying to do it in the ""standard way""

There is no ""standard"" way to add custom contact points, (1) computed using a ray cast and (2) without friction constraints. Once it is crystal clear why you/Godot tries to achieve with the character controller, we can find a way to fit this custom action into Bullet. Regular 'actions' may not be fully suitable yet.",stick push rigid body upwards add contact constraint solver act along normal direction without friction right rigid body falling rotation strafe along new video see difference bullet see video trying standard way standard way add custom contact ray cast without friction crystal clear achieve character controller find way fit custom action bullet regular may fully suitable yet,issue,negative,positive,positive,positive,positive,positive
340266640,"Due to the way it works, it just separates objects, so no sliding on slopes will happen by default (contact normal will go upwards) making this function more customizable for users, who don't want sliding to happen and don't want friction bothering their math.",due way work separate sliding happen default contact normal go upwards making function want sliding happen want friction math,issue,negative,positive,neutral,neutral,positive,positive
340266386,"@erwincoumans The RayCastShape does not rely on friction to stop things. It's just a simple helper to keep objects separated. Using a segment with friction will just make the use case for this a lot more complex for regular users.

I'm not sure what @AndreaCatania tried to do, but the intended behavior is as I described above. It needs to be a custom narrowphase collision that adds endpoint and hitpoint to the persistent manifold.",rely friction stop simple helper keep segment friction make use case lot complex regular sure tried intended behavior need custom collision persistent manifold,issue,negative,positive,neutral,neutral,positive,positive
340266137,"> I could compile Godot and run your tests. First of all, in both modes (GodotDefault and Bullet), the character capsule is sliding, why is there no friction to stop it?

To move the character was used set velocity each (pre)tick so the friction was always ignored, Now I've changed it. Now I'm setting the impulse only when a button is pressed (WASD).

So please Re-download it please:
[AreaBodyCollisionTest.zip](https://github.com/bulletphysics/bullet3/files/1425149/AreaBodyCollisionTest.zip)

**Note:** The controller is not implemented in c++ or by Godot, it is a fast implementation in GDScript to test ray shape

> In your code, you perform a convex collision check instead of a ray intersection test. This causes a different behaviour. Do you need help to perform the ray check inside your custom collision algorithm?

Initially I was trying to do it in the ""standard way"", so I tried to use the regular collision algorithm. Now that you told me that use a raycast is enough, I'll implement it ASAP.

> I cannot reproduce the issue: when selecting Bullet as 3d physics, moving the character forward and backwards works as in this (unlisted) video: https://www.youtube.com/watch?v=KEA1fU5Hhi4

If you check your video more carefully when you select Bullet physics engine you can see that for some reason you didn't selected Bullet. Let me know if you can't switch engine (that is a weird thing)

> Finally, please share the BulletRayShapeOnSlope project as well.

**Note:** The ""controller"" is not implemented in this project
[BulletRayShapeSlopes.zip](https://github.com/bulletphysics/bullet3/files/1425165/BulletRayShapeSlopes.zip)
",could compile run first bullet character capsule sliding friction stop move character used set velocity tick friction always setting impulse button please please note controller fast implementation test ray shape code perform convex collision check instead ray intersection test different behaviour need help perform ray check inside custom collision algorithm initially trying standard way tried use regular collision algorithm told use enough implement reproduce issue bullet physic moving character forward backwards work unlisted video check video carefully select bullet physic engine see reason selected bullet let know ca switch engine weird thing finally please share project well note controller project,issue,negative,positive,neutral,neutral,positive,positive
340238957,"I could compile Godot and run your tests. First of all, in both modes (GodotDefault and Bullet), the character capsule is sliding, why is there no friction to stop it?

Why don't you use the same logic as GodotDefault for the Bullet RaycastShape as well:

> In Godot this works using a custom narrowphase that simply does a raycast of a given depth
> against an object. If the ray hits something, both the hitpoint and the raycast endpoint (origin +
> direction * depth) are added as a contact pair into the persistent manifold.

In your code, you perform a convex collision check instead of a ray intersection test. This causes a different behaviour. Do you need help to perform the ray check inside your custom collision algorithm?

I cannot reproduce the issue: when selecting Bullet as 3d physics, moving the character forward and backwards works as in this (unlisted) video: https://www.youtube.com/watch?v=KEA1fU5Hhi4

Finally, please share the BulletRayShapeOnSlope project as well.

Thanks for working on this!",could compile run first bullet character capsule sliding friction stop use logic bullet well work custom simply given depth object ray something origin direction depth added contact pair persistent manifold code perform convex collision check instead ray intersection test different behaviour need help perform ray check inside custom collision algorithm reproduce issue bullet physic moving character forward backwards work unlisted video finally please share project well thanks working,issue,positive,positive,positive,positive,positive,positive
340221112,"Almost 2 years and this is still outstanding?  
I know; it's probably not a huge issue what with compilers eliminating unused variables automatically and all... but still.",almost still outstanding know probably huge issue unused automatically still,issue,positive,positive,positive,positive,positive,positive
340201710,"## Is his custom Ray character controller for Godot 2 or Godot 3?

Godot 3

## How can I try out that character controller comparison in Godot and Bullet?

- Download this project: [AreaBodyCollisionTest.zip](https://github.com/bulletphysics/bullet3/files/1424385/AreaBodyCollisionTest.zip)
- Extract
- Compile this Godot PR: https://github.com/godotengine/godot/pull/10013
- Open compiled binary
- Add project ![untitled2](https://user-images.githubusercontent.com/8342599/32136083-9132b29e-bc09-11e7-84a7-07581ff450c8.png)
- Open project
- Click F5 or play in the right top corner to run it.
- Use ASDW to move the dynamic character

**Note**: The red floor is a box shape, while the white floor is trimesh shape


## To swap from Bullet to Godot Physics and viceversa
- Open settings
![untitled](https://user-images.githubusercontent.com/8342599/32136174-612c64d6-bc0a-11e7-8504-3fe07c6cda20.png)

- General > Physics > 3D > Physics Engine
![untitled](https://user-images.githubusercontent.com/8342599/32136218-78bad7a4-bc0a-11e7-90ae-98e45295d082.png)

",custom ray character controller try character controller comparison bullet project extract compile open binary add project untitled open project click play right top corner run use move dynamic character note red floor box shape white floor shape swap bullet physic open untitled general physic physic engine untitled,issue,positive,positive,neutral,neutral,positive,positive
340199971,"@reduz Thanks for chiming in! I just noticed [Godot 3's renderer explained](https://godotengine.org/article/godot-3-renderer-design-explained), the new Godot3 renderer looks great! This client-server approach is very similar to the new [Bullet C-API](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h), which is wrapped in Python as pybullet. Please check it out the [pybullet quickstart guide](http://pybullet.org). 
We are looking for a nice renderer and editor, possibly Godot 3 fits the needs if we can couple its Visual Server with the Bullet Physics Server.
 
We should be able to use the identical approach in Bullet, doing a ray cast and adding contact points, like Godot does using a regular ray cast. That seems a better way to go than refactoring various collision algorithms. Bullet has 'actions', used in CharacterController and Vehicle. What you describe, we need some custom action that is called during the collision detection and adds contact points to the solver. It may work in a pre-tick callback. If not, we can add it.

This can be done in the regular Bullet 2.x API, but also in the new 'Physics Server' API.

@AndreaCatania Two questions:

Is his custom Ray character controller for Godot 2 or Godot 3?

How can I try out that character controller comparison in Godot and Bullet?",thanks renderer new renderer great approach similar new bullet wrapped python please check guide looking nice renderer editor possibly need couple visual server bullet physic server able use identical approach bullet ray cast contact like regular ray cast better way go various collision bullet used vehicle describe need custom action collision detection contact solver may work add done regular bullet also new server two custom ray character controller try character controller comparison bullet,issue,positive,positive,positive,positive,positive,positive
340192728,"Sorry for the delay, we've been working on our next release candidate.. I can't use the patch we applied in SuperTuxKart directly, but here an admittedly untested port of the STK patch:
```
$ git diff ../src/BulletDynamics/Vehicle/btRaycastVehicle.cpp
diff --git a/src/BulletDynamics/Vehicle/btRaycastVehicle.cpp b/src/BulletDynamics/Vehicle/btRaycastVehicle.cpp
index a7b168846..130ff9088 100644
--- a/src/BulletDynamics/Vehicle/btRaycastVehicle.cpp
+++ b/src/BulletDynamics/Vehicle/btRaycastVehicle.cpp
@@ -493,8 +493,8 @@ struct btWheelContactPoint

 };

-btScalar calcRollingFriction(btWheelContactPoint& contactPoint);
-btScalar calcRollingFriction(btWheelContactPoint& contactPoint)
+btScalar calcRollingFriction(btWheelContactPoint& contactPoint, int numWheelsOnGround);
+btScalar calcRollingFriction(btWheelContactPoint& contactPoint, int numWheelsOnGround)
 {

        btScalar j1=0.f;
@@ -513,7 +513,7 @@ btScalar calcRollingFriction(btWheelContactPoint& contactPoint)
        btScalar vrel = contactPoint.m_frictionDirectionWorld.dot(vel);

        // calculate j that moves us to zero relative velocity
-   j1 = -vrel * contactPoint.m_jacDiagABInv;
+ j1 = -vrel * contactPoint.m_jacDiagABInv/numWheelsOnGround;
        btSetMin(j1, maxImpulse);
        btSetMax(j1, -maxImpulse);

@@ -615,7 +615,7 @@ void        btRaycastVehicle::updateFriction(btScalar       timeStep)
                                        btScalar defaultRollingFrictionImpulse = 0.f;
                                        btScalar maxImpulse = wheelInfo.m_brake ? wheelInfo.m_brake : defaultRollingFrictionImpulse;
                                        btWheelContactPoint contactPt(m_chassisBody,groundObject,wheelInfo.m_raycastInfo.m_contactPointWS,m_forwardWS[wheel],maxImpulse);
-                                   rollingFriction = calcRollingFriction(contactPt);
+                                 rollingFriction = calcRollingFriction(contactPt, numWheelsOnGround);
                                }
                        }

```
Main differences are

1. that I divide by the number of wheels actually touching the ground (which probably makes hardly any difference in reality)
2. In STK I divide in calcRollingFriction before capping j1 - and I admit I am not sure what is actually correct :) But also I don't think it will make much of a difference (since the kart has to be on close to 0 speed in order for the rolling friction to be noticeable).

So in short: I reopen this so you are aware of the difference and can decide which is correct, I am happy with either patch :)    [though of course the changes to Extras/VHACD/test/src/main.cpp appear to be unrelated].

Thanks for your help!
   Joerg
",sorry delay working next release candidate ca use patch applied directly admittedly untested port patch git git index calculate u zero relative velocity void wheel main divide number actually touching ground probably hardly difference reality divide capping admit sure actually correct also think make much difference since close speed order rolling friction noticeable short reopen aware difference decide correct happy either patch though course appear unrelated thanks help,issue,positive,positive,positive,positive,positive,positive
340185577,"Glad to read that! So I want share my current state of work with RayShape.

I've created **GodotRayConvexAlgorithm** that extend **btConvexConvexAlgorithm**.

Then in the process collision I clamp the normals to (0,1,0) in the generated contact manifold.
https://github.com/AndreaCatania/godot/blob/be60233e698ee9bee25962209d51e5f9f9596033/modules/bullet/godot_collision_configuration.cpp#L39-L51

And this works fine.

I did the same thing with **GodotRayConcaveAlgorithm** that extend **btConvexConcaveCollisionAlgorithm**.
But here the problem is that the algorithm doesn't catch collision between convex and concave when the point overlap so I get a wrong behaviour.

### Bullet physics engine
![bulletrayshape](https://user-images.githubusercontent.com/8342599/32134166-6dda06f2-bbe7-11e7-9441-81c1056d556d.gif)


### Godot physics engine [EXPECTED]
![godotrayshape](https://user-images.githubusercontent.com/8342599/32134118-6936974c-bbe6-11e7-9b80-410e229f7a05.gif)

Probably I can't use this trick for the concave shapes and I should implement the proper algorithm, what do you think about?


",glad read want share current state work extend process collision clamp contact manifold work fine thing extend problem algorithm catch collision convex concave point overlap get wrong behaviour bullet physic engine physic engine probably ca use trick concave implement proper algorithm think,issue,negative,positive,positive,positive,positive,positive
340185488,"@erwincoumans Hi Erwin! Thanks for your interest! Godot uses a really old physics engine I wrote almost a decade ago. As it's quite outdated and working on it is considerable work, @AndreaCatania has been doing a great job of implementing Bullet as a back-end, with success so far.

We already have a nicely working kinematic character controller, so this is mostly OK, but some users prefer to use a Dynamic one. 

The most difficult ""feature"" to port to Bullet is the RayCastShape. In Godot this works using a custom narrowphase that simply does a raycast of a given depth against an object. If the ray hits something, both the hitpoint and the raycast endpoint (origin + direction * depth) are added as a contact pair into the persistent manifold. 

This has the effect of immediately separating the body by the ray length with barely any bouncyness. When used together with a sphere or capsule over it, It makes working on dynamic character controllers really easy and straightforward, as characters will do stepping as well as not fall on slopes automatically.

In any case, Godot is more of a high level game engine, and is intended for users where APIs are accessible and easy to use, wrapped for the most common use cases. Because of this, we have no interest in directly exposing the entire Bullet API (like maybe other engine do), but instead make it conform to the higher level abstraction we use. Users that want lower level access have to do their own work in C++.

That mentioned, any help or feedback would be very welcome!
",hi thanks interest really old physic engine wrote almost decade ago quite outdated working considerable work great job bullet success far already nicely working kinematic character controller mostly prefer use dynamic one difficult feature port bullet work custom simply given depth object ray something origin direction depth added contact pair persistent manifold effect immediately separating body ray length barely used together sphere capsule working dynamic character really easy straightforward stepping well fall automatically case high level game engine intended accessible easy use wrapped common use interest directly entire bullet like maybe engine instead make conform higher level abstraction use want lower level access work help feedback would welcome,issue,positive,positive,positive,positive,positive,positive
340134760,"In the meanwhile, you got me interested in Godot engine, so I'll try it out soon. I may be able to help a little bit with the character controller.",meanwhile got interested engine try soon may able help little bit character controller,issue,positive,positive,positive,positive,positive,positive
340131385,"The train_kuka_grasping and some other environments are still work-in-progress by the way, we'll make them train using DQN (discrete) and PPO (continuous), same for racecar and minitaur.",still way make train discrete continuous,issue,negative,neutral,neutral,neutral,neutral,neutral
340130806,"Thanks for the contribution. At some stage, we'll update the Minitaur scripts to use the updated URDF files (probably create a new environment -v1, to keep the old the same).",thanks contribution stage update use probably create new environment keep old,issue,positive,positive,positive,positive,positive,positive
340130587,"Thank you very much, indeed we shouldn't fail if people don't request Python/pybullet!
",thank much indeed fail people request,issue,negative,negative,negative,negative,negative,negative
340130268,Thank you for the prompt reply and fix.,thank prompt reply fix,issue,negative,neutral,neutral,neutral,neutral,neutral
339706617,"Thanks for the answer, I really appreciate your help. 
Sorry for bothering with the same questions for so many times, it's quite hard to decide which way is better especially without the full picture. I think you give me enough information now, so thank you again!",thanks answer really appreciate help sorry many time quite hard decide way better especially without full picture think give enough information thank,issue,positive,positive,positive,positive,positive,positive
339702418,"Either 
(1) you use a rigid body with a stick collision shape, and make sure the friction completely puts the object at rest. Friction should be able to 100% stop the sliding, even on sloped surfaces. Using a custom contact/friction callback, you can customize the friction to allow sliding on certain slopes etc.

(2) create a custom action, similar to the btRaycastVehicle or btKinematicCharacterController: perform a ray cast and apply custom forces to move the object. You can still use a rigid body for the body (like the btRaycastVehicle) or not.

There is no easy way to add non-physical one-way interactions integrate this into the regular Bullet constraint solver, aside from using btRigidBody::setLinearFactor and/or btRigidBody::setAngularFactor (which makes the rigid body infinitely heavy in certain directions.

I would suggest working on (2), a custom character controller with or without rigid body torso.",either use rigid body stick collision shape make sure friction completely object rest friction able stop sliding even sloped custom friction allow sliding certain create custom action similar perform ray cast apply custom move object still use rigid body body like easy way add integrate regular bullet constraint solver aside rigid body infinitely heavy certain would suggest working custom character controller without rigid body torso,issue,positive,positive,positive,positive,positive,positive
339699295,"Here is a suggested fix: https://github.com/bulletphysics/bullet3/pull/1407
Please re-open if it doesn't work for you. Thanks!",fix please work thanks,issue,positive,positive,positive,positive,positive,positive
339688290,"All of those should be possible with the PhysicsClient C-API, no need to dig under the hood.
TriMeshes -> in URDF use concave=""yes"" attribute, programmatically (createCollisionShape), use the GEOM_MESH type with GEOM_FORCE_CONCAVE_TRIMESH flag.
CharacterControllers -> This is a custom action, best to use a C++ plugin that ticks each callback, applying your custom forces etc. The plugin system is new, see the [vrSyncPlugin](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/plugins/vrSyncPlugin/vrSyncPlugin.cpp) for an example.
collisions and raycast-> there is an API for that. See the first page (index) of http://pybullet.org.
If you prefer more direct/low level access, use the Bullet 2.x C++ API. Let's close this issue.",possible need dig hood use yes attribute programmatically use type flag custom action best use custom system new see example see first page index prefer level access use bullet let close issue,issue,positive,positive,positive,positive,positive,positive
339685246,importing some of the modules (pybullet_envs etc) will import various packages. It should be fixed in latest release (this commit: https://github.com/bulletphysics/bullet3/pull/1405/commits/9385f36505a37f99e6d2c92bd2c052d25305ea2a) I'll update the pypi pybullet package now.,import various fixed latest release commit update package,issue,negative,positive,positive,positive,positive,positive
339654060,"I tried really hard to use only PhysicsClient, but came to the conclusion being really great for robotics simulation, it does not work well as general purpose physics/collision engine for me. 
I still cant understand the idea behind abstraction over rigid and multi bodies. So many functions are not exposed to PhysicsClient - for example, CharacterControllers, MotionStates, TriMeshes. Also its not possible to use Bullet Collision just for collisions through PhysicsClient. 

Will PhysicsClient fit that niche? Or its better stop trying to add missing features to CommandProcessor and call C++ directly?",tried really hard use came conclusion really great simulation work well general purpose engine still cant understand idea behind abstraction rigid many exposed example also possible use bullet collision fit niche better stop trying add missing call directly,issue,positive,positive,positive,positive,positive,positive
339646715,"Hi @erwincoumans it's the time to fix this problem for me so it's very helpful if you can give me an advice about it.

Talking with reduz he said me that probably is possible to implement just one algorithm (something like rayshape vs world). In this case implement and maintain it is very easy.

Thanks in advance for advices.",hi time fix problem helpful give advice talking said probably possible implement one algorithm something like world case implement maintain easy thanks advance,issue,positive,positive,positive,positive,positive,positive
339205373,Great! Thank for the prompt response Erwin!,great thank prompt response,issue,positive,positive,positive,positive,positive,positive
339196263,"Here  is a small python script that does this, the [accurateCalculateInverseKinematics](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_kinematics_husky_kuka.py#L71
) function.

And a video of that IK: https://www.youtube.com/watch?v=qZiR6vNcmCU
",small python script function video,issue,negative,negative,negative,negative,negative,negative
339182976,"Fixed, with a video specially for you :-)
https://www.youtube.com/watch?v=qZiR6vNcmCU
and a test: https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/inverse_kinematics_husky_kuka.py
requires pybullet 1.6.1 (pip install -U pybullet)",fixed video specially test pip install,issue,negative,positive,positive,positive,positive,positive
339135898,"This pull request should deal with it:https://github.com/bulletphysics/bullet3/pull/1404
We have only used the IK for fixed robots with identity transform for the base. This should allow for arbitraty transforms and moving base etc.
Thanks for the report!",pull request deal used fixed identity transform base allow moving base thanks report,issue,positive,negative,negative,negative,negative,negative
339085332,"* Ability to change from the code, the title of the window so it doesn't always say ""Bullet Physics ExampleBrowser using OpenGL3+. Release Build""
 https://cl.ly/1E1w0B1r1Z3d",ability change code title window always say bullet physic release build,issue,negative,neutral,neutral,neutral,neutral,neutral
339059307,"You are right, the end effector target position and orientation are in Cartesian world space coordinates. Let us have a look what is happening and get back to you.",right end effector target position orientation world space let u look happening get back,issue,negative,positive,positive,positive,positive,positive
338894905,"Hello Erwin,

Sorry I did not have much time recently to look into the differences between roboschool and pybullet envs. I would love to fix it as soon as I find more time. I will check again at what point the roboschool execution differs from ours. Maybe, differences in the precision of python vs. c++ make the difference and probably it could be mitigated using numpy instead ( I had the experience of very different outputs based on slightly different inputs a lot with my simulations, in another ML project, we could fix imprecisions using numpy. Let us see what I can do. Let me know if there have been more insights on your side in the meantime. Furthermore, I really hope we can merge this PR soon, there are a lot of cool things in the pipeline (new envs not known from roboschool or openAI)! ",hello sorry much time recently look would love fix soon find time check point execution maybe precision python make difference probably could instead experience different based slightly different lot another project could fix let u see let know side furthermore really hope merge soon lot cool pipeline new known,issue,positive,positive,neutral,neutral,positive,positive
338892964,"Thanks for the input, it is great that somebody starts to use the envs! I
will check if I can reproduce that problem. Weird is that you get problems
during kuka training with the cartpole training/running scripts.

On Tue, Oct 24, 2017 at 8:06 AM Johns Gresham <notifications@github.com>
wrote:

> Reopened #1403 <https://github.com/bulletphysics/bullet3/issues/1403>.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1403#event-1307030665>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q8iZAVxNVCKSZNmBSNkRsnE32CDcks5svX5sgaJpZM4QD4ik>
> .
>
",thanks input great somebody use check reproduce problem weird get training tue wrote thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
338882700,"But in the [quickstart/calculateInverseKinematics](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.9i02ojf4k3ve) , the instruction said the position and the orientation should be in ""Cartesian world space"". Is it outdated?",instruction said position orientation world space outdated,issue,negative,negative,negative,negative,negative,negative
338877954,"The end-effector location/orientation needs to be computed with respect to the base frame of the robot, not in world space. Are you doing this? (there is some helper function to compute the inverse etc)",need respect base frame robot world space helper function compute inverse,issue,positive,negative,negative,negative,negative,negative
338865069,"You just use the Bullet 2.x part, which is in Bullet/src/BulletDynamics, Bullet/src/BulletCollision etc. 
The Bullet3OpenCL and related directories can be ignored, there is no progress on that, and no current plan, since we focus on pybullet nowadays, which is a layer on top of Bullet 2.x and some example infrastructure, adding inverse kinematics, inverse dynamics, VR etc. See http://pybullet.org",use bullet part related progress current plan since focus nowadays layer top bullet example infrastructure inverse kinematics inverse dynamic see,issue,positive,positive,positive,positive,positive,positive
338835259,"It has been a while, good to hear from you.
That sounds good, thanks for the report! Do you mind to create a patch for this?",good hear good thanks report mind create patch,issue,positive,positive,positive,positive,positive,positive
338792380,"Hi @erwincoumans, let me know if I need to change something or if it's fine because I need to implement it. Thanks you! ",hi let know need change something fine need implement thanks,issue,positive,positive,positive,positive,positive,positive
338679494,Thanks! We are working now to integrate Bullet as the default 3D Physic engine :),thanks working integrate bullet default physic engine,issue,negative,positive,positive,positive,positive,positive
338522606,"Thanks for the contribution, I'll look at it tomorrow!",thanks contribution look tomorrow,issue,negative,positive,positive,positive,positive,positive
338522263,"Thanks for the contribution! I'll also check out the WaveEngine, looks great at a first glance.
The appveyor CI is flaky, it fails in some copy file operation. We need to re-trigger CI, perhaps make a trivial change (white space etc)?",thanks contribution also check great first glance flaky copy file operation need perhaps make trivial change white space,issue,positive,positive,positive,positive,positive,positive
338521700,"Yes, that's right. You can also import concave shapes in a URDF file, using the non-standard concave=""yes"" attribute in the link:
 <link concave=""yes"" name=""baseLink"">
See also https://github.com/bulletphysics/bullet3/blob/master/data/samurai.urdf
",yes right also import concave file yes attribute link link yes see also,issue,positive,positive,positive,positive,positive,positive
338520707,"Figured it out, you can explicit set these values with `p.changeDynamics(boundaryUid, -1, lateralFriction=0.8, spinningFriction=0.1, rollingFriction=0.1)`, where `boundaryUid` is the collision shape ID.

Works great!",figured explicit set collision shape id work great,issue,negative,positive,positive,positive,positive,positive
338510441,"OK, found the bug. I'll close this PR and start a new one with the code changes.",found bug close start new one code,issue,negative,positive,positive,positive,positive,positive
338508784,"Ahhh, actually it looks like these gear fields are never set on the server side. They come back all zeros.

Debugging now.",actually like gear never set server side come back,issue,negative,neutral,neutral,neutral,neutral,neutral
338497045,"Obviously, this will also require adding rows to the getConstraintInfo doc in the pybullet quickstart guide... but comments there are disabled...",obviously also require doc guide disabled,issue,negative,negative,neutral,neutral,negative,negative
338495459,"pybullet allows to create constraints between bodies, at arbitrary locations on the base or at child links.
See createConstraint in the quickstart guide. There is a JOINT_POINT2POINT, JOINT_FIXED, JOINT_GEAR and JOINT_PRISMATIC. You can connect two links by another multibody, attached with point to point constraint on both end for a distance constraint. You can use changeConstraint to configure some parameters.

Please re-open with more details, if you need other/new functionality exposed in pybullet.",create arbitrary base child link see guide connect two link another attached point point constraint end distance constraint use configure please need functionality exposed,issue,negative,negative,negative,negative,negative,negative
338006649,"It works just fine as expected: the cube has no link/joint, only as base.
You can use p.getBasePositionAndOrientation etc.",work fine cube base use,issue,negative,negative,negative,negative,negative,negative
337959087,Cool. Is there any particular reason why the C++ API doesn't do it? Or is it just that it's a lot of work no one has found worth doing?,cool particular reason lot work one found worth,issue,negative,positive,positive,positive,positive,positive
337943574,"We have the C-API that uses dllexport on its API, see here:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h
There are some C# bindings that use this C-API, and it seems work just fine in Unity, even without dllimport. Please have a look at it.",see use work fine unity even without please look,issue,negative,positive,positive,positive,positive,positive
337787576,"Yes, see pybullet.removeBody in http://pybullet.org quickstart guide.
Thanks!",yes see guide thanks,issue,positive,positive,positive,positive,positive,positive
337494149,"This should be a shape that act like a rigid stick with the particularity that it receive only forces along it's direction, So if it's on a downhill it doesn't slide down, but maintain the body standing.

The idea of spring/damper is not wrong, but in Godot is required that it's a regular shape, and it must be rigid.

Exist a way to clamp the received forces for a particular shape?",shape act like rigid stick particularity receive along direction downhill slide maintain body standing idea wrong regular shape must rigid exist way clamp received particular shape,issue,negative,negative,negative,negative,negative,negative
337351358,"Such a character controller ray response can be implemented in various ways.  One way would be to use a rigid body standing on a little stick/ray, and compute a custom spring/damper force that is applied to the rigid body right before every simulation step (or in the pretick callback). Have you considered that? The ray length can be computed using the Bullet ray test.",character controller ray response various way one way would use rigid body standing little compute custom force applied rigid body right every simulation step considered ray length bullet ray test,issue,negative,positive,neutral,neutral,positive,positive
336962089,"I'm interested in the kuka grasping algorithms, I found this py file:
bullet3/examples/pybullet/gym/pybullet_envs/agents/train_ppo.py
I have to use this? can you explain me the usage? thanks",interested grasping found file use explain usage thanks,issue,positive,positive,positive,positive,positive,positive
336909288,"I'll check the train_kuka_grasping.py script, we mainly train KUKA using the continuous version using PPO using TensorFlow (TF) Agents, and haven't tried the discrete version (DQN) recently. 

In the meanwhile, did you try training the cartpole and racecar with DQN?
python -m pybullet_envs.baselines.train_pybullet_cartpole
python -m pybullet_envs.baselines.train_pybullet_racecar

Also, you may want to try the TF Agents training with the locomotion tasks (
pybullet_pendulum, pybullet_doublependulum, pybullet_pendulumswingup, pybullet_cheetah, pybullet_ant ,pybullet_racecar, pybullet_minitaur)
See also the Reinforcement Learning section of http://pybullet.org.",check script mainly train continuous version tried discrete version recently meanwhile try training python python also may want try training locomotion see also reinforcement learning section,issue,negative,positive,neutral,neutral,positive,positive
336818252,"Yes, I meant it does NOT solve the problem of using IK as an one-shot-predictor. 

I think using an iterative IK would be a good idea. The user could specify an error tolerance and an maximum number of iterations. Therefore, the user could trade-off estimation error and computation time. 


",yes meant solve problem think iterative would good idea user could specify error tolerance maximum number therefore user could estimation error computation time,issue,negative,positive,positive,positive,positive,positive
336783086,this algorithm doesn't work! I leave running for all night but nothing append....,algorithm work leave running night nothing append,issue,negative,neutral,neutral,neutral,neutral,neutral
336699246,"Thanks you for your response and disponibility. I thought that you didn't want to change it, I've edited my commit now it's using a callback for each function. In This way we should be able to customize it.

I can't use the callback gContactAddedCallback because it allow me to edit restitution of friction on the fly but not the algorithm how it's calculated. So to acchieve what I need I should create ""an hack"" that simulate the type of combinatin I need, and if it's possible I want avoid the adding of useless code or hack.

Let me know if you like this way",thanks response thought want change commit function way able ca use allow edit restitution friction fly algorithm calculated need create hack simulate type need possible want avoid useless code hack let know like way,issue,positive,positive,positive,positive,positive,positive
336650321,"Thanks for the report. I'd like to avoid API changes for this. You should be able to modify/compute all the data by setting the gContactAddedCallback to your own. Did you try that?

Let's discuss why the gContactAddedCallback doesn't work for you, and see how we provide the feature you need.",thanks report like avoid able data setting try let discus work see provide feature need,issue,negative,positive,positive,positive,positive,positive
336598576,"While looking into this, we are currently using DLS instead of SDLS in pybullet. SDLS has better behaviour in case the target is out-of-reach (DLS oscillates, SDLS doesn't). We'll look into exposing the method choice in the API.",looking currently instead better behaviour case target look method choice,issue,negative,positive,positive,positive,positive,positive
336584884,"Indeed, some simple iterative scheme in pybullet, using a tolerance, could work very well. We likely don't need many iterations in general, unless the tolerance is extremely small.

Our underlying inverse kinematics library has various algorithms (ranging from selectively damped least squares (SDLS), DLS, based on Samuel Buss IK library with many improvements: we added null space target support, compute the Jacobian using our Inverse Dynamics library, added orientation targets, velocity limits etc.

Samuel Buss paper also agrees with this, at the top of page 3: http://math.ucsd.edu/~sbuss/ResearchWeb/ikmethods/SdlsPaper.pdf

""The update (2) to the angles may be done once per frame so that the end effectors only approximately follow the target positions, or it can done iteratively until the end effectors are sufficiently close to the targets.""

Currently we only do the update once per call to calculateInverseKinematics.",indeed simple iterative scheme tolerance could work well likely need many general unless tolerance extremely small underlying inverse kinematics library various ranging selectively damped least based bus library many added null space target support compute inverse dynamic library added orientation velocity bus paper also top page update may done per frame end approximately follow target done iteratively end sufficiently close currently update per call,issue,positive,positive,neutral,neutral,positive,positive
336571112,"It was indeed a mismatch, the inverse dynamics excepts input arrays size of #dofs, but pybullet checks for #joints. Most of our robots have no fixed joints, so this pybullet binding was not tested (the underlying C++ inverse dynamics library has tests for fixed joints etc).
It is fixed in this CL: https://github.com/bulletphysics/bullet3/pull/1381
Please run ""pip install -U pybullet"" to update to pybullet version 1.5.8 for the fix.
So the input arrays for calculateInverseDynamics has to be length #dofs from 1.5.8 onwards, not #joints. In the old/wrong pybullet version, you can make it work by passing in a strange array of [accelDof0, accelDof1, unused, unused,  unused, unused].

The updated script is here:
https://github.com/erwincoumans/bullet3/blob/master/examples/pybullet/examples/inverse_dynamics.py#L79
Thanks for the report!",indeed mismatch inverse dynamic input size fixed binding tested underlying inverse dynamic library fixed fixed please run pip install update version fix input length onwards version make work passing strange array unused unused unused unused script thanks report,issue,positive,positive,neutral,neutral,positive,positive
336507684,"I suppose you meant ""but does NOT solve the problem of using IK as one-shot-predictor""?
You/we could add an iterative method to iteratively call the calculateInverseKinematics until the error is within a user-specified tolerance, is that desired?
Aside from the damping, the DLS method computes the Jacobian using the current pose, and the further away from the desired pose (to reach the desired end-effector), this may cause issues as well.
Let me discuss it here with someone who is more familiar with the ins and outs of the IK (Yunfei Bai).",suppose meant solve problem could add iterative method iteratively call error within tolerance desired aside damping method current pose away desired pose reach desired may cause well let discus someone familiar,issue,positive,positive,positive,positive,positive,positive
336502220,"Thanks for the fast response. 

Yes, you can add my code as pybullet example. 

Side Remark: 
Can you make the disabling of the motors for torque control in the [Quick Start Guide page 17](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#) more explicit? It took me quite a while to figure out what it really meant.",thanks fast response yes add code example side remark make torque control quick start guide page explicit took quite figure really meant,issue,positive,positive,positive,positive,positive,positive
336501050,"Thanks for the fast answers.

I retried the example with different values for joint damping. For me the smaller joint damping removes the smoothing but does solve the problem of using IK as one-shot-predictor. Especially if the current joint configuration is far from the desired joint configuration.  

Joint Damping: 1e-1
![inversekinematics_iiwa_circle_jd1e-1](https://user-images.githubusercontent.com/10160295/31556021-8df332a6-b043-11e7-8138-f257b10dd7d9.png)

Joint Damping: 1e-3
![inversekinematics_iiwa_circle_jd1e-3](https://user-images.githubusercontent.com/10160295/31556023-8fca972c-b043-11e7-8231-b6b1fde0c23b.png)

Joint Damping: 1e-6
![inversekinematics_iiwa_circle_jd1e-6](https://user-images.githubusercontent.com/10160295/31556025-91e4c2f8-b043-11e7-8bf1-9caf2c43c0a5.png)

 ",thanks fast example different joint damping smaller joint damping smoothing solve problem especially current joint configuration far desired joint configuration joint damping joint damping joint damping,issue,negative,positive,neutral,neutral,positive,positive
336496834,"Thanks for the reproduction case, it must be some indexing problem between Python and the inverse kinematics (which handles fixed joints just fine). I'll look into it right now.
Once I fixed it, can we add your reproduction case as an example for pybullet?",thanks reproduction case must indexing problem python inverse kinematics fixed fine look right fixed add reproduction case example,issue,negative,positive,positive,positive,positive,positive
336496736,"We are using the Damped Least Squares IK method by default and the damping is set too high.
Try to replace jd=[0.1,0.1,0.1,0.1,0.1,0.1,0.1] by smaller values, such as 0.01 for example.

(I assume you don't enable the null space feature, it has some additional parameters etc.)",damped least method default damping set high try replace smaller example assume enable null space feature additional,issue,negative,negative,neutral,neutral,negative,negative
335694650,"There is a new API pybullet.createVisualShape. Right now, it only load Wavefront OBJ, but we can add STL support later (binary STL)",new right load add support later binary,issue,negative,positive,positive,positive,positive,positive
335694446,"Great, thanks for the report, repro and verification! Let's close it then.",great thanks report verification let close,issue,positive,positive,positive,positive,positive,positive
335691171,"I made some fixes recently and ran your script/repro case and see no crash.
Can you confirm the issue is resolved? Thanks!",made recently ran case see crash confirm issue resolved thanks,issue,negative,positive,neutral,neutral,positive,positive
335688919,"It could be that not all parameters are passed to the OpenGL renderer, but only to TinyRenderer. I don't have time right now to focus on this. I'll update the issue if/when it is addressed. Thanks!",could renderer time right focus update issue thanks,issue,negative,positive,positive,positive,positive,positive
335688777,"Border is fixed. Also added documentation in pybullet quickstart guide about difference in rendering of camera facing (without textOrientation) using bitmap fonts, and text with orientation using TrueType fonts. https://github.com/bulletphysics/bullet3/pull/1378",border fixed also added documentation guide difference rendering camera facing without text orientation,issue,negative,positive,neutral,neutral,positive,positive
335669082,"I fixed the black border thing, it was an obvious ordering issue (transparent text needs to be rendered after opaque objects). Note there are a couple of text options that affect how text is rendered, such as camera facing orientation and truetype fonts (by default bitmap fonts are used). If you don't provide a textOrientation, some different implementation/shader is used that is camera facing. I'll expose some flag to enable TTF rendering.",fixed black border thing obvious issue transparent text need opaque note couple text affect text camera facing orientation default used provide different used camera facing expose flag enable rendering,issue,negative,negative,neutral,neutral,negative,negative
335648087,I'm not doing anything strange on the OpenGL side? Is there any debug information you need from me?,anything strange side information need,issue,negative,negative,neutral,neutral,negative,negative
335606672,It is likely some OpenGL blend state issue (glBlend enable and/orfunction etc),likely blend state issue enable,issue,negative,neutral,neutral,neutral,neutral,neutral
335467154,@erwincoumans Great! thank you so much for your suggestion. I will take a look and consider use bullet dynamics engines. ,great thank much suggestion take look consider use bullet dynamic,issue,positive,positive,positive,positive,positive,positive
335460842,"See some new paper using pybullet:https://stanfordvl.github.io/ntp/?utm_content=buffer8b1fc
Also our researchers at Google Brain and X use this simulator in both C++ and Python.",see new paper also brain use simulator python,issue,negative,positive,positive,positive,positive,positive
335459603,"Robotics is the main focus of Bullet nowadays, please check http://pybullet.org There is URDF  and SDF loading, Inverse Dynamics, Inverse Kinematics, motor control etc. We simulate KUKA arm grasping, quadruped/biped robot locomotion etc.",main focus bullet nowadays please check loading inverse dynamic inverse kinematics motor control simulate arm grasping robot locomotion,issue,positive,positive,neutral,neutral,positive,positive
335383993,"@erwincoumans Thank you for comment. I am actually building a dynamics simulator for robotics (for some special purposes). That's why I am using bullet for just for collision detection. 

And I realized I was detecting collision by using collision between manifolds. As I changed my implementation it seems works fine. 

Anyway, thank you so much for your quick and kind response. I will close the issue.  ",thank comment actually building dynamic simulator special bullet collision detection collision collision implementation work fine anyway thank much quick kind response close issue,issue,positive,positive,positive,positive,positive,positive
335373610,"Latest trunk should have working IK for those robots, tested with the Sawyer, thanks to Yunfei Bai. Make sure to use latest pybullet 1.5.6 or newer, here is a test for Sawyer: goo.gl/m7S1GV
Also, the base needs to be fixed, either mass 0 or fixed to a link called ""world"" or rename ""base"" to ""world"".
Please check the UR5 and Baxter (provide some inverse_kinematics.py script modified for your robot. We cannot deal with XACRO, please convert to URDF.
Enjoy!",latest trunk working tested sawyer thanks make sure use latest test sawyer also base need fixed either mass fixed link world rename base world please check ur baxter provide script robot deal please convert enjoy,issue,positive,positive,neutral,neutral,positive,positive
335318503,"Why using your own dynamics engine, since it obviously works well with btRigidBody, LOL?

Now seriously, it should work just fine using btCollisionObject as well. How do you perform the query? You should be able to create a minimal self-contained program to perform the check, in less than 100 lines (only using Bullet libraries). If so, please share the test program that compiles with a recent compiler on either Linux, Mac OSX or Linux.

Do you set the world transforms for the query properly? What is the contact point information (closest distance, contact normal etc)? Note that a positive distance means no collision.

In addition, you may also experiment a bit with [pybullet](http://pybullet.org), there is a lot of interesting stuff in there to experiment with, including collision detection between shapes. Ah, I just realize that cones are not exposed in that API, I can add it easily and it lets you do some tests/comparisons/queries.",dynamic engine since obviously work well seriously work fine well perform query able create minimal program perform check le bullet please share test program recent compiler either mac set world query properly contact point information distance contact normal note positive distance collision addition may also experiment bit lot interesting stuff experiment collision detection ah realize cone exposed add easily,issue,positive,positive,positive,positive,positive,positive
335311696,"Thank you so much for your response. 

As I put an unit sphere to certain position (which is not supposed to be occupied), collision was detected. (and for sphere, cylinder or box, it never happened.) I also tried to use btConeShape or btConeShapeY but it seems they also fully occupy the cylindrical space.

By the way, I only want to use collision detection feature, since I have my own dynamics engine. Is using btRigidBody proper way to do it?",thank much response put unit sphere certain position supposed collision sphere cylinder box never also tried use also fully occupy cylindrical space way want use collision detection feature since dynamic engine proper way,issue,negative,positive,positive,positive,positive,positive
335275781,"The RollingFrictionDemo uses cone shapes and they work fine.
https://github.com/bulletphysics/bullet3/blob/master/examples/RollingFrictionDemo/RollingFrictionDemo.cpp
Can you create a btRigidBody instead of btCollisionObject?
",cone work fine create instead,issue,negative,positive,positive,positive,positive,positive
335237518,"Thanks,indeed we didn't update the logging yet. Once the CI passes I'll merge asap.",thanks indeed update logging yet merge,issue,negative,positive,positive,positive,positive,positive
335213797,"Don't use that cartpoly.py code, use the Gym InvertedPendulumBulletEnv-v0 instead, implemented in https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/gym_pendulum_envs.py

There is training using TF Agents. A video of the double pendulum is here:
https://www.youtube.com/watch?v=pcimpGkI8OQ

See also the Reinforcement Learning section of the pybullet quickstart guide, it described the various environments (cartpoly.py is some test code of a colleague of mine, I'll remove it to avoid confusion).
",use code use gym instead training video double pendulum see also reinforcement learning section guide various test code colleague mine remove avoid confusion,issue,negative,neutral,neutral,neutral,neutral,neutral
335208405,"Yeah, I started looking around for uses of those constraints, and the vast majority of the time people are sending FIXED constraints first using the same parent and child objects. One my machine this fills the struct with mostly valid data from the previous call (which is why this bug was hard to find)...  So it could be that users were getting lucky.",yeah looking around vast majority time people sending fixed first parent child one machine mostly valid data previous call bug hard find could getting lucky,issue,positive,positive,positive,positive,positive,positive
335071412,"Well spotted, thanks for the fix.  It would corrupt the getConstraintInfo for gear and fixed user generated constraints indeed, so let's fix it.

It likely doesn't affect many, since most only load URDF/SDF/MJCF files instead of programmatic generation. In addition, the important return value for createConstraint is the integer constraint unique Id, through b3GetStatusUserConstraintUniqueId, which is valid.

>> 8589 lines of code! It's a monster

Yes, the monster will be smashed sooner or later, the enormous switch statement, will be refactored/moved into separate files, possibly some[ in plugins](https://github.com/bulletphysics/bullet3/tree/master/examples/SharedMemory/plugins) (such as logging and robot-specific functionality). Same for pybullet.c, which will be autogenerated from a [C++ file.](https://github.com/bulletphysics/bullet3/blob/master/examples/RobotSimulator/b3RobotSimulatorClientAPI.h#L141)",well spotted thanks fix would corrupt gear fixed user indeed let fix likely affect many since load instead programmatic generation addition important return value integer constraint unique id valid code monster yes monster sooner later enormous switch statement separate possibly logging functionality file,issue,positive,positive,positive,positive,positive,positive
335062437,"We got reasonably well transfer of grasps from a model trained in sim, mixed with some episodes trained on real hardware. There is not much deformation happening in our grippers, and non-slip and lateral+torsional friction with some compliance worked well. We will get to softbody and fem, but need to add the same quality contact and friction under larger deformation.",got reasonably well transfer model trained mixed trained real hardware much deformation happening friction compliance worked well get need add quality contact friction deformation,issue,negative,positive,positive,positive,positive,positive
335054043,"Sure. Someone else submitted a pull request for the other max version, he/she didn't add the min version. Thanks!",sure someone else pull request version add min version thanks,issue,positive,positive,positive,positive,positive,positive
335034701,I'll try and get around to looking at the code and submit a PR if I have time this week.,try get around looking code submit time week,issue,negative,neutral,neutral,neutral,neutral,neutral
334972510,"No, we shouldn't assign the value at the end, only the index is returned.",assign value end index returned,issue,negative,neutral,neutral,neutral,neutral,neutral
334873232,"Nice one, thanks for the improved URDF file!",nice one thanks file,issue,positive,positive,positive,positive,positive,positive
334750541,"@erwincoumans I'm pretty interested in spawning softbodies from pybullet directly for simulating grasping as well.

In one of your comments above, you state: ""we ended up just using rigid bodies with some compliance parameters (stiffness/damping)"". Was it sufficient to get ""realistic"" grasps?

Cheers,",pretty interested spawning directly grasping well one state ended rigid compliance sufficient get realistic,issue,positive,positive,positive,positive,positive,positive
334514422,"If/when you create the mass matrix example, please update to latest to confirm that my changes (to move mass matrix in streaming part instead of status part of the shared memory) are OK.
See also https://github.com/bulletphysics/bullet3/pull/1358
",create mass matrix example please update latest confirm move mass matrix streaming part instead status part memory see also,issue,positive,positive,positive,positive,positive,positive
334487519,I'll merge it and make the matrix streaming in a separate commit. Thanks for the contribution!,merge make matrix streaming separate commit thanks contribution,issue,positive,positive,positive,positive,positive,positive
334295020,"That great. I'm not going to recover the file, good riddance.",great going recover file good riddance,issue,positive,positive,positive,positive,positive,positive
334270934,"Here is the updated script that also gets the position/orientation of a cube, sets gravity etc:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/unity3d/examples/NewBehaviourScript.cs
Video of the script running in Unity, with external ExampleBrowser as 'debug visualizer':
https://www.youtube.com/watch?v=81dthrVI2vs",script also cube gravity video script running unity external visualizer,issue,negative,neutral,neutral,neutral,neutral,neutral
334267848,"It looks like this bug has been fixed upstream:

* http://lists.llvm.org/pipermail/cfe-dev/2017-October/055664.html",like bug fixed upstream,issue,negative,positive,neutral,neutral,positive,positive
334204089,"You can stepSimulation and check if objects are 'asleep', using the C++ API. Otherwise, you can create your own ""is at rest"" check, by keeping track of the linear and angular velocity for say 100 steps, and if they stay below some chosen threshold they are ""at rest"".",check otherwise create rest check keeping track linear angular velocity say stay chosen threshold rest,issue,negative,neutral,neutral,neutral,neutral,neutral
334190103,@erwincoumans ping. Sorry for multiple doubts. Last one!,ping sorry multiple last one,issue,negative,negative,negative,negative,negative,negative
334189885,I'll try and look at premake builds later. Mayeb after I add the VHACD convex decomposition example.,try look premake later add convex decomposition example,issue,negative,positive,neutral,neutral,positive,positive
334177754,"Copy the data folder next to the plugin (pybullet_vs2010_x64_release.dll) so the URDF file can be loaded. Alternatively, use the b3SetAdditionalSearchPath to point to the Bullet/data folder.

We can use Bullet Unity plugin to figure out how to create Unity graphics objects and how to synchronize the transforms.",copy data folder next file loaded alternatively use point folder use bullet unity figure create unity graphic synchronize,issue,negative,neutral,neutral,neutral,neutral,neutral
334047391,"Hi,

Loading of URDF needs a path or some address,because when i try to load always get ""cmd_URDF_Load_Failed"".

Replicating the Pybullet in Unity is Hard as we have to Just Give the Physics support only ,all the rendering and Loading of Object are maintaned by itself.

So we got to find some way sending the Graphics data to Pybullet and Getting URDF data & physics from PyBullet.

Searching in the Bullet Physics Code base to figure out how can we achive this.

Thanks for the Extention of PyBullet for Unity.",hi loading need path address try load always get unity hard give physic support rendering loading object got find way sending graphic data getting data physic searching bullet physic code base figure thanks unity,issue,positive,negative,negative,negative,negative,negative
334026674,"@erwincoumans 
I'm trying to load a gazebo SDF model, like coke_can. It actually worked, but the mesh doesn't get rendered, same for the other models.",trying load gazebo model like actually worked mesh get,issue,negative,neutral,neutral,neutral,neutral,neutral
333971149,"I started stripping out code to see how little was required to reproduce the clang error. I removed several hundred lines of code in https://github.com/scpeters/bullet3/commit/d6141a0f10034127c900fe28d5fa5ef3e2575f84

It may be possible to do more, but this seems to be the crux of code that illustrates the problem

* https://github.com/scpeters/bullet3/blob/d6141a0f10034127c900fe28d5fa5ef3e2575f84/src/Bullet3OpenCL/NarrowphaseCollision/b3GjkPairDetector.cpp",stripping code see little reproduce clang error removed several hundred code may possible crux code problem,issue,negative,negative,neutral,neutral,negative,negative
333891864,"Ah, that's right, premake likely uses a wildcard *.cpp. 

Do you have time to add an additional travis job?
On Linux the procedure to build would be:
cd build3
./premake4_linux64 gmake
cd gmake
make -j12

On OSX , replace the command with ./premake4_osx
",ah right premake likely time add additional travis job procedure build would build make replace command,issue,negative,positive,positive,positive,positive,positive
333880137,"I checked the premake build files, none of them have `SimpleBox.cpp` / `SimpleBox.h` in them. If premake builds SimpleBox, then CompoundBoxes will also be built (as everything is the same for SimpleBox and CompoundBoxes throughout the library). (via maybe the *.cpp / *.h directive) However, it might be the case none of them are being built, haven't tested out the premake build system.

Re : CI, maybe you can just add additional travis jobs which build using premake?",checked premake build none premake also built everything throughout library via maybe directive however might case none built tested premake build system maybe add additional travis build premake,issue,negative,neutral,neutral,neutral,neutral,neutral
333864959,"Thanks for the report. Note that those bindings are a starting point: we need some way to create companion Unity graphics objects (when loading a URDF from pybullet) and create a pybullet collder/multibody when using the Unity GUI to create a rigid body. In addition, some 'convenience' layer in C# so it behaves similar to pybullet Python would make it a bit easier to use.",thanks report note starting point need way create companion unity graphic loading create unity create rigid body addition layer similar python would make bit easier use,issue,positive,positive,neutral,neutral,positive,positive
333746822,"Thanks! Could you also add the ../ExtendedTutorials/CompoundBoxes.cpp file to the premake build file (at least Bullet/examples/ExampleBrowser/premake4.lua)? (premake isn't run in CI yet, since I didn't figure out how to run two different build systems in Travis/Appveyor)",thanks could also add file premake build file least premake run yet since figure run two different build,issue,negative,negative,neutral,neutral,negative,negative
333607740,"I did not know that mass = 0 and local inertia = (0,0,0) are valid values. I will change my code to use these values.
Thank you for the response!
Great project by the way. I really enjoy working with it.
",know mass local inertia valid change code use thank response great project way really enjoy working,issue,positive,positive,positive,positive,positive,positive
333578167,"The MJCF importer code creates a btMultiBody with the intermediate links, you could try to re-use it?
The code is in examples\Importers\ImportMJCFDemo and ImportURDFDemo. The intermediate link masses are 0 and local inertia (0,0,0).

Or alternatively, just use pybullet, and load that file directly?",importer code intermediate link could try code intermediate link local inertia alternatively use load file directly,issue,negative,positive,neutral,neutral,positive,positive
333573530,For V-HACD there was some PR about it here: https://github.com/bulletphysics/bullet3/pull/477 Would probably be good to recover some example/demo again with V-HACD,would probably good recover,issue,negative,positive,positive,positive,positive,positive
333564620,"Note that version0 will create a compoundShape inside compound2, which is less efficient, the other version will re-create a new compound2 with the child box shapes in there, applying the inertial shift.",note version create inside compound le efficient version new compound child box inertial shift,issue,positive,positive,positive,positive,positive,positive
333564137,"Here is a git link, github messes up the code snippet:
https://gist.github.com/erwincoumans/b8a110b5c228b378161068cd25fa7d2c

Sure, a minimal example, based on BasicExample.cpp would work, same for V-HACD cmake. 
Thanks!",git link code snippet sure minimal example based would work thanks,issue,positive,positive,positive,positive,positive,positive
333563780,"Thanks, will test these changes out. Will you accept a PR adding a compound shape example?

On a side note, I notice V-HACD does not have a `CMakeLists.txt` making it impossible to use vhacd if someone is building using cmake, out of the box. I can push in a PR for that too.",thanks test accept compound shape example side note notice making impossible use someone building box push,issue,positive,negative,negative,negative,negative,negative
333561874,"The btRigidBody is aligned with the center of mass. You need to recompute the shift to make sure the compound shape is re-aligned. Here is a snippet, we should have this as a basic example indeed.

https://gist.github.com/erwincoumans/b8a110b5c228b378161068cd25fa7d2c
",center mass need recompute shift make sure compound shape snippet basic example indeed,issue,negative,positive,positive,positive,positive,positive
333411731,"@erwincoumans A very valid approach is to train an RL task on higher level aspects of a problem like grasping while low level control is delegated to well established traditional task space control methods.

@bingjeff thanks for working on this!",valid approach train task higher level problem like grasping low level control well established traditional task space control thanks working,issue,negative,positive,positive,positive,positive,positive
333410504,"I'm still doing things the old fashioned way ;)

I have a home project where I am doing task space control. Mass matrix is
useful for dof decoupling. Jacobians are useful for mapping task to joint.

On Sun, Oct 1, 2017, 2:35 PM erwincoumans <notifications@github.com> wrote:

> How/why do you want to use inverse dynamics and the mass matrix?
>
> We use pybullet/Python for RL training for locomotion, grasping etc, and
> for this we don't need the mass matrix or inverse dynamics.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1350#issuecomment-333408576>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ADcl2jGRu_b3TpxJheGWFDOuV60Tdauvks5soAWSgaJpZM4PpxZZ>
> .
>
",still old fashioned way home project task space control mass matrix useful useful task joint sun wrote want use inverse dynamic mass matrix use training locomotion grasping need mass matrix inverse dynamic thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
333408576,"How/why do you want to use inverse dynamics and the mass matrix?

We use pybullet/Python for RL training for locomotion, grasping etc, and for this we don't need the mass matrix or inverse dynamics.",want use inverse dynamic mass matrix use training locomotion grasping need mass matrix inverse dynamic,issue,positive,neutral,neutral,neutral,neutral,neutral
333394797,"Sure! I will make an example this week.

Would you like me to move the enums?

I was a little worried about the size of the mass matrix allocation.

Another thing that seems wasteful is the number of times that the inverse
dynamics routine might be being called from python. I rationalized this
that python should really only be used for prototypes, but if you think
there is a better way I would be happy to help fix it.

On Sun, Oct 1, 2017, 10:02 AM erwincoumans <notifications@github.com> wrote:

> Thanks again for the contribution, Jeff. Do you mind creating a small
> example .py file? Also, a small note why/how one would use the mass matrix
> (and jacobian) would be useful.
>
> Some minor note: the CalculateMassMatrixResultArgs structure is really
> big, since it is double m_massMatrix[MAX_DEGREE_OF_FREEDOM *
> MAX_DEGREE_OF_FREEDOM];
> For other commands using a lot of data, there is some 'streaming'
> happening, but I don't expect you to digg that deep. I can fix that in a
> follow-up commit. In a nutshell: the client (PhysicsDirect for example)
> sends multiple commands, and caches the result locally.
>
> Also, it is best not to insert enums in the middle of avoid messing up
> compabitility between client and servers. If the enums (or command layout)
> changes, the SHARED_MEMORY_MAGIC_NUMBER in SharedMemoryPublic.h needs to be
> updated (year/month/day/rev).
>
> And thanks for fixing the int->float copy/paste bug in b3PluginArguments!
>
> Soon I'm going to clean up that gigantic switch statement in
> PhysicsServerCommandProcessor into 'plugins' with some command registry,
> similar to the b3PluginManager.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1350#issuecomment-333390853>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ADcl2rerHPq3ELI8KhgU5OnZifTewbprks5sn8W7gaJpZM4PpxZZ>
> .
>
",sure make example week would like move little worried size mass matrix allocation another thing wasteful number time inverse dynamic routine might python python really used think better way would happy help fix sun wrote thanks contribution jeff mind small example file also small note one would use mass matrix would useful minor note structure really big since double lot data happening expect deep fix commit nutshell client example multiple result locally also best insert middle avoid messing client command layout need thanks fixing float bug soon going clean gigantic switch statement command registry similar thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
333390853,"Thanks again for the contribution, Jeff. Do you mind creating a small example massMatrix.py file? Also, a small note why/how one would use the mass matrix (and jacobian) would be useful.

Some minor note: the CalculateMassMatrixResultArgs structure is really big, since it is double m_massMatrix[MAX_DEGREE_OF_FREEDOM * MAX_DEGREE_OF_FREEDOM];
For other commands using a lot of data (such as getCameraImage/CMD_REQUEST_CAMERA_IMAGE_DATA), there is some 'streaming' happening, but I don't expect you to digg that deep. I can fix that in a follow-up commit. In a nutshell: the client (PhysicsDirect for example) sends multiple commands, and caches the result locally.

Also, it is best not to insert enums in the middle of avoid messing up compabitility between client and servers. If the enums (or command layout) changes, the SHARED_MEMORY_MAGIC_NUMBER in SharedMemoryPublic.h needs to be updated (year/month/day/rev).

And thanks for fixing the int->float copy/paste bug in b3PluginArguments!

Another note (since you are digging into some messy code): Soon I'm going to clean up/refactor that gigantic switch statement in PhysicsServerCommandProcessor::processCommand into 'plugins' with some command registry, similar to the b3PluginManager.
",thanks contribution jeff mind small example file also small note one would use mass matrix would useful minor note structure really big since double lot data happening expect deep fix commit nutshell client example multiple result locally also best insert middle avoid messing client command layout need thanks fixing float bug another note since digging messy code soon going clean gigantic switch statement command registry similar,issue,positive,positive,neutral,neutral,positive,positive
333329217,"We use the same indices for vertex positions, normals and uv coordinates, so the combination has to be unique. Since we don't know if the indices point to the same vertex (pos, normal, uv) we duplicate all vertices to make sure they are unique. If you are sure the combination (vertex position/normal) can be shared, the code can be optimized.",use index vertex combination unique since know index point vertex normal duplicate vertex make sure unique sure combination vertex code,issue,positive,positive,positive,positive,positive,positive
333324759,"@erwincoumans after skimming through some code, I found 

https://github.com/bulletphysics/bullet3/blob/6e4707df5fa1f9927109e89a7cd2a6d6a6ddd072/examples/Importers/ImportObjDemo/Wavefront2GLInstanceGraphicsShape.cpp#L26

https://github.com/bulletphysics/bullet3/blob/6e4707df5fa1f9927109e89a7cd2a6d6a6ddd072/examples/Importers/ImportObjDemo/Wavefront2GLInstanceGraphicsShape.cpp#L174-L176

This seems to be adding vertices to an array, over all faces of a shape. This leads to possible duplicates in this case, where a vertex which is shared by many different faces will be added multiple times to this vector. I think this is not the intended structure?",skimming code found vertex array shape possible case vertex many different added multiple time vector think intended structure,issue,negative,positive,positive,positive,positive,positive
333321357,"@benelot am facing this issue. Even on multiple rebuilds.

Compiler : gcc 5.4.0
OS : Ubuntu 16.04 (64 bit machine)
Build system : cmake with default flags

Seems to be an issue while reading the `.obj` file itself as the output reads 
```[INFO] Obj loaded: Extracted 9576 vertices from obj file [teddy.obj]```
but the file itself contains only 1598 vertices. Any help would be greatly appreciated.",facing issue even multiple compiler o bit machine build system default issue reading file output loaded extracted vertex file file vertex help would greatly,issue,negative,positive,positive,positive,positive,positive
333262894,"Hopefully the pybullet Python bindings will become more widely used too: it is as simple as ""sudo pip install pybullet"". Also, we could start considering using the Bullet C-API in Gazebo, for better multibody simulation support.",hopefully python become widely used simple pip install also could start considering bullet gazebo better simulation support,issue,positive,positive,positive,positive,positive,positive
333245740,@erwincoumans the script never previously searched for anything ending in an `m`. I updated it to include the `m` so it will look for `libpython3.4m.so` in addition to `libpython3.4.so` as a possible filename.,script never previously anything ending include look addition possible,issue,negative,positive,neutral,neutral,positive,positive
333172185,"I removed the file, and will tag a new release very soon. It will become just a clang issue then.
https://github.com/bulletphysics/bullet3/pull/1348
Thanks for the report!",removed file tag new release soon become clang issue thanks report,issue,negative,positive,positive,positive,positive,positive
332965374,"This code was written over 10 years ago by someone who isn't contributing anymore. We have no plans to refactor that code. If you feel like improving the functionality of that code (performance, features etc) you are welcome, but we are not going to change the style.",code written ago someone code feel like improving functionality code performance welcome going change style,issue,positive,positive,positive,positive,positive,positive
332964677,"@only-a-ptr

> I'm wondering exactly would you like those renamed

hi.

I do not care. It can be any valid  identifier (identifier  begins with an underscore is reserved in c++ standart).
And identifier '_' dont support in some languages, that create troubles for example when use SWIG for java binding.

Alternatively, you can try to rewrite with use c++11 enum classes )",wondering exactly would like hi care valid identifier identifier underscore reserved identifier dont support create example use swig binding alternatively try rewrite use class,issue,negative,positive,positive,positive,positive,positive
332947277,"This old cruft code (b3GjkPairDetector) needs to be removed anyway, but it could be a good reproduction case for clang compiler issue indeed. For now, I will delete the file from the repo and let you know.",old code need removed anyway could good reproduction case clang compiler issue indeed delete file let know,issue,negative,positive,positive,positive,positive,positive
332944612,"I looked into it a tiny bit more, and one of the differences between `-O1` and `-O2` in clang is `-vectorize-loops`. I figured out how to remove that option from the clang invocation and it seems to work. I'll keep you updated as I work on reporting this to clang.",tiny bit one clang figured remove option clang invocation work keep work clang,issue,negative,neutral,neutral,neutral,neutral,neutral
332939520,"That file (./src/Bullet3OpenCL/NarrowphaseCollision/b3GjkPairDetector.cpp)
is not really used, so we could just add #ifdef it out entirely, or delete
the file (it was from the OpenCL3 branch, and the file isn't use on
GPU/OpenCL and nehter on CPU (where we are still stuck with BulletCollision
(2.x).

Still, it would be good to report it to clang indeed.

On 28 September 2017 at 12:25, Steven Peters <notifications@github.com>
wrote:

> I can figure out how to report it to clang if you want, but I thought I'd
> show it to you first to see if you had any ideas.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1347#issuecomment-332938892>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3HN42Teqz2u9hVeOda8pGbFmNow2ks5sm_KigaJpZM4Pnutu>
> .
>
",file really used could add entirely delete file branch file use still stuck still would good report clang indeed steven wrote figure report clang want thought show first see reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
332938892,"I can figure out how to report it to clang if you want, but I thought I'd show it to you first to see if you had any ideas.",figure report clang want thought show first see,issue,negative,positive,positive,positive,positive,positive
332938664,"Yeah, the compiler just hangs. It does seem like a bug in clang to me",yeah compiler seem like bug clang,issue,positive,neutral,neutral,neutral,neutral,neutral
332938592,Thanks Erwin. We have a mac mini here with high sierra so I can assist with testing.,thanks mac high sierra assist testing,issue,negative,positive,positive,positive,positive,positive
332938538,"What error do you get? It just hangs compiling? if so, it seems a bug in the clang/gcc compiler, right?",error get bug compiler right,issue,negative,positive,positive,positive,positive,positive
332937993,"Thanks for reporting Stephen!
I'll look into it. Also, I will tag a new Bullet version soon, so please report any issues with current github master version.",thanks look also tag new bullet version soon please report current master version,issue,positive,positive,positive,positive,positive,positive
332931034,"the current find python scripts finds it just fine:
https://travis-ci.org/bulletphysics/bullet3/jobs/280975587
-- Found PythonLibs: /usr/lib/x86_64-linux-gnu/libpython3.4m.so (found version ""3.4.3"") 
so why does your updated script not find it there?",current find python fine found found version script find,issue,negative,positive,positive,positive,positive,positive
332739832,"Great, it looks like the numbers are matching. Thanks for the contribution!
",great like matching thanks contribution,issue,positive,positive,positive,positive,positive,positive
332653263,"Thanks for working on this, but Travis CI fails:
Nope: -- Could NOT find PythonLibs (missing:  PYTHON_LIBRARIES) (found version ""3.4.3"")

https://travis-ci.org/bulletphysics/bullet3/builds/280595688?utm_source=github_status&utm_medium=notification
",thanks working travis nope could find missing found version,issue,positive,neutral,neutral,neutral,neutral,neutral
332643256,"@erwincoumans merged with master, hopefully everything behaves in a way that meets requirements this time. :-)",master hopefully everything way time,issue,negative,neutral,neutral,neutral,neutral,neutral
332611473,There is some conflict. instead of reverting can you please create a clean client and just copy over some working cmakelists.txt file? Thanks for looking into this!,conflict instead please create clean client copy working file thanks looking,issue,positive,positive,positive,positive,positive,positive
332551914,"Hello, random visitor here.

@nicolaichuk I'm wondering exactly would you like those renamed (besides them being ugly) and what would be an acceptable name (given the `struct eMyEnum { enum Whatever {}; };` style is preserved)?
",hello random visitor wondering exactly would like besides ugly would acceptable name given whatever style,issue,negative,negative,negative,negative,negative,negative
332317027,"Ok I think it is working in a way you will like with https://github.com/bulletphysics/bullet3/pull/1340

I set it to find any python, and I prioritized 3 over 2, so it will find 3.x first, then if it doesn't find that it will find 2.x. Additionally, it is easy to set the exact version you'd like to use as well.

Hopefully that is satisfactory?",think working way like set find python find first find find additionally easy set exact version like use well hopefully satisfactory,issue,positive,positive,positive,positive,positive,positive
332004596,">> Is https://travis-ci.org/bulletphysics/bullet3/jobs/279592908 with this patch or no?

No, it uses FIND_PACKAGE(PythonLibs), just like the current github bullet3 master does.

I'd prefer to use cmake's built-in FIND_PACKAGE(PythonLibs) by default,
with an option called USE_IMPROVED_FIND_PYTHON to use the improved version (turned off by default).

Why doesn't this improved way of finding python (that you suggest) makes its way into cmake, replacing default FIND_PACKAGE(PythonLibs)?",patch like current bullet master prefer use default option use version turned default way finding python suggest way default,issue,negative,neutral,neutral,neutral,neutral,neutral
331981567,"Is https://travis-ci.org/bulletphysics/bullet3/jobs/279592908 with this patch or no? 

I think I'm seeing a chicken and egg problem here.

Problems **1, 2 3**:
1. If cmake just finds some python version, and you're running 3.5, you could get 2.7 and 3.5 wouldn't work. In other words the install happens without error but it isn't installed on the python version you're using!
2. If you don't make sure all the python versions are consistent, you could get 2.7 for the libs and 3.5 for the interpreter or numpy and then the install/execution breaks. 
3. When `n` python versions are installed with a correct auto-detect implementation, not specifying the python version will fail `n-1/n` of the time, but specifying the python version you want in advance will work 100% of the time.

*Auto-detect across python 2 and 3 previously **appeared to work in some cases** but contained a bug*, namely `problem (2)` above. 

As I understand things, this PR works correctly to resolve `problems (1, 2, 3)` as designed, by specifying the version in advance and choosing a reasonable default. Reverting this patch leaves it in the broken state with all `problems (1, 2, 3)`. Admittedly there is an extra step with this PR if you're not using `2.7.x`, because you have to say what version you're using, not great but I don't have an alternative at the moment.

Is that description all consistent with your understanding of things? What would you find satisfactory? How will all the `problems (1, 2, 3)` be accounted for in your proposed behavior?",patch think seeing chicken egg problem python version running could get would work install without error python version make sure python consistent could get interpreter python correct implementation python version fail time python version want advance work time across python previously work bug namely problem understand work correctly resolve designed version advance choosing reasonable default patch leaf broken state admittedly extra step say version great alternative moment description consistent understanding would find satisfactory behavior,issue,negative,positive,neutral,neutral,positive,positive
331969071,"FIND_PACKAGE(PythonLibs) works like that: you just find *SOME* python version. 
I don't want to be forced to specify what specific Python version cmake has to find, and I certainly don't want to be forced to tell where the include and library files are located: that is the whole point of FIND_PACKAGE to figure that out in a cross-platform way.",work like find python version want forced specify specific python version find certainly want forced tell include library whole point figure way,issue,negative,negative,neutral,neutral,negative,negative
331966738,"It has a default, and the default is 2.7. Since that comes with ubuntu if I remember correctly it is always found. I don't know what travis run you are specifically referring to which failed so I cannot help without it.",default default since come remember correctly always found know travis run specifically help without,issue,negative,neutral,neutral,neutral,neutral,neutral
331965443,"Why do we need a default python version? I'd like cmake to find 'some' python version, not only the one I'm asking for. Perhaps some 'preferred' python version would be OK: if it finds multiple versions, pick the default (if it is among the versions found). Otherwise, cmake should just pick one.",need default python version like find python version one perhaps python version would multiple pick default among found otherwise pick one,issue,negative,neutral,neutral,neutral,neutral,neutral
331964220,"specifically change https://github.com/bulletphysics/bullet3/blob/master/.travis.yml#L16 to `cmake .  . -DBUILD_PYBULLET=ON -G""Unix Makefiles"" -DPYTHON_VERSION_PYBULLET=3.5` or whatever you want...",specifically change whatever want,issue,negative,neutral,neutral,neutral,neutral,neutral
331963425,"@erwincoumans https://travis-ci.org/bulletphysics/bullet3/jobs/278469626 worked 

```

OPENGL FOUND
/usr/lib/x86_64-linux-gnu/libGLU.so/usr/lib/x86_64-linux-gnu/libGL.so
-- Looking for versions: 2.7.6;2.7
-- Looking for python version '2.7.6' by checking executables: python;python2;python2.7.
-- Found executable /opt/pyenv/shims/python with suitable version 2.7.6
-- Found PythonLibs: /usr/lib/x86_64-linux-gnu/libpython2.7.so (found suitable exact version ""2.7.6"") 
-- Found PythonLibs: /usr/lib/x86_64-linux-gnu/libpython2.7.so (found version ""2.7.6"") 
-- Configuring done
-- Generating done
-- Build files have been written to: /home/travis/build/bulletphysics/bullet3
```

OH, I think you have to update travis for the other python versions so it finds the python version each travis build is supposed to test correctly. I don't think that's the fault of this cmake change, that's a travis change/cmake command line change. I set the default python to 2.7, so if you want to use some other version you need to specify it in `ccmake` or with `cmake -D`!",worked found looking looking python version python python python found executable suitable version found found suitable exact version found found version done generating done build written oh think update travis python python version travis build supposed test correctly think fault change travis command line change set default python want use version need specify,issue,negative,positive,positive,positive,positive,positive
331961918,"I don't know how the configuration differs... I ran this on my ubuntu 16.04 machine and it worked ok, finding python, the libs, and numpy all correctly.",know configuration ran machine worked finding python correctly,issue,negative,neutral,neutral,neutral,neutral,neutral
331909561,Can you try updating your fork and let me know if your crash is really fixed?,try fork let know crash really fixed,issue,negative,positive,neutral,neutral,positive,positive
331909426,"Yes, its fixed in 1.4.6. Sorry for false report :(",yes fixed sorry false report,issue,negative,negative,negative,negative,negative,negative
331906410,"I just ran your script, and there is no crash here. You branch is many commits behind, and the pip/pypi was out-of-date too, the 1.4.6 version I submitted yesterday is more up-to-date. Can you run pip uninstall pybullet and pip install pybullet again, and try it? Also update your clone?",ran script crash branch many behind version yesterday run pip pip install try also update clone,issue,negative,positive,neutral,neutral,positive,positive
331901309,"I'll fix that crash right away, thanks for the report.

I still suggest leaving the option open for multibody (the default), since it has several benefits, such as much stiffer joints, and better joint motors. You can achieve an effect like 'angular factor' using multibody as well. For example, this video is a multibody that only moves in 2D: https://www.youtube.com/watch?v=_6qWoDCPde0
You would start with a fixed base, and then add the degrees of freedom you allow.
The deep reinforcement learning gait/locomotion would also be very nice for games. See my twitter feed for some ideas: https://twitter.com/erwincoumans",fix crash right away thanks report still suggest leaving option open default since several much better joint achieve effect like factor well example video would start fixed base add freedom allow deep reinforcement learning would also nice see twitter feed,issue,positive,positive,neutral,neutral,positive,positive
331855388,Sounds great! I will use the pip version in the future.,great use pip version future,issue,positive,positive,positive,positive,positive,positive
331829759,"> Are you using the latest version of the Bullet repository? If so, please provide a small reproduction case.

Just reproduced the same with pybullet from pip. 

```python
import pybullet as p

p.connect(p.DIRECT) # it was perfectly with p.GUI
body = p.createCollisionShape(p.GEOM_SPHERE)
p.createMultiBody(10, body, useMaximalCoordinates=1)
```

That code segfaults with: 
```
#0  bParse::bDNA::flagEqual (this=0x555555ac1520, dna_nr=1831469177) at Extras/Serialize/BulletFileLoader/bDNA.cpp:122
#1  0x00007f5d45139615 in bParse::bFile::readStruct (this=this@entry=0x7ffffffeee70, head=head@entry=0x7f5d2b844e54 ""a"", dataChunk=...) at Extras/Serialize/BulletFileLoader/bFile.cpp:666
#2  0x00007f5d4513bc6d in bParse::btBulletFile::parseData (this=0x7ffffffeee70) at Extras/Serialize/BulletFileLoader/btBulletFile.cpp:161
#3  0x00007f5d4513b2db in bParse::bFile::parseInternal (this=0x7ffffffeee70, verboseMode=0, memDna=0x555555bb9650 ""SDNANAME\204\001"", memDnaLength=11936)
    at Extras/Serialize/BulletFileLoader/bFile.cpp:315
#4  0x00007f5d4513b6c5 in bParse::btBulletFile::parse (this=this@entry=0x7ffffffeee70, verboseMode=verboseMode@entry=0) at Extras/Serialize/BulletFileLoader/btBulletFile.cpp:346
#5  0x00007f5d44ef6ca7 in PhysicsDirect::processBodyJointInfo (this=0x555555be6810, bodyUniqueId=0, serverCmd=...) at examples/SharedMemory/PhysicsDirect.cpp:613
#6  0x00007f5d44ef8101 in PhysicsDirect::postProcessStatus (this=this@entry=0x555555be6810, serverCmd=...) at examples/SharedMemory/PhysicsDirect.cpp:867
#7  0x00007f5d44ef9ac6 in PhysicsDirect::processServerStatus (this=0x555555be6810) at examples/SharedMemory/PhysicsDirect.cpp:216
#8  0x00007f5d44f2df54 in b3SubmitClientCommandAndWaitStatus (physClient=physClient@entry=0x555555be6810, commandHandle=commandHandle@entry=0x7f5d2b836038)
    at examples/SharedMemory/PhysicsClientC_API.cpp:1659
#9  0x00007f5d44ecfb8b in pybullet_createMultiBody (self=<optimized out>, args=<optimized out>, keywds=<optimized out>) at examples/pybullet/pybullet.c:5400
....
```

",latest version bullet repository please provide small reproduction case pip python import perfectly body body code,issue,positive,positive,positive,positive,positive,positive
331773007,"Perfect! Will do, that will also give me an excuse to test the code thoroughly.",perfect also give excuse test code thoroughly,issue,positive,positive,positive,positive,positive,positive
331769557,"Thanks again. For most of the new functionality, I add some little example that shows how to use the command, in the [Bullet/examples/pybullet/examples](https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/examples) folder. If you have time, do you have some jacobian.py example?",thanks new functionality add little example use command folder time example,issue,negative,positive,neutral,neutral,positive,positive
331746806,"I am working on general purpose Rust bindings, so my long term goal - to have access to entire bullet's api from Rust side. You can check how its going here: https://github.com/not-fl3/bulletrs, examples is simplified cases from my game :) 

I am not sure that this will be enough, but here is use case from my game I am working on just now:

Create a body with compound mesh(rigid or multi, it doesn't really matters), set it position/rotation, forbid rotation in some axis(setAngularForce doing that job perfectly) and have an option to apply forces(applyCentralImpulse and applyImpulse in btRigidBody). 
And get body motion back to my engine. MotionState will be the best, but just GetPositionAndOrientation wors for now too. 

I already made most of this - by adding commands to CommandProcessor. Not sure that it was good idea, but it worked. 

> 'setAngularFactor' and 'setLinearVelocity' doesn't exist in pybullet and in the C-API

well, setLinearVelocity was bad example - resetBaseVelocity is doing exectly this. But what about setAngularFactor? Or something else not available from PhysicsClient? 
It not supposed to be in C API, or it just not yet added there? I am fine to use my own branch(or made a PR with that methods) if adding that methods(or something like this) is in roadmap of PhysicsClient. 

 ",working general purpose rust long term goal access entire bullet rust side check going simplified game sure enough use case game working create body compound mesh rigid really set forbid rotation axis job perfectly option apply get body motion back engine best already made sure good idea worked exist well bad example something else available supposed yet added fine use branch made something like,issue,positive,positive,positive,positive,positive,positive
331745023,">> postProcessStatus body created that way assumed as MultiBody, not RigidBody. 

Are you using the latest version of the Bullet repository? If so, please provide a small reproduction case.

I'm assuming you are using pybullet or the C-API.  'setAngularFactor' and 'setLinearVelocity' doesn't exist in pybullet and in the C-API, don't mix it up with the Bullet 2.x C++ API.
There is a resetBaseVelocity and resetJointState. Many features are not hooked up to btRigidBody, just btMultiBody. Why do you really need maximalCoordinates? Probably easier if you ask what you are trying to achieve.

Yes, I meant 'createCollisionShape. Also, the underlying PhysicsServerCommandProcessor is not meant to be extended by most users.

",body way assumed latest version bullet repository please provide small reproduction case assuming exist mix bullet many hooked really need probably easier ask trying achieve yes meant also underlying meant extended,issue,positive,positive,positive,positive,positive,positive
331741827,"@erwincoumans Thanks for the answer! 

And thanks for the tip about useMaximalCoordinates, it helped a lot! 

But there is a problem: 
in PhysicsDirect.cpp, ```postProcessStatus``` body created that way assumed as MultiBody, not RigidBody. resulting SEGFAULT in 
```processBodyJointInfo```.  Only in direct, even in SharedMemory connection type it works fine. 
Disabled calling that method as a temporary workaround.

Can't found createCollisionObject, did you mean createCollisionShape? 

> Theoretically, a btMultiBody base without link is identical to a btRigidBody

In that case - I can't get how to use methods like setAgularFactor or setLinearVelocity on btMultiBody. Can you please point me that part of documentation I am missing? 

I am doing it this way (and it works only on bodies created with UseMaximumCoordinates flag or with my hacky CreateRigidBody command): https://github.com/not-fl3/bullet3/commit/3db95e56931f702d6efe0fbc5f2c05aa5f90655c
is there any better options?",thanks answer thanks tip lot problem body way assumed resulting direct even connection type work fine disabled calling method temporary ca found mean theoretically base without link identical case ca get use like please point part documentation missing way work flag hacky command better,issue,positive,negative,neutral,neutral,negative,negative
331726667,"Trying to process some old PRs, thanks for the help (applied it manually, due to conflict)
https://github.com/bulletphysics/bullet3/pull/1335",trying process old thanks help applied manually due conflict,issue,positive,positive,neutral,neutral,positive,positive
331726097,"We got pip now, use pip install pybullet to install pybullet, don't waste your (and ours) time trying to tell cmake where to find python. Alternatively run 'python setup.py develop' in the root of Bullet.",got pip use pip install install waste time trying tell find python alternatively run develop root bullet,issue,negative,negative,negative,negative,negative,negative
331685543,"The fix is not OK, it disables Python/pybullet again: See travis:
-- Could NOT find PythonLibs (missing: PYTHON_LIBRARIES) (found suitable exact version ""2.7.13"")
I'll have to revert this again.",fix see travis could find missing found suitable exact version revert,issue,negative,positive,positive,positive,positive,positive
331685394,"The OpenGL renderer shows the collision shapes, which is the convex hull of the STL file. The TinyRenderer takes the original triangle mesh. This is not due to rendering performance reasons. If you want to use a visual shape, it is best to use OBJ files. It is a bit complicated: by default, Bullet will take the convex hull of shapes. If you want to have concave shapes, you need to apply convex decomposition (breaking the concave shape into a collection of convex shape). You can use VHACD for this, in the Bullet/Extras folder. ",renderer collision convex hull file original triangle mesh due rendering performance want use visual shape best use bit complicated default bullet take convex hull want concave need apply convex decomposition breaking concave shape collection convex shape use folder,issue,positive,positive,positive,positive,positive,positive
331682457,"I tested this with a bunch of stl files. is there a way to tell the OpenGL renderer to render a full fidelity shape instead of a lower resolution version? I'm assuming the renderer doesnt show the full fidelity for computational cost reasons, is that correct?",tested bunch way tell renderer render full fidelity shape instead lower resolution version assuming renderer doesnt show full fidelity computational cost correct,issue,negative,positive,positive,positive,positive,positive
331345767,"Thanks for looking into this and the fix. Since it is all green, let's apply it!",thanks looking fix since green let apply,issue,negative,neutral,neutral,neutral,neutral,neutral
331339283,"Manually commented out btVector3::maxDot function's simd and neon codes and left out the c++ code. The c++ code is running smoothly. iOS 11 now is optimized for 64 bit so i think it could be the reason _maxdot_large_v0 is not running in full speed. 
I tried using BT_USE_DOUBLE_PRECISION but btConvexHullShape size became very small so couldn't use it. So the best option was to use c++ code on btVector3::maxDot
Thanks a lot.",manually function neon left code code running smoothly bit think could reason running full speed tried size small could use best option use code thanks lot,issue,positive,positive,positive,positive,positive,positive
331336574,"Oh wait, all my configuration code that found specific versions and set things up consistently was removed in https://github.com/bulletphysics/bullet3/commit/03cde2ee9bed76c186a1507be6319328c3bf728c, in that case it makes perfect sense that things don't work!

What happened to the changes in https://github.com/bulletphysics/bullet3/pull/1131?
",oh wait configuration code found specific set consistently removed case perfect sense work,issue,positive,positive,positive,positive,positive,positive
331301977,"Having to specify where python is defeats the purpose of a 'find' script, unless you have multiple versions of Python. Travis machines only have 1 Python version by default. Luckily the 'find_package' finds Python libs and include paths just fine on Travis and that's important to make sure things are build properly. 

Wouldn't the current 'find' python script work fine if you provide all variables explicitly?

Does your line work with the current version of Bullet ('old' cmake)? If not, why not?",specify python purpose script unless multiple python travis python version default luckily python include fine travis important make sure build properly would current python script work fine provide explicitly line work current version bullet,issue,positive,positive,positive,positive,positive,positive
331299521,"Here is a second example in case that helps, this is for mac so obviously the paths would need to be updated for linux and the mac only flags would need to be removed:

```
± cmake .. -DCMAKE_C_FLAGS_RELEASE=-DNDEBUG -DCMAKE_CXX_FLAGS_RELEASE=-DNDEBUG -DCMAKE_INSTALL_PREFIX=/usr/local/Cellar/bullet/HEAD-47eae8d_1 -DCMAKE_BUILD_TYPE=Release -DCMAKE_FIND_FRAMEWORK=LAST -DCMAKE_VERBOSE_MAKEFILE=ON -Wno-dev -DHAVE_CLOCK_GETTIME:INTERNAL=0 -DINSTALL_EXTRA_LIBS=ON -DBUILD_UNIT_TESTS=OFF -DUSE_DOUBLE_PRECISION=ON -DBUILD_PYBULLET_MAC_USE_PYTHON_FRAMEWORK=ON -DBUILD_PYBULLET=ON -DBUILD_PYBULLET_MAC_USE_PYTHON_FRAMEWORK=ON -DBUILD_PYBULLET_NUMPY=ON -DBUILD_PYBULLET_CLSOCKET=ON -DBUILD_PYBULLET_ENET=ON -DBUILD_ENET=ON -DBUILD_CLSOCKET=ON -DBUILD_SHARED_LIBS=OFF -DBUILD_BULLET2_DEMOS=OFF -DPYTHON_NUMPY_INCLUDE_DIR=/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/include/python2.7
```",second example case mac obviously would need mac would need removed,issue,negative,neutral,neutral,neutral,neutral,neutral
331298550,"unfortunately, the old way is more broken... If you simply update the travis cmake command with the correct paths to the various components like in my comment above https://github.com/bulletphysics/bullet3/issues/1322#issuecomment-330395455, I expect it should work. I've been using the cmake build for quite some time without problems.

I can see the problem is almost certainly at https://github.com/bulletphysics/bullet3/blob/master/.travis.yml#L16, it does not specify the location of python, the version of python, or anything else.

If you don't want that to be necessary, update the internal defaults to match whatever configuration travis is using.",unfortunately old way broken simply update travis command correct various like comment expect work build quite time without see problem almost certainly specify location python version python anything else want necessary update internal match whatever configuration travis,issue,negative,negative,neutral,neutral,negative,negative
331245973,"You can also create rigid bodies from the C-API: pybullet.loadURDF(""cube.urdf"", useMaximalCoordinates=True) and also programmatically, providing the same flag:
pybullet.createCollisionObject(...), pybullet.createMultiBody(..., useMaximalCoordinates=True). See http://pybullet.org. At the moment, multibody is better supported, works better for robots, but rigid body performs a bit better. You can mix them, there is two-way interaction. Theoretically, a btMultiBody base without link is identical to a btRigidBody, but the implementation is more heavy / slower. Note that we moved away from the Bullet 2.x C++ API, the C-API is more abstract, to allow different physics implementations.

On the rust binding: you could try autogenerating a C binding from [PhysicsClientC_API.h](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h). I just created a Bullet C-API binding to C# for Unity, you can autogenerate bindings from the C header file. Here is some example:

https://github.com/bulletphysics/bullet3/pull/1327 in particular the [readme.txt](https://github.com/erwincoumans/bullet3/blob/6a7efac4c3afc0b6dc13590f3b28c687a40046b4/examples/pybullet/unity3d/readme.txt).

This is a bit more low-level than pybullet: you need to manually create the commands and submit and wait status. So you canlook at the [pybullet.c](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c) or [b3RobotSimulator.cpp](https://github.com/bulletphysics/bullet3/blob/master/examples/RobotSimulator/b3RobotSimulatorClientAPI.cpp) how things are done.

",also create rigid also programmatically providing flag see moment better work better rigid body bit better mix interaction theoretically base without link identical implementation heavy note away bullet abstract allow different physic rust binding could try binding bullet binding unity header file example particular bit need manually create submit wait status done,issue,positive,positive,neutral,neutral,positive,positive
331245234,"Good you sorted it. It would probably be a good thing to make the single precision build and double precision build incompatible, to force a linker error, instead of some cryptic run-time error. Not sure yet how to do this.",good sorted would probably good thing make single precision build double precision build incompatible force linker error instead cryptic error sure yet,issue,negative,positive,positive,positive,positive,positive
331206199,"Oh I think I've found the problem, I think I was missing the following preprocessor defs:

BT_USE_DOUBLE_PRECISION
_DEBUG=1

Obviously my fault as I should have looked in more detail and found this before now. But, perhaps worth adding these to the doc's? Just glancing at the tutorials though I don't see this in them, I've only figured this out from looking over the project properties. 

Thanks for taking the time to read this guys!",oh think found problem think missing following obviously fault detail found perhaps worth doc glancing though see figured looking project thanks taking time read,issue,negative,positive,neutral,neutral,positive,positive
331205322,"Compiling on VS2017 with /Od so I don't think SIMD should be used (according to my understanding). 

Currently unable to reproduce using the ExampleBrowser. Which obviously probably indicates something my end. I've only followed the wiki tutorial though, is it up to date? All I've done is the following:

1) Run build_visual_studio_vr_pybullet_double.bat
2) Open the VS2010 solution and auto-upgrade to VS2017
3) Open my Solution & Add the Existing Projects for: BulletCollision, BulletDynamics and Linear Math
4) Added the source code from the Hello World tutorial found here: http://bulletphysics.org/mediawiki-1.5.8/index.php/Hello_World
5) Changed Compilation of the three Bullet Libraries listed above to be /MDd rather than /MTd. 
6) Compile, run, heap corruption.

And I can reproduce that following the steps above. 

P.S. On a side note, doesn't affect me but, I did just get a ""Vector Subscript out of range."" assertion error in the pendulum example by changing the sliders value's; can't reproduce a second time.",think used according understanding currently unable reproduce obviously probably something end tutorial though date done following run open solution open solution add linear math added source code hello world tutorial found compilation three bullet listed rather compile run heap corruption reproduce following side note affect get vector subscript range assertion error pendulum example value ca reproduce second time,issue,positive,negative,neutral,neutral,negative,negative
331197063,"Can you reproduce it with the default unmodified ExampleBrowser and the default unmodified premake and/or cmake build system that ships with Bullet?  If so, please provide the steps. Bullet doesn't use multithreading using the default settings.",reproduce default unmodified default unmodified premake build system bullet please provide bullet use default,issue,negative,neutral,neutral,neutral,neutral,neutral
331186136,I am getting the same issue on 2.86.1. But I have just noticed the issue is intermittent; I ran it 5 times and got 4 different errors; but the 5th time my application ran. Something multithreaded? ,getting issue issue intermittent ran time got different th time application ran something multithreaded,issue,negative,neutral,neutral,neutral,neutral,neutral
331169599,"Attempting now to downgrade to a ""Release"" version as I'm sure this is probably an issue that is only occuring in the latest code. ",downgrade release version sure probably issue latest code,issue,negative,positive,positive,positive,positive,positive
330614758,"If we cannot make the travis work, I will revert to the old way of finding python. If that doesn't work for you, please use pip / setuptools.",make travis work revert old way finding python work please use pip,issue,negative,positive,neutral,neutral,positive,positive
330399763,">>I incorporated the best one I could find with a compatible license.

yes, I didn't mean to blame you. It is frustrating that finding Python is such a pain with cmake. 

That was one more reason why I moved to using pip/setuptools, at least that seems to work smooth. Also, it becomes a single command to install pybullet (pip install pybullet, or python setup.py develop in the root of Bullet)",incorporated best one could find compatible license yes mean blame finding python pain one reason least work smooth also becomes single command install pip install python develop root bullet,issue,negative,positive,positive,positive,positive,positive
330399121,"I'll try to re-enable building of python in travis here, let's see what the error is:
https://github.com/bulletphysics/bullet3/pull/1323",try building python travis let see error,issue,negative,neutral,neutral,neutral,neutral,neutral
330398533,"The segmentation mask is only the object unique id, if any, per pixel, no further details are in there.",segmentation mask object unique id per,issue,negative,positive,positive,positive,positive,positive
330398171,"Also, the message is really odd:
>> found suitable exact version ""2.7.12""

exact version of what? The binaries? The libraries?

So why doesn't it use this suitable exact version, if it found it?
",also message really odd found suitable exact version exact version use suitable exact version found,issue,negative,positive,positive,positive,positive,positive
330398038,"> There must be some sane find python cmake script out there that automates all this, without having to specify it, right? Having to tell cmake exactly all those details defeats the purpose of a find Python script.

I sure hope so... I incorporated the best one I could find with a compatible license. I'm sorry I don't have anything better off hand.",must sane find python script without specify right tell exactly purpose find python script sure hope incorporated best one could find compatible license sorry anything better hand,issue,positive,positive,positive,positive,positive,positive
330397620,"There must be some sane find python cmake script out there that automates all this, without having to specify it, right? Having to tell cmake exactly all those details defeats the purpose of a find Python script.",must sane find python script without specify right tell exactly purpose find python script,issue,negative,positive,positive,positive,positive,positive
330397459,"Can details on how the segmentation mask is defined also be added to the quickstart guide? 

I don't see any information on the encoding of the segmentation mask, particularly details regarding how ids are assigned and what values will be contained in the mask. For example:

- Is there a way I can determine which joint of the arm is present, or will it only be the bodyUniqueId?
- How do I get an enumeration of all possible numerical ids that could be in the segmentation image?
- Do single object models get single ids, or does it go by parts?
- Can the granularity of ids be changed?",segmentation mask defined also added guide see information segmentation mask particularly regarding assigned mask example way determine joint arm present get enumeration possible numerical could segmentation image single object get single go granularity,issue,negative,positive,neutral,neutral,positive,positive
330395455,"The correct command line parameters need to be specified. If, for example, a path to the python interpreter and the python library are found and the versions do not match exactly the cmake script will correctly report an error. Here is the most recent command I built with via CMake, but it was some time ago so I can't say it is perfect and working on master, but it might help with figuring out what to do.

```
cmake .. -DCMAKE_C_FLAGS_RELEASE=-DNDEBUG -DCMAKE_CXX_FLAGS_RELEASE=-DNDEBUG -DCMAKE_INSTALL_PREFIX=/usr/local/Cellar/bullet/2.86.1_1 -DCMAKE_BUILD_TYPE=Release -DCMAKE_FIND_FRAMEWORK=LAST -DCMAKE_VERBOSE_MAKEFILE=ON -Wno-dev -DHAVE_CLOCK_GETTIME:INTERNAL=0 -DINSTALL_EXTRA_LIBS=ON -DBUILD_UNIT_TESTS=OFF -DUSE_DOUBLE_PRECISION=ON -DBUILD_BULLET2_DEMOS=ON -DBUILD_PYBULLET_MAC_USE_PYTHON_FRAMEWORK=ON -DBUILD_PYBULLET=ON -DBUILD_PYBULLET_NUMPY=ON -DBUILD_PYBULLET_CLSOCKET=ON -DBUILD_PYBULLET_ENET=ON -DPYTHON_EXECUTABLE=/usr/local/opt/python/bin/python -DPYTHON_LIBRARIES=/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib -DPYTHON_INCLUDE_DIRS=/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/include/python2.7 -DPYTHON_NUMPY_INCLUDE_DIR=/usr/local/lib/python2.7/site-packages/numpy/core/include -DBUILD_ENET=ON -DBUILD_CLSOCKET=ON -DBUILD_SHARED_LIBS=ON -DFRAMEWORK=OFF -DCMAKE_INSTALL_PREFIX=/usr/local/Cellar/bullet/2.86.1_1/Frameworks -DCMAKE_INSTALL_NAME_DIR=/usr/local/Cellar/bullet/2.86.1_1/Frameworks
```

This is very important because before #1131 it would find inconsistent versions and proceed to build and install, but fail to run in hard to diagnose ways. At least here it is very explicit, though perhaps more documentation and automated scripts to configure it correctly by default would be helpful.",correct command line need example path python interpreter python library found match exactly script correctly report error recent command built via time ago ca say perfect working master might help important would find inconsistent proceed build install fail run hard diagnose way least explicit though perhaps documentation configure correctly default would helpful,issue,positive,positive,neutral,neutral,positive,positive
330245347,"cmake's find mechanism 'find' doesn't work well.  See also pull request 1131 (https://github.com/bulletphysics/bullet3/pull/1131)
You can use ""pip install -e ."" in the root of Bullet, or simply use pip install pybullet for now.",find mechanism work well see also pull request use pip install root bullet simply use pip install,issue,negative,neutral,neutral,neutral,neutral,neutral
330244597,"People report issues with cmake and python, and the continuous integration also fails.
https://github.com/bulletphysics/bullet3/issues/1322
We need to have a more reliable way for cmake to locate python",people report python continuous integration also need reliable way locate python,issue,negative,neutral,neutral,neutral,neutral,neutral
330187585,I will do next what you proposed in 2. First I will look if it still works without the self-collision patch. Then I will check if it breaks with any additional commits.,next first look still work without patch check additional,issue,negative,positive,positive,positive,positive,positive
330108216,">>If so, I think that should be mentioned in the docs. 

Yes, setJointMotorControl2 for position and velocity control will configure the existing motor/constraint.

When using setJointMotorControl2 for torque control, it directly applies a torque.

The idea is that the constraint can be used to mimic joint friction (set target to zero, friction = max force, when torque control is used.
",think yes position velocity control configure torque control directly torque idea constraint used mimic joint friction set target zero friction force torque control used,issue,negative,positive,neutral,neutral,positive,positive
330071834,"From what I saw from my debug outputs is indeed that initially the numbers are very similar then they drift. Yeah, I feel that my current approach does not help. Thanks for mentioning the test script, that might be helpful. On the note of the half-cheetah roboschool script, that is definitely another change we need to follow. We can close the PR, the only significant commit here is: Update stuck joints penalty and revert some inconclusive changes in WalkerBaseBulletEnv._step.
https://github.com/bulletphysics/bullet3/commit/9ab0c5b3beed7e0fe1c7c9cbd237170567ca5ff9

There is a penalty that needs updating and a change you made that I do not really understand why you did it. I think we should keep the code as close to the original roboschool code and only after that make changes/optimizations.",saw indeed initially similar drift yeah feel current approach help thanks test script might helpful note script definitely another change need follow close significant commit update stuck penalty revert inconclusive penalty need change made really understand think keep code close original code make,issue,positive,positive,positive,positive,positive,positive
330057275,"It would be easier to limit the actual changes needed to the minimum, perhaps start a new PR: no new trained network data, checking in debug lines etc. That makes it a bit easier to digg through the essential changes to make pybullet envs similar to Roboschool (and the easier MuJoCo envs in gym soon).

1) the testEnv.py util in 'examples' can be used to compare observations and rewards for between environments

Some very minor changes could be due to compiler settings and use of python versus C++ to issue Bullet commands (pybullet versus Roboschool cpp-household). Still, the values should be similar enough within 1 step. Eventually this will drift indeed.

2) Roboschool RoboschoolHalfCheetah_v0_2017may.py works well with Oleg's fork of Bullet. Oleg's fork has some modifications, such as a hard-coded restitution coefficient of 0.5.

We could move from that Fork, to the regular Bullet version of that date, apply the few needed changes (restitution 0.5 etc, but not the self-collision patch) and see if cheetah still works OK. 
Then move to newer versions of Bullet, and see what commit breaks compatibility.",would easier limit actual minimum perhaps start new new trained network data bit easier essential make similar easier gym soon used compare minor could due compiler use python versus issue bullet versus still similar enough within step eventually drift work well fork bullet fork restitution coefficient could move fork regular bullet version date apply restitution patch see cheetah still work move bullet see commit compatibility,issue,positive,positive,neutral,neutral,positive,positive
330027890,"Are you interested in making some examples for the ExampleBrowser? I made
some in the paat for the bullet 2 API, so you could build up some for the
python interface.

On 04:27, Sat, Sep 16, 2017 jtoy <notifications@github.com> wrote:

>
>    - better error messages, calling some functions with not the right
>    amount of arguments returns an error of : ""pybullet.error: Not connected to
>    physics server."" instead of something more accurate like ""wrong arguments""
>    see #1319 <https://github.com/bulletphysics/bullet3/issues/1319> for a
>    more detailed example
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1300#issuecomment-329939143>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q6tlOnFcl5Mbk-v8AG8jpfzUU8HCks5sizH_gaJpZM4PQbTR>
> .
>
",interested making made bullet could build python interface sat wrote better error calling right amount error connected physic server instead something accurate like wrong see detailed example thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
330027584,"I disable it later since I found that it makes the code easier to read as
there is a whole section of joint configurations. Also I removed the motor
disabling for the ""ignore"" joints since we disable motors for all by
default. I can drop my commit and replace with your as soon as you merge.
Basically I just needed your changes since they influence other envs as well.

Cheetah and hopper worked with the other timestep I think. I will verify
that of course. But if you look at roboschool, at least the hopper does not
really work well with the 2017may version either. It just jumps for a while
and then falls. 2017jul version work much better in roboschool, but does
not in pybullet. That is how far I am.

Edit: I looked into the Ant Env as well, it works well but it does not work exactly as the one in roboschool if you look at the numbers. I will have to do a proper code comparison again to find the reason all (or most) of the envs differ.",disable later since found code easier read whole section joint also removed motor ignore since disable default drop commit replace soon merge basically since influence well cheetah hopper worked think verify course look least hopper really work well may version either version work much better far edit ant well work well work exactly one look proper code comparison find reason differ,issue,positive,positive,positive,positive,positive,positive
329976329,"Yes, it would be great if you can help tracking down (bisection?) what commit breaks the pybullet cheetah and/or hopper.

Not sure what changes you are still making to pendula code? And motors are already disabled right after XML loading, so no need to do it again later.",yes would great help bisection commit cheetah hopper sure still making code already disabled right loading need later,issue,positive,positive,positive,positive,positive,positive
329975826,"There is no default way to disable SIMD, except for enabling double precision mode. Safest is to edit the btScalar.h (in the __APPLE__ section remove the lines that enable SIMD/SSE. Or define BT_USE_DOUBLE_PRECISION when building Bullet and in code that includes Bullet (safest to add a #define BT_USE_DOUBLE_PRECISION at the top of btScalar.h)

You could also try manually editing btVector3::maxDot, to use the C++ code in there, instead of _maxdot_large etc.",default way disable except double precision mode edit section remove enable define building bullet code bullet add define top could also try manually use code instead,issue,negative,positive,positive,positive,positive,positive
329960841,"Good observation! Can you merge this? I will need the changes for the other gyms.

Regarding the usage of the motors:
So I have to disable position control first to unlock the joint in order to be able to torque control it. So I can torque control a joint as follows
p.setJointMotorControl2(bodyIndex=self.bodies[self.bodyIndex], jointIndex=self.jointIndex, controlMode=p.TORQUE_CONTROL, force=torque)

and still apply a position control the same joint as below at the same time?
p.setJointMotorControl2(self.bodies[self.bodyIndex],self.jointIndex,controlMode=p.POSITION_CONTROL, targetPosition=0, targetVelocity=0, positionGain=0.1, velocityGain=0.1, force=100)

If so, I think that should be mentioned in the docs. I know that this could be useful to simulate motor noise, but then it should be clearly stated. Because for now the API gives the impression that you **set** the joint motor control to a certain control mode. Modes can usually not be enabled at the same time.",good observation merge need regarding usage disable position control first unlock joint order able torque control torque control joint still apply position control joint time think know could useful simulate motor noise clearly stated impression set joint motor control certain control mode usually time,issue,positive,positive,positive,positive,positive,positive
329939143,"* better error messages, calling some functions with not the right amount of arguments returns an error of : ""pybullet.error: Not connected to physics server."" instead of something more accurate like ""wrong arguments""    see https://github.com/bulletphysics/bullet3/issues/1319 for a more detailed example",better error calling right amount error connected physic server instead something accurate like wrong see detailed example,issue,negative,positive,positive,positive,positive,positive
329938987,"I found the error right  after posting this issue :(
The error is because I called p.getBasePositionAndOrientation with 2 arguments instead of 1.

Why would it send an error of can't connect to pybullet instead of saying  it is from bad arguments? Need some better error messages here. ",found error right posting issue error instead would send error ca connect instead saying bad need better error,issue,negative,positive,neutral,neutral,positive,positive
329913012,"@erwincoumans a while back you had indicated you would like to see the btDefaultTaskScheduler class (which is layered on top of ThreadSupportInterface) integrated into the core bullet libs. Assuming that means moving ThreadSupportInterface into core libs also, I figured it would make sense to clean up the interface a bit. This PR is meant as a first step in that direction.
Are you still interested in moving TaskScheduler/ThreadSupport into core?",back would like see class layered top core bullet assuming moving core also figured would make sense clean interface bit meant first step direction still interested moving core,issue,positive,positive,positive,positive,positive,positive
329767624,"I've fixed this problem internally by adding a custom CollisionDispatcher with this code:
```
bool GodotCollisionDispatcher::needsCollision(const btCollisionObject *body0, const btCollisionObject *body1) {
	if (body0->getInternalType() == btCollisionObject::CO_GHOST_OBJECT || body1->getInternalType() == btCollisionObject::CO_GHOST_OBJECT) {
		return false;
	}
	return btCollisionDispatcher::needsCollision(body0, body1);
}

bool GodotCollisionDispatcher::needsResponse(const btCollisionObject *body0, const btCollisionObject *body1) {
	if (body0->getInternalType() == btCollisionObject::CO_GHOST_OBJECT || body1->getInternalType() == btCollisionObject::CO_GHOST_OBJECT) {
		return false;
	}
	return btCollisionDispatcher::needsResponse(body0, body1);
}
```
I don't know if it's a bug or is voluted, for sure something must be changed in the ghost documentation or in the code to discard ghost in narrowphase.",fixed problem internally custom code bool body body return false return body body bool body body return false return body body know bug voluted sure something must ghost documentation code discard ghost,issue,negative,negative,neutral,neutral,negative,negative
329636393,"No I didn't. Let me try it again soon, and I'll report the timings. Thanks for getting back to me. Also, I will look at the other pull requests soon, there are too many outstanding.",let try soon report thanks getting back also look pull soon many outstanding,issue,positive,positive,positive,positive,positive,positive
329633730,"Hi Erwin,

Did you also adjust the ragdoll demo to create more constraints and islands? In `BenchmarkDemo::createTest3()`, I increased `size` to 35, and `sizeX` and `sizeY` to 2.0, and saw about 20ms spent in `processIslands()` with the original code, compared to 7.5ms with these changes.",hi also adjust create size saw spent original code,issue,positive,positive,positive,positive,positive,positive
329622430,"Ok, so from staring at the code and the actions and observations for 1.5 hours, I could find out that roboschool definitely causes a stronger push (= more movement) when applying the same amount of force. However, I could not find out yet why this happens. The actions and observations in inversePendulum quickly diverge since roboschool manages to balance the pendulum and pybullet does not manage to do so and continuously applies a similar force to make it happen. 
Example: 
Starting from Pendulum at 0.0, no randomness ( the first two values are x and vx):

Roboschool:
observation:  [ 0.  0.  1.  0.  0.]
action: 25.51864111260001
observation:  [  5.62117668e-04   3.40677351e-02   9.99999317e-01  -1.16903390e-03
  -7.08505586e-02]

pybullet:
observation: [ 0.,  0.,  1.,  0.,  0.]
action: 25.51864111260001
observation: [  0.00000000e+00,   0.00000000e+00,   1.00000000e+00, 9.32163201e-06,   5.64947395e-04]

Any idea what difference could cause such a behavior? We do not have joint friction, right?
",staring code could find definitely push movement amount force however could find yet quickly diverge since balance pendulum manage continuously similar force make happen example starting pendulum randomness first two observation action observation observation action observation idea difference could cause behavior joint friction right,issue,negative,positive,positive,positive,positive,positive
329611832,@erwincoumans Thank you for the prompt reply. Good luck for the deadline. ,thank prompt reply good luck deadline,issue,positive,positive,positive,positive,positive,positive
329609183,"Sounds good, thanks for sharing the problematic files. The person who will look into is is busy with some paper deadline at the moment. We will look at it soon.",good thanks problematic person look busy paper deadline moment look soon,issue,negative,positive,positive,positive,positive,positive
329609056,The person who will look into is is busy with some paper deadline at the moment. We will look at it soon.,person look busy paper deadline moment look soon,issue,negative,positive,neutral,neutral,positive,positive
329589998,"Facing similar issues with loading of baxter robot. 
[testingforbaxterloading.zip](https://github.com/bulletphysics/bullet3/files/1304360/testingforbaxterloading.zip)
",facing similar loading baxter robot,issue,negative,neutral,neutral,neutral,neutral,neutral
329589855,"Hey @erwincoumans
I am facing the same problem when loading baxter robot. The urdf and mesh files used in simulation are [testingforbaxterloading.zip](https://github.com/bulletphysics/bullet3/files/1304356/testingforbaxterloading.zip). Kindly let me know a solution to this issue if possible. 
Thank you
Arpit

",hey facing problem loading baxter robot mesh used simulation kindly let know solution issue possible thank,issue,positive,positive,positive,positive,positive,positive
329536508,"There is no plan to change the Bullet 2.x C++ API, I prefer to avoid changes that break backward compatibility for the old 2.x C++ API. So unless you have some magic C-API that wraps the existing C++ classes, let's close this PR. Thanks for your effort and contribution anyhow.

>> or the current aim is low level C++& high level C?

Yes, the current aim is the [abstract C-API ](https://github.com/erwincoumans/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h)and low level C++ backend that can be replaced. We are doing a lot of our recent experiments in pybullet, the Python API on top of this C API.
",plan change bullet prefer avoid break backward compatibility old unless magic class let close thanks effort contribution anyhow current aim low level high level yes current aim abstract low level lot recent python top,issue,negative,positive,positive,positive,positive,positive
329534922,Let's move on to more interesting stuff like the Gym/pybullet work for now.,let move interesting stuff like work,issue,positive,positive,positive,positive,positive,positive
329534428,"Realistically I don't have much time to maintain a public BUILD file: we already have CMakeLists.txt, premake and setup.py (Python setuptools). Let's close and abandon it for now, unless there is really more interest in this and someone who maintains it.",realistically much time maintain public build file already premake python let close abandon unless really interest someone,issue,negative,positive,positive,positive,positive,positive
329533351,"One way of comparison is: disable random in the reset. Then apply some standard actions in both Roboschool and pybullet env, and expect the same observation and reward.",one way comparison disable random reset apply standard expect observation reward,issue,positive,negative,negative,negative,negative,negative
329532048,"Unfortunately I don't see the benefits, neither some good benchmark that shows the benefits. I ran the Ragdolls benchmark, with and without the patch, and performance is about the same (even slightly slower). See comment in the closed [pull request](https://github.com/bulletphysics/bullet3/pull/386). Let's close it for now.",unfortunately see neither good ran without patch performance even slightly see comment closed pull request let close,issue,negative,negative,neutral,neutral,negative,negative
329531325,"Thanks for this effort, and excuses for the huge delay. I am cleaning up old PR's. Tried this on the Ragdolls Benchmark in the ExampleBrowser, disabling gravity, press 'g' (disable GUI) and hold 'p' for a while: recording detailed performance trace json file. Open the timings_0.json trace in Google Chrome using ""about://tracing""). Comparison shows no benefit. Let't close it for now, unless you can show more convincing benefits. See old and new images, both around 3.7-3.9 ms.

OLD, around 3.7ms:
<img width=""821"" alt=""old"" src=""https://user-images.githubusercontent.com/725468/30440761-53d268d6-992c-11e7-8a97-ddf1919fabfc.png"">

NEW (this patch applied) around 3.9ms:
<img width=""743"" alt=""new"" src=""https://user-images.githubusercontent.com/725468/30440773-5cde4378-992c-11e7-81c5-f548970f79be.png"">
",thanks effort huge delay cleaning old tried gravity press disable hold recording detailed performance trace file open trace chrome comparison benefit close unless show convincing see old new around old around old new patch applied around new,issue,positive,positive,positive,positive,positive,positive
329528754,"There is some super experimental softbody support in the Bullet C-API, which is underlying pybullet. See for example [b3LoadBunnyCommandInit in PhysicsClientC_API.h](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h#L448). THere is basic btSoftBody versus btMultiBody.

It would be easy to hook it up to pybullet, I'll see if I find time to add a binding, but it would be nice to generalize beyond bunnies first :-)

Mind you, the [pybullet.c](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/pybullet.c) Python binding code is huge and the related wrapper classes too ([PhysicsServerCommandProcessor.cpp](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp))  and are not pretty (read messy) to work with. Still, you could give it a try, experiment a bit further with it.",super experimental support bullet underlying see example basic versus would easy hook see find time add binding would nice generalize beyond first mind python binding code huge related wrapper class pretty read messy work still could give try experiment bit,issue,positive,positive,positive,positive,positive,positive
329526975,"The Roboschool cpp code is calling exactly the same C-API as pybullet does. There isn't happening that much different, is it?

I created a logger and replay for those commands, so it is easier to compare, it is in the Bullet ExampleBrowser (Physics Server Logging and Replay). I still need to convert them to ascii files, to make it easier to spot differences.
",code calling exactly happening much different logger replay easier compare bullet physic server logging replay still need convert ascii make easier spot,issue,positive,positive,positive,positive,positive,positive
329516201,"Sounds great!Let us open issues for each env separately and resolve them
separately. I just installed roboschool, now I can compare. Have you ever
had a look at the roboschool cpp code I mentioned? Maybe you understand
better what is different there from pybullet than what I get. A lot of
b3*code there I don't exactly know what it does.

On 16:41, Thu, Sep 14, 2017 erwincoumans <notifications@github.com> wrote:

> Merged #1308 <https://github.com/bulletphysics/bullet3/pull/1308>.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1308#event-1249357440>, or mute
> the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q7p28OhS-d7jihGLU4mv7DwYnutPks5siTr8gaJpZM4PTgGm>
> .
>
",great let u open separately resolve separately compare ever look code maybe understand better different get lot code exactly know wrote thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
329513227,"I fixed the warning manually, without a loop, thanks for the report/pull request!",fixed warning manually without loop thanks request,issue,negative,positive,positive,positive,positive,positive
329509764,"There is some .gitignore now, due to some other PR. Thanks for the contribution anyway!",due thanks contribution anyway,issue,negative,positive,neutral,neutral,positive,positive
329509368,"I am maintaining setup.py and prefer to make the changes myself. Thanks for your contibution though, I'll have a look at the changes and may manually improve the setup.py eventually!",prefer make thanks though look may manually improve eventually,issue,positive,positive,positive,positive,positive,positive
329508923,"It was already applied in another PR, thanks for the help!",already applied another thanks help,issue,positive,positive,positive,positive,positive,positive
329507756,"Thanks for the contribution. I reverted the conflict in Extras/CMakeLists.txt:
Bullet3Common is now always compiled and not behind the BUILD_BULLET3 anymore, so the Extras/CMakeLists.txt doesn't need any conditional on BUILD_BULLET3 anymore (I think).",thanks contribution conflict always behind need conditional think,issue,negative,negative,neutral,neutral,negative,negative
329507606,"I would also be interested in using soft bodies from pybullet. Has there been any progress on this issue?

Specifically, I am looking for ways to simulate something like pancakes that can fold together or partially hang down a corner. The initial shape would come from some mesh file. It seems like the C++ API would allow doing this. Is this correct?

I would also be willing to invest some time in preparing a pull request. @erwincoumans would you be interested in such a feature request, and would you give some guidance in wrapping the existing C++ features?",would also interested soft progress issue specifically looking way simulate something like fold together partially corner initial shape would come mesh file like would allow correct would also willing invest time pull request would interested feature request would give guidance wrapping,issue,positive,positive,positive,positive,positive,positive
329504699,"I think it was fixed in a recent other PR. If not, please re-open.
Thanks for the report.",think fixed recent please thanks report,issue,positive,positive,positive,positive,positive,positive
329504251,"Looks like an obvious bug indeed, thanks for the report and fix!",like obvious bug indeed thanks report fix,issue,positive,positive,neutral,neutral,positive,positive
329503643,"I'd like to get incremental improvements faster. Shall we create individual issues for each agent (Ant, Hopper, Half-Cheetah, Double Pendulum etc) and solve them as-we-go? I'm going to merge this one.",like get incremental faster shall create individual agent ant hopper double pendulum solve going merge one,issue,positive,neutral,neutral,neutral,neutral,neutral
329487179,In this moment I can't change the structure of inclusions to respect always the clang rules. I'll check if I can implement it in another way.,moment ca change structure respect always clang check implement another way,issue,negative,neutral,neutral,neutral,neutral,neutral
329483286,"thanks! did you try training the fixed envs using TF Agents? I got a fork here, adding pybullet envs to it: https://github.com/erwincoumans/agents",thanks try training fixed got fork,issue,negative,positive,positive,positive,positive,positive
329467013,"The None problem is caused by X11, not Bullet.

You could have solved it by #including Bullet headers BEFORE X11 . Why do you ignore this suggestion???",none problem bullet could bullet ignore suggestion,issue,negative,neutral,neutral,neutral,neutral,neutral
329448902,"Humanoid works well too, also with randomized reset. I do not have roboschool installed as a reference (It is pretty cumbersome to install.), but I will install it as soon as I get most of the envs running pretty well. Until then I will improve them just by code comparison.",humanoid work well also reset reference pretty cumbersome install install soon get running pretty well improve code comparison,issue,positive,positive,positive,positive,positive,positive
329445512,There are several weird defaults coded into the physics-bullet.cpp. It will take a while to get our code to work the same.,several weird take get code work,issue,negative,negative,negative,negative,negative,negative
329398693,"@AndresTraks The undef define is what I wanted to avoid, but it is the way how I did it.
@erwincoumans I'm implementing Bullet wrapper into Godot engine and I can't  do it. I've resolved the problem using undefine include define even if I don't like it.

It took me a lot of time to understand that ""None"" is causing this problem, for this reason I think change this name is a good thing. Even if it force to update the Bullet wrappers code that use this enumaration.",define avoid way bullet wrapper engine ca resolved problem undefine include define even like took lot time understand none causing problem reason think change name good thing even force update bullet code use,issue,negative,positive,positive,positive,positive,positive
329348116,I'd appreciate an option in the gui! It would be helpful for ease of use and performance reasons.,appreciate option would helpful ease use performance,issue,positive,neutral,neutral,neutral,neutral,neutral
329344392,"This hasn't been exposed. You could use MatplotLib, or do you prefer to have the option in the GUI?",exposed could use prefer option,issue,negative,neutral,neutral,neutral,neutral,neutral
329264283,"I suggest looking at the constraint demo in the Example Browser, the source code is at bullet3\examples\Constraints\ConstraintDemo.cpp.
For other questions, please use the Bullet forums at http://bulletphysics.org",suggest looking constraint example browser source code please use bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
329001050,"Wait, can you please create the trace using my suggested JSON method and attach the zipped json file? The cprofile trace doesn't give me enough information.

p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,0) #makes loading faster
logId = p.startStateLogging(p.STATE_LOGGING_PROFILE_TIMINGS,""loadTimings.json"")
#loadURDF, loadMJCF, loadSDF etc
p.stopStateLogging(logId)
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,1) #re-enable rendering


Also important: is this in DIRECT connection mode or GUI?",wait please create trace method attach file trace give enough information loading faster rendering also important direct connection mode,issue,positive,positive,positive,positive,positive,positive
329000549,"https://gist.github.com/cpaxton/0d4ae182c2d3f55aa75f38308b4532be is the cprofile trace -- biggest consumers were pybullet camera matrix, loading URDF in KDL and loading it in PyBullet.",trace biggest camera matrix loading loading,issue,negative,neutral,neutral,neutral,neutral,neutral
328999487,"Just to add to this since @ahundt is discussing my simulation code here -- the reason this is an issue is because I saw simulation instabilities build up if I manually reset the positions of all entities in the world.

Unfortunately it's pretty hard for me to build an isolated case for this.",add since simulation code reason issue saw simulation build manually reset world unfortunately pretty hard build isolated case,issue,negative,negative,neutral,neutral,negative,negative
328990341,"Are you using DIRECT connection mode or GUI? Loading models in GUI mode and VR is slower, and can be sped up by temporary disabling graphics. Also, can you provide some performance profile, by starting the log before loading, and stopping the log after loading is done and attach the zipped json file? (it has to be in zip format in order to be attached)

p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,0) #makes loading faster
logId = p.startStateLogging(p.STATE_LOGGING_PROFILE_TIMINGS,""loadTimings.json"")
#loadURDF, loadMJCF, loadSDF etc
p.stopStateLogging(logId)
p.configureDebugVisualizer(p.COV_ENABLE_RENDERING,1) #re-enable rendering
",direct connection mode loading mode sped temporary graphic also provide performance profile starting log loading stopping log loading done attach file zip format order attached loading faster rendering,issue,negative,positive,neutral,neutral,positive,positive
328963427,"On this item I added : ""when the simulation is loaded, you dont know if your object got loaded. maybe show a list of objects and you can click on an item in the list to highlight it""   I think it would also be extremely useful if when in debug mode, if you mouse over/touch an object or link, the item in the list highlights.

",item added simulation loaded dont know object got loaded maybe show list click item list highlight think would also extremely useful mode mouse object link item list,issue,positive,positive,positive,positive,positive,positive
328962434,"*  I see there is a function getMouseEvents, but no example, it would be great to add a mouse example to show people how to use it.",see function example would great add mouse example show people use,issue,positive,positive,positive,positive,positive,positive
328937515,"Thanks for providing the urdf, we'll look into it. There was a previous report of IK issues, but no URDF (https://github.com/bulletphysics/bullet3/issues/1199), was that your group Andrew?",thanks providing look previous report group,issue,negative,positive,neutral,neutral,positive,positive
328936887,Without a reproduction case for the custom UR5 we cannot work on this issue. Please re-open the issue if you can provide a URDF that causes the crash. Thanks!,without reproduction case custom ur work issue please issue provide crash thanks,issue,negative,positive,positive,positive,positive,positive
328922224,Move the Bullet header before the X11 header and it should be fine. Can you point to this X11 header that defines the None macro?,move bullet header header fine point header none macro,issue,negative,positive,positive,positive,positive,positive
328835514,"Try refactoring the code in your project into separate files and include X11 and btSoftBody.h only in the files where you need them. You probably only need both definitions in some small part of the code, if at all. Then do the #undef hack where necessary.

The problem is with X11, because it's C that doesn't allow sane design or proper encapsulation of constants, not C++. It's expected that you need some hacks to interoperate between the two, but it's manageable if you keep the conflicting parts separate from the rest of the code.",try code project separate include need probably need small part code hack necessary problem allow sane design proper encapsulation need two manageable keep conflicting separate rest code,issue,negative,negative,neutral,neutral,negative,negative
328772915,"
Yeah, I see some urdf files don't define colors in them, and they are related to the hardware that renders them. The sawyer urdf is here:
https://www.dropbox.com/s/aoxg0z0vheu02mp/sawyer_robot.zip?dl=0

Thanks to @ahundt for the link.
",yeah see define color related hardware sawyer thanks link,issue,positive,positive,neutral,neutral,positive,positive
328760249,"The problem is that ""None"" is used in the project code too, so after Bullet inclusion I've to redefine it. Since its value is defined outside the project can change and I'm not sure about its value. For this reason I want to avoid ""undef""",problem none used project code bullet inclusion redefine since value defined outside project change sure value reason want avoid,issue,negative,positive,positive,positive,positive,positive
328741443,"Just #undef None before including the Bullet header, or move the Bullet header first. Next time, someone has a header with a Nothing Macro. I don't have the bandwidth dealing with this.",none bullet header move bullet header first next time someone header nothing macro dealing,issue,negative,positive,positive,positive,positive,positive
328738263,"yeah, It's just blender, ue4 etc will support gIFT, and panda3D, godot etc

but like I said, I don't even know if it can hold the data.

(just seemed to be everyone pushing that way at once)

Thank you again Erwin for all the amazing work you do!



On Sep 11, 2017 10:06 PM, ""erwincoumans"" <notifications@github.com> wrote:

> We develop pybullet for our needs in robotics and machine learning, and
> the primary file formats are URDF, SDF and MJCF. We don't develop formats
> convenient for other people, and prefer not a wild-grow of file formats.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1300#issuecomment-328737162>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WW10vB2pmr2yhNHrzNhi_1FBNif_ks5shhFmgaJpZM4PQbTR>
> .
>
",yeah blender support gift like said even know hold data everyone pushing way thank amazing work wrote develop need machine learning primary file develop convenient people prefer file reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
328737162,"We develop pybullet for our needs in robotics and machine learning, and the primary file formats are URDF, SDF and MJCF.  We don't develop formats just because they are convenient for other people.",develop need machine learning primary file develop convenient people,issue,negative,positive,positive,positive,positive,positive
328733807,"I wonder if gIFT should be able to handle some physics data?

On Mon, Sep 11, 2017 at 7:52 PM, erwincoumans <notifications@github.com>
wrote:

> There is no preferred/best really, they are existing file formats, from
> ROS/Gazebo (URDF, SDF) and MuJoCo (MJCF). loadURDF is probably best
> supported, but it is only a single robot. loadSDF allows
> multiple robots. URDF and SDF are flat files, while MJCF is hierarchical.
>
> Also we only supported a small, undocumented subset of URDF, SDF and MJCF.
>
> Just like loading .gif, .png for images, it just depends.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1300#issuecomment-328718148>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WYBoi2X6oZfiaez1k7roa9a278r1ks5shfIDgaJpZM4PQbTR>
> .
>
",wonder gift able handle physic data mon wrote really file probably best single robot multiple flat hierarchical also small undocumented subset like loading thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
328732619,@erwincoumans you should be able to click revert on your revert in #1306. Reverts all the way down :-),able click revert revert way,issue,negative,positive,positive,positive,positive,positive
328730370,"ahundt, JulianYG, please provide some URDF files that have issues with IK. That way we can resolve it, and people don't need to revert to an external IK solution.

Where can we find the Sawyer robot?

>>a PR2 gripper image has red and green fingers

The colors are not assigned in the URDF or SDF file, this can be easily fixed by the user.

Thanks for the feedback, this helps us improve pybullet etc.",please provide way resolve people need revert external solution find sawyer robot gripper image red green color assigned file easily fixed user thanks feedback u improve,issue,positive,positive,neutral,neutral,positive,positive
328718148,"There is no preferred/best really, they are just different existing file formats, from ROS/Gazebo (URDF, SDF) and MuJoCo (MJCF). URDF is probably best supported by pybullet, and you can find many examples, but it is only a single robot. loadSDF allows 
multiple robots. URDF and SDF are flat files, while MJCF is hierarchical.
Also note that URDF files online are often obfuscated in the .xacro format, so you need to install ROS (take a vacation for that) or use a rudimentary [xacro_converter.py](https://github.com/bulletphysics/bullet3/blob/master/data/xacro_standalone.py), or do it by hand.
Best bet is just to be patient, become familiar with one (or more) of the file formats and deal with it. Understanding the underlying data format is useful in the long run. Welcome to robotics land!

Also we only supported a small, undocumented subset of URDF, SDF and MJCF.
Here is a large collection of [URDF/SDF models from Gazebo](https://bitbucket.org/osrf/gazebo_models/src/220aa60a2eaa?at=default). Most of them can be loaded with minor manual fixes.

Just like loading .gif, .png for images, it just depends.
",really different file probably best find many single robot multiple flat hierarchical also note often format need install take vacation use rudimentary hand best bet patient become familiar one file deal understanding underlying data format useful long run welcome land also small undocumented subset large collection gazebo loaded minor manual like loading,issue,positive,positive,positive,positive,positive,positive
328717627,"Yes, I will add this in the future, but it is going to take a while. You can keep this topic open. ",yes add future going take keep topic open,issue,negative,neutral,neutral,neutral,neutral,neutral
328717434,"Fixed here, also explained how to use the json benchmark file:
https://github.com/bulletphysics/bullet3/pull/1307/commits/ec25f663c22339d07a4b4d6be56d9a19a98147ce
will be in bullet3 soon.",fixed also use file bullet soon,issue,negative,positive,neutral,neutral,positive,positive
328707113,"* in the docs,there are several load methods, loadURDF, loadBullet, loadSDF,loadMJCF, what  is the preferred/best method?  docs should mention this. docs should also mention the tradeoffs of the different methods.",several load method mention also mention different,issue,negative,neutral,neutral,neutral,neutral,neutral
328669860,Very strange indeed. I can create another pull request for the patch with the two commits or I can push the one where I rebased it to your latest commit and merged them into one.,strange indeed create another pull request patch two push one latest commit one,issue,negative,positive,positive,positive,positive,positive
328664035,"Yes, it copies those dll's in the right location, so the VR app runs out-of-the-box. Very odd that it failed in appveyor. It doesn't fail on my machine either. We can try to apply the PR again (need to figure out how) and see what is causing this problem.",yes right location odd fail machine either try apply need figure see causing problem,issue,negative,negative,negative,negative,negative,negative
328658384,"Yes, I did a git pull. Ant still works very well. Until now I just removed some force gains I introduced to make it work. But those gains have nothing to do with how roboschool does it. This pull request is not yet meant to be merged, this is just to show to avoid duplicate work by showing you what I am doing. Next I will look how roboschool tunes and controls the joints. Because somehow roboschool applies higher forces in general.",yes git pull ant still work well removed force gain make work gain nothing pull request yet meant show avoid duplicate work showing next look somehow higher general,issue,positive,positive,positive,positive,positive,positive
328641110,"I rebased my changes (including the one regarding target_link_libraries mentioned above) to your commit c56c5d74e7955248af9ca0a8b3ff473ba1deef70 locally and tested with Visual Studio 2017 Win64, Python 3.5, and numpy 1.13.1 with the cmake settings from build_visual_studio_vr_pybullet_double_cmake.bat. This works fine including running ctest.
Error MSB3073 in the appveyor log seems to be related to a failed copy command for openvr_api.dll?",one regarding commit locally tested visual studio win python work fine running error log related copy command,issue,positive,positive,positive,positive,positive,positive
328638167,"I have been working on this as well, did you do a git pull? The Ant works very well in the current trunk version.",working well git pull ant work well current trunk version,issue,negative,neutral,neutral,neutral,neutral,neutral
328599314,It is normal that some of the envs now work even worse than before. But only from that point on we can get it to work exactly the same as roboschool.,normal work even worse point get work exactly,issue,negative,neutral,neutral,neutral,neutral,neutral
328599095,First step is to clean up the stuff that are not required/roboschool specific visualization. Second is to remove all the tweaks that I added to make it work quickly.,first step clean stuff specific visualization second remove added make work quickly,issue,negative,positive,positive,positive,positive,positive
328585111,"Just as a side-note: There is no difference in timestep between Ant pybullet and Ant roboschool:
pybullet timestep = timestep=0.0165/4, Roboschool timestep = timestep=0.0165/4
In roboschool it is set in gym_forward_walker.py.",difference ant ant set,issue,negative,neutral,neutral,neutral,neutral,neutral
328506950,"@ahundt GNUInstallDirs still uses the directory names ""lib"" and ""include"" on Windows, so this should be fine. I tested this on Windows with Visual Studio 2017 Win64 static-build and Ubuntu 16.04 64-bit shared-build. According to https://cmake.org/Wiki/CMake_Version_Compatibility_Matrix/Commands the minimum version should be 2.8.11 for target_include_directories() with the currently used options.

I just tested again with Ubuntu and a static build and got an issue regarding an undefined reference to CProfileSample. I was able to fix this by always adding the library dependencies via target_link_libraries(), e.g., target_link_libraries(BulletDynamics BulletCollision LinearMath), instead of only doing this for the BUILD_SHARED_LIBS=ON case. I'll add this to the patch.

@erwincoumans I'll have a look at the error and see if I can replicate it.",still directory include fine tested visual studio win according minimum version currently used tested static build got issue regarding undefined reference able fix always library via instead case add patch look error see replicate,issue,negative,positive,positive,positive,positive,positive
328412982,"There is some error on Windows that I need to check out, hence the revert:
https://ci.appveyor.com/project/erwincoumans/bullet3/build/1.0.2134",error need check hence revert,issue,negative,neutral,neutral,neutral,neutral,neutral
328407440,"My project group has also noticed some problems with the IK. If you're willing to use external IK and only use bullet for the physics and simulation components might I suggest https://github.com/jrl-umi3218/Tasks? 

They also have an urdf parser in that same folder of repositories.",project group also willing use external use bullet physic simulation might suggest also parser folder,issue,negative,positive,positive,positive,positive,positive
328407015,"yes I have, some of the usability issues I outlined are for the GUI when running a simulation. 
",yes usability outlined running simulation,issue,negative,neutral,neutral,neutral,neutral,neutral
328406675,"OK, let's go for it. If there are issues on any platform, we either fix them or revert this patch until we know how to sort it out.",let go platform either fix revert patch know sort,issue,negative,neutral,neutral,neutral,neutral,neutral
328406288,"I took a quick look and these overall look like very good changes that make using bullet3 via cmake and C++ much easier. However, two questions:

1. Will the GNUInstallDirs configuration break compatibility with windows?
2. What OSes and configurations has this been tested on?

These changes will most likely require a minimum CMake version of 3.0, but other libraries should still be able to implement their manual find/configuration scripts as the have in the past with any version of CMake. CMake is very easy to update on just about any OS.",took quick look overall look like good make bullet via much easier however two configuration break compatibility tested likely require minimum version still able implement manual past version easy update o,issue,positive,positive,positive,positive,positive,positive
328379260,"CMake currently has two ways of finding dependencies via find_package(): the classical one uses a find script, e.g., FindBullet.cmake, that defines variables such as ${BULLET_INCLUDE_DIRS} and ${BULLET_LIBRARIES} that can be used in a project. This is either written by the developer himself or ships with CMake in the Modules directory (the current CMake version includes a FindBullet.cmake). These can then be used in target_link_libraries(foo ${BULLET_LIBRARIES}) and include_directories(${BULLET_INCLUDE_DIRS}) or target_include_directories(foo PUBLIC ${BULLET_INCLUDE_DIRS}). ${BULLET_LIBRARIES} should contain absolute paths to the file and if available debug and optimized (release) configurations. Using link_directories() is not recommended any more (https://cmake.org/cmake/help/v3.9/command/link_directories.html).

The new approach lets projects ship a config with their installation that can be used by other projects without supplying the find script. Most of them also include targets that enable relocation of installations, as the absolute paths are no longer hard-coded but are stored in the config files. The one Bullet currently provides however does not provide absolute paths for the files, uses link_directories(), and is not relocatable. I just tried and could not compile an external project using this file on Windows with Visual Studio.

If a programmer uses the old config file or the CMake find script with target_link_libraries(foo ${BULLET_LIBRARIES}) instead of target_link_libraries(foo LinearMath BulletCollision BulletDynamics), the new config file would behave identical as it now contains ""Bullet::LinearMath Bullet::BulletCollision Bullet::BulletDynamics"" (and the other ones specified at the end of CMakeLists.txt). These also link to the actual imported targets with all dependencies now and CMake ist not simply looking for a file with this name. The other variables are not required any more, but can still be used. I set these to absolute paths however for compatibility with other CMake find scripts.

The namespace in combination with ""::"" is recommended to allow CMake to identify imported targets (see https://cmake.org/cmake/help/v3.9/manual/cmake-developer.7.html#a-sample-find-module).

GNUInstallDirs takes care of platform-specific directory names according to GNU coding standards, e.g., lib could also be lib64, lib/i386-linux-gnu, or lib/x86_64-linux-gnu.

Thank you for the link to pybullet, our main focus is however on C++ at the moment.",currently two way finding via classical one find script used project either written developer directory current version used foo foo public contain absolute file available release new approach ship installation used without find script also include enable relocation absolute longer one bullet currently however provide absolute tried could compile external project file visual studio programmer old file find script foo instead foo new file would behave identical bullet bullet bullet end also link actual ist simply looking file name still used set absolute however compatibility find combination allow identify see care directory according gnu could also thank link main focus however moment,issue,positive,positive,neutral,neutral,positive,positive
328376096,"Probably best to close the PR. I plan on removing/cleaning up some of those pybullet examples and create a few more powerful ones that will 'ship' with pybullet, similar to the new pybullet_data and pybullet_envs Gym environments.

Thanks for your effort anyway!",probably best close plan create powerful similar new gym thanks effort anyway,issue,positive,positive,positive,positive,positive,positive
328375984,"Thanks for the contribution. I'm not familiar with cmake namespace and GNUInstallDirs.
For our current robotics and reinforcement learning r&d, we mostly use the new pybullet Python bindings and those are build using setuptools for pip/pypi (See http://pybullet.org if robotics are of your interest).

Would this change be backward compatible?
In other words, can you still use target_link_libraries(foo LinearMath BulletCollision BulletDynamics) without the Bullet:: namespace?
",thanks contribution familiar current reinforcement learning mostly use new python build see interest would change backward compatible still use foo without bullet,issue,positive,positive,positive,positive,positive,positive
328123900,"So let's hold off on this CL and focus on making all the existing environments work well, with the same observations and rewards as Roboschool, given the same actions. So please create a clean pull request for those fixes (not merge it with new environments and refactoring).

With my latest changes, the Ant seems to walk well with pre-trained weights.

1) allow to switch off random values for comparison with Roboschool (same for Roboschool)
2) For each environment, check that observations and rewards are the same as Roboschool
3) Make sure each environment runs well on pre-trained weights. HalfCheetah, Walker2D and all of the pendulums don't work as well as in Roboschool
4) Make sure that each environment can be trained using OpenAI Baselines PPO (Humanoid for example doesn't have random weights at the moment): we need some script to do this.

I'll help with those items too.

Thanks for the help, this is going to be super useful!",let hold focus making work well given please create clean pull request merge new latest ant walk well allow switch random comparison environment check make sure environment well work well make sure environment trained humanoid example random moment need script help thanks help going super useful,issue,positive,positive,positive,positive,positive,positive
328041072,"The power increase is what I did to make it work in the beginning. Since I
did not know that you intended to make it work exactly as they work in
roboschool, I did not track down all differences. I will fix that in the
next commit. Thanks for tracking these differences down. I realized that
roboschool also sets the kd and kp explicitly when running the motors. I
will also see if there is something done which is non-default.

On Thu, Sep 7, 2017 at 6:53 PM erwincoumans <notifications@github.com>
wrote:

> At a first glance some differences for Ant:
> pybullet numSubSteps=2 , Roboschool numSubSteps=4
> pybullet power=10.5, Roboschool power = 2.5
> pybullet self_collision = False, Roboschool self_collision = True
> pybullet loadMJCF flags =
> flags=p.URDF_USE_SELF_COLLISION_EXCLUDE_ALL_PARENTS
> Roboschool loadMJCF flags =
> flags=p.URDF_USE_SELF_COLLISION+p.URDF_USE_SELF_COLLISION_EXCLUDE_ALL_PARENTS
> pybullet timestep = timestep=0.0165/4, Roboschool timestep =
> timestep=0.0165
> Roboschool sets the p.setDefaultContactERP(0.9), pybullet locomotors don't
>
> For the Humanoid, the training/randomized reset is disable/todo/commented
> out.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-327859327>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qwYh5pJdU0KX40vBm5U7D0eYYLSWks5sgB96gaJpZM4PNUdu>
> .
>
",power increase make work beginning since know intended make work exactly work track fix next commit thanks also explicitly running also see something done wrote first glance ant power false true humanoid reset thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
327940997,"x = p.loadTexture('/Users/bullet3/data/tex256.png')

p.changeVisualShape(cube[0], 0, textureUniqueId=x)
\# p.changeVisualShape(cube[0], -1, textureUniqueId=x)
p.changeVisualShape(plane[0], -1, textureUniqueId=x)

I changed it to the absolute path, and now the floor loads successfully, still not the cube.",cube cube plane absolute path floor successfully still cube,issue,negative,positive,positive,positive,positive,positive
327935115,"I got this working  using the first method  you suggested. I know stl is not a core part of bullet, but is it worth it to put some docs/notes for other people who run into a similar issue?  ",got working first method know core part bullet worth put people run similar issue,issue,negative,positive,positive,positive,positive,positive
327878566,"I moved to pybullet and a C-API, that allows also multibody in an easier way (btMultiBody) instead of btRigidBody and btTypedConstraints. See also the pybullet quickstart guide at http://pybullet.org if you are interested. The underlying C-API is abstracted and very different from the Bullet C++ API.",also easier way instead see also guide interested underlying abstracted different bullet,issue,positive,positive,positive,positive,positive,positive
327877867,"You could just use the btGeneric6DofSpring2Constraint directly, and set the linear/angular limits to zero, that would workaround if there is any issue.

Cool, thanks for the report!",could use directly set zero would issue cool thanks report,issue,positive,positive,positive,positive,positive,positive
327876496,"I wanted to add fixed constraint to Urho3D in the image and likeness of other constraints. They use type in this way
https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Physics/Constraint.cpp#L427

But personally, I only recently began to get acquainted with Bullet library so I can not provide any patch",add fixed constraint image likeness use type way personally recently get acquainted bullet library provide patch,issue,negative,positive,positive,positive,positive,positive
327871731,Please provide a reproduction case.,please provide reproduction case,issue,negative,neutral,neutral,neutral,neutral,neutral
327870297,"Does it also fail if you point to the texture using the proper relative path (or absolute path)?
loadTexture('../bullet3/data/tex256.png')
",also fail point texture proper relative path absolute path,issue,negative,negative,neutral,neutral,negative,negative
327869873,"[test.py.zip](https://github.com/bulletphysics/bullet3/files/1285581/test.py.zip)

Great, thanks for spending the time to recreate the issue, I appreciate it and have a look at it soon!",great thanks spending time recreate issue appreciate look soon,issue,positive,positive,positive,positive,positive,positive
327859327,"At a first glance some differences for Ant:
pybullet numSubSteps=2 , Roboschool  numSubSteps=4
pybullet  power=10.5, Roboschool power = 2.5
pybullet self_collision = False, Roboschool self_collision = True
pybullet loadMJCF flags = flags=p.URDF_USE_SELF_COLLISION_EXCLUDE_ALL_PARENTS
Roboschool loadMJCF flags = flags=p.URDF_USE_SELF_COLLISION+p.URDF_USE_SELF_COLLISION_EXCLUDE_ALL_PARENTS
pybullet timestep = timestep=0.0165/4, Roboschool timestep = timestep=0.0165
Roboschool sets the p.setDefaultContactERP(0.9), pybullet locomotors don't

For the Humanoid, the training/randomized reset is disable/todo/commented out.",first glance ant power false true humanoid reset,issue,negative,positive,neutral,neutral,positive,positive
327752943,"Ok, I will have a look into it as soon as I have time. I suspect the
difference to be somewhere in the depths of the roboschool cpp code.

On Thu, Sep 7, 2017 at 8:57 AM erwincoumans <notifications@github.com>
wrote:

> Before moving forward, I'd like to return to the
> enjoy_TF_AntBulletEnv_v0_2017may.py and make that work identically to the
> Roboschool Ant example. I find Python class hierarchies hard to digg
> through, and that makes it hard to figure out where things go wrong. Also,
> the pybullet.getBasePositionAndOrientation is called many times each frame
> for the Ant, it should only be called once. For a start, we can disable the
> randomization both in AntBulletEnv and in Roboschool, load the same assets,
> make sure the actions and observations are identical etc.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-327705565>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q41j-EFotcybLioMiGyezBh7tDo9ks5sf5PdgaJpZM4PNUdu>
> .
>
",look soon time suspect difference somewhere code wrote moving forward like return make work identically ant example find python class hard hard figure go wrong also many time frame ant start disable randomization load asset make sure identical thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
327705565,"Before moving forward, I'd like to return to the enjoy_TF_AntBulletEnv_v0_2017may.py and make that work identically to the Roboschool Ant example. I find Python class hierarchies hard to digg through, and that makes it hard to figure out where things go wrong. Also, the pybullet.getBasePositionAndOrientation is called many times each frame for the Ant, it should only be called once. For a start, we can disable the randomization both in AntBulletEnv and in Roboschool, load the same assets, make sure the actions and observations are identical etc.",moving forward like return make work identically ant example find python class hard hard figure go wrong also many time frame ant start disable randomization load asset make sure identical,issue,negative,negative,neutral,neutral,negative,negative
327405569,"I just found a case with the problem. It's a simple modification on the pybullet/examples/vr_kuka_setup.py. The code is attached here:

https://www.dropbox.com/s/2489h34ponpzeqj/test.py?dl=0",found case problem simple modification code attached,issue,negative,neutral,neutral,neutral,neutral,neutral
327350781,"I'm using mac 10.12.6 Sierra, with python 2.7 64bits. I'm still looking for a way to regenerate the problem, but my code was in a huge system and it's hard to track what exactly happened. I basically have a body class that represents the cube, and I use some setters/getters to set/query the state of the cube, which causes the error.

I also noticed that sometimes if wrong argument types are given to bullet functions, python will bark errors at some other random functions about ""TypeError: required a float"". I will try to look into those and write some scripts.

Sorry, it was not the cube, the texture on the plane does not work:

import pybullet as p 

p.connect(p.GUI)
p.setRealTimeSimulation(1)

f = p.loadURDF('../bullet3/data/plane_with_restitution.urdf', useFixedBase=True)
x = p.loadTexture('tex256.png')

p.changeVisualShape(f, -1, x)
p.getCameraImage(300,300,renderer=p.ER_TINY_RENDERER)
while 1:
	p.stepSimulation()


![image](https://user-images.githubusercontent.com/4889103/30090627-81023bde-9269-11e7-8085-50ee735ee57a.png)
",mac sierra python still looking way regenerate problem code huge system hard track exactly basically body class cube use state cube error also sometimes wrong argument given bullet python bark random float try look write sorry cube texture plane work import image,issue,negative,negative,negative,negative,negative,negative
327337225,"Best to stick to the original problem of the crash. Can you provide a reproduction case? What operating system and Python version (32bit/64bit etc)?

Your changeTexture script works just fine here (tex256.png file is next to the script.py)
![image](https://user-images.githubusercontent.com/725468/30088696-ce8b2a6c-925c-11e7-98ad-2bf3b23b6aae.png)
",best stick original problem crash provide reproduction case operating system python version script work fine file next image,issue,negative,positive,positive,positive,positive,positive
327335834,"I cannot replicate the problem individually in a separate script, but I have located my problem to be the line with setting cube_small color at link -1. It segfaults 6 out of 10 times, very unpredictable. However, I have another problem with changing texture as well. The changeTexture.py cannot function properly, both planes appear white and cannot render the tex256.png. Another snippet with the same problem is attached:

import pybullet as p 

p.connect(p.GUI)
p.setRealTimeSimulation(1)

c = p.loadURDF('cube.urdf', (0, 0, 1), useFixedBase=True)

x = p.loadTexture('tex256.png')

p.changeVisualShape(c, -1, textureUniqueId=x)
p.getCameraImage(300,300,renderer=p.ER_TINY_RENDERER)
while 1:
	p.stepSimulation()
",replicate problem individually separate script problem line setting color link time unpredictable however another problem texture well function properly appear white render another snippet problem attached import,issue,negative,negative,neutral,neutral,negative,negative
327285783,"There are still some differences between several of them and I have no clue
why. The Atlas robot does not walk at all for now, and in general, the
power constants of roboschool are too low. As if there was another scaling
factor or a different kind of control (oh, right, roboschool does not have
your motor control types...). I will check it out as soon as I have some
more spare time. As usual, just tell me if you are missing stuff you would
like to have, then I will work on that. If you like what you see, just
merge it.

If I had a VR device, I would build some VR trainable robots that can throw
balls with a VR player...Unfortunately I do not.

On 20:44, Tue, Sep 5, 2017 erwincoumans <notifications@github.com> wrote:

> Wow, thanks for the contribution, I'll have a look at it. By the way,
> there is some difference in your 'Ant' environment and the Roboschool Ant,
> even though they use the same xml assets. It could be the timestep,
> substep, iterations, default contact ERP etc. I'm looking into the
> differences now, if you have any insight, please let us know.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1296#issuecomment-327262344>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qy-USzPdB9BtLQogLFXzXJM1TKU2ks5sfZKjgaJpZM4PNUdu>
> .
>
",still several clue atlas robot walk general power low another scaling factor different kind control oh right motor control check soon spare time usual tell missing stuff would like work like see merge device would build trainable throw player unfortunately tue wrote wow thanks contribution look way difference environment ant even though use asset could default contact looking insight please let u know thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
327262344,"Wow, thanks for the contribution, I'll have a look at it. By the way, there is some difference in your 'Ant' environment and the Roboschool Ant, even though they use the same xml assets. It could be the timestep, substep, iterations, default contact ERP etc. I'm looking into the differences now, if you have any insight, please let us know.",wow thanks contribution look way difference environment ant even though use asset could default contact looking insight please let u know,issue,positive,positive,positive,positive,positive,positive
327257285,"It works nearly out of the box, it was a file path issue. I just had to remove some package file paths.",work nearly box file path issue remove package file,issue,negative,positive,neutral,neutral,positive,positive
327198188,"Attached script works fine. Can you try attached script? If it works fine, please modify until it doesn't work for you.


[setVisShape.py.zip](https://github.com/bulletphysics/bullet3/files/1277773/setVisShape.py.zip)
",attached script work fine try attached script work fine please modify work,issue,positive,positive,positive,positive,positive,positive
327195391,"Roboschool is uses Bullet to load the Atlas URDF file using the loadURDF command. Are you using a different URDF file?

I just modified Roboschool to connect to shared memory to the latest version of Bullet ExampleBrowser, and dumped the state using the pybullet.saveWorld command, here is the output with the actual file names:

import pybullet as p
cin = p.connect(p.SHARED_MEMORY)
if (cin < 0):
    cin = p.connect(p.GUI)
objects = p.loadMJCF(""/Users/erwincoumans/dev/roboschool/roboschool/mujoco_assets/ground_plane.xml"")
ob = objects[0]
p.resetBasePositionAndOrientation(ob,[0.000000,0.000000,0.000000],[0.000000,0.000000,0.000000,1.000000])
objects = [p.loadURDF(""/Users/erwincoumans/dev/roboschool/roboschool/models_robot/atlas_description/urdf/atlas_v4_with_multisense.urdf"", 0.052097,-0.109907,0.853118,0.020115,-0.042640,-0.126953,0.990788)]
ob = objects[0]
jointPositions=[ 0.664932, 0.257907, -0.020424, -1.082520, -1.379381, 1.127177, 1.174691, 0.439071, -0.607822, 0.001000, 0.396434, -0.685561, 1.496594, -0.000015, -2.220817, 0.838156, -0.827978, 0.001015, 0.183998, -0.031814, -0.119002, 0.816444, -0.610341, -0.003797, 0.008446, -0.061425, 0.183882, 0.564570, -0.584537, -0.009632 ]
for jointIndex in range (p.getNumJoints(ob)):
        p.resetJointState(ob,jointIndex,jointPositions[jointIndex])

p.setGravity(0.000000,0.000000,-9.800000)
p.stepSimulation()
p.disconnect()
",bullet load atlas file command different file connect memory latest version bullet state command output actual file import range,issue,negative,positive,positive,positive,positive,positive
327046002,"First of all, you can only have 1 GUI connection per process. If you like to connect to an existing GUI connection from a different thread/process you can use the following:

start process/thread A using p.connect(p.GUI_SERVER) 
start process/thread B using p.connect(p.SHARED_MEMORY, key=12348)

If you use DIRECT mode, each thread and process has its own private data, so there is no reading state from another thread/process possible.",first connection per process like connect connection different use following start start use direct mode thread process private data reading state another possible,issue,negative,positive,neutral,neutral,positive,positive
327034887,"You can create a simple URDF file with a visual or collision mesh that points to a .STL file.

Alternatively, you can use the pybullet.createCollisionShape with GEOM_MESH type pointing to that STL file (or .OBJ). Then use the pybullet.createMultiBody to create an actual object. See the pybullet quickstart guide for details at http://pybullet.org",create simple file visual collision mesh file alternatively use type pointing file use create actual object see guide,issue,negative,neutral,neutral,neutral,neutral,neutral
327017468,"Just got back. I did some tests on the examples with pybullet 1.2.9 and they all seem to work with the new changes now, thank you.",got back seem work new thank,issue,negative,positive,neutral,neutral,positive,positive
326767518,"I think this PR can be closed, since things moved around. Is that OK? Thanks for the help!",think closed since around thanks help,issue,positive,positive,neutral,neutral,positive,positive
326173652,"I re-implemented it, so that also motor torques (POSITION_CONTROL, VELOCITY_CONTROL) are logged (they are separate from user applied torques in 'TORQUE_CONTROL'). Motors will work in real-time simulation too. I'll implement some PD controller that works in real-time setting at some stage.
See new pull request here: https://github.com/bulletphysics/bullet3/pull/1288
Thanks!",also motor torque logged separate user applied torque work simulation implement controller work setting stage see new pull request thanks,issue,negative,positive,positive,positive,positive,positive
326092033,"Very interesting, thanks for sharing!

Do you have any benchmark or numbers how this improves the results? 

I expected the current btDbvt not to make too many allocations: the resize(0) doesn't actually deallocated memory, so once the capacity is sufficient, the push_back should not require actual memory allocations.

It will likely take some time before I can make sure this patch doesn't break any of the existing code.",interesting thanks current make many resize actually memory capacity sufficient require actual memory likely take time make sure patch break code,issue,positive,positive,positive,positive,positive,positive
325901650,"Well, pretty sure that it is a bug",well pretty sure bug,issue,positive,positive,positive,positive,positive,positive
325829655,"I found the way how to fix it. In the broadphase collision check I must check if the area wants to collide with static object, in this case I return false.

I don't understand why this is required since as written in the doc:
> ///The btGhostObject can keep track of all objects that are overlapping
> ///By default, this overlap is based on the AABB

The area use only the broadphase, so basially after broadphase collision nothing should happen, why I get this performance loss?",found way fix collision check must check area collide static object case return false understand since written doc keep track default overlap based area use collision nothing happen get performance loss,issue,negative,positive,neutral,neutral,positive,positive
325745748,"@erwincoumans Godot has a tree-like node structure, so the global transform is in general a product of multiple local transformations in general. While each local basis is just a rotation and scale, Bi = Ri.Si, a composite basis can have things like shear (example: a child node rotated around z-axis by 45 degrees and a parent node with scaling 2,1,1 results in a general affine matrix which can't be decomposed into a global rotation and a scaling).

Is there any way to represent such objects in Bullet?",node structure global transform general product multiple local general local basis rotation scale composite basis like shear example child node rotated around parent node scaling general affine matrix ca decomposed global rotation scaling way represent bullet,issue,negative,positive,neutral,neutral,positive,positive
325732004,"Apologies, it's the createConstraint API on pg. 24 of the pybullet quickstart guide.  

'https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/

Unfortunately, I'm unable to provide the data files (URDFs) or much code, other than the direct call:

c = pybullet.createConstraint(id_robot, 6, id_cylinder, pybullet.JOINT_FIXED, [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0])
pybullet.changeConstraint(c, maxForce=1000)

I suspect it might be something to do with the coordinate frames passed in, but I'm not sure as I'm very new to pybullet. 

Thanks for your help!

",unfortunately unable provide data much code direct call suspect might something sure new thanks help,issue,positive,positive,positive,positive,positive,positive
325526956,I have never heard of a createMagnetConstraint API. Can you provide some easy to reproduce C++ and/or pybullet reproduction case?,never provide easy reproduce reproduction case,issue,negative,positive,positive,positive,positive,positive
325442334,"No shearing is supported, only rigid body transforms (position and orientation quaternion).

I wouldn't add scaling in the transform: just use btCollisionShape local scaling and possibly adjust the transforms of the compound shape manually if needed.",shearing rigid body position orientation quaternion would add scaling transform use local scaling possibly adjust compound shape manually,issue,negative,neutral,neutral,neutral,neutral,neutral
325435508,"@erwincoumans @ongamex Thanks for this explanation, I've implemented it.
For a case I've found that if I set the scale to the transform in the compound shape the shape is also scaled.

This behavior is not intented to work or I can use it? If I can use it is shearing shape shearing allowed?",thanks explanation case found set scale transform compound shape shape also scaled behavior work use use shearing shape shearing,issue,negative,positive,positive,positive,positive,positive
325250169,"OK, pybullet 1.2.7 addresses the issue. There is the pybullet_data package, that has the getDataPath() method. I didn't convert all examples to use it, just 'test.py' and 'racecar.py'.
There is also a new pybullet.setAdditionalSearchPath.",issue package method convert use also new,issue,negative,positive,positive,positive,positive,positive
325217078,"Cool, yeah, that was what I meant but adding that info in the docs/README. Thanks!

-- Sent from my mobile

> On Aug 27, 2017, at 6:45 AM, erwincoumans <notifications@github.com> wrote:
> 
> Ah, pybullet_env only exposes gym environments. It has a small subset of private data (urdf, obj) ONLY for those gym envs. If you want to run the regular github examples, just checkout the full tree. I'll clarify this in the future pybullet Gym chapter of the quickstart guide.
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub, or mute the thread.
> 
",cool yeah meant thanks sent mobile wrote ah gym small subset private data gym want run regular full tree clarify future gym chapter guide thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
325199315,"itAh, pybullet_env only exposes gym environments. It has a small subset of private data (urdf, obj) ONLY for those gym envs. If you want to run the regular github examples, just checkout the full tree: there is no search path to that private data inside the pybullet_envs package data. Let's see if I can expose that private package data for generic use, using a registration function.",gym small subset private data gym want run regular full tree search path private data inside package data let see expose private package data generic use registration function,issue,negative,positive,neutral,neutral,positive,positive
325198182,"the pretrained environments work from your comment above! What doesnt work is using the examples from source:

 wget https://github.com/bulletphysics/bullet3/raw/master/examples/pybullet/examples/hello_pybullet.py
jtoy@MacBook-Pro-6:~/sandbox/bullet_test $ python hello_pybullet.py
pybullet build time: Aug 27 2017 06:05:02
Vendor: NVIDIA Corporation
Renderer: NVIDIA GeForce GT 750M OpenGL Engine
Version: 4.1 NVIDIA-10.4.2 310.41.35f01
GLSL: 4.10
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0
MotionThreadFunc thread started
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,139]:

b3Printf: URDF file 'plane.urdf' not found

Traceback (most recent call last):
  File ""hello_pybullet.py"", line 7, in <module>
    planeId = p.loadURDF(""plane.urdf"")
pybullet.error: Cannot load URDF file.
numActiveThreads = 0
stopping threads
stopThreads: Thread 0 used: 1
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed





wget https://raw.githubusercontent.com/bulletphysics/bullet3/master/examples/pybullet/examples/test.py

python test.py
pybullet build time: Aug 27 2017 06:05:02
Vendor: NVIDIA Corporation
Renderer: NVIDIA GeForce GT 750M OpenGL Engine
Version: 4.1 NVIDIA-10.4.2 310.41.35f01
GLSL: 4.10
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0
MotionThreadFunc thread started
b3Printf: b3Warning[examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp,139]:

b3Printf: URDF file 'plane.urdf' not found

Traceback (most recent call last):
  File ""test.py"", line 6, in <module>
    pybullet.loadURDF(""plane.urdf"",0,0,-1)
pybullet.error: Cannot load URDF file.
numActiveThreads = 0
stopping threads
stopThreads: Thread 0 used: 1
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed",work comment doesnt work source python build time vendor corporation renderer engine version selected physic server starting thread thread thread file found recent call last file line module load file stopping thread used thread thread destroy semaphore semaphore destroy main semaphore main semaphore python build time vendor corporation renderer engine version selected physic server starting thread thread thread file found recent call last file line module load file stopping thread used thread thread destroy semaphore semaphore destroy main semaphore main semaphore,issue,negative,negative,neutral,neutral,negative,negative
325166588,"Well ok, that sounds like a good reasoning for the current situation.
Thanks for the headsup!

On Sun, Aug 27, 2017, 00:48 Paul <notifications@github.com> wrote:

> Yes, it runs at max speed, doesn't use vsync at all, so what you're seeing
> is expected. I don't think it'd really be a good idea to change this in the
> demo explorer, but a checkbox on the window to enable vsync might be
> useful...
>
> Sometimes vsync or fps limits can be a bad thing, it can reflect poorer
> than usual performance and in some cases may not work properly at all (eg;
> mesa drivers).
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1277#issuecomment-325166075>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q2eAZGVQIJqNAwcpG5umv2zAaQp_ks5scKDXgaJpZM4PDYD5>
> .
>
",well like good reasoning current situation thanks sun wrote yes speed use seeing think really good idea change explorer window enable might useful sometimes bad thing reflect usual performance may work properly mesa thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
325166075,"Yes, it runs at max speed, doesn't use vsync at all, so what you're seeing is expected. I don't think it'd really be a good idea to change this in the demo explorer, but a checkbox on the window to enable vsync might be useful...

Sometimes vsync or fps limits can be a bad thing, it can reflect poorer than usual performance and in some cases may not work properly at all (eg; mesa drivers).",yes speed use seeing think really good idea change explorer window enable might useful sometimes bad thing reflect usual performance may work properly mesa,issue,positive,positive,neutral,neutral,positive,positive
325165827,"Thanks, and please try it out. If things don't work, let me know. Try it using pure ""(sude) pip install pybullet"" (version 1.2.6 or later) outside/without regular Bullet github and inside. See that commit for more into how to try it out (https://github.com/bulletphysics/bullet3/commit/51b7e1040f0581dbb5a2e3f2eeb38ac55f112b18)",thanks please try work let know try pure pip install version later regular bullet inside see commit try,issue,positive,positive,positive,positive,positive,positive
325165753,"I uploaded pybullet version 1.2.6. Please have a good look at this commit info and please do NOT need to use the github repository, just pip install pybullet.

pip install pybullet


Enjoy pretrained environments:

python -m pybullet_envs.examples.enjoy_TF_AntBulletEnv_v0_2017may
python -m pybullet_envs.examples.enjoy_TF_HalfCheetahBulletEnv_v0_2017may
python -m pybullet_envs.examples.enjoy_TF_AntBulletEnv_v0_2017may
python -m pybullet_envs.examples.enjoy_TF_HopperBulletEnv_v0_2017may
python -m pybullet_envs.examples.enjoy_TF_HumanoidBulletEnv_v0_2017may
python -m pybullet_envs.examples.enjoy_TF_InvertedDoublePendulumBulletEnv_v0_2017may
python -m pybullet_envs.examples.enjoy_TF_InvertedPendulumBulletEnv_v0_2017may
python -m pybullet_envs.examples.enjoy_TF_InvertedPendulumSwingupBulletEnv_v0_2017may
python -m pybullet_envs.examples.enjoy_TF_Walker2DBulletEnv_v0_2017may

Run some gym environment test:
python -m pybullet_envs.examples.racecarGymEnvTest

Using OpenAI baselines DQN training:

train:
python -m pybullet_envs.examples.train_pybullet_cartpole
python -m pybullet_envs.examples.train_pybullet_racecar

(the training will save a .pkl file with the weights, leave it running for a while, it terminates when it reaches some reasonable reward)

enjoy:
python -m pybullet_envs.examples.enjoy_pybullet_cartpole
python -m pybullet_envs.examples.enjoy_pybullet_racecar

For your own learning/training, create/Import a specific Gym environment:

python
import pybullet_envs
env = gym.make(""AntBulletEnv-v0"")
env = gym.make(""HalfCheetahBulletEnv-v0"")
env = gym.make(""HopperBulletEnv-v0"")
env = gym.make(""HumanoidBulletEnv-v0"")
env = gym.make(""Walker2DBulletEnv-v0"")
env = gym.make(""InvertedDoublePendulumBulletEnv-v0"")
env = gym.make(""InvertedPendulumBulletEnv-v0"")
env = gym.make(""MinitaurBulletEnv-v0"")
env = gym.make(""RacecarBulletEnv-v0"")
env = gym.make(""KukaBulletEnv-v0"")
env = gym.make(""CartPoleBulletEnv-v0"")

If you want to enable human/GUI rendering in a Gym-created environment, call the env.render(mode=""human"") BEFORE the first env.reset.

",version please good look commit please need use repository pip install pip install enjoy python python python python python python python python python run gym environment test python training train python python training save file leave running reasonable reward enjoy python python specific gym environment python import want enable rendering environment call human first,issue,positive,positive,positive,positive,positive,positive
325165448,"I realized the 'close to done' after I stated merging your reorganization with my new stuff today and then saw that you were working on some other restructuring changes. However, it seems that the last merge should not be a large thing anymore. Thanks for the update, I will make my contributions comply with the above described structure.",done stated reorganization new stuff today saw working however last merge large thing thanks update make comply structure,issue,negative,positive,positive,positive,positive,positive
325165171,"By the way, the reorganization of the Gym environments is close to done

1) pybullet connection/disconnection needs to happen inside the Gym environment (it happens automatically now, inside env_base _reset method)

2) if you want to enable GUI/human rendering, call the env.render(mode=""human"") BEFORE the first env.reset

3) use ""main"" instead of ""demo_run"" in the enjoy scripts.

https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/gym/pybullet_envs/examples/enjoy_TF_AntBulletEnv_v0_2017may.py

You can try it out by pip install pybullet. Then you can run the examples, without requiring to have the Bullet repository installed.

This commit shows some examples how to use the Gym environments after pip install pybullet:

https://github.com/bulletphysics/bullet3/pull/1279/commits/51b7e1040f0581dbb5a2e3f2eeb38ac55f112b18
",way reorganization gym close done need happen inside gym environment automatically inside method want enable rendering call human first use main instead enjoy try pip install run without bullet repository commit use gym pip install,issue,negative,positive,positive,positive,positive,positive
325160303,"Thanks for the info. I will try that.

On Sat, Aug 26, 2017, 20:40 erwincoumans <notifications@github.com> wrote:

> The DAE loader is very primitive, likely doesn't accept the file. Best
> would be to convert the assets to Wavefront .OBJ.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1276#issuecomment-325154709>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q9ukE8cMAvpwRKDpDYQUOabJo_75ks5scGaugaJpZM4PDX8s>
> .
>
",thanks try sat wrote dae loader primitive likely accept file best would convert asset thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
325154947,">>The problem is you cant really run ""pip install pybullet"" 
>>and then run any of the examples that require urdf files unless you clone the whole repo.

There is some contradiction, since you seem to have run one example succesfully after running pip install pybullet:

import pybullet_envs.examples.enjoy_TF_HumanoidBulletEnv_v0_2017may
pybullet_envs.examples.enjoy_TF_HumanoidBulletEnv_v0_2017may.demo_run()""

One more try: can you please report the command that you tried to run an example (without the github repo), and provide the console/error log?

>>Will there be official python docs?

The pybullet quickstart guide IS the official python docs. Can you explain what makes it not official or incomplete?

>>Looks like the python stuff is still work in progress.

No, the pybullet API is pretty mature at the moment, and various teams in Google use it for machine learning research.

However, the pybullet_envs GYM environments are brand new, still under construction and not documented yet and not all examples/assets (especially KUKA related) are converted to be run within the pip installed version.

Thanks for trying it and for reporting back and have a good vacation!",problem cant really run pip install run require unless clone whole contradiction since seem run one example running pip install import one try please report command tried run example without provide log official python guide official python explain official incomplete like python stuff still work progress pretty mature moment various use machine learning research however gym brand new still construction yet especially related converted run within pip version thanks trying back good vacation,issue,positive,positive,positive,positive,positive,positive
325154709,"The DAE loader is very primitive, likely doesn't accept the file (it uses polygons instead of triangles?). Best would be to convert the assets to Wavefront .OBJ.",dae loader primitive likely accept file instead best would convert asset,issue,positive,positive,positive,positive,positive,positive
325117402,"
I got it all working, I have to run the examples from inside the git cloned repo. 
I think it might be good to make the examples be able to run standalone, or maybe add a README in the pybullet examples dir.  The problem is you cant really run ""pip install pybullet"" and then run any of the examples that require urdf files unless you clone the whole repo.
 I read through the pybullet google doc, such fun potential to use for machine learning.
 is the goal for the pybullet lib to get to feature parity with C API? Will there be official python docs?
Looks like the python stuff is still work in progress. Would love to help out, taking off on vacation tomorrow, back in a week! 
",got working run inside git think might good make able run maybe add problem cant really run pip install run require unless clone whole read doc fun potential use machine learning goal get feature parity official python like python stuff still work progress would love help taking vacation tomorrow back week,issue,positive,positive,positive,positive,positive,positive
325111178,"If enjoy_TF_HumanoidBulletEnv_v0_2017may works, it is all fine. I haven't ported the KUKA assets yet.

What example fails exactly, and copy/paste the full output please.",work fine ported asset yet example exactly full output please,issue,positive,positive,positive,positive,positive,positive
325103585,"Can you move this issue to the bulletphysics forum? This is meant to be the
place where you post a problem if you are pretty sure that it is an actual
bug.

On Sat, Aug 26, 2017 at 10:22 AM ongamex <notifications@github.com> wrote:

> Otherwise, tell me if need more info about the issue,
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1262#issuecomment-325101956>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q-3WpfNyyI6gO_rTly6Ocuz2Ao_3ks5sb9W6gaJpZM4O8bIg>
> .
>
",move issue forum meant place post problem pretty sure actual bug sat wrote otherwise tell need issue thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
325101956,"Otherwise, tell me if need more info about the issue, ",otherwise tell need issue,issue,negative,neutral,neutral,neutral,neutral,neutral
325101737,"For those who have the same issue. I cound't fix the btGhostObject shape scaling. 
Instead now I'm using a standard rigid body with btCollisionObject::CF_NO_CONTACT_RESPONSE. This flag will still let bullet compute the contact manifolds, but they wont be used to resolve any collisions.

And on each step I loop trough all contact manifolds and find the ones that have my rigid body with that flag in it.",issue fix shape scaling instead standard rigid body flag still let bullet compute contact wont used resolve step loop trough contact find rigid body flag,issue,negative,neutral,neutral,neutral,neutral,neutral
325092590,I will work on my trainer class now and add it to my next pull-request.,work trainer class add next,issue,negative,neutral,neutral,neutral,neutral,neutral
325092405,"There are no docker containers for bullet3 that I know of. Are you sure you can connect into a docker container using shared memory? In fact the probably do not even share memory. Maybe try the TCP option, that would be my best guess.",docker bullet know sure connect docker container memory fact probably even share memory maybe try option would best guess,issue,positive,positive,positive,positive,positive,positive
325085132,"* yes, I meant to say ""pip install pybullet"".   
* its  not an issue with permissions as I install with the local user and anaconda and no sudo.
* i just copy/paste the source  of from here https://github.com/bulletphysics/bullet3/tree/master/examples/pybullet/examples  into my local directory and run ""python SCRIPT.py"" and the window appears for a second and dies with the urdf error.  I also tried copying those urdf files to my local directory and also into local_directory/data and get the same issue.  My guess is I shouldn't copy them like that.
* I installed pybullet 1.2.5 and get the same issue on both mac and linux

* this command works ""python3
import pybullet_envs.examples.enjoy_TF_HumanoidBulletEnv_v0_2017may
pybullet_envs.examples.enjoy_TF_HumanoidBulletEnv_v0_2017may.demo_run()"" Looks cool :)
* this command works as well:  pip show -f pybullet


How can I know where pybullet's data directory is, is there a way to manually set it?
",yes meant say pip install issue install local user anaconda source local directory run python window second error also tried local directory also get issue guess copy like get issue mac command work python import cool command work well pip show know data directory way manually set,issue,positive,positive,neutral,neutral,positive,positive
325074789,"Could it be a permissions issue? sudo chown -R $USER /home/jtoy/anaconda3
(check permissions using ls -la on the files)
Did you install pybullet using sudo? How exactly?
What command-line are you exactly running to run the examples?

pip install pytorch? Did you mean pip install pybullet? Without the sudo?

Also, I just uploaded version pybullet-1.2.5, could you try reinstall as well?
(I just noticed that Mac binaries for python 3.6 compiled using homebrew don't work with anaconda python 3.6, difference in numpy version. I only uploaded the 1.2.5 source archive for now.

As a test, after pip install pybullet (version 1.2.5 or later, pip uninstall pybullet first) use this:

python3
import pybullet_envs.examples.enjoy_TF_HumanoidBulletEnv_v0_2017may
pybullet_envs.examples.enjoy_TF_HumanoidBulletEnv_v0_2017may.demo_run()

You can use pip show -f pybullet to see other examples that are installed.
Let me know if that works for you (or not)

Oh, some of the examples don't have the path's converted yet (such as 
pybullet_envs/examples/kukaGymEnvTest)",could issue user check install exactly exactly running run pip install mean pip install without also version could try reinstall well mac python work anaconda python difference version source archive test pip install version later pip first use python import use pip show see let know work oh path converted yet,issue,negative,positive,neutral,neutral,positive,positive
325042476,"Do you have a particular gazebo exported SDF file? If so, attach it and re-open the issue. I'll give some hints how to import it.",particular gazebo file attach issue give import,issue,negative,positive,positive,positive,positive,positive
325039393,"Thanks for the contribution. I think it is useful for adding it, but I'd like to add it behind some option for backwards compatibility. We have some project that could break if we add new fields right now.",thanks contribution think useful like add behind option backwards compatibility project could break add new right,issue,positive,positive,positive,positive,positive,positive
324411525,"It is better to move the 'connect' and 'disconnect' call inside the environments constructor/destructor, so that we can have multiple of them in parallel. Also, for multi-threading you have to pass the connection id to each call of pybullet (physicsClientId=..). I'll look into that. The minitaurGymEnv does this already.",better move call inside multiple parallel also pas connection id call look already,issue,negative,positive,positive,positive,positive,positive
324280881,"I did not train those, it uses the exact same weights as the roboschool
demo scripts used a while ago (in May 2017 exactly). Unfortunately, they
have a non-published training framework (That is what Oleg told me at the
time I asked him, maybe it is working with baselines). But I achieved some
of the trainings too with my training code. I will update my training
framework to work with the newest envs we have here and then try to retrain
them. If I succeed to make some envs work with it, I can commit it with the
other scripts.

On Tue, Aug 22, 2017 at 10:26 PM erwincoumans <notifications@github.com>
wrote:

> How did you train the enjoy scripts exactly? I'm interested in trying it
> out too.
>
> enjoy_TF_HumanoidBulletEnv_v0_2017may.py,
> enjoy_TF_Walker2DBulletEnv_v0_2017may.py
> and enjoy_TF_HopperBulletEnv_v0_2017may.py work pretty well. THe other
> 'enjoy' scripts seem to need a bit more training/work.
>
>
> On 22 August 2017 at 13:22, Benjamin Ellenberger <notifications@github.com
> >
> wrote:
>
> > Ok, so I will apply my changes to my own branch while keeping in mind
> that
> > you moved things. So as soon as you tell me you are done refactoring, I
> am
> > going to merge your stuff into my branch. If you need anything else, just
> > give me a shout. In the future, we can add a better version of the enjoy
> > scripts.
> >
> > On Tue, Aug 22, 2017, 17:20 erwincoumans <notifications@github.com>
> wrote:
> >
> > > I'm fixing the remaining data/path issues and upload a new version to
> > pypi
> > > too. Also add some test/demo, perhaps your 'enjoy' scripts, so it is
> easy
> > > to try out pybullet for beginners.
> > >
> > > The pybullet example to create a very simple parkour is called
> > > createObstacleCourse.py under bullet/examples/pybullet/examples.
> > >
> > > —
> > > You are receiving this because you authored the thread.
> > > Reply to this email directly, view it on GitHub
> > > <https://github.com/bulletphysics/bullet3/pull/
> > 1231#issuecomment-324060359>,
> > > or mute the thread
> > > <https://github.com/notifications/unsubscribe-auth/AC97q3b8M-YIiSdCX_
> > Wgu6OYwAgnUNwdks5savHagaJpZM4OYxfC>
> > > .
> > >
> >
> > —
> > You are receiving this because you modified the open/close state.
> > Reply to this email directly, view it on GitHub
> > <
> https://github.com/bulletphysics/bullet3/pull/1231#issuecomment-324140918
> >,
> > or mute the thread
> > <
> https://github.com/notifications/unsubscribe-auth/AAsR3Gqkh3Cn2Lt11HDr2Xd0Qa2UseEuks5saziSgaJpZM4OYxfC
> >
> > .
> >
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1231#issuecomment-324141766>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qyqyXO_BdtZZzhr2XGQiPNa3xRKPks5sazlbgaJpZM4OYxfC>
> .
>
",train exact used ago may exactly unfortunately training framework told time maybe working training code update training framework work try retrain succeed make work commit tue wrote train enjoy exactly interested trying work pretty well seem need bit august benjamin wrote apply branch keeping mind soon tell done going merge stuff branch need anything else give shout future add better version enjoy tue wrote fixing new version also add perhaps easy try example create simple thread reply directly view mute thread state reply directly view mute thread thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
324157951,"For most of the basic shapes  (btSphereShape, btBoxShape etc) and btCompoundShape it is likely easier to disable shape sharing. For btConvexHullShape and btBvhTriangleMeshShape there are ways to share the vertex data (biggest data consumer) and don't share the actual shape. For example use btConvexPointCloudShape (allows vertex sharing) and btScaledBvhTriangleMeshShape (other options are possible too).",basic likely easier disable shape way share vertex data biggest data consumer share actual shape example use vertex possible,issue,positive,neutral,neutral,neutral,neutral,neutral
324146860,"Well you've said that you're reusing the collision shape. And when you do a lookup if a shape is already registered, you check the local scaling of the shape, if the scaling is set to your desired value, if not create a new shape with the scaling you need.",well said collision shape shape already registered check local scaling shape scaling set desired value create new shape scaling need,issue,positive,positive,neutral,neutral,positive,positive
324141766,"How did you train the enjoy scripts exactly? I'm interested in trying it
out too.

enjoy_TF_HumanoidBulletEnv_v0_2017may.py,
enjoy_TF_Walker2DBulletEnv_v0_2017may.py
and enjoy_TF_HopperBulletEnv_v0_2017may.py work pretty well. THe other
'enjoy' scripts seem to need a bit more training/work.


On 22 August 2017 at 13:22, Benjamin Ellenberger <notifications@github.com>
wrote:

> Ok, so I will apply my changes to my own branch while keeping in mind that
> you moved things. So as soon as you tell me you are done refactoring, I am
> going to merge your stuff into my branch. If you need anything else, just
> give me a shout. In the future, we can add a better version of the enjoy
> scripts.
>
> On Tue, Aug 22, 2017, 17:20 erwincoumans <notifications@github.com> wrote:
>
> > I'm fixing the remaining data/path issues and upload a new version to
> pypi
> > too. Also add some test/demo, perhaps your 'enjoy' scripts, so it is easy
> > to try out pybullet for beginners.
> >
> > The pybullet example to create a very simple parkour is called
> > createObstacleCourse.py under bullet/examples/pybullet/examples.
> >
> > —
> > You are receiving this because you authored the thread.
> > Reply to this email directly, view it on GitHub
> > <https://github.com/bulletphysics/bullet3/pull/
> 1231#issuecomment-324060359>,
> > or mute the thread
> > <https://github.com/notifications/unsubscribe-auth/AC97q3b8M-YIiSdCX_
> Wgu6OYwAgnUNwdks5savHagaJpZM4OYxfC>
> > .
> >
>
> —
> You are receiving this because you modified the open/close state.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1231#issuecomment-324140918>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3Gqkh3Cn2Lt11HDr2Xd0Qa2UseEuks5saziSgaJpZM4OYxfC>
> .
>
",train enjoy exactly interested trying work pretty well seem need bit august benjamin wrote apply branch keeping mind soon tell done going merge stuff branch need anything else give shout future add better version enjoy tue wrote fixing new version also add perhaps easy try example create simple thread reply directly view mute thread state reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
324140918,"Ok, so I will apply my changes to my own branch while keeping in mind that
you moved things. So as soon as you tell me you are done refactoring, I am
going to merge your stuff into my branch. If you need anything else, just
give me a shout. In the future, we can add a better version of the enjoy
scripts.

On Tue, Aug 22, 2017, 17:20 erwincoumans <notifications@github.com> wrote:

> I'm fixing the remaining data/path issues and upload a new version to pypi
> too. Also add some test/demo, perhaps your 'enjoy' scripts, so it is easy
> to try out pybullet for beginners.
>
> The pybullet example to create a very simple parkour is called
> createObstacleCourse.py under bullet/examples/pybullet/examples.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1231#issuecomment-324060359>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q3b8M-YIiSdCX_Wgu6OYwAgnUNwdks5savHagaJpZM4OYxfC>
> .
>
",apply branch keeping mind soon tell done going merge stuff branch need anything else give shout future add better version enjoy tue wrote fixing new version also add perhaps easy try example create simple thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
324116290,What do you mean specifically? can you give me an example?,mean specifically give example,issue,negative,negative,negative,negative,negative,negative
324061203,"Good point, I'll tag a new Bullet release soon, together with a new
pybullet release that contains all the new gym environments build-in (pip
install pybullet is going to also install the pybullet_envs package).

On 21 August 2017 at 23:01, Andrew Hundt <notifications@github.com> wrote:

> @ilovezfs <https://github.com/ilovezfs> had pinged me because I've got a
> pending homebrew installer update Homebrew/homebrew-core#13388
> <https://github.com/Homebrew/homebrew-core/pull/13388>, which I wrote a
> while ago for bullet3 (as opposed to pybullet). It is waiting on a release
> of bullet proper, is there perhaps a timeline?
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1264>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3O4juGvpaNH9q-Ljv-qe2WbyArRDks5sam6-gaJpZM4O-Jnf>
> .
>
",good point tag new bullet release soon together new release new gym pip install going also install package august wrote got pending installer update wrote ago bullet opposed waiting release bullet proper perhaps thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
324060359,"I'm fixing the remaining data/path issues and upload a new version to pypi too. Also add some test/demo, perhaps your 'enjoy' scripts, so it is easy to try out pybullet for beginners.

The pybullet example to create a very simple parkour is called createObstacleCourse.py under bullet/examples/pybullet/examples.",fixing new version also add perhaps easy try example create simple,issue,positive,positive,positive,positive,positive,positive
324030238,"Ok, thanks for the update, I will try to rebase my newest work onto your
changes.

On Tue, Aug 22, 2017 at 9:47 AM erwincoumans <notifications@github.com>
wrote:

> I just refactored the gym envs, so that they can be easily
> imported/created from a pip install pybullet version. Work-in-progress. Due
> to moving files around/renaming, it may cause conflicts.
> See #1265 <https://github.com/bulletphysics/bullet3/pull/1265>
>
> It will be good to add some examples/tests out-of-the-box to demo
> pybullet/gym environments.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1231#issuecomment-323946832>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qy5e2OUi1Ua-jWkRnQnjmZLIMQMMks5saod_gaJpZM4OYxfC>
> .
>
",thanks update try rebase work onto tue wrote gym easily pip install version due moving may cause see good add thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
323946832,"I just refactored the gym envs, so that they can be easily imported/created from a pip install pybullet version. Work-in-progress. Due to moving files around/renaming, it may cause conflicts.
See https://github.com/bulletphysics/bullet3/pull/1265 I ended up having to duplicate some of the data indeed.

It will be good to add some examples/tests out-of-the-box to demo pybullet/gym environments.",gym easily pip install version due moving may cause see ended duplicate data indeed good add,issue,positive,positive,positive,positive,positive,positive
323662007,"Oh that is why there is the z-fighting, thanks for the update! I did not
realize that the mcjf still contained another plane.  We should probably
remove the plane from the mjcf file just as we did for the humanoid mjcf
(that also makes sense from the perspective of robot-environment
separation). I can do that in the next update of the envs which features
the other roboschool envs. I recently saw that you wrote an environment
(-helper) to produce the progressive terrain to reproduce the environment
from
https://deepmind.com/blog/producing-flexible-behaviours-simulated-environments/.
However, I could not find it again later. Can you tell me where to find it?
I could include it into the next update.

On Mon, Aug 21, 2017 at 1:22 AM erwincoumans <notifications@github.com>
wrote:

> For now, I'll make the checkered ground plane invisible (alpha component =
> 0) like this:
> self.ground_plane_mjcf = p.loadMJCF(""mjcf/ground_plane.xml"")
> for i in self.ground_plane_mjcf:
> p.changeVisualShape(i,-1,rgbaColor=[0,0,0,0])
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1231#issuecomment-323618572>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q1Y5-EW5Fydcm5BDnWh2DZQmYr7fks5saL-agaJpZM4OYxfC>
> .
>
",oh thanks update realize still another plane probably remove plane file humanoid also sense perspective separation next update recently saw wrote environment produce progressive terrain reproduce environment however could find later tell find could include next update mon wrote make checkered ground plane invisible alpha component like thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
323618572,"For now, I'll make the checkered ground plane invisible (alpha component = 0) like this:
                self.ground_plane_mjcf = p.loadMJCF(""mjcf/ground_plane.xml"")
                for i in self.ground_plane_mjcf:
                        p.changeVisualShape(i,-1,rgbaColor=[0,0,0,0])
",make checkered ground plane invisible alpha component like,issue,negative,neutral,neutral,neutral,neutral,neutral
323618081,"I had to modify the imports from scene_abstract to .scene_abstract (with the dot) to import from current directory.

Also, there is very ugly z-fighting because 2 ground planes are loaded: the green stadium AND the blue checkered mjcf ground. Why?

>>self.stadium = p.loadSDF(""stadium.sdf"")
>>self.ground_plane_mjcf = p.loadMJCF(""mjcf/ground_plane.xml"")
",modify dot import current directory also ugly ground loaded green stadium blue checkered ground,issue,negative,negative,negative,negative,negative,negative
323616774,"I just tried to run one of the new 'enjoy' environments on Mac OSX, got the following error:

Traceback (most recent call last):
  File ""enjoy_TF_InvertedPendulumBulletEnv_v0_2017may.py"", line 173, in <module>
    demo_run()
  File ""enjoy_TF_InvertedPendulumBulletEnv_v0_2017may.py"", line 25, in demo_run
    env = gym.make(""InvertedPendulumBulletEnv-v0"")
  File ""/usr/local/lib/python3.6/site-packages/gym/envs/registration.py"", line 161, in make
    return registry.make(id)
  File ""/usr/local/lib/python3.6/site-packages/gym/envs/registration.py"", line 119, in make
    env = spec.make()
  File ""/usr/local/lib/python3.6/site-packages/gym/envs/registration.py"", line 85, in make
    cls = load(self._entry_point)
  File ""/usr/local/lib/python3.6/site-packages/gym/envs/registration.py"", line 17, in load
    result = entry_point.load(False)
  File ""/usr/local/lib/python3.6/site-packages/pkg_resources/__init__.py"", line 2291, in load
    return self.resolve()
  File ""/usr/local/lib/python3.6/site-packages/pkg_resources/__init__.py"", line 2297, in resolve
    module = __import__(self.module_name, fromlist=['__name__'], level=0)
  File ""/Users/erwincoumans/dev/bullet3/examples/pybullet/gym/envs/gym_pendulum_envs.py"", line 1, in <module>
    from scene_abstract import SingleRobotEmptyScene
ModuleNotFoundError: No module named 'scene_abstract'",tried run one new mac got following error recent call last file line module file line file line make return id file line make file line make load file line load result false file line load return file line resolve module file line module import module,issue,negative,negative,neutral,neutral,negative,negative
323493668,"> Debug lines that have a valid parent object unique id will follow the parent object. Isn't that working. 

I think it might only be working for links, not for any arbitrary object.

> use -1 for an invalid value

Could the actual default values of parameters be added throughout the pybullet.org docs?

I looked for that default but could't figure it out from the docs so I guessed since it is a low impact first implementation, I'll fix it now. Also what was default Quaternion/rpy value for text? That wasn't obvious. 

The reason to document defaults is for functions like `createPoseMarker`, because the actual default values are critical for anyone implementing APIs that in turn must call the pybullet API. Right now the docs only have the default behavior but not values.",valid parent object unique id follow parent object working think might working link arbitrary object use invalid value could actual default added throughout default figure since low impact first implementation fix also default value text obvious reason document like actual default critical anyone turn must call right default behavior,issue,negative,positive,neutral,neutral,positive,positive
323493251,"#1258 is good for debug viewing, but I'm still interested to be able to query these transforms at any time and create them in bulk.",good still interested able query time create bulk,issue,positive,positive,positive,positive,positive,positive
323492888,"good point, I forgot about that one. I incorporated it into this, the rename is because it includes the key words people are likely to search for the utility.

This one is useful because it makes rendering based on an arbitrary supplied position and orientation a trivial one liner.",good point forgot one incorporated rename key people likely search utility one useful rendering based arbitrary position orientation trivial one liner,issue,positive,positive,positive,positive,positive,positive
323490179,"See also pybullet/examples/debugDrawItems.py, it draws some reference frame in local link coordinates too, did you check it?",see also reference frame local link check,issue,negative,neutral,neutral,neutral,neutral,neutral
323490004,"Debug lines that have a valid parent object unique id will follow the parent object. Isn't that working. By the way, ob = 0 is likely still a valid parent object uid, use -1 for an invalid value (= attached to world), or explicitly name the arguments and don't provide a parent uid.",valid parent object unique id follow parent object working way likely still valid parent object use invalid value attached world explicitly name provide parent,issue,negative,positive,positive,positive,positive,positive
323455263,"Thanks for merging! Yeah, I just had a look. They do not look like magic work, I can port them too. I also intend to add the training code I wrote in my bullet-gym repository. It helps to easily train different algorithms on the envs. This would complete the separation of agent, robot and environment. However, the training code still needs some work. ",thanks yeah look look like magic work port also intend add training code wrote repository easily train different would complete separation agent robot environment however training code still need work,issue,positive,positive,positive,positive,positive,positive
323453896,"Thanks for the contribution again, and excuses for the huge delay, let's just merge this now.",thanks contribution huge delay let merge,issue,negative,positive,positive,positive,positive,positive
323453377,"Sounds good. Did you already have a look at porting the Roboschool environments, like HumanoidFlagRun etc?",good already look like,issue,positive,positive,positive,positive,positive,positive
323452749,The naming comes from the fact that they are the same trained networks as the ones from roboschool which were trained in may when I pulled them the last time.,naming come fact trained trained may last time,issue,negative,neutral,neutral,neutral,neutral,neutral
323393424,"By the way, the environments use the 2017may naming, shouldn't it be august?",way use may naming august,issue,negative,neutral,neutral,neutral,neutral,neutral
323392460,"Great, thanks a lot!

>>If you mean by 'simply instantiate them'

On a clean computer, if you do ""sudo pip install pybullet"", the environments are not available at the moment. I need to fix the setup.py and MANISCRIPT.in files , so that you can easy access the environments, like Gym and Roboschool (including the data assets, and make sure python scripts find them properly). This is separate/independent from your pull request.",great thanks lot mean clean computer pip install available moment need fix easy access like gym data asset make sure python find properly pull request,issue,positive,positive,positive,positive,positive,positive
323321764,"Hello,

Can you please ask this question on the bulletphysics forum? The requests
here are usually only related to bugs or extensions. Thanks.

On Mon, Aug 14, 2017 at 11:29 AM Comet <notifications@github.com> wrote:

> I am using bullet only for collision detection for now, I am self-taught
> programmer.
> This is the only code that I could manage to get working. I can't find
> enough information.
> I intend to use this code in a game I'm working on in Ogre3d.
>
> Why dpesgetNumContacts() always return zero even after collisions were
> detected ?
>
> #include <iostream>
> #include <fstream>
> #include <vector>
> #include <string>
> #include <windows.h>
> #include <btBulletDynamicsCommon.h>
> #include ""vld.h""
>
> #define PRINTF_FLOAT ""%7.3f""
>
> constexpr float gravity = -10.0f;
> constexpr float initialY = 10.0f;
> constexpr float timeStep = 1.0f / 60.0f;
> // TODO some combinations of coefficients smaller than 1.0
> // make the ball go up higher / not lose height. Why?
> constexpr float groundRestitution = 0.9f;
> constexpr float sphereRestitution = 0.9f;
> constexpr int maxNPoints = 500;
>
> struct my_box {
> 	std::string box_name;
> };
>
> std::vector<btVector3> collisions;
> void myTickCallback(btDynamicsWorld *dynamicsWorld, btScalar timeStep) {
> 	
>
>     int numManifolds = dynamicsWorld->getDispatcher()->getNumManifolds();
>     for (int i = 0; i < numManifolds; i++) {
> 		std::cout << ""--------------------Collisions found--------------------"" << std::endl;
>         btPersistentManifold *contactManifold = dynamicsWorld->getDispatcher()->getManifoldByIndexInternal(i);
>         // TODO those are unused. What can be done with them?
>         // I think they are the same objects as those in the main loop
>         // dynamicsWorld->getCollisionObjectArray() and we could compare
>         // the pointers to see which object collided with which.
> 		
>             const btCollisionObject *objA = contactManifold->getBody0();
>             const btCollisionObject *objB = contactManifold->getBody1();
>
> 			my_box *kks = (my_box*)objA->getUserPointer();
> 			my_box *kkv = (my_box*)objB->getUserPointer();
> 			std::cout << ""Collision detected BTWN :"" <<kks->box_name<<"" & ""<< kkv->box_name;
> 		
> 			int numContacts = contactManifold->getNumContacts();
> 		std::cout << "" CONTACTS:"" << numContacts << std::endl;
>
> 		for (int j = 0; j<numContacts; j++)
> 		{
> 			btManifoldPoint& pt = contactManifold->getContactPoint(j);
> 			if (1/*pt.getDistance()<100.f*/)
> 			{
> 				const btVector3& ptA = pt.getPositionWorldOnA();
> 				const btVector3& ptB = pt.getPositionWorldOnB();
> 				const btVector3& normalOnB = pt.m_normalWorldOnB;
> 				my_box *kks = (my_box*)objA->getUserPointer();
> 				my_box *kkv = (my_box*)objB->getUserPointer();
> 				
> 			}
> 		}
>     }
> }
>
> int main() {
>     int i, j;
>
> 	my_box *mybox1 = new my_box;
> 	my_box *mybox2 = new my_box;
> 	mybox1->box_name = ""Box1"";
> 	mybox2->box_name = ""Box2"";
>
>     btDefaultCollisionConfiguration *collisionConfiguration = new btDefaultCollisionConfiguration();
>     btCollisionDispatcher *dispatcher = new btCollisionDispatcher(collisionConfiguration);
>     btBroadphaseInterface *overlappingPairCache = new btDbvtBroadphase();
>     btSequentialImpulseConstraintSolver* solver = new btSequentialImpulseConstraintSolver;
>     btDiscreteDynamicsWorld *dynamicsWorld = new btDiscreteDynamicsWorld(dispatcher, overlappingPairCache, solver, collisionConfiguration);
> 	dynamicsWorld->setGravity(btVector3(0, gravity, 0));
>     dynamicsWorld->setInternalTickCallback(myTickCallback);
>
> 	btVector3 fallInertia(0, 0, 0);
> 	btScalar mass = 1;
>     // Ground.
>
> 		btDefaultMotionState* fallMotionState =
> 		new btDefaultMotionState(btTransform(btQuaternion(0, 0, 0, 1), btVector3(0, 0, 0)));
>         btTransform groundTransform;
>         groundTransform.setIdentity();
>         groundTransform.setOrigin(btVector3(0, 0, 0));
>         btCollisionShape* boxShape;
> 		boxShape = new btSphereShape(1);
> 		btRigidBody::btRigidBodyConstructionInfo fallRigidBodyCI(mass, fallMotionState, boxShape, fallInertia);
> 		
> 		
>
>
> 		btRigidBody *box1 = new btRigidBody(fallRigidBodyCI);
> 		box1->setUserPointer(mybox1);
> 		dynamicsWorld->addRigidBody(box1);
> 	
> 		btRigidBody  *box2 = new btRigidBody(fallRigidBodyCI);
> 		box2->setUserPointer(mybox2);
> 		dynamicsWorld->addRigidBody(box2);
>
>
>     // Main loop.
>
> 	int y_box = 100;
> 	int y_box2 = 0;
> 	my_box *kks;
> 	btTransform k;
> 	for (int i = 0; i < 100;i++) {
> 		//std::cout << ""bx 1:"" << y_box<<"" bx 2:""<<y_box2 << std::endl;
> 		const btCollisionObjectArray coA = dynamicsWorld->getCollisionObjectArray();
> 		//std::cout << ""size:""<< coA.size() << std::endl;
> 		for (int j = 0; j < coA.size(); j++) {
> 			kks = (my_box*)coA.at(j)->getUserPointer();
> 			if (kks->box_name == ""Box1"") {
> 				
> 				k.setOrigin(btVector3((btScalar)0, (btScalar)y_box, (btScalar)0));
> 				coA.at(j)->setWorldTransform(k);
> 				std::cout << ""SETTING BOX 1:"" << coA.at(j)->getWorldTransform().getOrigin().getY() << std::endl;
> 			}
> 			if (kks->box_name == ""Box2"") {
> 				std::cout << ""SETTING BOX 2:"" << y_box2 << std::endl;
> 				k.setOrigin(btVector3((btScalar)0, (btScalar)y_box2, (btScalar)0));
> 				coA.at(j)->setWorldTransform(k);
> 			}
> 		}
> 		dynamicsWorld->stepSimulation(timeStep);
> 		y_box--;
> 		y_box2++;
>     }
>
>
> 	Sleep(10000);
>     // Cleanup.
>     for (i = dynamicsWorld->getNumCollisionObjects() - 1; i >= 0; --i) {
>         btCollisionObject* obj = dynamicsWorld->getCollisionObjectArray()[i];
>         btRigidBody* body = btRigidBody::upcast(obj);
> 		my_box *kks = (my_box*)obj->getUserPointer();
>         dynamicsWorld->removeCollisionObject(obj);
> 		delete body;
> 		delete kks;
>     }
>
> 	delete boxShape;
>     delete dynamicsWorld;
>     delete solver;
>     delete overlappingPairCache;
>     delete dispatcher;
>     delete collisionConfiguration;
> 	delete fallMotionState;
>
> }
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1253>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q4UKaAmUjI1LEm1PUkZP9LqfS23eks5sYBNigaJpZM4O2Imp>
> .
>
",hello please ask question forum usually related thanks mon comet wrote bullet collision detection programmer code could manage get working ca find enough information intend use code game working always return zero even include include include vector include string include include include define float gravity float float smaller make ball go higher lose height float float void found unused done think main loop could compare see object collision main new new box box new dispatcher new new solver new new dispatcher solver gravity mass ground new new mass box new box box new box main loop size box setting box box setting box sleep cleanup body delete body delete delete delete delete solver delete delete dispatcher delete delete thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
322917519,"All is done and ready for merging. HumanoidGymEnv is called SimpleHumanoidGymEnv (and all related files respectively). All environments should work out of the box. You can give them a simple sanity check by running the respective enjoy_TF_* file. If an ExampleBrowser already runs, it runs with GUI, else it runs in headless mode (for training that is great and useful, maybe for the enjoy scripts not so much.) If you mean by 'simply instantiate them' that they can be instantiated like this:
`env = gym.make(""AntBulletEnv-v0"")`
then that is already done. Else, you tell me what is missing. Thanks!

The reacher and some other manipulator environments (which are not in roboschool) are soon going to be ready, but maybe through another pull request.",done ready related respectively work box give simple sanity check running respective file already else headless mode training great useful maybe enjoy much mean like already done else tell missing thanks reacher manipulator soon going ready maybe another pull request,issue,positive,positive,positive,positive,positive,positive
322905874,"Feel free to rename the existing humanoidGymEnv.py, it is not being used at the moment (simplehumanoid or so).
Also, once those environments work fine, it would be good to embed them in the pybullet distribution with assets, so you can simply instantiate them (like Gym and Roboschool allows).
",feel free rename used moment also work fine would good embed distribution asset simply like gym,issue,positive,positive,positive,positive,positive,positive
322902107,We now have a duplicate humanoid environment. Mine is the updated version from roboschool and it is also the version which is more handy to use for research as it is not just reduced to a bare minimum. Should I replace the current version with my version or is it required internally?,duplicate humanoid environment mine version also version handy use research reduced bare minimum replace current version version internally,issue,negative,positive,positive,positive,positive,positive
322653041,"Hi @erwincoumans ,
Thanks so much for drawing this to our attention. Now everything uses a 64bit version and is working!",hi thanks much drawing attention everything bit version working,issue,negative,positive,positive,positive,positive,positive
322604429,"Did you run the VR sandbox first? Are you using the latest github version of Bullet? How did you install pybullet? Are you using the 64bit bit version of pybullet and 64bit version of the VR server? The bit-ness has to be the same (both pybullet/Python and VR server 32bit or both 64bit, not a mix)",run sandbox first latest version bullet install bit bit version bit version server server bit bit mix,issue,negative,positive,positive,positive,positive,positive
322468911,Is there a reason that some environments are called GymEnv and some are called BulletEnv? The repo is a bit messy in the gym part...,reason bit messy gym part,issue,negative,negative,negative,negative,negative,negative
322018280,"It ran now, thanks! 

It turned out some of my convenience tools were a bit too eager and I was messing up my modules/path somewhere, cleaning house on those fixed the problem but I don't have a very specific root cause, sorry about that. 

Regarding Anaconda, I'm actually using lots of custom packages including ROS and [Tasks (which has a newly released cython api that also integrates Eigen)](https://github.com/jrl-umi3218/Tasks). For that reason, switching to Anaconda seemed like a larger project than my path problem once I narrowed it down.

A fun aside: While I was going through the python issues I also took the chance to set up [xonsh](http://xon.sh) shell since it lets me play with the pybullet environment interactively while still having access to normal bash like shell commands, plus a history database. :-)",ran thanks turned convenience bit eager messing somewhere cleaning house fixed problem specific root cause sorry regarding anaconda actually lot custom newly also reason switching anaconda like project path problem fun aside going python also took chance set shell since play environment still access normal bash like shell plus history,issue,positive,positive,neutral,neutral,positive,positive
321945289,"It is much faster if you just install Anaconda, python 3.6. By default, Anaconda installs locally, not system-wide, so it is very convenient. It will add some path in ~/.back_profile, that you can undo.
After install Anaconda python 3.6, just run the following pip commands:
pip install pybullet
pip install tensorflow
pip install gym
pip install baselines

Then test your installation by changing directory to bullet3/examples/pybullet/tensorflow (in a terminal window), and run python humanoid_running.py

I just fixed some performance issue on Mac in GUI mode, will propagate to pypi/pip soon.",much faster install anaconda python default anaconda locally convenient add path undo install anaconda python run following pip pip install pip install pip install gym pip install test installation directory terminal window run python fixed performance issue mac mode propagate soon,issue,negative,positive,neutral,neutral,positive,positive
321859033,"You can use loadSDF to load a Gazebo created sdf file. Note that only a small subset of SDF files are processed. Make sure to copy the file in the Bullet data folder, and use relative path names (no package:// etc) in the sdf file. See the two_cubes.sdf, this file was exported from Gazebo, with some minor manual changes.",use load gazebo file note small subset make sure copy file bullet data folder use relative path package file see file gazebo minor manual,issue,negative,positive,neutral,neutral,positive,positive
321685633,"It looks like your patch removes the ability to easily disable center limits, right? There is no change in functionality, but it makes the code easier to read.",like patch ability easily disable center right change functionality code easier read,issue,positive,positive,positive,positive,positive,positive
321678380,"Okay, so the separation of generic part and gym specific part basically does only make sense for the walkers. The pendula gyms can not be separated from the environment (except maybe if you want to separate the pendulum from the gravity :D).

From the others, I basically have to separate out the stadium scene. Would you like separate files for all the robots (just like your kuka and minitaur)? Otherwise, I am going to keep the same file structure and add another for all the *Env wrappers which then in turn load the respective robot and surrounding environment.",separation generic part gym specific part basically make sense environment except maybe want separate pendulum gravity basically separate stadium scene would like separate like otherwise going keep file structure add another turn load respective robot surrounding environment,issue,positive,neutral,neutral,neutral,neutral,neutral
321345645,"Yes it seems that way, always the worst type of problem.... The first thing I tried before the command line commands I posted was `brew reinstall python3` sorry I forgot to include that. Anyway, I'll check out the link and dig for a solution, or perhaps simply try running on another machine.

Thanks for the help! I'll let you know if anything relevant turns up.",yes way always worst type problem first thing tried command line posted brew reinstall python sorry forgot include anyway check link dig solution perhaps simply try running another machine thanks help let know anything relevant turn,issue,negative,negative,negative,negative,negative,negative
321343032,It seems to be a problem very specific to your machine and multiple python installations. See also some hints here: https://stackoverflow.com/questions/34386527/symbol-not-found-pycodecinfo-getincrementaldecoder (for example the answer that starts with 'reinstall python'.,problem specific machine multiple python see also example answer python,issue,negative,neutral,neutral,neutral,neutral,neutral
321341202,"My default python i.e. `which python` is python2 (I think it has to be with OSX?), I don't know how pip packages are made and installed but maybe that could have an effect even though I'm executing python3 commands?",default python python python think know pip made maybe could effect even though python,issue,negative,neutral,neutral,neutral,neutral,neutral
321339306,"sorry just edited above with most of the information

also OS X 10.11.6 (15G1510)",sorry information also o,issue,negative,negative,negative,negative,negative,negative
321339015,Odd. What is the version of Mac OSX and version of gcc?,odd version mac version,issue,negative,negative,negative,negative,negative,negative
321337773,">  'import pybullet' works just fine.

Apparently my computer is being evil then... :-(

```bash
athundt at Andrews-2013-MacBook-Pro-2 in ~/src/bullet3/examples/pybullet/examples on master!

± pip3 uninstall pybullet
Uninstalling pybullet-1.2.2:
  /usr/local/lib/python3.6/site-packages/pybullet-1.2.2.dist-info/DESCRIPTION.rst
  /usr/local/lib/python3.6/site-packages/pybullet-1.2.2.dist-info/INSTALLER
  /usr/local/lib/python3.6/site-packages/pybullet-1.2.2.dist-info/METADATA
  /usr/local/lib/python3.6/site-packages/pybullet-1.2.2.dist-info/RECORD
  /usr/local/lib/python3.6/site-packages/pybullet-1.2.2.dist-info/WHEEL
  /usr/local/lib/python3.6/site-packages/pybullet-1.2.2.dist-info/metadata.json
  /usr/local/lib/python3.6/site-packages/pybullet-1.2.2.dist-info/top_level.txt
  /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so
Proceed (y/n)? y
  Successfully uninstalled pybullet-1.2.2


± ls /usr/local/lib/python3.6/site-packages/pybullet*
zsh: no matches found: /usr/local/lib/python3.6/site-packages/pybullet*


± pip3 install pybullet
Collecting pybullet
Installing collected packages: pybullet
Successfully installed pybullet-1.2.2


± ls /usr/local/lib/python3.6/site-packages/pybullet*
/usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so

/usr/local/lib/python3.6/site-packages/pybullet-1.2.2.dist-info:
DESCRIPTION.rst METADATA        WHEEL           top_level.txt
INSTALLER       RECORD          metadata.json


± python3 -c 'import pybullet as p'
Traceback (most recent call last):
  File ""<string>"", line 1, in <module>
ImportError: dlopen(/usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so, 2): Symbol not found: _PyInt_FromLong
  Referenced from: /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so
  Expected in: flat namespace
 in /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so
athundt at Andrews-2013-MacBook-Pro-2 in ~/src/bullet3/examples/pybullet/examples on master!

```

Other details you asked for:

Xcode Version 8.2.1 (8C1002)

```
± gcc --version
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1
Apple LLVM version 8.0.0 (clang-800.0.42.1)
Target: x86_64-apple-darwin15.6.0
Thread model: posix
InstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin

± which gcc
/usr/bin/gcc
```",work fine apparently computer evil bash master pip proceed successfully uninstalled found pip install collected successfully wheel installer record python recent call last file string line module symbol found flat master version version apple version target thread model,issue,negative,positive,positive,positive,positive,positive
321334479,"I just installed homebrew python3 on my Mac, and 'import pybullet' works just fine. 

```
brew install python3
pip3 install pybullet
pip3 install numpy
python3
>>>import pybullet as p
pybullet build time: Jul 20 2017 16:05:39
```
What is your output if you run python3 and import pybullet as p?

",python mac work fine brew install python pip install pip install python import build time output run python import,issue,negative,positive,positive,positive,positive,positive
321326682,">>  Is the reason for anaconda3 because it is the version you use?

Yes, because there are a gazillion permutations of versions of Python, installer, build system, operating system, C/C++ compiler and so on, and I don't have cycles to support them all.

Also important: what is the version of Xcode and the gcc compiler?",reason anaconda version use yes python installer build system operating system compiler support also important version compiler,issue,positive,positive,positive,positive,positive,positive
321320419,"Would you mind mentioning which install process you follow for day to day development so I can try my hand at fixing the linking problem on my platform in the best supported manner?

I checked the README, coding style and quick setup guides first. Hopefully I didn't miss it.

> (please stop reporting results using Python2)

Sorry, I didn't realize py2 is unsupported, will do. I have homebrew's python3:

```
○ which python3
/usr/local/bin/python3
○ brew info python3
python3: stable 3.6.2 (bottled), HEAD
Interpreted, interactive, object-oriented programming language
From: https://github.com/Homebrew/homebrew-core/blob/master/Formula/python3.rb
```

> Or even better uninstall your python3 and re-install the Anaconda3 version of Python 3.6 and re-install pybullet using CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK""

I'll see if I can learn how to use virtualenv to do this temporarily, upgrading my actual code base would take too long. :-) Is the reason for anaconda3 because it is the version you use?

I will try each approach shortly. Thanks!",would mind install process follow day day development try hand fixing linking problem platform best manner checked style quick setup first hopefully miss please stop python sorry realize unsupported python python brew python python stable bottled head interactive language even better python anaconda version python see learn use temporarily actual code base would take long reason anaconda version use try approach shortly thanks,issue,positive,positive,positive,positive,positive,positive
321289222,"When pybullet is compiled against Python 3.x, there should not be any PyInt_FromLong.
It seems your pybullet for Python 3.x is not properly compiled. See for example in Bullet/examples/pybullet/pybullet.c around line 33:

#if PY_MAJOR_VERSION >= 3
#define PyInt_FromLong PyLong_FromLong
#define PyString_FromString PyBytes_FromString
#endif

Can you uninstall pybullet and re-build/re-install it again using:
CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" sudo python3 setup.py install

Or even better uninstall your python3 and re-install the Anaconda3 version of Python 3.6 and re-install pybullet using CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" sudo pip install pybullet
(assuming python and pip are the Anaconda3 versions, not the system version in /usr/bin/python etc) The Anaconda installer should take care of this.",python python properly see example around line define define python install even better python anaconda version python pip install assuming python pip anaconda system version anaconda installer take care,issue,positive,positive,positive,positive,positive,positive
321281187,"What version of Python3 are you using? I am using Anaconda3 and it works just fine.
(please stop reporting results using Python2)

erwincoumans-macbookpro:humanoid erwincoumans$ which python
/Users/erwincoumans/anaconda3/bin/python
erwincoumans-macbookpro:humanoid erwincoumans$ /Users/erwincoumans/anaconda3/bin/python --version
Python 3.6.0 :: Anaconda custom (x86_64)

erwincoumans-macbookpro:gym erwincoumans$ which python
/Users/erwincoumans/anaconda3/bin/python
erwincoumans-macbookpro:gym erwincoumans$ which pip
/Users/erwincoumans/anaconda3/bin/pip

",version python anaconda work fine please stop python humanoid python humanoid version python anaconda custom gym python gym pip,issue,negative,positive,positive,positive,positive,positive
321275304,"What operating system (version etc), C/C++ compiler and Python version and pybullet version are you using? How did you install pybullet exactly (pip, cmake, premake etc)?
Does the unmodified humanoid_running.py have the issue?",operating system version compiler python version version install exactly pip premake unmodified issue,issue,negative,positive,positive,positive,positive,positive
320352459,Sorry to press this but what are the next steps here? I usually try to fix problems myself and submit pull requests but I'm not very familiar with the Python -> C++ interface and how linking is done in this situation. Perhaps you could point me to a resource I could use to solve the problem myself?,sorry press next usually try fix submit pull familiar python interface linking done situation perhaps could point resource could use solve problem,issue,negative,negative,neutral,neutral,negative,negative
319462819,"actually I'm still having the same problem with the train script:

```
athundt at Andrews-2013-MacBook-Pro-2 in ~/src/bullet3/examples/pybullet/gym on master!
± python3 train_pybullet_racecar.py
Traceback (most recent call last):
  File ""train_pybullet_racecar.py"", line 2, in <module>
    from envs.bullet.racecarGymEnv import RacecarGymEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/__init__.py"", line 1, in <module>
    from envs.bullet.cartpole_bullet import CartPoleBulletEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/cartpole_bullet.py"", line 14, in <module>
    import pybullet as p
ImportError: dlopen(/usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so, 2): Symbol not found: _PyInt_FromLong
  Referenced from: /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so
  Expected in: flat namespace
 in /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so

athundt at Andrews-2013-MacBook-Pro-2 in ~/src/bullet3/examples/pybullet/gym on master!
± python train_pybullet_racecar.py
pybullet build time: Aug  1 2017 11:21:09
Couldn't import dot_parser, loading of dot files will not be possible.
Traceback (most recent call last):
  File ""train_pybullet_racecar.py"", line 4, in <module>
    from baselines import deepq
  File ""/usr/local/lib/python2.7/site-packages/baselines/deepq/__init__.py"", line 2, in <module>
    from baselines.deepq.build_graph import build_act, build_train  # noqa
  File ""/usr/local/lib/python2.7/site-packages/baselines/deepq/build_graph.py"", line 71, in <module>
    import baselines.common.tf_util as U
  File ""/usr/local/lib/python2.7/site-packages/baselines/common/tf_util.py"", line 3, in <module>
    import builtins
ImportError: No module named builtins
```",actually still problem train script master python recent call last file line module import file line module import file line module import symbol found flat master python build time could import loading dot possible recent call last file line module import file line module import file line module import file line module import module,issue,negative,negative,neutral,neutral,negative,negative
319462071,"well pip3 install pybullet seems to work ok now with racecar.py, I wonder why setup.py builds but is missing that symbol at runtime.",well pip install work wonder missing symbol,issue,negative,negative,negative,negative,negative,negative
318894427,"My operating system is ubuntu 14.04 with g++ 4.8
bullet_GL is my own project and I copy the code in App_HelloWorld. I got no  error when I try to run App_HelloWorld. But after I install bullet and build my own project,  I got this error. And now I try the release version 2.8.6.1 with same operation， it seems alright.  Thank you for your reply.  
",operating system project copy code got error try run install bullet build project got error try release version alright thank reply,issue,negative,neutral,neutral,neutral,neutral,neutral
318887775,"Never seen such warning, also there is no bullet_GL project, since the App_HelloWorld doesn't use OpenGL. 

Does the default App_HelloWorld CMake project trigger this warning/error? What operating system, compiler (+ version info) do you use?",never seen warning also project since use default project trigger operating system compiler version use,issue,negative,neutral,neutral,neutral,neutral,neutral
318840492,Yes. That's exactly what I was looking for. Congrats for the code base. Thanks! ,yes exactly looking code base thanks,issue,positive,negative,negative,negative,negative,negative
318820829,"You want to add some additional collision radius to existing shapes? There is only ""setMargin"", but this has various potential issues dependend on shape, local scaling etc. In addition, you need to manually update the rigid body (remove/reinsert to world, update inertia tensor etc). So there is no ""easy way"".",want add additional collision radius various potential shape local scaling addition need manually update rigid body world update inertia tensor easy way,issue,negative,positive,positive,positive,positive,positive
318676595,If I correctly remember Bullet's character controllers have dedicated logical code to prevent the fall.,correctly remember bullet character logical code prevent fall,issue,negative,positive,positive,positive,positive,positive
318668763,"Yes, it might be possible to do this inside the Example Browser project.",yes might possible inside example browser project,issue,negative,neutral,neutral,neutral,neutral,neutral
317341507,"Hello @erwincoumans,
Do you have some time to check this pull request ?

It can't compile on Ubuntu16.04 without this.",hello time check pull request ca compile without,issue,negative,neutral,neutral,neutral,neutral,neutral
316842515,"Here is my session (I had to change pip to pip3 in my case):

```
± CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" pip3 install pybullet
Collecting pybullet
Installing collected packages: pybullet
Successfully installed pybullet-1.2.2

± cd examples/pybullet/gym

± python3 train_pybullet_racecar.py
Traceback (most recent call last):
  File ""train_pybullet_racecar.py"", line 2, in <module>
    from envs.bullet.racecarGymEnv import RacecarGymEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/__init__.py"", line 1, in <module>
    from envs.bullet.cartpole_bullet import CartPoleBulletEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/cartpole_bullet.py"", line 14, in <module>
    import pybullet as p
ImportError: dlopen(/usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so, 2): Symbol not found: _PyInt_FromLong
  Referenced from: /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so
  Expected in: flat namespace
 in /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so
```",session change pip pip case pip install collected successfully python recent call last file line module import file line module import file line module import symbol found flat,issue,negative,positive,positive,positive,positive,positive
316715023,"Thanks for the PR. How can we enable EGL? Perhaps we need to dynamically load the EGL libraries (like we do for X11, GLX and OpenGL) and then we can add a new 'pybullet.connect(GUI_EGL)?",thanks enable perhaps need dynamically load like add new,issue,positive,positive,positive,positive,positive,positive
316714396,"Please stop using the other tests (kuka etc), only report python train_pybullet_racecar.py for now.

Baselines works fine with Python 3.6/3.5 here. On Mac OSX when using Python 3 (non-system), you need to use the following (and sudo pip uninstall pybullet first, if needed):

CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" pip install pybullet

Please let me know the result of using python train_pybullet_racecar.py",please stop report python work fine python mac python need use following pip first pip install please let know result python,issue,negative,positive,positive,positive,positive,positive
316597611,"I tried running the version from pip3 in python3, and master with python3 and got the following:

pip3

```
± python3 train_kuka_cam_grasping.py
Traceback (most recent call last):
  File ""train_kuka_cam_grasping.py"", line 2, in <module>
    from envs.bullet.kukaCamGymEnv import KukaCamGymEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/__init__.py"", line 1, in <module>
    from envs.bullet.cartpole_bullet import CartPoleBulletEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/cartpole_bullet.py"", line 14, in <module>
    import pybullet as p
ImportError: dlopen(/usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so, 2): Symbol not found: _PyInt_FromLong
  Referenced from: /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so
  Expected in: flat namespace
 in /usr/local/lib/python3.6/site-packages/pybullet.cpython-36m-darwin.so
```

master with python3:
```
± python3 train_kuka_cam_grasping.py
Traceback (most recent call last):
  File ""train_kuka_cam_grasping.py"", line 2, in <module>
    from envs.bullet.kukaCamGymEnv import KukaCamGymEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/__init__.py"", line 1, in <module>
    from envs.bullet.cartpole_bullet import CartPoleBulletEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/cartpole_bullet.py"", line 14, in <module>
    import pybullet as p
ImportError: dlopen(/usr/local/lib/python3.6/site-packages/pybullet-1.2.2-py3.6-macosx-10.11-x86_64.egg/pybullet.cpython-36m-darwin.so, 2): Symbol not found: _PyCObject_Type
  Referenced from: /usr/local/lib/python3.6/site-packages/pybullet-1.2.2-py3.6-macosx-10.11-x86_64.egg/pybullet.cpython-36m-darwin.so
  Expected in: flat namespace
 in /usr/local/lib/python3.6/site-packages/pybullet-1.2.2-py3.6-macosx-10.11-x86_64.egg/pybullet.cpython-36m-darwin.so
```",tried running version pip python master python got following pip python recent call last file line module import file line module import file line module import symbol found flat master python python recent call last file line module import file line module import file line module import symbol found flat,issue,negative,negative,neutral,neutral,negative,negative
316526731,"I'm on python 2.7.13 on OS X. I had a stray folder causing that spaces problem, so I've run into something else. Perhaps it is also a problem with baselines?

```
athundt at Andrews-2013-MacBook-Pro-2 in ~/src/bullet3/examples/pybullet/gym on master!
± python train_pybullet_racecar.py
pybullet build time: Jul 17 2017 18:59:54
Couldn't import dot_parser, loading of dot files will not be possible.
Traceback (most recent call last):
  File ""train_pybullet_racecar.py"", line 4, in <module>
    from baselines import deepq
  File ""/usr/local/lib/python2.7/site-packages/baselines/deepq/__init__.py"", line 2, in <module>
    from baselines.deepq.build_graph import build_act, build_train  # noqa
  File ""/usr/local/lib/python2.7/site-packages/baselines/deepq/build_graph.py"", line 71, in <module>
    import baselines.common.tf_util as U
  File ""/usr/local/lib/python2.7/site-packages/baselines/common/tf_util.py"", line 3, in <module>
    import builtins
ImportError: No module named builtins
```

train_kuka_grasping.py
```
± python train_kuka_grasping.py
pybullet build time: Jul 17 2017 18:59:54
Couldn't import dot_parser, loading of dot files will not be possible.
Traceback (most recent call last):
  File ""train_kuka_grasping.py"", line 4, in <module>
    from baselines import deepq
  File ""/usr/local/lib/python2.7/site-packages/baselines/deepq/__init__.py"", line 2, in <module>
    from baselines.deepq.build_graph import build_act, build_train  # noqa
  File ""/usr/local/lib/python2.7/site-packages/baselines/deepq/build_graph.py"", line 71, in <module>
    import baselines.common.tf_util as U
  File ""/usr/local/lib/python2.7/site-packages/baselines/common/tf_util.py"", line 3, in <module>
    import builtins
ImportError: No module named builtins
```

tf version:
```
± python -c 'import tensorflow as tf; print(tf.__version__)'
1.2.0
```",python o stray folder causing problem run something else perhaps also problem master python build time could import loading dot possible recent call last file line module import file line module import file line module import file line module import module python build time could import loading dot possible recent call last file line module import file line module import file line module import file line module import module version python print,issue,negative,neutral,neutral,neutral,neutral,neutral
316522503,"Odd, you OpenAI Gym installation seems broken, not a pybullet issue.
If you run python and type ""from gym import spaces"", do you get an error?
If so, please report it in the OpenAI gym github tracker (or other OpenAI bug report mechanism)",odd gym installation broken issue run python type gym import get error please report gym tracker bug report mechanism,issue,negative,negative,negative,negative,negative,negative
316520945,"Similar error:

```
± python train_pybullet_racecar.py
Traceback (most recent call last):
  File ""train_pybullet_racecar.py"", line 2, in <module>
    from envs.bullet.racecarGymEnv import RacecarGymEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/__init__.py"", line 1, in <module>
    from envs.bullet.cartpole_bullet import CartPoleBulletEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/cartpole_bullet.py"", line 9, in <module>
    from gym import spaces
ImportError: cannot import name spaces
```
here are all my packages, gym is in there, as is baselines.
```
± pip freeze
alabaster==0.7.10
apipkg==1.4
appdirs==1.4.3
appnope==0.1.0
astroid==1.4.9
autopep8==1.3.1
azure==1.0.3
azure-common==1.1.6
azure-mgmt==0.20.2
azure-mgmt-common==0.20.0
azure-mgmt-compute==0.20.1
azure-mgmt-network==0.20.1
azure-mgmt-nspkg==2.0.0
azure-mgmt-resource==0.20.1
azure-mgmt-storage==0.20.0
azure-nspkg==2.0.0
azure-servicebus==0.20.1
azure-servicemanagement-legacy==0.20.2
azure-storage==0.20.3
Babel==2.4.0
backports.functools-lru-cache==1.3
backports.ssl-match-hostname==3.5.0.1
backports.weakref==1.0rc1
baselines==0.1.4
bleach==1.5.0
bloom==0.5.26
breathe==4.1.0
caffe2keras==0.0.1
catkin-pkg==0.3.1
catkin-tools==0.4.4
click==6.7
configparser==3.5.0
coverage==4.0.3
cycler==0.10.0
Cython==0.25.2
decorator==4.0.11
dill==0.2.7.1
docker-py==1.10.6
docker-pycreds==0.2.1
docopt==0.6.2
docutils==0.13.1
ecdsa==0.13
empy==3.3.2
enum34==1.1.6
execnet==1.4.1
Flask==0.12
funcsigs==1.0.2
functools32==3.2.3.post2
futures==3.1.1
gevent==1.2.1
gnureadline==6.3.3
greenlet==0.4.12
gtabview==0.8
gym==0.9.2
h5py==2.7.0
html5lib==0.9999999
imageio==2.1.2
imagesize==0.7.1
ipaddress==1.0.18
ipython==4.1.2
ipython-genutils==0.1.0
isort==4.2.5
itsdangerous==0.24
Jinja2==2.9.6
joblib==0.11
Keras==2.0.5
keras-contrib==1.2.1
lazy-object-proxy==1.2.2
llvmlite==0.18.0
lmdb==0.89
Markdown==2.2.0
MarkupSafe==1.0
matplotlib==2.0.0
mc-cython==0.0.0
mccabe==0.6.1
mercurial==4.2.1
mock==2.0.0
moviepy==0.2.3.2
netifaces==0.10.4
networkx==1.11
nose==1.3.7
numba==0.34.0.dev0+410.g754ab0423
numpy==1.13.0
olefile==0.44
osrf-pycommon==0.1.2
packaging==16.8
pandas==0.20.1
paramiko==1.16.0
path.py==8.1.2
pbr==3.1.0
pep8==1.7.0
pexpect==4.0.1
pickleshare==0.6
Pillow==4.1.0
pkgconfig==1.2.2
progressbar2==3.30.2
protobuf==3.3.0
psutil==3.4.2
ptk==1.3.2
ptvsd==2.2.0
ptyprocess==0.5.1
py==1.4.33
PyBindGen==0.17.0
pybullet==1.2.2
pycocotools==2.0
pycodestyle==2.3.1
pycrypto==2.6.1
pycurl==7.43.0
pydot==1.0.2
pyglet==1.2.4
Pygments==2.2.0
pygraphviz==1.3.1
pylint==1.6.5
pymongo==3.4.0
PyOpenGL==3.1.0
pyparsing==2.2.0
pytest==3.0.7
pytest-cov==2.4.0
pytest-xdist==1.15.0
python-dateutil==2.6.0
python-utils==2.1.0
pytz==2017.2
PyWavelets==0.5.2
PyYAML==3.12
pyzmq==16.0.2
requests==2.14.2
rosdep==0.11.5
rosdistro==0.6.2
rosinstall==0.7.8
rosinstall-generator==0.1.13
rospkg==1.1.1
sacred==0.6.10
sacredboard==0.1.2
scikit-image==0.13.0
scikit-learn==0.18.1
scipy==0.19.0
simplegeneric==0.8.1
singledispatch==3.4.0.3
six==1.10.0
sklearn==0.0
snowballstemmer==1.2.1
Sphinx==1.6.1
sphinx-rtd-theme==0.1.9
sphinxcontrib-websupport==1.0.1
subprocess32==3.2.7
TBB==0.1
tensorflow==1.2.0
tensorlayer==1.4.3
Theano==0.9.0
tqdm==4.11.2
traitlets==4.2.1
trollius==2.1
typing==3.6.1
vcstools==0.1.39
virtualenv==15.1.0
websocket-client==0.40.0
Werkzeug==0.12.2
wrapt==1.10.8
wstool==0.1.13
xonsh-docker-tabcomplete==0.1.4
xonsh-vox-tabcomplete==0.4
xontrib-avox==0.6
xontrib-z==0.3
zmq==0.0.0
```",similar error python recent call last file line module import file line module import file line module gym import import name gym pip freeze post,issue,negative,neutral,neutral,neutral,neutral,neutral
316520483,so embarrassing! I skimmed too quickly. sorry,embarrassing skimmed quickly sorry,issue,negative,negative,negative,negative,negative,negative
316519730,"Here are the specific errors, I made sure all the packages are installed.

```
athundt at Andrews-2013-MacBook-Pro-2 in ~/src/bullet3/examples/pybullet/gym on master!
± python enjoy_kuka_grasping.py
Traceback (most recent call last):
  File ""enjoy_kuka_grasping.py"", line 2, in <module>
    from envs.bullet.kukaGymEnv import KukaGymEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/__init__.py"", line 1, in <module>
    from envs.bullet.cartpole_bullet import CartPoleBulletEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/cartpole_bullet.py"", line 9, in <module>
    from gym import spaces
ImportError: cannot import name spaces

```

```
athundt at Andrews-2013-MacBook-Pro-2 in ~/src/bullet3/examples/pybullet/gym on master!
± python train_pybullet_racecar.py
Traceback (most recent call last):
  File ""train_pybullet_racecar.py"", line 2, in <module>
    from envs.bullet.racecarGymEnv import RacecarGymEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/__init__.py"", line 1, in <module>
    from envs.bullet.cartpole_bullet import CartPoleBulletEnv
  File ""/Users/athundt/source/bullet3/examples/pybullet/gym/envs/bullet/cartpole_bullet.py"", line 9, in <module>
    from gym import spaces
ImportError: cannot import name spaces
```

```
± pip install gym
Requirement already satisfied: gym in /usr/local/lib/python2.7/site-packages
Requirement already satisfied: pyglet>=1.2.0 in /usr/local/lib/python2.7/site-packages (from gym)
Requirement already satisfied: numpy>=1.10.4 in /usr/local/lib/python2.7/site-packages (from gym)
Requirement already satisfied: six in /usr/local/lib/python2.7/site-packages (from gym)
Requirement already satisfied: requests>=2.0 in /usr/local/lib/python2.7/site-packages (from gym)
```",specific made sure master python recent call last file line module import file line module import file line module gym import import name master python recent call last file line module import file line module import file line module gym import import name pip install gym requirement already satisfied gym requirement already satisfied gym requirement already satisfied gym requirement already satisfied six gym requirement already satisfied gym,issue,positive,positive,positive,positive,positive,positive
316275398,"What about having setup.py another flag in setup.py (or another setup.py) for those examples? That way it could incorporate a `requirements.txt` file and install the deps.

I'll give this another try and post more detailed errors (or success) in a bit. Sorry I didn't post more detail because I had been on a plane when I tried it and suspected I was missing dependencies, the errors were long gone when I next had net access.",another flag another way could incorporate file install give another try post detailed success bit sorry post detail plane tried suspected missing long gone next net access,issue,negative,negative,neutral,neutral,negative,negative
316200085,"Sure, thanks!
I can't think of any fix which will not make the code complicated.",sure thanks ca think fix make code complicated,issue,positive,positive,neutral,neutral,positive,positive
315975125,"For the current gym examples, you need an up-to-date versions of pybullet, Tensorflow, OpenAI Gym and OpenAI Baselines (sudo pip install pybullet, tensorflow, gym, baselines).
Then open a terminal windows, change directory to Bullet/examples/pybullet/gym and you should be able to run:
python train_pybullet_racecar.py
wait until it is trained and terminates this can take some hours(s), then run
python enjoy_pybullet_racecar.py

What operating system did you use? What exact error(s) do you get (copy paste them) when you try running python train_pybullet_racecar.py?

There is also a pre-trained model: change directory to Bullet/examples/pybullet/tensorflow and run
python humanoid_running.py
(only needs pybullet and Tensorflow)

Note we are experimenting with various environments and implementations of training algorithms (DQN, DDPG, TRPO, PPO etc) and there is not one single uniform way to train and enjoy/run inference etc.",current gym need gym pip install gym open terminal change directory able run python wait trained take run python operating system use exact error get copy paste try running python also model change directory run python need note various training one single uniform way train inference,issue,negative,positive,positive,positive,positive,positive
315969996,"Which examples do you mean? The ones that are in in the folder gym so far? If so, can you tell me from what location you started which example and some specs about your environment? Did you install OpenAI gym?",mean folder gym far tell location example spec environment install gym,issue,negative,negative,negative,negative,negative,negative
315892651,"Unfortunately this did not help.
I thought that this is a different issue, but now that I think about it is the same thing:

If I have the player's capsule and a ground plane, and I let the player fall to the plane, when the capsule lands the player sinks a bit in the plane, and for a few frames slowly emerges on top of it.
How can I resolve this? I want the player to directly stop on top of the plane.

I'm using one substep in stepSimulation, because I want to catch every intersection with the environment in order to make the rigid body's behave more like a character(if I make it 10 for example, the player might slide because my code doesn't get executed and I cannot modify it's velocity).",unfortunately help thought different issue think thing player capsule ground plane let player fall plane capsule player bit plane slowly top resolve want player directly stop top plane one want catch every intersection environment order make rigid body behave like character make example player might slide code get executed modify velocity,issue,positive,positive,positive,positive,positive,positive
315776057,"I installed visual studio and I got a btAssert called. Here is my call stack:

![image](https://user-images.githubusercontent.com/11232402/28273472-2a0aca22-6b17-11e7-9a45-ce9431ca6456.png)
",visual studio got call stack image,issue,negative,neutral,neutral,neutral,neutral,neutral
315760685,"Since when converting float to double there is no truncation, warning is also does not arise. So we can use float for all constants",since converting float double truncation warning also arise use float,issue,negative,neutral,neutral,neutral,neutral,neutral
315634917,"I have a train part I will commit soon. It allows to quickly combine an env and an agent and start the training. I also have an enjoy script which loads the latest stored checkpoint of a certain agent and runs it. I think this might be helpful within the example framework, it simplifies quick experiments. 

I did not yet look into your generic and env specific separation, I will check what this entails. Right, the assets are already there, so I will make my envs use those assets. Maybe I will have to update some of the assets to the newest version of OpenAI. I am also working on the remaining envs. Stay tuned for more. 

Just tell me how you would like to integrate this into the other envs. I can also propose some of my ideas.",train part commit soon quickly combine agent start training also enjoy script latest certain agent think might helpful within example framework quick yet look generic specific separation check right asset already make use asset maybe update asset version also working stay tuned tell would like integrate also propose,issue,positive,positive,positive,positive,positive,positive
315606439,"Pybulley manually binds the C API, not the C++ API. Having an example of
both would be helpful.

On Jul 16, 2017 12:47 PM, ""Jean-Sébastien B."" <notifications@github.com>
wrote:

> Hello @erwincoumans <https://github.com/erwincoumans>,
>
> CFFI can create a binding automatically given a C header file.
> Nevertheless, it won't run the preprocessor. It's not really a problem,
> usually, I execute the preprocessor with cpp command and I feed the
> cffi's cdef function with it.
>
> CFFI can't parse C++ header. Is your current Python extension using the
> C++ header file ?
>
> Let me just some time, I will show you how it works with a pull request. I
> just have to figure out how all is working.
>
> Thanks,
> Jean-Sébastien
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1226#issuecomment-315600819>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3BuludSVo1a8WF-TlGbRYCtgr6UHks5sOeozgaJpZM4OXELM>
> .
>
",manually example would helpful wrote hello create binding automatically given header file nevertheless wo run really problem usually execute command feed function ca parse header current python extension header file let time show work pull request figure working thanks reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
315600819,"Hello @erwincoumans,

CFFI can create a binding automatically given a C header file. Nevertheless, it won't run the preprocessor. It's not really a problem, usually, I execute the preprocessor with `cpp` command and I feed the cffi's `cdef` function with it.

CFFI can't parse C++ header. Is your current Python extension using the C++ header file ?

Let me just some time, I will show you how it works with a pull request. I just have to figure out how all is working.

Thanks,
Jean-Sébastien",hello create binding automatically given header file nevertheless wo run really problem usually execute command feed function ca parse header current python extension header file let time show work pull request figure working thanks,issue,negative,positive,neutral,neutral,positive,positive
315600004,"Thanks for the report of UBSan issues, I've never used UBSan but will try it out too.
For the fix, I prefer fixing the code instead of disabling checks for particular compilers. I'll have a look at it once I have time or you can suggest some code fixes for this.",thanks report never used try fix prefer fixing code instead particular look time suggest code,issue,negative,positive,positive,positive,positive,positive
315599944,"Thanks for the environments, we have to discuss how this blends in with our existing efforts.

The 'enjoy' and 'train' follows the default naming of OpenAI baselines DQN training. We split our latest environments into a generic part (minitaur.py, kuka.py) and a gym specific part (kukaGymEnv.py, minitaurGymEnv.py). This split allows us to re-use the generic parts with proprietary/internal learning frameworks and DeepMind Sonnet etc.  For example:

KUKA : train_kuka_grasping.py + enjoy_kuka_grasping.py
MIT Racecar: train_pybullet_racecar.py + enjoy_pybullet_racecar.py
Cartpole: train_pybullet_cartpole.py + enjoy_pybullet_cartpole.py

1) Did you have a look at the structure of those environments?
2) Do you have the 'train' part?
3) A lot of the assets are already in the data folder, did you know that?
",thanks discus default naming training split latest generic part gym specific part split u generic learning sonnet example look structure part lot asset already data folder know,issue,positive,positive,positive,positive,positive,positive
315589111,"@benelot the code is the original RigidBodyFromObjExample in the ExampleBrowser.
In bullet [forum,](http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=11783&sid=53b2ba7345dc2feb0e33c8120fba54af) it is reproduced by building with 64-bit mode. 
But I build it with 64bit also  and cant reproduce the bug again. 
As you suggested, I'll reopen the issue and maybe someone can figure this out :) ",code original bullet forum building mode build bit also cant reproduce bug reopen issue maybe someone figure,issue,negative,positive,positive,positive,positive,positive
315470685,"I was not aware of this issue. Can CFFI create automatic Python bindings, given a C - header file?

If so, please show it to me, create a binding using this C header file:
bullet/examples/SharedMemory/PhysicsClientC_API.h

In addition, or alternatively, can CFFI bind a C++ header? If so, please try binding this:
bullet3/examples/RobotSimulator/b3RobotSimulatorClientAPI.h

Thanks!
Erwin
",aware issue create automatic python given header file please show create binding header file addition alternatively bind header please try binding thanks,issue,positive,positive,positive,positive,positive,positive
315335794,Thanks. I'll try it tonight. My problem is not tunneling but I guess this might help!,thanks try tonight problem tunneling guess might help,issue,negative,positive,positive,positive,positive,positive
315226365,"See if CCD can be turned on in your platform
(I use bge python which lacks CCD at the moment )

I personally raycast based on LinV and a multiplier.

The faster the agent  moves the longer the ray becomes, and if it
penetrates a collider, I move the object along the vector to the hitpoint,
which is simple for a sphere, but can get tricky for convex hulls etc.
(like deciding to raycast from leading edges based on linv)

On Jul 13, 2017 1:13 PM, ""ongamex"" <notifications@github.com> wrote:

> Thank you for the fast response.
>
> What I do is I cast a few rays from the bottom of the capsule in order to
> determine if the player is grounded. If so I indeed disable the velocity,
> However the object could still penetrate the ground, if it is moving a bit
> faster.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1227#issuecomment-315189288>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WS81DT7suE3vl6qpsc2DDTXAZMdnks5sNnpsgaJpZM4OXcsX>
> .
>
",see turned platform use python moment personally based multiplier faster agent longer ray becomes move object along vector simple sphere get tricky convex like leading based wrote thank fast response cast bottom capsule order determine player grounded indeed disable velocity however object could still penetrate ground moving bit faster reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
315189288,"Thank you for the fast response.

What I do is I cast a few rays from the bottom of the capsule in order to determine if the player is grounded. If so I indeed disable the velocity, However the object could still penetrate the ground, if it is moving a bit faster.",thank fast response cast bottom capsule order determine player grounded indeed disable velocity however object could still penetrate ground moving bit faster,issue,negative,positive,positive,positive,positive,positive
315186254,"in bge python

if state==""idle"" and GroundRay.positive:
(tab)own.localLinearVelocity*=.5
(tab)own.applyForce([0,0,own.mass*gravity], 0)

If on ground, cancel gravity and apply homemade friction.


On Jul 13, 2017 12:39 PM, ""ongamex"" <notifications@github.com> wrote:

> Hello guys. I'm pretty new to Bullet Physics and physics engine as a whole.
>
> I'm trying to create a physics for a 3D platformer. Where the player is
> represented by a dynamics in rotatable capsule, Everything is good so far,
> but the problem I have is when the player falls down on a slope:
>
> [image: untitled]
> <https://user-images.githubusercontent.com/6237727/28184302-86a2dcec-681b-11e7-8b65-bce16453f491.png>
>
> Moving the player outside of the ground the do the trick, but I do not
> know how to achieve it.
> I chose to use a dynamic instead of a kinematic one because It look easier
> to implement and I'm in a research phase and this is what I've started
> with, additionally I want my object to be able to push and to be pushable
> by other object.
>
> Additionally all tips on the subject are welcome as I do not know how to
> approach this problem.
>
> Regards,
> me :)
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1227>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WXRdyL0bzQuna437c2hdp0J4mER-ks5sNnJegaJpZM4OXcsX>
> .
>
",python idle tab tab gravity ground cancel gravity apply homemade friction wrote hello pretty new bullet physic physic engine whole trying create physic platformer player dynamic rotatable capsule everything good far problem player slope image untitled moving player outside ground trick know achieve chose use dynamic instead kinematic one look easier implement research phase additionally want object able push object additionally subject welcome know approach problem thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
315069197,"Then, if somebody finds this when similar problems occur , s/he can investigate more and maybe contribute to resolving the potential error.",somebody similar occur investigate maybe contribute potential error,issue,negative,neutral,neutral,neutral,neutral,neutral
315069050,"Not sure if this should be closed just because your problem is fixed. It seems that with your former setup, one could break something. Can you post your reproduction code here?",sure closed problem fixed former setup one could break something post reproduction code,issue,negative,positive,positive,positive,positive,positive
314830797,"Kinematic objects are not controlled by Bullet thus setting their velocity won't make them move. Anyway, what are you trying to achieve? A moving platform? You might consider creating a dynamic body and keeping it fixed in space via constraints as well.",kinematic bullet thus setting velocity wo make move anyway trying achieve moving platform might consider dynamic body keeping fixed space via well,issue,positive,positive,neutral,neutral,positive,positive
314352653,"Since you mentioned its fine in pybullet, I delete the source and rebuild everything. 
It's fine now.
But I still wonder what cause that issue.",since fine delete source rebuild everything fine still wonder cause issue,issue,negative,positive,positive,positive,positive,positive
314349592,"@erwincoumans  
I'm following the tutorial here http://bulletphysics.org/mediawiki-1.5.8/index.php/Simple_RigidBody_loaded_from_an_obj_file
I also tried the stl importer and get a similar result.

Operating System: Windows 7
Compiler: Visual Studio 2015
build system: build_visual_studio.bat
",following tutorial also tried importer get similar result operating system compiler visual studio build system,issue,negative,neutral,neutral,neutral,neutral,neutral
314343001,"What tutorial? Please provide complete instructions how to build and reproduce your issue (including operating system, compiler, build system (premake, cmake), build system flags (double precision, 32/64 bit etc) etc etc.

When using pybullet, the easiest way to use Bullet, those files all work just fine.",tutorial please provide complete build reproduce issue operating system compiler build system premake build system double precision bit easiest way use bullet work fine,issue,positive,positive,positive,positive,positive,positive
312790867,"@ahundt: it's as @erwincoumans writes: assimp can load quite some mesh formats. But they'll be used as geometry only.

I just wanted to point out that loading wavefront meshes probably already works.
",load quite mesh used geometry point loading probably already work,issue,negative,neutral,neutral,neutral,neutral,neutral
312779842,i've made a pull request with the required change.,made pull request change,issue,negative,neutral,neutral,neutral,neutral,neutral
312768386,">>in addition to URDF and SDF. 

It is not ""in addition"": URDF and SDF points to triangle meshes in COLLADA and STL format. If Gazebo uses assimp, it would allow URDF/SDF files to point to Wavefront .OBJ files (like Bullet allows).",addition addition triangle format gazebo would allow point like bullet,issue,positive,neutral,neutral,neutral,neutral,neutral
312761175,"> perhaps little known, but ROS (or at least RViz) can actually load whatever `assimp` can load. Even `.fbx`.

Interesting suggestion, something like that could probably help provide broader support with fewer implementation steps, though I think that would likely need to be in addition to URDF and SDF. Probably would need a volunteer for implementation though, haha.",perhaps little known least actually load whatever load even interesting suggestion something like could probably help provide support implementation though think would likely need addition probably would need volunteer implementation though,issue,positive,positive,neutral,neutral,positive,positive
312565244,"Unfortunately this breaks App_browser building in my linux flavour (Kubuntu) due to multiple declaration of memory functions (malloc, calloc, realloc, free). E-g for malloc:

In file included from /home/mann/thesis/bullet3/examples/ExampleBrowser/GwenGUISupport/gwenInternalData.h:4:
In file included from /home/mann/thesis/bullet3/examples/ExampleBrowser/./../OpenGLWindow/GwenOpenGL3CoreRenderer.h:5:
In file included from /home/mann/thesis/bullet3/examples/ThirdPartyLibs/Gwen/Gwen.h:20:
In file included from /home/mann/thesis/bullet3/examples/ThirdPartyLibs/Gwen/Macros.h:8:
/usr/include/malloc.h:38:14: error: declaration conflicts with target of using declaration already in scope
extern void *malloc (size_t __size) __THROW __attribute_malloc__ __wur;
             ^
/usr/include/stdlib.h:466:14: note: target of using declaration
extern void *malloc (size_t __size) __THROW __attribute_malloc__ __wur;
             ^
/usr/bin/../lib/gcc/x86_64-linux-gnu/6.3.0/../../../../include/c++/6.3.0/stdlib.h:65:12: note: using declaration
using std::malloc;

The test at examples/ThirdPartyLibs/Gwen/Macros.h:7 does not account for this OS.
",unfortunately building flavour due multiple declaration memory free file included file included file included file included error declaration target declaration already scope extern void note target declaration extern void note declaration test account o,issue,negative,negative,neutral,neutral,negative,negative
312471612,"Needs fixing indeed, pull request?",need fixing indeed pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
312408948,Good point. We could enable some define to avoid the need for X11 headers actually (that's what premake does). thanks for the feedback!,good point could enable define avoid need actually premake thanks feedback,issue,positive,positive,positive,positive,positive,positive
312257447,"@erwincoumans wrote:
> I think URDF and SDF would have been better with Wavefront .obj support (and STL) instead of COLLADA.

perhaps little known, but ROS (or at least RViz) can actually load whatever `assimp` can load. Even `.fbx`.
",wrote think would better support instead perhaps little known least actually load whatever load even,issue,positive,positive,neutral,neutral,positive,positive
311447715,"TinyRenderer works just fine with many of our scenes, it is likely due to your files.
Did you try running the Bullet/examples/pybullet/examples/testrender.py script? It uses TinyRenderer by default.",work fine many likely due try running script default,issue,negative,positive,positive,positive,positive,positive
311439904,"I am facing a similar issue, ER_TINY_RENDERER is returning a blank canvas in DIRECT mode. But using the same setup with ER_BULLET_HARDWARE_OPENGL in GUI mode returns the correct image. Am I missing something?",facing similar issue blank canvas direct mode setup mode correct image missing something,issue,negative,negative,neutral,neutral,negative,negative
311218342,"Yes, please share here (or private message) and I'll try to look into it (or someone else looks into it)",yes please share private message try look someone else,issue,positive,neutral,neutral,neutral,neutral,neutral
311205078,"By the way, thanks for all that helpful info!

After looking through much of this, one thing I can't figure out is:
For the parallel batch creation in OpenCL, is it deterministic?
I'm having a hard time seeing how it could be.

",way thanks helpful looking much one thing ca figure parallel batch creation deterministic hard time seeing could,issue,positive,positive,neutral,neutral,positive,positive
310995746,That is an interesting behaviour. So the same python environment delivers two python include paths that point to different versions of python? Then let us keep it the way it is and people that can not get it to run can just use my proposed fix.,interesting behaviour python environment two python include point different python let u keep way people get run use fix,issue,negative,positive,positive,positive,positive,positive
310907593,"Thanks! I applied the patch, but it breaks the Mac OSX build. CMake finding libs is such a broken system, when the user provides the PYTHON_INCLUDES etc manually, it should NOT try to search for them again.

/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/System/Library/Frameworks/OpenGL.framework
-- Found PythonInterp: /usr/bin/python2.7 (found suitable version ""2.7.10"", minimum required is ""2.7"") 
-- Could NOT find PythonLibs: Found unsuitable version ""3.6.0"", but required is exact version ""2.7.10"" (found /Users/erwincoumans/anaconda3/lib)
Mac OSX Version is 10.12
",thanks applied patch mac build finding broken system user manually try search found found suitable version minimum could find found unsuitable version exact version found mac version,issue,negative,positive,positive,positive,positive,positive
310905520,"As soon as OpenAI baselines has more than just DQN, it is definitely going to be a great library, especially because they try to tune them for good, general performance. But for now, it is a bit limited, especially for harder environments, DQN is going to be hard to train as it is not continuous valued. At least having DDPG would be especially helpful. 

The great thing about KerasRL is that it reduces clutter when programming as it is based on the high-level API of tensorflow called Keras. KerasRL has DQN, DDQN, DDPG, CDQN or NAF, CEM, etc and uses the fully portable data container hdf5 for network weight storage. That is why I started using it. 

I implemented a trainer which allows the agent/environment combination to be switched, so we can compare later with OpenAI baselines. I am going to pull-request a simple example so that you can look at what I have in mind.",soon definitely going great library especially try tune good general performance bit limited especially harder going hard train continuous valued least would especially helpful great thing clutter based fully portable data container network weight storage trainer combination switched compare later going simple example look mind,issue,positive,positive,positive,positive,positive,positive
310879312,"This is training using OpenAI baselines DQN, it saves the data in the current folder by default. Also, it looks like its pkl file are not fully portable (cross-platform, different python versions/32bit-64bit).

I prefer TF and Gym and lightweight RL algorithms such as DQN, DDPG, PPO etc using TF and gym. OpenAI Baselines fits that bill. I haven't looked at KerasRL yet, but not too eager to add a lot of complexity and duplication, but it might be interesting.

I wonder how KerasRL and OpenAL Baselines DQN etc compare?",training data current folder default also like file fully portable different python prefer gym lightweight gym bill yet eager add lot complexity duplication might interesting wonder compare,issue,positive,positive,positive,positive,positive,positive
310879158,"If you figure out why your machine doesn't support __thread (while it should) and how to fix it, please share it.",figure machine support fix please share,issue,positive,neutral,neutral,neutral,neutral,neutral
310878437,"If you switch to use Python 3.6 environment there is a wheel for pybullet, not for Python 3.5.

The default Anaconda ships with Python 3.6: https://www.continuum.io/downloads#macos

The issue is that your compiler doesn't seem to support __thread, while mine does, and the version is the same???

If you copy the contents between ------------------- in main.cpp, can you try compiling it?

gcc main.cpp
clang main.cpp
--------------------------------
__thread int t;
int main(int argc, char* argv[])
{
}
--------------------------------
",switch use python environment wheel python default anaconda python issue compiler seem support mine version copy content try clang main char,issue,negative,positive,positive,positive,positive,positive
310877771,"xcodebuild -version

Xcode 8.3.3

Build version 8E3004b

clang --version

Apple LLVM version 8.1.0 (clang-802.0.42)

Target: x86_64-apple-darwin16.6.0

gcc --version

Apple LLVM version 8.1.0 (clang-802.0.42)

Target: x86_64-apple-darwin16.6.0

Actually I have been using Anaconda 4.2.9. With python 3.5 environment.

Thank you!

On Fri, Jun 23, 2017 at 7:11 PM, erwincoumans <notifications@github.com>
wrote:

> Odd, it works just fine here. What version of Xcode/clang/gcc do you use?
>
> Can you upgrade to Anaconda 3.6? There is a wheel that is precompiled.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1207#issuecomment-310807022>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAU8fRwcZjB0eN_HQZKMSsftsfuIUmegks5sHHBFgaJpZM4OELqv>
> .
>



-- 
*Shane Gu*
",build version clang version apple version target version apple version target actually anaconda python environment thank wrote odd work fine version use upgrade anaconda wheel thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
310864722,"Well, then it is maybe best if you go ahead and add it to the file, it is more fail-safe.",well maybe best go ahead add file,issue,positive,positive,positive,positive,positive,positive
310860705,"cmake fails to find packages so many times, especially on Windows. I spend a lot of time digging into some cmake files to see how it finds a particular package: cmake doesn't make it easy at all to find packages automagically.

pip install pybullet is preferred. On Windows, premake works better than cmake.",find many time especially spend lot time digging see particular package make easy find pip install preferred premake work better,issue,positive,positive,positive,positive,positive,positive
310851842,"I can not yet say if this works in all cases, but in mine, it fixed the issue. We can change it and see how many other people's build system we break ;-) No, in fact it should work in general as it returns the correct path for that interpreter. It remains in question why the cmake search fails...",yet say work mine fixed issue change see many people build system break fact work general correct path interpreter remains question search,issue,negative,positive,positive,positive,positive,positive
310846553,"Benjamin, should we replace the line in build_cmake_pybullet_double.sh  file with your one? 

I would assume 'python' to be the default executable name in most cases.

",benjamin replace line file one would assume default executable name,issue,negative,neutral,neutral,neutral,neutral,neutral
310846166,"You should be able to use ""pip install pybullet"" or ""sudo pip install pybullet"" indeed, that is recommended over using cmake etc.
https://pypi.python.org/pypi/pybullet
No need for wheels, pip should just install from source.

I upload some Mac OSX and Windows wheels sometimes. Would be nice to have an automatic way to generate wheels for most popular versions of python on Mac and Windows.

Secondly, you can run ""python setup.py build"" and ""python setup.py install"" in the root of Bullet. Still recommended over using cmake. In addition, using python setup.py bdist_wheel to generate a wheel.",able use pip install pip install indeed need pip install source mac sometimes would nice automatic way generate popular python mac secondly run python build python install root bullet still addition python generate wheel,issue,positive,positive,positive,positive,positive,positive
310844305,"I better say ""easier"" not ""better"" 😄 ",better say easier better,issue,positive,positive,positive,positive,positive,positive
310818658,This is not a pybullet issue. For your python version you will need Visual studio installed.,issue python version need visual studio,issue,negative,neutral,neutral,neutral,neutral,neutral
310807022,"Odd, it works just fine here. What version of clang/gcc do you use?

Here are some of my versions:
MacOS Sierra 10.12.5 (16F73)
gcc --version and/or clang --version
Apple LLVM version 8.1.0 (clang-802.0.42)
Target: x86_64-apple-darwin16.6.0
XCode Version 8.3.3 (8E3004b)
which python
/Users/erwincoumans/anaconda3/bin/python
python --version
Python 3.6.0 :: Anaconda 4.3.1 (x86_64)

Can you upgrade to Anaconda 3.6? There is a wheel that is precompiled.

CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" pip install pybullet

If you got the Bullet sourcecode, you can also run this command in the root of Bullet:
CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" python setup.py install
",odd work fine version use sierra version clang version apple version target version python python version python anaconda upgrade anaconda wheel pip install got bullet also run command root bullet python install,issue,negative,positive,positive,positive,positive,positive
310489588,That should be easy to do: pybullet has a getKeyboardEvents and you simply use that to control the robot using setJointMotorControl2(...).,easy simply use control robot,issue,negative,positive,positive,positive,positive,positive
310404860,"Did you mean keyboard control of simulated robots?

Otherwise, how do you exactly interface with controls of real robots?",mean keyboard control otherwise exactly interface real,issue,negative,positive,neutral,neutral,positive,positive
309991525,"This post is an update about this issue.

It seems that this issue has been ""**solved**"" with PR #954.
The double quotes are because if I issue
```shell
~ $ otool -L /usr/local/opt/bullet/lib/libBulletSoftBody.2.86.dylib
/usr/local/opt/bullet/lib/libBulletSoftBody.2.86.dylib:
	/usr/local/opt/bullet/lib/libBulletSoftBody.2.86.dylib (compatibility version 2.86.0, current version 2.86.0)
	@rpath/libBulletDynamics.2.86.dylib (compatibility version 2.86.0, current version 2.86.0)
	@rpath/libBulletCollision.2.86.dylib (compatibility version 2.86.0, current version 2.86.0)
	@rpath/libLinearMath.2.86.dylib (compatibility version 2.86.0, current version 2.86.0)
	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 307.4.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1238.0.0)

~ $ otool -l /usr/local/opt/bullet/lib/libBulletSoftBody.2.86.dylib | grep -i rpath
         name @rpath/libBulletDynamics.2.86.dylib (offset 24)
         name @rpath/libBulletCollision.2.86.dylib (offset 24)
         name @rpath/libLinearMath.2.86.dylib (offset 24)
```
I can still find `@rpath` prefix which should not be there.

This problem may be due to the above mentioned problem on CMake which is fixed in the upcoming 3.9 version. Let's wait for the new release and see whether we can fix this definitely or not 😄 .
",post update issue issue double issue shell compatibility version current version compatibility version current version compatibility version current version compatibility version current version compatibility version current version compatibility version current version name offset name offset name offset still find prefix problem may due problem fixed upcoming version let wait new release see whether fix definitely,issue,negative,positive,neutral,neutral,positive,positive
309907035,"I can share, it's part of a project that will eventually become public -- it might be easier for me just to break out a script. When I get a chance I'll do this and get back to you.

For what it's worth I don't think there's anything wrong with the URDF, PyKDL works just fine.",share part project eventually become public might easier break script get chance get back worth think anything wrong work fine,issue,positive,positive,neutral,neutral,positive,positive
309851576,"We started with Samuel Buss IK library and adopted it using Bullet with various extensions/improvements with only limited testing for our purpose. We didn't expose all IK features and also didn't test robustness of the IK etc, so there are no expectations for the IK results. 

The assert points to the Inverse Dynamics library, used to compute the Jacobian (for IK). It has various asserts to make sure the input matches its expectations, and something is wrong with the URDF/conversion.

We can only figure out what's happening if you share a reproduction case (the URDF and a pybullet script that make it crash). Can you create/share it?",bus library adopted bullet various limited testing purpose expose also test robustness assert inverse dynamic library used compute various make sure input something wrong figure happening share reproduction case script make crash,issue,negative,negative,neutral,neutral,negative,negative
309657001,"Thank you for helping me with this.  I tried putting ""override"" on many functions, including the one that gdb is pointing fingers at.  The project uses _waf_ to compile, so I don't know how to enable C++11.

I should note that this is not a project that I made.  It's abandoned by it's creator, but I'm trying to pick it up.",thank helping tried override many one pointing project compile know enable note project made abandoned creator trying pick,issue,negative,positive,positive,positive,positive,positive
309508180,"The plan is to transfer the trained controller to real world inputs in the future, so distances should match. However, it seems that choosing low values for the near plane produces results with high enough accuracy, so I should be fine. Thanks for the quick reply.",plan transfer trained controller real world future match however choosing low near plane high enough accuracy fine thanks quick reply,issue,negative,positive,positive,positive,positive,positive
309504811,"We have been doing lots of training on servers already. How is an inaccurate depth value blocking you? The depth value should be monotone increasing, for a particular near/far combo.
Aside from that, it should be easy to fix, I just have a lot of other things on my plate, will see if I get to it.",lot training already inaccurate depth value blocking depth value monotone increasing particular aside easy fix lot plate see get,issue,positive,positive,positive,positive,positive,positive
309500607,"Yes, that might be the problem. Are there any plans for fixing this issue in the near future? since I hoped to use the software renderer for training a RL agent on a server.",yes might problem fixing issue near future since hoped use renderer training agent server,issue,negative,positive,neutral,neutral,positive,positive
309497034,"See my previous comment here:
https://github.com/bulletphysics/bullet3/issues/1197#issuecomment-309476682
If we use double precision for the projectionMatrix the issue would be resolved, but it would require some work to avoid breaking the existing API.",see previous comment use double precision issue would resolved would require work avoid breaking,issue,negative,negative,neutral,neutral,negative,negative
309481445,"Yes, sure.
Near      Far       Depth [correct: 0.5]
0.02      1           0.480
0.02      2          0.470
0.02      10        0.462

0.1         2          0.342
0.2        2           2

0.001    2           0.499  

It seems that for small values of the near plane, results become more accurate while larger values of the near plane (or closer to the distance to objects in the scene) lead to large errors.",yes sure near far depth correct small near plane become accurate near plane closer distance scene lead large,issue,positive,positive,positive,positive,positive,positive
309477780,">> ""The depth values also seem to vary strongly with different near and far planes.""

Can you give some examples of depth values differences for various near/far values?",depth also seem vary strongly different near far give depth various,issue,negative,positive,neutral,neutral,positive,positive
309476682,"It could be, because we re-compute the near/far values from the projection matrix, which introduces some error. We could test if that is the main issue here by hard-coding the real near/far values and see if that fixes the differences. See around this line:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/TinyRendererVisualShapeConverter.cpp#L757

If that is the case, we could either pass in the near/far explicitly, or move from single float precision to double precision for that projection matrix.",could projection matrix error could test main issue real see see around line case could either pas explicitly move single float precision double precision projection matrix,issue,negative,positive,neutral,neutral,positive,positive
309468989,"That is why I use the same transform to get the original depth values for both OpenGL and TinyRenderer. However, the values are slightly different, for example Tiny Renderer returns 0.48 instead of 0.5, which is the correct value in the above setup.",use transform get original depth however slightly different example tiny renderer instead correct value setup,issue,positive,positive,positive,positive,positive,positive
309467299,"TinyRenderer depth values are converted to OpenGL style depth values here:
https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/TinyRendererVisualShapeConverter.cpp#L971
If you can, please share your improvements!
",depth converted style depth please share,issue,positive,neutral,neutral,neutral,neutral,neutral
309328559,"OK, now I can see where this is coming from. The warnings are coming from compiling external (non-bullet) source files that include that one bullet header.

In light of that, I agree this is a good change. I still think the warnings are pretty useless, but I also think it is kind of bad form for a third party library's headers to cause a spew of warnings.
Of all the ways to fix this, adding those 'f' suffixes is the least ugly option I can see.",see coming coming external source include one bullet header light agree good change still think pretty useless also think kind bad form third party library cause spew way fix least ugly option see,issue,positive,negative,neutral,neutral,negative,negative
309256022,"I'm using Cmake/MSVC 2015/Win32 and I'm not getting those warnings.
Also if you look at the appveyor logs: [https://ci.appveyor.com/project/erwincoumans/bullet3/build/1.0.1934](url)
which is using MSVC 2015, I'm not seeing those warnings. All I see is 16 occurances of C4838, and those all look like legitimate warnings.
Hmmm.. I see that in my Cmake built Bullet project, certain warnings are disabled. It has warning C4244 (and also C4267) disabled.
Are you using premake?",getting also look seeing see look like legitimate see built bullet project certain disabled warning also disabled premake,issue,negative,negative,neutral,neutral,negative,negative
309240064,"I really don't see the point of such warnings for compile-time numerical constants. In fact, neither MSVC, GCC, or Clang are generating such spurious warnings. These warnings don't appear in the Appveyor (MSVC 2015), or Travis (GCC, Clang) logs.
If only some old version of MSVC generates this warning, perhaps a better fix is to just disable that warning for the offending compiler version.
",really see point numerical fact neither clang generating spurious appear travis clang old version warning perhaps better fix disable warning compiler version,issue,negative,positive,positive,positive,positive,positive
309221882,"You can already do btVector3(btScalar(1),btScalar(0.3),btScalar(0.3)); 
Equally ugly and overly verbose indeed, hence the warnings are still there.",already equally ugly overly verbose indeed hence still,issue,negative,negative,negative,negative,negative,negative
309221512,"A great example of why consistent formatting is needed. :) #1007 
It's pretty hard to follow an unformatted method that is also 225 lines long.",great example consistent pretty hard follow method also long,issue,positive,positive,positive,positive,positive,positive
309196456,"I suppose if you want to got the ugly route you could do something like:
```
#ifndef BT_USE_DOUBLE_PRECISION
    #define BT_F(v) v ## f
#else
    #define BT_F(v) v
#endif
```

And then:
```
btVector3(BT_F(1.0), BT_F(0.3), BT_F(0.3))
```",suppose want got ugly route could something like define else define,issue,negative,negative,negative,negative,negative,negative
309196232,"Yes, removing it should do the trick.

I can only guess what could be causing your segfault. One thing you may want to check is if your codebase  has any classes deriving from Bullet classes that are overriding virtual functions. If any of those virtual functions have changed their signature since your previous version of Bullet then you could have something that compiles fine but is broken.

There is an easy way to turn those into compiler errors -- just mark all the functions in your code that are supposed to be overriding a Bullet virtual function with the ""override"" keyword. Then the compiler should give you an error for every such function that doesn't match with something in the parent class.
It's a C++11 keyword though, so you may need to enable it in your compiler.",yes removing trick guess could causing one thing may want check class bullet class virtual virtual signature since previous version bullet could something fine broken easy way turn compiler mark code supposed bullet virtual function override compiler give error every function match something parent class though may need enable compiler,issue,negative,positive,neutral,neutral,positive,positive
309190885,"So I just remove it? Nothing else?  I was able to get the program to compile by doing that, but it segfaults immediately after starting-up.
As you can tell, I am not experienced in C++.",remove nothing else able get program compile immediately tell experienced,issue,negative,positive,positive,positive,positive,positive
309185824,"It turned out to be problematic to have a global simplexSolver object when doing collision detection on multiple threads. So each thread creates a btVoronaiSimplexSolver on the stack whenever it needs one.
So there is no longer any need to pass a simplex solver into the ConvexConvexAlgorithm constructor anymore.
Basically you should not be passing around a pointer to a global simplexSolver object anymore.",turned problematic global object collision detection multiple thread stack whenever need one longer need pas simplex solver constructor basically passing around pointer global object,issue,negative,neutral,neutral,neutral,neutral,neutral
309161633,Now compile the code using BT_USE_DOUBLE_PRECISION (that is the new default for pybullet and our usage) and you introduce a warning there...,compile code new default usage introduce warning,issue,negative,positive,positive,positive,positive,positive
309146337,"Cool. If this passes review, I can do a similar fix for the NNCG solver too.",cool review similar fix solver,issue,negative,positive,positive,positive,positive,positive
308333970,Thanks for the contribution! I'll look into it soon and apply it.,thanks contribution look soon apply,issue,negative,positive,positive,positive,positive,positive
308318942,"I'll rewrite it to functions, should I make another pull request or append it here?",rewrite make another pull request append,issue,negative,neutral,neutral,neutral,neutral,neutral
308197180,"Thanks! I agree, this is good to fix. Give me some more time to review it and merge it.",thanks agree good fix give time review merge,issue,positive,positive,positive,positive,positive,positive
308154662,"well spotted, thanks for fixing the bug!",well spotted thanks fixing bug,issue,positive,positive,positive,positive,positive,positive
307931440,"That look like a bug indeed, thanks for the fix/pull request!",look like bug indeed thanks request,issue,positive,positive,positive,positive,positive,positive
306979248,"I was interested in creating soft primitives (specifically the spheres or toruses in the example browser), but at different scales. Sounds like this would be relatively easy to expose in pybullet?",interested soft specifically example browser different scale like would relatively easy expose,issue,positive,positive,positive,positive,positive,positive
306970850,"Softbody hasn't been a priority, there was just a small test (soft body bunny) for grasping research. In the C-API, there are some b3LoadBunny* commands we could trivially hook up to pybullet. For this to be useful, you likely want to allow loading soft bodies from some standard file format (tetgen tegrahedral meshes or so).

In the end, we ended up just using rigid bodies with some compliance parameters (stiffness/damping). Those parameters are now exposed in pybullet, both in URDF and programmatically.

Just let me know what plans you had for softbody in pybullet.",priority small test soft body bunny grasping research could trivially hook useful likely want allow loading soft standard file format end ended rigid compliance exposed programmatically let know,issue,positive,positive,neutral,neutral,positive,positive
306898606,"The ideas look good but these should be actual inlined function calls, not `#define`",look good actual function define,issue,negative,positive,positive,positive,positive,positive
306398583,"My thesis: 
- [Benjamin Ellenberger  - Periodicity in Evolved Creatures](https://drive.google.com/file/d/0B-IUMROfibI0TWNfSnRYaUtvb1U/view?usp=sharing)
- [Companion repo: Minemonics](https://github.com/benelot/minemonics)",thesis benjamin periodicity companion,issue,negative,neutral,neutral,neutral,neutral,neutral
306373084,"pybullet should be an enjoyable experience, not suffering. You need to disable file caching using 
pybullet.setPhysicsEngineParameter(enableFileCaching=0). People complained that mesh/texture loading was too slow, so by default it only loads them once and caches the result.

Note that you can create videos if you have ffmpeg installed (works best on Linux and Mac OSX, Windows ffmpeg is unreliable): then use pybullet.startStateLogging(pybullet.STATE_LOGGING_VIDEO_MP4, ""filename.mp4"")

Enjoy!",enjoyable experience suffering need disable file people loading slow default result note create work best mac unreliable use enjoy,issue,positive,positive,positive,positive,positive,positive
306367636,"Okay I think I made some progress with conversion... loading things up in gazebo isn't exactly a walk in the park it seems they need things to be in a very specific layout which I detail below.

```
└── simple_box
    ├── model.config
    ├── simple_box.dae
    ├── simple_box.sdf
    └── simple_box.urdf

```

The following gazebo command will convert files, provide warnings about what is wrong, and print a converted file out on the command line: 

```bash
gz-8.1.1 sdf -p ~/src/bullet3/data/kuka_iiwa/kuka_with_gripper.urdf
```

The printout which can be redirected to overwrite the original sdf file, for example:

```bash
gz-8.1.1 sdf -p ~/src/bullet3/data/kuka_iiwa/kuka_with_gripper.urdf >  ~/src/bullet3/data/kuka_iiwa/kuka_with_gripper.sdf 
```

### Models

Here are some very simple models I've compressed for convenience, plus an updated `simple_box.zip`, these all load in both gazebo and V-REP except V-REP doesn't seem to support textures:
- [simple_box.zip](https://github.com/bulletphysics/bullet3/files/1053603/simple_box.zip) your simple_box updated to load in gazebo and V-REP
- [ball_bearing.zip](https://github.com/bulletphysics/bullet3/files/1053568/ball_bearing.zip) should be dark gray, has a material definition (a V-REP option), and is otherwise very simple
- [bookshelf.zip](https://github.com/bulletphysics/bullet3/files/1053569/bookshelf.zip) includes a texture and is composed of several simple boxes
- [cinder_block.zip](https://github.com/bulletphysics/bullet3/files/1053606/cinder_block.zip) includes a collada mesh

The materials spec they have also seems to be important if there is to be a shelf made of wood:
```

        <material>
          <script>
            <uri>file://media/materials/scripts/gazebo.material</uri>
            <name>Gazebo/Wood</name>
          </script>
        </material>
```

And gazebo won't load model/mesh files next to the sdf file unless it is specified with `model://model_folder_name/model_mesh_file.dae`, as you can see in this working version of `simple_box.dae`:

```xml
<sdf version='1.6'>
  <model name='cube'>
    <link name='baseLink'>
      <pose frame=''>0 0 0 0 -0 0</pose>
      <inertial>
        <pose frame=''>0 0 0 0 -0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>1</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1</iyy>
          <iyz>0</iyz>
          <izz>1</izz>
        </inertia>
      </inertial>
      <collision name='baseLink_collision'>
        <pose frame=''>0 0 0 0 -0 0</pose>
        <geometry>
          <box>
            <size>1 1 1</size>
          </box>
        </geometry>
      </collision>
      <visual name='baseLink_visual'>
        <pose frame=''>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://simple_box/simple_box.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
  </model>
</sdf>
```

It seems part of the solution is that the models don't need to define the `world`, they can simply be a `model` like the files above. An additional requirement for gazebo is the `model.config` file, which specifies the name of the object and the path to the sdf file. Gazebo also requires model file (like collada).

### Simulations aka World

The `world` definition is what has all those extra requirements such as specifying gravity, light sources, simulation refresh rate, etc. You may want to support simulation definitions, but it should likely not be used for simple model definitions.

Here is everything needed for a basic simulation world definition but note that there seems to be a [small bug in the saved vs loaded dimensions as specified in gazebo 8.1.1](https://bitbucket.org/osrf/gazebo/issues/2292/world-does-not-save-and-load-consistently).

- [brick_box_world.zip](https://github.com/bulletphysics/bullet3/files/1053693/brick_box_world.zip) A world containing default settings and a brick box
- [brick_box_3x1x3.zip](https://github.com/bulletphysics/bullet3/files/1053694/brick_box_3x1x3.zip) the brick box model in the above world
",think made progress conversion loading gazebo exactly walk park need specific layout detail following gazebo command convert provide wrong print converted file command line bash overwrite original file example bash simple compressed convenience plus load gazebo except seem support load gazebo dark gray material definition option otherwise simple texture composed several simple mesh spec also important shelf made wood material script file name gazebo wo load next file unless model see working version model link pose inertial pose mass inertia collision pose geometry box size visual pose geometry mesh scale model part solution need define world simply model like additional requirement gazebo file name object path file gazebo also model file like aka world world definition extra gravity light simulation refresh rate may want support simulation likely used simple model everything basic simulation world definition note small bug saved loaded gazebo world default brick box brick box model world,issue,positive,positive,neutral,neutral,positive,positive
306350279,"Sure, I'll try that. Hopefully it won't be a rabbit hole of one small fix after another. My first steps and the [bitbucket issue](https://bitbucket.org/osrf/gazebo/issues/2289/how-to-convert-urdf-to-sdf-and-load-it) in the previous posts were in the hopes of an automated conversion to create the reference file.",sure try hopefully wo rabbit hole one small fix another first issue previous conversion create reference file,issue,positive,positive,neutral,neutral,positive,positive
306343754,"It is not buggy, it has been used for many years in many projects without issues. I agree btTriangleIndexVertexArray  can be hard to use (due to striding etc). There are some examples in the example browser using btTriangleIndexVertexArray, just check them out.

If you can recreate the issue by modifying one of the existing examples in the example browser, re-open a new issue.

I highly suggest trying out [pybullet ](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.2ye70wns7io3)(pip install pybullet) or using the new C/C++ API in bullet3\examples\RobotSimulator\b3RobotSimulatorClientAPI.*, it deals with the low-level error-prone issues.",buggy used many many without agree hard use due example browser check recreate issue one example browser new issue highly suggest trying install new,issue,negative,positive,positive,positive,positive,positive
306343422,"Thanks for the contribution! I have a few other things first, but I will look at it.",thanks contribution first look,issue,negative,positive,positive,positive,positive,positive
306343301,Since the pybullet design already supports multiple renderers (both on physics server side and on client side) and also multiple physics backends (through deriving from PhysicsCommandProcessorInterface and selecting through the connect method) this can be closed.,since design already multiple physic server side client side also multiple physic connect method closed,issue,negative,negative,neutral,neutral,negative,negative
306342553,"Please help and modify our sdf and or urdf, until it works with v-rep and
gazebo. We can consider some improvements to Bullet's Sdf/urdf/ dae parsers. It should be easy to add a gravity field manually, it is plain text/xml.

On Monday, 5 June 2017, Andrew Hundt <notifications@github.com> wrote:

> I'm sure complete compatibility is unlikely, but perhaps it is reasonable
> for a few basic robot model & simulation examples so people might have a
> chance of moving a subset of their data between tools. :-)
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1156#issuecomment-306341815>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3BI6XjjYplKsmCMceFufsFyMwOBdks5sBJOygaJpZM4Noxqd>
> .
>
",please help modify work gazebo consider bullet dae easy add gravity field manually plain june wrote sure complete compatibility unlikely perhaps reasonable basic robot model simulation people might chance moving subset data reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
306342173,"I merged it, but get crashes on Windows when increasing the simulation speed (first slider). Reverting it: https://github.com/bulletphysics/bullet3/pull/1171",get increasing simulation speed first slider,issue,negative,positive,positive,positive,positive,positive
306341815,"Perhaps complete compatibility is impractical even if the libraries like sdformat and opencollada were used. Though could it be reasonable for a few basic robot model, gripper, & simulation examples so people might have a chance of moving a subset of their data between tools? :-) ",perhaps complete compatibility impractical even like used though could reasonable basic robot model gripper simulation people might chance moving subset data,issue,positive,positive,positive,positive,positive,positive
306340930,"Thanks to @fferri, [he confirmed on the vrep forum](http://www.forum.coppeliarobotics.com/viewtopic.php?f=5&t=6712#p26754) that some SDF specs aren't being met in [kuka_with_gripper.sdf](https://github.com/bulletphysics/bullet3/blob/master/data/kuka_iiwa/kuka_with_gripper.sdf).

In particular at least one error is that the [world gravity tag isn't present as required](http://sdformat.org/spec?ver=1.6&elem=world#world_gravity).


",thanks confirmed forum spec met particular least one error world gravity tag present,issue,negative,positive,neutral,neutral,positive,positive
306296355,"Thanks, it help if I'm aware what the examples (try to) do :-) Do you have a link to your thesis?",thanks help aware try link thesis,issue,positive,positive,positive,positive,positive,positive
306062349,"Do you need it for debugging or is it for some documentation or similar? My thesis for my master´s degree did something similar and this was basically just a first version for the example browser. Next up would be some kind of body dimensions evolution together with the neural network weights.

From the top of my head, the following is the approach of this example:
The simulation implements a classic version of evolutionary algorithm[1], which evolves a controller for a fixed morphology using a population of 8 legged individuals. The individuals start with an randomly initialized controller and compete with each other to move away from the starting point as fast as possible. The controller of each individual, which is evolved for walking speed, is a simple one layer neural network that maps from leg ground contact to a certain body joint position. Its weights are evolved either by random weight reinitialization or by crossover of two successful specimen. The population is ranked by walking speed in order to keep the best performing individuals, mutating the less performant ones and cull some of the worst performing ones. The culled individuals are either replaced by new individuals with randomly initialized or crossover-produced controllers. Using this approach, the population as a whole learns to walk and approaches a good local optimum of a walking controller.

[1] https://en.wikipedia.org/wiki/Evolutionary_algorithm

Let me know if you need anything more specific or any more details.",need documentation similar thesis degree something similar basically first version example browser next would kind body evolution together neural network top head following approach example simulation classic version evolutionary algorithm controller fixed morphology population legged start randomly controller compete move away starting point fast possible controller individual walking speed simple one layer neural network leg ground contact certain body joint position either random weight crossover two successful specimen population ranked walking speed order keep best le performant cull worst either new randomly approach population whole walk good local optimum walking controller let know need anything specific,issue,positive,positive,positive,positive,positive,positive
306060180,"Thanks, I'll merge it soon after trying it out.

Could you provide some links/paper/thesis/description about the details of your approach?",thanks merge soon trying could provide approach,issue,negative,positive,positive,positive,positive,positive
306058654,"Reverted the changes from b3Clock, thanks for adding the reset method. Let us see if the CI passes.",thanks reset method let u see,issue,negative,positive,positive,positive,positive,positive
306015963,By the way #1168 also fixes the issue of btThreadsAreRunning being undefined. May cause a merge conflict.,way also issue undefined may cause merge conflict,issue,negative,neutral,neutral,neutral,neutral,neutral
305931047,"Fixed some minor compile issue when using premake:
https://github.com/bulletphysics/bullet3/pull/1166",fixed minor compile issue premake,issue,negative,positive,neutral,neutral,positive,positive
305929926,"It is ok to leave the improvement to ChromeTraceUtil.cpp in there. Somehow I cannot apply this patch locally, making it a bit harder to review. Let's apply it and I make adjustments later, if need. 
Thanks!",leave improvement somehow apply patch locally making bit harder review let apply make later need thanks,issue,positive,positive,neutral,neutral,positive,positive
305923745,"I'm thinking it would be best to fix the thread index problem with the example browser in another PR since it isn't directly related to this PR. The problem has been around for a long time, and I think fixing it will muddle up this PR.
I didn't really intend to include that change in ChromeTraceUtil.cpp in this PR. Do you think I should back out the change to ChromeTraceUtil.cpp?",thinking would best fix thread index problem example browser another since directly related problem around long time think fixing muddle really intend include change think back change,issue,negative,positive,positive,positive,positive,positive
305819312,If you remove the changes to b3Clock I can try it out and merge it. We can see why your sim is non-deterministic.,remove try merge see,issue,negative,neutral,neutral,neutral,neutral,neutral
305400735,"> addUserDebugText does exactly this

the Text kind of floats around in the demo so orientation is visually unknown, or perhaps it is fixed in the world frame? 

Sorry if this is mentioned redundantly, an `addUserDebugTransform` that has options which default to `None` for each of, xyz colored axes, a sphere (cube works too) with size and color, and text would be ideal. Here is the [V-REP version](http://www.coppeliarobotics.com/helpFiles/en/dummies.htm) called dummies:

![v-REP dummy object](http://www.coppeliarobotics.com/helpFiles/en/images/dummies2.jpg)

They're super useful!

> Is the problem that you cannot easily access the actual world space coordinates of that user debug item? It is pretty trivial using pybullet.multiplyTransforms.

Both world space coordinates, and the coordinates of any other object/link. I agree it is definitely very easy, but perhaps worth automating on the backend with a `relativeTo` option. That'd simplify user code and prevent user error. Always a win :-)

> We can look into bulk versions, and possibly add persistent debug items without the text, where you can query for its world space position/orientation.

That would be great! Actually for the bulk version having it work like other collective entities with a uniqueid and pointIndex might be a good way to do it so they can be collectively bulk deleted too.",exactly text kind around orientation visually unknown perhaps fixed world frame sorry redundantly default none colored ax sphere cube work size color text would ideal version dummy object super useful problem easily access actual world space user item pretty trivial world space agree definitely easy perhaps worth option simplify user code prevent user error always win look bulk possibly add persistent without text query world space would great actually bulk version work like collective might good way collectively bulk,issue,positive,positive,positive,positive,positive,positive
305380282,"Well, addUserDebugText does exactly this, it is a frame relative to any object/parent link, and it is 1 function call: pybullet.addUserDebugText(""optionalText"", [relativePos], [relativeOrn], parentObjectUniqueId=..., parentLinkIndex=...).

Is the problem that you cannot easily access the actual world space coordinates of that user debug item? It is pretty trivial using pybullet.multiplyTransforms.

We can look into bulk versions, and possibly add persistent debug items without the text, where you can query for its world space position/orientation.",well exactly frame relative link function call problem easily access actual world space user item pretty trivial look bulk possibly add persistent without text query world space,issue,positive,positive,positive,positive,positive,positive
305379869,"Sorry lost track of this issue, but I think doing what I need would take a lot more effort than it does in V-REP for example, ignoring the 1 vs 2 param id difference:

```
id = simCreateDummy()
parent = -1 # world 
simSetObjectPosition(id, world, [1,2,3])
simSetObjectQuaternion(id,world,[1,0,0,0])
```

It would be extremely convenient to both set and get a persistent debug pose relative to any other entity with position & orientation, with any parent. Defining the transform should really be a single function call, I don’t think drawline really covers this yet.

It would also be desirable to do this in bulk, and yes I have a specific use case in mind. :-)",sorry lost track issue think need would take lot effort example param id difference id parent world id world id world would extremely convenient set get persistent pose relative entity position orientation parent transform really single function call think really yet would also desirable bulk yes specific use case mind,issue,negative,negative,neutral,neutral,negative,negative
305353257,"Good, now we are going more into specifics. If you need to optimize for a specific case, like rendering many images and getting many transforms, we could find some solution once you have described your problem (preferably not just theoretically, I prefer to work with real users that use pybullet for real projects).

There is already a numpy optimized version of getCameraImage, that is much faster than the non-numpy version (the slow version copies individual pixel components in python lists, the fast version just maps the array of memory to a numpy friendly format). 

For ray tests, there is a batch API, to perform multiple ray intersection tests.

Ultimately there may be some use-case that requires faster interoper between pybullet and Tensorflow or numpy, and if we think it will be generally beneficial we'll figure out some faster solution, possibly using some Tensorflow OP extensions, but I cannot promise that right now.

On my wishlist is a GPU physics backend (using the Bullet OpenCL physics implementation), that will allow large scale or many small parallel simultaneous simulations on GPU. That may help our Minitaur quadruped robot locomotion research, and possibly various other projects.",good going need optimize specific case like rendering many getting many could find solution problem preferably theoretically prefer work real use real already version much faster version slow version individual python fast version array memory friendly format ray batch perform multiple ray intersection ultimately may faster think generally beneficial figure faster solution possibly promise right physic bullet physic implementation allow large scale many small parallel simultaneous may help quadruped robot locomotion research possibly various,issue,positive,positive,positive,positive,positive,positive
305351430,"> I intentionally use manual Python bindings, no interest in Cython, swig or other frameworks. I don't intend to grow the linear algebra parts much more, just a little bit :-)

Ah, I looked at Cython generated bindings and they didn't seem too bad, perhaps they are? The generated code looked like it used regular PyObject bindings, so it looked like Cython is only a dependency at install time.

> I guess what you are asking for is a conversion from the pos, rot from Bullet to numpy or Tensorflow or another linear math library? 

Essentially, yes, as I detail in https://github.com/bulletphysics/bullet3/issues/1163#issuecomment-305346913. Naive conversion is very easy but also very very slow. I'm planning to move lots of transforms and images around, hopefully many times a second so that will matter. :-)

> I'm not planning to write a large linear math library.

I agree that would definitely be time consuming! Will the python API to the featherstone implementation and for configuring the IK solvers / optimizers be similarly limited?

I'm advocating bindings to an existing one via a backend, as I detail in https://github.com/bulletphysics/bullet3/issues/1163#issuecomment-305346913, with something reasonable provided by default. That's to avoid complexity while still supporting the necessary tools with fast performance.

> Or are you saying that there are no good linear algebra packages available?

There are definitely great linear algebra packages available! My main concern is moving matrices through python lists and even numpy arrays will create an io bottleneck. :-)",intentionally use manual python interest swig intend grow linear algebra much little bit ah seem bad perhaps code like used regular like dependency install time guess conversion rot bullet another linear math library essentially yes detail naive conversion easy also slow move lot around hopefully many time second matter write large linear math library agree would definitely time consuming python implementation similarly limited one via detail something reasonable provided default avoid complexity still supporting necessary fast performance saying good linear algebra available definitely great linear algebra available main concern moving matrix python even create io bottleneck,issue,positive,positive,positive,positive,positive,positive
305350058,"From your posting you seem to think we consider large changes in the pybullet implementation, but I think pybullet is useful as-is and getting incrementally in a nicer shape based on feedback from users who are really using it.

I wouldn't expect large changes in the current API (we try to avoid breaking users scripts), and there will be no serious linear algebra functionality, aside from the few functions we have. It seems more constructive to discuss specific new features or bugs/issues in the current pybullet, rather than implying big changes in the current pybullet. If you are running into some real issues, please reproduce your issue in a pybullet reproduction case.

There is no need for json complexity needed to switch physics and/or renderer backend:

1) you connect to the physics backend through pybullet.connect(method=...).
2) the renderer can be selected through the getCameraImage(..., renderer=...)

Once we have a new physics engine backend, there will simply be one or more new method enums to choose from.

For the renderer, we have ER_TINY_RENDERER (CPU/software) and ER_BULLET_HARDWARE_OPENGL.
We have already some external renderer bridges, outside of pybullet, that would work well too, for Cycles etc.

Well, I tried to make pybullet user friendly: installation is as simple as pip install pybullet, and there are ZERO dependencies. Then, you simply use import pybullet as p, p.connect(p.GUI or p.DIRECT) and p.loadURDF(""...""), p.stepSimulation(...), p.getCameraImage(...) etc. If that is not user friendly, please be specific.

pybullet is all C++ under the hood, it cannot be directly extended in python.

Modularity: pybullet is intended to be used with other Python modules.

Work with Python: We plan on allowing programmatic creation of collision shapes and multi bodies. For now, using URDF, SDF and/or MJCF seems much simpler for most users. The 'changeDynamics, changeVisualShape APIs are a small hint towards programmatic modifying things.

Thanks for the feedback though :)",posting seem think consider large implementation think useful getting shape based feedback really would expect large current try avoid breaking serious linear algebra functionality aside constructive discus specific new current rather big current running real please reproduce issue reproduction case need complexity switch physic renderer connect physic renderer selected new physic engine simply one new method choose renderer already external renderer outside would work well well tried make user friendly installation simple pip install zero simply use import user friendly please specific hood directly extended python intended used python work python plan programmatic creation collision much simpler small hint towards programmatic thanks feedback though,issue,positive,positive,neutral,neutral,positive,positive
305346913,"Please allow me to retry my explanation in a much broader way I hope will be more clear. I was thinking about the philosophical design principles and the Keras design to support backends in a software engineering sense. In other words, I'm proposing we pretend Keras isn't an ML library for a moment, and focus on general API design concepts. :-) 

The guiding principles of Keras, as [François explains in the first minute of the youtube video](https://www.youtube.com/watch?v=UeheTiBJ0Io), are also [on the top of the main keras.io page](https://keras.io/). They could, in theory, be adapted to PyBullet and perhaps be meaningful guiding principles as follows:

- **User friendliness**. Pybullet is an API designed for human beings, not machines. It puts user experience front and center. PyBullet follows best practices for reducing cognitive load: it offers consistent & simple APIs, it minimizes the number of user actions required for common use cases, and it provides clear and actionable feedback upon user error.
- **Modularity**. A physics simulation model can be understood as either a sequence or a graph of standalone, fully-configurable modules that can be plugged together with as few restrictions as possible. In particular the renderer, linear algebra engine, physics engine, initialization schemes, Inverse Kinematics cost functions and optimizers are all standalone modules that you can combine to create new simulation models.
- **Easy extensibility**. New modules are simple to add (as new classes and functions), and existing modules provide ample examples. To be able to easily create new modules allows for total expressiveness, making PyBullet suitable for advanced physics simulation and research.
- **Work with Python**. No separate physics models, configuration files in a declarative format. Models are described in Python code, which is compact, easier to debug, and allows for ease of extensibility.

A new one would probably be needed for compatibility. :-)

> We can already have different backends for pybullet, replacing Bullet 2.x and TinyRenderer with a different physics engine (or Bullet 3.x) and different renderer. (replacing the PhysicsServerCommandProcessor). This would require some C++ code.

Cool perhaps those backends could be selected in the same manner as they are in Keras? 

Here is an example of [keras.json](https://keras.io/backend/#kerasjson-details) adapted to a hypothetical `bullet3.json`:

```json
{
    ""backend"": 
     {
        ""physics"": ""bullet3"",
        ""linear_algebra"": ""eigen3"",
        ""rendering"": ""tiny_renderer""
     }
}
```

Plus an adapted example determining which backend is in use:

```python
# options could be specified in bullet3.json
# or before bullet3 is imported

# math options could be 'bullet3', 'eigen3'
>>> pybullet.math.backend.backend()
'bullet3'

# render options could be 'tinyrenderer', 'blender_cycles'
>>> pybullet.rendering.backend.backend()
'tinyrenderer'

# additional physics options could be tbd
>>> pybullet.physics.backend.backend()
'bullet3'
```

> I think pybullet is separate from the machine learning frameworks (Tensorflow), there is no intention to create a dependency between pybullet and Tensorflow.

I definitely agree that this is the right way to go, what I'm trying to say is that with backends the implementations for physics, math (linear algebra), and rendering could be selected. 

An additional side note is that the default linear algebra backend of PyBullet could create a simple graph of math operations which, when run, does those calculations with the selected backend, should it be bullet3, eigen, or something else entirely in C++ for performance reasons. The Keras backend API (with ML specific calls removed) could provide inspiration for such a mechanism. ML backends could be created in theory, but this isn't necessary at all and should definitely not be a dependency.",please allow retry explanation much way hope clear thinking philosophical design design support engineering sense pretend library moment focus general design first minute video also top main page could theory perhaps meaningful user friendliness designed human user experience front center best reducing cognitive load consistent simple number user common use clear actionable feedback upon user error physic simulation model understood either sequence graph plugged together possible particular renderer linear algebra engine physic engine inverse kinematics cost combine create new simulation easy extensibility new simple add new class provide ample able easily create new total expressiveness making suitable advanced physic simulation research work python separate physic configuration declarative format python code compact easier ease extensibility new one would probably compatibility already different bullet different physic engine bullet different renderer would require code cool perhaps could selected manner example hypothetical physic bullet rendering plus example use python could bullet math could render could additional physic could think separate machine learning intention create dependency definitely agree right way go trying say physic math linear algebra rendering could selected additional side note default linear algebra could create simple graph math run selected bullet something else entirely performance specific removed could provide inspiration mechanism could theory necessary definitely dependency,issue,positive,positive,positive,positive,positive,positive
305327444,"I intentionally use manual Python bindings, no interest in Cython, swig or other frameworks. I don't intend to grow the linear algebra parts much more, just a little bit :-)

I guess what you are asking for is a conversion from the pos,rot from Bullet to numpy or Tensorflow or another linear math library? I'm not planning to write a large linear math library.

Or are you saying that there are no good linear algebra packages available?",intentionally use manual python interest swig intend grow linear algebra much little bit guess conversion rot bullet another linear math library write large linear math library saying good linear algebra available,issue,positive,positive,positive,positive,positive,positive
305326353,"We can already allow for different backends for pybullet, replacing Bullet 2.x and TinyRenderer with a different physics engine (or Bullet 3.x GPU etc) and different renderer. (replacing the PhysicsServerCommandProcessor). The idea is to connect to a different backend, for example pybullet.connect(pybullet.SHINY_GPU_BACKEND, options=""...""). Details will follow, once we have an actual implementation of a second backend.

I think pybullet is separate from the machine learning frameworks (Tensorflow), there is no intention to create a dependency between pybullet and Tensorflow/Keras, unless we perform machine-learned physics simulation (perhaps Bullet 4.x).

I suggest using numpy and/or Tensorflow for generic linear algebra computation.",already allow different bullet different physic engine bullet different renderer idea connect different example follow actual implementation second think separate machine learning intention create dependency unless perform physic simulation perhaps bullet suggest generic linear algebra computation,issue,negative,neutral,neutral,neutral,neutral,neutral
305322287,"**tl;dr**

Suggests a simplified multiplyTransform API, and [Cython](cython.org) to reduce complexity and improve the ease of use, also see #1163.

**Simplified multiplyTransform API**

#1158, which [goes to and from two arrays](https://github.com/bulletphysics/bullet3/pull/1158/files#diff-25c9b5bbc7f119ebe748c74a68ade10cR3184), seems to be more complex and higher overhead than needed. Here is another design concept that might fit this use case:

```python
import pbyullet as p
import numpy as np

# Transform can contain a translation + quaternion pair
t1 = p.Transform(p.RotZ(np.pi)*p.RotX(-np.pi/2.), p.Vector3(0.5, -0.3, 0.))

# handle objects
objectHandle = p.Handle(uniqueId=5, jointIndex=3)
relativeToObjectHandle = p.Handle(uniqueId=3, jointIndex=None)

# transform object
t2 = p.Transform(objectHandle, relativeToObjectHandle)

# simpler multiply operation
t3 = t1*t2
```

**Minimizing both Dependencies and Custom Code**

It seems the simple multiply operation in #1158 needed a [ton of custom PyObject interface code](https://github.com/bulletphysics/bullet3/pull/1158/files#diff-9190d83a6608c2072d75f4091c104b26R5672), which might become painful to maintain as it grows. [Cython](cython.org) was [developed in part at Google](https://research.google.com/pubs/pub36727.html) and may be another good way to generate the APIs and automate, reduce, or eliminate much of the PyObject C++ code. #1163 may be another approach to this issue.
",simplified reduce complexity improve ease use also see simplified go two complex higher overhead another design concept might fit use case python import import transform contain translation quaternion pair handle transform object simpler multiply operation custom code simple multiply operation ton custom interface code might become painful maintain part may another good way generate reduce eliminate much code may another approach issue,issue,positive,positive,neutral,neutral,positive,positive
305053241,"Having a perfect URDF+SDF+COLLADA+STL+image format inter-compatibility takes a huge effort, and there are likely higher priority issues for all of the simulator-creators (Gazebo, V-Rep, pybullet, Matlab etc).

This lack of compatibility already happened with just COLLADA .dae due to its over complexity: Blender, Max, Maya, Unity (etc) all support different subsets of features, and a proprietary standard became more popular (FBX). I think URDF and SDF would have been better with Wavefront .obj support (and STL) instead of COLLADA.

Still, it would be nice to have a couple of simple reference URDF and SDF files, including DAE triangle meshes and texture images, and push the creators to fix compatibility :)",perfect format huge effort likely higher priority gazebo lack compatibility already due complexity blender maya unity support different proprietary standard popular think would better support instead still would nice couple simple reference dae triangle texture push fix compatibility,issue,positive,positive,positive,positive,positive,positive
305044842,"In V-REP the model loaded but the texture did not, they also [mentioned that their importers are substantially in need of improvement](http://www.forum.coppeliarobotics.com/viewtopic.php?f=5&t=6712#p26696).

Gazebo seems to need all urdf files to be converted to SDF, and the documentation appears out of date so I created the following issue on their repo to figure it out.
https://bitbucket.org/osrf/gazebo/issues/2289/how-to-convert-urdf-to-sdf-and-load-it

Apparently all the simulators could use some touch ups to their model loading haha. :-)",model loaded texture also substantially need improvement gazebo need converted documentation date following issue figure apparently could use touch model loading,issue,positive,positive,neutral,neutral,positive,positive
305033633,"The main incompatibility is due to graphics assets: Bullet only support triangle meshes in COLLADA dae files and mainly uses Wavefront .obj. V-Rep and Gazebo don't support Wavefront .obj? So if you really want a common sub-set, you will have to stick to COLLADA triangulated meshes. The matlab file (double_pendulum.urdf"") loads just fine. Matlab[ doesn't support COLLADA, not collision meshes](https://www.mathworks.com/help/physmod/sm/ug/urdf-import.html#bvmu4so-1).

Bullet can load the attached URDF + COLLADA .dae. Can V-Rep and Gazebo load it too (aside from lacking texture)?
[simple_box.zip](https://github.com/bulletphysics/bullet3/files/1039883/simple_box.zip)

Once that works, we can look into adding a COLLADA dae texture support in pybullet, preferably in the same directory as the urdf and dae file.

By the way, I don't think the issue is about URDF or SDF parsing, but mainly about graphics assets import and mapping the parsed URDF/SDF data structures to the appropriate Bullet classes. None of those issues will be fixed by moving to the SDFormat library.",main incompatibility due graphic asset bullet support triangle dae mainly gazebo support really want common stick file fine support collision bullet load attached gazebo load aside texture work look dae texture support preferably directory dae file way think issue mainly graphic asset import data appropriate bullet class none fixed moving library,issue,positive,positive,positive,positive,positive,positive
305022970,"I bet the easiest way to create a model would be to make it in gazebo, the brick box might fit the bill, I'm not sure if the the collada file includes the texture but it is in the default gazebo 8.1 install:

![image](https://cloud.githubusercontent.com/assets/55744/26606009/3b2f20fc-455e-11e7-8b93-f1183f13b90f.png)

Link is at [simple_box.dae](http://models.gazebosim.org/brick_box_3x1x3/meshes/simple_box.dae) and it seems more models are at http://models.gazebosim.org/.

SDF file exported by gazebo 8.1:

```
<sdf version='1.6'>
  <world name='default'>
    <light name='sun' type='directional'>
      <cast_shadows>1</cast_shadows>
      <pose frame=''>0 0 10 0 -0 0</pose>
      <diffuse>0.8 0.8 0.8 1</diffuse>
      <specular>0.2 0.2 0.2 1</specular>
      <attenuation>
        <range>1000</range>
        <constant>0.9</constant>
        <linear>0.01</linear>
        <quadratic>0.001</quadratic>
      </attenuation>
      <direction>-0.5 0.1 -0.9</direction>
    </light>
    <model name='ground_plane'>
      <static>1</static>
      <link name='link'>
        <collision name='collision'>
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>100 100</size>
            </plane>
          </geometry>
          <surface>
            <contact>
              <collide_bitmask>65535</collide_bitmask>
              <ode/>
            </contact>
            <friction>
              <ode>
                <mu>100</mu>
                <mu2>50</mu2>
              </ode>
              <torsional>
                <ode/>
              </torsional>
            </friction>
            <bounce/>
          </surface>
          <max_contacts>10</max_contacts>
        </collision>
        <visual name='visual'>
          <cast_shadows>0</cast_shadows>
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>100 100</size>
            </plane>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
          </material>
        </visual>
        <self_collide>0</self_collide>
        <enable_wind>0</enable_wind>
        <kinematic>0</kinematic>
      </link>
    </model>
    <gravity>0 0 -9.8</gravity>
    <magnetic_field>6e-06 2.3e-05 -4.2e-05</magnetic_field>
    <atmosphere type='adiabatic'/>
    <physics name='default_physics' default='0' type='ode'>
      <max_step_size>0.001</max_step_size>
      <real_time_factor>1</real_time_factor>
      <real_time_update_rate>1000</real_time_update_rate>
    </physics>
    <scene>
      <ambient>0.4 0.4 0.4 1</ambient>
      <background>0.7 0.7 0.7 1</background>
      <shadows>1</shadows>
    </scene>
    <audio>
      <device>default</device>
    </audio>
    <wind/>
    <spherical_coordinates>
      <surface_model>EARTH_WGS84</surface_model>
      <latitude_deg>0</latitude_deg>
      <longitude_deg>0</longitude_deg>
      <elevation>0</elevation>
      <heading_deg>0</heading_deg>
    </spherical_coordinates>
    <model name='brick_box_3x1x3'>
      <static>1</static>
      <link name='chassis'>
        <pose frame=''>0 0 1.5 0 -0 0</pose>
        <collision name='collision'>
          <geometry>
            <box>
              <size>3 1 3</size>
            </box>
          </geometry>
          <max_contacts>10</max_contacts>
          <surface>
            <contact>
              <ode/>
            </contact>
            <bounce/>
            <friction>
              <torsional>
                <ode/>
              </torsional>
              <ode/>
            </friction>
          </surface>
        </collision>
        <visual name='visual'>
          <geometry>
            <mesh>
              <uri>model://brick_box_3x1x3/meshes/simple_box.dae</uri>
              <scale>1 1 1</scale>
            </mesh>
          </geometry>
          <material>
            <script>
              <uri>model://brick_box_3x1x3/materials/scripts</uri>
              <uri>model://brick_box_3x1x3/materials/textures</uri>
              <name>BrickBox/Diffuse</name>
            </script>
          </material>
        </visual>
        <self_collide>0</self_collide>
        <enable_wind>0</enable_wind>
        <kinematic>0</kinematic>
      </link>
      <pose frame=''>1.28597 -1.38553 0 0 -0 0</pose>
    </model>
    <state world_name='default'>
      <sim_time>180 174000000</sim_time>
      <real_time>182 158185000</real_time>
      <wall_time>1496179943 945134000</wall_time>
      <iterations>180174</iterations>
      <model name='brick_box_3x1x3'>
        <pose frame=''>1.28597 -1.38553 0 0 -0 0</pose>
        <scale>1 1 1</scale>
        <link name='chassis'>
          <pose frame=''>1.28597 -1.38553 1.5 0 -0 0</pose>
          <velocity>0 0 0 0 -0 0</velocity>
          <acceleration>0 0 0 0 -0 0</acceleration>
          <wrench>0 0 0 0 -0 0</wrench>
        </link>
      </model>
      <model name='ground_plane'>
        <pose frame=''>0 0 0 0 -0 0</pose>
        <scale>1 1 1</scale>
        <link name='link'>
          <pose frame=''>0 0 0 0 -0 0</pose>
          <velocity>0 0 0 0 -0 0</velocity>
          <acceleration>0 0 0 0 -0 0</acceleration>
          <wrench>0 0 0 0 -0 0</wrench>
        </link>
      </model>
      <light name='sun'>
        <pose frame=''>0 0 10 0 -0 0</pose>
      </light>
    </state>
    <gui fullscreen='0'>
      <camera name='user_camera'>
        <pose frame=''>13.4614 -11.9129 4.3509 0 0.275643 2.35619</pose>
        <view_controller>orbit</view_controller>
        <projection_type>perspective</projection_type>
      </camera>
    </gui>
  </world>
</sdf>

```


It also seems [matlab has a simple urdf example](https://www.mathworks.com/help/physmod/sm/ug/urdf-model-import.html), though I don't think it has a texture, and they claim [solidworks now supports urdf export](https://www.mathworks.com/help/physmod/sm/ug/urdf-model-import.html#bvmylh6-1):


>Obtaining URDF Models to Import
You can, but generally do not have to, manually create your own URDF files. For more complex models, it can be preferable to obtain URDF files from other sources. Robotics manufacturers and consultants often provide URDF models for their robotic systems. CAD applications such as SolidWorks® and PTC® Creo™ support URDF exporters that convert your CAD assemblies into URDF models. Consider these options when working with complex robotics models that may not be simple to create manually.


As an aside I wanted to mention the [SDFormat library](sdformat.org) ([bitbucket hg repo](https://bitbucket.org/osrf/sdformat) and [4.0 api](http://osrf-distributions.s3.amazonaws.com/sdformat/api/4.0.0/hierarchy.html)). It looks like it uses tinyxml as the only dependency I could find, which I think bullet uses too. It has a built in urdf parser and is licensed under Apache v2. 

xacro itself also looks like a super tiny python library https://github.com/ros/xacro",bet easiest way create model would make gazebo brick box might fit bill sure file texture default gazebo install image link file gazebo world light pose diffuse specular attenuation range constant linear quadratic direction model static link collision geometry plane normal size surface contact friction ode mu mu torsional visual geometry plane normal size material script file name kinematic gravity atmosphere physic scene ambient background audio device default elevation model static link pose collision geometry box size surface contact friction torsional visual geometry mesh model scale material script model model name kinematic pose state model pose scale link pose velocity acceleration wrench model pose scale link pose velocity acceleration wrench light pose camera pose orbit perspective also simple example though think texture claim export import generally manually create complex preferable obtain often provide cad registered registered support convert cad consider working complex may simple create manually aside mention library like dependency could find think bullet built parser licensed apache also like super tiny python library,issue,positive,positive,positive,positive,positive,positive
305013668,"Well, I'm hoping to start with a simple textured cube, that loads fine in Gazebo and V-REP, preferably using a textured triangle meshes (no complex COLLADA non-triangulated polyhedra). After that works, we can look into your more complex UR5 robot.",well start simple cube fine gazebo preferably triangle complex work look complex ur robot,issue,negative,negative,neutral,neutral,negative,negative
305012274,Note that we do use xacro as well but only to compile -- you can copy the final URDF and start modifying that. I have noticed problems importing urdfs into Bullet as well and would like to see this resolved.,note use well compile copy final start bullet well would like see resolved,issue,positive,neutral,neutral,neutral,neutral,neutral
305011757,"That urdf works in gazebo perfectly well, although it now looks pretty ugly because i converted the DAEs to OBJs imperfectly. There is some issue with use of `package://` and wavefront mtl textures that i have not yet resolved.",work gazebo perfectly well although pretty ugly converted imperfectly issue use package yet resolved,issue,positive,positive,positive,positive,positive,positive
305009360,"I think our ur5 model mentioned in https://github.com/bulletphysics/bullet3/issues/1109 might meet the requirements, but it is with `package://`. I think the files could just be copied to a local spot and updated. @cpaxton do you think that might work or perhaps know of another example?",think ur model might meet package think could copied local spot think might work perhaps know another example,issue,negative,neutral,neutral,neutral,neutral,neutral
304998642,"Correct. Please see the Example Browser, there is an example called 6DofSpring2 using btGeneric6DofSpring2Constraint.",correct please see example browser example,issue,negative,neutral,neutral,neutral,neutral,neutral
304993868,I believe you could achieve that using a `btGeneric6DofSpringConstraint` instead.,believe could achieve instead,issue,negative,neutral,neutral,neutral,neutral,neutral
304972460,"Do you have any very small example URDF file (with assets such as texture and/or COLLADA dae file etc) of a textured cube (with visual cube and collision cube) that loads in V-REP and Gazebo? Preferably no xacro and also no use of package:// If that is not possible, allow the use of 'package://' to refer to assets.",small example file asset texture dae file cube visual cube collision cube gazebo preferably also use package possible allow use refer asset,issue,positive,negative,neutral,neutral,negative,negative
304959744,"Another small step: pybullet.multiplyTransforms and pybullet.invertTransform: https://github.com/bulletphysics/bullet3/pull/1158

Given a local transform (childLocalPos, childLocalOrn) and parent transform (parentWorldPos, parentWorldOrn), you can compute the child world transform using childWorldPos, childWorldOrn = pybullet.multiplyTransform(parentPos, parentOrn, childLocalPos, childLocalOrn)
",another small step given local transform parent transform compute child world transform,issue,negative,negative,negative,negative,negative,negative
304946321,"In the example browser with one of the multithreaded demos, if you select
certain task schedulers (TBB for one) and then play with the ""thread count""
slider it ends up creating and destroying many threads. And this can cause
the thread index to exceed 64 even though only a small number of threads
are being used.
I think it can be fixed by having the example browser reset the thread
indices when switching schedulers or adjusting the thread count.

On Tue, May 30, 2017 at 9:16 AM erwincoumans <notifications@github.com>
wrote:

> *@erwincoumans* commented on this pull request.
> ------------------------------
>
> In examples/Utils/ChromeTraceUtil.cpp
> <https://github.com/bulletphysics/bullet3/pull/1144#discussion_r119146389>
> :
>
> > @@ -184,7 +184,7 @@ void MyEnterProfileZoneFunc(const char* msg)
>  		return;
>  #ifndef BT_NO_PROFILE
>  	int threadId = btQuickprofGetCurrentThreadIndex2();
> -	if (threadId<0)
> +	if (threadId<0 || threadId >= BT_QUICKPROF_MAX_THREAD_COUNT)
>
> Did you run it on a CPU with >64 threads? Or does the thread index grow
> over 64 for other reasons?
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1144#pullrequestreview-40999910>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AGs0Ydb6ttIRi6L1UYl0kHkNy_m5lu-3ks5r_ED6gaJpZM4NjX-A>
> .
>
",example browser one multithreaded demo select certain task one play thread count slider many cause thread index exceed even though small number used think fixed example browser reset thread index switching thread count tue may wrote pull request void char return run thread index grow thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
304870599,"For now, there are no other trained networks. But soon there are more
examples to come like it.

On Tue, May 30, 2017 at 2:18 PM Szabolcs Dombi <notifications@github.com>
wrote:

> Is the data after line 200 trained somewhere else in the examples?
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1159#issuecomment-304860407>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qxU4N8qBoCay_c1tao9AQUkJaOe_ks5r_AkagaJpZM4NqMJj>
> .
>
",trained soon come like tue may wrote data line trained somewhere else reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
304860407,Is the data after line 200 trained somewhere else in the examples?,data line trained somewhere else,issue,negative,neutral,neutral,neutral,neutral,neutral
304859735,gravity 0.5->1.2 seems to work fine (multiplier),gravity work fine multiplier,issue,negative,positive,positive,positive,positive,positive
304859561,"The trained neural network seems to have learned a policy which only makes
sense when in contact with ground and with -9.81 as the gravity. Probably
the additional gravity you add pulls the humanoid to ground, which it tries
to compensate with more force to lift up again, so it overshoots since it
is not trained for this and jumps, thus starts flying into the air. And
when above ground, since it was not trained for that either, it performs
pretty random movements, which are too high to be simulated properly. One
could train the humanoid with varying gravity to improve the situation.
I am currently working on making training available for such models. Then
you can improve the network by yourself.

On Tue, May 30, 2017 at 1:56 PM Szabolcs Dombi <notifications@github.com>
wrote:

> Running the example:
>
> [image: tfexamplebullet]
> <https://cloud.githubusercontent.com/assets/11232402/26581676/0d44778e-453e-11e7-9c75-43ff344073b2.gif>
>
> Setting gravity:
>
> p.setGravity(0,0,-9.8 * 1.5)
>
> [image: pybullettensorflow_gravity_x1_5]
> <https://cloud.githubusercontent.com/assets/11232402/26581708/3376e388-453e-11e7-860a-d7eab363fef8.gif>
>
> This happens with 50% chance
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1159>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q6D-Ak6FtsWcktWb-c1Uap4OFzLeks5r_APZgaJpZM4NqMJj>
> .
>
",trained neural network learned policy sense contact ground gravity probably additional gravity add humanoid ground compensate force lift since trained thus flying air ground since trained either pretty random high properly one could train humanoid gravity improve situation currently working making training available improve network tue may wrote running example image setting gravity image chance thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
304805675,"@erwincoumans So I've got a task scheduler implemented on the ThreadSupportInterface working pretty well now (only tested on Windows though). However, I've noticed a few issues with the ThreadSupport implementations:

- The win32 version was setting the thread affinity mask of all threads to 2. This resulted in terrible performance as all the threads were trying to run on the same processor. I've commented that out for now, and the performance improved greatly.
- Why is the setNumTasks() function there? It does nothing in the Posix version and almost nothing on the win32 side
- The win32 version uses WaitForMultipleObjects in a number of places which is limited to 64 objects. So it will break if it tries to use more than 64 threads -- and there are CPUs now with more hardware threads than that
- I find the naming of getNumTasks() confusing. Seems like it should be called getNumThreads()

It just seems like the interface could be cleaned up a bit. However I don't want to expand the scope of this PR too much, so I'm leaving the interface alone.

For now I've added the task scheduler source (btTaskScheduler.h/cpp) in the same directory as the thread support files (examples/Multithreading)
",got task working pretty well tested though however win version setting thread affinity mask terrible performance trying run processor performance greatly function nothing version almost nothing win side win version number limited break use hardware find naming like like interface could bit however want expand scope much leaving interface alone added task source directory thread support,issue,positive,positive,positive,positive,positive,positive
304736500,"I updated the application to also remove the graphics instances. Additionally I implemented the full reset of the simulation after every generation. It deletes all creatures and the whole dynamics world, however, the simulation is still non-deterministic. I have no idea what is wrong.",application also remove graphic additionally full reset simulation every generation whole dynamic world however simulation still idea wrong,issue,negative,positive,neutral,neutral,positive,positive
304722034,"It is not broken but by design: DIRECT mode implies no GUI and no OpenGL, so you can obviously not use OpenGL to render images. Use ER_TINY_RENDERER with getCameraImage  instead. pybullet doesn't have verbose error messages indeed. I added a note in the pybullet quickstart guide under 'getCameraImage' optional renderer input parameters.",broken design direct mode obviously use render use instead verbose error indeed added note guide optional renderer input,issue,negative,negative,negative,negative,negative,negative
304549291,"No, it is intentional to use normalAxis(0,0,0) for the linear component: the torsional (spinning/rolling) friction works fine, and shouldn't have any linear effect. The angular axis (ftorqueAxis) is using normalAxis1.
Thanks for your feedback though, it could have been a bug.",intentional use linear component torsional friction work fine linear effect angular axis thanks feedback though could bug,issue,positive,positive,positive,positive,positive,positive
304549139,"I fixed the data folder, and also remove many unused imports, see this [commit ](https://github.com/bulletphysics/bullet3/pull/1155/commits/5436b8f048887b8f2c86059442a1041d076ded4b)in pull request https://github.com/bulletphysics/bullet3/pull/1155.",fixed data folder also remove many unused see commit pull request,issue,negative,positive,positive,positive,positive,positive
304549050,"Those KUKA models don't use .OBJ, so that's not the problem. You may want to experiment with importing a really small and simple working URDF/SDF in both Gazebo and V-REP first. Then modify the working URDF/SDF step-by-step to the Bullet KUKA URDF/SDF until you track down where things fail in V-REP and Gazebo.",use problem may want experiment really small simple working gazebo first modify working bullet track fail gazebo,issue,negative,negative,negative,negative,negative,negative
304548611,"Okay, I was now able to get the data log to run, I just had to symlink the `bullet3/data` folder into `bullet3/examples/pybullet/examples` to resolve this error:

```
± python kuka_grasp_block_playback.py
pybullet build time: May 28 2017 13:19:59
Vendor: NVIDIA Corporation
Renderer: NVIDIA GeForce GT 750M OpenGL Engine
Version: 4.1 NVIDIA-10.10.14 310.42.25f02
GLSL: 4.10
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0
MotionThreadFunc thread started
Traceback (most recent call last):
  File ""kuka_grasp_block_playback.py"", line 58, in <module>
    log = readLogFile(""data/block_grasp_log.bin"")
  File ""kuka_grasp_block_playback.py"", line 14, in readLogFile
    f = open(filename, 'rb')
IOError: [Errno 2] No such file or directory: 'data/block_grasp_log.bin'
numActiveThreads = 0
stopping threads
stopThreads: Thread 0 used: 1
destroy semaphore
semaphore destroyed
Thread with taskId 0 exiting
Thread TERMINATED
destroy main semaphore
```

If that should run by default could update the path in the python file, beyond that this issue can be closed. Thanks!",able get data log run folder resolve error python build time may vendor corporation renderer engine version selected physic server starting thread thread thread recent call last file line module log file line open file directory stopping thread used destroy semaphore semaphore thread thread destroy main semaphore run default could update path python file beyond issue closed thanks,issue,negative,positive,neutral,neutral,positive,positive
304548032,"I know this is borderline out of scope, so I can close this if that's the case. 

### gazebo

Those warnings were for gazebo and while there were only warnings, no objects or models were visible in the scene. I guess this could be due to the obj format as you mentioned?

this gazebo command: 

```
○ /usr/local/Cellar/gazebo8/8.1.0/bin/gazebo /Users/athundt/source/bullet3/data/kuka_iiwa/kuka_world.sdf
2017-05-28 19:38:30.412 gzclient[43382:738631] Layout still needs update after calling -[QNSPanelContentsWrapper layout].  QNSPanelContentsWrapper or one of its superclasses may have overridden -layout without calling super. Or, something may have dirtied layout in the middle of updating it.  Both are programming errors in Cocoa Autolayout.  The former is pretty likely to arise if some pre-Cocoa Autolayout class had a method called layout, but it should be fixed.
```
Produced this scene with no objects:

<img width=""1552"" alt=""gazebo"" src=""https://cloud.githubusercontent.com/assets/55744/26532953/b3cff180-43dd-11e7-9260-d5f400519d00.png"">


### v-rep

Sorry my post was a bit confusing regarding V-REP, the V-REP errors are at the [v-rep forum post link](http://www.forum.coppeliarobotics.com/viewtopic.php?f=5&t=6712), which I've now reproduced here:

I tried to load the urdf and sdf files provided for bullet3 example data:
https://github.com/bulletphysics/bullet3/tree/master/data/kuka_iiwa

When I try to load kuka_with_gripper.sdf I get the following error:
```
<sdf>: <world>: sub element gravity not found
```


In model.urdf vrep seems to choke on the relative paths to the meshes:
```
URDF import operation started.
There are 7 joints.
ERROR: there is no joint with name ''
There are 8 links.
Creating link 'lbr_iiwa_link_0'...
ERROR: neither mesh file 'meshes/link_0.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_0.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_0.stl' nor '' do exist.
ERROR: failed to create the mesh 'meshes/link_0.stl' or '' with extension type 4
ERROR: there is no joint with name ''
Creating link 'lbr_iiwa_link_1'...
ERROR: neither mesh file 'meshes/link_1.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_1.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_1.stl' nor '' do exist.
ERROR: failed to create the mesh 'meshes/link_1.stl' or '' with extension type 4
Creating link 'lbr_iiwa_link_2'...
ERROR: neither mesh file 'meshes/link_2.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_2.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_2.stl' nor '' do exist.
ERROR: failed to create the mesh 'meshes/link_2.stl' or '' with extension type 4
Creating link 'lbr_iiwa_link_3'...
ERROR: neither mesh file 'meshes/link_3.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_3.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_3.stl' nor '' do exist.
ERROR: failed to create the mesh 'meshes/link_3.stl' or '' with extension type 4
Creating link 'lbr_iiwa_link_4'...
ERROR: neither mesh file 'meshes/link_4.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_4.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_4.stl' nor '' do exist.
ERROR: failed to create the mesh 'meshes/link_4.stl' or '' with extension type 4
Creating link 'lbr_iiwa_link_5'...
ERROR: neither mesh file 'meshes/link_5.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_5.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_5.stl' nor '' do exist.
ERROR: failed to create the mesh 'meshes/link_5.stl' or '' with extension type 4
Creating link 'lbr_iiwa_link_6'...
ERROR: neither mesh file 'meshes/link_6.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_6.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_6.stl' nor '' do exist.
ERROR: failed to create the mesh 'meshes/link_6.stl' or '' with extension type 4
Creating link 'lbr_iiwa_link_7'...
ERROR: neither mesh file 'meshes/link_7.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_7.stl' nor '' do exist.
ERROR: neither mesh file 'meshes/link_7.stl' nor '' do exist.
ERROR: failed to create the mesh 'meshes/link_7.stl' or '' with extension type 4
There are 0 sensors.
URDF import operation finished.


```

According to the SDF definition, gravity is optional:
http://sdformat.org/spec?ver=1.6&elem=link#link_gravity

Also, I tried putting the stl mesh files in the exact same folder as the urdf (rather than in the meshes folder) on the assumption that there was a  and the files were still not found.

In case this is the fault of the models themselves, I created a corresponding issue in the bullet3 github repo:

https://github.com/bulletphysics/bullet3/issues/1156",know borderline scope close case gazebo gazebo visible scene guess could due format gazebo command layout still need update calling layout one may without calling super something may layout middle cocoa former pretty likely arise class method layout fixed produced scene gazebo sorry post bit regarding forum post link tried load provided bullet example data try load get following error world sub element gravity found choke relative import operation error joint name link link error neither mesh file exist error neither mesh file exist error neither mesh file exist error create mesh extension type error joint name link error neither mesh file exist error neither mesh file exist error neither mesh file exist error create mesh extension type link error neither mesh file exist error neither mesh file exist error neither mesh file exist error create mesh extension type link error neither mesh file exist error neither mesh file exist error neither mesh file exist error create mesh extension type link error neither mesh file exist error neither mesh file exist error neither mesh file exist error create mesh extension type link error neither mesh file exist error neither mesh file exist error neither mesh file exist error create mesh extension type link error neither mesh file exist error neither mesh file exist error neither mesh file exist error create mesh extension type link error neither mesh file exist error neither mesh file exist error neither mesh file exist error create mesh extension type import operation finished according definition gravity optional also tried mesh exact folder rather folder assumption still found case fault corresponding issue bullet,issue,negative,positive,neutral,neutral,positive,positive
304545116,"In V-Rep, that is just a warning for a custom element we added (contact), that should just be ignored. What are the actual errors in the URDF file? In gazebo, it seems some unrelated error about its layout.
If you find the actual issues, we can look into fixing the URDF.

In addition, in some files we use the wavefront .obj files, which is non-standard. You can convert it to COLLADA .dae files or .STL. For the kuka_with_gripper.sdf, there are just STL files, so that should be OK.",warning custom element added contact actual file gazebo unrelated error layout find actual look fixing addition use convert,issue,negative,neutral,neutral,neutral,neutral,neutral
304545032,"We haven't created an example to generate data, but that should be pretty easy.
Basically, you need to create/load the same initial objects from URDF/SDF, then start the generic logging of all object: p.startStateLogging(p.STATE_LOGGING_GENERIC_ROBOT, ""logFile.bin""). See the pybullet quickstart guide in 'startStateLogging'. Then at each 'stepSimulation' the records will be automatically added to the logfile.",example generate data pretty easy basically need initial start generic logging object see guide automatically added,issue,positive,positive,positive,positive,positive,positive
304377441,"It probably makes most sense to control only the angular velocity, and leave the friction transfer that to linear velocity etc. Since we don't have this constraint, you may want to use applyTorque instead. Then, you need to use 'setRealTimeSimulation(0), and apply this torque before each call to stepSimulation. When I have some time, I may create some example using 'createConstraint', it may require some additions in the pybullet bindings.",probably sense control angular velocity leave friction transfer linear velocity since constraint may want use instead need use apply torque call time may create example may require,issue,negative,neutral,neutral,neutral,neutral,neutral
304377406,"OK I'll see what I can do.

One thing I'm wondering is where to put all the *ThreadSupport source files. LinearMath?

And I suppose I'll also have to change the ""b3"" prefixes back to ""bt"" etc.",see one thing wondering put source suppose also change back,issue,negative,neutral,neutral,neutral,neutral,neutral
304347917,"I'm trying to create a simple maze-like RL environment and was going to start with a spherical agent for simplicity. I'd like to be able to control the linear velocity of the sphere with respect to the world frame. 
So it should work work to use a motor constraint between the sphere and a fixed point on a plane, right? Thanks for your help.",trying create simple environment going start spherical agent simplicity like able control linear velocity sphere respect world frame work work use motor constraint sphere fixed point plane right thanks help,issue,positive,positive,positive,positive,positive,positive
304308146,"Can you explain what you try to achieve? If you want to control the linear and/or angular velocity of the sphere, with respect to a fixed world frame, we could introduce some kind of special motor constraint. (that you can create using pybullet.addConstraint(...).",explain try achieve want control linear angular velocity sphere respect fixed world frame could introduce kind special motor constraint create,issue,positive,positive,positive,positive,positive,positive
304109345,"crash fixed here:: https://github.com/bulletphysics/bullet3/pull/1149
it will create a fixed joint instead of crashing. Bullet/pybullet will automatically create a floating base, unless the object has zero mass (fixed) or attached to the world using a prismatic or revolute joint.",crash fixed create fixed joint instead automatically create floating base unless object zero mass fixed attached world prismatic revolute joint,issue,negative,negative,negative,negative,negative,negative
304097185,"We don't support a floating, spherical or planar joints at the moment. We only have a motorized prismatic and revolute joint. We should fix a crash for unsupported joints though. You could try to apply forces/torques instead? Alternatively, you could try to add 3 prismatic joints and 3 revolute joints (with additional links with small masses (don't make the mass extremely small).",support floating spherical planar moment prismatic revolute joint fix crash unsupported though could try apply instead alternatively could try add prismatic revolute additional link small make mass extremely small,issue,negative,negative,negative,negative,negative,negative
304094471,">> @erwincoumans I like that idea. Should I add this ""bridge"" to this PR?

Yes, that would be nice. 

>> Would you prefer for me to move the TBB, OpenMP, etc related code out of 
>> btThreads.cpp and back into the example browser? 

As long as they are disabled using some #ifdef, it is probably fine to leave them there. I'll get back to you later once I have some time to look at the changes/pull request.
",like idea add bridge yes would nice would prefer move related code back example browser long disabled probably fine leave get back later time look request,issue,positive,positive,neutral,neutral,positive,positive
303937818,"@erwincoumans I like that idea. Should I add this ""bridge"" to this PR?
From skimming the code in MultiThreadingExample.cpp it looks like it should be fairly easy.",like idea add bridge skimming code like fairly easy,issue,positive,positive,positive,positive,positive,positive
303936593,"@ahundt The ITaskScheduler interface is only called from Bullet internals so regardless of what the other threading API is it shouldn't require multiple inheritance or anything like that. I've implemented the ITaskScheduler interface for 4 different threading APIs and usually all that is required is to define an ""Adapter"" object to convert from the function signature the API expects to the signature of the passed in IParallelForBody object.  [For example](https://github.com/lunkhound/bullet3/blob/pr-threading-refactor/src/LinearMath/btThreads.cpp#L180)
",interface bullet internals regardless require multiple inheritance anything like interface different usually define adapter object convert function signature signature object example,issue,negative,negative,neutral,neutral,negative,negative
303811488,"of course you can make some mapping between single id and object uid/link index, both ways, and somehow expand/compress between APIs, if you really need it. Debug items (lines, text) are already single id of course (vaguely similar to 'sites')

But I think there is no real drawback in using two separate integers. By the way, some APIs have array functionality, for example setJointMotorControlArray, where you can access a subset/list of links to control.",course make single id object index way somehow really need text already single id course vaguely similar think real drawback two separate way array functionality example access link control,issue,negative,positive,neutral,neutral,positive,positive
303810869,"I see some convenience of a single id, but we picked the tuple (object unique id, link index) and prefer to stick with that. If you don't provide the object UID/link index, it will be in world space.

One the other topic, there is already the option to get base and link frames. The new APIs would involve:

1) changeDebugDrawText/Line to change text, line from/to, transform (position/orientation)
2) getTransform(debugItem)
3) some helper function to multiply transforms, inverse etc. I don't plan on making this a full matrix library, prefer to use numpy, eigen or tensorflow for this, but some basic methods would be good.",see convenience single id picked object unique id link index prefer stick provide object index world space one topic already option get base link new would involve change text line transform helper function multiply inverse plan making full matrix library prefer use basic would good,issue,positive,positive,neutral,neutral,positive,positive
303794279,"My original post which opened this thread is a decent example, I'll extend that a bit.

Specifically for the example you just posted I think the `parentObjectUniqueId/parentLinkIndex` could be reduced to a single ID, with an accessor function to get one as part of another.

Just a concept, probably needs an additional iteration:
```python
import pybullet a p
import numpy as np
# these eigen calls could be numpy equivalents
import eigen as e

jointNum = 6
kuka = p.loadURDF(""kuka_iiwa/model.urdf"")

# this function makes many other APIs simpler since they now only need 1 UID
linkUID = getRobotLinkID(kuka, JointNum)
lineStart = np.array([0,0,0.1])
lineEnd = np.array([0,0,1])

# line API, only one UID parameter required
# second optional one could specify the frame the line 
# is relative to separately from the definition of which frame is the parent
p.addUserDebugLine(lineStart,
                        lineEnd,
                        ParentObjectUniqueId=linkUID,
                        relativeToId=linkUID, # either parent or world frame by default)

# Frame API
transform = e.geometry.transform.identity()

# create/modify a pose object, only 
poseID = p.setPoseObject(transform,
                     itemUniqueId=None # create by default
                     parentFrameId=kuka, # world frame by default
                     relativeToId=kuka, # either parent or world frame by default
                     ballOpacity=1,
                     triadOpacity=1,
                     scale=1,
                     name=""PoseObject####"",
                     color=""yellow"")

# move any object to an arbitrary position relative to an arbitrary frame
success = p.setTransform(poseID, 
                       transform, 
                       relativeToId=WorldFrameId)

# change the frame within which the specified frame moves
success = p.setParentFrame(poseID, parentUniqueId)

# get the id of the parent frame
parentId = p.getParent(poseID)

# get the transform between two arbitrary objects
transform = p.getTransform(itemUniqueId, relativeToId=WorldFrameId)

# get separate v,q (maybe not necessary if the transform above is [v,q]
v, q = getTransformVectorQuaternion(itemUniqueId, relativeToId=WorldFrameId)

```

Perhaps old APIs can be left in place but deprecated?

It could also be reasonable to at least require numpy. I think a  user in the various problem domains pybullet is designed for would want the performance benefits and almost certainly already have it.",original post thread decent example extend bit specifically example posted think could reduced single id function get one part another concept probably need additional iteration python import import could import function many simpler since need line one parameter second optional one could specify frame line relative separately definition frame parent either parent world frame default frame transform pose object transform create default world frame default either parent world frame default yellow move object arbitrary position relative arbitrary frame success transform change frame within frame success get id parent frame get transform two arbitrary transform get separate maybe necessary transform perhaps old left place could also reasonable least require think user various problem designed would want performance almost certainly already,issue,positive,positive,neutral,neutral,positive,positive
303785840,"I'd like to create a bridge between your multi-threading abstraction and b3PosixThreadSupport, b3Win32ThreadSupport that will be enabled by default (since pthreads and Win32 threads are pretty much always available).",like create bridge abstraction default since win pretty much always available,issue,positive,positive,positive,positive,positive,positive
303783066,"The overall idea sounds desirable, but it might be worth considering an alternative to subclassing. What if the other threading API you're using required subclassing too? Things get messy pretty quickly that way.",overall idea desirable might worth considering alternative get messy pretty quickly way,issue,positive,positive,positive,positive,positive,positive
303782799,"Heh, unfortunately simplification of the pybullet API may not happen (any time soon), since I care a lot about backward compatibility (not breaking peoples scripts etc)... But if you have some simplification suggestions, please share them here. The GUI windows ('example browser') will be revamped, while maintaining backward compatibility. Likely replace GWEN with ImGui, replace modified glew with glad. Add buttons to pause, restart simulation, buttons for wireframe/boundingbox rendering etc.
",unfortunately simplification may happen time soon since care lot backward compatibility breaking simplification please share browser backward compatibility likely replace replace glad add button pause restart simulation button rendering,issue,positive,neutral,neutral,neutral,neutral,neutral
303780884,API design might eventually benefit from a bit of simplification but I can get going with this.,design might eventually benefit bit simplification get going,issue,negative,neutral,neutral,neutral,neutral,neutral
303772530,"Just updated, and included the example:
https://github.com/erwincoumans/bullet3/blob/master/examples/pybullet/examples/debugDrawItems.py
Note that you can press 'w', 'a' and 'l' in the example browser for additional debugging (W for wireframe, A for axis aligned bounding boxes and L for link info)",included example note press example browser additional axis bounding link,issue,negative,neutral,neutral,neutral,neutral,neutral
303768241,"Yes, attached is an example. I will rename the API before merging, and
include the modified example.

On 24 May 2017 at 08:48, Andrew Hundt <notifications@github.com> wrote:

> If the joints rotate should the frame rotate accordingly?
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1136#issuecomment-303766200>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3CUZvogBpz_aNVvfR8tcBOB3Jl5Mks5r9FE4gaJpZM4NhodS>
> .
>

import pybullet as p
import time
p.connect(p.GUI)
p.loadURDF(""plane.urdf"")
kuka = p.loadURDF(""kuka_iiwa/model.urdf"")
p.addUserDebugText(""tip"", [0,0,0.05],textColorRGB=[1,0,0],textSize=1.5,trackObjectUniqueId=kuka, trackLinkIndex=6)
p.addUserDebugLine([0,0,0],[0.1,0,0],[1,0,0],trackObjectUniqueId=kuka, trackLinkIndex=6)
p.addUserDebugLine([0,0,0],[0,0.1,0],[0,1,0],trackObjectUniqueId=kuka, trackLinkIndex=6)
p.addUserDebugLine([0,0,0],[0,0,0.1],[0,0,1],trackObjectUniqueId=kuka, trackLinkIndex=6)
p.setRealTimeSimulation(0)
while (True):
	time.sleep(0.01)
	p.stepSimulation()",yes attached example rename include example may wrote rotate frame rotate accordingly reply directly view mute thread import import time tip true,issue,positive,positive,positive,positive,positive,positive
303766200,If the joints rotate should the frame rotate accordingly?,rotate frame rotate accordingly,issue,negative,neutral,neutral,neutral,neutral,neutral
303764535,"cool, I'll add some example and do some more testing/tweaking (rename
trackObjectUniqueId/trackLinkIndex to parentObjectUniqueId/parentLinkIndex
for more consistent naming).

On 24 May 2017 at 08:33, Andrew Hundt <notifications@github.com> wrote:

> sweet, it showed up in the right spot for me on mac.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1136#issuecomment-303761747>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3CdhWWJINBwQi9AdEmMtL3yjubl5ks5r9E3VgaJpZM4NhodS>
> .
>
",cool add example rename consistent naming may wrote sweet right spot mac reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
303761747,"sweet, it showed up in the right spot for me on mac.",sweet right spot mac,issue,negative,positive,positive,positive,positive,positive
303639131,"With this change, you can still use any threading system. All you need to do is subclass btITaskScheduler and implement the parallelFor virtual function. Then call btSetTaskScheduler() with an instance of the subclass, and that's it.

I'm currently using it in my personal project with my own custom job manager.

Would you prefer for me to move the TBB, OpenMP, etc related code out of btThreads.cpp and back into the example browser? It would be a pretty trivial change. I only included it in there as a convenience for users to get multithreading up and running without having to subclass anything.",change still use system need subclass implement virtual function call instance subclass currently personal project custom job manager would prefer move related code back example browser would pretty trivial change included convenience get running without subclass anything,issue,negative,positive,neutral,neutral,positive,positive
303626205,"mmm, seems to have an issue with Mac OSX/retina, need to look into that.",issue mac need look,issue,negative,neutral,neutral,neutral,neutral,neutral
303620348,"This is a start, to allow to render lines and text in local frame (objectUniqueId, linkIndex).  https://github.com/bulletphysics/bullet3/pull/1145/commits/db008ab3c215f4550cfe6914f331bd87626d1edf

import pybullet as p
import time
p.connect(p.GUI)
p.loadURDF(""plane.urdf"")
kuka = p.loadURDF(""kuka_iiwa/model.urdf"")
p.addUserDebugText(""tip"", [0,0,0.05],textColorRGB=[1,0,0],textSize=1.5,trackObjectUniqueId=kuka, trackLinkIndex=6)
p.addUserDebugLine([0,0,0],[0.1,0,0],[1,0,0],trackObjectUniqueId=kuka, trackLinkIndex=6)
p.addUserDebugLine([0,0,0],[0,0.1,0],[0,1,0],trackObjectUniqueId=kuka, trackLinkIndex=6)
p.addUserDebugLine([0,0,0],[0,0,0.1],[0,0,1],trackObjectUniqueId=kuka, trackLinkIndex=6)
p.setRealTimeSimulation(1)
while (True):
	time.sleep(0.01)

",start allow render text local frame import import time tip true,issue,positive,positive,positive,positive,positive,positive
303565734,"Yes. Actually I'm in the brain robotics team surrounded by the Tensorflow developers, it makes sense to write some custom ops at some stage :-)",yes actually brain team surrounded sense write custom stage,issue,negative,neutral,neutral,neutral,neutral,neutral
303505172,"I opened [this bug report for the arch linux package](https://bugs.archlinux.org/task/54149?project=1&cat%5B0%5D=2&string=bullet) and linked this report there.

Thank you for the workaround, it ... well ... worked :-)

Maybe as a side-note: It would be great, if the example browser had an option such as `--help` to list options.",bug report arch package linked report thank well worked maybe would great example browser option help list,issue,positive,positive,positive,positive,positive,positive
303469081,"I'll have a look, but I'm not eager to move the multi-threading code in Bullet/src, unless we can make it work with the Bullet's own multithreading handling (b3PosixThreadSupport, b3Win32ThreadSupport), and possibly users own multi-threading handling. Once I have a bit of time, I'll look into it. Basically allow the user to execute jobs, using their own threading mechanism (in addition to allowing TBB, OpenMP etc).
",look eager move code unless make work bullet handling possibly handling bit time look basically allow user execute mechanism addition,issue,positive,neutral,neutral,neutral,neutral,neutral
303268653,cool I'd say this issue can be closed now. Thanks!,cool say issue closed thanks,issue,positive,positive,positive,positive,positive,positive
303267544,"looks cool, glad I have it running but I realized I didn't explain well before.

To recap, Tensorflow happens to be used for machine learning, but really it is just a math library that creates a graph of mathematical operations saved in a protobuf format that can be run much faster than the python interpreter. 

This alternative design is one where pybullet could supply tensorflow ops to retrieve and set transforms, load segmentation images, rendered images, do quaternion math, etc. In other words the images might never need to be copied from c to python.

Essentially, use the ability to [implement new ops](https://www.tensorflow.org/extend/adding_an_op) and add [custom data readers](https://www.tensorflow.org/extend/new_data_formats) to define functions under the namespace `pybullet.tf`.

non-running example to convey the idea:
```python
import tensorflow as tf
# new pybullet tensorflow functionality
import pybullet.tf as pbtf 

# op that when run returns true if the simulation is running,
# false otherwise.
simulation_running_op = pbtf.SimulationIsRunning()

# this returns a tensorflow op, not a numpy array
camera_op = pbtf.getCameraImage(width,height)

# can have some configuration params for how it works...
random_camera_op = pbtf.randomizeCameraPose(camera_op)

# this is some user defined function 
# that loads some regular tf model
# and weights from disk, let's say it
# is predicting segmentation
model_tf_op = my_load_model(random_camera_op)

segmentation_op = pbtf.getCameraSegmentation(random_camera_op)

# some train function
training_op = my_train_fn(model_tf_op, segmentation_op)

with tf.Session() as sess:
  train_with_pybullet = tf.while_loop(training_op, simulation_running_op)
  # this runs simulation and training steps 
  # forever without ever going back to python!
  sess.run(train_with_pybullet)  

```

Additional ops can exist for getting transforms between objects, creating and configuring qp solvers, basically any functionality the user wants, but they get a huge performance boost from it being tensorflow ops instead of directly running python code.

Hopefully my explanation made sense?",cool glad running explain well recap used machine learning really math library graph mathematical saved format run much faster python interpreter alternative design one could supply retrieve set load segmentation quaternion math might never need copied python essentially use ability implement new add custom data define example convey idea python import new functionality import run true simulation running false otherwise array width height configuration work user defined function regular model disk let say segmentation train function sess simulation training forever without ever going back python additional exist getting basically functionality user get huge performance boost instead directly running python code hopefully explanation made sense,issue,positive,positive,positive,positive,positive,positive
303264807,"great, it works! You can enable the 'sleep' command to see what is happening. I haven't spend time to make it a nice looking / running demo.",great work enable command see happening spend time make nice looking running,issue,positive,positive,positive,positive,positive,positive
303262000,"uninstalled and reinstalled, now he runs for a few seconds. 58 meters, he is pretty quick. Maybe the demo should loop?

```
± python humanoid_running.py
Vendor: NVIDIA Corporation
Renderer: NVIDIA GeForce GT 750M OpenGL Engine
Version: 4.1 NVIDIA-10.10.14 310.42.25f02
GLSL: 4.10
b3Printf: Selected demo: Physics Server
startThreads creating 1 threads.
starting thread 0
started thread 0
MotionThreadFunc thread started
2017-05-22 21:08:30.215079: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.
2017-05-22 21:08:30.215110: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.
2017-05-22 21:08:30.215115: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
2017-05-22 21:08:30.215119: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.
2017-05-22 21:08:30.215123: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.
############################### distance = 58.55 meters
('############################### FPS = ', 1471.914922886232)
ended benchmark
1000
Writing 50286 timings for thread 0
Writing 68342 timings for thread 1
numActiveThreads = 0
stopping threads
stopThreads: Thread 0 used: 1
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed
```",uninstalled pretty quick maybe loop python vendor corporation renderer engine version selected physic server starting thread thread thread library use available machine could speed library use available machine could speed library use available machine could speed library use available machine could speed library use available machine could speed distance ended writing thread writing thread stopping thread used thread thread destroy semaphore semaphore destroy main semaphore main semaphore,issue,negative,positive,positive,positive,positive,positive
303259801,"Do you have Tensorflow installed and working? If not, please provide output. Perhaps you need to do 'uninstall' and make sure you have no other pybullet versions?",working please provide output perhaps need make sure,issue,positive,positive,positive,positive,positive,positive
303259553,"checked out master, pulled, ran:

```
sudo python setup.py install
```

And still saw a window appear and disappear in maybe 0.2 seconds. Maybe I should try on my 16.04 workstation instead of the os x 11.x mac I'm on currently.",checked master ran python install still saw window appear disappear maybe maybe try instead o mac currently,issue,negative,neutral,neutral,neutral,neutral,neutral
303258891,"In addition, you should not run the _3 version, but humanoid_running.py That one doesn't have the *other thing that breaks on some python versions.",addition run version one thing python,issue,negative,neutral,neutral,neutral,neutral,neutral
303258186,"It looks like you are not using the very latest version of pybullet? If you use pip install pybullet, it shows the version.",like latest version use pip install version,issue,negative,positive,positive,positive,positive,positive
303194529,"Either way is fine, both should be possible. Have you tried running humanoid_running.py (clone bullet3, run pip install pybullet and run python humanoid_running.py in the examples/pybullet/tensorflow folder) ? This example uses Tensorflow for inference. It is reasonably easy to replace TF with numpy for that example, I think they did this for OpenAI Roboschool. Roboschool is based on Bullet C-API, but they added their own framework/simple renderer on top. In my opinion pybullet and its renderer is more powerful than what Roboschool has at the moment, but they may improve the renderer in Roboschool.",either way fine possible tried running clone bullet run pip install run python folder example inference reasonably easy replace example think based bullet added renderer top opinion renderer powerful moment may improve renderer,issue,positive,positive,positive,positive,positive,positive
303192131,"Just occurred to me that rather than numpy, math/transform calculations that will done at every simulation step might be better done via a tf graph rather than a numpy style API. As I'm sure you know most tf use is python, it uses eigen internally, is implemented in C++ and provides a [C API](https://www.tensorflow.org/extend/language_bindings) . I haven't tested it but the new function [session.make_callable()](https://www.tensorflow.org/versions/master/api_docs/python/tf/Session#make_callable) in [tf1.2.0](https://github.com/tensorflow/tensorflow/releases/tag/v1.2.0-rc0) is supposed to lower the overhead for frequent calls and could make tf style calculations a more feasible option.

The experimental TF XLA graph compiler might also help reduce the overhead to a level low enough for the simulation as it matures.",rather done every simulation step might better done via graph rather style sure know use python internally tested new function supposed lower overhead frequent could make style feasible option experimental graph compiler might also help reduce overhead level low enough simulation,issue,positive,positive,positive,positive,positive,positive
303187113,"> Thanks for the list, that helps understanding what you (and likely others) need.

I'm very happy you're interested in feedback, thanks a lot for your consideration. I also know some of my particular interests may be in a niche that doesn't end up working out, so no worries if this doesn't match up with your project goals.

> On (1) and (5): Can you be more specific how Gazebo (and V-Rep) rendering is better, and what rendering features are missing? 
> Bullet's OpenGL3 and TinyRenderer are shader based, so it should be possible to improve: the existing renderers support shadows (shadow map), texture mapping, single light source etc, but many models don't even have texture maps assigned.

What you describe sounds like it could improve the appearance substantially. I do have high level familiarity with each of those techniques, but I don't actually have a lot of rendering expertise. I also forgot to mention AirSim https://github.com/Microsoft/AirSim that quality but indoors or ray tracing based rendering would be ideal, I'd prefer open source though, I think AirSim uses UE4.

> Aside from improving the internal renderers (TinyRenmderer/OpenGL3Renderer) We may integrate some better renderer, such as G3D, Mitsuba, Blender Cycles or AMD RadeonProRender: see https://github.com/GPUOpen-LibrariesAndSDKs/RadeonProRender-Baikal

I checked each site (but without looking at the APIs) and, Blender Cycles looks like a great option for this, the rendering looks quite good, and it could be especially good considering it comes with the Apache v2 license.

I'll go off topic/pie in the sky for a second, forgive me. Apparently someone did rendering via tensorflow, [rendering with tensorflow code](https://medium.com/@awildtaber/building-a-rendering-engine-in-tensorflow-262438b2e062), [rendering with tensorflow video](https://blog.altoros.com/tensorflow-for-manufacturers-building-a-3d-rendering-engine.html). Is it possible everything including rendering and physics could be done in such a way that it is differentiable and could be directly incorporated into the gradients of the machine learning model? `/pieinsky`

The other part is setup, editing, and scripting of experiments. This ties back to your comment on the python api discussion https://github.com/bulletphysics/bullet3/issues/1138#issuecomment-302955419, V-REP for example lets a user create a scene with a mix of programmatic creation and creation with the V-REP UI, a tool I like and have used the most, but pybullet is compelling enough that I'm starting to use it where I can.

I was wondering what impact could different approaches have on the time to reach a mature rl simulation tool?

 - Pybullet supporting a whole end to end simulation pipeline, scene setup, physics, rendering, etc.
 - Focusing on the physics & robot control optimization within bullet3 + updating an existing simulator with those new APIs, and a renderer update if needed.
 - Perhaps scene/urdf/other files could just be created in gazebo then loaded in pybullet?
 - Having a really quick way to walk around a (real life) room with your phone or a project tango like device, create meshes, split up the object models, import into pybullet, poof a new scene?

These aren't the only approaches and I'm sure the answer will vary based on specific goals and/or technical reasons. :-)

>(6) We provide the z-buffer and segmentation mask (visible object uid), how does a z-buffer differ from colored depth sensor data? see rendering

I'll definitely be using that feature! However, I meant putting real sensor data into pybullet for dataset augmentation. In other words, to take real sensor data and put it into pybullet as a point cloud (first step) or mesh via marching cubes or SLAM (later step), re-render the scene there, run a simulation inside, and pull the augmented images back out.

That segmentation you have is amazingly convenient by the way, thank you! I might want to add in a way to assign the ids in two additional ways aside from unique object Ids: 
1. Specify specific ids for each object, for example to match existing real world dataset classes like those in PASCAL VOC 2012, [COCO](mscoco.org), or COCO + [coco-stuff](https://github.com/nightrome/cocostuff) for example.  
2. To assign ids for class annotation, instance annotation, or both. The other case, I assume the existing unique ids cover this, is assigning them persistently over simulation time.

> (7) What kind of camera intrinsics do you like to see (I recall someone worked on this within Google, haven't exposed this in the open source version).

A basic pinhole model + setting the camera resolution would be great to start, this page has a pinhole model with some nice sliders https://ksimek.github.io/2013/08/13/intrinsic/. More advanced and lower priority would be configuring distortion, noise, etc. I personally wouldn't worry about more complicated intrinsics models until proven necessary.

> (8) What and where do you use those collision constraints?

I don't use collisions yet, but I'm planning to use it to selectively enable / disable which regions of the scene and which regions of the robot will interact with each other. That is how I plan to make use of the redundancy of robots when it is available, for example so the elbow doesn't hit something.

> The KUKA inertial parameters are not really very accurate, although we measure better values using system identification, we didn't end up using it, since we use position control on the KUKAs.

Cool are those typically easy to figure out or does it involve tricky physical aspects like timing? (Tasks implements this but I haven't run it)",thanks list understanding likely need happy interested feedback thanks lot consideration also know particular may niche end working match project specific gazebo rendering better rendering missing bullet shader based possible improve support shadow map texture single light source many even texture assigned describe like could improve appearance substantially high level familiarity actually lot rendering also forgot mention quality indoors ray tracing based rendering would ideal prefer open source though think aside improving internal may integrate better renderer blender see checked site without looking blender like great option rendering quite good could especially good considering come apache license go sky second forgive apparently someone rendering via rendering code rendering video possible everything rendering physic could done way differentiable could directly incorporated machine learning model part setup back comment python discussion example user create scene mix programmatic creation creation tool like used compelling enough starting use wondering impact could different time reach mature simulation tool supporting whole end end simulation pipeline scene setup physic rendering physic robot control optimization within bullet simulator new renderer update perhaps could gazebo loaded really quick way walk around real life room phone project tango like device create split object import poof new scene sure answer vary based specific technical provide segmentation mask visible object differ colored depth sensor data see rendering definitely feature however meant real sensor data augmentation take real sensor data put point cloud first step mesh via slam later step scene run simulation inside pull augmented back segmentation amazingly convenient way thank might want add way assign two additional way aside unique object specify specific object example match real world class like coco coco example assign class annotation instance annotation case assume unique cover persistently simulation time kind camera like see recall someone worked within exposed open source version basic pinhole model setting camera resolution would great start page pinhole model nice advanced lower priority would distortion noise personally would worry complicated proven necessary use collision use yet use selectively enable disable scene robot interact plan make use redundancy available example elbow hit something inertial really accurate although measure better system identification end since use position control cool typically easy figure involve tricky physical like timing run,issue,positive,positive,positive,positive,positive,positive
302985681,"Thanks for the list, that helps understanding what you (and likely others) need.

On (1) and (5): Can you be more specific how Gazebo (and V-Rep) rendering is better, and what rendering features are missing? Bullet's OpenGL3 and TinyRenderer are shader based, so it should be possible to improve: the existing renderers support shadows (shadow map), texture mapping, single light source etc, but many models don't even have texture maps assigned.

Aside from improving the internal renderers (TinyRenderer/OpenGL3Renderer) We may integrate some better renderer, such as G3D, Mitsuba, Blender Cycles or AMD RadeonProRender: see https://github.com/GPUOpen-LibrariesAndSDKs/RadeonProRender-Baikal

(6) We provide the z-buffer and segmentation mask (visible object uid), how does a z-buffer differ from colored depth sensor data? see

<img width=""1021"" alt=""rendering"" src=""https://cloud.githubusercontent.com/assets/725468/26290486/b6423cb0-3e5c-11e7-97a3-cba8139cdaf8.png"">

(7) What kind of camera intrinsics do you like to see (I recall someone worked on this within Google, haven't exposed this in the open source version).

(8) What and where do you use those collision constraints?

The KUKA inertial parameters are not really very accurate, although we measure better values using system identification, we didn't end up using it, since we use position control on the KUKAs.

",thanks list understanding likely need specific gazebo rendering better rendering missing bullet shader based possible improve support shadow map texture single light source many even texture assigned aside improving internal may integrate better renderer blender see provide segmentation mask visible object differ colored depth sensor data see rendering kind camera like see recall someone worked within exposed open source version use collision inertial really accurate although measure better system identification end since use position control,issue,positive,positive,positive,positive,positive,positive
302978990,"Context would likely be most helpful. I was at X last summer, and I'm starting out with reinforcement learning for grasping because of the [grasping dataset](https://sites.google.com/site/brainrobotdata/home/grasping-dataset) so I'm looking to complement that. I have a few ideas on a method of predicting objectives, constraints, weights etc to train grasping to work more efficiently at runtime than existing papers, and to train grasping specific objects. I was also hoping to look at transfer learning between simulation and real data, using simulation to augment the existing dataset. Eventually I hope to move from grasping to full end to end basic tasks first trained in simulation, since I don't have 20 robots like Google. :-) 

So, for those reasons I was hoping for this idealized laundry list, so don't worry if they're not likely to happen:


1. Maybe just v-rep, gazebo, or a more fully featured rendering engine integration could simplify much of this list?
    - I think v-rep and gazebo might be able to run headless on a server.
    - Ensuring the developers of gz & vrep are aware of bullet's new features could help too 
2. ""mimic joint"" like constraint for 2 finger physical robotiq gripper 
    - same UR5 as #1140 @cpaxton, apparently this is resolved but he might have better suggestions for this list overall
3. Transform Debug tools mentioned originally here (I'll likely use v-rep for now)
4. Something equivalent to [Tasks](https://github.com/bulletphysics/bullet3/issues/1138)' more complete QP functionality
    - I'm deciding among: (1) using what's in pybullet now and waiting for improvements, (2) a quick graft of Tasks, (2+) consider deeper integration of Tasks, but only if it might make sense to merge. Any suggestion?
5. Better visual fidelity (or maybe just v-rep or gazebo integration?)
6. Adding colored depth sensor data (point cloud/mesh/slam results too) with a way to update rapidly
    - not on your list, I'll probably use v-rep for this at the moment
    - If something like this ends up on your roadmap look at [Pangolin](https://github.com/stevenlovegrove/Pangolin)
7. Camera Intrinsics
8. Collision constraints


By the way are the inertial params etc in the urdf for the Kuka 14kg model accurate? I have one of those too but I wouldn't want unexpected surprises if I send it joint torques from bullet, haha.",context would likely helpful last summer starting reinforcement learning grasping grasping looking complement method train grasping work efficiently train grasping specific also look transfer learning simulation real data simulation augment eventually hope move grasping full end end basic first trained simulation since like laundry list worry likely happen maybe gazebo fully featured rendering engine integration could simplify much list think gazebo might able run headless server aware bullet new could help mimic joint like constraint finger physical gripper ur apparently resolved might better list overall transform originally likely use something equivalent complete functionality among waiting quick graft consider integration might make sense merge suggestion better visual fidelity maybe gazebo integration colored depth sensor data point way update rapidly list probably use moment something like look pangolin camera collision way inertial model accurate one would want unexpected send joint torque bullet,issue,positive,positive,positive,positive,positive,positive
302966654,"Fantastic, thanks for pointing me to these. I'll close the issue since there are plenty of ways of implementing the functionality I want.",fantastic thanks pointing close issue since plenty way functionality want,issue,positive,positive,positive,positive,positive,positive
302965094,"You may also want to look at some of the Bullet examples in the ExampleBrowser. We have a few different solutions for a gripper, to make sure the joint angle of one finger is same as the other. One is based on some additional joint (see One Motor Gripper Grasp example),

![one_motor_gripper_grasp](https://cloud.githubusercontent.com/assets/725468/26287573/7f4668d6-3e33-11e7-80d2-3d832b2f5f8d.png)


 and another one is based on a constraint motor, with velocity/position targets, use in the VR PR2 gripper. It is done in C++ (faster response) but also possible in python like here: [bullet3\examples\pybullet\examples\vr_kuka_pr2_move.py](https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/vr_kuka_pr2_move.py)

![pr2_gripper](https://cloud.githubusercontent.com/assets/725468/26287597/d48aa1c2-3e33-11e7-9eb6-238e2921c56a.png)


Since we are using Python with pybullet, it should be easier for people to contribute and share solutions. Some kind of plugin system might be good in the future indeed. And once the Bullet C-API support programmatic creation of multibodies (instead of loading from SDF/URDF/MJCF) we could upgrade Gazebo to use Bullet properly.",may also want look bullet different gripper make sure joint angle one finger one based additional joint see one motor gripper grasp example another one based constraint motor use gripper done faster response also possible python like since python easier people contribute share kind system might good future indeed bullet support programmatic creation instead loading could upgrade gazebo use bullet properly,issue,positive,positive,positive,positive,positive,positive
302964864,"Gazebo itself hasn't added mimic support, but for most purposes the hack works. Half the reason people still use gazebo is the existence of all these nice community plugins for different things!",gazebo added mimic support hack work half reason people still use gazebo existence nice community different,issue,positive,positive,positive,positive,positive,positive
302964754,"I was hoping to use addConstraint, actually, since that would be a more realistic depiction of the underlying physics for a single finger, but that's giving me some trouble. I tend to end up with a constantly rotating mess of fingertips like this, which I presume means I'm just setting up the constraints wrong:
![image](https://cloud.githubusercontent.com/assets/3286631/26287327/f9e57e66-3e2d-11e7-9fb2-5e2d15bc70f6.png)

As far as the mimic joint tag goes, there's a simple gazebo plugin with a decent implementation [here](https://github.com/StanleyInnovation/robotiq_85_gripper/blob/master/robotiq_85_simulation/roboticsgroup_gazebo_plugins/src/mimic_joint_plugin.cpp), which does something very similar to what you're suggesting.

Setting position commands for the whole set of fingertips works nicely enough for my purposes, though; thank you.",use actually since would realistic depiction underlying physic single finger giving trouble tend end constantly rotating mess like presume setting wrong image far mimic joint tag go simple gazebo decent implementation something similar suggesting setting position whole set work nicely enough though thank,issue,negative,negative,neutral,neutral,negative,negative
302963956,"I just noticed Gazebo/SDF discussion about mimic: https://github.com/ros-simulation/gazebo_ros_pkgs/issues/251

and Drake about the mimic joint:
https://github.com/RobotLocomotion/drake/issues/2940

Both Gazebo and Drake seem to not added easy/automatic support for it yet.",discussion mimic drake mimic joint gazebo drake seem added support yet,issue,negative,neutral,neutral,neutral,neutral,neutral
302962727,"There is no support yet for the mimic_joint, but we can add it. Previously we implemented a differential gear constraint (for btRigidBody/btTypedConstraint). We can implement the gear constraint for btMultiBody and use it to mimic the mimic joint. 

As a workaround, you can use pybullet.setJointMotorControl2 and manually set the motor target (position and/or velocity target) to be a multiple of the current velocity of the other joint. It is not the same, but the approximation may be good enough for your purpose (I haven't looked into the details of that joint type yet).",support yet add previously differential gear constraint implement gear constraint use mimic mimic joint use manually set motor target position velocity target multiple current velocity joint approximation may good enough purpose joint type yet,issue,positive,positive,positive,positive,positive,positive
302962480,"The data folder should be distributed and placed/copied into the data folder, next to the location of the BulletExampleBrowser executable. We should fix the crash, but the example browser is useless without the data folder. Can you get in touch with the developer who added Bullet to Arch Linux and ask to include the data folder? If the data folder is too big, we can extract a useful set.

For now, I would recommend compiling Bullet from source code from http://github.com/bulletphysics/bullet3, then it should work fine. Finally, you can use ExampleBrowser 
--start_demo_name=CoordinateSystemDemo to start a different demo, or locate and delete the file called 0_Bullet3Demo.txt (likely in your current working directory). Thanks for the report!",data folder distributed data folder next location executable fix crash example browser useless without data folder get touch developer added bullet arch ask include data folder data folder big extract useful set would recommend bullet source code work fine finally use start different locate delete file likely current working directory thanks report,issue,positive,positive,neutral,neutral,positive,positive
302957907,"Thanks for the report anyway, it motivated me to create a small example!",thanks report anyway create small example,issue,positive,negative,neutral,neutral,negative,negative
302957721,"Okay, it's my own fault. I've misinterpreted b3JointControlSetDesiredVelocity() for maximum joint speed. That's why it was always positive and skewed limits to the right. I've posted an edit for pybullet doc.

",fault maximum joint speed always positive skewed right posted edit doc,issue,negative,positive,positive,positive,positive,positive
302956635,">>I'm looking forward to what's coming, that sounds awesome! 

Ah wait, what specific part(s) exactly do you look forward to the most?",looking forward coming awesome ah wait specific part exactly look forward,issue,positive,positive,positive,positive,positive,positive
302955771,"Thanks for the details I'm looking forward to what's coming, that sounds awesome! I mentioned v-rep for the convenient UI and programmatic setup/scripting tools., and I agree the physics implementation difference is definitely important.",thanks looking forward coming awesome convenient programmatic agree physic implementation difference definitely important,issue,positive,positive,positive,positive,positive,positive
302955419,"Thanks for the pointers. I was hoping that users with use numpy and eigen as much as possible. In addition, the API is much simpler if we leave the creation in URDF/SDF/MJCF, since programmatically creating multi bodies clutters the API a lot. We will get programmatic creation though, but I'm hoping most people will not use it, but just load URDF/SDF/MJCF files. Now we already have pybullet APIs for inverse dynamics and inverse kinematics. It may be good to expose lower level parts of 'stepSimulation', such as forwardKinematics, forwardVelocity, like MuJoCo does. I wouldn't hold my breath for any of this, since there is a lot of other work that has higher priority.

Where do your code snippets come from? EDIT: ah, I just noticed the links at the end of your post, thanks!",thanks use much possible addition much simpler leave creation since programmatically lot get programmatic creation though people use load already inverse dynamic inverse kinematics may good expose lower level like would hold breath since lot work higher priority code come edit ah link end post thanks,issue,positive,positive,positive,positive,positive,positive
302954886,"V-Rep (and Gazebo) use the old Bullet 2.x maximal coordinate method. pybullet (and OpenAI Roboschool) uses the newer Bullet btMultiBody with Feathersone ABA method that is more suitable for robotics. pybullet / Bullet C-API also has inverse kinematics and inverse dynamics, and graphics rendering on CPU (for cloud simulation) and OpenGL3 etc. At the moment our inverse kinematics is based on damped least squares with improvements using null-space etc. It would be useful to extend the inverse kinematics with constriants and solve the IK with constraints using some optimization method indeed (like the DART sim library does). Note that several of Karen Liu's PhD graduates who worked on DART joined Google and I'm working with them.
",gazebo use old bullet maximal method bullet aba method suitable bullet also inverse kinematics inverse dynamic graphic rendering cloud simulation moment inverse kinematics based damped least would useful extend inverse kinematics solve optimization method indeed like dart library note several worked dart working,issue,positive,positive,neutral,neutral,positive,positive
302954523,"Cool, thanks for the suggested workaround! That should work when the sites don't need to change.

In addition to mujoco I think [v-rep](http://www.coppeliarobotics.com/videos.html) has some nice design elements in the UI and [API](http://www.coppeliarobotics.com/helpFiles/en/apiFunctionListCategory.htm), plus it uses bullet as the default physics haha.",cool thanks work need change addition think nice design plus bullet default physic,issue,positive,positive,positive,positive,positive,positive
302952850,"Video is here (notice the better graphics): https://youtu.be/7vMKGUIc4S4

![joint_limit_and_motor_fixed_torso](https://cloud.githubusercontent.com/assets/725468/26286380/41f3a008-3e19-11e7-8891-1628a49bd0d0.png)


![joint_limit_and_motor](https://cloud.githubusercontent.com/assets/725468/26286368/d2eac632-3e18-11e7-96f6-3acc83ab2fe4.png)
",video notice better graphic,issue,negative,positive,positive,positive,positive,positive
302952674,"I created a quick reproduction case, and joint limits seem to work just fine, under joint motor position cotnrol. See this pybullet example, video will follow. Make sure to use the latest unmodified Bullet/pybullet version:
https://github.com/bulletphysics/bullet3/blob/master/examples/pybullet/examples/humanoid_knee_position_control.py

Thanks!",quick reproduction case joint seem work fine joint motor position see example video follow make sure use latest unmodified version thanks,issue,positive,positive,positive,positive,positive,positive
302950528,"Both limits doesn't appear to be in place. Left limit never gets hit, and it bumps into right limit much sooner (by the same 0.4 rad).",appear place left limit never hit right limit much sooner rad,issue,negative,positive,positive,positive,positive,positive
302950301,"So can you describe the bug more clearly, in case you set the joint target position motor safely within (and not close to) limits?

If you can reproduce it in pybullet (attach repro case) I'll fix it, but right now it is not clear what the issue is.",describe bug clearly case set joint target position motor safely within close reproduce attach case fix right clear issue,issue,positive,positive,positive,positive,positive,positive
302950186,"> What happens if you make sure to set joint target positions are within limits

For the left limit, the joint doesn't hit it. It stops 0.4 radians before hitting the limit. 

Generally, I didn't notice any jump in behavior when I set target within range or not.
",make sure set joint target within left limit joint hit limit generally notice jump behavior set target within range,issue,negative,positive,positive,positive,positive,positive
302949973,"By the way, the rendering looks pretty bad without textures and shadows. You may want to use the build-in Bullet debug visualizer (simply connect(GUI mode), it looks better.",way rendering pretty bad without may want use bullet visualizer simply connect mode better,issue,negative,positive,neutral,neutral,positive,positive
302949918,What happens if you make sure to set joint target positions that are within limits (and not close to the limits)?,make sure set joint target within close,issue,negative,positive,positive,positive,positive,positive
302949575,"(with torque 40 and more, knee doesn't go beyond limit.)",torque knee go beyond limit,issue,negative,neutral,neutral,neutral,neutral,neutral
302945409,"Sorry, I meant: if I can, I generally avoid to compile code.
This is because in the past I got errors due to missing dependencies or so and no one told anything ",sorry meant generally avoid compile code past got due missing one told anything,issue,negative,negative,negative,negative,negative,negative
302944843,"I was planning to allow to anchor the user debug items (lines/text) to a specific body unique id and link index. That means there will be additional parameters and APIs related to addUserDebugText and addUserDebugLine, and removeUserDebugItem.

Such additions would include specifying a parent (object unique id/link index) and a elative coordinate system to the parent. Once that is in place, we can also query the Cartesian/world coordinates of the user debug item. Then you may not want to visualize the debug item, so we can allow user debug items without graphical output. It may also be useful to add some generic linear algebra tools to compute relative transforms given two transforms etc.

It looks like that would fit your proposed API too. Also, MuJoCo XML files (loaded using pybullet.loadMJCF) has similar functionality called 'site' (see http://www.mujoco.org/book)

Of course you can already add additional child links in the URDF file, without visual and without collision, using a fixed joint. This will give you similar functionality to sites. Have you considered that (for feature #1).",allow anchor user specific body unique id link index additional related would include parent object unique index elative system parent place also query user item may want visualize item allow user without graphical output may also useful add generic linear algebra compute relative given two like would fit also loaded similar functionality see course already add additional child link file without visual without collision fixed joint give similar functionality considered feature,issue,positive,positive,positive,positive,positive,positive
302940153,I can confirm it doesn't crash now! Non crashing version is definitely experimental as expected. :-),confirm crash non version definitely experimental,issue,negative,positive,neutral,neutral,positive,positive
302939095,"Okay, I tried to be aware of that concern. It should try and ensure if any problems are detected python automatically switches off, standard warnings are printed, and the cmake configuration + build continues & succeeds without python.",tried aware concern try ensure python automatically standard printed configuration build without python,issue,negative,positive,positive,positive,positive,positive
302938859,"Thanks for the work on this. I will test it on a few platforms before merging.
I think it is better to disable the BUILD_PYBULLET by default, unless the user manually enables it, since I really want Bullet to build out-of-the-box, undisturbed by broken python installations. We can leave it switched on if Python versions match for now. If people report broken builds, we switch it off.",thanks work test think better disable default unless user manually since really want bullet build undisturbed broken python leave switched python match people report broken switch,issue,negative,positive,neutral,neutral,positive,positive
302938493,"Looks good to me, thanks! The softbody'multibody work is very experimental (we don't softbody/multibody in our own work at the moment, and we don't use cmake much either (but premake, bazel/blaze/pip etc). Good to have this fixed though.",good thanks work experimental work moment use much either premake good fixed though,issue,positive,positive,positive,positive,positive,positive
302938308,"Thanks, indeed the code should work without RRTI. Thanks for the contribution!",thanks indeed code work without thanks contribution,issue,positive,positive,positive,positive,positive,positive
302938261,"Thanks for the report, it is very experimental code, fixed it here:
https://github.com/bulletphysics/bullet3/pull/1135
",thanks report experimental code fixed,issue,negative,positive,positive,positive,positive,positive
302890947,"Thanks for looking into this, it would be good to have this working.",thanks looking would good working,issue,positive,positive,positive,positive,positive,positive
302890501,"Okay I've started narrowing this down. I believe the problem is due to bugs in the python find scripts.

For instance with default settings from the pybullet cmake shell script I get the following error:
```

[ 71%] Linking CXX shared library pybullet.dylib
Undefined symbols for architecture x86_64:
  ""_PyInt_FromLong"", referenced from:
      _pybullet_connectPhysicsServer in pybullet.o
      _pybullet_loadSDF in pybullet.o
      _pybullet_loadBullet in pybullet.o
      _pybullet_loadMJCF in pybullet.o
      _pybullet_getNumBodies in pybullet.o
      _pybullet_getBodyUniqueId in pybullet.o
      _pybullet_getNumConstraints in pybullet.o
      ...
  ""_PyString_FromString"", referenced from:
      _pybullet_getBodyInfo in pybullet.o
      _pybullet_getJointInfo in pybullet.o
      _pybullet_getVisualShapeData in pybullet.o
  ""_Py_InitModule4_64"", referenced from:
      _initpybullet in pybullet.o
```

I added `message(AUTHOR_WARNING ${PYTHON_LIBRARIES})` to the `CMakelist.txt` in the same folder as `pybullet.c` and got the following:

```
CMake Warning (dev) at examples/pybullet/CMakeLists.txt:159 (message):

  /usr/local/Frameworks/Python.framework/Versions/3.6/lib/libpython3.6m.dylib
This warning is for project developers.  Use -Wno-dev to suppress it.
```

However, I'm running python 2.7 as installed by homebrew.

```
± which python
/usr/local/bin/python
```

So, essentially the CMake find script has some bugs, I'll see if I can find a replacement version and put it in.
",believe problem due python find instance default shell script get following error linking library undefined architecture added message folder got following warning dev message warning project use suppress however running python python essentially find script see find replacement version put,issue,negative,negative,neutral,neutral,negative,negative
302849701,"I'm sorry, in truth I didn't. 
I wouldn't have to compile. ",sorry truth would compile,issue,negative,negative,negative,negative,negative,negative
302593624,"As much as I like removing the sonnet dependency, loading a mysterious serialized metagraph is much less informative! Perhaps having a single SimpleAgent that uses sonnet if it is available and falls back on the serialized metagraph otherwise is reasonable, so people with sonnet can see how the setup works and people without can run it.

The way to handle fallbacks is something like the [following example from keras](https://github.com/fchollet/keras/blob/master/keras/utils/vis_utils.py):

```python

try:
    # pydot-ng is a fork of pydot that is better maintained.
    import pydot_ng as pydot
except ImportError:
    # Fall back on pydot if necessary.
    try:
        import pydot
    except ImportError:
        pydot = None
```",much like removing sonnet dependency loading mysterious much le informative perhaps single sonnet available back otherwise reasonable people sonnet see setup work people without run way handle something like following example python try fork better import except fall back necessary try import except none,issue,positive,positive,positive,positive,positive,positive
302291836,"Assuming you use pybullet, and pybullet.connect(pybullet.GUI), you can press 'w' for wireframe and press 'k' and 'l' (lower case L) to render joint frames/limits.
The COLLADA DAE file uses polylist, while Bullet only supports triangulated models (<triangles>). You may be able to convert/triangulate it using Blender, or convert it from DAE to .OBJ using Blender or other tool.",assuming use press press lower case render joint dae file bullet may able blender convert dae blender tool,issue,negative,positive,positive,positive,positive,positive
302290918,Is there a way to render joint locations easily such as with a triad? We are trying to add constraints for the gripper that goes with this arm and visualization would be helpful ,way render joint easily triad trying add gripper go arm visualization would helpful,issue,positive,positive,positive,positive,positive,positive
301330911,"Sure here is the output, I deleted the `build_cmake` directory then I ran `./build_cmake_pybullet_double.sh` twice so successfully compiled files don't clutter things.


First run cmake output (detects incorrect python):
```
± ./build_cmake_pybullet_double.sh
rm: CMakeCache.txt: No such file or directory
-- The C compiler identification is AppleClang 8.0.0.8000042
-- The CXX compiler identification is AppleClang 8.0.0.8000042
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found OpenGL: /System/Library/Frameworks/OpenGL.framework
OPENGL FOUND
/System/Library/Frameworks/OpenGL.framework
-- Found PythonLibs: /usr/local/Frameworks/Python.framework/Versions/3.6/lib/libpython3.6m.dylib (found version ""3.6.0"")
Mac OSX Version is 10.11
/System/Library/Frameworks/Cocoa.framework
/System/Library/Frameworks/Cocoa.framework
/System/Library/Frameworks/Cocoa.framework
/System/Library/Frameworks/Cocoa.framework
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/athundt/source/bullet3/build_cmake
```

second run output, linking failed:
```
± ./build_cmake_pybullet_double.sh
rm: CMakeCache.txt: No such file or directory
mkdir: build_cmake: File exists
OPENGL FOUND
/System/Library/Frameworks/OpenGL.framework
Mac OSX Version is 10.11
/System/Library/Frameworks/Cocoa.framework
/System/Library/Frameworks/Cocoa.framework
/System/Library/Frameworks/Cocoa.framework
/System/Library/Frameworks/Cocoa.framework
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/athundt/source/bullet3/build_cmake
[  2%] Built target Bullet3Common
[  2%] Built target gtest
[  2%] Built target BussIK
[  3%] Built target clsocket
[  3%] Built target LinearMath
[  4%] Built target HACD
[  5%] Built target Bullet3Geometry
[  5%] Built target Bullet2FileLoader
[  6%] Built target App_obj2sdf
[  8%] Built target OpenGLWindow
[ 14%] Built target BulletFileLoader
[ 17%] Built target gwen
[ 17%] Built target BulletInverseDynamics
[ 18%] Built target Test_Collision
[ 19%] Built target Bullet3Collision
[ 30%] Built target BulletCollision
[ 30%] Built target Bullet3Dynamics
[ 32%] Built target ConvexDecomposition
[ 39%] Built target BulletDynamics
[ 40%] Built target Bullet3OpenCL_clew
[ 40%] Built target GIMPACTUtils
[ 40%] Built target App_HelloWorld
[ 41%] Built target App_BasicExample
[ 42%] Built target Test_btKinematicCharacterController
[ 42%] Built target Test_BulletDynamics
[ 42%] Built target BulletWorldImporter
[ 43%] Built target BulletSoftBody
[ 43%] Built target AppBasicExampleGui
[ 45%] Built target BulletInverseDynamicsUtils
[ 46%] Built target Test_BulletInverseDynamics
[ 46%] Built target Test_BulletInverseDynamicsJacobian
[ 47%] Built target BulletXmlWorldImporter
[ 49%] Built target BulletExampleBrowserLib
[ 52%] Built target Test_BulletInverseForwardDynamics
[ 57%] Built target Test_PhysicsClientServer
[ 63%] Built target App_PhysicsServer_SharedMemory
[ 70%] Built target App_PhysicsServer_SharedMemory_GUI
[ 71%] Linking CXX shared library pybullet.dylib
[ 78%] Built target App_RobotSimulator
Undefined symbols for architecture x86_64:
  ""_PyInt_FromLong"", referenced from:
      _pybullet_connectPhysicsServer in pybullet.o
      _pybullet_loadSDF in pybullet.o
      _pybullet_loadBullet in pybullet.o
      _pybullet_loadMJCF in pybullet.o
      _pybullet_getNumBodies in pybullet.o
      _pybullet_getBodyUniqueId in pybullet.o
      _pybullet_getNumConstraints in pybullet.o
      ...
  ""_PyString_FromString"", referenced from:
      _pybullet_getBodyInfo in pybullet.o
      _pybullet_getJointInfo in pybullet.o
      _pybullet_getVisualShapeData in pybullet.o
  ""_Py_InitModule4_64"", referenced from:
      _initpybullet in pybullet.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [examples/pybullet/pybullet.2.87.dylib] Error 1
make[1]: *** [examples/pybullet/CMakeFiles/pybullet.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[ 93%] Built target App_ExampleBrowser
make: *** [all] Error 2
ln: pybullet.so: File exists
```",sure output directory ran twice successfully clutter first run output incorrect python file directory compiler identification compiler identification check working compiler check working compiler work compiler compiler done compile compile done check working compiler check working compiler work compiler compiler done compile compile done found found found found version mac version done generating done build written second run output linking file directory file found mac version done generating done build written built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target built target linking library built target undefined architecture symbol found architecture clang error linker command exit code use see invocation make error make error make waiting unfinished built target make error file,issue,negative,positive,positive,positive,positive,positive
301326948,"Well, I'm still curious why  ./build_cmake_pybullet_double.sh fails for you.
Can you report the result? It should really build pybullet on Mac OSX and Linux just fine.",well still curious report result really build mac fine,issue,positive,positive,positive,positive,positive,positive
301326136,"Okay pip is working well enough, I'll close this. Thanks!",pip working well enough close thanks,issue,positive,positive,neutral,neutral,positive,positive
301274678,"If you run the script ./build_cmake_pybullet_double.sh you should get pybullet build.
If not, what error(s) do you see? Ignore the ""pybullet.so"" exists warning.",run script get build error see ignore warning,issue,negative,neutral,neutral,neutral,neutral,neutral
301208477,"I tested it and indeed: a `btVector3` always evaluates to 'true' even when it is of zero length.

The `if` really could be eliminated.  Most people aren't using a zero `m_angularFactor` for most of their rigid bodies, so it would probably be a net optimization to remove the check entirely.",tested indeed always even zero length really could people zero rigid would probably net optimization remove check entirely,issue,negative,positive,neutral,neutral,positive,positive
300762935,"...and self-collision needs a fix too. For humanoid, legs collided fine, but hands penetrate the body. After some debugging, I came up with this.
",need fix humanoid fine penetrate body came,issue,negative,positive,positive,positive,positive,positive
300662568,"For fracture, please have a look at this code: https://github.com/mrdoob/three.js/blob/master/examples/js/ConvexObjectBreaker.js",fracture please look code,issue,negative,neutral,neutral,neutral,neutral,neutral
300654699,"I added a new flag that uses your self-collision filtering and modified your humanoid_running.py to work with plain pybullet (unmodified). Pull request here:
https://github.com/bulletphysics/bullet3/pull/1115

See the demo here:
https://github.com/erwincoumans/bullet3/blob/master/examples/pybullet/tensorflow/humanoid_running.py

Also, I added a few extra humanoids. Since the ground plane is part of the model, having 3 times the same ground plane makes the simulation instable, so I removed 2 of them using removeBody.
Thanks a lot for your contribution!",added new flag filtering work plain unmodified pull request see also added extra since ground plane part model time ground plane simulation instable removed thanks lot contribution,issue,negative,positive,neutral,neutral,positive,positive
300626350,"Thanks for sharing, that is a great locomotion example with pybullet + TensorFlow .
I just implemented your 'don't collide with any parent in C-API and pybullet:
b3LoadMJCFCommandSetFlags  and loadMJCF(""filename.xml"", flags=pybullet.URDF_USE_SELF_COLLISION_EXCLUDE_ALL_PARENTS)
It is part of this pull request:
https://github.com/bulletphysics/bullet3/pull/1112/commits/53a82819a0b09731fd718a5bea00e33b3a16a4de
Could you remove the modification in btMultiBodyLinkCollider and add this flags=p.URDF_USE_SELF_COLLISION_EXCLUDE_ALL_PARENTS please.",thanks great locomotion example collide parent part pull request could remove modification add please,issue,positive,positive,positive,positive,positive,positive
300428776,"BulletPhysics wiki page for [MotionState](http://www.bulletphysics.org/mediawiki-1.5.8/index.php/MotionStates#Interpolation) says

>  **Interpolation**
> Bullet knows how to interpolate body movement for you. As mentioned, implementation of interpolation is handled through MotionStates.
 > If you attempt to ask a body for its position, it will return the position at the end of the last physics tick. That's useful for many things, but for rendering you will want some interpolation. Bullet interpolates the transform of the body before passing the value to setWorldTransform.
 > If you want the non-interpolated position of a body [which will be the position as it was calculated at the end of the last physics tick], use btRigidBody::getWorldTransform() and query the body directly.
 > To get the interpolated values for rendering it is necessary to call StepSimulation(deltaTime) in your rendering loop. Only include a deltaTime parameter, no other arguments. 

Seems like while debug drawing the physics world, BulletPhysics uses non-interpolated position of a body while the graphical mesh uses interpolated position. This difference causes lag while debug drawing.

So the question is if a moving body has graphical mesh at _(0.0, 20.059, 0.0)_ and the debug drawer shows the collision shape at _(0.0, 20.017, 0.0)_; which one is the correct/actual position of rigid body?",page interpolation bullet interpolate body movement implementation interpolation handled attempt ask body position return position end last physic tick useful many rendering want interpolation bullet transform body passing value want position body position calculated end last physic tick use query body directly get rendering necessary call rendering loop include parameter like drawing physic world position body graphical mesh position difference lag drawing question moving body graphical mesh drawer collision shape one position rigid body,issue,negative,positive,positive,positive,positive,positive
300358098,"I should be able to stick with python as long as I can manage performance bottlenecks, I'll explain why I asked. 

I work on a project called [costar](https://github.com/cpaxton/costar_stack) that uses more traditional approaches to planning and control with a combination of C++ and python code. For that reason, accessing a single scene instance from both python and C++ would be convenient but not a blocking requirement. A motivating example where C/C++ provides a substantial benefit would be if bullet could take in high bandwidth data like either a point cloud from an RGBD sensor or a mesh continuously updated via C/C++. An example of such a mesh would be one created with data from SLAM running outside bullet. 

I'm planning to modify costar to use a combination of something more traditional like the [Tasks robot model based control and constrained optimization library](https://github.com/jrl-umi3218/Tasks) alongside machine learning for decision making. Actually since it looks like some of the IK stuff in bullet may be in progress Tasks may be a useful/interesting/relevant resource. The new pybullet functionality looks like it will be a great resource for the machine learning / reinforcement learning component, so thanks for the great work!

My cmake config was the same as #1107 I ran into this error first and it was with the addition of `-DUSE_SOFT_BODY_MULTI_BODY_DYNAMICS_WORLD=ON`.

I actually encountered this compiler error both in Linux and OS X. #1107 is OS X only.

Here were the Linux flags and a [script to reproduce](https://github.com/ahundt/robotics_setup/blob/master/bullet.sh), though the soft body flag is removed in the linked code so I can compile on linux:

```

cmake .. \
-DCMAKE_C_FLAGS_RELEASE=-DNDEBUG \
-DCMAKE_CXX_FLAGS_RELEASE=-DNDEBUG \
-DCMAKE_INSTALL_PREFIX=/usr/local \
-DCMAKE_BUILD_TYPE=Release \
-DCMAKE_FIND_FRAMEWORK=LAST \
-DCMAKE_VERBOSE_MAKEFILE=ON \
-Wno-dev \
-DHAVE_CLOCK_GETTIME:INTERNAL=0 \
-DINSTALL_EXTRA_LIBS=ON \
-DBUILD_UNIT_TESTS=OFF \
-DUSE_DOUBLE_PRECISION=ON \
-DBUILD_BULLET2_DEMOS=ON \
-DBUILD_PYBULLET=ON \
-DBUILD_PYBULLET_NUMPY=ON \
-DBUILD_PYBULLET_CLSOCKET=ON \
-DBUILD_PYBULLET_ENET=ON \
-DBUILD_ENET=ON \
-DBUILD_CLSOCKET=ON \
-DBUILD_SHARED_LIBS=ON \
-DUSE_SOFT_BODY_MULTI_BODY_DYNAMICS_WORLD=ON
```
",able stick python long manage performance explain work project costar traditional control combination python code reason single scene instance python would convenient blocking requirement example substantial benefit would bullet could take high data like either point cloud sensor mesh continuously via example mesh would one data slam running outside bullet modify costar use combination something traditional like robot model based control constrained optimization library alongside machine learning decision making actually since like stuff bullet may progress may resource new functionality like great resource machine learning reinforcement learning component thanks great work ran error first addition actually compiler error o o script reproduce though soft body flag removed linked code compile,issue,positive,positive,positive,positive,positive,positive
300352952,"Well, I think pip install pybullet is the way to go. Perhaps it is better to remove cmake support to build pybullet, since even if you build pybullet, you still have to make sure python finds the module. That is exactly what pip does. You can also run python setup.py install in the root of Bullet. I wouldn't waste time trying to get cmake building pybullet.",well think pip install way go perhaps better remove support build since even build still make sure python module exactly pip also run python install root bullet would waste time trying get building,issue,positive,positive,positive,positive,positive,positive
300352684,"It is the 64 bit python installed by homebrew:

```
± brew info python
python: stable 2.7.13 (bottled), HEAD
Interpreted, interactive, object-oriented programming language
https://www.python.org
/usr/local/Cellar/python/2.7.13 (3,630 files, 50.2MB) *
  Poured from bottle on 2017-01-09 at 22:20:08
From: https://github.com/Homebrew/homebrew-core/blob/master/Formula/python.rb

± which python
/usr/local/bin/python

± python -c 'import struct;print( 8 * struct.calcsize(""P""))'
64
```

If I remove the manually specified python include/lib paths the cmake find script does appear to mix and match finding python2 and python3 headers/libraries. For that item, perhaps incorporating a more robust cmake implementation that finds python could be the way to go?

https://github.com/opencv/opencv/blob/dd379ec9fddc1a1886766cf85844a6e18d38c4f1/cmake/OpenCVDetectPython.cmake",bit python brew python python stable bottled head interactive language bottle python python print remove manually python find script appear mix match finding python python item perhaps robust implementation python could way go,issue,positive,neutral,neutral,neutral,neutral,neutral
300350144,"@erwincoumans In 2 I meant to say: I think a one liner that runs ExampleBrowser would be a useful prelude to hello pybullet that lets users play with the functionality before coding. Sorry about the typo! 

Something like this, but with whatever extra step makes sure it doesn't exit immediately:

`python -c ""import pybullet as p; p.connect(p.GUI); ""`

Thanks for the help!",meant say think one liner would useful prelude hello play functionality sorry typo something like whatever extra step sure exit immediately python import thanks help,issue,positive,positive,neutral,neutral,positive,positive
300309459,"If I find some time, I can check if we can fix the DAE importer to accept those meshes. Otherwise, we could just use Blender to convert those DAE to .obj, that should work fine.",find time check fix dae importer accept otherwise could use blender convert dae work fine,issue,positive,positive,positive,positive,positive,positive
300272292,"Here's an example mesh: https://github.com/ros-industrial/universal_robot/blob/kinetic-devel/ur_description/meshes/ur5/visual/wrist1.dae

The collision meshes -- STLs -- all seem to load just fine.",example mesh collision seem load fine,issue,negative,positive,positive,positive,positive,positive
300266838,Collada DAE is an extremely complicated format and Bullet only supports a very simple subset of DAE. It would be best to convert it into Wavefront .obj or STL files. Do you have a pointer to the URDF+DAE files?,dae extremely complicated format bullet simple subset dae would best convert pointer,issue,positive,positive,positive,positive,positive,positive
300266669,"Correction: I can actually load the robot itself, but not the Collada DAE meshes.
![image](https://cloud.githubusercontent.com/assets/3286631/25867324/1692e5f0-34ae-11e7-9e19-d3ebbe5f7a4a.png)

These are from: https://github.com/ros-industrial/universal_robot",correction actually load robot dae image,issue,negative,neutral,neutral,neutral,neutral,neutral
300260792,"Most of the Bullet/src/Bullet3* folders are not really used yet, the active version is still Bullet/src/BulletCollision and Bullet/src/BulletDynamics and Bullet/src/LinearMath. Bullet rigid body dynamics is based on a velocity level LCP solver using semi-implicit Euler integration. Only the cloth/soft body dynamics in Bullet/src/BulletSoftBody is using a similar approach to position based dynamics.

Also, I don't have many cycles to accept many pull request, so you may just focus on adding documentation in your fork for now.",really used yet active version still bullet rigid body dynamic based velocity level solver integration body dynamic similar approach position based dynamic also many accept many pull request may focus documentation fork,issue,positive,positive,positive,positive,positive,positive
300258074,Isn't the python 2 on Mac OSX just 32bit? Your cmake seems to compiles in 64bit mode. Could that be the cause of the linker errors?,python mac bit bit mode could cause linker,issue,negative,neutral,neutral,neutral,neutral,neutral
300253285,"Which python version are you using and what flags/options do you enable exactly using cmake? cmake with standard out-of-the-box options should build, since it is in Appveyor and Travis.
 I think by default, the system version of Mac OSX is 32bit, but your cmake build seems to be 64bit.",python version enable exactly standard build since travis think default system version mac bit build bit,issue,negative,neutral,neutral,neutral,neutral,neutral
300248672,"1) Yes, you can run most of the pybullet examples under Bullet/examples/pybullet/examples, after you installed using ""pip install pybullet"".
2) Isn't there an introduction before Hello pybullet?
3) The ExampleBrowser will automatically open when you use ""import pybullet as p, p.connect(p.GUI)"". The ExampleBrowser will run in 'PhysicsServer"" mode. No need for separate Bullet install, not installation of ExampleBrowser. Of course you can separately install Bullet and ExampleBrowser, and as long as the versions match with pip pypi pybullet, it should work fine (assuming both use either 32bit or 64bit)",yes run pip install introduction hello automatically open use import run mode need separate bullet install installation course separately install bullet long match pip work fine assuming use either bit bit,issue,positive,positive,positive,positive,positive,positive
300246462,"Hi Erwin, I have changed the naming for dynamics info. Thank you!",hi naming dynamic thank,issue,positive,neutral,neutral,neutral,neutral,neutral
300211562,"Sure, we should fix the cmake build. Why is pybullet not sufficient? pybullet works great with tensorflow. So you want a ROS - pybullet bridge? I think the c - api is not needed for that.",sure fix build sufficient work great want bridge think,issue,positive,positive,positive,positive,positive,positive
300193571,I think this is likely solved fairly easily by adding whatever lib has a `btSoftBodyRigidBodyCollisionConfiguration` implementation to the `target_link_libraries()` call in whatever is compiling `PhysicsServerCommandProcessor`.,think likely fairly easily whatever implementation call whatever,issue,negative,positive,positive,positive,positive,positive
300191836,"As mentioned in #1106 I use ROS and TensorFlow, which means using both the C/C++ & Python APIs, and I was hoping to use a single installation for integrating both. Wouldn't that be best handled via the CMake install process?",use python use single installation would best handled via install process,issue,positive,positive,positive,positive,positive,positive
300191490,"#1107 is with DUSE_SOFT_BODY_MULTI_BODY_DYNAMICS_WORLD disabled, but that one fails due to separate issues with the CMake configuration.

I use ROS and TensorFlow, which means using both the C & Python APIs, and I was hoping to use a single installation for integrating both.
",disabled one due separate configuration use python use single installation,issue,negative,negative,negative,negative,negative,negative
300146048,"@erwincoumans sir,

I'm not asking you to debug my code.
I've checked several times with debugger and found that values returned by `btRigidBody->getWorldTransfrom()` and `btRigidBody->getMotionState()->getWorldTransfrom()` are different.

As a proof I did modify a few lines in **OpenGLGuiHelper.cpp** to prove my observation. Here is the [screenshot](http://i.imgur.com/wXXXdwP.png) of my observation.

Kindly look at the **Watch1** panel at the bottom of image and notice the difference in m_origin values.

 ```
m_DynamicsWorld->stepSimulation(1 / 60.0f, 10);
btTransform trans, trans2;
trans2 = m_RigidBodies.at(""CubeMesh"")->m_Body->getWorldTransform();

m_RigidBodies.at(""CubeMesh"")->m_Body->getMotionState()->getWorldTransform(trans);
/*
 * using
 * m_RigidBodies.at(""CubeMesh"")->m_Body->getMotionState()->getWorldTransform(trans);
 *
 * causes the graphical mesh to lag behind the collision shape in DebugDraw call
 * Checking with debugger shows that the lag error keeps on increasing
 * */
// Added a Breakpoint here and found that btTransform.m_origin has different values for ""trans"" and ""trans2""
glm::mat4 M;
trans.getOpenGLMatrix(glm::value_ptr(M));
m_RigidBodies.at(""CubeMesh"")->GetGraphicalObject()->Model = M;

if (m_DebugDraw) {
    m_DynamicsWorld->debugDrawWorld();
}
```

Looking at the demo code provided in bullet physics's source for [OpenGLGuiHelper.cpp](https://github.com/bulletphysics/bullet3/blob/master/examples/ExampleBrowser/OpenGLGuiHelper.cpp#L307) shows that **btCollisionObject->getWorldTransforms()** is used to sync Physics world to Graphics world instead of MotionState.

I am using btDefaultMotionState while adding rigid bodies to the dynamic physics world. If btMotionState works as it should then both Transforms should have same value for `m_origin` for a rigid body.

If my observations are valid proof of a BUG in bulletphysics then I suggest you to reopen this issue.
Thanks",sir code checked several time found returned different proof modify prove observation observation kindly look watch panel bottom image notice difference graphical mesh lag behind collision shape call lag error increasing added found different model looking code provided bullet physic source used sync physic world graphic world instead rigid dynamic physic world work value rigid body valid proof bug suggest reopen issue thanks,issue,negative,positive,neutral,neutral,positive,positive
300129963,Don't define DUSE_SOFT_BODY_MULTI_BODY_DYNAMICS_WORLD. Does it work then? For pybullet use pip install pybullet. See also the pybullet quickstart guide at pybullet.org,define work use pip install see also guide,issue,negative,neutral,neutral,neutral,neutral,neutral
300129493,"Simply use pip install pybullet.
That works on Mac, Windows and Linux and doesn't need cmake nor Bullet to
be installed.

On Tuesday, 9 May 2017, Andrew Hundt <notifications@github.com> wrote:

> I'm trying to update the Homebrew/homebrew-core
> <https://github.com/Homebrew/homebrew-core> repository with this new
> bullet.rb
> <https://github.com/ahundt/homebrew-core/blob/bullet/Formula/bullet.rb>
> install script, which is modified to support pybullet with these changes
> <https://github.com/ahundt/homebrew-core/commit/fd915407ba908b709f5d711a4529ac0bac8d9320>
> in a ahundt/homebrew-core bullet branch
> <https://github.com/ahundt/homebrew-core/tree/bullet>, but there appears
> to be bugs in bullet's own CMake script for setting Python and NumPy
> variables on OSX, triggering CMake build error and selecting the incorrect
> python library version.
>
> I attempt to install with the following command:
>
> brew uninstall bullet --ignore-dependencies; brew install bullet --with-demo --with-double-precision --with-framework -v
>
> The formula (aka ruby install script) repository should be in the
> /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core/Formula folder if
> brew is installed.
>
> My updated version of the script generates this cmake command:
>
> cmake
> ..
> -DCMAKE_C_FLAGS_RELEASE=-DNDEBUG
> -DCMAKE_CXX_FLAGS_RELEASE=-DNDEBUG
> -DCMAKE_INSTALL_PREFIX=/usr/local/Cellar/bullet/2.86.1_1
> -DCMAKE_BUILD_TYPE=Release
> -DCMAKE_FIND_FRAMEWORK=LAST
> -DCMAKE_VERBOSE_MAKEFILE=ON
> -Wno-dev
> -DHAVE_CLOCK_GETTIME:INTERNAL=0
> -DINSTALL_EXTRA_LIBS=ON
> -DBUILD_UNIT_TESTS=OFF
> -DUSE_DOUBLE_PRECISION=ON
> -DBUILD_BULLET2_DEMOS=ON
> -DBUILD_PYBULLET_MAC_USE_PYTHON_FRAMEWORK=ON
> -DBUILD_PYBULLET=ON
> -DBUILD_PYBULLET_NUMPY=ON
> -DBUILD_PYBULLET_CLSOCKET=ON
> -DBUILD_PYBULLET_ENET=ON
> -DPYTHON_EXECUTABLE=/usr/local/opt/python/bin/python
> -DPYTHON_LIBRARIES=/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib
> -DPYTHON_INCLUDE_DIR=/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/Versions/2.7/include/python2.7
> -DPYTHON_NUMPY_INCLUDE_DIR=/usr/local/lib/python2.7/site-packages/numpy/core/include
> -DBUILD_ENET=ON
> -DBUILD_CLSOCKET=ON
> -DBUILD_SHARED_LIBS=ON
> -DFRAMEWORK=ON
> -DCMAKE_INSTALL_PREFIX=/usr/local/Cellar/bullet/2.86.1_1/Frameworks
> -DCMAKE_INSTALL_NAME_DIR=/usr/local/Cellar/bullet/2.86.1_1/Frameworks
>
> The command above produces the linker error below. This is most likely due
> to the attempt at linking python 3 with /usr/local/Frameworks/Python.
> framework/Versions/3.6/lib/libpython3.6m.dylib despite python 2 being
> specified:
>
> [ 80%] Linking CXX shared library pybullet.dylib
> cd /Users/athundt/source/bullet3/build_cmake/examples/pybullet && /usr/local/Cellar/cmake/3.8.1/bin/cmake -E cmake_link_script CMakeFiles/pybullet.dir/link.txt --verbose=1
> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -DNDEBUG -dynamiclib -Wl,-headerpad_max_install_names -compatibility_version 2.87.0 -current_version 2.87.0 -o pybullet.2.87.dylib -install_name /Users/athundt/source/bullet3/build_cmake/examples/pybullet/pybullet.2.87.dylib CMakeFiles/pybullet.dir/pybullet.c.o CMakeFiles/pybullet.dir/__/SharedMemory/IKTrajectoryHelper.cpp.o CMakeFiles/pybullet.dir/__/ExampleBrowser/InProcessExampleBrowser.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/TinyRendererVisualShapeConverter.cpp.o CMakeFiles/pybullet.dir/__/OpenGLWindow/SimpleCamera.cpp.o CMakeFiles/pybullet.dir/__/TinyRenderer/geometry.cpp.o CMakeFiles/pybullet.dir/__/TinyRenderer/model.cpp.o CMakeFiles/pybullet.dir/__/TinyRenderer/tgaimage.cpp.o CMakeFiles/pybullet.dir/__/TinyRenderer/our_gl.cpp.o CMakeFiles/pybullet.dir/__/TinyRenderer/TinyRenderer.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/InProcessMemory.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsClient.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsServer.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsServerExample.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/SharedMemoryInProcessPhysicsC_API.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsServerSharedMemory.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsDirect.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsDirectC_API.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsServerCommandProcessor.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsClientSharedMemory.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsClientSharedMemory_C_API.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsClientC_API.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/Win32SharedMemory.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PosixSharedMemory.cpp.o CMakeFiles/pybullet.dir/__/Utils/b3ResourcePath.cpp.o CMakeFiles/pybullet.dir/__/Utils/RobotLoggingUtil.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/tinyxml/tinystr.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/tinyxml/tinyxml.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/tinyxml/tinyxmlerror.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/tinyxml/tinyxmlparser.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/Wavefront/tiny_obj_loader.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/stb_image/stb_image.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportColladaDemo/LoadMeshFromCollada.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportObjDemo/LoadMeshFromObj.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportObjDemo/Wavefront2GLInstanceGraphicsShape.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportMJCFDemo/BulletMJCFImporter.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportURDFDemo/BulletUrdfImporter.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportURDFDemo/MyMultiBodyCreator.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportURDFDemo/URDF2Bullet.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportURDFDemo/UrdfParser.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportURDFDemo/urdfStringSplit.cpp.o CMakeFiles/pybullet.dir/__/Importers/ImportMeshUtility/b3ImportMeshUtility.cpp.o CMakeFiles/pybullet.dir/__/MultiThreading/b3PosixThreadSupport.cpp.o CMakeFiles/pybullet.dir/__/MultiThreading/b3Win32ThreadSupport.cpp.o CMakeFiles/pybullet.dir/__/MultiThreading/b3ThreadSupportInterface.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsClientUDP.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsClientUDP_C_API.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/win32.c.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/unix.c.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/callbacks.c.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/compress.c.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/host.c.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/list.c.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/packet.c.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/peer.c.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/enet/protocol.c.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsClientTCP.cpp.o CMakeFiles/pybullet.dir/__/SharedMemory/PhysicsClientTCP_C_API.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/clsocket/src/SimpleSocket.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/clsocket/src/ActiveSocket.cpp.o CMakeFiles/pybullet.dir/__/ThirdPartyLibs/clsocket/src/PassiveSocket.cpp.o ../ExampleBrowser/libBulletExampleBrowserLib.2.87.dylib ../../Extras/Serialize/BulletWorldImporter/libBulletWorldImporter.2.87.dylib ../../src/BulletSoftBody/libBulletSoftBody.2.87.dylib ../../Extras/InverseDynamics/libBulletInverseDynamicsUtils.2.87.dylib ../../src/BulletInverseDynamics/libBulletInverseDynamics.2.87.dylib ../OpenGLWindow/libOpenGLWindow.dylib ../ThirdPartyLibs/Gwen/libgwen.dylib ../ThirdPartyLibs/BussIK/libBussIK.dylib ../../src/Bullet3Common/libBullet3Common.2.87.dylib /usr/local/Frameworks/Python.framework/Versions/3.6/lib/libpython3.6m.dylib -framework Cocoa -framework OpenGL ../../Extras/Serialize/BulletFileLoader/libBulletFileLoader.2.87.dylib ../../src/BulletDynamics/libBulletDynamics.2.87.dylib ../../src/BulletCollision/libBulletCollision.2.87.dylib ../../src/LinearMath/libLinearMath.2.87.dylib
> Undefined symbols for architecture x86_64:
>   ""_PyCObject_AsVoidPtr"", referenced from:
>       __import_array in pybullet.c.o
>   ""_PyCObject_Type"", referenced from:
>       __import_array in pybullet.c.o
>   ""_PyInt_FromLong"", referenced from:
>       _pybullet_connectPhysicsServer in pybullet.c.o
>       _pybullet_loadSDF in pybullet.c.o
>       _pybullet_loadBullet in pybullet.c.o
>       _pybullet_loadMJCF in pybullet.c.o
>       _pybullet_getNumBodies in pybullet.c.o
>       _pybullet_getBodyUniqueId in pybullet.c.o
>       _pybullet_getNumConstraints in pybullet.c.o
>       ...
>   ""_PyString_FromString"", referenced from:
>       _pybullet_getBodyInfo in pybullet.c.o
>       _pybullet_getJointInfo in pybullet.c.o
>       _pybullet_getVisualShapeData in pybullet.c.o
>   ""_Py_InitModule4_64"", referenced from:
>       _initpybullet in pybullet.c.o
> ld: symbol(s) not found for architecture x86_64
> clang: error: linker command failed with exit code 1 (use -v to see invocation)
> make[2]: *** [examples/pybullet/pybullet.2.87.dylib] Error 1
> make[1]: *** [examples/pybullet/CMakeFiles/pybullet.dir/all] Error 2
> make: *** [all] Error 2
>
> #1106 <https://github.com/bulletphysics/bullet3/issues/1106> is also a
> related issue.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1107>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3KJ6Uw2ZsTrVgLXQEFe8DcIt_lo_ks5r4BaZgaJpZM4NU7R4>
> .
>
",simply use pip install work mac need bullet may wrote trying update repository new install script support bullet branch bullet script setting python build error incorrect python library version attempt install following command brew bullet brew install bullet formula aka ruby install script repository folder brew version script command command linker error likely due attempt linking python despite python linking library cocoa undefined architecture symbol found architecture clang error linker command exit code use see invocation make error make error make error also related issue thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
300097557,Sure - sorry if there was a confusion. I can see it was removed in the master branch. The issue with 2.68.1 was that it is a missing symbol in our wrapping - since we wrap all methods.,sure sorry confusion see removed master branch issue missing symbol wrapping since wrap,issue,negative,negative,neutral,neutral,negative,negative
299927189,"Thanks for the pull request! Could you please rename DynamicInfo to DynamicsInfo (with the s),
since mass and inertia are dynamics properties (not dynamic properties).

b3GetDynamicInfoCommandInit-> b3GetDynamicsInfoCommandInit
b3GetDynamicInfo -> b3GetDynamicsInfo
CMD_GET_DYNAMIC_INFO_COMPLETED -> CMD_GET_DYNAMICS_INFO_COMPLETED
CMD_GET_DYNAMIC_INFO -> CMD_GET_DYNAMICS_INFO
",thanks pull request could please rename since mass inertia dynamic dynamic,issue,positive,positive,neutral,neutral,positive,positive
299924670,"This is on purpose, since the btCollisionWorld doesn't have constraints, only collision object information. If you want to serialize constraints, use the btBulletWorldImporter (in Extras/Serialize)",purpose since collision object information want serialize use,issue,negative,neutral,neutral,neutral,neutral,neutral
299891130,"Maybe it is better to ask this question at the Bullet Physics forum:

[http://bulletphysics.org/Bullet/phpBB3/](http://bulletphysics.org/Bullet/phpBB3/)",maybe better ask question bullet physic forum,issue,negative,positive,positive,positive,positive,positive
299888156,"We are not going to debug your code.There is no magic, the synchronization of motion states happens in btDiscreteDynamicsWorld::stepSimulation. Make sure rendering and debug drawing BOTH happen right after stepSimulation.",going magic synchronization motion make sure rendering drawing happen right,issue,negative,positive,positive,positive,positive,positive
299886113,"Tried that before posting the issue.
Still the graphical mesh lags behind the collision shape.",tried posting issue still graphical mesh behind collision shape,issue,negative,negative,negative,negative,negative,negative
299832396,"pybullet can currently only load models from urdf, sdf and mjcf files. No customly created models. I think that makes it a no-go for you until now, right? ",currently load think right,issue,negative,positive,positive,positive,positive,positive
299742324,"Hey @erwincoumans, I'm starting to use Bullet in my position based dynamics research, and how I get to understand code is I read through it, and document my findings. I'm adding these as doxygen formatted comments in the headers, and I've made sure not to make any non-whitespace/comment changes. 

I'm also going through and documenting the time stepping procedure, so I'm going to write up documentation here also. ",hey starting use bullet position based dynamic research get understand code read document made sure make also going time stepping procedure going write documentation also,issue,positive,positive,positive,positive,positive,positive
299696491,Oh thanks! Sorry I didn't see that. Will check it out!,oh thanks sorry see check,issue,negative,negative,negative,negative,negative,negative
299682088,"Thanks for creating a clean reproduction of the humanoid using TensorFlow!

At a first glance, biggest issue is you are using torque control, which very easily leads to 'explosions' due to insufficient damping. Position control or velocity control will be much more stable and easier (which is what we are doing for most robots). Our MuJoCo importer doesn't load or apply damping. You can easily introduce some damping force by using a non-zero force when setting the VELOCITY_CONTROL line. This is similar to the MuJoCo implicit damping (although using a velocity motor instead of modifying the mass matrix).


dampingForce = 1 (this number needs to be tweaked, larger or smaller, perhaps we convert it from MJCF file 'damping' parameters)
for j in range( p.getNumJoints(human) ):
		...
		p.setJointMotorControl2(human, j, controlMode=p.VELOCITY_CONTROL, force=dampingForce)

I'll spend a bit more time on it upcoming days.",thanks clean reproduction humanoid first glance biggest issue torque control easily due insufficient damping position control velocity control much stable easier importer load apply damping easily introduce damping force force setting line similar implicit damping although velocity motor instead mass matrix number need smaller perhaps convert file range human human spend bit time upcoming day,issue,positive,positive,positive,positive,positive,positive
299652281,"It is suppose to be an early out, probably not a big deal. The intention was to test if the factor was non-zero, assuming it was a scalar, but it is a vector indeed.  if (m_angularFactor.length2()) would keep the original intention.

",suppose early probably big deal intention test factor assuming scalar vector indeed would keep original intention,issue,negative,positive,positive,positive,positive,positive
299651985,"Copy/paste bug indeed, thanks for the contribution.",bug indeed thanks contribution,issue,negative,positive,positive,positive,positive,positive
299639422,"Fixed asserts, friction bug I've mentioned, also link names (to distinguish links by name on client, these names are visible.)",fixed friction bug also link distinguish link name client visible,issue,negative,positive,neutral,neutral,positive,positive
299615430,"It already has, people use pybullet.getCameraImage for computer vision. It has a built-in CPU renderer, so it is cloud-friendly. Plenty of people use it with TensorFlow, and there are examples how to convert it into numpy arrays. It works with out without some numpy optimization, see 
bullet/examples/pybullet/examples/testrender.py and testrender_np.py
This is all documented in the [pybullet quickstart guide.
](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#)",already people use computer vision renderer plenty people use convert work without optimization see guide,issue,negative,neutral,neutral,neutral,neutral,neutral
299379087,"The 'noise' may be due to too rigid contact. You can try making the floor a bit compliant:
When using URDF, you can add a contact section in the <link> add some
`

     <contact> 
     <lateral_friction value="".1""/>
      <stiffness value=""300000""/>
      <damping value=""1000""/>
    </contact>`
M`JCF xml likely has a similar stiffness/damping factor for contact that we can expose. That would remove a lot of 'jitter'/noise.",may due rigid contact try making floor bit compliant add contact section link add contact stiffness damping likely similar factor contact expose would remove lot,issue,negative,negative,neutral,neutral,negative,negative
299301172,"indeed, unused data. Thanks for the help!",indeed unused data thanks help,issue,positive,positive,positive,positive,positive,positive
299122225,"IT WORKS

It really does.

(I wish we had an option to average speed over substeps -- it's a bit noisy now)",work really wish option average speed bit noisy,issue,negative,positive,neutral,neutral,positive,positive
299069150,I finally got to implement removal of single graphics instances: https://github.com/erwincoumans/bullet3/commit/152e3da3e4cad74b4519e48cd26b694ca11f8dba,finally got implement removal single graphic,issue,negative,negative,neutral,neutral,negative,negative
298233246,"The code doesn't compile, will you replace the assert.h by btAssert?
Thanks!",code compile replace thanks,issue,negative,positive,positive,positive,positive,positive
298127978,Thanks for the contribution! It would be great to have some example Youtube video of this too :-),thanks contribution would great example video,issue,positive,positive,positive,positive,positive,positive
297963546,"@erwincoumans, what about this pr?

Please merge it with upstream.

Or if you plane fix this warnings yourself, then please make a patch-file for version 2.86.1

P.S. the line number from the comment is valid for version 2.86.1",please merge upstream plane fix please make version line number comment valid version,issue,positive,neutral,neutral,neutral,neutral,neutral
297911391,"What you really need is a dissolve quad faces to box, and triangles to
triangle box, and a method to cull the generated shapes by a tree or
something.

(dissolve triangle mesh and height field into their tree of shapes to test)

On Apr 26, 2017 11:46 PM, ""Erik Ogenvik"" <notifications@github.com> wrote:

> Thanks for the description. I'll look into replacing our terrain with
> triangle meshes instead. Unfortunately I'm not accustomed to the Bullet
> code enough to look into this myself.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1022#issuecomment-297626706>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WWcQl6UoNvSNMPYfPk2TuK-ukGneks5r0DnMgaJpZM4MdOYp>
> .
>
",really need dissolve quad box triangle box method cull tree something dissolve triangle mesh height field tree test wrote thanks description look terrain triangle instead unfortunately accustomed bullet code enough look thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
297626706,Thanks for the description. I'll look into replacing our terrain with triangle meshes instead. Unfortunately I'm not accustomed to the Bullet code enough to look into this myself.,thanks description look terrain triangle instead unfortunately accustomed bullet code enough look,issue,negative,negative,neutral,neutral,negative,negative
297592881,"It is due to local penetration depth recovery, heightfield elements push the boxes sideways instead of upward. We should fix it at some stage (I have a lot of other things to do).",due local penetration depth recovery push sideways instead upward fix stage lot,issue,negative,negative,neutral,neutral,negative,negative
297582672,"My guess is a ratio problem. Is that terrain one big quad? Or is it subdivided into smaller quads? Smaller quads give less of size ratio between the colliding quad and the box. Terrain height fields are suspect because they aren't sold, i.e. if in the real world the ground had width and breadth but was infinitely thin then things would fall through and computer simulations would be correct.",guess ratio problem terrain one big quad smaller smaller give le size ratio quad box terrain height suspect sold real world ground width breadth infinitely thin would fall computer would correct,issue,negative,negative,neutral,neutral,negative,negative
297176578,"Alternatively I could just append it to the jointInfo as another field. I just did this in a separate branch for my purposes since the linkName is already properly stored, but not accessible.",alternatively could append another field separate branch since already properly accessible,issue,negative,positive,positive,positive,positive,positive
297163709,"How would you like to make the link names accessible? I would suggest to introduce a getLinkInfo(bodyIndex, linkIndex) which could return all sorts of things like shapetype, scaling and my highly desired link name.",would like make link accessible would suggest introduce could return like scaling highly desired link name,issue,positive,positive,positive,positive,positive,positive
295345702,"BulletRobotics -- sounds great!

pybullet -- yes roboschool has its own bindings, because pybullet can be a limiting factor in terms of what can be done. Obviously physics library should be at C++ level, with minimum work left to python (because speed), also more advanced features require python binding anyway.

memory leaks -- no, ordinary work with MJCF leaks memory, not error cases. You see I've deleted destructor from urdf-only code and placed it into header, that's the main source of the leak.

OK let me rebase this...",great yes limiting factor done obviously physic library level minimum work left python speed also advanced require python binding anyway memory ordinary work memory error see destructor code header main source leak let rebase,issue,positive,positive,positive,positive,positive,positive
295335084,"Thanks for the contribution. The PhysicsClientC_API will be named BulletRobotics and all files related to this library need to be moved into the Bullet/src folder. So no CMakeList.txt that points to the examples or Extras folder. Can you remove the CMakeLists.txt, so I can accept the other changes? (github has no way to partially accept a pull request).  I will create this Bullet/src/BulletRobotics library soon, using a similar subset as your suggested CMakeLists.txt

We have zero memory leaks in our tests, but our tests assume zero issues with the URDF files (we don't test MJCF at the moment). It looks like you found and fixed some leaks for URDF files with issues (duplicate links, duplicate joints etc), good to sort those indeed.

By the way, do you consider using pybullet at all, or do you re-create your own Python bindings?",thanks contribution related library need folder folder remove accept way partially accept pull request create library soon similar subset zero memory assume zero test moment like found fixed duplicate link duplicate good sort indeed way consider python,issue,positive,positive,positive,positive,positive,positive
294563140,"Thanks. Can you tell which BSD distribution + version you use?

Secondly, does pybullet build
(when using python setup.py build or python setup.py install, from the root of Bullet)
",thanks tell distribution version use secondly build python build python install root bullet,issue,negative,positive,neutral,neutral,positive,positive
294561935,Can you help fixing it? It would be nice to have pip/setup.py work on BSD too.,help fixing would nice work,issue,positive,positive,positive,positive,positive,positive
294554341,"Thanks for sharing. The issue you are pointing out is not surprising, but due to local penetration depth recovery: the height-field is a group of elements (extruded triangles, forming some kind of 3d prism). If a box smaller than the element width drop in-between multiple elements, those elements push the box sideways instead of upwards. 

We could use triangles instead of extruded triangles (prisms/boxes) elements to avoid this issue.",thanks issue pointing surprising due local penetration depth recovery group forming kind prism box smaller element width drop multiple push box sideways instead upwards could use instead avoid issue,issue,positive,positive,positive,positive,positive,positive
294548509,"Thanks for the contribution. I haven't tried BSD myself yet, which BSD distribution/version did you use?
Did you try pybullet with BSD (python setup.py install) after your modifications?

It looks harmless to apply anyway, so let's do that.
Thanks!
Erwin
",thanks contribution tried yet use try python install harmless apply anyway let thanks,issue,positive,positive,positive,positive,positive,positive
294529509,"Both issues are address in this commit:
https://github.com/bulletphysics/bullet3/commit/ad2099e107174759cf6d4d80469fd6c157858b89
Since the 2nd one isn't an issue, no action is needed.
Thanks!",address commit since one issue action thanks,issue,positive,positive,positive,positive,positive,positive
294500235,"Thanks for the review, the 1st and 3rd are valid issues we need to fix. The 2nd seems pointless, since we check for 0 pointer, so there is nothing to be freed.",thanks review st valid need fix pointless since check pointer nothing freed,issue,negative,negative,neutral,neutral,negative,negative
294284726,"I can understand that it is very annoying, as it totally inhibits you from reading the code sections...

@Banderi: I can give you a list of those that make sense to be ported. We could then remove them one by one from the old wiki and just leave a link to the new one on the old pages. This would stop people from editing the old ones.",understand annoying totally reading code give list make sense ported could remove one one old leave link new one old would stop people old,issue,negative,negative,neutral,neutral,negative,negative
294277380,"This really is a bummer. Is there no really nothing that could fix the command, or could it be temporarily disabled to see the raw text? I'm looking forward to the articles being ported though, can't wait for it! If I were any competent in which are correct and which are outdated I'd offer my full support and help in doing so.",really bummer really nothing could fix command could temporarily disabled see raw text looking forward ported though ca wait competent correct outdated offer full support help,issue,positive,positive,neutral,neutral,positive,positive
293409370,"thank you*

On Tue, Apr 11, 2017 at 12:35 PM, erwincoumans <notifications@github.com>
wrote:

> Closed #830 <https://github.com/bulletphysics/bullet3/issues/830>.
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/830#event-1038975646>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25Wfw4un3VEHLdlw21AQVTOmcf_ZdDks5ru9YegaJpZM4KT4cg>
> .
>
",thank tue wrote closed reply directly view mute thread,issue,negative,neutral,neutral,neutral,neutral,neutral
293378865,"Using latest Anaconda with cmake, this worked for me (replace /Users/erwincoumans/anaconda3 with your location):

cmake -DBUILD_PYBULLET=ON -DBUILD_PYBULLET_NUMPY=ON -DUSE_DOUBLE_PRECISION=ON -DCMAKE_BUILD_TYPE=Release -DBUILD_PYBULLET_MAC_USE_PYTHON_FRAMEWORK=OFF -DBUILD_PYBULLET_SHOW_PY_VERSION=ON -DPYTHON_INCLUDE_DIR=/Users/erwincoumans/anaconda3/include/python3.6m -DPYTHON_LIBRARY=/Users/erwincoumans/anaconda3/lib/libpython3.6m.dylib ..

make -j4
cd examples/pybullet
ln -s pybullet.dylib pybullet.so

Note that the optional cmake option  -DBUILD_PYBULLET_SHOW_PY_VERSION=ON  will show some warning with the actual PY_MAJOR_VERSION and PY_MINOR_VERSION during compilation:

Scanning dependencies of target pybullet
[ 80%] Building C object examples/pybullet/CMakeFiles/pybullet.dir/pybullet.o
/Users/erwincoumans/dev/bullet3/examples/pybullet/pybullet.c:23:9: warning: PY_MAJOR_VERSION=3 [-W#pragma-messages]
#pragma message(B3_VAR_NAME_VALUE(PY_MAJOR_VERSION))
        ^
/Users/erwincoumans/dev/bullet3/examples/pybullet/pybullet.c:24:9: warning: PY_MINOR_VERSION=6 [-W#pragma-messages]
#pragma message(B3_VAR_NAME_VALUE(PY_MINOR_VERSION))
        ^
",latest anaconda worked replace location make note optional option show warning actual compilation scanning target building object warning message warning message,issue,negative,positive,positive,positive,positive,positive
293376681,"ok, pip install pybullet works on all platforms. When using Anaconda on Mac OSX, you can use:

CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" pip install pybullet -v
(-v is for verbose, since it is compiling from source code, nice to see progress)",pip install work anaconda mac use pip install verbose since source code nice see progress,issue,positive,positive,positive,positive,positive,positive
293372912,"Mac OSX Python header locations are messed up with framework, and Anaconda different locations (#include <Python/Python.h> versus #include <Python.h>)
This fixes it: https://github.com/bulletphysics/bullet3/pull/1068

Here are 3 easy options to install pybullet, with Anaconda:
In the root of the Bullet Physics SDK source tree, run
1) CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" python setup.py install

2) when using cmake, add the flag -DBUILD_PYBULLET_MAC_USE_PYTHON_FRAMEWORK=OFF in addition to all the other options.

Globally, just use pip or pip3:
3) CFLAGS=""-DB3_NO_PYTHON_FRAMEWORK"" pip install pybullet
Make sure 'pip' matches your python pip version, check it using 'which pip'.
",mac python header framework anaconda different include versus include easy install anaconda root bullet physic source tree run python install add flag addition globally use pip pip pip install make sure python pip version check pip,issue,positive,positive,positive,positive,positive,positive
293214092,"Same thing with me, but it happens when I import the library. 



> Thomass-Air:betabot thomasjacobs$ sudo python bot.py
> Traceback (most recent call last):
>   File ""bot.py"", line 20, in <module>
>     from simulator import Simulator
>   File ""sim/simulator.py"", line 1, in <module>
>     import pybullet as p
> ImportError: dynamic module does not define module export function (PyInit_pybullet)
> Thomass-Air:betabot thomasjacobs$ python --version
> Python 3.5.2 :: Continuum Analytics, Inc.
> 


It happens when I run it with python 3.5.2, but it loads and runs fine with python 2.7. Any easy fix or workaround for 3.5?",thing import library python recent call last file line module simulator import simulator file line module import dynamic module define module export function python version python continuum analytics run python fine python easy fix,issue,positive,positive,positive,positive,positive,positive
293007228,"Yes, for joints, but not for links. If you load a MJCF, there are link names (<body name=""torso"" ...) and joint names (<joint name=""rot2""...). I already found the joint names to access the joints via dictionary. But I need the link names too. That is pretty standard practice in MuJoCo to use the names.",yes link load link body torso joint joint rot already found joint access via dictionary need link pretty standard practice use,issue,positive,positive,positive,positive,positive,positive
292512833,"No, these things are not in the manual. I have no idea what might have
caused this. Did you do any changes on the server recently? Because it
seems that cpp as a language is gone on one hand and that changing the
language to something like c does not work either. The highlight command
seems to be broken.

On Fri, Apr 7, 2017 at 5:02 AM Galen Cochrane <notifications@github.com>
wrote:

> So, was this going to get fixed? It's still broken on every page on the
> wiki for me, in both chrome and firefox. It makes it very hard to learn
> anything about bullet, since some of the topics don't appear to be in the
> manual (or am I wrong?)
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1044#issuecomment-292413865>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q9DAD9OJSn0nN3lDYgrZYw6obwihks5rtadegaJpZM4Mp25O>
> .
>
",manual idea might server recently language gone one hand language something like work either highlight command broken wrote going get fixed still broken every page chrome hard learn anything bullet since appear manual wrong reply directly view mute thread,issue,negative,negative,negative,negative,negative,negative
292413865,"So, was this going to get fixed? It's still broken on every page on the wiki for me, in both chrome and firefox. It makes it very hard to learn anything about bullet, since some of the topics don't appear to be in the manual (or am I wrong?)",going get fixed still broken every page chrome hard learn anything bullet since appear manual wrong,issue,negative,negative,negative,negative,negative,negative
292149351,"I agree with you. When I started using Bullet, I was relying on all the
examples I found on the net and the examples in the repository. I feel too
that once there is a new Bullet API (3.x.x ++), there should be a better
API documentation, maybe some starter tutorials to get people interested
and some sample projects which show you how to build a small game, a small
physics simulator and a small whatsoever. I think in the longterm-view,
this also helps the refactoring of the code because more people start
contributing back to it. I do not know how Erwin thinks about this. Just my
2 c.

On Thu, Apr 6, 2017 at 11:52 AM Manuel T. Schrempf <notifications@github.com>
wrote:

> Thanks for you replies and suggestions. I created this issue not to get
> workarounds to another pybullet doc or the forum but rather simply state
> the here in this very github repo the API doc is missing.
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1058#issuecomment-292125212>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qyuVkt4Q_ZSVrBZBaKymI_U2ndxIks5rtLX1gaJpZM4M0CS7>
> .
>
",agree bullet found net repository feel new bullet better documentation maybe starter get people interested sample show build small game small physic simulator small whatsoever think also code people start back know wrote thanks issue get another doc forum rather simply state doc missing reply directly view mute thread,issue,positive,negative,neutral,neutral,negative,negative
292125212,Thanks for you replies and suggestions. I created this issue not to get workarounds to another pybullet doc or the forum but rather simply state the here in this very github repo the API doc is missing.,thanks issue get another doc forum rather simply state doc missing,issue,negative,neutral,neutral,neutral,neutral,neutral
292048836,"I already fixed those cylinder volume and capsule from/to issue a few hours ago here:
https://github.com/bulletphysics/bullet3/commit/e32debdca4a9bf6bf6a7dd1eb149a4fdd9254c41",already fixed cylinder volume capsule issue ago,issue,negative,positive,neutral,neutral,positive,positive
292043270,"Sorry for posting here, that was a terrible bug, visible only in release (not debug), ah tired as hell now :(",sorry posting terrible bug visible release ah tired hell,issue,negative,negative,negative,negative,negative,negative
291981285,Thanks for looking into this. It is likely more work reviewing your patch then fixing the warnings myself. I'll have to look at it soon.,thanks looking likely work patch fixing look soon,issue,negative,positive,neutral,neutral,positive,positive
291981041,Thanks for tracking this down! I'll check it soon and merge it.,thanks check soon merge,issue,negative,positive,positive,positive,positive,positive
291976677,"Thanks for some of the work. I'd rather use the original 
""from distutils.util import get_platform"". Why does it need to be changed?",thanks work rather use original import need,issue,positive,positive,positive,positive,positive,positive
291951123,"Just in case you are interested in making some documentation by providing more examples to the example browser, I can show you the way how you can do this easily.",case interested making documentation providing example browser show way easily,issue,positive,positive,positive,positive,positive,positive
291944947,"Or just ask on the bulletphysics.org forum, there are many active people
there!

On Wed, Apr 5, 2017 at 7:27 PM erwincoumans <notifications@github.com>
wrote:

> pybullet doesn't have classes, only methods. All methods and their input
> arguments and output are explained. Since I am planning towards a future
> Bullet API, there are no plans to further document Bullet 2.x. You can use
> doxygen or look at the examples in the example browser.
>
> Good luck!
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1058#issuecomment-291935340>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q7WCNrwzfbPr6jJDn-TyOJ9LuC31ks5rs87xgaJpZM4M0CS7>
> .
>
",ask forum many active people wed wrote class input output since towards future bullet document bullet use look example browser good luck thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
291935340,"pybullet doesn't have classes, only methods. All methods and their input arguments and output are explained. pybullet has no dependencies either. Since I am planning towards a future Bullet API, there are no plans to further document Bullet 2.x. You can use doxygen or look at the examples in the example browser.

Good luck!",class input output either since towards future bullet document bullet use look example browser good luck,issue,positive,positive,positive,positive,positive,positive
291926581,"The [pybullet documentation](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit#heading=h.d6ihmmtes1id) is a lot more detailed than the [bullet API documentation](http://bulletphysics.org/Bullet/BulletFull/index.html), yes. But not an API documentation in the first place where all classes, methods, and fields and their purpose, usage, parameters, requirements, and dependencies are explained. Nevertheless, integrating the first doc into the second would be fruitful, since looking into the pybullet doc if I'm using c++ has a high strangeness.",documentation lot detailed bullet documentation yes documentation first place class purpose usage nevertheless first doc second would fruitful since looking doc high strangeness,issue,negative,positive,positive,positive,positive,positive
291846287,"If you want to use Bullet with a documented API, go for pybullet: pybullet.org has a link to full documented API.",want use bullet go link full,issue,negative,positive,positive,positive,positive,positive
291812845,"I use [this method](https://github.com/cprogrammer1994/ModernGL/blob/master/setup.py#L4) to get the platform, but I am not able to test on Mac.",use method get platform able test mac,issue,negative,positive,positive,positive,positive,positive
291626950,Good catch! Thanks Erwin! I just pushed the fix.,good catch thanks fix,issue,positive,positive,positive,positive,positive,positive
291596090,"Thanks a lot for fixing the naming! I noticed one last left-over in the comments in pybullet, I can fix that also after merging the pull request (""fileName, optional objectUniqueId, maxLogDof, bodyIndexA, bodyIndexB, )",thanks lot fixing naming one last fix also pull request optional,issue,negative,positive,neutral,neutral,positive,positive
291571822,"Exactly, no GWEN and no OpenGL required when using DIRECT or Shared Memory. I'd like to merge the DIRECT option with 'shared memory', so that we always can have the option for pybullet scripting as well as VR,  and debug visualizer as a separate process with 1 line of code change: 'Shared memory' only adds a few files. It looks like the 'remote visual debugger' option, and channel to allow pybullet doesn't interest you much, but it is very essential for me as Bullet developer to properly support developers who integrate Bullet into their software.

My planned 'Bullet/src/BulletRoboticsSimulator' library has no need for Gwen, nor OpenGL, using DIRECT or SHARED_MEMORY connections. In SHARED_MEMORY mode, you get pybullet, VR and a OpenGL debug visualizer for free as an option, with 1 line of code change.",exactly direct memory like merge direct option memory always option well visualizer separate process line code change memory like visual option channel allow interest much essential bullet developer properly support integrate bullet library need direct mode get visualizer free option line code change,issue,positive,positive,neutral,neutral,positive,positive
291570121,"> Test_PhysicsServerDirect 

I just looked into Test_PhysicsServerDirect, it `links { ""BulletInverseDynamicsUtils"", ""BulletInverseDynamics"", ""BulletFileLoader"", ""BulletWorldImporter"", ""Bullet3Common"", ""BulletDynamics"",  ""BulletCollision"", ""BussIK"", ""LinearMath"" }` and a bunch of .cpp files... 

No Gwen? Seriously?!! Can't believe it! I'll be **so happy** if I can compile a library in the style of this PR. I'll try this ASAP.
",link bunch seriously ca believe happy compile library style try,issue,negative,positive,positive,positive,positive,positive
291541441,"@olegklimov Yes, please check Bullet/test/SharedMemory/premake4.lua, the Test_PhysicsServerDirect has no OpenGL dependency, it includes a client and server.
See also attached picture. It looks like you are 'fighting' against the Bullet client-server infrastructure and don't use pybullet nor OpenGL debug visualization etc. If you support 'shared memory', and spawn a physics server separately, you can automatically use pybullet, in addition to your own graphics/python bindings.

![physics client server components](https://cloud.githubusercontent.com/assets/725468/24665554/948d5a9c-1912-11e7-86de-755b0cc08529.png)
",yes please check dependency client server see also attached picture like bullet infrastructure use visualization support memory spawn physic server separately automatically use addition physic client server,issue,positive,neutral,neutral,neutral,neutral,neutral
291528891,"Thanks for testing!
I'll enable BT_USE_DOUBLE_PRECISION in setup.py, also will remove warnings soon. Also, I'll enable TCP and UDP connection mode.
(all constants need to be cast to btScalar, so that both single float and double precision don't spawn warnings)",thanks testing enable also remove soon also enable connection mode need cast single float double precision spawn,issue,negative,positive,neutral,neutral,positive,positive
291489333,"Erwin Coumans wrote: 
> Yes, setJointMotorControl2 in conflict with a joint limit will cause issues. We could protect against that, by merging motor and limit in one constraint (like done in 6dof constraint).",wrote yes conflict joint limit cause could protect motor limit one constraint like done constraint,issue,positive,neutral,neutral,neutral,neutral,neutral
291485168,"These are going to disappear as people clean up the warnings, but it is not
an issue anyway as btScalar is either a double or a float depending on
compilation flags. So in the worst case, it is a double to float truncation.

On Tue, Apr 4, 2017 at 1:14 PM Szabolcs Dombi <notifications@github.com>
wrote:

> compiles fine on Windows 10
>
> I get a lot of 'argument': truncation from 'double' to 'const btScalar'
> but it is fine.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1054#issuecomment-291469501>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q96shy8YV8JIgJQX-WT9xo338Aj5ks5rsiYqgaJpZM4MxItL>
> .
>
",going disappear people clean issue anyway either double float depending compilation worst case double float truncation tue wrote fine get lot truncation fine thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
291484796,"Before the bullet example browser and pybullet were built, Bullet had no
visualization at all. So I think that should be feasible again if required.

On Tue, Apr 4, 2017 at 1:11 PM Oleg Klimov <notifications@github.com> wrote:

> ...and Erwin are you saying that Bullet will continue working if OpenGL is
> not present? (why else keep separation layer) How to test this? Will it
> help to improve reload speed (no need to viz shapes)?
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1055#issuecomment-291468889>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q2JB09UILnvwFt3nXetKebrbLYBHks5rsiV7gaJpZM4MyN3x>
> .
>
",bullet example browser built bullet visualization think feasible tue wrote saying bullet continue working present else keep separation layer test help improve reload speed need thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
291469501,"compiles fine on Windows 10 with Python 3.6 32bit

I get a lot of `'argument': truncation from 'double' to 'const btScalar'` but it is fine.",fine python bit get lot truncation fine,issue,negative,positive,positive,positive,positive,positive
291468889,...and Erwin are you saying that Bullet will continue working if OpenGL is not present? (why else keep separation layer) How to test this? Will it help to improve reload speed (no need to viz shapes)?,saying bullet continue working present else keep separation layer test help improve reload speed need,issue,positive,neutral,neutral,neutral,neutral,neutral
291361605,"Okay, as a random suggestion:
Why not integrate OpenGL rendering at pybullet.c level?

* It is possible, because external renderer is possible,
* Will force you to expose debug data through C API :smile:  especially collision shape,
* Unentangle import code from render,
* Provide natural line of separation between physics and use of physics (render not allowed to peek into any C++ structures, physics cannot use render),
* Make it possible to use C API as Bullet is traditionally used,
* Improve reload time for large models (only collision shapes analysed, render can keep old models),
* Provide ability to configure or not configure render at cmake, for more platforms,
* Render as plug-in becomes possible, because very few functions are needed for basic render to work.

The downside is no rendering on server side. But that is next to useless anyway (imagine using Bullet C API to explain server how to draw sky and where to place grass and fog and lights -- python interface is a natural place to do that, on client!).

> SHARED_MEMORY

Why should it make debug easier? It makes debug harder (two debuggers simultaneously?!), compile-run-edit cycle longer. Nothing compares to simply running a program under debugger, or does it?
",random suggestion integrate rendering level possible external renderer possible force expose data smile especially collision shape unentangle import code render provide natural line separation physic use physic render peek physic use render make possible use bullet traditionally used improve reload time large collision render keep old provide ability configure configure render render becomes possible basic render work downside rendering server side next useless anyway imagine bullet explain server draw sky place grass fog python interface natural place client make easier harder two simultaneously cycle longer nothing simply running program,issue,positive,negative,neutral,neutral,negative,negative
291325872,"Thanks for also looking into this. I would like to create a library like this, like Bullet/src/BulletRoboticsSimulator. I just created a first draft to install pybullet using pip. 
(see https://pypi.python.org/pypi/pybullet/0.1.3)
Once we have the BulletRoboticsSimulator library, it will be easier/faster to use pip install pybullet, linking against those libs instead of building everything in setup.py.

Note that This 'BulletRoboticsSimulator' goes beyond just a physics engine: it loads URDF, SDF, MJCF files, can render camera images, has an OpenGL debug visualizer and client-server connection. Even without GWEN, we use OpenGL for the debug visualization and optional rendering (aside from TinyRenderer). So all together, BulletRoboticsSimulator can replace Gazebo or MuJoCo. Now, some people may want to bring their own renderer. In addition, it could be useful to have some plugin registration mechanism to inject client-code such as IMU devices or control algorithms.

1) Gwen: In the future, we could replace Gwen with another simple widgets library such as IMGUI, for the debug visualizer. We cannot just get rid of it, since some GUI is important for the built-in debug visualization.

2) We need something like glew to load OpenGL. I had to modify it, so that we can dynamically load GL1.x functions (glew doesn't do it). In addition, we can dynamically load X11 and load GLX, instead of linking against it. I want to keep this feature of dynamic loading all. So if this modified glew becomes a bother, I rather rewrite from scratch some auto-generated OpenGL bindings, since system glew doesn't solve our requirements (dynamic load X11/GLX/GL1.x).

Finally, I recommend you keep the SHARED_MEMORY connection option in your simulator, next to GUI and DIRECT. Please don't only support the 'DIRECT' mode, since it makes debugging harder.

Thanks!
I'll follow up at some stage with thoughts/attempts towards Bullet/src/BulletRoboticsSimulator.

",thanks also looking would like create library like like first draft install pip see library use pip install linking instead building everything note go beyond physic engine render camera visualizer connection even without use visualization optional rendering aside together replace gazebo people may want bring renderer addition could useful registration mechanism inject imu control future could replace another simple library visualizer get rid since important need something like load modify dynamically load addition dynamically load load instead linking want keep feature dynamic loading becomes bother rather rewrite scratch since system solve dynamic load finally recommend keep connection option simulator next direct please support mode since harder thanks follow stage towards,issue,positive,positive,positive,positive,positive,positive
291255794,Thanks for the contribution. Can you please replace all bodyIndex to bodyUniqueId in your pull request? LinkIndex / JointIndex is ok as-is.,thanks contribution please replace pull request,issue,positive,positive,positive,positive,positive,positive
291058757,"See https://pypi.python.org/pypi/pybullet
I created a setup.py file, so you only need to run 'pip install pybullet'
See also https://github.com/bulletphysics/bullet3/pull/1054
Only tested on Mac OSX, will fix Linux/Windows soon (they will have missing files/compile issues in setup.py)",see file need run install see also tested mac fix soon missing,issue,negative,negative,negative,negative,negative,negative
290901058,"Sounds like a good idea! I will start to port my articles soon and create
new ones there.

On Fri, Mar 31, 2017, 19:29 erwincoumans <notifications@github.com> wrote:

> At some stage I'd like to retire the bulletphysics.org/wiki and move to
> use github.com/bulletphysics/bullet wiki. That way, I (or someone else)
> can review all content, make sure it doesn't conflict with existing
> documentation etc.
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1044#issuecomment-290776512>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q1p15iOBI0NaeVmwpP9IoJQi-fi4ks5rrTfvgaJpZM4Mp25O>
> .
>
",like good idea start port soon create new mar wrote stage like retire move use way someone else review content make sure conflict documentation reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
290787332,"You need to install the Valve Steam SDK first. Not sure if OpenVR supports DK2 works, just google around.
We only test/support Oculus Rift CV1/final and Vive.",need install valve steam first sure work around oculus rift vive,issue,negative,positive,positive,positive,positive,positive
290783677,"How can understand OpenVR app worked?
I used Oculus DK22.",understand worked used oculus,issue,negative,neutral,neutral,neutral,neutral,neutral
290776512,"At some stage I'd like to retire the bulletphysics.org/wiki and move to use github.com/bulletphysics/bullet wiki. That way, I (or someone else) can review all content, make sure it doesn't conflict with existing documentation etc.",stage like retire move use way someone else review content make sure conflict documentation,issue,negative,positive,positive,positive,positive,positive
290775498,Do other Valve Steam and OpenVR apps work? Is this for HTC Vive or Oculus Rift/Touch?,valve steam work vive oculus,issue,negative,neutral,neutral,neutral,neutral,neutral
290427295,"@erwincoumans:

You yourself write that it is desirable to place one class per one header file.

> 4. One class per header file, smaller structures can be combined in a single file.

https://docs.google.com/document/d/1u9vyzPtrVoVhYqQOGNWUgjRbfwfCdIts_NzmvgiJ144/edit

On this basis, the files splitting, I have proposed, has the right to exist.
",write desirable place one class per one header file one class per header file smaller combined single file basis splitting right exist,issue,negative,positive,neutral,neutral,positive,positive
290245702,"@erwincoumans:

> Is there no other way to avoid splitting the files?

I do not know of other ways.

> I can't easily tell if you made any changes in the newly created files. 

I forget revert compare operator in some files.
No more changes in the splitted files. 

> This is a very hard to review patch due to splitting of the files.

if i will create new separate PRs for each splitted files. Will it be easier for you to make a decision in this case?

Or you can split these files yourself.",way avoid splitting know way ca easily tell made newly forget revert compare operator hard review patch due splitting create new separate easier make decision case split,issue,negative,positive,neutral,neutral,positive,positive
290244881,"Thanks for the contribution. Bullet uses tabs instead of spaces at the moment, and your pull request add spaces. Can you please fix this?",thanks contribution bullet instead moment pull request add please fix,issue,positive,positive,positive,positive,positive,positive
290211760,"Ah, looks like DerivePointerAlignment: true overrides PointerAlignment. It analyzes the current style of the file and so btVector3.h still got & and * on the right. So I'd also recommend DerivePointerAlignment = false.

> Does it often happen in the current Bullet codebase?

Not really, a few times only. The main reason for this recommendation is that declarations like these are really confusing:
https://github.com/bulletphysics/bullet3/blob/79d24db60f2c916ffcdaf8b074be622e2e5bc609/src/BulletDynamics/MLCPSolvers/btDantzigLCP.cpp#L1358

But also, this would be consistent with PointerAlignment: Left, because the only reason you'd want to have & or * on the right is when defining multiple pointers on one line. To me, it makes sense that & and * are part of the type and therefore should be together with the type name.",ah like true current style file still got right also recommend false often happen current bullet really time main reason recommendation like really also would consistent left reason want right multiple one line sense part type therefore together type name,issue,positive,positive,positive,positive,positive,positive
290147361,This is a very hard to review patch due to splitting of the files: I can't easily tell if you made any changes in the newly created files. Is there no other way to avoid splitting the files?,hard review patch due splitting ca easily tell made newly way avoid splitting,issue,negative,positive,neutral,neutral,positive,positive
290130637,"@erwincoumans:
I found how disable generate swig-wraper for this method.

And i revert compare operators in GIM_PAIR, GIM_BVH_DATA, GIM_BVH_TREE_NODE, and btAAB.

please review.
",found disable generate method revert compare please review,issue,negative,neutral,neutral,neutral,neutral,neutral
289569509,"![image](https://cloud.githubusercontent.com/assets/18546213/24375548/5b891dfc-1341-11e7-9da4-23d5988b0a99.png)
![image](https://cloud.githubusercontent.com/assets/18546213/24375638/b9dc6ed6-1341-11e7-9b42-8dbd12d1b493.png)

Capsule/cylinder length is used in many places, can be a bug somewhere... Works for me, but I haven't check tiny renderer for example.
",image image length used many bug somewhere work check tiny renderer example,issue,negative,positive,positive,positive,positive,positive
289563660,"> remembering the gravity vector

Yeah that was silly of me. I'm seeing things that are not there.

Let me rebase this...
",gravity vector yeah silly seeing let rebase,issue,negative,negative,negative,negative,negative,negative
289491727,"The improvements are OK, except for remembering the gravity vector: resetSimulation should reset the known startup state. Can you please revert that change, and I'll merge the PR. Thanks!",except gravity vector reset known state please revert change merge thanks,issue,positive,positive,positive,positive,positive,positive
289476065,"I created a little document for the steps I take:
https://docs.google.com/document/d/1QiEXTx49Rk8DQKUijAmWEdI1wxV27ItNCCJoiSFw2ig/edit?usp=sharing
Unless you are really confident you are familiar with the serialization process, it is generally best not to touch the serialization structures and just report an issue in this tracker instead.",little document take unless really confident familiar serialization process generally best touch serialization report issue tracker instead,issue,positive,positive,positive,positive,positive,positive
289311206,"This pull request is going to take care of it:
https://github.com/bulletphysics/bullet3/pull/1043

Note that jointMaxForce/jointMaxVelocity is not processed in Bullet at the moment. The max force can be set as part of the setJointMotorControl2 command. For jointMaxVelocity we need to implement something in the constraints.
",pull request going take care note bullet moment force set part command need implement something,issue,negative,neutral,neutral,neutral,neutral,neutral
289238350,I would love to have this information too. My MotionEnv is meant to learn to move with any kind of morphology but it requires to know a lot about the morphology to configure the agent correctly.,would love information meant learn move kind morphology know lot morphology configure agent correctly,issue,positive,positive,positive,positive,positive,positive
289072256,"> think the static parts should go into getJointInfo

You're not wrong here, and I guess your PR is done right.
",think static go wrong guess done right,issue,negative,positive,neutral,neutral,positive,positive
289070995,"I think the static parts should go into getJointInfo, the others into the
JointState, am I wrong for some reason? Joint limits will not change
afterwards or am I wrong?

On Fri, Mar 24, 2017 at 4:51 PM Oleg Klimov <notifications@github.com>
wrote:

> That would be great. Also: joint limits, joint max effort, joint max speed.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1040#issuecomment-289061953>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q3URjWGlj84uHd9I3eZFmsx2G138ks5ro-ZwgaJpZM4MniBm>
> .
>
",think static go wrong reason joint change afterwards wrong mar wrote would great also joint joint effort joint speed thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
289061953,"That would be great. Also: joint limits, joint max effort, joint max speed.",would great also joint joint effort joint speed,issue,positive,positive,positive,positive,positive,positive
289061183,I can add it in the next half hour :),add next half hour,issue,negative,negative,neutral,neutral,negative,negative
288904483,"At least I have your blessing...

And I also probably need link mass (to be able to calculate com point, body impulse).
",least blessing also probably need link mass able calculate point body impulse,issue,negative,positive,neutral,neutral,positive,positive
288901069,"That's right, no-one has asked for the world-frame velocity of links yet. It would be a good idea to add. Do you feel adventurous to add it? I did all the work to prepare for easy clang-format style re-formatting, but don't want to disturb development right now, let's wait a bit for that. Please don't reformat right now :)
",right velocity link yet would good idea add feel adventurous add work prepare easy style want disturb development right let wait bit please right,issue,positive,positive,positive,positive,positive,positive
288898230,Can you please put it into `UrdfParser.h` included by both `UrdfParser.cpp` and `BulletMJCFImporter.cpp` and see if it works for you?,please put included see work,issue,negative,neutral,neutral,neutral,neutral,neutral
288753598,"@erwincoumans:
>  Also, there are some new undocumented callbacks in the contact manifold etc.

this functionality used in [bullet libgdx extension](https://github.com/libgdx/libgdx/blob/master/extensions/gdx-bullet/jni/src/updating.txt).  

based on http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?t=7739&p=32470, as shown in https://github.com/libgdx/libgdx/commit/d492533c3ed9447560770a7482d32c2bfbae5df7:

This callbacks for started and ended contact. And I think that its are useful and can be added to upstream.

Other old callbacks in the contact manifold also are undocumented. I do not find where to write the documentation for its. Please tell me where to write the documentation about new callbacks.",also new undocumented contact manifold functionality used bullet extension based shown ended contact think useful added upstream old contact manifold also undocumented find write documentation please tell write documentation new,issue,positive,positive,positive,positive,positive,positive
288744418,Why did you split the header files? Does SWIG not work with the original headers?,split header swig work original,issue,negative,positive,positive,positive,positive,positive
288744390,"@erwincoumans, 

> Did you mean Structs? 

Yes, i mean Structs. I rename files.

> Why did you split the header files? Does SWIG not work with the original headers?

I split header because in swig generator need parse files with class use in template parameter, than [define template instance](http://www.swig.org/Doc3.0/SWIGDocumentation.html#SWIGPlus_nn30). And only after that parse class that use this template.

for example 

```
class btContactArray:public btAlignedObjectArray<GIM_CONTACT>
```

used GIM_CONTACT, and both declaration in single file.

i need do like this
```
%{
#include <BulletCollision/Gimpact/btContactProcessingSructs.h>
%}
%include ""BulletCollision/Gimpact/btContactProcessingSructs.h""

%template(btGimContactArray) btAlignedObjectArray<GIM_CONTACT>;

%{
#include <BulletCollision/Gimpact/btContactProcessing.h>
%}
%include ""BulletCollision/Gimpact/btContactProcessing.h""
```

also i add operator compare in GIM_PAIR, GIM_BVH_DATA, GIM_BVH_TREE_NODE, and btAAB.

And not change more code in this headers (""btAxisSweep3.h"", ""btContactProcessing.h"", ""btGImpactBvh.h"",   ""btGImpactQuantizedBvh.h""), and only split it.",mean yes mean rename split header swig work original split header swig generator need parse class use template parameter define template instance parse class use template example class public used declaration single file need like include include template include include also add operator compare change code split,issue,positive,negative,neutral,neutral,negative,negative
288738847,"There is a bit too much change in this pull request, please reduce it a bit to strict necessary changes.
Why did refactor and split the header files and name them ""Sructs""? Did you mean Structs?  Also, there are some new undocumented callbacks in the contact manifold etc.",bit much change pull request please reduce bit strict necessary split header name mean also new undocumented contact manifold,issue,negative,positive,neutral,neutral,positive,positive
288259014,"ok, I'm going to merge it. If there is a regression somewhere, we'll fix that afterwards.
Thanks for the work/pull request!",going merge regression somewhere fix afterwards thanks request,issue,negative,positive,positive,positive,positive,positive
288227361,"About capsules in tiny render: they will appear with cones on both sides, if I'm understanding this right. Easy to improve (add a ring halfway).",tiny render appear cone side understanding right easy improve add ring halfway,issue,positive,positive,positive,positive,positive,positive
287636219,"Please see the MJCF files, it loads the original MuJoCo environments. 2D works automatically, since it fixes the base and adds single DOFs at a time. Try running Bullet ExampleBrowser / Importers / ImportMJCF a few times and watch the various mjcf files. By default the joints are locked (motors with target 0) just use pybullet.loadMJCF and set the motors as desired.

There are also a few other ways to create this effect (using maximal coordinate constraints or btMultiBody and adding the right degrees of freedom using a fixed base).",please see original work automatically since base single time try running bullet time watch various default locked target use set desired also way create effect maximal right freedom fixed base,issue,positive,negative,negative,negative,negative,negative
287636027,"@benelot  there is a humanoid.xml from MuJoCo in Bullet/data/mjcf You can use the Bullet ExampleBrowser to see it (just run the 'Importers/ImportMJCF' a few times, it loads a different MJCF each time)",use bullet see run time different time,issue,negative,neutral,neutral,neutral,neutral,neutral
287635166,"Hey Oleg, can you point me to where you found the urdf for the humanoid of
MuJoCo? I will need this to replicate the humanoid env.

On Sun, Mar 19, 2017, 18:29 erwincoumans <notifications@github.com> wrote:

> You may also check out g3d, http://g3d.cs.williams.edu/g3d/www/index.html.
> I'm also looking for better graphics features for the OpenGL Debug
> Visualizer (also used in VR), but prefer tiny bits of code rather than a
> huge framework like Ogre etc. I haven't tired g3d yet, it would be nice if
> you can take bits you need without using their framework. Another resource
> could be from NVIDIA, https://github.com/NVIDIAGameWorks/GraphicsSamples
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1025#issuecomment-287632494>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qwnrDLNf7UQh9-yRGR_UxMUeXpbIks5rnWX4gaJpZM4MgAr0>
> .
>
",hey point found humanoid need replicate humanoid sun mar wrote may also check also looking better graphic visualizer also used prefer tiny code rather huge framework like ogre tired yet would nice take need without framework another resource could thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
287632494,"You may also check out g3d, http://g3d.cs.williams.edu/g3d/www/index.html. I'm also looking for better graphics features for the OpenGL Debug Visualizer (also used in VR), but prefer tiny bits of code rather than a huge framework like Ogre etc. I haven't tried g3d yet, it would be nice if you can take bits you need without using their framework. Another resource could be from NVIDIA, https://github.com/NVIDIAGameWorks/GraphicsSamples. If you find other permissive open source (BSD,MIT,zlib,apache etc, not (L)GPL) 3d graphics engines with the features you need, please let us know!",may also check also looking better graphic visualizer also used prefer tiny code rather huge framework like ogre tried yet would nice take need without framework another resource could find permissive open source apache graphic need please let u know,issue,positive,positive,positive,positive,positive,positive
287626925,"@benelot Please keep this pull request open, I'll re-do it and create another pull request, once done we can close both.",please keep pull request open create another pull request done close,issue,positive,neutral,neutral,neutral,neutral,neutral
287626745,"Erwin, do you want me to clean up this PR or do you modify it yourself (including the update to the serialization structure) to merge it?",want clean modify update serialization structure merge,issue,negative,positive,positive,positive,positive,positive
287626446,"Let's get back to the original issue. The main issue here is that I re-used the Bullet 2.x serialization structures to pass URDF data. The URDF stores joint limits in a Joint structure. In Bullet, joints/links and their limits/motors are split between btMultiBody, btMultiBodyLink and btMultiBodyConstraint (in case you use multibody. If using maximal coordinates, this data is stored in btRigidBody and btTypedConstraint). For now, I'll adapt the Bullet 2.x serialization structures, but eventually we need a separate internal structure to transmit such data between server and client.",let get back original issue main issue bullet serialization pas data joint joint structure bullet split case use maximal data adapt bullet serialization eventually need separate internal structure transmit data server client,issue,negative,positive,positive,positive,positive,positive
287607840,"If your compiler does not define `_INTPTR_T_DEFINED` and neither declares `intptr_t` somewhere (_c++11 not enabled?_) then declaring  `btintptr_t`  as `intptr_t` is equal to `btintptr_t` not being declared. 

I suppose that macro condition can be written as:
```
#if defined(INTPTR_MIN) || defined(INTPTR_MAX)
	typedef intptr_t btintptr_t;
#elif defined(_WIN64)
	typedef __int64 btintptr_t;
#else
	typedef long btintptr_t;
#endif
```

Although I don't see `stdint.h` included anywhere in there.

**EDIT**: nvm, `stdint.h` is included but is after that macro. which probably causes the mess.

**EDIT2**: Upon closer look, `btintptr_t` seems to be declared only on windows in the `_WIN32` branch of the macros. Lack of indentation made it a bit harder to notice.",compiler define neither somewhere equal declared suppose macro condition written defined defined defined else long although see included anywhere edit included macro probably mess edit upon closer look declared branch lack indentation made bit harder notice,issue,negative,negative,neutral,neutral,negative,negative
287607079,"Just had this on Linux as well. I could compile it recently, but not anymore since I upgraded TF. I tried to remember the changes, but could not find the reason. Is 'btintptr_t' defined somewhere for Linux? I could not find any reference in the code where it would be defined in the linux case...
",well could compile recently since tried remember could find reason defined somewhere could find reference code would defined case,issue,negative,neutral,neutral,neutral,neutral,neutral
287583226,"I mean, to use this advantages, the whole program or library should follow this points. In single C++ interface, doesn't matter if it is C or C++, will make very little difference. Ability to delete object from simulation and correctly cleanup associated resources is more important IMHO for larger use cases.
",mean use whole program library follow single interface matter make little difference ability delete object simulation correctly cleanup associated important use,issue,negative,positive,neutral,neutral,positive,positive
287582580,"I don't see much improvement over C version. C++ has its advantages, specifically:

* STL helps with standard containers everyone knows how to use,

* `boost::shared_ptr<T>` lets you forget about memory management. I like to compare shared_ptr<> to python object that you pass in python without thinking. If you do the same in C++ program, it improves.

* Exceptions let you handle errors efficiently, also there is a possibility to convert C++ exceptions to Python exceptions, finally see ""URDF file not found"" when you load wrong file in python (without checking return code everywhere and thinking how to pass a error message).

(less relevant here, I also see specific advantages in using `boost::asio` and `boost::thread`)

But I understand that's not going to happen, as Bullet should compile on variety on platforms, keeps complaint to older C++ standards.",see much improvement version specifically standard everyone use boost forget memory management like compare python object pas python without thinking program let handle efficiently also possibility convert python finally see file found load wrong file python without return code everywhere thinking pas error message le relevant also see specific boost boost understand going happen bullet compile variety complaint older,issue,positive,negative,neutral,neutral,negative,negative
287581234,"I asked on the internet, people suggest Ogre3d and bgfx... I will probably return to this soon. I want:

* Sky and day/night change,
* Indoor lighting, soft-shadows,
* Grass and vegetation in shaders,
* HDR, AA, postprocessing, god rays and things like this would be nice bonus.

I think it's not too much to ask, many game engines do this.",people suggest probably return soon want sky change indoor lighting grass vegetation aa god like would nice bonus think much ask many game,issue,positive,positive,positive,positive,positive,positive
287579201,"By the way, if you use C++, I would suggest to look into the bullet3\examples\RoboticsLearning/b3RobotSimAPI.h. That should be a bit easier to use than the too-verbose C-API (bullet3\examples\SharedMemory/PhysicsClientC_API.h). Once all the methods from the C-API is into b3RobotSimAPI.h, I may re-implement pybullet.c using b3RobotSimAPI.",way use would suggest look bit easier use may,issue,negative,neutral,neutral,neutral,neutral,neutral
287578970,"Nice. It would be nice to have some lightweight external renderer: Unreal 4 is a big beast and so is Unity 3D (and both proprietary, even though you can get the source code of UE4 under a non-FOSS license). I wonder if g4d is worth trying out, stripping what's not needed? What other options are you looking at?",nice would nice lightweight external renderer unreal big beast unity proprietary even though get source code license wonder worth trying stripping looking,issue,positive,positive,positive,positive,positive,positive
287578805,"> send me the .bullet file, and I can load it into my app

Yeah that makes sense.
",send file load yeah sense,issue,negative,neutral,neutral,neutral,neutral,neutral
287578578,"One more thing to note: both the .bullet serialization and the new physics-client-server API share one important purpose: being able to easily reproduce physics simulation problems/issues. Before I had the .bullet file format, it took a lot of effort/time to reproduce issues of developers, who integrated Bullet into their app (game, 3d modeler, movie plugin, robotics simulator like gazebo, ROS or TensorFlow app etc). With the .bullet format, people can send me the .bullet file, and I can load it into my app (ExampleBrowser) to debug and visualize and see what is wrong without having to rebuild their codebase at all. The physics client-server goes one step further: if you integrate the new physics API into an app (like gazebo, game, Blender etc), and you have some issue, you can 'connect' remotely to my machine from the app over UDP or TCP, and I can put breakpoints, track down the issue, without having to touch the client code base (gazebo, Blender, ROS, TensorFlow ops are huge difficult to debug beasts). I realize a lot of the rationale behind recent Bullet developments may not make much sense for a new developer looking into the code.",one thing note serialization new share one important purpose able easily reproduce physic simulation file format took lot reproduce bullet game modeler movie simulator like gazebo format people send file load visualize see wrong without rebuild physic go one step integrate new physic like gazebo game blender issue remotely machine put track issue without touch client code base gazebo blender huge difficult realize lot rationale behind recent bullet may make much sense new developer looking code,issue,positive,negative,neutral,neutral,negative,negative
287578483,"That's super-simple OpenGL code in roboschool. I plan to keep it, but also use proper external rendering engine (haven't chosen one yet) if it is installed.

Original colors for inverted pendulum in MuJoCo:

![image](https://cloud.githubusercontent.com/assets/18546213/24076408/cb7030c2-0c40-11e7-84e9-2326699a4071.png)
",code plan keep also use proper external rendering engine chosen one yet original color inverted pendulum image,issue,negative,positive,positive,positive,positive,positive
287577069,"Thanks for your feedback. To avoid mixing up things, there are 2 main APIs:
 
1) the Physics Engine API (such as Bullet 2.x and Bullet 3.x), in Bullet/src with examples such as See for example BasicDemo and HelloWorld. We shouldn't worry about this API right now.

2) the robotics machine-learning oriented API, such as pybullet, bullet3\examples\SharedMemory/PhysicsClientC_API.h and bullet3\examples\RoboticsLearning/b3RobotSimAPI.h (which is a new C++ wrapper around PhysicsClientC_API.h).

The scope of the (2) is described in the pybullet quickstart quide.
All this functionality is important, including URDF import, and basic built-in GUI front-ends (OpenGL Debug Visualizer and VR) and synthetic camera (getCameraImage). MuJoCo also has all of this functionality.

This built-in 'getCameraImage' is either using the TinyRenderer (about 500 lines of code) or the DebugVisualizer. For some projects, this built-in synthetic camera rendering is sufficient, but other projects may need a better renderer, so you can use any renderer and don't call the 'getCameraImage'. I'm not going to put a lot of resources to improve TinyRenderer, and like to see an example of using an external renderer.

It seems your project needs better debug visualization and/or synthetic camera rendering, and we should make it possible for you to connect the parts. We can also discuss how to re-organize some parts of re-usable code into libraries, possibly under Bullet/src or other location.",thanks feedback avoid main physic engine bullet bullet see example worry right new wrapper around scope functionality important import basic visualizer synthetic camera also functionality either code synthetic camera rendering sufficient may need better renderer use renderer call going put lot improve like see example external renderer project need better visualization synthetic camera rendering make possible connect also discus code possibly location,issue,positive,positive,positive,positive,positive,positive
287575660,"Awesome with a coding style document!
I must admit that it's kinda hard to find. Would it perhaps be easier to find if it was placed alongside the code? Like ""CODINGSTYLE.md"" or similar?",awesome style document must admit hard find would perhaps easier find alongside code like similar,issue,positive,positive,positive,positive,positive,positive
287575653,"More colors and capsules work right.
![image](https://cloud.githubusercontent.com/assets/18546213/24076073/ce2921c2-0c39-11e7-9541-9de304349dbd.png)
",color work right image,issue,negative,positive,positive,positive,positive,positive
287574051,"Let's take C API. Examples are little pieces of code that use the API of the library to show how to use it or how great and simple it is. Current C++ examples in Bullet:

* Not simple,
* Don't use C API,
* Interconnected,
* In fact, packaged into the library.

They were examples of C++ API, but not from the point of view of C API.

By definition, if you take VR project seriously, it is no longer an example, not little piece of code to show API usage.

I'm for taking C API seriously too, that's the point. First step is to define its scope: physics library should do physics and do it well. Not bundle GUI for example. Very little one can do with GUI from C API or Python, but it's there! 

And please don't get me wrong, I think Bullet is a great project and I'm trying to help: let's limit the scope of C API, make it work within this scope, not implement big separate software projects inside the library but rather gradually simplify and disentangle the code. 
",let take little code use library show use great simple current bullet simple use fact library point view definition take project seriously longer example little piece code show usage taking seriously point first step define scope physic library physic well bundle example little one python please get wrong think bullet great project trying help let limit scope make work within scope implement big separate inside library rather gradually simplify disentangle code,issue,positive,positive,neutral,neutral,positive,positive
287571347,">> joint limits were not serialized?

Of course they were, but not as part of the new pybullet/C-API/URDF importers framework. I'll have a look if there is a better way to pass on the URDF data (instead of passing URDF parameters through the physics engine serialization structures)

>>Minitaur and VR and Gym environments and rendering do not belong to physics engine,

Those are examples of Bullet, the actual physics engine is all under Bullet/src code. If we can move those gym examples from Bullet into OpenAI gym itself, that would be nice.

You are just looking into examples, and pybullet, importers (URDF, SDF, MJCF etc), and Minitaur are all just examples. The pybullet + VR and C/Robotics/ML API is developing into a useful framework for robotics and machine learning used by various teams here inside Google. The python bindings, renderer (TinyRenderer) and visualizer (OpenGLWindow etc) and importers are pretty important parts of this framework.

At some stage I will move some parts of this examples/framework code into 'src' folder, and make the pybullet into an official project that you can easily install using setup.py/pip etc.

In addition, I created this new examples/pybullet framework so that it is easier to implement a new physics engine under-the-hood.",joint course part new framework look better way pas data instead passing physic engine serialization gym rendering belong physic engine bullet actual physic engine code move gym bullet gym would nice looking useful framework machine learning used various inside python renderer visualizer pretty important framework stage move code folder make official project easily install addition new framework easier implement new physic engine,issue,positive,positive,positive,positive,positive,positive
287567659,"But are you saying that joint limits were not serialized?.. If it was unnoticed until now, hardly this code was ever used seriously.

I wish we could remove that DNA code and serialization, also disentangle URDF load from rendering and demos, move C API away from examples folder, isolate code for physics, and only add GPU code after existing code is simplified and test-covered. Minitaur and VR and Gym environments and rendering do not belong to physics engine, they are applications of physics engine.

If separation of concerns wasn't kept from the ground up, it's hard work to recover :(  Erwin maybe it's a good idea to at least start a ""only remove and refactor code"" policy?
",saying joint unnoticed hardly code ever used seriously wish could remove code serialization also disentangle load rendering demo move away folder isolate code physic add code code simplified gym rendering belong physic engine physic engine separation kept ground hard work recover maybe good idea least start remove code policy,issue,negative,negative,negative,negative,negative,negative
287565744,"I'll update those serialization structures and create some document how to do it.

>> I wonder why Bullet needs serialization (.bullet files). 

It is used to save and restore the all of the state of Bullet. This is pretty important for robotics, machine learning and model predictive control. Also, the serialization is used in some games.
",update serialization create document wonder bullet need serialization used save restore state bullet pretty important machine learning model predictive control also serialization used,issue,positive,positive,positive,positive,positive,positive
287564946,"> rebase this PR on top of master? 

Right, this branch started a month ago.

> I already thought about a replacement of MuJoCo, since it is a commercial physics engine. Is that the reason for the replacement of the continuous control envs?

Yes.
",rebase top master right branch month ago already thought replacement since commercial physic engine reason replacement continuous control yes,issue,positive,positive,positive,positive,positive,positive
287564227,"I just tried to make these serialization changes, but I am not sure if it worked. I will have to test it first. I already checked it in in case you want to check if it works. 

@olegklimov: Do you mean that I should rebase this PR on top of master? Or do you mean that I should rebase my bullet-gym changes on top of another master? I am not sure what you mean.

I already thought about a replacement of MuJoCo, since it is a commercial physics engine. Is that the reason for the replacement of the continuous control envs?",tried make serialization sure worked test first already checked case want check work mean rebase top master mean rebase top another master sure mean already thought replacement since commercial physic engine reason replacement continuous control,issue,positive,positive,positive,positive,positive,positive
287559891,"I wonder why Bullet needs serialization (.bullet files). A very limited use case, is it? Any game or simulator or Blender-like use case doesn't need it. I wish we could drop unnecessary code, simplify the library, have more time to improve structure, quality, accuracy and coverage of physics engine :(

Hello @benelot, I'm working on replacement of MuJoCo continuous control environments for Gym. Can you rebase your changes on top of master? It will be much easier to work with or merge. (it's hard in git but doable)",wonder bullet need serialization limited use case game simulator use case need wish could drop unnecessary code simplify library time improve structure quality accuracy coverage physic engine hello working replacement continuous control gym rebase top master much easier work merge hard git doable,issue,positive,negative,neutral,neutral,negative,negative
287540113,"Right, it worked. I've edited the doc. But maybe set force to zero right in [PhysicsServerCommandProcessor.cpp:2700](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L2770) ?

",right worked doc maybe set force zero right,issue,negative,positive,positive,positive,positive,positive
287525500,BTW: I am working on some RL environments for OpenAI gym and I heard from Erwin you might be interested. Just drop me a mail if you have specific comments on what you are looking for or if you have an idea of a certain environment to implement (be.ellenberger@gmail.com). I am working with Erwin on an open-source community basis. You can have a look at my bullet-gym repo if you want to look at my current progress.,working gym might interested drop mail specific looking idea certain environment implement working community basis look want look current progress,issue,positive,positive,positive,positive,positive,positive
287525282,"Hey Oleg,

I did not finish this yet, but I can give it a try. It is basically done
within the code, but all it takes to finish is an update of the Bullet DNA,
which defines how Bullet serializes data (because it also serializes that
information). Where do you add effort limit and velocity limit? I can make
this work in the same run maybe.",hey finish yet give try basically done within code finish update bullet bullet data also information add effort limit velocity limit make work run maybe,issue,negative,neutral,neutral,neutral,neutral,neutral
287508266,"It is by design, see docs. You can disable the motor by setting velocity control with max force to 0.",design see disable motor setting velocity control force,issue,negative,neutral,neutral,neutral,neutral,neutral
287505460,"(not sure if it is possible to add motor later, after body has been created)",sure possible add motor later body,issue,negative,positive,positive,positive,positive,positive
287418278,"Hey @benelot any progress on this?

I'm +1 on needing joint limits.

I also need effort limit and velocity limit.
",hey progress needing joint also need effort limit velocity limit,issue,negative,neutral,neutral,neutral,neutral,neutral
287309391,"Ok, thanks for the input. I will check it out.

On Thu, Mar 16, 2017 at 7:03 PM erwincoumans <notifications@github.com>
wrote:

> Merged #1024 <https://github.com/bulletphysics/bullet3/pull/1024>.
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1024#event-1003225186>, or mute
> the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q68JAYRVZ33-pWqs6WxwG0slLdVTks5rmXlWgaJpZM4MfmZc>
> .
>
",thanks input check mar wrote reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
287230230,"Wow, you already dug into the deep of the code, thanks for helping out!
Give me a few days to make sure it doesn't break some internal code here (some devs here have the habit of deriving classes of the Bullet examples, so that any change in API breaks...)
Minor note, I just renamed the https://github.com/bulletphysics/bullet3/blob/master/data/MPL/MPL.xml to use upper case .STL a few days ago, we can simply revert that :-)",wow already dug deep code thanks helping give day make sure break internal code habit class bullet change minor note use upper case day ago simply revert,issue,positive,positive,neutral,neutral,positive,positive
287229844,Great. Your robot rendering looks great!,great robot rendering great,issue,positive,positive,positive,positive,positive,positive
287135918,"You need to install ffmpeg or avconf and create a symbolic link from avconf to ffmpeg. It works best on Linux and Mac OSX. 
On Windows, ffmpeg streaming rawvideo into a pipe works but has visual artifacts (wrong colors, tearing etc). In addition, it seems useful to have a more to disable real-time rendering updates, and explicitly ask to render frames in the debug visualizer.",need install create symbolic link work best mac streaming pipe work visual wrong color tearing addition useful disable rendering explicitly ask render visualizer,issue,positive,positive,positive,positive,positive,positive
287127180,"Wohoo! Just yesterday I thought how cool it would be if I had this
functionality in a programmatic fashion. Thanks Erwin, I am going to be
your tester for this feature.

On Thu, Mar 16, 2017, 18:04 erwincoumans <notifications@github.com> wrote:

> ------------------------------
> You can view, comment on, or merge this pull request online at:
>
>   https://github.com/bulletphysics/bullet3/pull/1024
> Commit Summary
>
>    - expose video capture as logging command in b3RobotSimulatorClientAPI
>    (C++) and pybullet (use STATE_LOGGING_VIDEO_MP4)
>    - Merge branch 'master' of https://github.com/erwincoumans/bullet3
>
> File Changes
>
>    - *M* examples/CommonInterfaces/CommonGUIHelperInterface.h
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-0> (3)
>    - *M* examples/ExampleBrowser/CMakeLists.txt
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-1> (2)
>    - *M* examples/ExampleBrowser/OpenGLExampleBrowser.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-2> (5)
>    - *M* examples/ExampleBrowser/OpenGLGuiHelper.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-3> (7)
>    - *M* examples/ExampleBrowser/OpenGLGuiHelper.h
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-4> (2)
>    - *M* examples/ExampleBrowser/premake4.lua
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-5> (2)
>    - *M* examples/OpenGLWindow/SimpleOpenGL3App.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-6> (38)
>    - *M* examples/RobotSimulator/RobotSimulatorMain.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-7> (44)
>    - *M* examples/RobotSimulator/b3RobotSimulatorClientAPI.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-8> (27)
>    - *M* examples/RobotSimulator/b3RobotSimulatorClientAPI.h
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-9> (5)
>    - *M* examples/SharedMemory/CMakeLists.txt
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-10> (2)
>    - *M* examples/SharedMemory/PhysicsServerCommandProcessor.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-11>
>    (36)
>    - *M* examples/SharedMemory/PhysicsServerExample.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-12>
>    (22)
>    - *M* examples/SharedMemory/PhysicsServerSharedMemory.cpp
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-13> (2)
>    - *M* examples/SharedMemory/SharedMemoryPublic.h
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-14> (3)
>    - *M* examples/pybullet/premake4.lua
>    <https://github.com/bulletphysics/bullet3/pull/1024/files#diff-15> (2)
>
> Patch Links:
>
>    - https://github.com/bulletphysics/bullet3/pull/1024.patch
>    - https://github.com/bulletphysics/bullet3/pull/1024.diff
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/1024>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qyz73NUwrHago_8_XBcWdqeDD9TOks5rmWuWgaJpZM4MfmZc>
> .
>
",yesterday thought cool would functionality programmatic fashion thanks going tester feature mar wrote view comment merge pull request commit summary expose video capture logging command use merge branch file patch link thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
286793699,"Yesterday I noticed the original C++ version of KUKA following-IK was much smoother than your python one, but didn't apply this pull request yet. Also, the gripper had some joints rotating and not smoothly closing the gripper. I haven't tried your new patch yet. Could you try to use more simulat/identical setup to the C++ version (in  PhysicsServerCommandProcessor::createDefaultRobotAssets() and https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/PhysicsServerCommandProcessor.cpp#L5503
We are busy with many other things, but will look into it if we don't get the Python version behave the same as the build-in C++ version. For now, let's apply this patch. Thanks!",yesterday original version much smoother python one apply pull request yet also gripper rotating smoothly gripper tried new patch yet could try use setup version busy many look get python version behave version let apply patch thanks,issue,positive,positive,positive,positive,positive,positive
286662784,"I will add a last updated tag, so that people see how old it is. Also I
think the article becomes more stable now as the feature is no longer very
new and experimental.

On Wed, Mar 15, 2017, 03:11 shazoom <notifications@github.com> wrote:

> Thanks. I should have spotted that...but I didn't 😁
>
> —
> You are receiving this because you commented.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1014#issuecomment-286620023>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q-xI_Fz5agkpDtVHFTELwAW0e3VMks5rl0jhgaJpZM4McFtS>
> .
>
",add last tag people see old also think article becomes stable feature longer new experimental wed mar wrote thanks spotted reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
286531055,"Arcsin Sin is a trick to limit the rotation within joint range--it would also be easy to just add a joint range check on that, instead of using numpy. I'll fix that later.",sin trick limit rotation within joint range would also easy add joint range check instead fix later,issue,negative,positive,positive,positive,positive,positive
286502473,">>It's not path to URDF, it's path to a resource referenced by URDF. 
>>My guess is we're unlikely to ever meet an absolute path inside URDF

Wrong guess. We have auto-generated urdf files that point to assets with absolute path. Let's not reduce previous functionality. Added check for original mesh filename first (without prefix etc):

https://github.com/bulletphysics/bullet3/pull/1017
",path path resource guess unlikely ever meet absolute path inside wrong guess point asset absolute path let reduce previous functionality added check original mesh first without prefix,issue,negative,negative,neutral,neutral,negative,negative
286475349,"Thanks for the help. It would be nice not to depend on numpy, but just use python math (many people don't have numpy installed, especially on Windows). Could you fix that?
By the way, do you really need the arcin(sin)?",thanks help would nice depend use python math many people especially could fix way really need sin,issue,positive,positive,positive,positive,positive,positive
286394939,"I will update the article soon, mistake of mine! In the article it refers
to the most recent version of it being in the google docs.

On Tue, Mar 14, 2017, 04:46 erwincoumans <notifications@github.com> wrote:

> Closed #1014 <https://github.com/bulletphysics/bullet3/issues/1014>.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/1014#event-998391071>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97q1BN6Ne7QacCokgecXVyl78OwUzBks5rlg2BgaJpZM4McFtS>
> .
>
",update article soon mistake mine article recent version tue mar wrote closed thread reply directly view mute thread,issue,negative,neutral,neutral,neutral,neutral,neutral
286389377,"Just did a rebase to catch up to current master, no conflicts. :)",rebase catch current master,issue,negative,neutral,neutral,neutral,neutral,neutral
286388746,They are annoying because the files are used everywhere so it is just conscientiously spammed in build logs from bullet itself and to applications that depends on the headers.,annoying used everywhere conscientiously build bullet,issue,negative,negative,negative,negative,negative,negative
286387734,"This happens quite a bit, still does. :)

> In file included from /home/bcurtis/Workspace/Private/Bullet/bullet3/src/LinearMath/btConvexHull.cpp:18:
> In file included from /home/bcurtis/Workspace/Private/Bullet/bullet3/src/LinearMath/btConvexHull.h:22:
> /home/bcurtis/Workspace/Private/Bullet/bullet3/src/LinearMath/btVector3.h:1150:4: warning: Value stored to 'maxVal' is never read
>                         maxVal = m_floats[3];
>                         ^        ~~~~~~~~~~~
> /home/bcurtis/Workspace/Private/Bullet/bullet3/src/LinearMath/btVector3.h:1179:4: warning: Value stored to 'minVal' is never read
>                         minVal = m_floats[3];
>                         ^        ~~~~~~~~~~~",quite bit still file included file included warning value never read warning value never read,issue,negative,neutral,neutral,neutral,neutral,neutral
286326037,"excuse for the huge delay and lack of response. I applied the btDbvt version manually. Also moved the temp variable in btCompoundCollisionAlgorithm as member variable, so once initial memory is allocated it should not happen every frame.",excuse huge delay lack response applied version manually also temp variable member variable initial memory happen every frame,issue,negative,positive,positive,positive,positive,positive
286323173,Processing / cleaning up some old pull requests. What were those clang warnings exactly?,cleaning old pull clang exactly,issue,negative,positive,positive,positive,positive,positive
286322317,"Somehow I was processing only the most recent pull requests, and older ones got snowed under. Let's apply the patch.",somehow recent pull older got let apply patch,issue,negative,positive,neutral,neutral,positive,positive
286321724,"thanks for the contribution, good to see some MinGW attention!",thanks contribution good see attention,issue,positive,positive,positive,positive,positive,positive
286321539,I got a few more things working today-- I think the shaking problem is caused by too much position gain. I'll update soon.,got working today think shaking problem much position gain update soon,issue,negative,positive,positive,positive,positive,positive
286313951,"It is moved out of Experiments into its own section, 3rd category from the top: Physics Server-Client. See screenshot.
<img width=""667"" alt=""physics_server"" src=""https://cloud.githubusercontent.com/assets/725468/23885062/0a32b8d2-082e-11e7-97c1-106d77a33f59.png"">
",section category top physic see,issue,negative,positive,positive,positive,positive,positive
286301560,"Thanks a lot for the work, let's merge it!",thanks lot work let merge,issue,negative,positive,positive,positive,positive,positive
286295075,Thanks for the pull request! We'll look into why the 0.03 offset.,thanks pull request look offset,issue,negative,positive,positive,positive,positive,positive
286278173,"Oh, I finally found some .sdf-s in repository. Right, SDF branch wasn't working (untouched the first time).

![image](https://cloud.githubusercontent.com/assets/18546213/23879592/1f17f7cc-085f-11e7-8443-2f0b91c067d2.png)

> It may be better if this patch was split into simpler to review patches

This patch is fairly simple... The reason diff in larger than it has to -- is the whitespace and indentation.

Like you suggested, I was going to fix error messages too, but decided to leave that for later.
",oh finally found repository right branch working untouched first time image may better patch split simpler review patch fairly simple reason indentation like going fix error decided leave later,issue,negative,positive,positive,positive,positive,positive
286266200,"OK, I consider UseTab: ForContinuationAndIndentation.
We already have PointerAlignment: Left.

>>  I'd also make it a recommendation to avoid multiple declarations of pointers on one line.
I agree. Does it often happen in the current Bullet codebase?

Thanks for the feedback!",consider already left also make recommendation avoid multiple one line agree often happen current bullet thanks feedback,issue,negative,positive,neutral,neutral,positive,positive
286264717,"I'd recommend:
UseTab: ForContinuationAndIndentation
PointerAlignment: Left

Tabs are useful for indentation (at the start of a line), because they look good at whatever width the tab character is configured to. But with tabs anywhere else on the line, there is a danger of messing up formatting if you want to align certain things across lines. For example, the variable names here are properly aligned in VS if tab width = 4, but not in GitHub, where tab width = 8:
https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Featherstone/btMultiBody.h#L712

As per Google's style, I'd also make it a recommendation to avoid multiple declarations of pointers on one line. https://google.github.io/styleguide/cppguide.html#Pointer_and_Reference_Expressions

I've been hoping for formatting changes in Bullet for a long time. Thanks! :)",recommend left useful indentation start line look good whatever width tab character anywhere else line danger messing want align certain across example variable properly tab width tab width per style also make recommendation avoid multiple one line bullet long time thanks,issue,positive,positive,positive,positive,positive,positive
286217983,"Loading the SDF using pybullet.loadSDF(""two_cubes.sdf"") fails with this patch.
It first fails in 


if (!glmesh || !glmesh->m_vertices || glmesh->m_numvertices<=0)
			{
				b3Warning(""%s: cannot extract anything useful from mesh '%s'\n"", urdfPathPrefix, visual->m_geometry.m_meshFileName.c_str());
				break;
			}
Then it assets later

	// should never get here (findExistingMeshFile returns false if it doesn't recognize extension)
				btAssert(0);

It may be better if this patch was split into simpler to review patches, there is quiet some refactoring going on.  Separately, it reminds me that we should add more unit tests, both for C++ and for the pybullet scripts, to catch such things right in the pull request continuous integration.",loading patch first extract anything useful mesh break asset later never get false recognize extension may better patch split simpler review quiet going separately add unit catch right pull request continuous integration,issue,positive,positive,positive,positive,positive,positive
286194332,"I'm not going to apply the clang file to the entire codebase at once, to avoid conflicts with pull requests etc. Thinking how to proceed, applying in most urgent files first.",going apply clang file entire avoid pull thinking proceed urgent first,issue,negative,positive,positive,positive,positive,positive
286194018,"See https://github.com/bulletphysics/bullet3/pull/1011
Created a _clang-format file, starting with Google style, then modified:
ColumnLimit:     0
UseTab:          Always
ReflowComments:  false
SortIncludes:    false
May still need some tweaks, tried it on harmless examples/HelloWorld/HelloWorld.cpp
",see file starting style always false false may still need tried harmless,issue,negative,negative,negative,negative,negative,negative
285834087,Thanks a lot for working on this. I'll test it in VR soon and merge it!,thanks lot working test soon merge,issue,negative,positive,positive,positive,positive,positive
285821220,"Hi Benjamin, sorry for the confusion. Jie Tan is a colleague of mine at Google. We are not planning active development of those examples under Bullet/examples/pybullet/gym, but I wanted them open source. I'll get in touch with you how we can proceed with the RL/pybullet/gym work.",hi benjamin sorry confusion tan colleague mine active development open source get touch proceed work,issue,negative,negative,negative,negative,negative,negative
285804398,"As far as I know, Erwin wants to hold out the bullet rl examples until we have built an interface to train and run these examples. I am working on this in my repository called bullet-gym. I have built a trainer class that encapsulates agent and environment and accepts different training settings for each environment and agent.  Maybe we can merge your work into my repository first and then later merge it into the main bullet repository. I have a cartpole/detached cartpole and a motion environment with different morphologies to learn how to walk. Let us discuss this with Erwin.",far know hold bullet built interface train run working repository built trainer class agent environment different training environment agent maybe merge work repository first later merge main bullet repository motion environment different learn walk let u discus,issue,negative,positive,neutral,neutral,positive,positive
285763658,"Thanks @erwincoumans, this actually worked and I'm able to use App_PhysicsServer_SharedMemory_VR with pybullet smoothly. The key was to use the master source version.

If I want to get the standalone physics server built on Mac OS to work with pybullet, what's the best way to do that?

",thanks actually worked able use smoothly key use master source version want get physic server built mac o work best way,issue,positive,positive,positive,positive,positive,positive
285695700,"> Can you please explicitly remove just 'package://'?

It is.


> TinyRendererVisualShapeConverter

Done.

Please test on VR, it is completely different setting from mine.
",please explicitly remove done please test completely different setting mine,issue,positive,neutral,neutral,neutral,neutral,neutral
285522812,"The tinyrenderer doesn't clip triangles at the moment. Until that is implemented, it is best to split large triangles into smaller ones. Or use the hardware renderer (OpenGL) that does the clipping in hardware. This is an option (undocumented, is exposed as constant pybullet.ER_BULLET_HARDWARE_OPENGL:

 img_arr = pybullet.getCameraImage(pixelWidth, pixelHeight, viewMatrix,projectionMatrix, lightDirection,lightColor,renderer=pybullet.ER_BULLET_HARDWARE_OPENGL)

Also note that using numpy makes getCameraImage much faster (use -DBUILD_PYBULLET_NUMPY=ON using cmake).

Note that there is a utility to split Wavefront .obj files with multiple materials (colors and/or textures) into separate obj file and a SDF file pointing to them. See Bullet/Extras/obj2sdf",clip moment best split large smaller use hardware renderer clipping hardware option undocumented exposed constant also note much faster use note utility split multiple color separate file file pointing see,issue,positive,positive,positive,positive,positive,positive
285513541,">> TinyRendererVisualShapeConverter.cpp have the same file lookup code 
>> copy-pasted, want me to reuse findExistingMeshFile() there too?

Probably a good idea, so if you have time, please do so. Thanks!",file code want reuse probably good idea time please thanks,issue,positive,positive,positive,positive,positive,positive
285513112,"Can you please explicitly remove just 'package://'?

I rather not remove more general characters from the resource paths, unless strictly necessary.",please explicitly remove rather remove general resource unless strictly necessary,issue,negative,positive,neutral,neutral,positive,positive
285415079,You may have more luck in Android forums. Good luck!,may luck android good luck,issue,positive,positive,positive,positive,positive,positive
285326483,"> How does it remove

It just removes characters in the beginning, if it's there.


> We do want to allow absolute paths (""file://c:/path/to/urdf.urdf"").

It's not path to URDF, it's path to a resource referenced by URDF. My guess is we're unlikely to ever meet an absolute path inside URDF. Reason for this, you clone repositories in random directory on your computer, every absolute path will break.
",remove beginning want allow absolute file path path resource guess unlikely ever meet absolute path inside reason clone random directory computer every absolute path break,issue,negative,negative,neutral,neutral,negative,negative
285304170,"Nothing change.. this is the generate Makefile with my modification if that can help you 
```
# CMAKE generated file: DO NOT EDIT!
# Generated by ""Unix Makefiles"" Generator, CMake Version 3.7

# Default target executed when no arguments are given to make.
default_target: all

.PHONY : default_target

# Allow only one ""make -f Makefile2"" at a time, but pass parallelism.
.NOTPARALLEL:


#=============================================================================
# Special targets provided by cmake.

# Disable implicit rules so canonical targets will work.
.SUFFIXES:


# Remove some rules from gmake that .SUFFIXES does not remove.
SUFFIXES =

.SUFFIXES: .hpux_make_needs_suffix_list


# Suppress display of executed commands.
$(VERBOSE).SILENT:


# A target that is always out of date.
cmake_force:

.PHONY : cmake_force

#=============================================================================
# Set environment variables for the build.

# The shell in which to execute make rules.
SHELL = /bin/sh

# The CMake executable.
CMAKE_COMMAND = /usr/bin/cmake

# The command to remove a file.
RM = /usr/bin/cmake -E remove -f

# Escaping for special characters.
EQUALS = =

# The top-level source directory on which CMake was run.
CMAKE_SOURCE_DIR = /home/equinox/code/bullet3

# The top-level build directory on which CMake was run.
CMAKE_BINARY_DIR = /home/equinox/code/bullet3

#=============================================================================
# Targets provided globally by CMake.

# Special rule for the target install/strip
install/strip: preinstall
	@$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --cyan ""Installing the project stripped...""
	/usr/bin/cmake -DCMAKE_INSTALL_DO_STRIP=1 -P cmake_install.cmake -lpthread -lrt -ldl
.PHONY : install/strip

# Special rule for the target install/strip
install/strip/fast: install/strip

.PHONY : install/strip/fast

# Special rule for the target install/local
install/local: preinstall
	@$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --cyan ""Installing only the local directory...""
	/usr/bin/cmake -DCMAKE_INSTALL_LOCAL_ONLY=1 -P cmake_install.cmake -lpthread -lrt -ldl
.PHONY : install/local

# Special rule for the target install/local
install/local/fast: install/local

.PHONY : install/local/fast

# Special rule for the target test
test:
	@$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --cyan ""Running tests...""
	/usr/bin/ctest --force-new-ctest-process $(ARGS) -lpthread  -lrt
.PHONY : test

# Special rule for the target test
test/fast: test

.PHONY : test/fast

# Special rule for the target edit_cache
edit_cache:
	@$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --cyan ""Running CMake cache editor...""
	/usr/bin/ccmake -H$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR)
.PHONY : edit_cache

# Special rule for the target edit_cache
edit_cache/fast: edit_cache

.PHONY : edit_cache/fast

# Special rule for the target rebuild_cache
rebuild_cache:
	@$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --cyan ""Running CMake to regenerate build system...""
	/usr/bin/cmake -H$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR)
.PHONY : rebuild_cache

# Special rule for the target rebuild_cache
rebuild_cache/fast: rebuild_cache

.PHONY : rebuild_cache/fast

# Special rule for the target install
install: preinstall
	@$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --cyan ""Install the project...""
	/usr/bin/cmake -P cmake_install.cmake
.PHONY : install

# Special rule for the target install
install/fast: preinstall/fast
	@$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --cyan ""Install the project...""
	/usr/bin/cmake -P cmake_install.cmake
.PHONY : install/fast

# Special rule for the target list_install_components
list_install_components:
	@$(CMAKE_COMMAND) -E cmake_echo_color --switch=$(COLOR) --cyan ""Available install components are: \""Unspecified\""""
.PHONY : list_install_components

# Special rule for the target list_install_components
list_install_components/fast: list_install_components

.PHONY : list_install_components/fast

# The main all target
all: cmake_check_build_system
	$(CMAKE_COMMAND) -E cmake_progress_start /home/equinox/code/bullet3/CMakeFiles /home/equinox/code/bullet3/CMakeFiles/progress.marks
	$(MAKE) -f CMakeFiles/Makefile2 all
	$(CMAKE_COMMAND) -E cmake_progress_start /home/equinox/code/bullet3/CMakeFiles 0
.PHONY : all

# The main clean target
clean:
	$(MAKE) -f CMakeFiles/Makefile2 clean
.PHONY : clean

# The main clean target
clean/fast: clean

.PHONY : clean/fast

# Prepare targets for installation.
preinstall: all
	$(MAKE) -f CMakeFiles/Makefile2 preinstall
.PHONY : preinstall

# Prepare targets for installation.
preinstall/fast:
	$(MAKE) -f CMakeFiles/Makefile2 preinstall
.PHONY : preinstall/fast

# clear depends
depend:
	$(CMAKE_COMMAND) -H$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR) --check-build-system CMakeFiles/Makefile.cmake 1
.PHONY : depend

#=============================================================================
# Target rules for targets named App_HelloWorld

# Build rule for target.
App_HelloWorld: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 App_HelloWorld
.PHONY : App_HelloWorld

# fast build rule for target.
App_HelloWorld/fast:
	$(MAKE) -f examples/HelloWorld/CMakeFiles/App_HelloWorld.dir/build.make examples/HelloWorld/CMakeFiles/App_HelloWorld.dir/build
.PHONY : App_HelloWorld/fast

#=============================================================================
# Target rules for targets named App_BasicExample

# Build rule for target.
App_BasicExample: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 App_BasicExample
.PHONY : App_BasicExample

# fast build rule for target.
App_BasicExample/fast:
	$(MAKE) -f examples/BasicDemo/CMakeFiles/App_BasicExample.dir/build.make examples/BasicDemo/CMakeFiles/App_BasicExample.dir/build
.PHONY : App_BasicExample/fast

#=============================================================================
# Target rules for targets named AppBasicExampleGui

# Build rule for target.
AppBasicExampleGui: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 AppBasicExampleGui
.PHONY : AppBasicExampleGui

# fast build rule for target.
AppBasicExampleGui/fast:
	$(MAKE) -f examples/BasicDemo/CMakeFiles/AppBasicExampleGui.dir/build.make examples/BasicDemo/CMakeFiles/AppBasicExampleGui.dir/build
.PHONY : AppBasicExampleGui/fast

#=============================================================================
# Target rules for targets named App_ExampleBrowser

# Build rule for target.
App_ExampleBrowser: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 App_ExampleBrowser
.PHONY : App_ExampleBrowser

# fast build rule for target.
App_ExampleBrowser/fast:
	$(MAKE) -f examples/ExampleBrowser/CMakeFiles/App_ExampleBrowser.dir/build.make examples/ExampleBrowser/CMakeFiles/App_ExampleBrowser.dir/build
.PHONY : App_ExampleBrowser/fast

#=============================================================================
# Target rules for targets named BulletExampleBrowserLib

# Build rule for target.
BulletExampleBrowserLib: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletExampleBrowserLib
.PHONY : BulletExampleBrowserLib

# fast build rule for target.
BulletExampleBrowserLib/fast:
	$(MAKE) -f examples/ExampleBrowser/CMakeFiles/BulletExampleBrowserLib.dir/build.make examples/ExampleBrowser/CMakeFiles/BulletExampleBrowserLib.dir/build
.PHONY : BulletExampleBrowserLib/fast

#=============================================================================
# Target rules for targets named App_RobotSimulator

# Build rule for target.
App_RobotSimulator: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 App_RobotSimulator -lpthread -lrt
.PHONY : App_RobotSimulator

# fast build rule for target.
App_RobotSimulator/fast:
	$(MAKE) -f examples/RobotSimulator/CMakeFiles/App_RobotSimulator.dir/build.make examples/RobotSimulator/CMakeFiles/App_RobotSimulator.dir/build -lpthread -lrt
.PHONY : App_RobotSimulator/fast

#=============================================================================
# Target rules for targets named App_PhysicsServer_SharedMemory

# Build rule for target.
App_PhysicsServer_SharedMemory: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 App_PhysicsServer_SharedMemory
.PHONY : App_PhysicsServer_SharedMemory

# fast build rule for target.
App_PhysicsServer_SharedMemory/fast:
	$(MAKE) -f examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory.dir/build.make examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory.dir/build
.PHONY : App_PhysicsServer_SharedMemory/fast

#=============================================================================
# Target rules for targets named App_PhysicsServer_SharedMemory_GUI

# Build rule for target.
App_PhysicsServer_SharedMemory_GUI: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 App_PhysicsServer_SharedMemory_GUI
.PHONY : App_PhysicsServer_SharedMemory_GUI

# fast build rule for target.
App_PhysicsServer_SharedMemory_GUI/fast:
	$(MAKE) -f examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory_GUI.dir/build.make examples/SharedMemory/CMakeFiles/App_PhysicsServer_SharedMemory_GUI.dir/build
.PHONY : App_PhysicsServer_SharedMemory_GUI/fast

#=============================================================================
# Target rules for targets named gwen

# Build rule for target.
gwen: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 gwen
.PHONY : gwen

# fast build rule for target.
gwen/fast:
	$(MAKE) -f examples/ThirdPartyLibs/Gwen/CMakeFiles/gwen.dir/build.make examples/ThirdPartyLibs/Gwen/CMakeFiles/gwen.dir/build
.PHONY : gwen/fast

#=============================================================================
# Target rules for targets named BussIK

# Build rule for target.
BussIK: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BussIK
.PHONY : BussIK

# fast build rule for target.
BussIK/fast:
	$(MAKE) -f examples/ThirdPartyLibs/BussIK/CMakeFiles/BussIK.dir/build.make examples/ThirdPartyLibs/BussIK/CMakeFiles/BussIK.dir/build
.PHONY : BussIK/fast

#=============================================================================
# Target rules for targets named clsocket

# Build rule for target.
clsocket: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 clsocket
.PHONY : clsocket

# fast build rule for target.
clsocket/fast:
	$(MAKE) -f examples/ThirdPartyLibs/clsocket/CMakeFiles/clsocket.dir/build.make examples/ThirdPartyLibs/clsocket/CMakeFiles/clsocket.dir/build
.PHONY : clsocket/fast

#=============================================================================
# Target rules for targets named OpenGLWindow

# Build rule for target.
OpenGLWindow: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 OpenGLWindow
.PHONY : OpenGLWindow

# fast build rule for target.
OpenGLWindow/fast:
	$(MAKE) -f examples/OpenGLWindow/CMakeFiles/OpenGLWindow.dir/build.make examples/OpenGLWindow/CMakeFiles/OpenGLWindow.dir/build
.PHONY : OpenGLWindow/fast

#=============================================================================
# Target rules for targets named App_obj2sdf

# Build rule for target.
App_obj2sdf: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 App_obj2sdf
.PHONY : App_obj2sdf

# fast build rule for target.
App_obj2sdf/fast:
	$(MAKE) -f Extras/obj2sdf/CMakeFiles/App_obj2sdf.dir/build.make Extras/obj2sdf/CMakeFiles/App_obj2sdf.dir/build
.PHONY : App_obj2sdf/fast

#=============================================================================
# Target rules for targets named ConvexDecomposition

# Build rule for target.
ConvexDecomposition: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 ConvexDecomposition
.PHONY : ConvexDecomposition

# fast build rule for target.
ConvexDecomposition/fast:
	$(MAKE) -f Extras/ConvexDecomposition/CMakeFiles/ConvexDecomposition.dir/build.make Extras/ConvexDecomposition/CMakeFiles/ConvexDecomposition.dir/build
.PHONY : ConvexDecomposition/fast

#=============================================================================
# Target rules for targets named HACD

# Build rule for target.
HACD: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 HACD
.PHONY : HACD

# fast build rule for target.
HACD/fast:
	$(MAKE) -f Extras/HACD/CMakeFiles/HACD.dir/build.make Extras/HACD/CMakeFiles/HACD.dir/build
.PHONY : HACD/fast

#=============================================================================
# Target rules for targets named GIMPACTUtils

# Build rule for target.
GIMPACTUtils: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 GIMPACTUtils
.PHONY : GIMPACTUtils

# fast build rule for target.
GIMPACTUtils/fast:
	$(MAKE) -f Extras/GIMPACTUtils/CMakeFiles/GIMPACTUtils.dir/build.make Extras/GIMPACTUtils/CMakeFiles/GIMPACTUtils.dir/build
.PHONY : GIMPACTUtils/fast

#=============================================================================
# Target rules for targets named BulletInverseDynamicsUtils

# Build rule for target.
BulletInverseDynamicsUtils: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletInverseDynamicsUtils
.PHONY : BulletInverseDynamicsUtils

# fast build rule for target.
BulletInverseDynamicsUtils/fast:
	$(MAKE) -f Extras/InverseDynamics/CMakeFiles/BulletInverseDynamicsUtils.dir/build.make Extras/InverseDynamics/CMakeFiles/BulletInverseDynamicsUtils.dir/build
.PHONY : BulletInverseDynamicsUtils/fast

#=============================================================================
# Target rules for targets named BulletFileLoader

# Build rule for target.
BulletFileLoader: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletFileLoader
.PHONY : BulletFileLoader

# fast build rule for target.
BulletFileLoader/fast:
	$(MAKE) -f Extras/Serialize/BulletFileLoader/CMakeFiles/BulletFileLoader.dir/build.make Extras/Serialize/BulletFileLoader/CMakeFiles/BulletFileLoader.dir/build
.PHONY : BulletFileLoader/fast

#=============================================================================
# Target rules for targets named BulletXmlWorldImporter

# Build rule for target.
BulletXmlWorldImporter: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletXmlWorldImporter
.PHONY : BulletXmlWorldImporter

# fast build rule for target.
BulletXmlWorldImporter/fast:
	$(MAKE) -f Extras/Serialize/BulletXmlWorldImporter/CMakeFiles/BulletXmlWorldImporter.dir/build.make Extras/Serialize/BulletXmlWorldImporter/CMakeFiles/BulletXmlWorldImporter.dir/build
.PHONY : BulletXmlWorldImporter/fast

#=============================================================================
# Target rules for targets named BulletWorldImporter

# Build rule for target.
BulletWorldImporter: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletWorldImporter
.PHONY : BulletWorldImporter

# fast build rule for target.
BulletWorldImporter/fast:
	$(MAKE) -f Extras/Serialize/BulletWorldImporter/CMakeFiles/BulletWorldImporter.dir/build.make Extras/Serialize/BulletWorldImporter/CMakeFiles/BulletWorldImporter.dir/build
.PHONY : BulletWorldImporter/fast

#=============================================================================
# Target rules for targets named Bullet3OpenCL_clew

# Build rule for target.
Bullet3OpenCL_clew: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Bullet3OpenCL_clew
.PHONY : Bullet3OpenCL_clew

# fast build rule for target.
Bullet3OpenCL_clew/fast:
	$(MAKE) -f src/Bullet3OpenCL/CMakeFiles/Bullet3OpenCL_clew.dir/build.make src/Bullet3OpenCL/CMakeFiles/Bullet3OpenCL_clew.dir/build
.PHONY : Bullet3OpenCL_clew/fast

#=============================================================================
# Target rules for targets named Bullet2FileLoader

# Build rule for target.
Bullet2FileLoader: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Bullet2FileLoader
.PHONY : Bullet2FileLoader

# fast build rule for target.
Bullet2FileLoader/fast:
	$(MAKE) -f src/Bullet3Serialize/Bullet2FileLoader/CMakeFiles/Bullet2FileLoader.dir/build.make src/Bullet3Serialize/Bullet2FileLoader/CMakeFiles/Bullet2FileLoader.dir/build
.PHONY : Bullet2FileLoader/fast

#=============================================================================
# Target rules for targets named Bullet3Dynamics

# Build rule for target.
Bullet3Dynamics: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Bullet3Dynamics
.PHONY : Bullet3Dynamics

# fast build rule for target.
Bullet3Dynamics/fast:
	$(MAKE) -f src/Bullet3Dynamics/CMakeFiles/Bullet3Dynamics.dir/build.make src/Bullet3Dynamics/CMakeFiles/Bullet3Dynamics.dir/build
.PHONY : Bullet3Dynamics/fast

#=============================================================================
# Target rules for targets named Bullet3Collision

# Build rule for target.
Bullet3Collision: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Bullet3Collision
.PHONY : Bullet3Collision

# fast build rule for target.
Bullet3Collision/fast:
	$(MAKE) -f src/Bullet3Collision/CMakeFiles/Bullet3Collision.dir/build.make src/Bullet3Collision/CMakeFiles/Bullet3Collision.dir/build
.PHONY : Bullet3Collision/fast

#=============================================================================
# Target rules for targets named Bullet3Geometry

# Build rule for target.
Bullet3Geometry: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Bullet3Geometry
.PHONY : Bullet3Geometry

# fast build rule for target.
Bullet3Geometry/fast:
	$(MAKE) -f src/Bullet3Geometry/CMakeFiles/Bullet3Geometry.dir/build.make src/Bullet3Geometry/CMakeFiles/Bullet3Geometry.dir/build
.PHONY : Bullet3Geometry/fast

#=============================================================================
# Target rules for targets named Bullet3Common

# Build rule for target.
Bullet3Common: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Bullet3Common
.PHONY : Bullet3Common

# fast build rule for target.
Bullet3Common/fast:
	$(MAKE) -f src/Bullet3Common/CMakeFiles/Bullet3Common.dir/build.make src/Bullet3Common/CMakeFiles/Bullet3Common.dir/build
.PHONY : Bullet3Common/fast

#=============================================================================
# Target rules for targets named BulletInverseDynamics

# Build rule for target.
BulletInverseDynamics: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletInverseDynamics
.PHONY : BulletInverseDynamics

# fast build rule for target.
BulletInverseDynamics/fast:
	$(MAKE) -f src/BulletInverseDynamics/CMakeFiles/BulletInverseDynamics.dir/build.make src/BulletInverseDynamics/CMakeFiles/BulletInverseDynamics.dir/build
.PHONY : BulletInverseDynamics/fast

#=============================================================================
# Target rules for targets named BulletSoftBody

# Build rule for target.
BulletSoftBody: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletSoftBody
.PHONY : BulletSoftBody

# fast build rule for target.
BulletSoftBody/fast:
	$(MAKE) -f src/BulletSoftBody/CMakeFiles/BulletSoftBody.dir/build.make src/BulletSoftBody/CMakeFiles/BulletSoftBody.dir/build
.PHONY : BulletSoftBody/fast

#=============================================================================
# Target rules for targets named BulletCollision

# Build rule for target.
BulletCollision: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletCollision
.PHONY : BulletCollision

# fast build rule for target.
BulletCollision/fast:
	$(MAKE) -f src/BulletCollision/CMakeFiles/BulletCollision.dir/build.make src/BulletCollision/CMakeFiles/BulletCollision.dir/build
.PHONY : BulletCollision/fast

#=============================================================================
# Target rules for targets named BulletDynamics

# Build rule for target.
BulletDynamics: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 BulletDynamics
.PHONY : BulletDynamics

# fast build rule for target.
BulletDynamics/fast:
	$(MAKE) -f src/BulletDynamics/CMakeFiles/BulletDynamics.dir/build.make src/BulletDynamics/CMakeFiles/BulletDynamics.dir/build
.PHONY : BulletDynamics/fast

#=============================================================================
# Target rules for targets named LinearMath

# Build rule for target.
LinearMath: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 LinearMath
.PHONY : LinearMath

# fast build rule for target.
LinearMath/fast:
	$(MAKE) -f src/LinearMath/CMakeFiles/LinearMath.dir/build.make src/LinearMath/CMakeFiles/LinearMath.dir/build
.PHONY : LinearMath/fast

#=============================================================================
# Target rules for targets named Test_BulletInverseDynamicsJacobian

# Build rule for target.
Test_BulletInverseDynamicsJacobian: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Test_BulletInverseDynamicsJacobian
.PHONY : Test_BulletInverseDynamicsJacobian

# fast build rule for target.
Test_BulletInverseDynamicsJacobian/fast:
	$(MAKE) -f test/InverseDynamics/CMakeFiles/Test_BulletInverseDynamicsJacobian.dir/build.make test/InverseDynamics/CMakeFiles/Test_BulletInverseDynamicsJacobian.dir/build
.PHONY : Test_BulletInverseDynamicsJacobian/fast

#=============================================================================
# Target rules for targets named Test_BulletInverseDynamics

# Build rule for target.
Test_BulletInverseDynamics: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Test_BulletInverseDynamics
.PHONY : Test_BulletInverseDynamics

# fast build rule for target.
Test_BulletInverseDynamics/fast:
	$(MAKE) -f test/InverseDynamics/CMakeFiles/Test_BulletInverseDynamics.dir/build.make test/InverseDynamics/CMakeFiles/Test_BulletInverseDynamics.dir/build
.PHONY : Test_BulletInverseDynamics/fast

#=============================================================================
# Target rules for targets named Test_BulletInverseForwardDynamics

# Build rule for target.
Test_BulletInverseForwardDynamics: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Test_BulletInverseForwardDynamics
.PHONY : Test_BulletInverseForwardDynamics

# fast build rule for target.
Test_BulletInverseForwardDynamics/fast:
	$(MAKE) -f test/InverseDynamics/CMakeFiles/Test_BulletInverseForwardDynamics.dir/build.make test/InverseDynamics/CMakeFiles/Test_BulletInverseForwardDynamics.dir/build
.PHONY : Test_BulletInverseForwardDynamics/fast

#=============================================================================
# Target rules for targets named Test_PhysicsClientServer

# Build rule for target.
Test_PhysicsClientServer: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Test_PhysicsClientServer
.PHONY : Test_PhysicsClientServer

# fast build rule for target.
Test_PhysicsClientServer/fast:
	$(MAKE) -f test/SharedMemory/CMakeFiles/Test_PhysicsClientServer.dir/build.make test/SharedMemory/CMakeFiles/Test_PhysicsClientServer.dir/build
.PHONY : Test_PhysicsClientServer/fast

#=============================================================================
# Target rules for targets named gtest

# Build rule for target.
gtest: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 gtest
.PHONY : gtest

# fast build rule for target.
gtest/fast:
	$(MAKE) -f test/gtest-1.7.0/CMakeFiles/gtest.dir/build.make test/gtest-1.7.0/CMakeFiles/gtest.dir/build
.PHONY : gtest/fast

#=============================================================================
# Target rules for targets named Test_Collision

# Build rule for target.
Test_Collision: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Test_Collision
.PHONY : Test_Collision

# fast build rule for target.
Test_Collision/fast:
	$(MAKE) -f test/collision/CMakeFiles/Test_Collision.dir/build.make test/collision/CMakeFiles/Test_Collision.dir/build
.PHONY : Test_Collision/fast

#=============================================================================
# Target rules for targets named Test_BulletDynamics

# Build rule for target.
Test_BulletDynamics: cmake_check_build_system
	$(MAKE) -f CMakeFiles/Makefile2 Test_BulletDynamics
.PHONY : Test_BulletDynamics

# fast build rule for target.
Test_BulletDynamics/fast:
	$(MAKE) -f test/BulletDynamics/pendulum/CMakeFiles/Test_BulletDynamics.dir/build.make test/BulletDynamics/pendulum/CMakeFiles/Test_BulletDynamics.dir/build
.PHONY : Test_BulletDynamics/fast

# Help Target
help:
	@echo ""The following are some of the valid targets for this Makefile:""
	@echo ""... all (the default if no target is provided)""
	@echo ""... clean""
	@echo ""... depend""
	@echo ""... install/strip""
	@echo ""... install/local""
	@echo ""... test""
	@echo ""... edit_cache""
	@echo ""... rebuild_cache""
	@echo ""... install""
	@echo ""... list_install_components""
	@echo ""... App_HelloWorld""
	@echo ""... App_BasicExample""
	@echo ""... AppBasicExampleGui""
	@echo ""... App_ExampleBrowser""
	@echo ""... BulletExampleBrowserLib""
	@echo ""... App_RobotSimulator""
	@echo ""... App_PhysicsServer_SharedMemory""
	@echo ""... App_PhysicsServer_SharedMemory_GUI""
	@echo ""... gwen""
	@echo ""... BussIK""
	@echo ""... clsocket""
	@echo ""... OpenGLWindow""
	@echo ""... App_obj2sdf""
	@echo ""... ConvexDecomposition""
	@echo ""... HACD""
	@echo ""... GIMPACTUtils""
	@echo ""... BulletInverseDynamicsUtils""
	@echo ""... BulletFileLoader""
	@echo ""... BulletXmlWorldImporter""
	@echo ""... BulletWorldImporter""
	@echo ""... Bullet3OpenCL_clew""
	@echo ""... Bullet2FileLoader""
	@echo ""... Bullet3Dynamics""
	@echo ""... Bullet3Collision""
	@echo ""... Bullet3Geometry""
	@echo ""... Bullet3Common""
	@echo ""... BulletInverseDynamics""
	@echo ""... BulletSoftBody""
	@echo ""... BulletCollision""
	@echo ""... BulletDynamics""
	@echo ""... LinearMath""
	@echo ""... Test_BulletInverseDynamicsJacobian""
	@echo ""... Test_BulletInverseDynamics""
	@echo ""... Test_BulletInverseForwardDynamics""
	@echo ""... Test_PhysicsClientServer""
	@echo ""... gtest""
	@echo ""... Test_Collision""
	@echo ""... Test_BulletDynamics""
.PHONY : help



#=============================================================================
# Special targets to cleanup operation of make.

# Special rule to run CMake to check the build system integrity.
# No rule that depends on this can have commands that come from listfiles
# because they might be regenerated.
cmake_check_build_system:
	$(CMAKE_COMMAND) -H$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR) --check-build-system CMakeFiles/Makefile.cmake 0
.PHONY : cmake_check_build_system

```

",nothing change generate modification help file edit generator version default target executed given make allow one make time pas parallelism special provided disable implicit canonical work remove remove suppress display executed verbose target always date set environment build shell execute make shell executable command remove file remove special source directory run build directory run provided globally special rule target preinstall color cyan project stripped special rule target special rule target preinstall color cyan local directory special rule target special rule target test test color cyan running test special rule target test test special rule target color cyan running cache editor special rule target special rule target color cyan running regenerate build system special rule target special rule target install install preinstall color cyan install project install special rule target install color cyan install project special rule target color cyan available install special rule target main target make main clean target clean make clean clean main clean target clean prepare installation preinstall make preinstall preinstall prepare installation make preinstall clear depend depend target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make target build rule target make fast build rule target make help target help echo following valid echo default target provided echo clean echo depend echo echo echo test echo echo echo install echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo echo help special cleanup operation make special rule run check build system integrity rule come might,issue,positive,positive,positive,positive,positive,positive
285239750,"Can you also try to add -ldl (to get rid of dlsym, dlopen undefined references)?",also try add get rid undefined,issue,negative,neutral,neutral,neutral,neutral,neutral
285226312,"Thanks a lot for the contribution. How does it remove the package://?
We do want to allow absolute paths (""file://c:/path/to/urdf.urdf""). Does it impact this?",thanks lot contribution remove package want allow absolute file impact,issue,positive,positive,positive,positive,positive,positive
285225632,"Thanks for the report, I'll look at it soon.
(there hasn't been much effort in the 'getVisualShapeData' yet)",thanks report look soon much effort yet,issue,negative,positive,positive,positive,positive,positive
285161338,"Yes, we can remove the method from the header file. Thanks for the report!",yes remove method header file thanks report,issue,positive,positive,positive,positive,positive,positive
285160381,"I think it is copy-past from https://github.com/bulletphysics/bullet3/blob/master/Extras/Serialize/BulletWorldImporter/btWorldImporter.h#L139

and this function may remove because collision word do not have constraints.",think function may remove collision word,issue,negative,neutral,neutral,neutral,neutral,neutral
285107498,"Wow. Same code, except:

```python
p.loadMJCF(""gym/envs/mujoco/assets/humanoid.xml"")
```

For all objects (floor or humanoid in humanoid.xml, or other objects in other files) `getVisualShapeData()` returns array of length 1 with uninitialized values.

(Joints work for MJCF, and URDF work with bug above, at least it's initialized)
",wow code except python floor humanoid array length work work bug least,issue,positive,negative,neutral,neutral,negative,negative
285028708,"[TinyRendererVisualShapeConverter.cpp](https://github.com/bulletphysics/bullet3/blob/master/examples/SharedMemory/TinyRendererVisualShapeConverter.cpp) have the same file lookup code copy-pasted, want me to reuse `findExistingMeshFile()` there too?
",file code want reuse,issue,negative,neutral,neutral,neutral,neutral,neutral
284787080,"(if you want to test Atlas, just kill `package://` and make a lot of symlinks to make valid paths it tries to use)",want test atlas kill package make lot make valid use,issue,negative,neutral,neutral,neutral,neutral,neutral
284785925,I was going to modify URDF load to eat these files without modification.,going modify load eat without modification,issue,negative,neutral,neutral,neutral,neutral,neutral
284778688,"This 'package://' stuff is ROS being overly complex (at least you don't use the xacro version)
Don't you have a version with simple relative paths to assets? We shouldn't need to worry about those details (symlinks, parsing or ignoring 'package://' etc), when we use paths relative to the URDF file.
",stuff overly complex least use version version simple relative asset need worry use relative file,issue,negative,negative,negative,negative,negative,negative
284772815,"Oh wait! 

It's not that Atlas is hard. It is rendered by internal rendering pipeline just fine! And simulated too, as far as I can tell. It is C API bug (present without using python as well).
",oh wait atlas hard internal rendering pipeline fine far tell bug present without python well,issue,negative,positive,neutral,neutral,positive,positive
284740737,"Well it's regular URDF, links and joints... Rigid bodies with constraints kind of worked:

![photo_2017-03-07_17-41-08](https://cloud.githubusercontent.com/assets/18546213/23661275/4f262ba2-035d-11e7-9145-130fffde855d.jpg)

![photo_2017-03-07_17-41-00](https://cloud.githubusercontent.com/assets/18546213/23661274/4f24fa0c-035d-11e7-9494-0907b7cec0df.jpg)
",well regular link rigid kind worked,issue,positive,positive,positive,positive,positive,positive
284733901,"Ok, I'll have a look at it later. By the way, the Atlas is one of the most complex robots out there, it might require quite some work to get the simulation in a nice shape.",look later way atlas one complex might require quite work get simulation nice shape,issue,negative,positive,neutral,neutral,positive,positive
284732620,"It is `roboschool/models_robot/atlas_description/urdf/atlas_v4_with_multisense.urdf`, with removed ""package://"". Also symlinks necessary for it to find `.dae`s.

Here is what I found, for R2D2:

```
link 0 have filename 'b'''
link 1 have filename 'b'''
link 2 have filename 'b'''
link 3 have filename 'b'''
link 4 have filename 'b'''
link 5 have filename 'b'''
link 6 have filename 'b'''
link 7 have filename 'b'''
link 8 have filename 'b'''
link 9 have filename 'b'''
link 10 have filename 'b's_robot/l_finger.stl''
link 11 have filename 'b'bot/l_finger_tip.stl''
link 12 have filename 'b's_robot/l_finger.stl''
link 13 have filename 'b'bot/l_finger_tip.stl''
link 14 have filename 'b'''
link 15 have filename 'b'''
```

Link numbers increase monotonically.

And for Atlas:

```
link 23 have filename 'b'unplugged/pelvis.dae''
link 21 have filename 'b'unplugged/ltorso.dae''
link 22 have filename 'b'unplugged/mtorso.dae''
link 37 have filename 'b'unplugged/utorso.dae''
link 8 have filename 'b'unplugged/r_clav.dae''
link 16 have filename 'b'unplugged/r_scap.dae''
link 18 have filename 'b'unplugged/r_uarm.dae''
link 13 have filename 'b'meshes_v3/r_larm.dae''
link 9 have filename 'b'meshes_v3/r_farm.dae''
link 11 have filename 'b'meshes_v3/r_hand.dae''
link 12 have filename 'b'''
link 0 have filename 'b'tion/meshes/head.dae''
link 1 have filename 'b'shes/head_camera.dae''
link 3 have filename 'b'''
link 5 have filename 'b'''
link 7 have filename 'b'''
link 24 have filename 'b'unplugged/r_clav.dae''
link 32 have filename 'b'unplugged/r_scap.dae''
link 34 have filename 'b'unplugged/r_uarm.dae''
link 29 have filename 'b'meshes_v3/r_larm.dae''
link 25 have filename 'b'meshes_v3/r_farm.dae''
link 27 have filename 'b'meshes_v3/r_hand.dae''
link 28 have filename 'b'''
link 38 have filename 'b'''
link 40 have filename 'b'''
link 19 have filename 'b'nplugged/l_uglut.dae''
link 14 have filename 'b'nplugged/l_lglut.dae''
link 20 have filename 'b'unplugged/l_uleg.dae''
link 15 have filename 'b'unplugged/l_lleg.dae''
link 17 have filename 'b'nplugged/l_talus.dae''
link 10 have filename 'b'unplugged/l_foot.dae''
link 35 have filename 'b'nplugged/r_uglut.dae''
link 30 have filename 'b'nplugged/r_lglut.dae''
link 36 have filename 'b'unplugged/r_uleg.dae''
link 31 have filename 'b'unplugged/r_lleg.dae''
link 33 have filename 'b'nplugged/r_talus.dae''
link 26 have filename 'b'unplugged/r_foot.dae''
```

You see, link 2 missing, link 4 is missing. Not in order. Strange.
",removed package also necessary find found link link link link link link link link link link link link link link link link link increase monotonically atlas link link link link link link link link link link link link link link link link link link link link link link link link link link link link link link link link link link link link link see link missing link missing order strange,issue,negative,negative,negative,negative,negative,negative
284728004,It could be an issue with the particular URDF file. Do you have a link to the URDF file? (possibly with any modifications you needed to make),could issue particular file link file possibly make,issue,negative,positive,neutral,neutral,positive,positive
284621620,"I use a raw pointer inside the rigidbody component to point my game objects to their rigidbodies:
```
class rigidbody : public gComponent {
public:
    rigidbody() {
        type = ""Rigidbody"";
    };
    int body; //index into the rigidbody.
    bool isStaticMesh; //is this a static mesh collider?
    bool physicsEnabled; //is this an object that reacts to physics?
    float weight; //weight of rigidbody. (weight of 0 effectively makes it static)
    float radius; //radius of sphere collision. (if enabled)
    Vec3 boxDimensions; //dimensions of bounding box (if enabled)
    BulletCollisionType collisionType; //type of collision.
};
```

I initialize, for example, a sphere rigidbody here:
```
int bulletCore::addSphereObj(float weight, Vec3 pos, Vec3 rot, float radius) {
    //generate the sphere.
    btCollisionShape* sphereShape = new btSphereShape(radius);

    //setup our transform.
    btVector3 position = btVector3(pos.x, pos.y, pos.z);
    btQuaternion rotation;
    rotation.setEuler(rot.y, rot.x, rot.z);
    btTransform defaultTrans = btTransform(rotation, position);
    btDefaultMotionState* dynamicMotion = new btDefaultMotionState(defaultTrans);

    //calculate the sphere shape inertia.
    btVector3 localInertia = btVector3(0,0,0);
    sphereShape->calculateLocalInertia((btScalar)weight, localInertia);

    //make our rigidbody, and return it.
    btRigidBody::btRigidBodyConstructionInfo objInfo((btScalar)weight, dynamicMotion, sphereShape, localInertia);
    btRigidBody* body = new btRigidBody(objInfo);

    rigidbodies.push_back(body);
    worldInstance->addRigidBody(rigidbodies[rigidbodies.size()-1]);

    return rigidbodies.size()-1;
}
```

And that function (and the variants taking a mesh/box dimensions) are initialized after loading the objects themselves here:
(Example using a sphere, this is done inside a for-loop)
```
if (temp->collisionType == BT_SPHERE) {
         temp->body = gameWorld.addSphereObj(temp->weight,
                                                   tempT->position,
                                                   tempT->rotation,
                                                   temp->radius);
         temp->physicsEnabled = true;
}
```

In this instance, `gameWorld` is the btDiscreteDynamicsWorld I initialize first before calling init on my physics objects. Each object has an index into gameWorld's rigidbody array, so that a custom module attached to my objects modify the correct rigidbody.
In my case, mine's crashing on SetupRigidbody inside AddRigidbody... inside AddSphere. 
Last valgrind I did reported that an allocation was made for 628 bytes in SetupRigidbody, but then it tried to write 712. That's what I saw... and shortly after that, the `malloc() : memory corruption` came up
And again... not the same on Windows, it works fine there. For now, I've reverted to preserve cross-platform compatibility until I (or we, if it really is Bullet at fault) can find a fix for later versions.

On the other hand... in typing this, I found a massive oversight in how I'm keeping track of Rigidbodies. Thank you. xD (I don't think it'll fix the crash though)",use raw pointer inside component point game class public public type body bool static mesh bool object physic float weight weight effectively static float radius sphere collision bounding box collision initialize example sphere float weight rot float radius sphere new radius transform position rotation rotation position new sphere shape inertia weight return weight body new body return function taking loading example sphere done inside body weight position rotation radius true instance initialize first calling physic object index array custom module attached modify correct case mine inside inside last allocation made tried write saw shortly memory corruption came work fine preserve compatibility really bullet fault find fix later hand found massive oversight keeping track thank think fix crash though,issue,negative,positive,positive,positive,positive,positive
284273457,"I build swig generate code for java jni.
It try generate set-function for this public field

```
btHashMap<btHashPtr,void*> m_skipPointers;
```
https://github.com/bulletphysics/bullet3/blob/master/src/LinearMath/btSerializer.h#L390

Now i did this field immutable in swig config and all build ok.

P.S.: Public access field in class is a bad practice, imho.",build swig generate code try generate public field void field immutable swig build public access field class bad practice,issue,negative,negative,negative,negative,negative,negative
284265418,"That's odd, I'm using MSVC 2015, 64bit all the time, without errors. Are you compiling the Bullet sdk/examples using premake4-generated project files or cmake-generated project files, or your own files/build system? Could it be the some compiler flag?",odd bit time without bullet project project system could compiler flag,issue,negative,negative,negative,negative,negative,negative
284261660,Thanks for the report. What compiler + version + platform reports this error?,thanks report compiler version platform error,issue,negative,positive,positive,positive,positive,positive
284192621,"Thanks for the contribution! 
I was also adding a small feature, allowing to set the maximum number of dofs to log (instead of hard-coded 12), since my minitaur has 16 dofs to log :-) I'll add this in the next commit.",thanks contribution also small feature set maximum number log instead since log add next commit,issue,positive,negative,neutral,neutral,negative,negative
284176611,"First of all, download the very latest source version, not a 'release', or git clone:
https://github.com/bulletphysics/bullet3/archive/master.zip

On Windows, make sure Python is installed in C:\python* or modify
build_visual_studio_vr_pybullet_double.bat
and click build_visual_studio_vr_pybullet_double.bat

(I recommend NOT using the cmake version)

Premake creates those 2 binaries for standalone physics servers:
App_PhysicsServer_SharedMemory_GUI and
App_PhysicsServer_SharedMemory_VR

Please let me know if that helps. Make sure to use 'Release' build in Visual Studio (Debug is too slow)",first latest source version git clone make sure python modify click recommend version premake physic please let know make sure use build visual studio slow,issue,positive,positive,positive,positive,positive,positive
284175300,"Thanks @erwincoumans.

> You need to start the standalone physics server and use the --robotassets flag.

By standalone do you mean NOT the physics server from within example browser? How do I invoke the standalone physics server?

> You need to use a matching version of physics server 

Makes sense. I was using the executable downloaded from bullet repo. How can I build the VR executable from my installation of bullet?
",thanks need start physic server use flag mean physic server within example browser invoke physic server need use matching version physic server sense executable bullet build executable installation bullet,issue,negative,negative,neutral,neutral,negative,negative
284151418,"Good point, thanks for the improvement!",good point thanks improvement,issue,positive,positive,positive,positive,positive,positive
284049911,"You need to start the standalone physics server and use the --robotassets flag.
Alternatively, you can simply run the bullet3\examples\pybullet\vr_kuka_setup.py script
>>to connect to it via pybullet. I get this error:

You need to use a matching version of physics server (VR, GUI, example browser etc) and pybullet build. If that still fails, reboot your machine and make sure to start the physics server before any client (pybullet etc)",need start physic server use flag alternatively simply run script connect via get error need use matching version physic server example browser build still machine make sure start physic server client,issue,negative,positive,positive,positive,positive,positive
284021673,Thanks @erwincoumans. Just wanted to confirm that the Release option fixed the issue.,thanks confirm release option fixed issue,issue,negative,positive,positive,positive,positive,positive
283690767,"Yes, please provide a callstack, and valgrind report of the crash.

Bullet is now at 2.86.1, I would suggest trying that out. The most recent Bullet is used in many cross platform projects on Windows, Linux, Mac OSX, iOS, Android etc. There should be no reason to revert to an old version of Bullet.

Do you use 'new btRigidBody(...)' somewhere, and store a raw pointer
btRigidBody* m_rigidBody;
Or do you use smart pointers or other kind of pointer?
",yes please provide report crash bullet would suggest trying recent bullet used many cross platform mac android reason revert old version bullet use somewhere store raw pointer use smart kind pointer,issue,positive,positive,positive,positive,positive,positive
283651781,"For my game engine code, I use a gameobject + component system, similar to the Unity Game Engine, and one of those components is a Rigidbody that points to the btRigidbody allocated. I then use a function call to batch initialize all the btRigidbodies.

Basically, it goes like this:
- Add rigidbody component to gameObject.
- Call AddObj() (in my case, I have separate functions for Sphere, Box and Static Mesh Colliders) to make a btRigidbody, then add it to the btDynamicsWorld
- point the gameObject's rigidbody component to the newly created object.

That last step isn't even reached with the area mine's crashing in, it crashes on calling **new btRigidbody()** inside my wrapper functions to add collision shapes/rigidbodies to my objects.

HOWEVER: a couple of nights back, I found that compiling Bullet 2.82 instead of any source tree featuring Bullet 3.x code DOESN'T show the issue for me, so on my end, I have a workaround. Others may not though, I am more than happy to try compiling one of the examples and seeing if it happens there. 

I mainly figured this out through the fact that I decided to search for what else is LInux-compatible and uses Bullet.
I remembered Blender uses bullet, so I looked up what the latest Blender version uses, it's 2.82... I try 2.82 in my game engine and it works there too.

This tells me a commit between 2.82 and 2.83 stuffed up the allocator for Linux machines, I think we may have our culprit, IF I can repro the problem with the same example present in both source trees, and find the 2.83 version crashes while the other doesn't.

Of course, if I find that indeed happens as expected, then it's a hunt to find the commit that broke Linux. :/

EDIT: To directly answer your question, I would have no clue, I'd assume allocating to the stack, as I allocate a btRigidbody for each object in my wrapper functions.",game engine code use component system similar unity game engine one use function call batch initialize basically go like add component call case separate sphere box static mesh make add point component newly object last step even area mine calling new inside wrapper add collision however couple night back found bullet instead source tree bullet code show issue end may though happy try one seeing mainly figured fact decided search else bullet blender bullet latest blender version try game engine work commit stuffed allocator think may culprit problem example present source find version course find indeed hunt find commit broke edit directly answer question would clue assume stack allocate object wrapper,issue,negative,positive,neutral,neutral,positive,positive
283395517,Closing as it turns out heightMax and Min in constructor is respected by collision detection but raycast doesnt care. Also missing those parameters set horizontal origin on 0 instead of middle of min and max.,turn min constructor collision detection doesnt care also missing set horizontal origin instead middle min,issue,negative,negative,neutral,neutral,negative,negative
282965343,"It is probably better to catch them and pull them to zero or whatever works best in your case. In RL, I punish the unwanted by setting the reward to 0 and by terminating the episode. That will teach the agent not to send this as it seems to be a terminate/fail signal to send.",probably better catch pull zero whatever work best case punish unwanted setting reward episode teach agent send signal send,issue,positive,positive,positive,positive,positive,positive
282867498,"You really should never pass NaN as arguments, it will potentially corrupt more than just a single rigid body.",really never pas nan potentially corrupt single rigid body,issue,negative,negative,negative,negative,negative,negative
282862208,"A single function to reset a rigid body's states would be nice, I think if a NaN or Inf creeps in by accident there is a lot of state to fix. I wrote some bad code that applied Inf or NaN forces and the procedure to fix a rigid body was like; setWorldTransform, forceActivationState, clearForces, setLinearVelocity, setAngularVelocity, updateInertiaTensor etc. ",single function reset rigid body would nice think nan accident lot state fix wrote bad code applied nan procedure fix rigid body like,issue,negative,negative,neutral,neutral,negative,negative
282590757,"I fixed it exactly as you proposed, I just thought maybe somebody not familiar with the NaN-issue might miss to catch that and so pybullet could notify the user of him accidentally setting NaN. I just wanted to
point this out that this is a hidden source of error. But Maybe you are right, and this simply has to be caught early by the user and not by the library.",fixed exactly thought maybe somebody familiar might miss catch could notify user accidentally setting nan point hidden source error maybe right simply caught early user library,issue,negative,positive,positive,positive,positive,positive
282579297,"Well, I would expect that if you put NaN into any system, you won't get a results better than NaN :)
Perhaps you add some check in python? (math.isnan())?",well would expect put nan system wo get better nan perhaps add check python,issue,positive,positive,positive,positive,positive,positive
282578138,"@erwincoumans first of all thanks for such a quick merge
I have a couple of updates for bullet documentation. Will make pull requests for them in a few days (gotta clean up those changes)
Also I work on OpenGL, OpenCL & Vulkan API and will surely join Bullet 3.x development",first thanks quick merge couple bullet documentation make pull day got ta clean also work surely join bullet development,issue,positive,positive,positive,positive,positive,positive
282577525,"Sure, thanks for the addition.
By the way, recently we started working on a more general robotics simulator, using [pybullet](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA/edit). There is also going to be a C++ version of this, which abstracts from Bullet 2.x, so we can easier move to Bullet 3.x and beyond.  See this header, in case it interests you:
https://github.com/bulletphysics/bullet3/blob/master/examples/RobotSimulator/b3RobotSimulatorClientAPI.h",sure thanks addition way recently working general simulator also going version bullet easier move bullet beyond see header case,issue,positive,positive,positive,positive,positive,positive
282561879,The newer version of diagonalize is more robust and should fix your issue. See https://github.com/bulletphysics/bullet3/commit/0131754173f38d63659c9d8c57ce2d1fb03cf51c,version diagonalize robust fix issue see,issue,negative,neutral,neutral,neutral,neutral,neutral
282307964,"If you can modify an existing example in the example browser to reproduce this issue, I'll look at it. Did you use smart pointers, or allocate a colllsion object  on the stack?",modify example example browser reproduce issue look use smart allocate object stack,issue,negative,positive,positive,positive,positive,positive
282292203,"Hi, sorry to Necro an old issue, but I have just run into the same issue in my game engine; it only happens under Linux, not Windows, and it occurs inside SetupRigidbody. I have a repro source tree I can upload if needed.

If you guys need valgrind logs, I can provide them. ",hi sorry old issue run issue game engine inside source tree need provide,issue,negative,negative,negative,negative,negative,negative
281812024,getWorldToBaseRot is a trap indeed. It is better to use getWorldTransform() and get the rotation from there. I should have removed that API long ago.,trap indeed better use get rotation removed long ago,issue,negative,positive,positive,positive,positive,positive
281247761,"Thanks for the contribution! There are some redundant dependencies in the python scripts (I think the script doesn't use numpty, but it includes the module, most Windows python distributions don't have numpy) We can clear that up later.",thanks contribution redundant python think script use module python clear later,issue,positive,positive,neutral,neutral,positive,positive
281009534,"Thank you for pointing this out to me, I came to understand half of this from the various comments across the repository. I will clean my pull request from these changes and try to fix it with your guidance and make a separate commit for this. I would love to use it in my RL environments. Then, whenever you feel like it, you can merge this with the last commit or without it if you need to update serialization for your purposes anyway (in case you like my implementation).",thank pointing came understand half various across repository clean pull request try fix guidance make separate commit would love use whenever feel like merge last commit without need update serialization anyway case like implementation,issue,positive,positive,positive,positive,positive,positive
280934620,"The generation of serialization structures is not documented, and that autogenerated header file should never be manually changed: it needs to be in sync with the serialization 'DNA' in Bullet/src/LinearMath/btSerializer.cpp. The DNA stores the types and struct names, so that Bullet can do forward and backward compatibility, convert between 32bit and 64bit .bullet files and deal with enddianness differences and single float <-> double float precision and when loading a .bullet file that is a different version of the SDK (newer or older).

1) There is a flag in the cmake build system that needs to be enabled.
2) Build and run makesdna and headerfile generator in  both 32bit and 64bit bit (copy the DNA string in a temp file, and combine both strings into btSerializer.cpp).
3) Run some example, so that the data/r2d2_multibody.bullet is using the new serialization structures.
4) run createDnaString.bat
5) create a CL / commit with all the changes in btSerializer (2 strings!) and bullet.h

We could create a script to automate all above steps, but step (2) would be easier to automate if we split the 32bit and 64bit DNA structures in separate files (for example adding LinearMath/btSerializer64.cpp).

For versioning it is best to create a new Bullet version, after major changes in the serialization structures, so I rather not have people contributing regular changes in that. It would be come a support burden and it is just easier to do it myself. Having said so, you are free to try it out, but I won't support you if you get stuck in the serialization procedures :-)
",generation serialization header file never manually need sync serialization bullet forward backward compatibility convert bit bit deal single float double float precision loading file different version older flag build system need build run generator bit bit bit copy string temp file combine run example new serialization run create commit could create script step would easier split bit bit separate example best create new bullet version major serialization rather people regular would come support burden easier said free try wo support get stuck serialization,issue,positive,positive,positive,positive,positive,positive
280855283,"Ok, I realized that it is harder to do than I thought. It seems that I need to regenerate bullet.h to add this functionality. Whenever you have time, maybe you can reuse my work.",harder thought need regenerate add functionality whenever time maybe reuse work,issue,negative,negative,neutral,neutral,negative,negative
280841214,"The problem seems to be related to BulletFileLoader/autogenerated/bullet.h. How can I autogenerate this? If I directly edit it, I get the strangely messed up code I commited.

Edit: It seems that makesdna is the thing to do. But I have no idea how to run this...maybe it would be helpful if this had a run script somehow.",problem related directly edit get strangely code edit thing idea run maybe would helpful run script somehow,issue,negative,positive,neutral,neutral,positive,positive
280839128,I am experiencing a strange issue with my changes where the jointName is messed up and the jointFriction and jointDamping are flipped with the newly introduced jointLowerLimit and jointUpperLimit. I am working on it to find out which of my changes messed this up.,strange issue newly working find,issue,negative,positive,neutral,neutral,positive,positive
280527393,"I added the tefal pan urdf and modified the 'ExampleBrowser/Experiments/OneMotorGripperGrasp' to grasp the pan. It is a very challenging problem and I had to increase the forces a lot, use sufficient spinning friction (in URDF), increase number of solver iterations to 150 etc.",added pan grasp pan problem increase lot use sufficient spinning friction increase number solver,issue,negative,neutral,neutral,neutral,neutral,neutral
279516127,"After some code diving, I realized that the limit get lost in ConvertURDF2Bullet as they are stored in MultiBodyCreationInterface and get instantiated as limits, but are then not stored anywhere...I thought maybe it is a quickwin, but it needs more thinking where to store the limits. If you want to give me a heads up, I will try. Otherwise yeah, I read it from URDF.",code diving limit get lost get anywhere thought maybe need thinking store want give try otherwise yeah read,issue,negative,neutral,neutral,neutral,neutral,neutral
279318797,Maybe I can track it down and see how to add it. Would you be okay with adding it as another return value to getJointInfo?,maybe track see add would another return value,issue,negative,neutral,neutral,neutral,neutral,neutral
279296407,"Not all data from URDF files is exposed at the moment, you can't query (nor change) most data. Let's leave this issue open, until someone (likely me) has a patch for it (no estimate though). If you need it urgently, I would read them from the URDF file.",data exposed moment ca query change data let leave issue open someone likely patch estimate though need urgently would read file,issue,negative,neutral,neutral,neutral,neutral,neutral
279213006,"I saw the joint velocity and this is at least something to start with. However, when thinking how I would have to calculate the Cartesian velocity, I thought it could be an unwanted obstacle for RL to learn this transformation. That is why I wanted to create this feature by myself. I would propose to create an interface to query positions and velocities in a more model agnostic (pretty sure you have that on your plan). I currently have methods that do exactly that:

     def state_fields_of_pose_of(body_id, link_id=-1):
		if link_id == -1:
			(x,y,z), (a,b,c,d) = p.getBasePositionAndOrientation(body_id)
		else:
			(x,y,z), (a,b,c,d),_,_,_,_ = p.getLinkState(body_id, link_id)
		return np.array([x,y,z,a,b,c,d])

Would you be interested in contributions to pybullet too? I think I could be of help, but I do not know your overall plan, so I might build stuff that is not general enough for your purpose.",saw joint velocity least something start however thinking would calculate velocity thought could unwanted obstacle learn transformation create feature would propose create interface query model agnostic pretty sure plan currently exactly else return would interested think could help know overall plan might build stuff general enough purpose,issue,positive,positive,positive,positive,positive,positive
279212714,"I thought it is maybe a better question to ask on the forum. I may have missed something. And since this here is not a question/answer section of bullet, I thought I would come back and track it only after being sure that it is not available at all.",thought maybe better question ask forum may something since section bullet thought would come back track sure available,issue,positive,positive,positive,positive,positive,positive
279187705,"Why did you close it? The joint velocity (scalar) is available, but not in Cartesian / World coordinates.",close joint velocity scalar available world,issue,negative,positive,positive,positive,positive,positive
279110704,"Will pybullet be able to be downloaded using PIP soon?

Pip install  pybullet?


On Feb 10, 2017 4:33 PM, ""erwincoumans"" <notifications@github.com> wrote:

> 'Release' image also added in the pybullet quickstart guide
> <https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA>
> .
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/830#issuecomment-279103608>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WYSFnYi8rRGMd4pLVQENYCw5Do5Fks5rbQHjgaJpZM4KT4cg>
> .
>
",able pip soon pip install wrote image also added guide thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
279103608,'Release' image also added in the [pybullet quickstart guide](https://docs.google.com/document/d/10sXEhzFRSnvFcl3XxNGhnD4N2SedqwdAvK3dsihxVUA) .,image also added guide,issue,negative,neutral,neutral,neutral,neutral,neutral
279100252,"@erwincoumans I tried with -DCMAKE_BUILD_TYPE=Release option and I have CMAKE_BUILD_TYPE:STRING=Release in the CMakeCache.txt. Is there a better way to ""select Release build""?",tried option better way select release build,issue,negative,positive,positive,positive,positive,positive
279067399,"@benelot thanks for the how-to description. 
I followed all the instructions multiple times for installing pybullet on Windows 10. The build succeeds with zero errors, but in the end there's no pybullet.pyd under cm\examples\pybullet\. Instead I can only find a pybullet_d.pyd under cm\lib\Debug\ and it doesn't work when trying to import in python. 

Any idea what might be the issue?",thanks description multiple time build zero end instead find work trying import python idea might issue,issue,negative,positive,neutral,neutral,positive,positive
278217764,"Aaargh, missed that one: there are a few too many version tags in the code.

Hopefully this does the trick next time: FILE (STRINGS ""VERSION"" BULLET_VERSION)

See https://github.com/bulletphysics/bullet3/pull/954

Thanks for the report!
",one many version code hopefully trick next time file version see thanks report,issue,positive,positive,positive,positive,positive,positive
278057442,"Thanks for the contribution! I may cleanup some headers, if needed.",thanks contribution may cleanup,issue,negative,positive,positive,positive,positive,positive
278015707,"By running the following command it works for me:

git clone https://github.com/bulletphysics/bullet3.git
cd bullet3
rm CMakeCache.txt
mkdir build_cmake
cd build_cmake
cmake -DBUILD_PYBULLET=ON -DBUILD_PYBULLET_NUMPY=OFF -DUSE_DOUBLE_PRECISION=ON -DCMAKE_BUILD_TYPE=Release -DPYTHON_EXECUTABLE:FILEPATH=/Users/fabien/anaconda/bin/python2.7 -DPYTHON_INCLUDE_DIR:PATH=/Users/fabien/anaconda/include/python2.7 -DPYTHON_LIBRARY:FILEPATH=/Users/fabien/anaconda/lib/libpython2.7.dylib ..
make
cd examples
cd pybullet
ln -s pybullet.dylib pybullet.so
python -c ""import pybullet""",running following command work git clone bullet make python import,issue,negative,neutral,neutral,neutral,neutral,neutral
277404229,"Thanks a lot for the contribution!  Since the Mac continuous integration takes too long, I expect it to be all fine, so merge it.",thanks lot contribution since mac continuous integration long expect fine merge,issue,positive,positive,positive,positive,positive,positive
277340216,"This was very intriguing to me,  I slowed my instability by sharing a % of
linv each frame to the root and back each frame for each joint of the sim,
 in blender game engine,  because we don't have a featherstone solver or
btmulibody exposed for some reason,

If a patch were pushed to upbge I am sure panzergame would accept it.
(the current place where real bge development is taking place)

On Feb 3, 2017 10:36 AM, ""Oleg Klimov"" <notifications@github.com> wrote:

That's a very clear explanation!

So in my own words, I've hit a simplest case when one needs reduced
coordinate method already. The reason is, joints are simulated as
constraints, on the same level as contacts. So to correct contact errors,
joint constraint errors appear that also need correction. That leads to
interplay and instability.

OK, that means I'm not posting another report of flyaway to infinity until
I move the code to multibody 😄

—
You are receiving this because you are subscribed to this thread.
Reply to this email directly, view it on GitHub
<https://github.com/bulletphysics/bullet3/pull/943#issuecomment-277326008>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AG25WaMCgL6djenRyLwAWLxaCBSzFiXBks5rY3OdgaJpZM4L10Ri>
.
",intriguing instability frame root back frame joint blender game engine solver exposed reason patch sure would accept current place real development taking place wrote clear explanation hit case one need reduced method already reason level correct contact joint constraint appear also need correction interplay instability posting another report flyaway infinity move code thread reply directly view mute thread,issue,positive,positive,neutral,neutral,positive,positive
277326008,"That's a very clear explanation!

So in my own words, I've hit a simplest case when one needs reduced coordinate method already. The reason is, joints are simulated as constraints, on the same level as contacts. So to correct contact errors, joint constraint errors appear that also need correction. That leads to interplay and instability.

OK, that means I'm not posting another report of flyaway to infinity until I move the code to multibody :smile: 
",clear explanation hit case one need reduced method already reason level correct contact joint constraint appear also need correction interplay instability posting another report flyaway infinity move code smile,issue,positive,positive,positive,positive,positive,positive
277322371,"In a nutshell, when using real-time robotics simulation you'll likely terminate the LCP constraint solver early with some residual error. This error will cause all kind of issues, and lots of effort goes into resolving this. This includes recovery from penetration, computing good reliably penetration depth/separating vectors. Recovering from penetration has its own issues (adding energy, which translates into jitter etc), so we need  another effort to cope with this. So we have 'split impulse', solving two separate LCPs (one on position level, other on velocity level) to not add too much kinetic energy due to penetration recovery. Also we have the ERP tuning parameter, to not solve the entire penetration error in one simulation step. Each of the mechanisms to cope with one issue usually introduces other issues, so it is like juggling many balls.

If you simulate joints as constraints, this LCP error translates into sloppy joints. This introduces even more issues, with feedback loops. Hence, for real-time Robotics simulation it is better to use reduced coordinate methods to simulate joints, and not using constraint to simulate the joints.  This means joints have no joint gap. This is what btMultiBody does, using Featherstone's Articulated Body Algorithm. 

I think we can get your use case working with existing Bullet btMultiBody and some careful tuning. 

Since this is my main effort (higher quality simulation for robotics and VR), there are a few near-term plans on my list that helps your challenging problem:

1) positional friction anchors. This will probably fix the issue entirely. In short, as a contact is created, it will add friction anchors, and make sure they are kept together using position correction. You can think of this as a error/drift correction, similar to penetration depth along the contact normal, but now applied laterally for friction (usually friction is only handled on the velocity level, hence the drift when your LCP solver has residual error).

2) Block LCP solver. This will solve small systems much better, without paying the cost of a global LCP solver (such as Dantzig or Lemke, which have their own numerical and other issues)

3) NNCG, this LCP solver is an improvement on the PGS (Projected Gauss Seidel aka btSequentialImpulseConstraintSolver ). NNCG is not yet coupled to the btMultiBody solution.

etc.
",nutshell simulation likely terminate constraint solver early residual error error cause kind lot effort go recovery penetration good reliably penetration penetration energy jitter need another effort cope impulse two separate one position level velocity level add much kinetic energy due penetration recovery also tuning parameter solve entire penetration error one simulation step cope one issue usually like juggling many simulate error sloppy even feedback hence simulation better use reduced simulate constraint simulate joint gap articulated body algorithm think get use case working bullet careful tuning since main effort higher quality simulation list problem positional friction probably fix issue entirely short contact add friction make sure kept together position correction think correction similar penetration depth along contact normal applied laterally friction usually friction handled velocity level hence drift solver residual error block solver solve small much better without paying cost global solver numerical solver improvement gauss seidel aka yet coupled solution,issue,positive,positive,positive,positive,positive,positive
277317065,"I agree that it is a hard problem. I really appreciate that you look into it. To help, I have some more notes...

Probably, instability has nothing to do with long cylinder. Cylinder just makes it more profound. To illustrate, please remove cylinder from the code, set EFFORT=1, observe stable simulation. Now set EFFORT=10, now two fingers behave wobbly when they meet, moving not only along unconstrained direction, but also up and sideways, rotate. 

It hints for numerical problems somewhere, reproducible in simple setting, but I can only guess. It also doesn't go away with small step size or double precision. Only m_numIterations seem to help, instability becomes smaller in amplitude but still present.

Oleg.
",agree hard problem really appreciate look help probably instability nothing long cylinder cylinder profound illustrate please remove cylinder code set observe stable simulation set two behave wobbly meet moving along unconstrained direction also sideways rotate numerical somewhere reproducible simple setting guess also go away small step size double precision seem help instability becomes smaller amplitude still present,issue,positive,negative,neutral,neutral,negative,negative
277305387,"Grasping such round long thin object is hard problem in real-time robotics simulation for various reasons. There is no ""the key"" or any magic to make ""it'll start working"", since it is a hard complex problem, and I will look at it. To give you a few ideas why it is hard: you will need some spinning friction (without spinning friction, there is very little the few contact points can do to prevent rotation), double precision, smallish time step, sufficient number of solver iterations (drift can be caused by the solver terminates early with large error), and keeping the gripped fingers parallel, making sure the closing forces of the gripper fingers are not in conflict with the contact forces and error reduction parameters of the contact (ERP) and many more.

Again, in the meanwhile, I would suggest looking in

1) example under ""ExampleBrowser/Experimental/GripperGrasp"",
2) ""ExampleBrowser/Experimental/Two Point Grasp""
3) ""ExampleBrowser/Experimental/One Motor Gripper Grasp""
ConvertURDF2BulletInternal in Bullet/examples/Importers/ImportURDFDemo/URDF2Bullet.cpp
",grasping round long thin object hard problem simulation various key magic make start working since hard complex problem look give hard need spinning friction without spinning friction little contact prevent rotation double precision smallish time step sufficient number solver drift solver early large error keeping parallel making sure gripper conflict contact error reduction contact many meanwhile would suggest looking example point grasp motor gripper grasp,issue,negative,negative,neutral,neutral,negative,negative
277299161,"You're right, I didn't try btMultiBody and probably I should. I was under the impression it makes sense to use it for bigger robots and stability within the robot itself, and here is very simple situation with three bodies.

So the key is to create this two fingers within one multibody? Or just create the same as multibody with numLinks==1 and it'll start working?
",right try probably impression sense use bigger stability within robot simple situation three key create two within one create start working,issue,positive,positive,neutral,neutral,positive,positive
277150687,"Hi Oleg,

Thanks for describing the issue, I'll check it out.

At a first glance, you don't seem to use the btMultiBody at the moment. It
is not enough to use the btMultiBodyDynamicsWorld, there is a totally
different way to create btMultiBody objects (unlike btRigidBody). See for
example under ExampleBrowser/Experimental/ GripperGrasp"",""Two Point Grasp""
and ""One Motor Gripper Grasp""

I'll re-create your setup using URDF, loaded as a btMultiBody and start
from there. You can see some differences in ConvertURDF2BulletInternal in
Bullet/examples/Importers/ImportURDFDemo/URDF2Bullet.cpp

I suggest you give it a short break and give me some time to configure it.
Thanks!
Erwin



On 2 February 2017 at 16:29, Oleg Klimov <notifications@github.com> wrote:

> [image: image]
> <https://cloud.githubusercontent.com/assets/18546213/22574612/f82c4bf2-e9c0-11e6-9dd2-be7ece0db70f.png>
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/943#issuecomment-277129598>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3EDyPiUL_34X2sAzjFWbYa5AprjKks5rYnT9gaJpZM4L10Ri>
> .
>
",hi thanks issue check first glance seem use moment enough use totally different way create unlike see example two point grasp one motor gripper grasp setup loaded start see suggest give short break give time configure thanks wrote image image thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
276982646,"Hi @erwincoumans , thanks for reaching out.

I think that there is a problem with RPATH and bullet3.
It seems that bullet3 [enables RPATH](https://github.com/bulletphysics/bullet3/blob/master/CMakeLists.txt#L13-L14) but LC_RPATH are not actually set.
I know that in `brew` RPATH should be disabled, but there might be some problems because of a known issue/bug with CMAKE and macOS RPATH that some of my colleagues and me spotted recently: we opened an issue on KitWare GitLab [here](https://gitlab.kitware.com/cmake/cmake/issues/16589#note_221333).

I don't have a suggested patch/strategy for now. We first should wait for the CMake issue to be solved first, otherwise I might think of a possible workaround for the meantime.
To be honest, I should first download, compile and install bullet3 from source instead using the one provided by `brew` to see where the real problem could lie...

My setup comes from `brew`, and bullet is installed as a dependency by Gazebo. I don't think I can do much about it using `brew` setup.",hi thanks reaching think problem bullet bullet actually set know brew disabled might known spotted recently issue first wait issue first otherwise might think possible honest first compile install bullet source instead one provided brew see real problem could lie setup come brew bullet dependency gazebo think much brew setup,issue,negative,positive,positive,positive,positive,positive
276970068,"do you have a suggested patch? Otherwise let's close the issue. Note that Gazebo doesn't use Bullet btMultiBody, so for robotics your are better of using pybullet.",patch otherwise let close issue note gazebo use bullet better,issue,negative,positive,positive,positive,positive,positive
276950380,"Thanks for the report, please let us know if the fix didn't help.",thanks report please let u know fix help,issue,positive,positive,positive,positive,positive,positive
276276316,"Just make sure to not hold 'p' too long, because Chrome has difficulties importing huge trace files. You can also reduce the number of BT_PROFILE tags during profiling. You can press 'p' multiple times, it will output unique filenames during one run (but running the ExampleBrowser again will overwrite old trace files at the moment, will need to add some data/time in the filename)

The ExampleBrowser also has the --trace option to start tracing from program startup (instead of using 'p').

That sounds good. Also the ExampleBrowser / View / Profiler now works multi-threaded mode (but only shows the main thread), hence this 'p' feature to export to Chrome.

Note that there are two graph coloring parallel solvers in Bullet, one in the OpenCL GPU pipeline. This OpenCL parallel solver is most fancy: it also has the parallel version of the graph coloring (batch creation) in two stages, all on GPU. You can see some description in [Bullet/docs/GPU_rigidbody_using_OpenCL.pdf](https://github.com/erwincoumans/bullet3/raw/master/docs/GPU_rigidbody_using_OpenCL.pdf)
Code of parallel solve iterations in OpenCL is here:
https://github.com/bulletphysics/bullet3/blob/master/src/Bullet3OpenCL/RigidBody/kernels/solveContact.cl#L399
Parallel batch creation (graph coloring) is here:
https://github.com/bulletphysics/bullet3/blob/master/src/Bullet3OpenCL/RigidBody/kernels/batchingKernelsNew.cl#L144
The OpenCL pipeline runs on my NVIDIA 1080GTX GPU, with over 100k rigid bodies in 1 stack (stress test that can be parallelized using graph coloring but not using parallel islands, since there is only 1 island) when running the ExampleBrowser using the --enable_experimental_opencl (except the mouse picking crashes). I still intent to re-enable this OpenCL pipeline behind the pybullet, Bullet C-API, which is our main focus nowadays.

The old btParallelConstraintSolver.cpp in BulletMultiThreaded was here:
https://github.com/erwincoumans/bullet2stripped/blob/6b3828d74b06b55b58224cdee401ce9de8f131ef/src/BulletMultiThreaded/btParallelConstraintSolver.cpp

It was converted from the original old PhysicsEffects parallel solver (with graph coloring/batching) was here: https://github.com/erwincoumans/PhysicsEffects/blob/master/src/low_level/solver/pfx_constraint_solver_parallel.cpp

",make sure hold long chrome huge trace also reduce number press multiple time output unique one run running overwrite old trace moment need add also trace option start tracing program instead good also view profiler work mode main thread hence feature export chrome note two graph coloring parallel bullet one pipeline parallel solver fancy also parallel version graph coloring batch creation two see description code parallel solve parallel batch creation graph coloring pipeline rigid stack stress test graph coloring parallel since island running except mouse still intent pipeline behind bullet main focus nowadays old converted original old parallel solver graph,issue,positive,positive,positive,positive,positive,positive
276273499,"I did not know about that--that looks super-useful!

Incidentally, I've been working on a graph-coloring parallel solver. It runs but I'm not getting much of a speedup. This profiling tool looks like just what I need to figure out my problem.

Very nice!",know incidentally working parallel solver getting much tool like need figure problem nice,issue,negative,positive,positive,positive,positive,positive
276266162,"Great, thanks lurkhound! Did you know that you can press 'p' in the latest Bullet ExampleBrowser to start recording performance traces, and releasing 'p' to write those multithreaded performance tracing files to disk? Those can be imported directly into Chrome using about://tracing and load the .json file. Here are some screenshots, made by pressing (and releasing) 'p' during the raycast benchmark, serial and parallel:

![sequential_raycast](https://cloud.githubusercontent.com/assets/725468/22451378/e79f2a0c-e722-11e6-998f-a2a2dcf4efc0.png)
![parallel_raycast](https://cloud.githubusercontent.com/assets/725468/22451380/e986f700-e722-11e6-9d46-8cf582a97baf.png)
",great thanks know press latest bullet start recording performance write multithreaded performance tracing disk directly chrome load file made pressing serial parallel,issue,positive,positive,positive,positive,positive,positive
276224037,"I can't say much about Mac OSX since I don't have any OSX machines handy. Also I don't recall anyone trying to use it with OSX from the MT thread on the forums.

For OpenMP there are no external dependencies, so enabling it is just turning on a flag in Cmake. OpenMP works with Windows/Visual Studio and also Linux/GCC. When I tested it with Linux/Clang there was a problem with a missing ""omp.h"" system header, so it doesn't work with Clang at the moment.

Microsoft's Parallel Patterns Library (PPL) is also supported and has no dependencies, but it's Visual Studio only.

For Intel's TBB you'll need to install it separately, and then point Cmake to the include and lib directories.
Download a precompiled distribution of TBB from [https://www.threadingbuildingblocks.org/download](https://www.threadingbuildingblocks.org/download) (choose your OS), or you can grab it from [https://github.com/wjakob/tbb](https://github.com/wjakob/tbb) and build it from source. The latest version of TBB should work (just tested it on Windows), I've also tested it in the past with 4.3 and 4.4 versions with no issues. The version on Github is unofficial but adds a Cmake build system which could be nice for those who wish to build from source.

To configure Bullet for the multithreaded demo, use the Cmake build system to enable the flags

- BULLET2_USE_THREAD_LOCKS
- BUILD_BULLET2_DEMOS

and at least one of the following flags:

- BULLET2_MULTITHREADED_OPEN_MP_DEMO (Windows/Visual Studio and linux/GCC; not Clang)
- BULLET2_MULTITHREADED_PPL_DEMO (Windows/Visual Studio 2010 or later only)
- BULLET2_MULTITHREADED_TBB_DEMO (requires external dependency -- see below)

Once TBB is installed somewhere, go back to the Bullet Cmake configuration and set paths for:

- BULLET2_TBB_INCLUDE_DIR (point this to the top ""include"" directory in the TBB install)
- BULLET2_TBB_LIB_DIR (point this to the directory with the correct ""tbb.lib"" file for your OS and compiler)

",ca say much mac since handy also recall anyone trying use thread external turning flag work studio also tested problem missing system header work clang moment parallel library also visual studio need install separately point include distribution choose o grab build source latest version work tested also tested past version unofficial build system could nice wish build source configure bullet multithreaded use build system enable least one following studio clang studio later external dependency see somewhere go back bullet configuration set point top include directory install point directory correct file o compiler,issue,negative,positive,positive,positive,positive,positive
276146317,"By the way, I haven't tried any of the multithreaded work, since it is not enabled out-of-the-box.
Do you have a few lines to explain how to install the dependencies (if any, for example TBB+version, OpenMP etc) for Windows, Linux and Mac OSX, and how to enable it?",way tried multithreaded work since explain install example mac enable,issue,negative,neutral,neutral,neutral,neutral,neutral
276145896,"Thanks!

>> I had assumed that the CI would catch that sort of thing...

Indeed, it would be nice to have some 'retrigger' button for CI or have it done automatically.",thanks assumed would catch sort thing indeed would nice button done automatically,issue,positive,positive,positive,positive,positive,positive
275984979,"It seems that that error you got was not specific to the premake build -- same error happens with the Cmake build as well. At the time of the PR, there was no compile error and so continuous integration checks passed. Sometime later, a commit was made (Jan 8) that broke the PR but the continuous integration failed to re-check. I had assumed that the CI would catch that sort of thing...
Anyway it should be fixed now.",error got specific premake build error build well time compile error continuous integration sometime later commit made broke continuous integration assumed would catch sort thing anyway fixed,issue,negative,positive,neutral,neutral,positive,positive
275874754,"Great, thanks a lot for the repro, I'll check it out. The contact/friction stability problems in the other video can be fixed by tuning various settings, we are actively working on exactly those scenarios. Is that modified URDF available somewhere, and the frying pan model?",great thanks lot check stability video fixed tuning various actively working exactly available somewhere pan model,issue,positive,positive,positive,positive,positive,positive
275874378,"> which URDF/SDF are you using exactly

It is modified version of original fetch_description. Modifications: 
* no bellows_link
* moments of inertia r_gripper_finger_link and l_gripper_finger_link set to non-zero
* disable rotation other than around vertical axis for base
* added camera
* spheres collision shape for wheels
* boxes for fingers collision shape

You can see more of Bullet problems in this video: https://youtu.be/SWJKh-DFzdE",exactly version original inertia set disable rotation around vertical axis base added camera collision shape collision shape see bullet video,issue,negative,negative,neutral,neutral,negative,negative
275873843,"https://github.com/olegklimov/bullet3/tree/issue935

Please note that all spheres affected, other primitives and convex bodies are not.
",please note affected convex,issue,negative,positive,positive,positive,positive,positive
275870891,"Thanks for getting back to this. I'm still interesting in a small repro case (some triangle mesh and a sphere rolling over it). Then we should discard degenerate triangles.
That looks great, is that the Fetch robot? If so, which URDF/SDF are you using exactly?
",thanks getting back still interesting small case triangle mesh sphere rolling discard degenerate great fetch robot exactly,issue,positive,positive,positive,positive,positive,positive
275865042,"I mean, my problem is solved as I removed empty triangles from my simulation. Please feel free to close this. If you think it's worth doing changes, I'll be happy to test.",mean problem removed empty simulation please feel free close think worth happy test,issue,positive,positive,positive,positive,positive,positive
275864187,"Hello Erwin. Of course you're right that I should have put more effort on exploring the case myself. I have now, it turned out this changes have exposed my own bug -- I have empty triangles in my mesh.

Empty triangles was safely ignored *before*, but cause erratic behavior *after* this commit.

A kind of triangles that cause trouble: `p1 p2 p3` triangle with `p1==p2` and `p3` away, along the edge of a valid triangle.

I guess the most sensible thing to do is to print a warning (or assert, or ignore empty triangles again).

Here's a demo:

https://youtu.be/cf8c4aqnPdo

(small wheels at front and back are decorative, big wheels modeled as rotating spheres, base of the robot is restricted to be straight up)
",hello course right put effort exploring case turned exposed bug empty mesh empty safely cause erratic behavior commit kind cause trouble triangle away along edge valid triangle guess sensible thing print warning assert ignore empty small front back decorative big rotating base robot restricted straight,issue,negative,positive,neutral,neutral,positive,positive
275822928,"Sorry, I still got this problem, and I think this is due to that the patch is somehow not there for current master branch. And after actually fixing the codes according to the patch (as things changed, the patch can not be used directly), I could solve this problem. So one need to re-patch this thing. The new patch I used is as below:

```
diff --git a/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp b/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
index 5bb4a33..0d5ea3e 100644
--- a/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
+++ b/src/BulletInverseDynamics/details/IDLinearMathInterface.hpp
@@ -15,6 +15,7 @@ class vec3;
 class vecx;
 class mat33;
 typedef btMatrixX<idScalar> matxx;
+typedef btVectorX<idScalar> vecxx;

 class vec3 : public btVector3 {
 public:
@@ -47,11 +48,11 @@ inline mat33 operator/(const mat33& a, const idScalar& s) { return a * (1.0 / s)

 inline mat33 operator*(const idScalar& s, const mat33& a) { return a * s; }

-class vecx : public btVectorX<idScalar> {
+class vecx : public vecxx {
 public:
-	vecx(int size) : btVectorX(size) {}
-	const vecx& operator=(const btVectorX<idScalar>& rhs) {
-		*static_cast<btVectorX*>(this) = rhs;
+	vecx(int size) : vecxx(size) {}
+	const vecx& operator=(const vecxx& rhs) {
+		*static_cast<vecxx*>(this) = rhs;
 		return *this;
 	}

```",sorry still got problem think due patch somehow current master branch actually fixing according patch patch used directly could solve problem one need thing new patch used git index class class class mat class public public mat mat return mat operator mat return public public public size size size size return,issue,negative,negative,neutral,neutral,negative,negative
275712686,"<3 <3 <3

On Thu, Jan 26, 2017 at 9:14 PM, erwincoumans <notifications@github.com>
wrote:

> in addition to existing loadURDF/SDF/MJCF/Bullet file format. Possibly
> make it easy to convert shape data when running pybullet within Blender.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/936>, or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WVyhq6gGJvnIAnlZWjhg4BGAMSepks5rWX03gaJpZM4LvcOZ>
> .
>
",wrote addition file format possibly make easy convert shape data running within blender thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
275565685,"Thanks for the report, we should fix this. Do you have some small reproduction case (some dummy mesh and sphere etc)?",thanks report fix small reproduction case dummy mesh sphere,issue,negative,negative,neutral,neutral,negative,negative
275320449,"Thanks a lot for sharing the results. My preference would be to re-implement a prototype physics engine from scratch with support for automatic differentiation and fixed-point arithmetic. . I'll get back to this.

Bullet 3 is a prototype OpenCL rigid body pipeline with collision detection. It can be useful for various purposes. Bullet 2.x and Bullet 3.x are independent.

Anyhow, I wouldn't worry about Bullet 2.x and Bullet 3.x, and start from scratch, re-using whatever makes sense.",thanks lot preference would prototype physic engine scratch support automatic differentiation arithmetic get back bullet prototype rigid body pipeline collision detection useful various bullet bullet independent anyhow would worry bullet bullet start scratch whatever sense,issue,negative,positive,neutral,neutral,positive,positive
275278420,"small capsules should be fine now, using a sufficient small timestep and setRollingFriction/setSpinningFriction etc. Let's close the issue.",small fine sufficient small let close issue,issue,negative,negative,neutral,neutral,negative,negative
275194208,"As I mentioned in my previous posts, you need to set rollingFriction and spinningFriction, for example:

body->setRollingFriction(0.1);
body->setSpinningFriction(0.1);

//optionally:
body->setAnisotropicFriction(colShape->getAnisotropicRollingFrictionDirection(),btCollisionObject::CF_ANISOTROPIC_ROLLING_FRICTION);

You can tweak that 0.1 number, but too small and it will start rolling, too big and it is unnatural. Use it sparsely, and only for round objects. There is optionally the setAnisotropicFriction, which can help cylinders (they roll easily along the rounded surface, not along the flat surface).

What part of 'rollingFriction' and 'spinningFriction' is unclear?

See attached.
[BasicExample.zip](https://github.com/bulletphysics/bullet3/files/730635/BasicExample.zip)
",previous need set example tweak number small start rolling big unnatural use sparsely round optionally help roll easily along rounded surface along flat surface part unclear see attached,issue,positive,negative,neutral,neutral,negative,negative
275191444,"My changes: https://github.com/bulletphysics/bullet3/compare/master...cprogrammer1994:resting-capsule
Only the BasicDemo folder: [BasicDemo.zip](https://github.com/bulletphysics/bullet3/files/730602/BasicDemo.zip)

So this capsule accelerates. What is the best practice when I want to avoid these kind of things?
`DISABLE_DEACTIVATION` is important for us.",folder capsule best practice want avoid kind important u,issue,positive,positive,positive,positive,positive,positive
275176388,"No rush, I've been running the Bullet project for over 13 years now, and hope on another decenium at least :)",rush running bullet project hope another least,issue,negative,negative,negative,negative,negative,negative
275175135,"You need some rolling and spinning friction, due to small persistent contact manifold imprecision to prevent rolling.
I'll wait for some modified ExampleBrowser example (attach a full zipped cpp file that compiles out-of-the-box without no external dependencies, not a snippet). Thanks!",need rolling spinning friction due small persistent contact manifold imprecision prevent rolling wait example attach full file without external snippet thanks,issue,negative,positive,neutral,neutral,positive,positive
275173557,"hmm, my problem was with the acceleration. When I first noticed this issue it was with a randomly falling capsule that gain energy from nowhere. Friction values are not changed.

This is the initial scene we noticed the acceleration after we thought the capsule was resting:

![image](https://cloud.githubusercontent.com/assets/11232402/22301457/d6d712cc-e333-11e6-9633-80d1a07cd169.png)
",problem acceleration first issue randomly falling capsule gain energy nowhere friction initial scene acceleration thought capsule resting image,issue,negative,negative,neutral,neutral,negative,negative
275173495,"I'll take a look in a couple of days when I have some time.

On Tue, Jan 24, 2017 at 8:20 AM erwincoumans <notifications@github.com>
wrote:

> We need to add multiple build systems in the continuous integration, not
> just cmake:
> I'm getting this error, when I apply this patch locally (build using
>
> cd build3
> ./premake4_linux64 gmake
> cd gmake
> make
>
> ../../examples/MultiThreadedDemo/CommonRigidBodyMTBase.cpp: In member
> function ‘virtual void CommonRigidBodyMTBase::createEmptyDynamicsWorld()’:
> ../../examples/MultiThreadedDemo/CommonRigidBodyMTBase.cpp:751:42: error:
> ‘BT_MAX_THREAD_COUNT’ was not declared in this scope
> btConstraintSolver* solvers[ BT_MAX_THREAD_COUNT ];
> ^
> ../../examples/MultiThreadedDemo/CommonRigidBodyMTBase.cpp:755:17: error:
> ‘solvers’ was not declared in this scope
> solvers[ i ] = createSolverByType( m_solverType );
> ^
> ../../examples/MultiThreadedDemo/CommonRigidBodyMTBase.cpp:757:52: error:
> ‘solvers’ was not declared in this scope
> m_solver = new MyConstraintSolverPool( solvers, maxThreadCount );
> ^
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/pull/905#issuecomment-274852722>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AGs0YRlCuh3pB0z5i7Z1W1_98sWOC_eIks5rViTPgaJpZM4LZahz>
> .
>
",take look couple day time tue wrote need add multiple build continuous integration getting error apply patch locally build build make member function virtual void error declared scope error declared scope error declared scope new thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
275172139,"By the way, capsules will start rolling without rolling friction,  due to persistent contact manifolds: the cached contacts are not exactly located under the center-of-mass, so that capsules (and cylinders etc) slowly start rolling. See the RollingFrictionDemo (in the ExampleBrowser) how to add rolling and spinning friction to prevent this unwanted rolling effect. Did you add rolling and spinning friction?",way start rolling without rolling friction due persistent contact exactly slowly start rolling see add rolling spinning friction prevent unwanted rolling effect add rolling spinning friction,issue,negative,negative,negative,negative,negative,negative
275171893,I will make an example in the example browser then submit the snippet here. Thank you for your quick response.,make example example browser submit snippet thank quick response,issue,negative,positive,positive,positive,positive,positive
275171426,"Thanks, but I need a reproduction case as a modified C++ example (BasicDemo for example), and the info requested in my previous message. Thanks a lot!",thanks need reproduction case example example previous message thanks lot,issue,positive,positive,neutral,neutral,positive,positive
275171075,"- updated my fork in the morning
- We have a python interface to create shapes and simulate them
- The rest of the shapes seems to act fine
- x86 win 10 we compile using double precision",fork morning python interface create simulate rest act fine win compile double precision,issue,positive,positive,positive,positive,positive,positive
275170987,"@cprogrammer1994  I just made some changes yesterday, related to this. Are you using the very latest github version?a
Do you have a modified demo, such as the BasicDemo in the ExampleBrowser, to reproduce this?
Which operating system, compiler version, build system used (premake or cmake)?
",made yesterday related latest version reproduce operating system compiler version build system used premake,issue,negative,positive,positive,positive,positive,positive
275170293,"Dropping a capsule onto a static box seems to be unstable running a long simulation.

Details:
```
gravity: (0, 0, -10)
capsuleZ: radius = 5 height = 10 origin = (1, 0, 30) mass = 1
box: half_extents = (10, 10, 1) origin = (0, 0, -1) mass = 0 (static)
```

The capsule is resting for a long time.
After 3000 seconds the capsule is gone (accelerates to a random direction).

**This does not happen if the box origin xy is equal to the capsule origin xy**",dropping capsule onto static box unstable running long simulation gravity radius height origin mass box origin mass static capsule resting long time capsule gone random direction happen box origin equal capsule origin,issue,negative,positive,neutral,neutral,positive,positive
274852722,"We need to add multiple build systems in the continuous integration, not just cmake:
I'm getting this error, when I apply this patch locally (build using

cd build3
./premake4_linux64 gmake
cd gmake
make

../../examples/MultiThreadedDemo/CommonRigidBodyMTBase.cpp: In member function ‘virtual void CommonRigidBodyMTBase::createEmptyDynamicsWorld()’:
../../examples/MultiThreadedDemo/CommonRigidBodyMTBase.cpp:751:42: error: ‘BT_MAX_THREAD_COUNT’ was not declared in this scope
             btConstraintSolver* solvers[ BT_MAX_THREAD_COUNT ];
                                          ^
../../examples/MultiThreadedDemo/CommonRigidBodyMTBase.cpp:755:17: error: ‘solvers’ was not declared in this scope
                 solvers[ i ] = createSolverByType( m_solverType );
                 ^
../../examples/MultiThreadedDemo/CommonRigidBodyMTBase.cpp:757:52: error: ‘solvers’ was not declared in this scope
             m_solver = new MyConstraintSolverPool( solvers, maxThreadCount );
                                                    ^
",need add multiple build continuous integration getting error apply patch locally build build make member function virtual void error declared scope error declared scope error declared scope new,issue,negative,positive,neutral,neutral,positive,positive
274321349,"In actuality, it was a submodule issue. The above code was written to correct a problem that I was getting with this code...
```
    auto shape = new btConvexHullShape( verts.data(), verts.size() );
    shape->initializePolyhedralFeatures()
```
...which was giving me the error mentioned above. I read on a forum post that the polyhedral features were still experimental. So I removed it in favor of the code in the original issue post above. I wrote the issue because it had crept back into my coworkers codebase. Once we found out that it was a stale submodule problem, it went away. Thanks so much for getting back to me so fast.",actuality issue code written correct problem getting code auto shape new giving error read forum post polyhedral still experimental removed favor code original issue post wrote issue crept back found stale problem went away thanks much getting back fast,issue,negative,positive,neutral,neutral,positive,positive
274184952,True. I just found it strange that I get an error on incorrect jointIndex when I am querying the linkstate via the linkIndex.,true found strange get error incorrect querying via,issue,negative,positive,positive,positive,positive,positive
273926056,"The leaks in Example browser etc should be fixed, reopen new issue if there are new leaks found.",example browser fixed reopen new issue new found,issue,negative,positive,positive,positive,positive,positive
273925891,"The one who allocates stuff is responsible to delete it properly, so creating multiple copies etc. is considered a user error.",one stuff responsible delete properly multiple considered user error,issue,negative,positive,neutral,neutral,positive,positive
273923932,"I made a clean build. It happened in GUI mode. I found out that the newest pybullet needs the newest gcc compiler 6. Otherwise I was getting ""Importation fails due to undefined symbol: __cpu_model"" when trying to import pybullet in python (This seems to be a problem with gcc 5, which is all you get by default in ubuntu/linux mint). Now everything is working fine again. Thanks for the help and sorry for the disturbance.

I updated to the newest gcc using this (in case anyone finds this):
https://gist.github.com/application2000/73fd6f4bf1be6600a2cf9f56315a2d91",made clean build mode found need compiler otherwise getting importation due undefined symbol trying import python problem get default mint everything working fine thanks help sorry disturbance case anyone,issue,positive,positive,neutral,neutral,positive,positive
273836932,"Did you make a clean build? Does it happen in all modes (DIRECT, GUI, SHARED_MEMORY,UDP) or just one (which connect mode?) ? Things work just fine here. Try making a unit test that fails (Bullet has unit tests that run in CI under the test directory), and I'll fix it.",make clean build happen direct one connect mode work fine try making unit test bullet unit run test directory fix,issue,positive,positive,positive,positive,positive,positive
273836480,"If you can reproduce it in the example browser, please share a reproduction
case as issue (with points).

Thanks!
Erwin


On 19 January 2017 at 06:58, Ryan Bartley <notifications@github.com> wrote:

> Moving this to the forum. Sorry about that.
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/924#issuecomment-273797821>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAsR3IQGQC2a1a8KmlNopur0Ck5OGb_hks5rT3omgaJpZM4LoMha>
> .
>
",reproduce example browser please share reproduction case issue thanks wrote moving forum sorry thread reply directly view mute thread,issue,positive,negative,neutral,neutral,negative,negative
273712224,"Maybe it is a problem on my side, the quadruped.py segfaults me as well in the p.setJointMotorControl. I compiled the newest pybullet version with the build_and_run_cmake_pybullet_double.sh",maybe problem side well version,issue,negative,neutral,neutral,neutral,neutral,neutral
273281299,"These are the issues that I noticed.  Mostly minor stuff.

1. Needed to disable SSE, NEON, sqrt approximation, and OpenCL.
2. Some places had `std::*` math functions so I had to remove `std::`.  I think this is not intended and actually a bug? e.g., `const idScalar cos_gamma = std::cos(gamma);`
3. Needed to add quite a few explicit conversions, e.g., 
```C++
dof->m_angularStopCFM.m_floats[i]          = (float) m_angularLimits[i].m_stopCFM;
const double a = randomFloat(-(float) BT_ID_PI, (float) BT_ID_PI);
const idScalar alpha_DH = btScalar(5.0) * BT_ID_PI / m_num_bodies;
``` 
If the custom floating type supports implicit conversion then some are not necessary but I strongly prefer not to have implicit conversions to prevent unintended conversions.

4. A couple of places had `union` and anonymous `struct` . e.g., `b3QuadWord.h`
```C++
union
{
	b3Scalar	m_floats[4];
	struct {b3Scalar x,y,z,w;};
};
```
I didn't know this, but looks like anonymous structs can't have a member with a constructor.
`error: member ‘b3Scalar b3QuadWord::<anonymous struct>::x’ with constructor not allowed in anonymous aggregate
   struct {b3Scalar x,y,z,w;};`
and I think we shouldn't use `union` for custom floating point types due to constructor & destructor.


Overall, the issues are minor and local so it's very doable.  @erwincoumans any thoughts on how we can move this forward?

Few silly questions:
1. From what I've read, Bullet 3 API is not production ready yet?  Then is there ETA?  And can it be used without OpenCL?
2. Are Bullet2 and Bullet3 code paths independent as far as btScalar and b3Scalar are concerned?",mostly minor stuff disable neon approximation math remove think intended actually bug gamma add quite explicit float double float float custom floating type implicit conversion necessary strongly prefer implicit prevent unintended couple union anonymous union know like anonymous ca member constructor error member anonymous constructor anonymous aggregate think use union custom floating point due constructor destructor overall minor local doable move forward silly read bullet production ready yet eta used without bullet bullet code independent far concerned,issue,positive,positive,neutral,neutral,positive,positive
271195670,"@marcj  Likely some conflict with homebrew or other python? 
What happens if you remove all the -DPYTHON_* from the cmake step and instead run the
build_and_run_cmake_pybullet_double.sh script?

If that doesn't help: this seems a common Mac+Python+homebrew issue, please google it and figure out a fix and report it here (google for Fatal Python error: PyThreadState_Get: no current thread)",likely conflict python remove step instead run script help common issue please figure fix report fatal python error current thread,issue,negative,negative,neutral,neutral,negative,negative
271187848,"I get `Fatal Python error: PyThreadState_Get: no current thread` on my OSX 10.11.3 machine. Anyone an idea?

```bash
cmake .. -DINSTALL_EXTRA_LIBS=ON -DBUILD_UNIT_TESTS=OFF -DBUILD_SHARED_LIBS=ON \
    -DBUILD_BULLET2_DEMOS=ON \
    -DBUILD_PYBULLET=ON -DBUILD_PYBULLET_NUMPY=ON -DUSE_DOUBLE_PRECISION=ON -DCMAKE_BUILD_TYPE=Release \
    -DPYTHON_EXECUTABLE:FILEPATH=/usr/local/bin/python \
    -DPYTHON_INCLUDE_DIR:PATH=/usr/include/python2.7 \
    -DPYTHON_LIBRARY:FILEPATH=/usr/lib/libpython2.7.dylib
```

```bash
marc@osx ~/bude/bullet3/build3 (master*) $ cd ../build3/examples/pybullet
marc@osx ~/bude/bullet3/build3/examples/pybullet (master*) $ ln -s libpybullet.dylib pybullet.so
marc@osx ~/bude/bullet3/build3/examples/pybullet (master*) $ python
Python 2.7.12 (default, Jun 29 2016, 14:05:02)
[GCC 4.2.1 Compatible Apple LLVM 7.3.0 (clang-703.0.31)] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> import pybullet
Fatal Python error: PyThreadState_Get: no current thread
[1]    29574 abort      python
```",get fatal python error current thread machine anyone idea bash bash marc master marc master marc master python python default compatible apple type help copyright license information import fatal python error current thread abort python,issue,negative,neutral,neutral,neutral,neutral,neutral
271182249,"I noticed the GUIHelperInterface has a couple methods that create objects, but it lacks a corresponding remove function, for example createPhysicsDebugDrawer. If you create multiple CommonExampleInterfaces and delete them, you'll have some left over objects. While its doubt its likely that someone would do that, I can't think of any good reason to have create functions without remove functions. ",couple create corresponding remove function example create multiple delete left doubt likely someone would ca think good reason create without remove,issue,positive,positive,positive,positive,positive,positive
271131828,"I was able to replace btScalar & b3Scalar with my automatic differentiation library.  And the below is the output from the tutorial http://www.bulletphysics.org/mediawiki-1.5.8/index.php/Hello_World .  The second column is the sphere height differentiated by the gravity constant (-10).

It was mostly straightforward change but there were also many parts that I wasn't sure how to fix, so I just commented out those.  You can see my bullet3 fork for the source code, but I should first clean up a bit. Then I will ask some questions on the unresolved parts.

It was really exciting to see that actually working :).

```
sphere height: 50       0
sphere height: 49.9972  0.000277778
sphere height: 49.9917  0.000833333
sphere height: 49.9833  0.00166667
sphere height: 49.9722  0.00277778
sphere height: 49.9583  0.00416667
sphere height: 49.9417  0.00583333
sphere height: 49.9222  0.00777778
sphere height: 49.9     0.01
sphere height: 49.875   0.0125
sphere height: 49.8472  0.0152778
sphere height: 49.8167  0.0183333
sphere height: 49.7833  0.0216667
sphere height: 49.7472  0.0252778
sphere height: 49.7083  0.0291667
sphere height: 49.6667  0.0333333
sphere height: 49.6222  0.0377778
sphere height: 49.575   0.0425
sphere height: 49.525   0.0475
sphere height: 49.4722  0.0527778
sphere height: 49.4167  0.0583333
sphere height: 49.3583  0.0641667
sphere height: 49.2972  0.0702778
sphere height: 49.2333  0.0766667
sphere height: 49.1667  0.0833334
sphere height: 49.0972  0.0902778
sphere height: 49.025   0.0975
sphere height: 48.95    0.105
sphere height: 48.8722  0.112778
sphere height: 48.7917  0.120833
sphere height: 48.7083  0.129167
sphere height: 48.6222  0.137778
sphere height: 48.5333  0.146667
sphere height: 48.4417  0.155833
sphere height: 48.3472  0.165278
sphere height: 48.25    0.175
sphere height: 48.15    0.185
sphere height: 48.0472  0.195278
sphere height: 47.9417  0.205833
sphere height: 47.8333  0.216667
sphere height: 47.7222  0.227778
sphere height: 47.6083  0.239167
sphere height: 47.4917  0.250833
sphere height: 47.3722  0.262778
sphere height: 47.25    0.275
sphere height: 47.125   0.2875
sphere height: 46.9972  0.300278
sphere height: 46.8667  0.313333
sphere height: 46.7333  0.326667
sphere height: 46.5972  0.340278
sphere height: 46.4583  0.354167
sphere height: 46.3167  0.368333
sphere height: 46.1722  0.382778
sphere height: 46.025   0.3975
sphere height: 45.875   0.4125
sphere height: 45.7222  0.427778
sphere height: 45.5667  0.443333
sphere height: 45.4083  0.459167
sphere height: 45.2472  0.475278
sphere height: 45.0833  0.491667
sphere height: 44.9167  0.508333
sphere height: 44.7472  0.525278
sphere height: 44.575   0.5425
sphere height: 44.4     0.56
sphere height: 44.2222  0.577778
sphere height: 44.0417  0.595833
sphere height: 43.8583  0.614167
sphere height: 43.6722  0.632778
sphere height: 43.4833  0.651667
sphere height: 43.2917  0.670833
sphere height: 43.0972  0.690278
sphere height: 42.9     0.71
sphere height: 42.7     0.73
sphere height: 42.4972  0.750278
sphere height: 42.2917  0.770833
sphere height: 42.0833  0.791667
sphere height: 41.8722  0.812778
sphere height: 41.6583  0.834167
sphere height: 41.4417  0.855833
sphere height: 41.2222  0.877778
sphere height: 41       0.9
sphere height: 40.775   0.9225
sphere height: 40.5472  0.945278
sphere height: 40.3167  0.968333
sphere height: 40.0833  0.991667
sphere height: 39.8472  1.01528
sphere height: 39.6083  1.03917
sphere height: 39.3667  1.06333
sphere height: 39.1222  1.08778
sphere height: 38.875   1.1125
sphere height: 38.625   1.1375
sphere height: 38.3722  1.16278
sphere height: 38.1167  1.18833
sphere height: 37.8583  1.21417
sphere height: 37.5972  1.24028
sphere height: 37.3333  1.26667
sphere height: 37.0667  1.29333
sphere height: 36.7972  1.32028
sphere height: 36.525   1.3475
sphere height: 36.25    1.375
sphere height: 35.9722  1.40278
sphere height: 35.6917  1.43083
sphere height: 35.4083  1.45917
sphere height: 35.1222  1.48778
sphere height: 34.8333  1.51667
sphere height: 34.5417  1.54583
sphere height: 34.2472  1.57528
sphere height: 33.95    1.605
sphere height: 33.65    1.635
sphere height: 33.3472  1.66528
sphere height: 33.0417  1.69583
sphere height: 32.7333  1.72667
sphere height: 32.4222  1.75778
sphere height: 32.1083  1.78917
sphere height: 31.7917  1.82083
sphere height: 31.4722  1.85278
sphere height: 31.15    1.885
sphere height: 30.825   1.9175
sphere height: 30.4972  1.95028
sphere height: 30.1667  1.98333
sphere height: 29.8333  2.01667
sphere height: 29.4972  2.05028
sphere height: 29.1583  2.08417
sphere height: 28.8167  2.11833
sphere height: 28.4722  2.15278
sphere height: 28.125   2.1875
sphere height: 27.775   2.2225
sphere height: 27.4222  2.25778
sphere height: 27.0667  2.29333
sphere height: 26.7083  2.32917
sphere height: 26.3472  2.36528
sphere height: 25.9833  2.40167
sphere height: 25.6167  2.43833
sphere height: 25.2472  2.47528
sphere height: 24.875   2.5125
sphere height: 24.5     2.55
sphere height: 24.1222  2.58778
sphere height: 23.7417  2.62583
sphere height: 23.3583  2.66417
sphere height: 22.9722  2.70278
sphere height: 22.5833  2.74167
sphere height: 22.1917  2.78083
sphere height: 21.7972  2.82028
sphere height: 21.4     2.86
sphere height: 21       2.9
sphere height: 20.5972  2.94028
sphere height: 20.1917  2.98083
sphere height: 19.7833  3.02167
sphere height: 19.3722  3.06278
sphere height: 18.9583  3.10417
sphere height: 18.5417  3.14583
sphere height: 18.1222  3.18778
sphere height: 17.7     3.23
sphere height: 17.275   3.2725
sphere height: 16.8472  3.31528
sphere height: 16.4167  3.35833
sphere height: 15.9833  3.40167
sphere height: 15.5472  3.44528
sphere height: 15.1083  3.48917
sphere height: 14.6667  3.53333
sphere height: 14.2222  3.57778
sphere height: 13.775   3.6225
sphere height: 13.325   3.6675
sphere height: 12.8722  3.71278
sphere height: 12.4167  3.75833
sphere height: 11.9583  3.80416
sphere height: 11.4972  3.85028
sphere height: 11.0333  3.89666
sphere height: 10.5667  3.94333
sphere height: 10.0972  3.99028
sphere height: 9.625    4.0375
sphere height: 9.15001  4.085
sphere height: 8.67223  4.13278
sphere height: 8.19167  4.18083
sphere height: 7.70834  4.22916
sphere height: 7.22223  4.27778
sphere height: 6.73334  4.32666
sphere height: 6.24168  4.37583
sphere height: 5.74723  4.42528
sphere height: 5.25001  4.475
sphere height: 4.75001  4.525
sphere height: 4.24723  4.57528
sphere height: 3.74168  4.62583
sphere height: 3.23335  4.67666
sphere height: 2.72224  4.72778
sphere height: 2.20835  4.77916
sphere height: 1.69168  4.83083
sphere height: 1.17224  4.88278
sphere height: 0.720013 -nan
sphere height: 0.776011 -nan
sphere height: 0.820809 -nan
sphere height: 0.856647 -nan
sphere height: 0.885318 -nan
sphere height: 0.908254 -nan
sphere height: 0.926603 -nan
sphere height: 0.941283 -nan
sphere height: 0.953026 -nan
sphere height: 0.962421 -nan
sphere height: 0.962421 -nan
sphere height: 0.969937 -nan
sphere height: 0.975949 -nan
sphere height: 0.98076  -nan
sphere height: 0.984608 -nan
sphere height: 0.987686 -nan
sphere height: 0.990149 -nan
sphere height: 0.992119 -nan
sphere height: 0.993695 -nan
sphere height: 0.994956 -nan
sphere height: 0.995965 -nan
sphere height: 0.996772 -nan
sphere height: 0.997418 -nan
sphere height: 0.997934 -nan
sphere height: 0.998347 -nan
sphere height: 0.998678 -nan
sphere height: 0.998942 -nan
sphere height: 0.999154 -nan
sphere height: 0.999323 -nan
sphere height: 0.999458 -nan
sphere height: 0.999567 -nan
sphere height: 0.999653 -nan
sphere height: 0.999723 -nan
sphere height: 0.999778 -nan
sphere height: 0.999822 -nan
sphere height: 0.999858 -nan
sphere height: 0.999886 -nan
sphere height: 0.999909 -nan
sphere height: 0.999927 -nan
sphere height: 0.999942 -nan
sphere height: 0.999953 -nan
sphere height: 0.999963 -nan
sphere height: 0.99997  -nan
sphere height: 0.999976 -nan
sphere height: 0.999981 -nan
sphere height: 0.999985 -nan
sphere height: 0.999988 -nan
sphere height: 0.99999  -nan
sphere height: 0.999992 -nan
sphere height: 0.999994 -nan
sphere height: 0.999995 -nan
sphere height: 0.999996 -nan
sphere height: 0.999997 -nan
sphere height: 0.999997 -nan
sphere height: 0.999998 -nan
sphere height: 0.999998 -nan
sphere height: 0.999999 -nan
sphere height: 0.999999 -nan
sphere height: 0.999999 -nan
sphere height: 0.999999 -nan
sphere height: 0.999999 -nan
sphere height: 1        -nan
sphere height: 1        -nan
sphere height: 1        -nan
```",able replace automatic differentiation library output tutorial second column sphere height gravity constant mostly straightforward change also many sure fix see bullet fork source code first clean bit ask unresolved really exciting see actually working sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height sphere height,issue,positive,positive,positive,positive,positive,positive
271055259,"Yes, there are some interesting possibilities using a custom floating point type: using a fixed-point type for cross-platform determinism (identical results), using auto-diff types for automatic differentiation (machine learning) etc. I am considering if Bullet 2.x, 3.x (OpenCL) or future 4.x API is the best for this. If you manager to get something working, it may be a huge patch that is too tricky to review. Nevertheless, it would be interesting and possibly useful.",yes interesting custom floating point type type determinism identical automatic differentiation machine learning considering bullet future best manager get something working may huge patch tricky review nevertheless would interesting possibly useful,issue,positive,positive,positive,positive,positive,positive
271033624,"For the binding I used :https://github.com/openai/mujoco-py 
And combined existing xml file on MuJoCo Forum: http://www.mujoco.org/forum/index.php?resources/ 
I never tried on real robot. Just using simulation for now. It is beginning stage of my experiments. 
I can send you sample results and xml file if you send me e-mail address. 
I am not familiar with URDF files. ",binding used combined file forum never tried real robot simulation beginning stage send sample file send address familiar,issue,negative,positive,positive,positive,positive,positive
271031618,">> I am using MuJoCo with OpenAI gym.

What robot(s) are you simulating? Do you have some example scripts how you use OpenAI gym?
How did you create your MuJoCo XML file? Do you have URDF files of your robots?",gym robot example use gym create file,issue,negative,neutral,neutral,neutral,neutral,neutral
271023800,"That is really awesome. I am using MuJoCo with OpenAI gym. I was looking around physic engine that can use with binding to OpenAI gym. I found gazebo and ROS with OpenAI gym. However, in MuJoCo website bench mark http://www.mujoco.org/benchmark.html claims their platform outperform. I assumed that they used older version. When do you think it will be done? Is there are beta version to try yet? ",really awesome gym looking around physic engine use binding gym found gazebo gym however bench mark platform outperform assumed used older version think done beta version try yet,issue,positive,positive,positive,positive,positive,positive
271019211,"Thanks for your feedback, the scripts are very simple/basic, just to test new pybullet features. The quadruped.py script has a simple quadruped hopping, please try it.
We'll create some nicer scripts for the reinforcement learning with OpenAI Gym and perhaps DeepMind Lab.",thanks feedback test new script simple quadruped please try create reinforcement learning gym perhaps lab,issue,positive,positive,positive,positive,positive,positive
271016054,Sorry my bad. It terminates when the task is done. Thank you for your comments. ,sorry bad task done thank,issue,negative,negative,negative,negative,negative,negative
271015403,"On Windows, there are some batch files in the root folder of Bullet. Good point, we should update the documentation and remove the broken/out-of-date vs2010_bullet2gpu.bat, file.

Thanks for the report!
",batch root folder bullet good point update documentation remove file thanks report,issue,positive,positive,positive,positive,positive,positive
271004711,"Thank you for your comments. However, I encounter another error after pull and recompiled. 
Is this for my case only? 

b3Printf: rear_bumper_link
(0, b'chassis_joint', 4, -1, -1, 0, 0.0, 0.0)
(1, b'imu_joint', 4, -1, -1, 0, 0.0, 0.0)
(2, b'front_left_wheel', 0, 7, 6, 1, 0.0, 0.0)
(3, b'front_right_wheel', 0, 8, 7, 1, 0.0, 0.0)
(4, b'rear_left_wheel', 0, 9, 8, 1, 0.0, 0.0)
(5, b'rear_right_wheel', 0, 10, 9, 1, 0.0, 0.0)
(6, b'top_plate', 4, -1, -1, 0, 0.0, 0.0)
(7, b'user_rail', 4, -1, -1, 0, 0.0, 0.0)
(8, b'front_bumper', 4, -1, -1, 0, 0.0, 0.0)
(9, b'rear_bumper', 4, -1, -1, 0, 0.0, 0.0)
finished, #skip = 2823, skip1 = 0
numActiveThreads = 0
stopping threads
stopThreads: Thread 0 used: 1
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed
finished
numActiveThreads = 0
btShutDownExampleBrowser stopping threads
stopThreads: Thread 0 used: 1
Thread with taskId 0 exiting
Thread TERMINATED
destroy semaphore
semaphore destroyed
destroy main semaphore
main semaphore destroyed
",thank however encounter another error pull case finished skip skip stopping thread used thread thread destroy semaphore semaphore destroy main semaphore main semaphore finished stopping thread used thread thread destroy semaphore semaphore destroy main semaphore main semaphore,issue,negative,negative,neutral,neutral,negative,negative
270967549,"Ok, I can do this. I will let you know when I am done via mail.",let know done via mail,issue,negative,neutral,neutral,neutral,neutral,neutral
270966866,"There will likely be a bit more experimenting to see how to integrate pybullet with OpenAI Gym, and it seems better to create some separate repos for this. Could you create a separate repo similar to Matt Kelceys cartpoleplusplus first (instead of submitting it to Bullet main repo)?
Thanks!",likely bit see integrate gym better create separate could create separate similar first instead bullet main thanks,issue,positive,positive,positive,positive,positive,positive
270963671,"I did some research on different examples and found out that there is no special structure at the OpenAI gym. They all include a description on how to reproduce the results. Even the example by John Schulman includes a very detailed description followed by scripts with tons of flags.

https://gym.openai.com/evaluations/eval_C7PJ590SxakxJnHcgGKIQ

The gym environment does not prescribe a specific structure for the agent, except that it should interact with the environment to optimize its policy.

We can take the modular_rl approach John implements in his repository so that there can be many agents that can be applied to different environments via a single script. But this would mean having many parameters but only setting a few with the rest being defaults that work well. Additionally, because it is an example browser, we should add a flag to run a version with loaded weights. I will set something up and then we can discuss it.",research different found special structure gym include description reproduce even example detailed description gym environment prescribe specific structure agent except interact environment optimize policy take approach repository many applied different via single script would mean many setting rest work well additionally example browser add flag run version loaded set something discus,issue,positive,positive,positive,positive,positive,positive
270789163,">>How should we make it runnable out of the box? Different scripts to train and one to load a trained agent to show that it works?

How does the original OpenAI GYM cartpole example with MuJoCO deal with this? Ideally we follow that approach as close as possible.",make runnable box different train one load trained agent show work original gym example deal ideally follow approach close possible,issue,positive,positive,positive,positive,positive,positive
270788545,"Ah no! I did not mean to add the other script, I am sorry. See the separate pull-request for the other script.",ah mean add script sorry see separate script,issue,negative,negative,negative,negative,negative,negative
270784509,"The update robotcontrol.py script does more than that, it add some mujoco xml file and a python script that doesn't load the mjcf file, but loads two separate urdf files. I'll just fix it directly in github.",update script add file python script load file two separate fix directly,issue,negative,positive,neutral,neutral,positive,positive
270779759,"Each multibody has a base (or root link), that you need to access using getBasePositionAndOrientation. Then each link is connected to its parent through a joint, so the number of joints == number of links.
For example, if you create a cube without any joints (or links), it will have a base with 0 joints. Since the base is not a real link, in collision detection results, its 'link index' of the base is -1. Aside from the base, each link+joint has link indices >= 0.

Your cartpole has 1 link, connected to the base using a joint. For more info see https://github.com/bulletphysics/bullet3/blob/master/docs/pybullet_quickstartguide.pdf . We should add some pictures and examples to clarify this.",base root link need access link connected parent joint number number link example create cube without link base since base real link collision detection index base aside base link index link connected base joint see add clarify,issue,negative,negative,negative,negative,negative,negative
270619487,"Do you have the newest version from the repository? Depending on your OS, you can use either the bat or sh script to properly compile pybullet. ",version repository depending o use either bat sh script properly compile,issue,negative,neutral,neutral,neutral,neutral,neutral
270617329,"Oh right, I saw that there was such a load method. Let me see if it works with the file above. If not, I can report back in its separate future pull request.",oh right saw load method let see work file report back separate future pull request,issue,negative,positive,neutral,neutral,positive,positive
270517186,"Thanks!. Actually, you can use the loadMJCF to load MuJoCo xml files, so it is not so much about replacing the XML file, but implementing the bridge to OpenAI GYM to use pybullet to solve that particular CartPole environment. I will improve the MJCF importer so it works well with all GYM MJCF xml files.",thanks actually use load much file bridge gym use solve particular environment improve importer work well gym,issue,positive,positive,positive,positive,positive,positive
270486057,"Ok, the problem is solved. I was trying to connect to the ""Physics Server (Shared Mem)"" instead of the Physics Server as you describe it above. All works as expected.",problem trying connect physic server mem instead physic server describe work,issue,negative,neutral,neutral,neutral,neutral,neutral
270414899,"Oh I am sorry, I did not want to interrupt your vacation! I was about to do the bisect this evening. Oh, the latter is probably the issue. I will try it and then report back. Thanks for helping me out. On your other note, I will first create a vanilla CartPole example as close as possible to how it is described in the cartpole.xml for MuJoCo:
https://github.com/openai/mujoco-py/blob/master/tests/models/cartpole.xml",oh sorry want interrupt vacation bisect evening oh latter probably issue try report back thanks helping note first create vanilla example close possible,issue,positive,negative,neutral,neutral,negative,negative
270289605,"In the example browser, make sure to select Experiments/Physics Server.
NOT ""Physics Client (Shared Memory)""
<img width=""453"" alt=""example_browser"" src=""https://cloud.githubusercontent.com/assets/725468/21631284/4fecdba8-d1ee-11e6-8930-d9fb2b2abe12.png"">

",example browser make sure select server physic client memory,issue,negative,positive,positive,positive,positive,positive
270289400,"I briefly tested the latest github version on Linux and Mac, and it works just fine.
Running this script: build_and_run_cmake_pybullet_double.sh
then run examples/ExampleBrowser/App_ExampleBrowser, switch from BasicDemo to Experimental/Physics Server -> connection OK
Then cd examples/pybullet

```
python
import pybullet as p
p.connect(p.SHARED_MEMORY)
p.loadURDF(""r2d2.urdf"")

```
works all fine.
Can you do a fresh checkout and run above steps, after a reboot, not running any other apps on Linux?",briefly tested latest version mac work fine running script run switch server connection python import work fine fresh run running,issue,positive,positive,positive,positive,positive,positive
270160829,"It would be nice to first re-create the Gym cartpole example, identical to the MuJoCo one. (before going more complex)
Also, do you mind doing a bisect to see what commit breaks your shared memory on Linux? Thanks!",would nice first gym example identical one going complex also mind bisect see commit memory thanks,issue,positive,positive,positive,positive,positive,positive
269986085,In my case the restart did not help unfortunately. Happy new year and enjoy your vacations (You definitely deserve it as some people told me at NIPS)! I will continue to work on my pybullet examples. Meet you again later!,case restart help unfortunately happy new year enjoy definitely deserve people told continue work meet later,issue,positive,positive,positive,positive,positive,positive
269982287,"Did you try a reboot, it sometimes helps issues with shared memory.

I'll check it soon (on vacation now)",try sometimes memory check soon vacation,issue,negative,neutral,neutral,neutral,neutral,neutral
269897718,"On x86, GCC does not like unions. Try it with compilerexplorer

Good:

    vec4_t<T> m_data; //use m_data[k] to access components

Bad:

    union
        {
        vec4_t<T> vec;
        float components[4];
        } m_data;

If the first model is used, everything is kept in registers for inline calls. The second approach does not work.",like try good access bad union float first model used everything kept second approach work,issue,negative,positive,neutral,neutral,positive,positive
269623404,"I am working again on this in parallel with the porting of the cartpole++ example. I committed some changes which are not yet enough to fix the example. However, from what I have seen before I merged in the new commits from bullet is that rebuilding the world does not work and also rebuilding the walkers together with rebuilding the world does not work. I will look into it further because there are still some issues to be resolved.",working parallel example yet enough fix example however seen new bullet world work also together world work look still resolved,issue,negative,positive,neutral,neutral,positive,positive
269106885,"it's chistmass :)

maybe try back later

On Dec 24, 2016 2:51 PM, ""Kibeom Kim"" <notifications@github.com> wrote:

> @erwincoumans <https://github.com/erwincoumans> do you have any opinion
> on this??
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/897#issuecomment-269103243>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AG25WezDCA3JmjMkIPd63DOjF3Qt-osRks5rLaH3gaJpZM4LVTmV>
> .
>
",maybe try back later kim wrote opinion thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
268312477,I'll work up an example and get back to you.,work example get back,issue,negative,neutral,neutral,neutral,neutral,neutral
268273728,">>The location of the contact point varies on an order of approximately 1e-5.

If you provide a reproduction case in a simple Bullet demo, I'll look if we can improve it.

Once you start setting the margin to tiny values (such as 1e-9) you are fighting the implementation. 1e-9 margins for various objects will disable robustness and reduce performance in GJK/EPA: it relies on some positive margin to avoid degenerate GJK simplex and to avoid EPA in shallow penetration cases. In many cases it is possible to use a larger margin and embed the margin inside the object:
btSphereShape and btCapsuleShape uses margin as radius
btBoxShape: the margin is already 'inside' the box, so the box is the right size, but slightly rounded corners.
btConvexHullShape: you can use some utility to create a smaller convex hull so that the shrunk convex hull + margin is the same size as the original btConvexHullShape.
If you apply above rules, then only the concave triangle meshes have tiny margins. Since we usually don't perform queries between two triangle meshes, each query will have sufficient margins.
",location contact point order approximately provide reproduction case simple bullet look improve start setting margin tiny fighting implementation various disable robustness reduce performance positive margin avoid degenerate simplex avoid shallow penetration many possible use margin embed margin inside object margin radius margin already box box right size slightly rounded use utility create smaller convex hull shrunk convex hull margin size original apply concave triangle tiny since usually perform two triangle query sufficient,issue,positive,positive,neutral,neutral,positive,positive
268271371,"flipping contact normal should be fixed, spheres don't need 'setMargin' and if 1e-10 error residual is too much, please file a new issue with further explanation why/how.",contact normal fixed need error residual much please file new issue explanation,issue,negative,positive,positive,positive,positive,positive
268271078,"This should not happen in the latest trunk version of Bullet.
Did you try using the very latest github version, or are you using an older version? ( in particular this commit https://github.com/bulletphysics/bullet3/commit/e0c46f4b1a776842e61da9f8cc9cd61855225840)

Also, don't use //  convexConvex.setIgnoreMargin(true);

",happen latest trunk version bullet try latest version older version particular commit also use true,issue,positive,positive,positive,positive,positive,positive
268201474,"Yes, sorry about that. It does work with `BT_THREADSAFE` not set. I must have not unset this properly.",yes sorry work set must unset properly,issue,negative,negative,negative,negative,negative,negative
268162929,"See PR #894 
I modified the MultiThreadedDemo example to reproduce this bug. After verifying the bug was reproduced, I applied the suggested fix and verified the bug no longer occuring.
Also I double checked that the no-BT_THREADSAFE case did not reproduce the bug.",see example reproduce bug bug applied fix bug longer also double checked case reproduce bug,issue,negative,neutral,neutral,neutral,neutral,neutral
268129680,"Yes, please create a PR for that. And in my test, the no-BT_THREADSAFE is working just fine (see my previous reply above here), so no need to worry about that.",yes please create test working fine see previous reply need worry,issue,positive,positive,positive,positive,positive,positive
268123912,"In the no-BT_THREADSAFE case, the code for that function should be exactly what it was before I changed it. So I'd be very surprised if that case is broken.

In the threadsafe case, I agree that it makes sense to check for kinematic before static. I didn't realise that kinematic objects could have the static flag set.

Shall I create a PR for that?",case code function exactly case broken case agree sense check kinematic static kinematic could static flag set shall create,issue,negative,positive,positive,positive,positive,positive
268114236,"The current Bullet version doesn't seem broken by default (no BT_THREADSAFE defined).
See attached modified BasicDemo with a kinematic animated floor (linear velocity), use premake to create your build files.
[BasicExample.zip](https://github.com/bulletphysics/bullet3/files/662452/BasicExample.zip)
",current bullet version seem broken default defined see attached kinematic animated floor linear velocity use premake create build,issue,negative,negative,negative,negative,negative,negative
268046372,"I think the rayTest is a good parallel with what we're looking at.  The `btCollisionWorld` has been configured and then we make a query on the state of the world based on arbitrary criteria (the ray).  Imagine doing the same thing, but with points.

Right now, our code doesn't exploit the BVH that is internal to bullet.  So, when we collide `m` points against the world with `n` collision objects, we are doing `mn` collision computations.  That is fundamentally inexcusable. A `btCollisionWorld` interface would resolve a great deal: it could exploit the broadphase filter algorithm, and seamlessly exploit special case code.",think good parallel looking make query state world based arbitrary criterion ray imagine thing right code exploit internal bullet collide world collision collision fundamentally inexcusable interface would resolve great deal could exploit filter algorithm seamlessly exploit special case code,issue,positive,positive,positive,positive,positive,positive
268035735,"Yes, there are already a couple of special cases implemented (sphere-sphere, sphere-box, sphere-triangle etc), but once you go that route, it is best to use the btCollisionWorld API. Then you benefit from broadphase acceleration structures, midphase BVH culling etc. 

In btCollisionWorld there are some queries such as rayTest, convexSweepTest, contactTest, contactPairTest, and the contactTest could be optimized to select the best algorithm, while also taking care of the contact culling. If you insist on doing the culling yourself, a contactPairTest could be further optimized to select the most optimal algorithm.

It makes sense to have a deeper discussion how you use the distance to point query, and how such query fits best with Bullet to get best results.
",yes already couple special go route best use benefit acceleration culling could select best algorithm also taking care contact culling insist culling could select optimal algorithm sense discussion use distance point query query best bullet get best,issue,positive,positive,positive,positive,positive,positive
268027820,"So, this largely seems to address the issue of numerical stability.  The normal isn't flipping (although I'd be loathe to describe this test as exhaustive, but indications look good.) I'd definitely say the original three points have been resolved.

My further comment is about precision.  I agree, GJK/EPA should be able to work regardless of the primitives. However, there is a price in that generality -- in both computation cost and precision.  So, I concur with you, that it makes sense to have a number of special-case solvers for pairs for which a solution can be found directly (e.g., point and primitives) and then fall back to GJK/EPA for when no special case exists.",largely address issue numerical stability normal although loathe describe test exhaustive look good definitely say original three resolved comment precision agree able work regardless however price generality computation cost precision concur sense number solution found directly point fall back special case,issue,positive,positive,positive,positive,positive,positive
268025525,"When BT_THREADSAFE is not set, the old logic seems to check for kinematic object first, right?

https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.cpp#L778

How is that code path still broken?",set old logic check kinematic object first right code path still broken,issue,negative,positive,neutral,neutral,positive,positive
268022316,"If you set a rigid body's mass to zero then `CF_STATIC_OBJECT` is set. To be honest, I don't know whether it is necessary or not. I don't think that it is documented anywhere whether or not `CF_STATIC_OBJECT` should be set when `CF_KINEMATIC_OBJECT ` is set. I have seen users set both of these flags when creating a kinematic bodies.",set rigid body mass zero set honest know whether necessary think anywhere whether set set seen set kinematic,issue,negative,positive,positive,positive,positive,positive
268020667,"Why do you need to set the CF_STATIC_OBJECT for kinematic objects? Isn't using CF_KINEMATIC_OBJECT sufficient?

Aside from that, it looks OK to check for kinematic first.",need set kinematic sufficient aside check kinematic first,issue,negative,positive,positive,positive,positive,positive
268017309,"Kinematic bodies are allowed to have `CF_STATIC_OBJECT` set right?
If so, the kinematic conditional will never be reached. To clarify, getOrInitSolverBody contains the following structure:

```
if (!body.isStaticOrKinematicObject()) {
    // dynamic body.
}
else if (body.isStaticObject())
{
    // static body.
}
else
{
    // kinematic body.
}
```

Suggest reordering so that we check for kinematic body before static body (or similar):

```
if (!body.isStaticOrKinematicObject()) {
    // dynamic body.
}
else if (body.isKinematicObject())
{
    // kinematic body.
}
else
{
    // static body.
}
```",kinematic set right kinematic conditional never clarify following structure dynamic else static else kinematic suggest check kinematic body static body similar dynamic else kinematic else static,issue,positive,positive,positive,positive,positive,positive
268015684,"Now back to the original 3 points, those are all resolved, right (except point 2, we have to settle for 1e10/1e11 precision). Note that you don't compensate for the margin (which makes the convex shape bigger in some cases), so using 1e-10 for margin will make the 'error' smaller. There are some other tolerances in our GJK/EPA implementation (around 1e-10), so we can expect errors in that range.

>> 1) For the box and convex hull, as the point gets closer and closer to the surface (in a monotonically decreasing manner), the reported normal direction flips directions arbitrarily.

Solved with the pull request.

>>2) It should be possible to compute the closest with high precision in these simple scenarios. However, for the convex hull, we are getting an error in distance on the order of 1e-10-1e-12, and for the box, 1e-9-1e-10. 

1e9/1e11 error is expected, not a bug. If the shapes involved are very different in scale (say performing a closest point query between a cube of 1000km versus a point or very small shape), the absolute error will be larger too, since the GJK/EPA simplices are a combination of support points of both convex shapes, and you'll get catastrophic cancellation in the floating point operations.

>> 3) When querying against the sphere shape, the point on the sphere given as closest is always the sphere center, regardless of the radius.

Don't set the margin for sphere, just use the radius. Should solve it.
",back original resolved right except point settle precision note compensate margin convex shape bigger margin make smaller implementation around expect range box convex hull point closer closer surface monotonically decreasing manner normal direction arbitrarily pull request possible compute high precision simple however convex hull getting error distance order box error bug involved different scale say point query cube versus point small shape absolute error since combination support convex get catastrophic cancellation floating point querying sphere shape point sphere given always sphere center regardless radius set margin sphere use radius solve,issue,negative,positive,neutral,neutral,positive,positive
268015619,"There is no special case for point versus general convex shape. I don't think using the current infrastructure is wasteful, since the choice was made to use a general purpose algorithm (GJK/EPA) to handle arbitrary convex shapes. Of course if you limit yourself to a few simple cases (sphere, capsule, cylinder, convex polyhedron) then you can optimize much better, and we probably should add some special code to perform point queries for those few special cases.

The GJK/EPA general algorithm can deal with much larger set of arbitrary convex shapes, including margins, Minkowski sums etc. Aside from closest point and penetration depth it also deals with continuous collision detection  / ray cast, convex shape cast under constant linear and angular velocity.",special case point versus general convex shape think current infrastructure wasteful since choice made use general purpose algorithm handle arbitrary convex course limit simple sphere capsule cylinder convex polyhedron optimize much better probably add special code perform point special general algorithm deal much set arbitrary convex aside point penetration depth also continuous collision detection ray cast convex shape cast constant linear angular velocity,issue,positive,positive,positive,positive,positive,positive
268014449,"FTR I took the example code I had attached and made *one* change: the initialization of the unit quaternion and *suddenly* the normal oscillation disappeared completely.  And that's even leaving the *bad* call to `setIgnoreMargins`.  So, as ""minor things"" go, this proved to be quite significant.  :)",took example code attached made one change unit quaternion suddenly normal oscillation completely even leaving bad call minor go proved quite significant,issue,negative,negative,neutral,neutral,negative,negative
268014041,"Apparently this pull request broke friction on kinematic animated objects, see https://github.com/bulletphysics/bullet3/issues/893
We should add a unit test for this (and many more) case, so it doesn't regress next time.",apparently pull request broke friction kinematic animated see add unit test many case regress next time,issue,negative,positive,positive,positive,positive,positive
268013796,"and we should add some unit test, so it doesn't regress next time.",add unit test regress next time,issue,negative,neutral,neutral,neutral,neutral,neutral
268013609,Do you have a minimal patch for btSequentialImpulseConstraintSolver::getOrInitSolverBody that reverts the behavior (even if it breaks the multithreaded solver)?,minimal patch behavior even multithreaded solver,issue,negative,negative,neutral,neutral,negative,negative
268002509,"It's difficult for me to accurately assess if we're using ""default"" margins.  We have different behavior based on the the type of shape.

- Sphere and Cylinder: no margins are addressed in anyways.  Only the radius is set.
- We have a ""capsule"" shape which is a `btConvexHull` shape with two points and a margin equal to the desired radius.
- Boxes and dynamic meshes are converted into `btConvexHull` and a margin of at least 1e-9 is applied (possibly larger in some use cases.)
- Static meshes use `btBvhTriangleMeshShape` and likewise have a minimum margin of 1e-9.
- Point clouds - we abuse the `btConvexHull` to quasi-support point clouds by pushing the points into the `btConvexHull` and providing it the same minimal margin of 1e-9.

The query we're doing (where the answer depends on ordering) is using the geometry described above with the minimum margin value of 1e-9.",difficult accurately ass default different behavior based type shape sphere cylinder anyways radius set capsule shape shape two margin equal desired radius dynamic converted margin least applied possibly use static use likewise minimum margin point abuse point pushing providing minimal margin query answer geometry minimum margin value,issue,negative,positive,neutral,neutral,positive,positive
267992225,"Thanks for the timely feedback.  You are always right on top of things.  :)  I'll make sure our code reflects your suggestions.

So, my general feeling is that doing a distance-to-point query based on convex objects is wasteful.  This is definitely an abuse of the infrastructure -- particularly for the primitive types.  This *specific* problem can be solved more simply and with higher accuracy.  I believe the code we have that does this was created for reasons of convenience and precision was a lesser concern.

Is there any pre-existing mechanism to support distance to point queries?",thanks timely feedback always right top make sure code general feeling query based convex wasteful definitely abuse infrastructure particularly primitive specific problem simply higher accuracy believe code convenience precision lesser concern mechanism support distance point,issue,positive,positive,positive,positive,positive,positive
267871010,"So in a nutshell:
don't call setMargin on btSphereShape, is uses the radius as full margin
never call setIgnoreMargin
the contact normal swap was some issue related to small margins/setIgnoreMargin, this pull request should deal with it: #892
the accuracy of GJK/EPA is indeed around 1e-9/1e-11 in double-precision mode",nutshell call radius full margin never call contact normal swap issue related small pull request deal accuracy indeed around mode,issue,negative,positive,neutral,neutral,positive,positive
267835400,"Are you using default collision margins? If not, this can introduce all kinds of issues. 
I'm happy to work with you to improve the quality of collision queries in Bullet. For a start, we could create more tests to Bullet for various collision queries.",default collision introduce happy work improve quality collision bullet start could create bullet various collision,issue,negative,positive,positive,positive,positive,positive
267834366,"Thanks for the report.

>> There is a very real possibility that what we are doing is the wrong way around 

Forcing very small margins is currently the 'wrong way around' indeed.

>>in distance on the order of 1e-10-1e-12, and for the box, 1e-9-1e-10. This last is particularly surprising.

There are some hard-coded constants in the GJK/EPA implementation that requires non-zero margins.

Using non-default margins and margin-related settings are likely introducing various issues. The btSphereShape implementation relies on using the entire radius as margin. So this call is not OK for the btSphereShape:  sphere->setMargin(1e-9); 

In addition, this is also causing issues: convexConvex.setIgnoreMargin(true); 
please never call this API.

>>the reported normal direction flips directions arbitrarily.

If this still happens using 'reasonably large' margins, that is considered a bug. It would be good to create some unit tests and collision comparisons for the GJK and EPA to improve its accuracy and reduce/avoid relying on such magic constants.

>>btQuaternion(1, 0, 0, 0)

Minor thing: the btQuaternion is initialized as [x,y,z,w], so a unit quaterion is [0,0,0,1]",thanks report real possibility wrong way around forcing small currently way around indeed distance order box last particularly surprising implementation likely various implementation entire radius margin call addition also causing true please never call normal direction arbitrarily still large considered bug would good create unit collision improve accuracy magic minor thing unit,issue,positive,positive,positive,positive,positive,positive
267722403,"It seems the possible problem with problem three can be found in [btConvexShape.cpp](https://github.com/bulletphysics/bullet3/blob/master/src/BulletCollision/CollisionShapes/btConvexShape.cpp#L135).  Apparently, the support vertex for a sphere is the origin.  One suspects that it should actually be the `localDirOrg * radius`.",possible problem problem three found apparently support vertex sphere origin one actually radius,issue,negative,positive,neutral,neutral,positive,positive
267689910,"I seem to have fixed it. In the lib folder there was indeed no BussIK.lib, but there was a BussIK_MinsizeRel.lib, so I changed the dependency in Test_PhysicsClientServer from BussIK.lib to BussIK_MinsizeRel.lib. Still couldn't find it, but changing it to ..\..\lib\MinSizeRel\BussIK_MinsizeRel.lib fixed it.",seem fixed folder indeed dependency still could find fixed,issue,negative,positive,neutral,neutral,positive,positive
267631208,"Then use the default cmake settings :)
2.5 check BUILD_CPU_DEMOS undoes 2.4 uncheck BUILD_CPU_DEMOS?",use default check uncheck,issue,negative,neutral,neutral,neutral,neutral,neutral
267629844,"I'm getting (I think?) the same issue, I'm on windows 10, step by step:

1. git clone https://github.com/bulletphysics/bullet3.git
2. open cmake-gui
	2.1 set src to bullet3 dir
	2.2 set build to bullet3/msvc/2015
	2.3 configure
	2.4 generator: VS 14 2015 win64 (default native compilers)
	2.5 uncheck BUILD_BULLET2_DEMOS and BUILD_CPU_DEMOS
	2.6 check ~~BUILD_CPU_DEMOS~~ USE_MSVC_RUNTIME_LIBRARY_DLL
	2.7 configure
	2.8 generate
3. open BULLET_PHYSICS.sln
4. set configuration to MinSizeRel(doesn't seem to matter, same for release and debug)
5. build->build solution

last few lines of VS output:

>26>  Generating Code...
>26>LINK : fatal error LNK1181: cannot open input file 'BussIK.lib'
>28>------ Build started: Project: ALL_BUILD, Configuration: MinSizeRel x64 ------
>28>  Building Custom Rule C:/Programming/c#/bullet3/CMakeLists.txt
>28>  CMake does not need to re-run because >C:\Programming\c#\bullet3\msvc\2015\CMakeFiles\generate.stamp is up-to-date.
>29>------ Skipped Build: Project: INSTALL, Configuration: MinSizeRel x64 ------
>29>Project not selected to build for this solution configuration 
>========== Build: 26 succeeded, 1 failed, 0 up-to-date, 2 skipped ==========

It works with default cmake settings",getting think issue step step git clone open set bullet set build configure generator win default native uncheck check configure generate open set configuration seem matter release build solution last output generating code link fatal error open input file build project configuration building custom rule need build project install configuration project selected build solution configuration build work default,issue,negative,positive,positive,positive,positive,positive
266515055,"Two answer your questions:

> what are the two collision shape types involved

A cylinder and a convex hull shape

> which algorithm is used to compute the closest (contact) points (GJK, EPA, SAT etc)

This particular query is for colliding objects, so I assume EPA. (ultimately invoked by a call to `btCollisionWorld::performDiscreteCollisionDetection`).

> Is there any contact caching (persistent contact manifold) enabled (which it is by default)?
  
Technically, yes, but the result I'm looking at is the very first invocation of the collision detection, so persistence shouldn't be an issue. 

> Are the closest points (penetration depth) location unique (sphere vs sphere) or not (two polyhedra with parallel touching faces)? 

This is *possible* but highly unlikely.  I haven't delved specifically into the exact scenario but the odds that the contact is on the cap of the cylinder that is perfectly aligned with the colliding face is so small, I assume not.

> It helps to use the double precision version of Bullet if you care about collision quality, are you using double or single precision?

Yes, double.

I can look into creating a reproduction if we feel that's the best way forward.",two answer two collision shape involved cylinder convex hull shape algorithm used compute contact sat particular query assume ultimately call contact persistent contact manifold default technically yes result looking first invocation collision detection persistence issue penetration depth location unique sphere sphere two parallel touching possible highly unlikely specifically exact scenario odds contact cap cylinder perfectly face small assume use double precision version bullet care collision quality double single precision yes double look reproduction feel best way forward,issue,positive,positive,positive,positive,positive,positive
266472368,"Yes, the order of operations is one of several parts that can influence the outcome of the collision detection computation.  This is a complex topic and it helps to first determine:

1) what are the two collision shape types involved
2) which algorithm is used to compute the closest (contact) points (GJK, EPA, SAT etc)
3) Is there any contact caching (persistent contact manifold) enabled (which it is by default)? 
4) Are the closest points (penetration depth) location unique (sphere vs sphere) or not (two polyhedra with parallel touching faces)?

It helps to use the double precision version of Bullet if you care about collision quality, are you using double or single precision?

Once we have all the details of above, we likely can sort out the order-dependent results.

Ideally we just create a simple reproduction case in the Bullet Example Browser and go from there, it is pretty trivial to create it.",yes order one several influence outcome collision detection computation complex topic first determine two collision shape involved algorithm used compute contact sat contact persistent contact manifold default penetration depth location unique sphere sphere two parallel touching use double precision version bullet care collision quality double single precision likely sort ideally create simple reproduction case bullet example browser go pretty trivial create,issue,positive,positive,positive,positive,positive,positive
266459552,Issue is resolved based on discussion; clarification was sufficient.,issue resolved based discussion clarification sufficient,issue,negative,neutral,neutral,neutral,neutral,neutral
266293973,"thanks for the report, that looks like a bug indeed, will look into fixing it asap.",thanks report like bug indeed look fixing,issue,positive,positive,positive,positive,positive,positive
265802182,"Thanks for the contribution/pull request, I'll process it later today.",thanks request process later today,issue,negative,positive,neutral,neutral,positive,positive
265335401,"You are right, scpeters.  
The person who reported this bug (me), didn't read that comment.  I can now rest in peace, thank.",right person bug read comment rest peace thank,issue,positive,positive,positive,positive,positive,positive
264215956,"feel free to add further info to this thread, closing it for now (re-open if you have a reproduction case on other machines)",feel free add thread reproduction case,issue,positive,positive,positive,positive,positive,positive
264215226,"I will, next time it crashes, now it is working again...

On Thu, Dec 1, 2016, 17:05 erwincoumans <notifications@github.com> wrote:

> Can you provide a few FULL stack traces of the crash using gdb?
>
> Try running the Bullet ExampleBrowser using the --opengl2 option and see
> if you still get crashes.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/879#issuecomment-264213532>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ACcfzq7YswQG76tXVtnB_Cjx1dA7oZNEks5rDu_mgaJpZM4LBamE>
> .
>
",next time working wrote provide full stack crash try running bullet option see still get thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
264213532,"Can you provide a few FULL stack traces of the crash using gdb?

Try running the Bullet ExampleBrowser using the --opengl2 option and see if you still get crashes.",provide full stack crash try running bullet option see still get,issue,negative,positive,positive,positive,positive,positive
264210866,"Ok. Thank you. I wanted to hear if this was something others have, or
something specific on my pc

On Thu, Dec 1, 2016, 16:36 erwincoumans <notifications@github.com> wrote:

> Those are most likely graphics driver issues. Do you have another machine
> with different gpu/drivers? Also, make sure to do a clean build, no custom
> settings.
>
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/879#issuecomment-264205393>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/ACcfzid20OCv_n4Ww1EuwINTyY5aN2_Yks5rDul2gaJpZM4LBamE>
> .
>
",thank hear something something specific wrote likely graphic driver another machine different also make sure clean build custom thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
264205393,"Those are most likely graphics driver issues. Do you have another machine with different gpu/drivers? Also, make sure to do a clean build, no custom settings.",likely graphic driver another machine different also make sure clean build custom,issue,positive,positive,positive,positive,positive,positive
263784665,">>Can this only be done by recreating the dynamics world?

Yes, you have to re-create everything at the moment. I'm working on fixing this in pybullet / shared memory API / future versions of Bullet.",done dynamic world yes everything moment working fixing memory future bullet,issue,positive,neutral,neutral,neutral,neutral,neutral
263560915,"What about adding:

    SET_TARGET_PROPERTIES(pybullet PROPERTIES PREFIX """")

This seems to be a common solutions for python modules ( I have used it earlier)
",prefix common python used,issue,negative,negative,negative,negative,negative,negative
263553115,"so don't add the 'lib' or other prefix, the name needs to ge exactly: pybullet.so",add prefix name need ge exactly,issue,negative,positive,positive,positive,positive,positive
263552747,"On linux and mac, the name needs to be pybullet.so
on windows pybullet.pyd.

then, make sure python can find it: in current working directory, or export PYTHONPATH =path/of/pybullet (not filename, but directory)

let us know if that helps. 

we should fix the cmake build script to do all this automatically.",mac name need make sure python find current working directory export directory let u know fix build script automatically,issue,negative,positive,positive,positive,positive,positive
263552727,"OK I found out that the link is necesary to be able to run it... 
",found link able run,issue,negative,positive,positive,positive,positive,positive
263545470,"the 'ln -s' command should really not be necessary, cmake can create a pybullet.so file by itself. I remember doing it in another c++ program.
But my dunamic module import error seems to be something else...",command really necessary create file remember another program module import error something else,issue,negative,neutral,neutral,neutral,neutral,neutral
263544792,"I started a description on how to install the pybullet stuff, maybe you can
find here what you are missing:
http://bulletphysics.org/mediawiki-1.5.8/index.php/Using_pybullet

On Tue, Nov 29, 2016 at 12:07 PM ORD <notifications@github.com> wrote:

> I am trying to test the pybullet stuff, I enabled it in cmake file. and it
> created the files libpybullet.so and libpybullet.so.2.85 but I cannot
> import them directly. What are we supposed to do? I cannot figure out and I
> am not exactly a begynner with python modules....
>
> python3
> Python 3.5.2+ (default, Sep 22 2016, 12:18:14)
> [GCC 6.2.0 20160927] on linux
> Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>
> import libpybullet
>
>
> Traceback (most recent call last):
>
> File """", line 1, in
> ImportError: dynamic module does not define module export function
> (PyInit_libpybullet)
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/bulletphysics/bullet3/issues/830#issuecomment-263542284>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AC97qz8kOcf-3LfCYXjBiloXCJRUE2Jtks5rDAeBgaJpZM4KT4cg>
> .
>
",description install stuff maybe find missing tue wrote trying test stuff file import directly supposed figure exactly python python python default type help copyright license information import recent call last file line dynamic module define module export function thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
263542284,"I am trying to test the pybullet stuff, I enabled it in cmake file. and it created the files libpybullet.so and libpybullet.so.2.85 but I cannot import them directly. What are we supposed to do? I cannot figure out and I am not exactly a begynner with python modules....

python3
Python 3.5.2+ (default, Sep 22 2016, 12:18:14) 
[GCC 6.2.0 20160927] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> import libpybullet
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
ImportError: dynamic module does not define module export function (PyInit_libpybullet)",trying test stuff file import directly supposed figure exactly python python python default type help copyright license information import recent call last file line module dynamic module define module export function,issue,positive,positive,neutral,neutral,positive,positive
262840688,"By the way, the clamp to integer sliders have a much improved UI feel versus what they were doing before. They felt kind of ""laggy"" before. But this fixes it.",way clamp integer much feel versus felt kind,issue,positive,positive,positive,positive,positive,positive
262607502,"Our problem is purely one of logistics. 

We define our world by reading input files (urdf/sdf).  As we read specifications for collision geometry we push it into the collision world (very much an on-the-fly kind of thing).  After we're done reading the file, we do some post processing to evaluate what we've read in and classify which objects should actually be filtered out.  By the end of this post-processing, the object filter now has enough smarts to recognize when a pair should be filtered out.  But the damage has already been done. 

So, in our case, it's not that we're particularly changing the collision objects.  The problem is that the code was written without an understanding of Bullet's internal workings.  The thinking was that as long as the filter was in place *before* collision queries were performed it was good.  This was a mistake.

So, what we have to do is accumulate all of the collision geometry, analyze it, and then, finally, add it to the collision world now that the overlap filter has sufficient data to provide the desired effect.

Make sense?",problem purely one logistics define world reading input read collision geometry push collision world much kind thing done reading file post evaluate read actually end object filter enough recognize pair damage already done case particularly collision problem code written without understanding bullet internal thinking long filter place collision good mistake accumulate collision geometry analyze finally add collision world overlap filter sufficient data provide desired effect make sense,issue,negative,positive,positive,positive,positive,positive
262606156,"Option 3 doesn't make much sense to me, since I expected the overlap filter callback to have all the data it needs when it is called, otherwise how can it report a meaningful result? 

In other words, help me understand the why and how of Option 3.

Additionally, what kind of changes to you plan to make, while the object is inside the world?
",option make much sense since overlap filter data need otherwise report meaningful result help understand option additionally kind plan make object inside world,issue,positive,positive,positive,positive,positive,positive
262605151,"The third option would be making sure the registered overlap filter callback has all the data it needs *before* adding collision objects to the world.

Of those three options, which would you recommend?  Particularly in the light of the fact that we would have to ""reset"" an arbitrarily large number of collision objects?

I don't know what the meaningful costs of your two suggestions are.  The cost of the third option is largely one of one-time programming logistics and want to get a sense of what the ""best"" option would be.  

(p.s. thanks for the *fast* response.)",third option would making sure registered overlap filter data need collision world three would recommend particularly light fact would reset arbitrarily large number collision know meaningful two cost third option largely one logistics want get sense best option would thanks fast response,issue,positive,positive,positive,positive,positive,positive
262604136,"Indeed, this is expected behaviour: broadphase pairs are only add/removed incrementally, and filter functions are only called before adding a new pair.

External changes to the collision objects/shapes (aside from setting the world transform) are invisible. You have a few options when you rely on such external changes: 
1) remove the object from the world, make the change, re-insert to the world.
2) 'notify' the broadphase explicitly
operation.
		m_dynamicsWorld->getBroadphase()->getOverlappingPairCache()->cleanProxyFromPairs(staticBody->getBroadphaseHandle(),getDynamicsWorld()->getDispatcher());



",indeed behaviour filter new pair external collision aside setting world transform invisible rely external remove object world make change explicitly operation,issue,negative,positive,neutral,neutral,positive,positive
262416705,"Thanks for the contribution of a Bazel build file. Aside form getting the right projects and files in there, it would be also good to add some support for Travis continuous integration to build/test the Bazel build. I did a quick search, and it seems some projects already do it:
https://github.com/search?q=.travis.yml+bazel&type=Code&utf8=%E2%9C%93

In a nutshell, src/Bullet3Dynamics and src/Bullet3Collision is mainly for GPGPU Physics using OpenCL and not in production yet. So we are still using CPU-only Bullet 2.x ,which is src/LinearMath, src/BulletCollision, src/BulletDynamics, src/BulletSoftBody. The ExampleBrowser takes a bit more work to build. You can see the non-public blaze BUILD file for details.

Oh, and as you may have noticed, the Travis CI check occasionally fails due to time-out.",thanks contribution build file aside form getting right would also good add support travis continuous integration build quick search already nutshell mainly physic production yet still bullet bit work build see blaze build file oh may travis check occasionally due,issue,positive,positive,positive,positive,positive,positive
261817956,"Thanks for the contribution!
Do you have any example in the Example Browser (either 'Rendering' section or 'Experiments') or pybullet file to see the lightcolor in action?",thanks contribution example example browser either section file see action,issue,negative,positive,positive,positive,positive,positive
261655048,"Thanks for the comments.

>  There is no determinism when only resetting a few values and not the others

What other parameters do I need to reset to complete the reset? Can this only be done by recreating the dynamics world?
I will implement the reset strategy you proposed. Yes, I wanted to go on to the pybullet example long ago, but this non-determinism problem kept me back. I just would like to give people a working non-pybullet version to play with. I already finished an urdf model of my walker. Next I am going to look into how to get it all together. For that I will probably port cartpoleplusplus into the browser just to get the hang on it. Stay tuned and give me updates on upcoming things!
",thanks determinism need reset complete reset done dynamic world implement reset strategy yes go example long ago problem kept back would like give people working version play already finished model walker next going look get together probably port browser get stay tuned give upcoming,issue,positive,positive,neutral,neutral,positive,positive
261583562,"> > I keep on instantiating the walkers because when I reset a walker, 
> > I get these non-deterministic variations of performance of a single walker. 

[edit] That is not a good idea. You could simply re-create the entire dynamics world and remove all graphics instances: instancingRenderer->removeAllInstances();

I'm working on allowing pybullet /shared memory C-API allows deterministic save/restore features for machine learning.
",keep reset walker get performance single walker edit good idea could simply entire dynamic world remove graphic working memory deterministic machine learning,issue,positive,positive,positive,positive,positive,positive
261582713,"> > to test the non-determinism of resetting a position

There is no determinism when only resetting a few values and not the others, so adding a test is non-sense.

It would be good to deprecate this example and move to pybullet+TF/gym etc. See https://github.com/matpalm/cartpoleplusplus
",test position determinism test would good deprecate example move see,issue,negative,positive,positive,positive,positive,positive
261432555,"ok, I agree. Let's make this change. Thanks for the contribution!
",agree let make change thanks contribution,issue,positive,positive,positive,positive,positive,positive
261400899,"Thanks for the contribution! 
I replaced renderImage by getCameraImage using keyword args (needs some testing!) 
this way, we can add more optional arguments in the future.
See this one instead: https://github.com/bulletphysics/bullet3/pull/864
",thanks contribution need testing way add optional future see one instead,issue,negative,positive,neutral,neutral,positive,positive
260212024,"So while the worldArrayIndex may not be the most elegant approach, I would argue that the companionId is worse. The companionId is solver-specific data being stored in the global collision objects and being mutated by solvers. At least worldArrayIndex is not being mutated.

Another solution that would not require use of the worldArrayIndex would be for each solver to keep a hashMap for mapping from body-pointers to solver body index.

One benefit of having worldArrayIndex is that it speeds up removing objects from the world from being O(N) operation to O(1). So it has utility beyond just fixing this one issue with concurrent solvers sharing a kinematic body.

Let me know how you'd like this solved and I'll be glad to implement it.
",may elegant approach would argue worse data global collision least another solution would require use would solver keep solver body index one benefit removing world operation utility beyond fixing one issue concurrent kinematic body let know like glad implement,issue,positive,positive,neutral,neutral,positive,positive
260202315,"It is the companionId of the collision body that is written to. If a kinematic body is in say 2 different simulation islands, the 2 solvers running concurrently will both write different values to the companionId (index of the solver body in the solver body-array).
(see the function getOrInitSolverBody() in SequentialImpulseConstraintSolver)
",collision body written kinematic body say different simulation running concurrently write different index solver body solver see function,issue,negative,neutral,neutral,neutral,neutral,neutral
260202034,"I'm not fond of this uniqueId/worldArrayIndex. Can you explain why it is needed? I'm reading this comment:

  // Kinematic bodies can be in multiple islands at once, so it is a
 // race condition to write to them, so we use an alternate method

https://github.com/lunkhound/bullet3/blob/2f4ec4f8c9faaf5ca0a8c4ae113d414f15cc334c/src/BulletDynamics/ConstraintSolver/btSequentialImpulseConstraintSolver.cpp#L751

Kinematic objects should have mass zero, so the constraint solver should never have to 'write' to them, right?
",explain reading comment kinematic multiple race condition write use alternate method kinematic mass zero constraint solver never right,issue,negative,negative,neutral,neutral,negative,negative
260179403,"Basically, as soon as there are no problems with the multithreading pipeline, yes. Somebody would need to port Blender to the newest Bullet version though.
",basically soon pipeline yes somebody would need port blender bullet version though,issue,negative,neutral,neutral,neutral,neutral,neutral
260159796,"does this mean blender game bullet may  possible to thread soon?

On Nov 12, 2016 3:08 PM, ""lunkhound"" notifications@github.com wrote:

> Closed #390 https://github.com/bulletphysics/bullet3/pull/390.
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/390#event-856874862, or mute
> the thread
> https://github.com/notifications/unsubscribe-auth/AG25WQEE_rVElw1q_0dLrXFEd0yhLlR5ks5q9kbagaJpZM4EipLO
> .
",mean blender game bullet may possible thread soon wrote closed thread reply directly view mute thread,issue,negative,negative,negative,negative,negative,negative
260142584,"Actually the broadphase handle unique id is an always increasing value which is not quite what I need. What I need is the index of the body in the world's collisionObjects array (i.e. an id that is unique for each object existing at the current moment, but no larger than necessary).
""unique id"" is not the best name for that field (in collisionObject), maybe it should be called something like ""array index"" or something?
",actually handle unique id always increasing value quite need need index body world array id unique object current moment necessary unique id best name field maybe something like array index something,issue,positive,positive,positive,positive,positive,positive
260141071,"There is already a unique Id in each object through its broadphase handle. Given a btCollisionObject, you can access this UID using colObj->getBroadphaseHandle()->m_uniqueId;
",already unique id object handle given access,issue,negative,positive,positive,positive,positive,positive
260139849,"Yes that looks like a bug. I thought I had put something in to handle the removal case, but evidently I forgot. I can make a PR to fix that.
",yes like bug thought put something handle removal case evidently forgot make fix,issue,positive,positive,positive,positive,positive,positive
259843485,"How about moving it into BulletDynamics?

On Thursday, November 10, 2016, erwincoumans notifications@github.com
wrote:

> I ran into another issue, BulletCollision is not allowed to depend in any
> way on BulletDynamics, this is violated in btSimulationIslandManagerMt.
> cpp:
> #include ""BulletDynamics/ConstraintSolver/btTypedConstraint.h""
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/847#issuecomment-259842887,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AGs0YYiQMEqE3g7NluIL2F1NW3f-UXOzks5q865ogaJpZM4KkfV0
> .
",moving wrote ran another issue depend way include thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
259842887,"I ran into another issue, BulletCollision is not allowed to depend in any way on BulletDynamics, this is violated in btSimulationIslandManagerMt.cpp:
 #include ""BulletDynamics/ConstraintSolver/btTypedConstraint.h""
",ran another issue depend way include,issue,negative,neutral,neutral,neutral,neutral,neutral
259264810,"> Such reset will be non-deterministic, so outcomes will be slightly different. I'm planning to fix this for the shared memory API/pybullet, most robotics and machine learning / reinforcement learning projects need it.

In case you need a simple test case for the Bullet Example to test the non-determinism of resetting a position, tell me and I can commit the one I wrote based on the BasicExample in a separate Pull Request.
",reset slightly different fix memory machine learning reinforcement learning need case need simple test case bullet example test position tell commit one wrote based separate pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
259262630,"I extended the b3Clock to expose the system current time in milliseconds. This functionality was missing. Now the example differs every time because the random numbers differ properly, but a single performance is deterministic.
",extended expose system current time functionality missing example every time random differ properly single performance deterministic,issue,negative,negative,negative,negative,negative,negative
258944820,"The current version if Bullet 2.85, the previous one is 2.83. Ignore 2.84, that was a mistake. Next one will be Bullet 2.86.
For Bullet 2.x, you can check API version as in Bullet/src/btScalar.h:

#define BT_BULLET_VERSION 285

inline int  btGetVersion()
{
    return BT_BULLET_VERSION;
}

If there is any issue, please create new one.
",current version bullet previous one ignore mistake next one bullet bullet check version define return issue please create new one,issue,negative,negative,neutral,neutral,negative,negative
258253238,"I keep on instantiating the walkers because when I reset a walker, I get these non-deterministic variations of performance of a single walker. Since the performance varies strongly (the walking patterns are not robust to slight variations), the formerly best walker is no longer the best in a second generation. Therefore I create a new walker every time I want to reset it and copy over the neural network configuration. By that I get deterministic performances, but it seems that generating new graphical objects every time  (that is what m_guiHelper->autogenerateGraphicsObjects(m_dynamicsWorld); does right?)  causes some issues on the OpenGL side. At least it can be prevented by not generating the graphics objects as long as they are not shown (as it is the case in headless simulation mode). Interestingly, the graphics disappear as soon as I delete the old walkers, so there seems to happen some clean up. Maybe I will have a look at your OpenGL code at some point. For now, my simulation has a toggle called REBUILD_WALKER, which deletes and reinstantiates when set to true, and uses the reset method when set to false (but with the non-deterministic effect). So by default it is set to true.
",keep reset walker get performance single walker since performance strongly walking robust slight formerly best walker longer best second generation therefore create new walker every time want reset copy neural network configuration get deterministic generating new graphical every time right side least generating graphic long shown case headless simulation mode interestingly graphic disappear soon delete old happen clean maybe look code point simulation toggle set true reset method set false effect default set true,issue,positive,positive,positive,positive,positive,positive
258216458,"Hmm.. I don't see the explosion with the merged latest trunk and my master branch on my side... Is there a way that I can have the exact same code base that you are testing with.
",see explosion latest trunk master branch side way exact code base testing,issue,negative,negative,neutral,neutral,negative,negative
258208018,"Thanks! When I enabled #define USE_SOFT_BODY_MULTI_BODY_DYNAMICS_WORLD on latest trunk, the bunny 'explodes' when touching ground plane, presumably for static objects there should only be one-way response :)
",thanks define latest trunk bunny touching ground plane presumably static response,issue,negative,positive,positive,positive,positive,positive
258206221,"Thanks Erwin! I have added the 'kuka_iiwa/model_free_base.urdf'.

To load the bunny and use the softbody dynamics in shared memory API, the preprocessor USE_SOFT_BODY_MULTI_BODY_DYNAMICS_WORLD
needs to be defined. Cause the softbody contact is still work in progress.
",thanks added load bunny use dynamic memory need defined cause contact still work progress,issue,positive,positive,neutral,neutral,positive,positive
258195932,"Thanks for the contribution! The 'kuka_iiwa/model_free_base.urdf seems missing, could you add it please?

Also, the 'Grasp Soft Body' doesn't show any soft body here. Is one more file missing?
",thanks contribution missing could add please also soft body show soft body one file missing,issue,negative,neutral,neutral,neutral,neutral,neutral
258193280,"> However, this does not reset the walker properly, instead its performance varies lightly. 

Such reset will be non-deterministic, so outcomes will be slightly different. I'm planning to fix this for the shared memory API/pybullet, most robotics and machine learning / reinforcement learning projects need it.

> If I create a lot of graphics objects, it crashes. 

You only have 50 walkers at one time, so you create 50 graphics shapes/instances in total? Why do you keep on creating them? And to 'delete' instances, you can move them far away and scale them to zero. Have you tried that?
",however reset walker properly instead performance lightly reset slightly different fix memory machine learning reinforcement learning need create lot graphic one time create graphic total keep move far away scale zero tried,issue,negative,positive,neutral,neutral,positive,positive
258190289,"I'll accept the pull request but will reorganize some files afterwards: the 'CommonInterfaces' should just have header files, and I'll move some of the new classes out of that.
Thanks for all the work, as discussed here: http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=10232
",accept pull request reorganize afterwards header move new class thanks work,issue,positive,positive,positive,positive,positive,positive
257746769,"thanks a lot for updating this, I'll review it soon and either merge the pull request or get back to you . Thanks!
",thanks lot review soon either merge pull request get back thanks,issue,positive,positive,positive,positive,positive,positive
257444951,"maybe it shouldn't matter if the asymmetry is small?
",maybe matter asymmetry small,issue,negative,negative,negative,negative,negative,negative
257444816,"the header file says that a [symmetric matrix is assumed](https://github.com/bulletphysics/bullet3/blob/3d813b2f1bb7c94346aae2d2b650f82ac96f2085/src/LinearMath/btMatrix3x3.h#L658), but the example matrix is not symmetric
",header file symmetric matrix assumed example matrix symmetric,issue,negative,neutral,neutral,neutral,neutral,neutral
257221989,"basically we need a method that moves and rotates the child shapes each frame, and computes the forces this would generate based on contacts during the substeps I think*

has anyone here ever delt with this?
(animating an actors physics shape using compound child shapes?)
",basically need method child frame would generate based think anyone ever animating physic shape compound child,issue,negative,neutral,neutral,neutral,neutral,neutral
257179939,"I've tested this on Windows 7 with Cmake/Visual Studio 2013. I also used a virtual machine with Ubuntu 16 32-bit to test it with Cmake/GCC.  I didn't add the threading options to premake but I tried to keep from breaking premake.
Using Cmake/Clang runs into an issue with not finding the omp.h header for OpenMP. Seems to be a known issue without a clean solution that I could find. The non-multithreading configuration works fine with Clang of course.

I added GUI buttons to the example browser so that for those demos that call CommonRigidBodyBase::createEmptyPhysicsWorld() a button appears which allows switching to a multi-threaded physics world (requires re-double-clicking on the demo).
Other buttons appear to allow switching between the supported threading APIs (OpenMP, Intel TBB, Microsoft PPL). And you get a slider widget to change the number of threads.
",tested studio also used virtual machine test add premake tried keep breaking premake issue finding header known issue without clean solution could find configuration work fine clang course added button example browser demo call button switching physic world button appear allow switching get slider change number,issue,negative,positive,positive,positive,positive,positive
257164137,"Here is a snippet to reproduce the issue:

```
btMatrix3x3 mat(6.66666674e-05, 9.09494702e-13, 0.000000000,
-9.09494702e-13, 6.66666674e-05, 0.000000000,
0.000000000, 0.000000000, 6.66666674e-05);

btScalar threshold = 1e-4;// 130;
int maxStep = 120;
btMatrix3x3 rot;
mat.diagonalize(rot, threshold, maxStep);
```
",snippet reproduce issue mat threshold rot rot threshold,issue,negative,neutral,neutral,neutral,neutral,neutral
257138379,"Oh, I am sorry, I did not see that you proposed a new built-in system. I was somehow carried away by the rest. Feel free to open your issue again.
",oh sorry see new system somehow carried away rest feel free open issue,issue,negative,positive,neutral,neutral,positive,positive
257088698,"Yes, only win32 is tested at the moment. It woukd be good (and easy) to support win64 in the future, just by modifying the premake4.lua in Bullet/examples/SharedMemory
",yes win tested moment good easy support win future,issue,positive,positive,positive,positive,positive,positive
257009579,"What you describe totally sounds like an issue dicussed only on the bullet physics forum and not the github developer's page. Give it a try there, people will help you. And do not forget to close the issue here.
",describe totally like issue bullet physic forum developer page give try people help forget close issue,issue,positive,neutral,neutral,neutral,neutral,neutral
256788933,"can you elaborate on what a ""compiled node"" is? perhaps a concrete example?
",elaborate node perhaps concrete example,issue,negative,positive,positive,positive,positive,positive
256561739,"This issue is still valid in 2.85.1, as #627 was reverted by #679 (it would have been nice to use `git revert` for that btw).

So there is still an inconsistency in system-wide installations between:
- the pkgconfig file which expects `INCLUDE_INSTALL_DIR` to be a relative path (as it is defined by default, `""include/bullet/""`)
- the `INSTALL()` calls which all expect it to be an absolute path (otherwise with the default value, headers are installed in `build/include/bullet/` instead of `CMAKE_INSTALL_PREFIX/include/bullet/`).
",issue still valid would nice use git revert still inconsistency file relative path defined default install expect absolute path otherwise default value instead,issue,positive,positive,positive,positive,positive,positive
256187761,"I found a minor bug that plots the fitnesses of the walkers wrongly and I found out that the runs seem not to be deterministic (a performance is not at all the same when run  several times). I will have to fix this.
",found minor bug wrongly found seem deterministic performance run several time fix,issue,negative,negative,negative,negative,negative,negative
256063604,"Nice that you found some ideas you could integrate into your own classes. Tell me if I can help with the integration into your classes. It would probably go into the RigidBodyBase, right? Maybe I can do it all in while cancelling the TimeWarpBase.
",nice found could integrate class tell help integration class would probably go right maybe,issue,positive,positive,positive,positive,positive,positive
255555743,"there are a bunch of nice ideas in the timewarp base class, especially selecting solvers and gui and other stuff. let me look at how to merge it in the current classes.
",bunch nice base class especially stuff let look merge current class,issue,negative,negative,neutral,neutral,negative,negative
255554390,"That is interesting, my timestep code looks basically just like yours :) The determinism page on the bullet physics wiki gave me the impression that I had to implement this myself, that is why I did it. That is also why I added a TimeWarpBase to give people a basis to understand how to speed up simulations deterministically. I will try to cancel the TimeWarpBase and have the same effect. Thanks for giving me a heads-up! 

Also thanks for the link to your friend's repository. That and other setups are basically what I wanted to create for the example browser. I am fairly new to the DDPG approach, but I want to read the paper on it and study the code. Is this about what you would like to get as examples? Next will definitely be a ported pybullet NN walkers example.
",interesting code basically like determinism page bullet physic gave impression implement also added give people basis understand speed try cancel effect thanks giving also thanks link friend repository basically create example browser fairly new approach want read paper study code would like get next definitely ported example,issue,positive,positive,positive,positive,positive,positive
255533017,"I moved the CommonInterfaces/CommonTimeWarpBase into Evolution/3DWalkersTimeWarpBase, since I didn't intent to add it as a common interface. Once you use pybullet you don't need any of this stuff anyway.

Also, why are you reimplementing the subdivision of the timestep?
https://github.com/bulletphysics/bullet3/blob/master/examples/Evolution/NN3DWalkersTimeWarpBase.h#L778
Bullet already has implemented the ""fix your timestep"" stuff in the stepSimulation:
https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/Dynamics/btDiscreteDynamicsWorld.cpp#L401
",since intent add common interface use need stuff anyway also subdivision bullet already fix stuff,issue,negative,negative,negative,negative,negative,negative
255428491,"By the way, for an example of using pybullet, OpenAI gym, and tensorflow, please see my colleague Mat Kelcey's cartpole example: https://github.com/matpalm/cartpoleplusplus
I highly recommend using such combo (pybullet, gym, TensorFlow)
",way example gym please see colleague mat example highly recommend gym,issue,positive,positive,positive,positive,positive,positive
255413344,"There are a few minor issues that I fix after merging the pull request.
Now it would be great to reproduce this in pybullet (Python) and TensorFlow ... 👍 
",minor fix pull request would great reproduce python,issue,positive,positive,positive,positive,positive,positive
255403495,"Great, thanks a lot for the work on this. I'll check it out and try to merge the pull request asap.
Yes, travis Continuous Integration is a bit shaky recently, compiler hang/time-out.
",great thanks lot work check try merge pull request yes travis continuous integration bit shaky recently compiler,issue,positive,positive,positive,positive,positive,positive
254923375,"All done and fixed. An uninitialized transform messed it all up. Happy to say it works now on Windows and Linux here. @erwincoumans, anything else to do?
Edit: Had to kick the CI again, it seemed to have hung itself up on compiling.
",done fixed transform happy say work anything else edit kick hung,issue,positive,positive,positive,positive,positive,positive
254900653,"Hi Erwin, sorry for the delay. I took me a while to setup Visual Studio and I was busy with work etc. I am just about to finish it so that it can be merged. I am going to see how I can get up to speed with pybullet. 

Oh, so you already have a btHashMap? I thought I would have to contribute that as well, but well it is already there.
",hi sorry delay took setup visual studio busy work finish going see get speed oh already thought would contribute well well already,issue,negative,negative,negative,negative,negative,negative
254887212,"Cool @meshula . Our new development with pybullet (Python) and VR will make it easier and fun to play with creature development. There will be TensorFlow in the mix as well, for machine learning...
",cool new development python make easier fun play creature development mix well machine learning,issue,positive,positive,positive,positive,positive,positive
254886526,"Yes, please fix the Windows build and I'll accept the pull request. Moving forward, it would be great to move this towards using pybullet and/or newer API. This new API abstracts so that we can move simulation to run on GPU (using OpenCL Bullet 3.x) and using machine learning (Bullet 4.x).

Yes, please use src/LinearMath/btHashMap.h instead of std::map.
",yes please fix build accept pull request moving forward would great move towards new move simulation run bullet machine learning bullet yes please use instead,issue,positive,positive,positive,positive,positive,positive
254873597,"Cool work! 

@d3x0r I wrote a paper about a simulator I wrote back in 1990, along similar lines - 

http://nickporcino.com/posts/hexapod90.html
",cool work wrote paper simulator wrote back along similar,issue,negative,positive,positive,positive,positive,positive
254664283,"Thanks for the pull request. It would be nice to add the option to disable the feature while it is under construction. For example, add a #ifdef USE_SOFT_BODY_MULTI_BODY_DYNAMICS_WORLD around the new blocks inside PhysicsServerCommandProcessor.cpp, and define this in the project build system, so we have an option to not link/use btSoftBody*.
",thanks pull request would nice add option disable feature construction example add around new inside define project build system option,issue,positive,positive,positive,positive,positive,positive
254053558,"Could one also build/run that packagebuild install (PKGBUILD.txt) on Ubuntu, if so how?
",could one also install,issue,negative,neutral,neutral,neutral,neutral,neutral
254053385,"The BulletExampleBrowser depends on libBulletExampleBrowserLib, so if you install it system-wide, you need to 'install' that library too, including various other libraries.
If you use the original Bullet premake or cmake build systems, it should all work fine.
",install need library various use original bullet premake build work fine,issue,negative,positive,positive,positive,positive,positive
254053316,"There are a few different ways of installing a python extension, usually there is a setup.py (which bypasses cmake). Cmake needs to compile the extension without prefix and using .so postfix (not dylib on Mac OSX). This is not related to #836  @alabd14313 .
See also https://m.reddit.com/r/Python/comments/26fw6y/building_a_cmake_c_application_with_python/
http://stackoverflow.com/questions/18360245/python-c-compiling-shared-library-with-cmake-and-installing-with-distutils

I may get to this sooner or later.
",different way python extension usually need compile extension without prefix postfix mac related see also may get sooner later,issue,negative,negative,neutral,neutral,negative,negative
254033173,"I'm in arch linux. Why I cant load pybullet from python:
`Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
ImportError: No module named 'pybullet'`

Is this related to: https://github.com/bulletphysics/bullet3/issues/836
",arch cant load python recent call last file line module module related,issue,negative,neutral,neutral,neutral,neutral,neutral
253584737,"Fair enough. I'm not sure when I'll have a chance to get to it, but if you leave it open maybe someone will take a crack at it.
",fair enough sure chance get leave open maybe someone take crack,issue,positive,positive,positive,positive,positive,positive
253555003,"I hope someone steps up and help update the cmake build files, perhaps a pull request or patch. Until then, using pybullet and the ExampleBrowser will be a manual step, instead of easy installation.
",hope someone help update build perhaps pull request patch manual step instead easy installation,issue,positive,positive,positive,positive,positive,positive
253551922,"Due to serialization update, the release has to be named 2.85 indeed, so we skip 2.84.
See https://github.com/bulletphysics/bullet3/releases/tag/2.85
",due serialization update release indeed skip see,issue,negative,negative,negative,negative,negative,negative
253088201,"Thanks for the report. We should add a case 'CMD_CALCULATE_INVERSE_KINEMATICS_COMPLETED' break and CMD_CALCULATE_INVERSE_KINEMATICS_FAILED: with a warning, similar to INVERSE_DYNAMICS.
",thanks report add case break warning similar,issue,negative,positive,neutral,neutral,positive,positive
252985033,"For the example browser and demos, you could install them to `<prefix>/bin` if the names are generic enough, or to `<prefix>/libexec/bullet/` if you don't mind that the demos aren't in the `PATH` by default. Note that simbody puts their visualizer binary in `libexec/simbody`.
",example browser demo could install prefix generic enough prefix mind demo path default note visualizer binary,issue,negative,neutral,neutral,neutral,neutral,neutral
252984008,"Yes, at the moment there is no automatic way of ""installing"" the libpybullet.so extension, called libpybullet.dylib on Mac OSX. I rename it to pybullet.so and either start the Python interpreter from the same file location (so it can find/use it), or create a symbolic link on Windows (from c:\pythonx\dlls\pybullet.pyd to pybullet_*.dll)

In addition, it would also be nice/important to install the Example Browser. I'm not familiar with Linux/Mac release processes though.

Who would be the right person to sort out those install/packaging things?
",yes moment automatic way extension mac rename either start python interpreter file location create symbolic link addition would also install example browser familiar release though would right person sort,issue,positive,positive,positive,positive,positive,positive
252983510,"Thanks for bringing up the inconsistency, somehow the 2.84 release never got tagged/released after the VERSION was bumbed up from 2.83 to 2.84 last year. This release should be tagged 2.85 indeed. I'll look into it.
",thanks inconsistency somehow release never got version last year release tagged indeed look,issue,negative,positive,neutral,neutral,positive,positive
252510819,"Just food for thought.
http://www.biologic.com.au/bugbrain/

Old project that lets you wire a simple neural network.  My thought was to make a hybrid of these and classic wide neural nets so that it's half constructed and half evolutionary.
A slight modification to the 'analog' type neuron so the output is the difference above the threshold instead of full out, and it's easy to make tracking logic... had a project with a bug wandering around with 3 raycast radar and it was able to avoid walls based on the relative distances of the radar... parameters that could be evolved - the max distance of detection, the scanning rates (the center radar was semi fixed, and the outside had a small wandering feel... like a blind person with a cane) .... and the input from the rays was 0-1 for how close it was to the radar on the body
",food thought old project wire simple neural network thought make hybrid classic wide neural half half evolutionary slight modification type neuron output difference threshold instead full easy make logic project bug wandering around radar able avoid based relative radar could distance detection scanning center radar semi fixed outside small wandering feel like blind person cane input close radar body,issue,negative,positive,neutral,neutral,positive,positive
252458704,"where is?

On Sat, Oct 8, 2016 at 6:32 PM, erwincoumans notifications@github.com
wrote:

> Closed #824 https://github.com/bulletphysics/bullet3/issues/824.
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/824#event-817230375, or mute
> the thread
> https://github.com/notifications/unsubscribe-auth/AG25WTMAqjMG1qb9tcGjoykHLyV1I7G5ks5qyEQzgaJpZM4KR3CR
> .
",sat wrote closed thread reply directly view mute thread,issue,negative,neutral,neutral,neutral,neutral,neutral
252458311,"This is not a discussion forum for such topics, use the forums at http://bulletphysics.org.

But in a nutshell: Ideally, a newer BGE will use the shared memory physics API (Bullet/examples/SharedMemory/PhysicsClientC_API.h) , which is more future-proof: it will automatically support btMultiBody, IK, inverse dynamics etc, but also future API changes towards OpenCL and more.

In the meanwhile, any Python script (including BGE or Blender Python scripts) can use pybullet and the Virtual Reality capabilities over shared memory...
",discussion forum use nutshell ideally use memory physic automatically support inverse dynamic also future towards meanwhile python script blender python use virtual reality memory,issue,positive,positive,positive,positive,positive,positive
252294044,"I will check that pr to see if it solves my issue as well (can't imagine it won't).
",check see issue well ca imagine wo,issue,negative,neutral,neutral,neutral,neutral,neutral
252292296,"Thanks for the report, I could reproduce it. Let's remove those useless global constants, I created this pull request instead:
https://github.com/bulletphysics/bullet3/pull/821
",thanks report could reproduce let remove useless global pull request instead,issue,negative,negative,neutral,neutral,negative,negative
252290336,"Will do when I arrive back home later.
",arrive back home later,issue,negative,neutral,neutral,neutral,neutral,neutral
252289841,"I can't support custom build rules etc. Please try building Bullet (and optionally its demos) using its original unmodified cmake or premake build files. And preferably, use the latest Bullet trunk revision.
",ca support custom build please try building bullet optionally demo original unmodified premake build preferably use latest bullet trunk revision,issue,positive,positive,positive,positive,positive,positive
252289132,"If I use this line in command-line:
cmake .. -DCMAKE_WINDOWS_EXPORT_ALL_SYMBOLS=ON -G ""Visual Studio 14 2015""
cmake reports an error:
  Manually-specified variables were not used by the project:

```
CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS
```
",use line visual studio error used project,issue,negative,neutral,neutral,neutral,neutral,neutral
252288606,"Also, please tell exactly what cmake options you use, and how you invoke cmake. Do you use cmake from command-line or cmake-gui?
",also please tell exactly use invoke use,issue,negative,positive,positive,positive,positive,positive
252288091,"It should work, please delete all build files, re-create cmake projects and build again, using that new line. I'll try it out as well in the meanwhile.
",work please delete build build new line try well meanwhile,issue,positive,positive,positive,positive,positive,positive
252287566,"I just tried you suggesting, but nothing same linker errors. I did double check before I submitted this to make sure it was linking LinearMath.lib in the Visual Studio project properties and it was there.
",tried suggesting nothing linker double check make sure linking visual studio project,issue,negative,positive,positive,positive,positive,positive
252287312,"It compiles fine on Windows, Linux and Mac OSX, so please provide ALL details, including operating system+version, compiler+version, all build system steps etc.
",fine mac please provide operating build system,issue,negative,positive,positive,positive,positive,positive
252286828,"Can you provide the exact steps to reproduce, including platform (Windows, Linux, Mac, other), compiler, and how you invoke cmake not leaving out any details. Are you using default settings for cmake? I can't reproduce the issue on Windows, Linux or Mac it works just fine.
",provide exact reproduce platform mac compiler invoke leaving default ca reproduce issue mac work fine,issue,negative,positive,positive,positive,positive,positive
252285446,"That doesn't seem right. Can you modify the Bullet/src/BulletSoftBody/CMakeLists.txt line 44 into
TARGET_LINK_LIBRARIES(BulletSoftBody BulletDynamics BulletCollision LinearMath)
and see if that fixes things?
",seem right modify line see,issue,negative,positive,positive,positive,positive,positive
250661599,"agreed, so the pull request is merged. Thanks!
",agreed pull request thanks,issue,positive,positive,positive,positive,positive,positive
250658187,"It's not necessary, but I think it's more readable that way. I'm coming from strictly code readability standpoint where it's not very clear from the code that to ensure that continuous joints behave as continuous joints that the upper limit should be intentionally set to be below the lower limit.
",necessary think readable way coming strictly code readability standpoint clear code ensure continuous behave continuous upper limit intentionally set lower limit,issue,negative,positive,neutral,neutral,positive,positive
250339545,"Thanks for sharing the various projects and thoughts about a Bullet 2.x specific C-API. We have pybullet python bindings for bullet3/examples/SharedMemory/PhysicsClientC_API.h and it would be straight-forward to add Lua bindings the that C-API as well. The move to Bullet 3.x and 4.x is going to happen, and don't want to extend the life of the 2.x API, even if that is the current most active version. Let's keep this issue open for discussion, some people may like to use the Bullet 2.x specific C-APIs.
",thanks various bullet specific python would add well move bullet going happen want extend life even current active version let keep issue open discussion people may like use bullet specific,issue,positive,positive,neutral,neutral,positive,positive
250306459,"@kyle-emmerich @erwincoumans just FYI, im working on a C wrapper, with the end goal to be used with the LuaJIT ffi:

https://github.com/rweichler/bullet_luajit/blob/master/bullet_wrapper.cpp
",working wrapper end goal used,issue,negative,neutral,neutral,neutral,neutral,neutral
249345632,"thanks for the contribution, it took too long to just merge this one.
",thanks contribution took long merge one,issue,negative,positive,neutral,neutral,positive,positive
249314078,"In the Bullet UrdfParser, the limits are default set to lower=0, upper=-1, and continuous joints are not overriding this (see https://github.com/bulletphysics/bullet3/blob/master/examples/Importers/ImportURDFDemo/UrdfParser.cpp#L1060). So this case/pull request is not needed. Perhaps a custom UrdfParser may not include this logic?
",bullet default set continuous see request perhaps custom may include logic,issue,negative,neutral,neutral,neutral,neutral,neutral
249210634,"great, thanks for the new gripper demo contribution!
",great thanks new gripper contribution,issue,positive,positive,positive,positive,positive,positive
248671199,"Hi Erwin, 

Thank you for the review! 

1) On linux, everything works well, but there seem to be issues on Windows. I will setup Visual Studio on my Windows machine to fix the issues. It seems that my code is not completely portable.

2) So I finish the example as it is, make it runnable on Windows without adding new features, for developers not yet adapting to the pybullet and b3RobotSimAPI and then recreate it using pybullet.

What should I handle/remove the std::map? Interested in a btHashMap or similar?
",hi thank review everything work well seem setup visual studio machine fix code completely finish example make runnable without new yet recreate interested similar,issue,positive,positive,neutral,neutral,positive,positive
248668918,"Hello Erwin,

Thanks for the review. In Linux, I do not get the SSE/SIMD error, how can I cause them to appear? It would be very helpful for me to detect such issues before you have to point them out to me. I am going to fix the other issue immediately.

Interesting, the ball not returning only happens to me very rarely. I am not entirely sure how it happens, but there might still be an issue with the reflection of the ball on other objects. I think I should not quickfix it by just introducing a slight deviation from the actual reflection.

How do you like my example in pull request https://github.com/bulletphysics/bullet3/pull/674?
",hello thanks review get error cause appear would helpful detect point going fix issue immediately interesting ball rarely entirely sure might still issue reflection ball think slight deviation actual reflection like example pull request,issue,positive,positive,positive,positive,positive,positive
248659290,"Our travis/appveyor Continuous Integration system doesn't work well: your pull request doesn't compile on my machine using Visual Studio 2015 (missing const reference in b3ReferenceFrameHelper.hpp). Once the compiling issues are resolved, the demo crashes on Windows in various places: First in void NN3DWalkersExample::drawMarkings(), char performance[10]; -> sprintf out of bounds? Then in \src\BulletDynamics\ConstraintSolver\btSequentialImpulseConstraintSolver.cpp around line 1466, btAssert(fsum > SIMD_EPSILON);. Usually this means something went wrong in setup of the constraints.
1) Please find someone with a Windows machine and most up-to-date Visual Studio, and compile/run the code, and make sure everything is OK.
2) For the future, I would highly recommend dropping this demo and start looking to use pybullet or /examples/RoboticsLearning/b3RobotSimAPI.h instead, creating URDF files of your creatures etc.
",continuous integration system work well pull request compile machine visual studio missing reference resolved various first void char performance around line usually something went wrong setup please find someone machine visual studio code make sure everything future would highly recommend dropping start looking use instead,issue,positive,negative,neutral,neutral,negative,negative
248649824,"I finally got to try the breakout game, but the ball doesn't return (tested on Windows), see video:
https://www.youtube.com/watch?v=mKu00bpyWb8&feature=youtu.be
There are 2 other small issues that the CI didn't catch, see inline code comment.
",finally got try breakout game ball return tested see video small catch see code comment,issue,negative,negative,negative,negative,negative,negative
248643966,"Thanks for the contribution. No idea what rpath is, but if it helps you, it may helps others as well, and it doesn't hinder me, so let's merge it 👍 
",thanks contribution idea may well hinder let merge,issue,positive,positive,positive,positive,positive,positive
248642939,"thanks for the pull request and the reminder 👍 
",thanks pull request reminder,issue,negative,positive,positive,positive,positive,positive
248622593,"ping? This, #788 and ~~#787~~#790 are preventing me building upstream bullet ATM... (edit: #787 is the issue, #790 is the PR that fixes it)
",ping building upstream bullet edit issue,issue,negative,neutral,neutral,neutral,neutral,neutral
248479428,"Brilliant (as they say in the UK), thanks for the work and pull request!
",brilliant say thanks work pull request,issue,positive,positive,positive,positive,positive,positive
247846163,"# Summary

Implemented...
- [X] the physics loop structure as proposed in the Gaffer on Games article 'Fix your timestep' (http://gafferongames.com/game-physics/fix-your-timestep/). 
- [X] deterministic speedup/slowdown of simulation
- [X] Toggleable scenarios what could go wrong when doing such simulations. Proper ERP/CFM calculating based on certain desired properties. Constraint motor force/torque scalings according to timestep.

Up for discussion...
- [ ] You tell me! 
",summary physic loop structure gaffer article deterministic simulation could go wrong proper calculating based certain desired constraint motor according discussion tell,issue,negative,negative,neutral,neutral,negative,negative
247845927,"# Summary

Implemented...
- [X] A basic Breakout game, move the paddle with n and m, shoot the ball with space.
- [X] Basic progress representation reusing the hit bricks (for the lack of a remove graphical entity method). Resets bricks if all are hit.

Up for discussion...
- [ ] Deep Reinforcement Learning similar to https://www.cs.toronto.edu/~vmnih/docs/dqn.pdf
- [ ] You tell me!
",summary basic breakout game move paddle shoot ball space basic progress representation hit lack remove graphical entity method hit discussion deep reinforcement learning similar tell,issue,negative,negative,neutral,neutral,negative,negative
247845463,"# Summary

Implemented...
- [X] 
  3D Walkers using a simple neural network to connect ground touch sensors with hinge joint motors. The Neural Network weights for successful walking are found using an Evolutionary Algorithm, training the Walkers for distance.
- [X]
  Parallel evaluation of the walkers
- [X]
  Dimensions of the walker can be changed by using sliders. The walker's dimension will be changed when reloading the example. If the dimensions do not allow for a properly working walker (inner collisions), the colliding body parts added last are dropped. Do not be suprised if your walker lacks some parts of the legs.
- [X]
  Speedup of the evaluation and headless evaluation (minimal graphics, the one I can not turn off).
- [X]
  TimeWarpBase inheriting from RigidBodyBase (could also be created for SoftRigidBody and MultiBodyBase), simplifying the implementation of deterministic simulation speedup/slowdown.
- [X] The example uses btHashMap now instead of a std::map.

Up for discussion...
- [ ] Other morphologies like Snakes, Quadrupeds, Centipedes.
- [ ] Other sensors to work with.
- [ ] Other environments using Softbody physics to approximate swimming or flying creatures (possibly in another example)
- [ ] Store evolution progress in file, export via configuration string (how should I import again?)
",summary simple neural network connect ground touch hinge joint neural network successful walking found evolutionary algorithm training distance parallel evaluation walker walker dimension example allow properly working walker inner body added last walker evaluation headless evaluation minimal graphic one turn could also implementation deterministic simulation example instead discussion like work physic approximate swimming flying possibly another example store evolution progress file export via configuration string import,issue,positive,positive,neutral,neutral,positive,positive
247808621,"I have now reused several parts of this in the Neural Network Walkers. I will keep this example as it is for people who want to get a full example of how to properly implement deterministic speedup/slowdown.
",several neural network keep example people want get full example properly implement deterministic,issue,negative,positive,positive,positive,positive,positive
247743645,"I actually have a unit test written already FWIW, since I didn't discover
the 3x3 diagonalization until after I had ported over some code to do SVD.
If you would like any of that code I can put it in.

On Fri, Sep 16, 2016, 6:30 PM ludi1001 notifications@github.com wrote:

> ## _@ludi1001_ commented on this pull request.
> 
> In examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp
> https://github.com/bulletphysics/bullet3/pull/783#pullrequestreview-447283
> :
> 
> > -       if (principalInertiaX < 0 ||
> > -         principalInertiaX > (principalInertiaY + principalInertiaZ) ||
> > -         principalInertiaY < 0 ||
> > -         principalInertiaY > (principalInertiaX + principalInertiaZ) ||
> > -         principalInertiaZ < 0 ||
> > -         principalInertiaZ > (principalInertiaX + principalInertiaY))
> > -     {
> > -         b3Warning(""Bad inertia tensor properties, setting inertia to zero for link: %s\n"", link->m_name.c_str());
> > -         principalInertiaX = 0.f;
> > -         principalInertiaY = 0.f;
> > -         principalInertiaZ = 0.f;
> > -         linkInertiaBasis.setIdentity();
> > -     }
> > -     localInertiaDiagonal.setValue(principalInertiaX, principalInertiaY, principalInertiaZ);
> > -     inertialFrame.setOrigin(link->m_inertia.m_linkLocalFrame.getOrigin());
> > -     inertialFrame.setBasis(linkInertiaBasis \* link->m_inertia.m_linkLocalFrame.getBasis());
> 
> I think the multiplication is backwards here. m_linkLocalFrame gives the
> transform from URDF inertial coordinates to world coordinates.
> linkInertiaBasis gives the transform from diagonalized inertia coordinates
> to URDF inertial coordinates. So inertialFrame, which should give transform
> from diagonalized inertia coordinates to world coordinates, should be
> 
> ## m_linkLocalFrame.getBasis() \* linkInertiaBasis?
> 
> In examples/Importers/ImportURDFDemo/BulletUrdfImporter.cpp
> https://github.com/bulletphysics/bullet3/pull/783#pullrequestreview-447283
> :
> 
> > -           mass = link->m_inertia.m_mass;
> > -         localInertiaDiagonal.setValue(link->m_inertia.m_ixx,link->m_inertia.m_iyy,
> > -                                       link->m_inertia.m_izz);
> > -         linkMass = link->m_inertia.m_mass;
> > -         if (link->m_inertia.m_ixy == 0.0 &&
> > -             link->m_inertia.m_ixz == 0.0 &&
> > -             link->m_inertia.m_iyz == 0.0)
> > -         {
> > -             principalInertiaX = link->m_inertia.m_ixx;
> > -             principalInertiaY = link->m_inertia.m_iyy;
> > -             principalInertiaZ = link->m_inertia.m_izz;
> > -             linkInertiaBasis.setIdentity();
> > -         }
> > -         else
> > -         {
> > -             principalInertiaX = link->m_inertia.m_ixx;
> 
> This line looks unnecessary.
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/783#pullrequestreview-447283,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/ADcl2gKa1G7unNaSeMqjns2mT3-JD-sjks5qq0K_gaJpZM4J71JG
> .
",actually unit test written already since discover ported code would like code put wrote pull request bad inertia tensor setting inertia zero link think multiplication backwards transform inertial world transform inertia inertial give transform inertia world mass else line unnecessary thread reply directly view mute thread,issue,negative,negative,negative,negative,negative,negative
247739181,"I have a few test cases of inertia matrices with analytical values of the diagonal and non-diagonal forms in an ignition-math test if you want to take a look:
- starting at [this line in MassMatrix3_TEST.cc](https://bitbucket.org/ignitionrobotics/ign-math/src/93cce26475e69d/src/MassMatrix3_TEST.cc#MassMatrix3_TEST.cc-238)
",test inertia matrix analytical diagonal test want take look starting line,issue,negative,neutral,neutral,neutral,neutral,neutral
247736897,"I'd like to do a few small tests to see if the btMatrix3x3::diagonalize does what it is supposed to do. Comparing with Eigen for example. Once that is ok, I'll merge, early next week.
",like small see supposed example merge early next week,issue,negative,negative,neutral,neutral,negative,negative
247682001,"Cool, I hadn't noticed that `btMatrix3x3` already had a diagonalize method. Nice work.
",cool already diagonalize method nice work,issue,positive,positive,positive,positive,positive,positive
247623887,"> Erwin usually proposes to submit a small non-modifying change.

Hmm... I suppose resetting the commit time is harmless enough... just did that...
",usually submit small change suppose commit time harmless enough,issue,negative,negative,negative,negative,negative,negative
247618732,"From what I saw in other pull requests, Erwin usually proposes to submit a
small non-modifying change.

On Fri, Sep 16, 2016, 16:39 Matthew Woehlke notifications@github.com
wrote:

> Yeah, it looks like a fluke. I think someone with permission can ask to
> retry the build?
> 
> —
> You are receiving this because you commented.
> 
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/789#issuecomment-247617796,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AC97qw799LWev2I3F7r-AMuO9SzfyINgks5qqqo9gaJpZM4J-EB3
> .
",saw pull usually submit small change wrote yeah like fluke think someone permission ask retry build reply directly view mute thread,issue,positive,negative,negative,negative,negative,negative
247617796,"Yeah, it looks like a fluke. I think someone with permission can ask to retry the build?
",yeah like fluke think someone permission ask retry build,issue,positive,neutral,neutral,neutral,neutral,neutral
247578548,"Strange...
The failing CI build says:
No output has been received in the last 10m0s, this potentially indicates a stalled build or something wrong with the build itself.
Check the details on how to adjust your build configuration on: https://docs.travis-ci.com/user/common-build-problems/#Build-times-out-because-no-output-was-received
The build has been terminated
",strange failing build output received last potentially build something wrong build check adjust build configuration build,issue,negative,negative,negative,negative,negative,negative
247471424,"TimeWarpBase is finished. I can speed up any of the example browser examples with minimal changes (a bit more than changing the inheritance). Just testing it with my Walker example, it runs amazingly quick now. I will clean and push tomorrow.
",finished speed example browser minimal bit inheritance testing walker example amazingly quick clean push tomorrow,issue,negative,positive,positive,positive,positive,positive
246931057,"We also allow for 'soft' rigid body contacts, see the Example Browser. The contact stiffness and contact damping is now converted in cfm/erp.
",also allow rigid body see example browser contact stiffness contact damping converted,issue,negative,neutral,neutral,neutral,neutral,neutral
246739610,"Graph, parallel evaluation and population print out are ready.  Next up, TimeWarpBase. Furthermore I will see if I can quickly build some more body structures (snakes, dogs, centipedes). Maybe I could also copy the example and create one wih softbodies and basic flying, swimming creatures. I am still searching for a way to input a data string to the example.
",graph parallel evaluation population print ready next furthermore see quickly build body dog maybe could also copy example create one basic flying swimming still searching way input data string example,issue,positive,positive,positive,positive,positive,positive
246727394,"This pull request is superseded by #783 which does not have white space edits.
",pull request white space,issue,negative,neutral,neutral,neutral,neutral,neutral
246487723,"luckily exposing as a gym environment is trivial [here's an example in python of a gym env using rendering to feed raw pixels to a convnet](https://github.com/matpalm/cartpoleplusplus/blob/master/bullet_cartpole.py)

+1 for programmatic creation of URDFs!! i've been writing them out to tmp files on the fly ;)
",luckily gym environment trivial example python gym rendering feed raw programmatic creation writing fly,issue,positive,positive,positive,positive,positive,positive
246318757,"Generally this would be a boolean operation (intersection), which requires constructive solid geometry engine. Once you take orientation into account, or more complex geometry, this is a non-trivial problem that Bullet doesn't solve, but it would be a useful feature. At the moment, you only get a hand-full of contact points. Internally, the box-box will search for the 2 most co-planar faces, and performs an intersection operation on those two planes. If you want/need it, search for another CSG/boolean operation library for it, there are some open source ones.
",generally would operation intersection constructive solid geometry engine take orientation account complex geometry problem bullet solve would useful feature moment get contact internally search intersection operation two search another operation library open source,issue,negative,positive,neutral,neutral,positive,positive
246205956,"Wrong place to ask, ask again on the bullet physics forum. Cheers.
",wrong place ask ask bullet physic forum,issue,negative,negative,negative,negative,negative,negative
246205839,"I implemented the collision avoidance strategy by dropping bodies that cause overlap. It is no longer possible to create broken walkers. Also it runs now a basic evolutionary algorithm training the walkers for distance within a certain evaluation time. Since it is not possible to drop graphical elements, I just kept them in the scene showing where the walkers ended up. Pretty cool for comparison but gets a bit crowded with more than 10 walkers.

I plan on creating a TimeWarpBase, which makes it easy to speed up the example (based on the TimeWarp example I wrote, see other pull request here:https://github.com/bulletphysics/bullet3/pull/674) and furthermore it could be a good idea to make is possible to print out the current population to store it and continue in some way. I will figure out something. Can I somehow read from console or similar to input a string that represents a population? 

Last but not least, I want to create a mode that just lets all walkers walk at the same time with collision turned off between them. And maybe a graph showing how they improve over generations.
",collision avoidance strategy dropping cause overlap longer possible create broken also basic evolutionary algorithm training distance within certain evaluation time since possible drop graphical kept scene showing ended pretty cool comparison bit crowded plan easy speed example based example wrote see pull request furthermore could good idea make possible print current population store continue way figure something somehow read console similar input string population last least want create mode walk time collision turned maybe graph showing improve,issue,positive,positive,neutral,neutral,positive,positive
246175084,"I have merged my commit and triggered a new integration test.
",commit triggered new integration test,issue,negative,positive,positive,positive,positive,positive
246174593,"This was merged instead: https://github.com/bulletphysics/bullet3/pull/780
We could also move the contact point data (and upcoming raycast data) in numpy arrays.
Thanks for the contribution!
",instead could also move contact point data upcoming data thanks contribution,issue,negative,positive,positive,positive,positive,positive
246174343,"Thanks for this nice pull request. I fixed some issue, could you upload a little change to re-trigger the Continuous Integration/tests?
",thanks nice pull request fixed issue could little change continuous,issue,positive,positive,positive,positive,positive,positive
246174082,"I re-created this pull request with your changes, with optional numpy support, works through cmake if your environment is setup ok: https://github.com/bulletphysics/bullet3/pull/780
Thanks!
",pull request optional support work environment setup thanks,issue,positive,positive,positive,positive,positive,positive
246162672,"That's great, thanks a lot Jeff.

By the way, as a future todo/reminder: it would be good to create a small test/comparison test/compare the btMatrix3x3::diagonalize function with some Eigen/other implementation.
",great thanks lot jeff way future would good create small function implementation,issue,positive,positive,positive,positive,positive,positive
246091641,"How does one distribute a application, and have it automatically install
the dependencies?

Can pip do that?

(like if you turn on his option and numpy is not installed, open a prompt
that asks the user if they want python to retrieve it?)

On Fri, Sep 9, 2016 at 4:56 PM, erwincoumans notifications@github.com
wrote:

> Thanks for the contribution! This adds a dependency to numpy, which some
> people like, others don't (on windows, many don't have numpy installed)
> 
> Could you put it behind an #ifdef, disabled by default? Then we can add the
> option in the various build systems(I can take care of cmake, premake and
> google3 BUILD ;)
> 
> Thanks!
> Erwin
> 
> On Friday, 9 September 2016, Robert Rose notifications@github.com wrote:
> 
> > Improves testrender.py performance on large images an order of magnitude
> > 
> > ## @erwincoumans https://github.com/erwincoumans
> > 
> > You can view, comment on, or merge this pull request online at:
> > 
> > https://github.com/bulletphysics/bullet3/pull/774
> > Commit Summary
> > - Modify pybullet renderImage to return numpy array
> > 
> > File Changes
> > - _M_ examples/pybullet/pybullet.c
> >   https://github.com/bulletphysics/bullet3/pull/774/files#diff-0 (67)
> > - _M_ examples/pybullet/testrender.py
> >   https://github.com/bulletphysics/bullet3/pull/774/files#diff-1 (20)
> > 
> > Patch Links:
> > - https://github.com/bulletphysics/bullet3/pull/774.patch
> > - https://github.com/bulletphysics/bullet3/pull/774.diff
> > 
> > —
> > You are receiving this because you were mentioned.
> > Reply to this email directly, view it on GitHub
> > https://github.com/bulletphysics/bullet3/pull/774, or mute the thread
> > <https://github.com/notifications/unsubscribe-auth/
> > AAsR3Lkfy6GoAZrN6s7t6GOkXgFulCbvks5qoerwgaJpZM4J5j_l>
> > .
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/774#issuecomment-246071259,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AG25WQFRQr-BfAj3IFi7_2MoJTx0qMG1ks5qofI0gaJpZM4J5j_l
> .
",one distribute application automatically install pip like turn option open prompt user want python retrieve wrote thanks contribution dependency people like many could put behind disabled default add option various build take care premake build thanks rose wrote performance large order magnitude view comment merge pull request commit summary modify return array file patch link reply directly view mute thread thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
246071259,"Thanks for the contribution! This adds a dependency to numpy, which some
people like, others don't (on windows, many don't have numpy installed)

Could you put it behind an #ifdef, disabled by default? Then we can add the
option in the various build systems(I can take care of cmake, premake and
google3 BUILD ;)

Thanks!
Erwin

On Friday, 9 September 2016, Robert Rose notifications@github.com wrote:

> Improves testrender.py performance on large images an order of magnitude
> 
> ## @erwincoumans https://github.com/erwincoumans
> 
> You can view, comment on, or merge this pull request online at:
> 
>   https://github.com/bulletphysics/bullet3/pull/774
> Commit Summary
> - Modify pybullet renderImage to return numpy array
> 
> File Changes
> - _M_ examples/pybullet/pybullet.c
>   https://github.com/bulletphysics/bullet3/pull/774/files#diff-0 (67)
> - _M_ examples/pybullet/testrender.py
>   https://github.com/bulletphysics/bullet3/pull/774/files#diff-1 (20)
> 
> Patch Links:
> - https://github.com/bulletphysics/bullet3/pull/774.patch
> - https://github.com/bulletphysics/bullet3/pull/774.diff
> 
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/774, or mute the thread
> https://github.com/notifications/unsubscribe-auth/AAsR3Lkfy6GoAZrN6s7t6GOkXgFulCbvks5qoerwgaJpZM4J5j_l
> .
",thanks contribution dependency people like many could put behind disabled default add option various build take care premake build thanks rose wrote performance large order magnitude view comment merge pull request commit summary modify return array file patch link reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
245498969,"Hm, in that case I think it might be a lost cause if backwards-compatibility is a priority. I'm sure there are some people out there who are subclassing Vector3 and friends for whatever reason.

Maybe it'd be easier treat the existing C++ API as private and wrap that? And @erwincoumans would be more likely to accept it since he wants a distinction between a private and public API anyway. The only sucky part is the performance loss due to extra function calls. But I think not much else can be done at this point without a major rewrite, but idk
",case think might lost cause priority sure people vector whatever reason maybe easier treat private wrap would likely accept since distinction private public anyway part performance loss due extra function think much else done point without major rewrite,issue,positive,positive,neutral,neutral,positive,positive
245496839,"rweicher, I totally agree with you, and this is exactly the point of my pull request.
",totally agree exactly point pull request,issue,negative,positive,positive,positive,positive,positive
245472695,"Thank you Erwin,

have you seen upbge?

upbge is a fork of blender for game development,
it's open to contributers but I don't know c or c++ at the moment.

it's version of bullet is up for grabs for any aspiring developer who
wanted to start porting newer bullet features and tech to it.

panzergame and youle, lord loki and twisterGE could use any help any bullet
coders have modernizing the bge.

thanks again fellows!

On Sep 7, 2016 6:10 PM, ""erwincoumans"" notifications@github.com wrote:

> @BluePrintRandom https://github.com/BluePrintRandom, Blender uses the
> single-precision version of Bullet (it doesn't #define
> BT_USE_DOUBLE_PRECISION) so this won't help you.
> 
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/771#issuecomment-245466147,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AG25WZo6ZLxmtDz2NgfedrjjYqli3Aodks5qn2CVgaJpZM4J2l0V
> .
",thank seen fork blender game development open know moment version bullet aspiring developer start bullet tech lord could use help bullet thanks wrote blender version bullet define wo help reply directly view mute thread,issue,positive,negative,neutral,neutral,negative,negative
245467495,"I'm not too experienced with C++, but wouldn't it make more sense for the math stuff to just be structs, instead of classes, if the goal is to have transparent types in C?
",experienced would make sense math stuff instead class goal transparent,issue,negative,positive,positive,positive,positive,positive
245466147,"@BluePrintRandom, Blender uses the single-precision version of Bullet (it doesn't #define BT_USE_DOUBLE_PRECISION) so this won't help you.
",blender version bullet define wo help,issue,negative,neutral,neutral,neutral,neutral,neutral
245464046,"Glad to help Erwin!

@BluePrintRandom Not at all familiar with blender games or what ya wanna do, but if it is an interface issue with a wrapper then following the same approach seems likely. Good luck!
",glad help familiar blender ya wan na interface issue wrapper following approach likely good luck,issue,positive,positive,positive,positive,positive,positive
245434240,"The idea behind a gpu ai was to avoid cycling data from gpu to cpu, and to
go in a order where the gpu already had the info it was dependent on from
the previous calc

like

physics
ai
applyForces from ai for next frame
skin ragdoll and draw world

but these would all need to complete before its time to draw the next
frame....

(a fully gpu bound gameloop)

but I guess a player would have no ability to input anything....

On Sep 7, 2016 2:56 PM, ""Benjamin Ellenberger"" notifications@github.com
wrote:

> Well first of all, your GPU has to switch for each of these usages, so you
> either have lots of GPU cards and use them all at the same time or it would
> not work. Second, everything with dependencies within the calculation
> causes large issues on GPU. A\* might be impossible to do in full-parallel,
> except that you can expand a step further everywhere at the same time. GPU
> based AI sounds unnecessary given the current state of Game AI. Once we
> have trained Neural Networks that play, we are talking again about this.
> The GPU physics works, except for large piles of objects (so called
> islands), they again cause dependencies.
> 
> All in all: We are not there yet from my point of view.
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/632#issuecomment-245432260,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AG25WdXVYKDS47YW1uPToa9ZsswA3EFMks5qnzMagaJpZM4IhB3P
> .
",idea behind ai avoid cycling data go order already dependent previous like physic ai ai next frame skin draw world would need complete time draw next frame fully bound guess player would ability input anything benjamin wrote well first switch either lot use time would work second everything within calculation large might impossible except expand step everywhere time based ai unnecessary given current state game ai trained neural play talking physic work except large pile cause yet point view thread reply directly view mute thread,issue,positive,negative,neutral,neutral,negative,negative
245432400,"Slightly off topic, but could blender games implementation of bullets Float
precision also be improved with the same method?

On Sep 6, 2016 11:50 PM, ""Jeff Bingham"" notifications@github.com wrote:

> - Converted floats to doubles in physics portion of pybullet.c, didn't
>   touch rendering portion.
> - Formatted the file into a consistent style (google C++ clang
>   template)
> 
> ---
> 
> You can view, comment on, or merge this pull request online at:
> 
>   https://github.com/bulletphysics/bullet3/pull/771
> Commit Summary
> - [python] Convert physics calls to double precision.
> - [format] Convert pybullet.c to consistent style.
> 
> File Changes
> - _M_ examples/pybullet/pybullet.c
>   https://github.com/bulletphysics/bullet3/pull/771/files#diff-0
>   (3112)
> 
> Patch Links:
> - https://github.com/bulletphysics/bullet3/pull/771.patch
> - https://github.com/bulletphysics/bullet3/pull/771.diff
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/771, or mute the thread
> https://github.com/notifications/unsubscribe-auth/AG25WabaGqlZ-sU56atLQgE6yJepNQp8ks5qnl7QgaJpZM4J2l0V
> .
",slightly topic could blender implementation float precision also method jeff wrote converted physic portion touch rendering portion file consistent style clang template view comment merge pull request commit summary python convert physic double precision format convert consistent style file patch link thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
245432260,"Well first of all, your GPU has to switch for each of these usages, so you either have lots of GPU cards and use them all at the same time or it would not work. Second, everything with dependencies within the calculation causes large issues on GPU. A\* might be impossible to do in full-parallel, except that you can expand a step further everywhere at the same time. GPU based AI sounds unnecessary given the current state of Game AI. Once we have trained Neural Networks that play, we are talking again about this. The GPU physics works, except for large piles of objects (so called islands), they again cause dependencies. 

All in all: We are not there yet from my point of view.
",well first switch either lot use time would work second everything within calculation large might impossible except expand step everywhere time based ai unnecessary given current state game ai trained neural play talking physic work except large pile cause yet point view,issue,positive,negative,neutral,neutral,negative,negative
245426561,"if we can have a GPU based A\* + a GPU based AI + gpu physics ragdoll
simulations + GPU armature skinning.....

you could have huge mobs of enemies without any drain from CPU-> gpu
communications.

(think a herd of zombies)

is this possible with Bullet3 + openCL ?

'bullet walking ragdoll crowd simulations' ?
",based based ai physic armature skinning could huge without drain think herd possible bullet walking crowd,issue,negative,positive,positive,positive,positive,positive
245368305,"If you mean the GPU physics pipeline, I think the priorities have changed. It is in an experimental stage and you can test it.
",mean physic pipeline think experimental stage test,issue,negative,negative,negative,negative,negative,negative
245366766,"Just hit closed below the comment window.
",hit closed comment window,issue,negative,negative,neutral,neutral,negative,negative
244808236,"True. I forgot about the keyboard repeat feature of some OSes. I cache the keyboard state and update the paddle movement according to it.
",true forgot keyboard repeat feature cache keyboard state update paddle movement according,issue,negative,positive,positive,positive,positive,positive
244805588,"Thanks a lot, I'll check it out.

> > Moving the bat continuously can be achieved by pressing the n/m button for a longer time.

No, you should not rely on the keyboard repeat feature. The keyboard repeat feature has a platform/OS-dependent delay built-in. It is not a good idea to rely on this at all.
One really easy solution is to cache the keyboard state yourself, and update it when the state _changes_.  Then move the bat by settings its velocity based on your cached keyboard state.

Make sure to control the bat (and other objects) using velocity, not directly setting the position.

Is that OK?
",thanks lot check moving bat continuously pressing button longer time rely keyboard repeat feature keyboard repeat feature delay good idea rely one really easy solution cache keyboard state update state move bat velocity based keyboard state make sure control bat velocity directly setting position,issue,positive,positive,positive,positive,positive,positive
244804807,"Hi Erwin,

I merged everything into one file and added some more game features to it (Bricks are put aside when hit and are put back when all of them are hit once.).

Moving the bat continuously can be achieved by pressing the n/m button for a longer time. That is not how I programmed it, but that is how I get the events from:

```
keyboardCallback(int key, int state) 
```

You can verify this by enabling the b3Printf() within the keyboardCallback. Then you see the prints as the events come in. It must be somewhere in the Example browser where this delay is added, probably because the buttons are mainly used for toggling functions in other examples.
",hi everything one file added game put aside hit put back hit moving bat continuously pressing button longer time get key state verify within see come must somewhere example browser delay added probably button mainly used,issue,negative,negative,neutral,neutral,negative,negative
244405542,"Yes, this is broken in the multibody version and not in the rigid body version. Thanks a lot for tracking this down and fixing it!
",yes broken version rigid body version thanks lot fixing,issue,negative,negative,neutral,neutral,negative,negative
244225466,"looks good to me, thanks for the work and pull request!
",good thanks work pull request,issue,positive,positive,positive,positive,positive,positive
243197050,"Thanks for the breakout game. There are many files added that are almost adding no functionality. 
1) Can you merge everything into a single cpp file (and the usual header) like other examples?
2) Moving the bat requires hiting the left/right keys many times, instead of maintaining the velocity until it hits the wall.
Aside from this, it would be a good example to merge.
Thanks!
",thanks breakout game many added almost merge everything single file usual header like moving bat many time instead velocity wall aside would good example merge thanks,issue,positive,positive,positive,positive,positive,positive
242922738,"I just realized that the two first patches have some portability issues. I will open a new pull request with just the last two fixes.
",two first portability open new pull request last two,issue,negative,positive,neutral,neutral,positive,positive
242828767,"LGTM. Thanks for the contribution. It would be also nice to expose it to pybullet, I'll look into it if I find time for it.
",thanks contribution would also nice expose look find time,issue,positive,positive,positive,positive,positive,positive
242649385,"Thanks Erwin for the comment, I will see if I can find anything wrong in it. As soon as I get it right, I will add something to the discussion on the forum. I will also contribute a pool example at some point, but about the VR physics server I have no idea how to use this, so I would need some instructions on how to use it. Is there already a good example in the browser and can I test it without VR (say lookaround with the mouse and move the hands if available with something else?). 
",thanks comment see find anything wrong soon get right add something discussion forum also contribute pool example point physic server idea use would need use already good example browser test without say mouse move available something else,issue,negative,positive,positive,positive,positive,positive
242587303,"Thanks for the contribution. It should be possible to get the right reflection in both breakout and pool games using Bullet. There are various subtle issues that can prevent it from working, I haven't looked at your demo yet, not at the forum discussion. It would be good to create some pool example as well, especially when using the VR / HTC Vive/Oculus Rift physics server!
",thanks contribution possible get right reflection breakout pool bullet various subtle prevent working yet forum discussion would good create pool example well especially rift physic server,issue,positive,positive,positive,positive,positive,positive
242586980,"Thanks. As there is no active development form our side, your contribution is welcome.
BTW, it would be good to create some kinematic character controller example, in the Bullet ExampleBrowser, or port the old demo.
",thanks active development form side contribution welcome would good create kinematic character controller example bullet port old,issue,positive,positive,positive,positive,positive,positive
242586738,"Great, looks good to me. Thanks for the contributions. I'll have a look at exposing this to pybullet.
",great good thanks look,issue,positive,positive,positive,positive,positive,positive
241625277,"That's great. Please give me feedback on anything that is missing from pybullet. Ideally you generate urdf or sdf files. Position/orientation for links is available in pybullet. Documentation is sorely missing but the source is pretty small, see pybullet.c. Actually, the synthetic camera rendering (renderImage API) runs on CPU using tinyrenderer, so it runs on clusters with tensorflow etc. I consider adding programmatic creation of objects, using .obj/.dae/.stl if needed, but wanted to keep the pybullet API simple for now, hence URDF/SDF support only.
",great please give feedback anything missing ideally generate link available documentation sorely missing source pretty small see actually synthetic camera rendering consider programmatic creation keep simple hence support,issue,positive,positive,positive,positive,positive,positive
241624913,"pybullet looks fantastic! I also agree that decoupling the API has advantages.

The functionality I thought was missing was:
- Programmatically creating the environment (think maze or non-level ground for walker). I might be able to build a sdf on the fly and then use the loadSDF.
- Ability to drive motors and get feed back. (I think was looking at version of pyBullet from 3 months ago, it has it now).
- Getting the pos/rot of all of the links in a multibody.  I was hoping to keep the physics simulation pure so it would be easy to distribute on a cluster for tensorflow training. I was going to have a ""peek"" rpc to send this information to a remote renderer (webgl).

I think for now I can close this pull request and move forward with pyBullet. 
",fantastic also agree functionality thought missing programmatically environment think maze ground walker might able build fly use ability drive get feed back think looking version ago getting link keep physic simulation pure would easy distribute cluster training going peek send information remote renderer think close pull request move forward,issue,positive,positive,positive,positive,positive,positive
241620240,"As you did is perfectly OK, submitting a pull request and discussing it here. And yes, it would be great to have an OpenAI gym connection. Have you considered trying out pybullet? 
My preference would be to extend pybullet with whatever is needed in a slightly more abstract way, so we can easily move to a new Bullet API without changing the Python API. But if you think this is not what you want/need, we can discuss it more here.
",perfectly pull request yes would great gym connection considered trying preference would extend whatever slightly abstract way easily move new bullet without python think discus,issue,positive,positive,positive,positive,positive,positive
241606007,"This is my first pull request; I'm not sure what the correct etiquette is (should I discuss changes on the forum first?). My goal with this change is to make it easier to create a new physics based openAI gym environment. Right now I don't have a license to mujoco, and would like to use Bullet instead. I figured if bullet was exposed at a low level, it would be easy for one to create environments and 'robots' completely in python. Next up would be wrapping the URDF loading and creating the openAI gym part.
",first pull request sure correct etiquette discus forum first goal change make easier create new physic based gym environment right license would like use bullet instead figured bullet exposed low level would easy one create completely python next would wrapping loading gym part,issue,positive,positive,positive,positive,positive,positive
241564815,"That is an interesting contribution, I didn't expect it :) I manually created pybullet as a higher level physics-engine agnostic Python API mainly for robotics (loading URDF/SDF, forward/inverse dynamics, render image etc). This Bullet 2.x specific swig wrapper may also be useful to some. I'll try it out soon and give some feedback. Thanks!
",interesting contribution expect manually higher level agnostic python mainly loading dynamic render image bullet specific swig wrapper may also useful try soon give feedback thanks,issue,positive,positive,positive,positive,positive,positive
240610411,"It it works for you, it works for me, the btKinematicCharacterController isn't actively being developed, and relies on contributions. Thanks!
",work work actively thanks,issue,positive,positive,positive,positive,positive,positive
240515345,"Here i wrote a simpler test that reproduces the behavior https://gist.github.com/ktfh/20a507e68b1effb8774298b9abcc6222
",wrote simpler test behavior,issue,negative,neutral,neutral,neutral,neutral,neutral
240487431,"> > a happy giraffe and massive panda

Haha, I'll have to look at those and fix things :-)

On 17 August 2016 at 10:07, k notifications@github.com wrote:

> I found that convex sweeps against a btBvhTriangleMeshShape work reliably
> and put off trying to resolve this. I think the problem starts in
> btGjkPairDetector.cpp, something to do with bad squaredDistance value, the
> seperatingAxis or the simplexSolver. Comments in the code reference this
> https://code.google.com/archive/p/bullet/issues/250 a happy giraffe and
> massive panda with identical problems, their solution is a degenerate case
> detection but i don't think it ever executes.
> 
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/596#issuecomment-240479016,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AAsR3MdK80iHqJTNIEPKcPNVvyheR44eks5qgz_KgaJpZM4IGzIs
> .
",happy giraffe massive panda look fix august wrote found convex work reliably put trying resolve think problem something bad value code reference happy giraffe massive panda identical solution degenerate case detection think ever reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
240479016,"I found that convex sweeps against a btBvhTriangleMeshShape work reliably and put off trying to resolve this. I think the problem starts in btGjkPairDetector.cpp, something to do with bad squaredDistance value, the seperatingAxis or the simplexSolver. Comments in the code reference this https://code.google.com/archive/p/bullet/issues/250 a happy giraffe and massive panda with identical problems, their solution is a degenerate case detection but i don't think it ever executes.
",found convex work reliably put trying resolve think problem something bad value code reference happy giraffe massive panda identical solution degenerate case detection think ever,issue,positive,positive,neutral,neutral,positive,positive
240382513,"I'm also having a similar problem with the convex sweep test.  It occasionally gives me a collision that appears to be offset incorrectly (from the normal) and the faster (greater distance between start and end) the ghost object the greater this offset can be.  It jumps much like ktfh has described and is too unpredictable to figure out a work around.  At first I thought it was a tunnelling problem, but after closer inspection I can see the collision sphere shape going up so high that my high speed 'thing' ends up missing the barrier.  My collision checking if happening within a loop, much like the the character controller class (it's a stripped down version).
",also similar problem convex sweep test occasionally collision offset incorrectly normal faster greater distance start end ghost object greater offset much like unpredictable figure work around first thought problem closer inspection see collision sphere shape going high high speed missing barrier collision happening within loop much like character controller class stripped version,issue,negative,positive,positive,positive,positive,positive
240212212,"I am afraid I don't know enough - but something to think about,

I think each collision, you either have friction, or reflection or both?

what is your surface friction like on your ball?

On Tue, Aug 16, 2016 at 11:05 AM, Benjamin Ellenberger <
notifications@github.com> wrote:

> Thanks for the insight, I could definitely fix it by doing a ray
> reflecting using the surface normal of the objects. But do you have any
> clue why it does not reflect correctly by default? I would like to get the
> correct surface reflections when having a rotating ball etc...
> 
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/724#issuecomment-240186865,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AG25WSpeRJt_6y80Zkys1haDQ0MEiZYNks5qgfvqgaJpZM4JZDTG
> .
",afraid know enough something think think collision either friction reflection surface friction like ball tue benjamin wrote thanks insight could definitely fix ray reflecting surface normal clue reflect correctly default would like get correct surface rotating ball reply directly view mute thread,issue,positive,negative,neutral,neutral,negative,negative
240186865,"Thanks for the insight, I could definitely fix it by doing a ray reflecting using the surface normal of the objects. But do you have any clue why it does not reflect correctly by default? I would like to get the correct surface reflections when having a rotating ball etc...
",thanks insight could definitely fix ray reflecting surface normal clue reflect correctly default would like get correct surface rotating ball,issue,positive,positive,positive,positive,positive,positive
240158741,"in blender for reflections of a ray I use
Vector = own.worldOrientation.col[2]
heading = Vector.reflect(surface)

however this only works with 1d objects

I think you need to calculate the normal of the average of the surface
defined by the collision contacts and then factor that in*

(in reality a sphere may  bounce  different then a cube depending on the
contact surface*)

On Tue, Aug 16, 2016 at 1:55 AM, Benjamin Ellenberger <
notifications@github.com> wrote:

> Nice. It compiles.
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/724#issuecomment-240043419,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AG25WaKwJT9wnTAVX3vfEFiJP_TYOBnnks5qgXscgaJpZM4JZDTG
> .
",blender ray use vector heading surface however work think need calculate normal average surface defined collision factor reality sphere may bounce different cube depending contact surface tue benjamin wrote nice thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
240149552,"Also of interest: there seems to be a typo in the enum name (BT_ENABLE_GYRO**P**SCOPIC_FORCE <-> BT_ENABLE_GYROSCOPIC_FORCE)
",also interest typo name,issue,negative,neutral,neutral,neutral,neutral,neutral
240071987,"@Erwin: I should have known that this might be one of your guys
contributing such a pull request :)

On Tue, Aug 16, 2016 at 12:57 PM erwincoumans notifications@github.com
wrote:

> btMultiBodyJointLimitConstraint is the name. It works for revolute and
> prismatic joints of btMultiBody.
> 
> spherical joints are not used in many of the robots, so we haven't
> prioritized them.
> 
> —
> You are receiving this because you were mentioned.
> 
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/739#issuecomment-240070509,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AC97qxTtl9k5zek7WtsZhrSU8PRCieSjks5qgZexgaJpZM4JkvFy
> .
",known might one pull request tue wrote name work revolute prismatic spherical used many reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
240070509,"btMultiBodyJointLimitConstraint is the name. It works for revolute and prismatic joints of btMultiBody.

spherical joints are not used in many of the robots, so we haven't prioritized them.
",name work revolute prismatic spherical used many,issue,negative,positive,positive,positive,positive,positive
240069915,"Thanks for the contribution, I'll look at it asap.

@benelot The btMultiBody joints already have limits, see the btMultiBodyJointLimit abd examples loading URDF and SDF in example browser.

PID for spherical joint would be nice indeed, we could sork on that later.
",thanks contribution look already see loading example browser spherical joint would nice indeed could later,issue,positive,positive,positive,positive,positive,positive
240045475,"Hi!Sounds like you know what you are doing! Would you be interested to add limits to the multibody joints as well? Also a quaternion PID is needed for the spherical joint. Just in case you would be interested to contribute :)
",hi like know would interested add well also quaternion spherical joint case would interested contribute,issue,positive,positive,positive,positive,positive,positive
240044246,"@BluePrintRandom: It probably could. The question is how to give it the animation pattern, but as soon as you have a network that performs it, you could definitely make it adapt to the environment. You could probably train a network to do so, but that it way beyond this example. Stay tuned, there are more such examples to come.
",probably could question give animation pattern soon network could definitely make adapt environment could probably train network way beyond example stay tuned come,issue,negative,neutral,neutral,neutral,neutral,neutral
239871009,"Fair enough. I don't understand fully how #735 helps me though sorry; if I've just instantiated bullet with `b3CreateInProcessPhysicsServerAndConnect` can I immediately set a new distance, pitch, yaw? Not sure what API to call....
",fair enough understand fully though sorry bullet immediately set new distance pitch yaw sure call,issue,negative,positive,positive,positive,positive,positive
239732239,"Sorry for the late response.

benelot:
The reason I chose to change btVector3 to btVector, is because the naming seams to be wrong in Bullet itself.
Bullet use btVector3 both for 3D and 4D vector. btVector4 derive btVector3, and it's bad, IMHO, for 2 reasons:
1. btVector4 is not btVector3 (against the IsA rule of inheritance)
2. Inheritance of such elementary type is one of the obstacles for C API

Therefore, the first thing I should have done is to change btVector3 to btVector, and then tell other classes(btVector3&btVector4) to derive from it.

If you see #130, it will be much more clear why I chose to do so. (also, see the next lines)

erwincoumans:
Personally, I don't know whether public and internal API distinction is good, but it shouldn't be the anyway related to the infrastructure for C API.

As you saw what I posted in #130, I claim that the strengths of Open Dynamic Engine(ODE) is full support of C API. I think that Bullet shouldn't create C API like they did(C only support), but more friendly C&C++ integration.

I think that the most important part for good C API is 100% same structs for C&C++ for **LinearMath**. In C++ however, those structs will have additional possibilities for development experience. (constructors, functions and operators)

For non LinearMath, the rules I proposed is much less stricter. The reason for that is that there classes usually represented as a pointer, and not by a value(unlike LinearMath).

Do you think Bullet can go that way, or the current aim is _low level C++& high level C_?
",sorry late response reason chose change naming wrong bullet bullet use vector derive bad rule inheritance inheritance elementary type one therefore first thing done change tell class derive see much clear chose also see next personally know whether public internal distinction good anyway related infrastructure saw posted claim open dynamic engine ode full support think bullet create like support friendly integration think important part good however additional development experience non much le reason class usually pointer value unlike think bullet go way current aim level high level,issue,positive,positive,neutral,neutral,positive,positive
239610307,"Ok, I will implement that strategy and see how this  goes:) For the evolution, it would be helpful to be able to remove btRigidbodies again from the simulation (evaluating spiders one by one needs removal of them after evaluation) and I know from a previous discussion with you that this is not possible in the example browser. Can this be integrated easily or is that very hard? I could try to do this if you point me into the right way.
",implement strategy see go evolution would helpful able remove simulation one one need removal evaluation know previous discussion possible example browser easily hard could try point right way,issue,positive,positive,neutral,neutral,positive,positive
239246816,"Each example initializes its preferred camera perspective, so it should not go through the command-line.
A recent change in separating the physics and rendering in separate threads introduced this issue.
Here is the fix: https://github.com/bulletphysics/bullet3/pull/735
",example preferred camera perspective go recent change separating physic rendering separate issue fix,issue,negative,neutral,neutral,neutral,neutral,neutral
238933649,"The GPU/OpenCL version hasn't been developed for a while, and it lacks GJK-EPA. The Bullet 2.x GJK-EPA should be able to operate in real-time for many scenarios.
Also: This is not a discussion forum, please visit http://bulletphysics.org or stackoverflow etc.
",version bullet able operate many also discussion forum please visit,issue,negative,positive,positive,positive,positive,positive
238933285,"This is not a discussion forum, please visit http://bulletphysics.org or stackoverflow etc.
",discussion forum please visit,issue,negative,neutral,neutral,neutral,neutral,neutral
238276382,"Let's close this issue, this is mainly for the C++ Bullet Physics Engine, not for ports to other languages.
",let close issue mainly bullet physic engine,issue,negative,positive,positive,positive,positive,positive
238275508,"I would check in the beginning if the spider body parts are overlapping, and remove/shrink the collision shapes until there is no overlap. It would be best to disable collisions between parts that are directly connected by a joint.

Some form of evolution would make it more interesting indeed. 
I also plan to create examples for various learning strategies (including Reinforcement Learning) using TensorFlow. Such examples can co-exist.
",would check beginning spider body collision overlap would best disable directly connected joint form evolution would make interesting indeed also plan create various learning reinforcement learning,issue,positive,positive,positive,positive,positive,positive
238273325,"The OpenCL is experimental, ignore it. Just use the Bullet 2.x API. I'll port the CollisionDemo/ConvexHullDistance to the Bullet Example Browser.
",experimental ignore use bullet port bullet example browser,issue,negative,positive,neutral,neutral,positive,positive
238146965,"Give this question an shot at bulletphysics.org forum, you receive answers
more quickly.

On Sun, Aug 7, 2016, 09:50 shomedas notifications@github.com wrote:

> How to do distance computations between two convex hulls(intersecting or
> non intersecting) in the opencl mode? Is GJK, EPA deprecated? I am looking
> for some application like the one in Demos/CollisionDemo OR in
> Demos/ConvexHullDistance
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/729, or mute the thread
> https://github.com/notifications/unsubscribe-auth/AC97q6ziVgZ7MQoJDAa2jqvNBkzjB11Vks5qdY45gaJpZM4JecsY
> .
",give question shot forum receive quickly sun wrote distance two convex non mode looking application like one thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
237770607,"Do you have a suggestion on how to detect geometry without overlap easily? Can I somehow detect if an overlap is resolvable or if it is resolved after some time? Or would you just check in the beginning if there are spider body intercollisions and just drop those? I need to improve this for my own simulator as well, that is why I want invest more time into this. (I could even drop rigidbodies when evolving creature bodies that cause collisions when added).
",suggestion detect geometry without overlap easily somehow detect overlap resolvable resolved time would check beginning spider body drop need improve simulator well want invest time could even drop creature cause added,issue,negative,positive,positive,positive,positive,positive
237769806,"Border.h:24:7: error: non-aggregate type 'vec3' cannot be initialized with an initializer list. Ok, I will fix this.
",error type list fix,issue,negative,neutral,neutral,neutral,neutral,neutral
237626421,"It is probably a bug,  ccd collisions need to be filterered the same as discrete collisions. A patch is welcome, otherwise I look at it once I find some time.
",probably bug need discrete patch welcome otherwise look find time,issue,negative,positive,positive,positive,positive,positive
237625704,"The gui sliders make it too easy to create spiders with overlapping geometry. Usually you disable collisions between bodies connected by constraints. You cannot create arbitrary large collision geometries that overlap and expect things to work. Yes, you can query contact points etc to detect overlap. If you want to evolve the geometry without overlap this would require more effort indeed.
",make easy create geometry usually disable connected create arbitrary large collision overlap expect work yes query contact detect overlap want evolve geometry without overlap would require effort indeed,issue,positive,positive,neutral,neutral,positive,positive
237455259,"ok, patch was applied to github, let's close issue.
",patch applied let close issue,issue,negative,neutral,neutral,neutral,neutral,neutral
237013045,"All I did was to add the few characters to the original patch you provided.

I made the changes to the bullet file manually rather than through an automated process.

[vecdiff.zip](https://github.com/bulletphysics/bullet3/files/397916/vecdiff.zip)
",add original patch provided made bullet file manually rather process,issue,negative,positive,positive,positive,positive,positive
237008100,"can you send a patch for that?

On Tuesday, 2 August 2016, cstoltz notifications@github.com wrote:

> I had to add a correction to one line
> 
> inline mat33 operator/(const mat33& a, const idScalar& s) { return a *
> (1.0 / s); }
> 
> as the semicolon and curly bracket were missing at the end. It does appear
> to have compiled. Thanks!
> 
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/540#issuecomment-237004651,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AAsR3Hb9T_AO8ydtntodqEVkmMISClV7ks5qb5HBgaJpZM4Gsv7a
> .
",send patch august wrote add correction one line mat mat return semicolon curly bracket missing end appear thanks reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
237004651,"I had to add a correction to one line 

inline mat33 operator/(const mat33& a, const idScalar& s) { return a \* (1.0 / s); }

as the semicolon and curly bracket were missing at the end.  It does appear to have compiled.  Thanks!
",add correction one line mat mat return semicolon curly bracket missing end appear thanks,issue,negative,neutral,neutral,neutral,neutral,neutral
237001495,"I cleared the gContactProcessedCallback on exiting physics. I tried something today, but failed a bit to detect the following: How to detect perpetually interpenetrating btRigidBodies? Meaning two rigidbodies that are constrained to be unable to ever resolve the interpenetration. Can I get some information from the contact points? Or would you propose another strategy?
",physic tried something today bit detect following detect perpetually meaning two constrained unable ever resolve interpenetration get information contact would propose another strategy,issue,negative,negative,negative,negative,negative,negative
236968935,"Can you test if attached patch works around your broken compiler issue?
[vecdiff.zip](https://github.com/bulletphysics/bullet3/files/397605/vecdiff.zip)

(unzip and patch -p1 <vec.diff in root of Bullet
",test attached patch work around broken compiler issue patch root bullet,issue,negative,negative,negative,negative,negative,negative
236967490,"You likely are using some buggy gcc compiler version, older and newer gcc versions probably work.
",likely buggy compiler version older probably work,issue,negative,positive,neutral,neutral,positive,positive
236964554,"Note that we were able to compile on a workstation with the following:
Cmake - 3.4.3
Make - GNU Make 4.0
G++ - gcc version 5.3.1

Guessing that I likely need a more recent version of make and/or g++ on the first machine???
",note able compile following make gnu make version guessing likely need recent version make first machine,issue,negative,positive,positive,positive,positive,positive
236919536,"I'm having the same problem.  My versions are below:

Red Hat Enterprise Linux 6.6
Cmake – 3.6.1
Make – GNU Make 3.81
G++ - gcc version 4.4.7 20120313 (Red Hat 4.4.7-11)

Could anyone offer any help?

Thanks
",problem red hat enterprise make gnu make version red hat could anyone offer help thanks,issue,negative,positive,neutral,neutral,positive,positive
236770973,"Can you set the gContactProcessedCallback back to 0, in exitPhysics?
Otherwise examples afterwards will crash (run BasicExample after NN3DWalkers to reproduce issue).

void NN3DWalkers::initPhysics()
{
    gContactProcessedCallback = legContactProcessedCallback;
",set back otherwise afterwards crash run reproduce issue void,issue,negative,neutral,neutral,neutral,neutral,neutral
236448476,"Very intresting!

Have you included an  'ear'/ horizon sensor in your bot? for 'feeling' it's
orientation?

Could an ai choose an ik animation to try to match with physics,  and thenb
choose how to deviate that ik pattern best for the environment?
",included horizon sensor bot orientation could ai choose animation try match physic choose deviate pattern best environment,issue,positive,positive,positive,positive,positive,positive
236446535,"That's great, thanks for the contribution(s). I'll have a look at it as soon as possible.
",great thanks contribution look soon possible,issue,positive,positive,positive,positive,positive,positive
236434338,"In the future, I intend to create a TimeWarp Base or similar to make it easy to implement examples with the ability to change different settings (simplifies the search for a stable configuration of a certain simulation.)
",future intend create base similar make easy implement ability change different search stable configuration certain simulation,issue,positive,negative,neutral,neutral,negative,negative
236062234,"Yes, that should be fixed indeed, thanks!
",yes fixed indeed thanks,issue,positive,positive,positive,positive,positive,positive
236013947,"Thanks for the contribution. As there hasn't been any development in this area, I'll accept it. It would be great if we can port the old CharacterDemo into the new Example Browser structure. If you have any time for that, it would be appreciated!
",thanks contribution development area accept would great port old new example browser structure time would,issue,positive,positive,positive,positive,positive,positive
236008707,"Sorry for the late response (in the middle of a move). I created the pull request for the character controller, hope it's ok. I've been sitting on this for quite a while now and am still a bit reluctant to push the code, because it feels like I'm building hacks on hacks that were already present in the controller. It is not very clean code, and I guess I kindof beat it into submission, so it fits my needs better. I still intend to rewrite the entire controller, but I'm not sure when I'll get around to it, it might take a while. Anyway, I explained my intend of the controller in the pull request, hope it helps.
",sorry late response middle move pull request character controller hope sitting quite still bit reluctant push code like building already present controller clean code guess beat submission need better still intend rewrite entire controller sure get around might take anyway intend controller pull request hope,issue,positive,positive,neutral,neutral,positive,positive
235435409,"Thanks for the help, and hopefully we sort out this named arguments stuff soon!
",thanks help hopefully sort stuff soon,issue,positive,positive,positive,positive,positive,positive
235428744,"The default kd when using CONTROL_MODE_VELOCITY should be 1.0, not 0.1, when not specified. 

It is not due to this pull request, but there is an issue with defaults values not overridden by the user. When the user does NOT explicitly override the kd/kp values, pybullet should not come up with some default, but it should NOT call the function to override it. That way, the defaults are maintained in one place, in the C-API. So we need to fix that soon. 
",default due pull request issue user user explicitly override come default call function override way one place need fix soon,issue,negative,negative,negative,negative,negative,negative
235370542,"Once we introduce named arguments, we can get rid of a lot of clutter that check for the number of args etc. It will break the API though, but at this still it is still under construction anyway.
",introduce get rid lot clutter check number break though still still construction anyway,issue,negative,neutral,neutral,neutral,neutral,neutral
235370220,"ah yes, true. following the c-api is an important point that had slipped my mind...
",ah yes true following important point slipped mind,issue,positive,positive,positive,positive,positive,positive
235368047,"This is mainly a documentation issue: pybullet follows the underlying C-API. Arguments that are not applicable for a certain mode are ignored. It is possible to protect the user, report errors/warnings and add convenience functions in object-oriented wrappers around pybullet,
",mainly documentation issue underlying applicable certain mode possible protect user report add convenience around,issue,positive,positive,positive,positive,positive,positive
235365086,"i think the trouble is it's more than named args with sensible defaults; some args just aren't applicable to some control modes.... e.g. CONTROL_MODE_TORQUE only uses the target & doesn't care about max force, kd or kp.
",think trouble sensible applicable control target care force,issue,negative,negative,negative,negative,negative,negative
235362439,"Thanks for the patch, I'll look at it.
 //TODO(matkelcey): should this just be three methods?
One idea is to use optional named arguments rather than additional methods.
",thanks patch look three one idea use optional rather additional,issue,negative,positive,positive,positive,positive,positive
235057588,"are you making a walking radoll rig inside bullet :D

On Mon, Jul 25, 2016 at 12:02 AM, erwincoumans notifications@github.com
wrote:

> Merged #715 https://github.com/bulletphysics/bullet3/pull/715.
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/715#event-733133170, or mute
> the thread
> https://github.com/notifications/unsubscribe-auth/AG25WTrSQOLSdLkvaniK1qw_12j5fZjcks5qZF-jgaJpZM4JTzBG
> .
",making walking rig inside bullet mon wrote thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
234749081,"https://www.youtube.com/watch?v=IUAGqXMivd4

On Sat, Jul 23, 2016 at 5:29 PM, Jacob Merrill blueprintrandom1@gmail.com
wrote:

> http://www.pasteall.org/blend/42836 - this is the same system but without
> adding force impulses per step to compensate for not being able to scale
> friction past 100 on feet and floor.
> 
> for blender 2.77
> 
> Space = kill ragdoll (start revive timer)
> 
> WASD
> 
> On Sat, Jul 23, 2016 at 5:24 PM, Jacob Merrill <blueprintrandom1@gmail.com
> 
> > wrote:
> > 
> > I actually already have made walking ragdolls :D
> > 
> > I use Ik - and attempt to match a animation, but I can devaiate the
> > animation angle, height, and speed, and length
> > 
> > however I can't get enough friction from the feet
> > https://www.youtube.com/watch?v=BONoJs_0JAY
> > 
> > On Sat, Jul 23, 2016 at 4:12 PM, erwincoumans notifications@github.com
> > wrote:
> > 
> > > Let's first have walking ragdolls in Bullet. Using TensorFlow and some
> > > reinforcement learning this could be done in the future. Once that is done,
> > > someone can be paid to integrate it into Blender.
> > > Not now.
> > > 
> > > —
> > > You are receiving this because you authored the thread.
> > > Reply to this email directly, view it on GitHub
> > > https://github.com/bulletphysics/bullet3/issues/714#issuecomment-234746141,
> > > or mute the thread
> > > https://github.com/notifications/unsubscribe-auth/AG25We_Unrgaxdru4-r4WXTlkFVUPmJaks5qYp_PgaJpZM4JTS7L
> > > .
",sat wrote system without force per step compensate able scale friction past floor blender space kill start revive timer sat wrote actually already made walking use attempt match animation animation angle height speed length however ca get enough friction sat wrote let first walking bullet reinforcement learning could done future done someone integrate blender thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
234749060,"http://www.pasteall.org/blend/42836 - this is the same system but without
adding force impulses per step to compensate for not being able to scale
friction past 100 on feet and floor.

for blender 2.77

Space = kill ragdoll (start revive timer)

WASD

On Sat, Jul 23, 2016 at 5:24 PM, Jacob Merrill blueprintrandom1@gmail.com
wrote:

> I actually already have made walking ragdolls :D
> 
> I use Ik - and attempt to match a animation, but I can devaiate the
> animation angle, height, and speed, and length
> 
> however I can't get enough friction from the feet
> https://www.youtube.com/watch?v=BONoJs_0JAY
> 
> On Sat, Jul 23, 2016 at 4:12 PM, erwincoumans notifications@github.com
> wrote:
> 
> > Let's first have walking ragdolls in Bullet. Using TensorFlow and some
> > reinforcement learning this could be done in the future. Once that is done,
> > someone can be paid to integrate it into Blender.
> > Not now.
> > 
> > —
> > You are receiving this because you authored the thread.
> > Reply to this email directly, view it on GitHub
> > https://github.com/bulletphysics/bullet3/issues/714#issuecomment-234746141,
> > or mute the thread
> > https://github.com/notifications/unsubscribe-auth/AG25We_Unrgaxdru4-r4WXTlkFVUPmJaks5qYp_PgaJpZM4JTS7L
> > .
",system without force per step compensate able scale friction past floor blender space kill start revive timer sat wrote actually already made walking use attempt match animation animation angle height speed length however ca get enough friction sat wrote let first walking bullet reinforcement learning could done future done someone integrate blender thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
234748864,"I actually already have made walking ragdolls :D

I use Ik - and attempt to match a animation, but I can devaiate the
animation angle, height, and speed, and length

however I can't get enough friction from the feet
https://www.youtube.com/watch?v=BONoJs_0JAY

On Sat, Jul 23, 2016 at 4:12 PM, erwincoumans notifications@github.com
wrote:

> Let's first have walking ragdolls in Bullet. Using TensorFlow and some
> reinforcement learning this could be done in the future. Once that is done,
> someone can be paid to integrate it into Blender.
> Not now.
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/714#issuecomment-234746141,
> or mute the thread
> https://github.com/notifications/unsubscribe-auth/AG25We_Unrgaxdru4-r4WXTlkFVUPmJaks5qYp_PgaJpZM4JTS7L
> .
",actually already made walking use attempt match animation animation angle height speed length however ca get enough friction sat wrote let first walking bullet reinforcement learning could done future done someone integrate blender thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
234746141,"Let's first have walking ragdolls in Bullet. Using TensorFlow and some reinforcement learning this could be done in the future. Once that is done, someone can be paid to integrate it into Blender.
Not now.
",let first walking bullet reinforcement learning could done future done someone integrate blender,issue,negative,positive,positive,positive,positive,positive
234745502,"the blender 2.8 project seems well funded, and bullet advancements would make blender better for everyone.

Maybe a coder could be paid to do it?
",blender project well funded bullet would make blender better everyone maybe coder could,issue,positive,positive,positive,positive,positive,positive
234743893,"Can I get a castle, private beach and a few unicorns and tons of Pokemon Go's for my kids?
",get castle private beach go,issue,negative,neutral,neutral,neutral,neutral,neutral
234668660,"Never mind, found out Bullet won't touch C++11 any time soon.
",never mind found bullet wo touch time soon,issue,negative,neutral,neutral,neutral,neutral,neutral
234419822,"good point, thanks for the fix.
",good point thanks fix,issue,positive,positive,positive,positive,positive,positive
233249120,"Thanks again! The unsigned/signed int is a can of worms, that was introduced by size_t. I prefer to keep signed int wherever possible, and not convert things to unsigned int. I'll have a look at it later.
",thanks prefer keep wherever possible convert unsigned look later,issue,negative,positive,neutral,neutral,positive,positive
233226756,"Thanks for the feedback, that is a good point. I'll fix it right now.
",thanks feedback good point fix right,issue,positive,positive,positive,positive,positive,positive
232510870,"thanks for the pull request and trying out the 'flip' :-)
",thanks pull request trying,issue,negative,positive,positive,positive,positive,positive
232428375,"I will see what I can do. I have made so many other changes I am not sure the pull would go well at this point.
",see made many sure pull would go well point,issue,positive,positive,positive,positive,positive,positive
231939186,"Thanks for the work on this. Once I play with the Newton Cradles, the becomes a disorganized big mess immediately. What I meant was: remove all the sliders and at start-up let 1 ball on the outside start from mid-air, so it bounces to the others, without user-interaction. Anyway, let's just merge the pull request and improve it later. Thanks!
",thanks work play newton becomes big mess immediately meant remove let ball outside start without anyway let merge pull request improve later thanks,issue,positive,positive,neutral,neutral,positive,positive
231915104,"I check first thing tomorrow!

On Mon, Jul 11, 2016, 12:51 erwincoumans notifications@github.com wrote:

> Heh, the btAlignedObjectArray<> is a small subset of std::vector, no
> kitchen-sink features.
> Does my patch work for you?
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/692#issuecomment-231844536,
> or mute the thread
> https://github.com/notifications/unsubscribe/AABULVCDtmxhc_SvrlxB7x6C4ellHJCoks5qUp6ugaJpZM4JJkA0
> .
",check first thing tomorrow mon wrote small subset patch work thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
231911279,"Sure, done, a noisy commit history is fine.
",sure done noisy commit history fine,issue,positive,positive,positive,positive,positive,positive
231891809,"I prefer it could be merged now, if you do not mind such kind of commits will make the history a bit noisy.
",prefer could mind kind make history bit noisy,issue,negative,positive,positive,positive,positive,positive
231887335,"Did you succeed in making a branch for pull requesting? Otherwise, send me
the changed files and I will merge them in.

On Sat, Jul 2, 2016, 13:29 Benjamin Ellenberger be.ellenberger@gmail.com
wrote:

> Hi,
> 
> I am happy you created the fix for it. The problem why you get the 403 is
> that you try to push to the original repository. What you have to do
> instead is to fork the repository, then apply your changes in a branch as
> you did and then push this branch to your forked repository. Then you can
> click the create pull request on your forked repository to publish the
> content of the branch to the bulletphysics/bullet3 repo.
> 
> About your changes of the kinematic character controller: You can easily
> put them into another branch and create a pull request for it, as long as
> your code is clean and you can explain your changes reasonably, you can
> definitely discuss them with Erwin Coumans (owner of bullet physics repo).
> Also, the pull requested branch is not final at this point. On github, it
> can then be discussed on the page and everything you commit to the branch
> afterwards will be automatically included in the pull request.
> 
> On Sat, Jul 2, 2016, 12:31 MiCroN3000 notifications@github.com wrote:
> 
> > Hi, I'm trying to push a branch that contains this fix so i can create a
> > pull request for it. But I'm getting a 403, permission denied, for good
> > reason I guess as I am not a contributor to this project. Can you help me
> > with this? I would love to contribute here.
> > 
> > On a different note, I have also been working on (more like hacking) the
> > kinematic character controller of Bullet. I don't know of it is interesting
> > enough to contribute that one already, but I do intend to rewrite the thing
> > completely, not sure when I'll find the time but I intend to make that
> > happen at some point :)
> > 
> > —
> > You are receiving this because you commented.
> > 
> > Reply to this email directly, view it on GitHub
> > https://github.com/bulletphysics/bullet3/issues/125#issuecomment-230095167,
> > or mute the thread
> > https://github.com/notifications/unsubscribe/AC97qw0a-7MoxSTOIcF_6meMQZywqk6jks5qRj4SgaJpZM4BuFbq
> > .
",succeed making branch pull otherwise send merge sat benjamin wrote hi happy fix problem get try push original repository instead fork repository apply branch push branch forked repository click create pull request forked repository publish content branch kinematic character controller easily put another branch create pull request long code clean explain reasonably definitely discus owner bullet physic also pull branch final point page everything commit branch afterwards automatically included pull request sat micron wrote hi trying push branch fix create pull request getting permission good reason guess contributor project help would love contribute different note also working like hacking kinematic character controller bullet know interesting enough contribute one already intend rewrite thing completely sure find time intend make happen point reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
231885632,"@MrVallentin: This is pretty much the only place to ask this (apart from private mail), since it is cutting edge code, entirely related to the example browser, making it easiest to ask Erwin. And here is basically Erwin's door to ring.

@Erwin: ok, that means my breakout game example will have to truncate the blocks that are hit in some way you described. Thanks.
",pretty much place ask apart private mail since cutting edge code entirely related example browser making easiest ask basically door ring breakout game example truncate hit way thanks,issue,positive,negative,neutral,neutral,negative,negative
231872234,"Fixed and improved! :) Anything else?  I additionally intend to make a CommonSoftBodyBase.h to simplify the creation of softbody examples. What do you think about this?
",fixed anything else additionally intend make simplify creation think,issue,negative,positive,neutral,neutral,positive,positive
231844536,"Heh, the btAlignedObjectArray<> is a small subset of std::vector, no kitchen-sink features.
Does my patch work for you?
",small subset patch work,issue,negative,negative,negative,negative,negative,negative
231831389,"haha. not an interview question. was thinking that would be likely already be available in some helper function i didn't know about, but i guess not then :)
",interview question thinking would likely already available helper function know guess,issue,negative,positive,positive,positive,positive,positive
231807448,"Thanks for working on this. It breaks the Windows build, using premake. Missing files in premake (fixed by attached patch) and parameters such as btVector3/btQuaternion needs to be passed as const reference, not by value (it causes SIMD alignnment errors on Windows).

 I need to figure out how to re-enable premake builds, in addition to cmake builds in 

Aside from that, it would be great if there is a way to activate the Newton cradles by GUI or just at the start. Not a showshopper though :-)
[premake.zip](https://github.com/bulletphysics/bullet3/files/357677/premake.zip)
",thanks working build premake missing premake fixed attached patch need reference value need figure premake addition aside would great way activate newton start though,issue,positive,positive,positive,positive,positive,positive
231804393,"Is that an interview question? Attached is my untested whiteboard implementation, please test :-)

[swap_depth.zip](https://github.com/bulletphysics/bullet3/files/357655/swap_depth.zip)
",interview question attached untested implementation please test,issue,negative,neutral,neutral,neutral,neutral,neutral
231793506,"I would like to move away from the Bullet 2.x API, and create a new C-API that is more physics-engine agnostic. At the moment, Bullet 2.x doesn't make a difference between public API and internal API, and for a new API I rather start high-level. See the new b3RobotSimAPI.h
https://github.com/erwincoumans/bullet3/blob/master/examples/RoboticsLearning/b3RobotSimAPI.h
This wraps the https://github.com/erwincoumans/bullet3/blob/master/examples/SharedMemory/PhysicsClientC_API.h
",would like move away bullet create new agnostic moment bullet make difference public internal new rather start see new,issue,positive,positive,neutral,neutral,positive,positive
231792616,"Thanks again! Do you want me to merge this now, or wait until [WIP] status is gone?
",thanks want merge wait status gone,issue,negative,positive,positive,positive,positive,positive
231738273,"Yeah, that's what I meant with ""enough motion"", going over the threshold so it actually starts using CCD.
",yeah meant enough motion going threshold actually,issue,negative,neutral,neutral,neutral,neutral,neutral
231717370,"I am not sure if I am correct, but I remember having read that CCD only triggers with at a higher velocity than a certain threshold. Therefore, slowly moving objects are not handled with CDD. That is all I know, maybe it helps you already.
",sure correct remember read higher velocity certain threshold therefore slowly moving handled know maybe already,issue,positive,positive,positive,positive,positive,positive
231658854,"Thanks for the help. I'd like to remove all warning before the next release, so all bits help.
",thanks help like remove warning next release help,issue,positive,positive,neutral,neutral,positive,positive
231557615,"Alright thanks for taking the time to look at this.
",alright thanks taking time look,issue,positive,positive,positive,positive,positive,positive
231557529,"This is about aligning a pointer to 4-byte boundary, after serialization. Bullet already has a helper for this, but this very old code hasn't been updated. I did this in my current work-in-progress, so you can close this pull request. FYI:

remove these blocks
{
        nr= (long)cp;
    //  long mask=3;
        nr= ((nr+3)&~3)-nr;
        while (nr--)
        {
            cp++;
        }
    }

by this line
cp = btAlignPointer(cp,4);
(or cp = b3AlignPointer(cp,4); for newer Bullet 3 code (which is not used by most yet)
",pointer boundary serialization bullet already helper old code current close pull request remove long long line bullet code used yet,issue,negative,neutral,neutral,neutral,neutral,neutral
231556548,"http://stackoverflow.com/questions/21574449/why-is-cast-from-x-to-y-loses-precision-a-hard-error-and-what-is-suitable
This article may be helpful, the issue is I am pretty sure you would lose more precision if you were to convert it into an intptr_t but it may lead us in the right direction
",article may helpful issue pretty sure would lose precision convert may lead u right direction,issue,positive,positive,positive,positive,positive,positive
231556483,"Alright, I am also going to look around for a solution to this.
",alright also going look around solution,issue,positive,neutral,neutral,neutral,neutral,neutral
231556420,"I already realized this and removed this comment. Please hold on, I'll have a look at it.
",already removed comment please hold look,issue,negative,neutral,neutral,neutral,neutral,neutral
231556370,"No, this version is fresh off of the current master (notice the (long) instead of the atol), my modified version actually reports no errors at all whenever it is finished compiling however I noticed the Example Browser did not run correctly after compilation
",version fresh current master notice long instead version actually whenever finished however example browser run correctly compilation,issue,negative,positive,neutral,neutral,positive,positive
231556107,"![selection_042](https://cloud.githubusercontent.com/assets/12195202/16710318/eb3b0f4a-45de-11e6-9104-fb839e4b1518.png)
Here is the error I am receiving with an untouched version of Bullet
",error untouched version bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
231556052,"Alright I did not figure this would break the code so good thing you caught that. I was hoping that would work since that is the only visible barrier to supporting GCC on windows, let me see what I can come up with
",alright figure would break code good thing caught would work since visible barrier supporting let see come,issue,positive,positive,positive,positive,positive,positive
231555969,"Unsurprisingly, the tests fail, a long cast is not the same as atol.
char\* cp = ""1"";
long nr = (long)cp;//nr != 1
long nr2 = atol(cp);//nr = 1

On Windows, MinGW is not supported/tested, only Visual Studio is, but if you have a better fix, I consider applying it.
",fail long cast long long long visual studio better fix consider,issue,negative,negative,neutral,neutral,negative,negative
231555490,"I made no changes to the build system, so the compiler is as strict as it is by default.
I am compiling on Windows 10
I am using the Mingw-w64 compiler which can be found here
http://mingw-w64.org/doku.php
The version is 4.0, but it uses GCC 5.3 I believe
",made build system compiler strict default compiler found version believe,issue,negative,neutral,neutral,neutral,neutral,neutral
231555380,"a cast is totally different from a string to long conversion, this will break the code.

What compiler+version generates errors? Or did you force the compiler to treat warnings to errors?
What kind of error, please copy/paste.
",cast totally different string long conversion break code force compiler treat kind error please,issue,positive,positive,positive,positive,positive,positive
231554831,"You cannot remove individual graphics instances, there is only the option to remove _all_ graphics instances at the end of the example/program. This simplifies the renderer.
As an alternative, in my upcoming Pull request you can scale down the graphics instance to zero, so it will be invisible. I just add this new API: CommonRenderInterface::writeSingleInstanceScaleToCPU

```
    int gfxIndex = collisionObject->getUserIndex();
    float scale[3] = {0,0,0};
    m_guiHelper->getRenderInterface()->writeSingleInstanceScaleToCPU(scale,gfxIndex);
    collisionObject->setUserIndex(-1);
```

Obviously, you will ultimately run out of memory/instances, if you add/remove in a loop, so don't do that.
",remove individual graphic option remove graphic end renderer alternative upcoming pull request scale graphic instance zero invisible add new float scale scale obviously ultimately run loop,issue,negative,positive,neutral,neutral,positive,positive
231536879,"I wouldn't call this an issue that suits being here. Did you try [Stack Overflow](http://stackoverflow.com/questions/tagged/bulletphysics) or the [Bullet physics forum](http://www.bulletphysics.org/Bullet/phpBB3/)?
",would call issue try stack overflow bullet physic forum,issue,negative,neutral,neutral,neutral,neutral,neutral
231502037,"ah, didn't think of people cross-compiling windows executables. ok, then, let's apply it.
Thanks for the fix!
",ah think people let apply thanks fix,issue,negative,positive,positive,positive,positive,positive
231495966,"We could fix this, but it makes me curious why you bother?
Is there a case sensitive windows compiler?
",could fix curious bother case sensitive compiler,issue,negative,neutral,neutral,neutral,neutral,neutral
231200672,"Ah, thanks Mat! Will fix in subsequent pull req!
",ah thanks mat fix subsequent pull,issue,negative,positive,neutral,neutral,positive,positive
231187814,"Thanks for the contribution, this API makes it much easier to render an image, without having to worry how to assemble the view and projection matrices.
",thanks contribution much easier render image without worry assemble view projection matrix,issue,positive,positive,positive,positive,positive,positive
230739269,"Why is one of the major contributions of this pull request that you rename the btVector3 to btVector? That sounds somewhat arbitrary if not less descriptive.
",one major pull request rename somewhat arbitrary le descriptive,issue,negative,negative,neutral,neutral,negative,negative
230738561,"Any comments on this? I would be happy to have my first contribution pulled in.
",would happy first contribution,issue,positive,positive,positive,positive,positive,positive
230350405,"No problem, thanks for patching it and thanks for the explanation, I'll try to get the character controller in a pull request.
",problem thanks thanks explanation try get character controller pull request,issue,negative,positive,positive,positive,positive,positive
230149846,"No problem, at least I know now why some of my issues occurred such as some
objects disappearing from screen. The errors were funny.

On Sun, Jul 3, 2016, 03:55 erwincoumans notifications@github.com wrote:

> By the way, I'll have a look how much work it is to refactor the examples
> to not hijack the user index and get back here.
> 
> —
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/681#issuecomment-230130852,
> or mute the thread
> https://github.com/notifications/unsubscribe/AC97q3j_0Si6cMeDUtPJQyFlI596Ego1ks5qRxZ_gaJpZM4JDsUb
> .
",problem least know disappearing screen funny sun wrote way look much work hijack user index get back thread reply directly view mute thread,issue,negative,positive,neutral,neutral,positive,positive
230149708,"Erwin, can you send me the spreadsheet you told me about where you keep
notes on the porting of the old demos? I am happy to port them during some
time of boredom. And I am confused which are the ones that still need
porting, I think the names are not the same anymore.

On Sat, Jul 2, 2016, 19:25 erwincoumans notifications@github.com wrote:

> Thanks for the report! By the way, your game is looking great! It would be
> fun to play this in VR on the Oculus Rift/HTC Vive. Have you checked out
> the OpenVR SDK from Valve? I started playing with this in Bullet recently.
> 
> The InternalEdgeUtility was created to help fixing this, have you tried
> it? I noticed the old Demo to use it is not converted to the new Bullet
> Example Browser yet, here it is:
> 
> https://github.com/bulletphysics/bullet3/tree/old_demos/Demos/InternalEdgeDemo
> 
> This behavior may not always be what the user wants, to it would be good
> to have some option/flag to enable/disable it.
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/676#issuecomment-230112847,
> or mute the thread
> https://github.com/notifications/unsubscribe/AC97qyVSxj9Rx71mMXxAjaP6iMNA3E2Uks5qRp8AgaJpZM4JAvHo
> .
",send told keep old demo happy port time boredom confused still need think sat wrote thanks report way game looking great would fun play oculus vive checked valve bullet recently help fixing tried old use converted new bullet example browser yet behavior may always user would good thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
230149576,"I thought so too when I looked at the changes. The names of the classes
sound better.

@winduptoy In case you do not know how to append to this pull request, just push more commits to the same branch you committed before, that will append the fix.

On Sat, Jul 2, 2016, 19:14 erwincoumans notifications@github.com wrote:

> ""UniformScaling"" doesn't make much sense, without the 'Shape' part.
> Once we start changing it like this, I'd rather have the original C++
> class name.
> btCapsuleShape, btBoxShape, btSphereShape, btUniformScalingShape.
> How about that?
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/678#issuecomment-230112347,
> or mute the thread
> https://github.com/notifications/unsubscribe/AC97q11dqRwwT01_Ywm0TOAaxJsgKnTrks5qRpyOgaJpZM4JBtWy
> .
",thought class sound better case know append pull request push branch append fix sat wrote make much sense without part start like rather original class name thread reply directly view mute thread,issue,negative,positive,positive,positive,positive,positive
230130852,"By the way, I'll have a look how much work it is to refactor the examples to not hijack the user index and get back here.
",way look much work hijack user index get back,issue,negative,positive,neutral,neutral,positive,positive
230112847,"Thanks for the report! By the way, your game is looking great! It would be fun to play this in VR on the Oculus Rift/HTC Vive. Have you checked out the OpenVR SDK from Valve? I started playing with this in Bullet recently.

The InternalEdgeUtility was created to help fixing this, have you tried it? I noticed the old Demo to use it is not converted to the new Bullet Example Browser yet, here it is:
https://github.com/bulletphysics/bullet3/tree/old_demos/Demos/InternalEdgeDemo

This behavior may not always be what the user wants, to it would be good to have some option/flag to enable/disable it.
",thanks report way game looking great would fun play oculus vive checked valve bullet recently help fixing tried old use converted new bullet example browser yet behavior may always user would good,issue,positive,positive,positive,positive,positive,positive
230112347,"""UniformScaling"" doesn't make much sense, without the 'Shape' part.
Once we start changing it like this, I'd rather have the original C++ class name.
btCapsuleShape, btBoxShape, btSphereShape, btUniformScalingShape.
How about that? Or would that be too complex/long for users of your GUI?
",make much sense without part start like rather original class name would,issue,negative,positive,positive,positive,positive,positive
230112135,"Patch is in this pull request, will be applied asap:
https://github.com/bulletphysics/bullet3/pull/680
Thanks a lot for the reminder!
",patch pull request applied thanks lot reminder,issue,negative,positive,positive,positive,positive,positive
230111809,"I'm not using or testing pkg-config and accept your contribution. Let's hope it converges to what most people want.
",testing accept contribution let hope people want,issue,positive,neutral,neutral,neutral,neutral,neutral
230109808,"The user index is used in the ExampleBrowser itself at the moment, to link graphics to physics indices.
It would require a little bit of refactoring to remove this use of user index. While introducing the TinyRenderer as an option, it uses its own data structure to maintain this mapping, we could do the same for the OpenGL 'InstancingRenderer'.
",user index used moment link graphic physic index would require little bit remove use user index option data structure maintain could,issue,negative,negative,neutral,neutral,negative,negative
230097350,"Hi,

I am happy you created the fix for it. The problem why you get the 403 is
that you try to push to the original repository. What you have to do
instead is to fork the repository, then apply your changes in a branch as
you did and then push this branch to your forked repository. Then you can
click the create pull request on your forked repository to publish the
content of the branch to the bulletphysics/bullet3 repo.

About your changes of the kinematic character controller: You can easily
put them into another branch and create a pull request for it, as long as
your code is clean and you can explain your changes reasonably, you can
definitely discuss them with Erwin Coumans (owner of bullet physics repo).
Also, the pull requested branch is not final at this point. On github, it
can then be discussed on the page and everything you commit to the branch
afterwards will be automatically included in the pull request.

On Sat, Jul 2, 2016, 12:31 MiCroN3000 notifications@github.com wrote:

> Hi, I'm trying to push a branch that contains this fix so i can create a
> pull request for it. But I'm getting a 403, permission denied, for good
> reason I guess as I am not a contributor to this project. Can you help me
> with this? I would love to contribute here.
> 
> On a different note, I have also been working on (more like hacking) the
> kinematic character controller of Bullet. I don't know of it is interesting
> enough to contribute that one already, but I do intend to rewrite the thing
> completely, not sure when I'll find the time but I intend to make that
> happen at some point :)
> 
> —
> You are receiving this because you commented.
> 
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/125#issuecomment-230095167,
> or mute the thread
> https://github.com/notifications/unsubscribe/AC97qw0a-7MoxSTOIcF_6meMQZywqk6jks5qRj4SgaJpZM4BuFbq
> .
",hi happy fix problem get try push original repository instead fork repository apply branch push branch forked repository click create pull request forked repository publish content branch kinematic character controller easily put another branch create pull request long code clean explain reasonably definitely discus owner bullet physic also pull branch final point page everything commit branch afterwards automatically included pull request sat micron wrote hi trying push branch fix create pull request getting permission good reason guess contributor project help would love contribute different note also working like hacking kinematic character controller bullet know interesting enough contribute one already intend rewrite thing completely sure find time intend make happen point reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
230095167,"Hi, I'm trying to push a branch that contains this fix so i can create a pull request for it. But I'm getting a 403, permission denied, for good reason I guess as I am not a contributor to this project. Can you help me with this? I would love to contribute here. 

On a different note, I have also been working on (more like hacking) the kinematic character controller of Bullet. I don't know of it is interesting enough to contribute that one already, but I do intend to rewrite the thing completely, not sure when I'll find the time but I intend to make that happen at some point :)
",hi trying push branch fix create pull request getting permission good reason guess contributor project help would love contribute different note also working like hacking kinematic character controller bullet know interesting enough contribute one already intend rewrite thing completely sure find time intend make happen point,issue,positive,positive,positive,positive,positive,positive
229467561,"The caps-lock key could have been stuck :-) If it bothers you, just send a pull request and we fix it, and cross the fingers no-one relies on the capitalization of the ""SPHERE"" (they should use getShapeType() instead).
",key could stuck send pull request fix cross capitalization sphere use instead,issue,negative,neutral,neutral,neutral,neutral,neutral
229272939,"Oops - slightly wrong link for my patch, better look at:
https://github.com/supertuxkart/stk-code/compare/14a6f20f5b60972604e0eee0de2dbb94b2fd6efe...431ed63da2e1eedf47fc8b53755d6a21f163c8c7
",slightly wrong link patch better look,issue,negative,neutral,neutral,neutral,neutral,neutral
228928497,"I see my problem is that custom behaviors that apply force in the pre tick callback are executed an arbitrary number of times with a variable time step, applyGravity and clearForces are only executed once. I can work around this by making my pre tick callback clearForces then applyGravity then do its thing like btRigidBody->applyForce(customForce, position). I thought it would be more elegant if stepSimulation executed applyGravity and clearForces for each simulation sub step though. It would eliminate one way of screwing up when implementing a variable time step.
",see problem custom apply force tick executed arbitrary number time variable time step executed work around making tick thing like position thought would elegant executed simulation sub step though would eliminate one way screwing variable time step,issue,negative,positive,positive,positive,positive,positive
228905066,"The gravity force is added before all the substeps, and the force remains active over all substeps. After the substeps, all forces are cleared. This should work fine. If you prefer, you can also set the gravity to zero, and manually apply external forces in the internal pretick callback. No bug/change is necessary in the API, so let's close the issue.
",gravity force added force remains active work fine prefer also set gravity zero manually apply external internal necessary let close issue,issue,positive,positive,neutral,neutral,positive,positive
228904435,"Better use the forums at http://bulletphysics.org, and use previous suggestion to track down the issue.
",better use use previous suggestion track issue,issue,negative,positive,positive,positive,positive,positive
228881043,"near/far values exposed by calling 

```
img_arr = pybullet.renderImage(
    w, h, camera_pos, target_pos, up, near, far)
```

commented out debugger printf statements which caused c99 error. 

thanks! 
",exposed calling near far error thanks,issue,negative,positive,positive,positive,positive,positive
228748848,"Here are the updates for the old and the additional new example. I additionally intend to make a CommonSoftBodyBase.h to simplify the creation of softbody examples. What do you think about this?
",old additional new example additionally intend make simplify creation think,issue,negative,positive,positive,positive,positive,positive
228729617,"Is there a way to change the springiness of a rope? Currently the cradle balls bounce like they are on rubber bands.

I believe it has something to do with softBodyRope0->m_cfg, but I am a bit lost with all the possibilities.

Edit: I fixed it with the number of rope links set to 1. 
",way change springiness rope currently cradle bounce like rubber believe something bit lost edit fixed number rope link set,issue,negative,positive,neutral,neutral,positive,positive
228724662,"I fixed the issue (by starting again from the simple cloth example), however, the example does not yet work as expected. Stay tuned.

Edit: I also found the problem with these two lines:

```
        softBodyRope0->appendAnchor(softBodyRope0->m_nodes.size()-1,body1);
        softBodyRope0->appendAnchor(0,body2);
```

They must inversely append anchors.
",fixed issue starting simple cloth example however example yet work stay tuned edit also found problem two body body must inversely append,issue,negative,positive,neutral,neutral,positive,positive
228706681,"I am trying to connect two bodies using this method, however I get segaults in btSoftBody::updateBounds()

This is basically the method I am using to connect them:

```
void NewtonsRopeCradleExample::connectWithRope(btRigidBody* body1, btRigidBody* body2)
{
        btSoftBody* softBodyRope0=btSoftBodyHelpers::CreateRope(m_softBodyWorldInfo,body1->getWorldTransform().getOrigin(),body2->getWorldTransform().getOrigin(),8,0);
        softBodyRope0->setTotalMass(50);

        softBodyRope0->appendAnchor(softBodyRope0->m_nodes.size()-1,body1);
        softBodyRope0->appendAnchor(0,body2);

        //softBodyRope0->m_cfg.piterations = 5;
        //softBodyRope0->m_cfg.kDP = 0.005f;

        getSoftDynamicsWorld()->addSoftBody(softBodyRope0);
}
```

I am probably missing something in the setup of the softbody world, however I can not find what it could be.

Edit: Well, the method works in the softbody example RopeAttach. I will see what I am missing.

I create an empty dynamics world in the following way:

```
        ///register some softbody collision algorithms on top of the default btDefaultCollisionConfiguration
        m_collisionConfiguration = new btSoftBodyRigidBodyCollisionConfiguration();
        m_dispatcher = new  btCollisionDispatcher(m_collisionConfiguration);
        m_softBodyWorldInfo.m_dispatcher = m_dispatcher;

//      btVector3 worldAabbMin(-1000,-1000,-1000);
//      btVector3 worldAabbMax(1000,1000,1000);
//      m_broadphase = new btAxisSweep3(worldAabbMin,worldAabbMax,32766/*maxProxies*/);
        m_broadphase = new btDbvtBroadphase();
        m_softBodyWorldInfo.m_broadphase = m_broadphase;

        m_solver = new btSequentialImpulseConstraintSolver;

        m_dynamicsWorld = new btSoftRigidDynamicsWorld(m_dispatcher, m_broadphase, m_solver, m_collisionConfiguration);
//      m_dynamicsWorld->getDispatchInfo().m_enableSPU = true;
        m_dynamicsWorld->setGravity(btVector3(0, -10, 0));

        m_softBodyWorldInfo.m_gravity = m_dynamicsWorld->getGravity();

        m_softBodyWorldInfo.air_density = (btScalar)1.2;
        m_softBodyWorldInfo.water_density = 0;
        m_softBodyWorldInfo.water_offset = 0;
        m_softBodyWorldInfo.water_normal = btVector3(0,0,0);
        m_softBodyWorldInfo.m_gravity.setValue(0,-10,0);
```

I do not understand yet what I do by writing:

```
m_softBodyWorldInfo.m_sparsesdf.Initialize();
```

```
m_softBodyWorldInfo.m_sparsesdf.Reset();
```

```
m_softBodyWorldInfo.m_sparsesdf.RemoveReferences(0);
```

What am I doing wrong, can you spot it?
",trying connect two method however get basically method connect void body body body body probably missing something setup world however find could edit well method work example see missing create empty dynamic world following way collision top default new new new new new new true understand yet writing wrong spot,issue,negative,positive,neutral,neutral,positive,positive
228674539,"Hi,
You could create a pull request referencing this issue to propose the
implementation of it.

On Thu, Jun 23, 2016, 19:13 MiCroN3000 notifications@github.com wrote:

> Hi, I was wondering if the given solution could be added to the Bullet
> source code?
> Also is it really needed to introduce a backwards compatibility flag for
> this issue? It seems to me that this just solves a bug that shouldn't be,
> and that the solution is pretty local. If the solution can have other side
> effects, than I wonder what they could be..
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/125#issuecomment-228118274,
> or mute the thread
> https://github.com/notifications/unsubscribe/AC97q-WY8jpECIbgSuFUgVhA-FfxHQ-mks5qOr7VgaJpZM4BuFbq
> .
",hi could create pull request issue propose implementation micron wrote hi wondering given solution could added bullet source code also really introduce backwards compatibility flag issue bug solution pretty local solution side effect wonder could thread reply directly view mute thread,issue,positive,positive,positive,positive,positive,positive
228640893,"Thanks for the pull request.
It would be great if you also expose the near/far instead of only relying on hard-coded values. It is easy to show in examples (and docs) some meaningful default values.

Some checks failed: just move the 'int i' out of the 3 for loops, this is C99: (clock on the 'Details' next to the red cross:
/home/travis/build/bulletphysics/bullet3/examples/pybullet/pybullet.c:1084:17: error: ‘for’ loop initial declarations are only allowed in C99 mode.
",thanks pull request would great also expose instead easy show meaningful default move clock next red cross error loop initial mode,issue,positive,positive,positive,positive,positive,positive
228499533,"After more thought, it might be even better to remove the applyGravity call entirely and have users call applyGravity inside m_internalPreTickCallback if they want gravity? Having a variable timestep causes simulations to diverge at the moment so some change needs to be made.
",thought might even better remove call entirely call inside want gravity variable diverge moment change need made,issue,positive,positive,positive,positive,positive,positive
228222943,"Yes, likely deleted twice. Did you insert the object in the world twice?

Just compare your initialization and destruction with the Bullet examples, 
especially delete stuff in the reverse order of creation:
https://github.com/bulletphysics/bullet3/blob/master/examples/CommonInterfaces/CommonRigidBodyBase.h
",yes likely twice insert object world twice compare destruction bullet especially delete stuff reverse order creation,issue,negative,neutral,neutral,neutral,neutral,neutral
228118274,"Hi, I was wondering if the given solution could be added to the Bullet source code? 
Also is it really needed to introduce a backwards compatibility flag for this issue? It seems to me that this just solves a bug that shouldn't be, and that the solution is pretty local. If the solution can have other side effects, than I wonder what they could be..
",hi wondering given solution could added bullet source code also really introduce backwards compatibility flag issue bug solution pretty local solution side effect wonder could,issue,positive,positive,positive,positive,positive,positive
227273954,"I have since left Disney, so I have no access to the patch anymore to cleanup and submit. 
",since left access patch cleanup submit,issue,negative,neutral,neutral,neutral,neutral,neutral
226329259,"Thanks! Eventually I will have to rewrite the readme, because it is very much out-of-date.
",thanks eventually rewrite much,issue,negative,positive,positive,positive,positive,positive
225760182,"Sure. It should be fixed in this pull request: https://github.com/bulletphysics/bullet3/pull/654
",sure fixed pull request,issue,negative,positive,positive,positive,positive,positive
225547177,"Ah yes, sorry about that. We're still using a version of the solver that uses findex to compute the accumulated impulse, but I see that has since been refactored. I should have checked that! I will close this pull request, and submit another one soon that just removes findex. Thanks.
",ah yes sorry still version solver compute impulse see since checked close pull request submit another one soon thanks,issue,positive,negative,negative,negative,negative,negative
225381029,"findex is not used for btTypedConstraint, and the findex pointer is initialized to -1.
This is clearly not good, so better to just remove findex instead.
",used pointer clearly good better remove instead,issue,positive,positive,positive,positive,positive,positive
225233874,"Using the link with ?w=1 hides the whitespace from view, but all the whitespace changes are still in the pull request. This is not going to work. Can you please re-apply the changes in pybullet.c from a prestine latest version, without the whitespace changes, and then create a new pull request without the entire history of merges etc?
",link view still pull request going work please latest version without create new pull request without entire history,issue,negative,positive,positive,positive,positive,positive
224959820,"Oh! Actually I didn't finish merging another file, I'm pretty sure this is causing the error:
/Users/hellojas/Development/bullet3/examples/SharedMemory/PhysicsClientExample.cpp:632:1: error:
      version control conflict marker in file
",oh actually finish another file pretty sure causing error error version control conflict marker file,issue,negative,positive,positive,positive,positive,positive
224956255,"Okay, will take a look! Sorry my editor uses uncrustify to automatically beautify C, I'll turn it off for this time. 
",take look sorry editor automatically beautify turn time,issue,negative,negative,negative,negative,negative,negative
224942096,"This issue should have been resolved in latest ExampleBrowser revision. Please re-open if there is still an issue with glewinit.
",issue resolved latest revision please still issue,issue,negative,positive,positive,positive,positive,positive
224941207,"Seems fine. Just remember to remove the rigid body from the world before making those changes, and then re-insert it.
",fine remember remove rigid body world making,issue,negative,positive,positive,positive,positive,positive
224940676,"Thanks for the contribution. There is some conflict in one of the files (checks failed) and it is difficult to review because of all the merge and white-space changes etc. There is a way to tell git to ignore whitespace changes.
Could you start from a clean slate using latest revision and re-apply your changes? 
",thanks contribution conflict one difficult review merge way tell git ignore could start clean slate latest revision,issue,negative,positive,positive,positive,positive,positive
224509990,"That is true and it could also look very nice. I will add a Newton's Rope Cradle example then. Let us leave this one for simplicity and add the one with the rope as another example for a more advanced rope usage.
",true could also look nice add newton rope cradle example let u leave one simplicity add one rope another example advanced rope usage,issue,positive,positive,positive,positive,positive,positive
224404268,"The Newton cradle could better be simulated using two ropes attached to each ball. Can you please checkout the ExampleBrowser/SoftBody/Rope Attach demo?
See https://en.wikipedia.org/wiki/Wikipedia:Featured_picture_candidates/Newton%27s_Cradle
",newton cradle could better two rope attached ball please attach see,issue,positive,positive,positive,positive,positive,positive
224103918,"Fixed the issues and all compiles well. I somehow overlooked the M_PI problem. Thanks for pointing that out. I also cleaned up my conversion warnings to unclutter the compile. 

More examples to come soon!
",fixed well somehow problem thanks pointing also conversion unclutter compile come soon,issue,negative,positive,positive,positive,positive,positive
223997963,"Thanks for the contribution first of all :)

Did you search for 'error' in the build log, by clicking on 'Details' on AppVeyor build fails?
https://ci.appveyor.com/project/erwincoumans/bullet3/build/1.0.745
The first error is related to M_PI, Bullet uses SIMD_PI as cross-platform alternative, defined in btScalar.h.

C:\projects\bullet3\examples\ExtendedTutorials\InclinedPlane.cpp(92): error C2065: 'M_PI': undeclared identifier [C:\projects\bullet3\cmake\examples\ExampleBrowser\App_ExampleBrowser.vcxproj]
",thanks contribution first search build log build first error related bullet alternative defined error undeclared identifier,issue,negative,positive,positive,positive,positive,positive
223969157,"Is there something wrong with my commit that the appveyor fails? I could not see anything particular in the details that is related to me. But it probably is caused by me. If this is the case, somebody please point me out what is wrong and I will fix it.
",something wrong commit could see anything particular related probably case somebody please point wrong fix,issue,negative,negative,negative,negative,negative,negative
223775954,"Yes, this was a bug indeed. The btMatrix3x3 == operator isn't used in Bullet, neither is the btTransform == operator (there was one spot in btCompoundShape.h which refers to the operator, but that was dead code too).
Let's fix it, thanks for the contribution!
",yes bug indeed operator used bullet neither operator one spot operator dead code let fix thanks contribution,issue,negative,neutral,neutral,neutral,neutral,neutral
223606281,"the AND was added to ignore the W component of SIMD vector. 
if we assume that all 3 vectors of both matrices have W set to 0 then we'd need to have:
return (0xF == _mm_movemask_ps((__m128)c0));
to give us correct result.
Or we AND with 0x7 and then check that the result is equal to 0x7 to safely ignore the W is 0 assumption:
int m = _mm_movemask_ps((__m128)c0);
return (0x7 == (m & 0x7));
does that make sense?
",added ignore component vector assume matrix set need return give u correct result check result equal safely ignore assumption return make sense,issue,negative,positive,positive,positive,positive,positive
223557085,"I don't work on this repository, but the version of the code you suggested would AND m and 0x7, the result from that would either be 0 if false or 0x7 if true, you can return the value here as anything that's not 0 is true. So both versions are correct, but the original removes an operation which would most likely be removed by the compiler anyway.
",work repository version code would result would either false true return value anything true correct original operation would likely removed compiler anyway,issue,positive,positive,positive,positive,positive,positive
223149763,"NVM It was a bug in my code, i was not setting the correct motorAxis. so I'll just close this.
",bug code setting correct close,issue,negative,neutral,neutral,neutral,neutral,neutral
222294833,"My GPU is listed in Device Manager as ""Intel HD Graphics"".

It looks like it only supports OpenGL 2: https://www-ssl.intel.com/content/www/us/en/support/graphics-drivers/000005524.html

I tried the example browser with --opengl2 and now I can see some of the examples.

Thanks.
",listed device manager graphic like tried example browser see thanks,issue,positive,positive,neutral,neutral,positive,positive
222263747,"What version of Intel integrated GPU do you have exactly? HD2000? HD4000? What operating system+version?
It looks like OpenGL version 2.1 which is over 10 years old, most Intel GPU drivers support OpenGL version 3+ or 4+.
You can use the --opengl2 command-line option, but most demos/examples won't work, so it is better to fix the OpenGL issue.
",version exactly operating like version old support version use option wo work better fix issue,issue,positive,positive,positive,positive,positive,positive
222254492,"Just tried with the trunk version and getting the same error. Upgrading the graphics driver is not an option since I am already using the latest version.

Isn't there another solution to see the examples?
",tried trunk version getting error graphic driver option since already latest version another solution see,issue,negative,positive,positive,positive,positive,positive
222202487,"Please download/use the latest trunk version. It looks like you need to upgrade your graphics driver, it is some GLSL shader compiler issue. Good luck!
",please latest trunk version like need upgrade graphic driver shader compiler issue good luck,issue,positive,positive,positive,positive,positive,positive
220762278,"@Tal500 Maybe you should make a pull request and propose a first step towards a C api.
",tal maybe make pull request propose first step towards,issue,negative,positive,positive,positive,positive,positive
220500091,"In general I would rather not recommend to install Bullet system-wide, and rather copy the Bullet source code into your own project. It is a longer discussion why and how and it depends on the project as well. We can add some comment that it is possible to make install but not recommended.
",general would rather recommend install bullet rather copy bullet source code project longer discussion project well add comment possible make install,issue,positive,positive,neutral,neutral,positive,positive
219936023,"1+3) Yes, I'll expose the tolerance for the next release. Sub-simplex cast should be faster that gjk+conservative advancement. Note that there are some improvements that we could make, both for sub-simplex ray cast and convex cast. Erin Catto describes this in one of his GDC 2013 Physics Tutorial presentation 'Continuous Collision', see http://box2d.org/downloads

2) Yes, that particular original issue related to GJK ray cast was resolved. Nevertheless, we need to start working on unit tests for all functionality, including GJK, and that may expose other issues.
",yes expose tolerance next release cast faster advancement note could make ray cast convex cast one physic tutorial presentation collision see yes particular original issue related ray cast resolved nevertheless need start working unit functionality may expose,issue,positive,positive,positive,positive,positive,positive
219919831,"That looks good to me, thanks for the contribution. Soon I will make the codebase 100% warning-free, and enable -Wall in the continuous integration :)
",good thanks contribution soon make enable continuous integration,issue,positive,positive,positive,positive,positive,positive
219594306,"Thank you for your answer @erwincoumans! Good to know we are using the correct algorithm now.
Three new questions:
1. When should we opt instead for the sub-simplex algorithm? when we are not worried about accuracy and just want faster results? (though it seems accuracy could be controlled if epsilon was available to the user)
2. At the very beginning of this issue the decision was to make sub-simplex the default since at that time there was a problem with Gjk. Was this problem resolved? if not, when should we expect it and how would it manifest? 
3. Is making tolerances available to the user a change to be expected in future releases? that'd be a great addition!
",thank answer good know correct algorithm three new opt instead algorithm worried accuracy want faster though accuracy could epsilon available user beginning issue decision make default since time problem problem resolved expect would manifest making available user change future great addition,issue,positive,positive,positive,positive,positive,positive
219557371,"Thanks a lot for reaching out and thanks for tracking down the issue and creating a repro case.

Yes, the subsimplex convex cast is more sensitive to various issues, and it is better to disable it by default.

> > 1. Are these algorithms (GJK and sub sumplex) applicable to concave shapes as well?

Yes, they can be extended to concave shapes, by using an acceleration structure, and doing a pairwise test for all potential candidates and taking the minimum. So although the elementary test only applies on convex shapes, the children in a concave shape are convex (convex triangles in a concave triangle mesh, or convex child shapes in a compound shape).

> > 1. Is there a particular advantage (computational cost, robustness) that any of these two algorithms might have?

The subsimplex convex cast has theoretically a better performance, by merging two iteration loops into a single loop. See also http://bulletphysics.com/ftp/pub/test/files/physics/papers/jgt04raycast.pdf for details on these algorithms.

> > 1. Would it be possible to expose this epsilon for the user through the API? 
> >    Yes, good idea. Both exposing the tolerance(s) and choice of algorithm should be exposed.

In addition, we should create some unit test using gtest, see Bullet/tests/... , those unit tests are executed as part of each pull request etc.
",thanks lot reaching thanks issue case yes convex cast sensitive various better disable default sub applicable concave well yes extended concave acceleration structure pairwise test potential taking minimum although elementary test convex concave shape convex convex concave triangle mesh convex child compound shape particular advantage computational cost robustness two might convex cast theoretically better performance two iteration single loop see also would possible expose epsilon user yes good idea tolerance choice algorithm exposed addition create unit test see unit executed part pull request,issue,positive,positive,positive,positive,positive,positive
219553810,"@erwincoumans: in [my fork of Bullet](https://github.com/amcastro-tri/bullet3) I added another example to the **Example Browser**. Is in `Explorer->Raycast->RayCastBug`.

If you run it you'll see just a `1x2x1` box with its center at `[0.5; 0.0; 0.0]`. A ray is cast from `[0.0; 0.0; 0.0]` at a very small angle from the x-axis (just 0.04 radians, almost normal to the box). 

The example prints to screen the hit point computed with both `kF_UseSubSimplexConvexCastRaytest` and `kF_UseGjkConvexCastRaytest`. What you'll see on the screen is:

```
***********************************************************************
** Computation performed with ""kF_UseSubSimplexConvexCastRaytest"":   **
   Box hit at: -0.00912261 0.0396562 0 

***********************************************************************
** Computation performed with ""kF_UseGjkConvexCastRaytest"":          **
   Box hit at: -5.96046e-08 0.0400213 0
```

The correct solution would have `x=0`, where the front side of the box is located. However you can see that when using `kF_UseSubSimplexConvexCastRaytest` the error is quite large, `0.0091`.
",fork bullet added another example example browser run see box center ray cast small angle almost normal box example screen hit point see screen computation box hit computation box hit correct solution would front side box however see error quite large,issue,negative,positive,neutral,neutral,positive,positive
219320580,"Erwin, [this](https://github.com/RobotLocomotion/drake/issues/1712) is the issue in [Drake](http://drake.mit.edu/) that @sherm1 is referring to. Essentially we are using ray casting for a simple lidar model. The test in [that issue](https://github.com/RobotLocomotion/drake/issues/1712) is simply a 2D lidar placed in front of a box. Some strange returns were observed when they ray was hitting the box close to being perpendicular to it (the zero angle in the plots).
I found out that Bullet resolves the ray collisions with the call to [btSubsimplexConvexCast::calcTimeOfImpact](https://github.com/bulletphysics/bullet3/blob/master/src/BulletCollision/NarrowPhaseCollision/btSubSimplexConvexCast.cpp#L38). In that method there is a hardcoded tolerance to be [epsilon = 0.0001](https://github.com/bulletphysics/bullet3/blob/master/src/BulletCollision/NarrowPhaseCollision/btSubSimplexConvexCast.cpp#L76)) and for some hits the iteration barely converges within that tolerance (for us it translated into a 1 cm error) in 8 iterations. Details are offered in Drake's [PR 2354](https://github.com/RobotLocomotion/drake/pull/2354).
The solution I found to work just two days ago was to change the default algorithm (the sub simplex convex cast) with a GJK convex cast. This is done by setting the option `btTriangleRaycastCallback::kF_UseGjkConvexCastRaytest` for the `ClosestRayResultCallback`. 

We have the following questions:
1. Are these algorithms (GJK and sub sumplex) applicable to concave shapes as well? (their names led us to think that they might only work with convex shapes).
2. Is there a particular advantage (computational cost, robustness) that any of these two algorithms might have?
3. Would it be possible to expose this  [epsilon](https://github.com/bulletphysics/bullet3/blob/master/src/BulletCollision/NarrowPhaseCollision/btSubSimplexConvexCast.cpp#L76) for the user through the API? Ideally I would like to set it to a relative (no units) tolerance. For instance, 1% of some reference length of the object (like the minimum edge length of the object's OBB).

I am working on a very simple demo in my Bullet's fork with just this test (ray vs. one box) in case you are interested in seeing it. I'll post the link soon.
",issue drake essentially ray casting simple model test issue simply front box strange ray box close perpendicular zero angle found bullet ray call method tolerance epsilon iteration barely within tolerance u error drake solution found work two day ago change default algorithm sub simplex convex cast convex cast done setting option following sub applicable concave well led u think might work convex particular advantage computational cost robustness two might would possible expose epsilon user ideally would like set relative tolerance instance reference length object like minimum edge length object working simple bullet fork test ray one box case interested seeing post link soon,issue,positive,positive,positive,positive,positive,positive
219306220,"Hi, @erwincoumans! We are enthusiastic Bullet users for collisions in [Drake](http://drake.mit.edu). I'm working with @amcastro-tri (Alejandro Castro) who finally solved a long-standing problem for us that we think is due to the bug discussed in this issue. The fix was small, but the pain was large because it took several people and 3 months (off and on) to identify the problem (of course we thought it was our bug). Alejandro will follow up with more info. Best regards, Sherm
",hi enthusiastic bullet drake working finally problem u think due bug issue fix small pain large took several people identify problem course thought bug follow best,issue,negative,positive,positive,positive,positive,positive
218943593,"Thanks for the help! I trust you made the right change, as I don't use or test system-wide install.
",thanks help trust made right change use test install,issue,positive,positive,positive,positive,positive,positive
217677195,"I resolved some conflicts, made some minor changes, and created a new pull request:
https://github.com/bulletphysics/bullet3/pull/620
Let's close this one, thanks!
",resolved made minor new pull request let close one thanks,issue,positive,positive,neutral,neutral,positive,positive
217583131,"Nice!Excited to see it progress!
",nice excited see progress,issue,positive,positive,positive,positive,positive,positive
217582957,"I resolved them, no worry

On Friday, 6 May 2016, Benjamin Ellenberger notifications@github.com
wrote:

> You already have conflicts...
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly or view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/618#issuecomment-217581028
",resolved worry may benjamin wrote already thread reply directly view,issue,negative,positive,neutral,neutral,positive,positive
217581991,"I think I found the issue. In GwenParameterInterface.cpp in MySliderEventHandler, the sliderMoved() method does not call the user assigned callback whereas the MyButtonEventHandler calls:

  if (m_callback)
        {

```
        (*m_callback)(m_buttonId, true, m_userPointer);

    }
```

I will make a pull request soon which fixes the issue.
",think found issue method call user assigned whereas true make pull request soon issue,issue,negative,positive,positive,positive,positive,positive
217231170,"That's alright too.
It would stay consistent by going the other way, but it would be consistent, nonetheless.
",alright would stay consistent going way would consistent nonetheless,issue,negative,positive,positive,positive,positive,positive
217231161,"Yes, that is what I mentioned indeed, right? I'll repeat it, because you may have missed it:

/usr/local/include/Bullet3Common
/usr/local/include/Bullet3Collision
/usr/local/include/Bullet3Dynamics
",yes indeed right repeat may,issue,negative,positive,positive,positive,positive,positive
217230721,"Only if the install were to install all of them DIRECTLY under /usr/local/include instead of /usr/local/include/bullet.

The problem here is makefile installing on a location and the headers looking into a different one.
",install install directly instead problem location looking different one,issue,negative,positive,neutral,neutral,positive,positive
217228660,"The name (updated previous comment to clarify it). Bullet is not supposed to be single library under the 'bullet' folder, although packagers made it this way. It doesn't make sense to change the Bullet headers, because of some decision of packagers, deciding that the various Bullet libraries should be mixed into one.

I think it is better to distribute them as individual libraries, possibly grouped through dependencies. So if you would do sudo apt-get install Bullet3Dynamics you get also Bullet3Collision and Bullet3Common.

Would that solve your issue? It is not clear when I manage to move to Bullet 3 yet (replacing LinearMath by Bullet3Common etc).
",name previous comment clarify bullet supposed single library folder although made way make sense change bullet decision various bullet mixed one think better distribute individual possibly grouped would install get also would solve issue clear manage move bullet yet,issue,positive,positive,neutral,neutral,positive,positive
217211560,"It is a hairy issue. Bullet consist of several libraries, such as BulletCollision, BulletDynamics and LinearMath. Ideally there would be no 'bullet' in the package managers, but directly the individual libraries. Unfortunately, LinearMath is a really bad name, but in the next major revision of Bullet it will be called Bullet3Common, but migrating to a new version of Bullet is hard. I prefer local Bullet installations myself, and not depend on system libraries/system install, so others contributed the system installation.
For a future version of Bullet, I would like to see:

/usr/local/include/Bullet3Common
/usr/local/include/Bullet3Collision
/usr/local/include/Bullet3Dynamics

But then there is the BulletExampleBrowser, which includes all the examples, and most of the example also can be installed as standalone binries. Those examples should be 'installed' as well, so users can try out Bullet and see what it does. It looks like most package managers don't install examples?
",hairy issue bullet consist several ideally would package directly individual unfortunately really bad name next major revision bullet new version bullet hard prefer local bullet depend system install system installation future version bullet would like see example also well try bullet see like package install,issue,negative,positive,neutral,neutral,positive,positive
216747427,"Sorry, it's not ready yet. since I'm now using baxter gripper for the simulation, I'm not focusing on this gripper. But I think I will try this gripper later,  and when it's ok, I will reply here. Thanks for the attentation.
",sorry ready yet since baxter gripper simulation gripper think try gripper later reply thanks,issue,positive,negative,neutral,neutral,negative,negative
216741590,"Looks good to me, thanks for the pull request!
",good thanks pull request,issue,positive,positive,positive,positive,positive,positive
216518930,"Ok, perfect, I am just trying to cleanup older issues. So this one is obviously not done yet. Thank you for linking it here!
",perfect trying cleanup older one obviously done yet thank linking,issue,positive,positive,positive,positive,positive,positive
216490539,"Would you want to make a pull request? If it is already fixed, we could close the issue to clean up the tracker.
",would want make pull request already fixed could close issue clean tracker,issue,negative,positive,positive,positive,positive,positive
216490302,"You could make a pull request to add this to the readme. Otherwise it would be good to close this issue to clean up the tracker.
",could make pull request add otherwise would good close issue clean tracker,issue,positive,positive,positive,positive,positive,positive
216489780,"Is this issue fixed? It seems to be referenced in commit. If it is done, closing it would clean up the tracker.
",issue fixed commit done would clean tracker,issue,positive,positive,positive,positive,positive,positive
216489335,"You could make a pull request based on your finding to fix the issue. Would you like to do that?
",could make pull request based finding fix issue would like,issue,negative,neutral,neutral,neutral,neutral,neutral
216488279,"Thanks for contributing! Maybe we can take this into our new bullet tutorial series. I am going to keep your example in mind!
",thanks maybe take new bullet tutorial series going keep example mind,issue,negative,positive,positive,positive,positive,positive
216476017,"Mirsking: Does your gripper work now? In case it is working, we could make an example from it and make a pull request to include it into the Bullet Example Browser. Just tell us when you are ready.
",gripper work case working could make example make pull request include bullet example browser tell u ready,issue,negative,positive,positive,positive,positive,positive
216475482,"Can you close this issue and post your question again on the bullet physics forum? We are ready to help you there, here you only get limited attention sometimes!
",close issue post question bullet physic forum ready help get limited attention sometimes,issue,positive,positive,neutral,neutral,positive,positive
216474195,"Be sure to close this issue, otherwise we produce clutter in the issuetracker. Your question and further questions should better go into the Forum on the Bullet Physics website.
",sure close issue otherwise produce clutter question better go forum bullet physic,issue,positive,positive,positive,positive,positive,positive
215985161,"I'll pull the request and write a test soon. Thanks for the contribution!
",pull request write test soon thanks contribution,issue,negative,positive,positive,positive,positive,positive
215984886,"We can have the optimization enabled by default, but add some option somewhere to disable it, just in case it causes issues. That way, we can ask people who have issues (unlikely) to try that option and see if it fixes their issue. Ideally we create a unit test comparing the two (I started with a few ones, and the build system supports automatically running them in CI)... Anyway, if you are too busy (which I understand) I may find some time next week to do this.
",optimization default add option somewhere disable case way ask people unlikely try option see issue ideally create unit test two build system automatically running anyway busy understand may find time next week,issue,positive,positive,positive,positive,positive,positive
215982681,"The new optimization is bypassed for `btCompoundShapes` that don't have an `m_dynamicAabbTree`, however the dynamic tree feature is enabled by default, which means any A/B example test under the current state of this PR would require some code changes and a recompile.

The other spots in the code that pivot their logic on the existence of `btCompoundShape::m_dynamicAabbTree` don't have global test configurations.  For example, the code in `btCompoundCollisionAlgorithm::processCollision()` which was, I think, the pattern followed when making this new optimization.

If we were to add a `btCollisionWorld::m_useCompoundDynamicAabbTreeForObjectQuery` data member it would be useful for evaluating this PR, but probably wouldn't be something wanted for the long term.  Who would use it once the optimized method is verified?  Nevertheless I'm willing to add it if it helps move things forward.  We could remove that test hack later once we're confident this is working correctly.
",new optimization however dynamic tree feature default example test current state would require code recompile code pivot logic existence global test example code think pattern making new optimization add data member would useful probably would something long term would use method nevertheless willing add move forward could remove test hack later confident working correctly,issue,positive,positive,positive,positive,positive,positive
215907836,"This issue could be closed as the manual is there and the link is added as well.
",issue could closed manual link added well,issue,negative,negative,neutral,neutral,negative,negative
215902258,"Is there still some option to use the old (inefficient) path, for testing/comparing the new implementation?
",still option use old inefficient path new implementation,issue,negative,positive,positive,positive,positive,positive
215410246,"After some serious thinking, I decided to pause my effort on the Bullet fork with embedded support, until some merging or decision from official Bullet.

As I described many before, I finished making LinearMath compatible with C. I thought it was crucial if we want C API inside the official Bullet API. If ODE did only C API, Bullet can do both C and C++ API.

Now, after this LinearMath C API infrastructure, writing a C API in the same headers should be not difficult. I'm not going to do so if it won't be merged, or a strategic decision will be made.

Even known it's only for Bullet 2 right now I still think it's important, since it's the widely used version right now.

Wait for your response.
",serious thinking decided pause effort bullet fork support decision official bullet many finished making compatible thought crucial want inside official bullet ode bullet infrastructure writing difficult going wo strategic decision made even known bullet right still think important since widely used version right wait response,issue,negative,positive,neutral,neutral,positive,positive
215274980,"Great, let me have a look and merge it soon.
Thanks for contributing!
",great let look merge soon thanks,issue,positive,positive,positive,positive,positive,positive
214384316,"That won't work for gImpact shapes that form part of a compound hierarchy more than one level deep. In such cases `getCollisionShape()` will return the compound collision shape and the `m_index0` and the `m_index1` fields are not sufficient to determine which children were actually involved in the collision.
",wo work form part compound hierarchy one level deep return compound collision shape sufficient determine actually involved collision,issue,negative,neutral,neutral,neutral,neutral,neutral
212050641,"cmake is more widely used, so it is useful to have, but I prefer premake for various reasons, so I maintain that as well: premake has a nicer scripting language for custom build steps, the premake generated IDE projects are better organized, and the premake generated Makefile is not dependent on anything (unlike cmake generated files, which still require cmake). That's why both. Both should work, and both are tested in the continuous integration step.
",widely used useful prefer premake various maintain well premake language custom build premake ide better organized premake dependent anything unlike still require work tested continuous integration step,issue,positive,positive,positive,positive,positive,positive
211196293,"I am wondering why MultiThreading was removed from BulletPhysics. I understand that you are moving towards more advanced OpenCL and GPU. 
Please remember we are using BulletPhysics for Mobile phone gaming also. Personally I've been a big fan of MultiThreading, VFP/NEON on iOS devices gives us upto 3x speed. Now we are badly missing it.  
",wondering removed understand moving towards advanced please remember mobile phone gaming also personally big fan u speed badly missing,issue,negative,positive,neutral,neutral,positive,positive
210946234,"EDIT: After more fiddling with the commented out exit condition @ btGjkPairDetector.cpp:227, I am noticing that convexSweepTests is randomly failing to hit anything instead returning an arbitrary point. also the for loop is randomly doing 1000 iterations failing to satisfy any exit condition.

The key ingredients to reproducing the behavior seems to be having a btRigidBody with some forces applied to it near or inside the convexSweepTest volume and a box shape collision object rotated on multiple axis getting hit by the convexSweepTest.

I am assuming the exit condition i commented out is probably necessary for some collision edge case? and probably not the actual bug but reacting adversely to it. I am going to keep digging through the code and report back if i can find anything.
",edit fiddling exit condition randomly failing hit anything instead arbitrary point also loop randomly failing satisfy exit condition key behavior applied near inside volume box shape collision object rotated multiple axis getting hit assuming exit condition probably necessary collision edge case probably actual bug adversely going keep digging code report back find anything,issue,negative,negative,negative,negative,negative,negative
210239348,"thanks for your help, Its a relief to see the code work again. If theres anything else I can do let me know.
",thanks help relief see code work there anything else let know,issue,positive,positive,positive,positive,positive,positive
210228954,"Thanks for the report, repro case and for looking into this. I have a lot of other things on my plate, so can't quickly look into this. Could you try to comment-out the entire termination condition (if (previousSquaredDistance...) { ...}  at btGjkPairDetector.cpp:227, and see if that help you? 
",thanks report case looking lot plate ca quickly look could try entire termination condition see help,issue,positive,positive,positive,positive,positive,positive
210210638,"I started digging through the executing code during a convexSweepTest, it seems like ultimately btGjkPairDetector::getClosestPointsNonVirtual() gets called twice to determine the hit point, once with the FROM&TO positions of the convexSweepTest and a second time with some interpolated positions. I noticed during sweeps that return errant values the first call of getClosestPointNonVirtual seems to calculate a hit point close to correct but during the 2nd call of getClosestPointsNonVirtual is when an obviously wrong point is calculated.

Inside getClosestPointsNonVirtual() is a for loop with many exit if statements, seems to always run 4 times and exit at btGjkPairDetector.cpp:167 when i get correct results:
`if (m_simplexSolver->inSimplex(w)) {`
`m_degenerateSimplex = 10;`
`checkSimplex=true;`
`break;}`

and on convexSweepTests where i get errant values its exiting the for loop at btGjkPairDetector.cpp:227:
`if (previousSquaredDistance - squaredDistance <= SIMD_EPSILON * previousSquaredDistance)`
`{`
`checkSimplex = true;`
`m_degenerateSimplex = 12;`
`break;`
`}`
",digging code like ultimately twice determine hit point second time return errant first call calculate hit point close correct call obviously wrong point calculated inside loop many exit always run time exit get correct break get errant loop true break,issue,negative,positive,neutral,neutral,positive,positive
209815293,"heres example output 
`FRAME 162`
`EXPECTED MAX DISTANCE OF 2.450000 HITDIST 3.201911`
`FROM -5.027759,-3.729265,-4.562845`
`TO   -5.027759,-5.729265,-4.562845`
`RADIUS 0.450000`
`HITPOS -2.689933,-5.647984,-5.614190`
`HITNORM -0.130775,0.990269,-0.047586`

`FRAME 351`
`EXPECTED MAX DISTANCE OF 2.450000 HITDIST 22.545046`
`FROM -31.200333,-8.393215,-13.670421`
`TO   -31.200333,-10.393215,-13.670421`
`RADIUS 0.450000`
`HITPOS -10.807246,-7.574422,-23.248037`
`HITNORM -0.130784,0.990268,-0.047581`

`FRAME 523`
`EXPECTED MAX DISTANCE OF 2.450001 HITDIST 58.432961`
`FROM -73.791763,-14.315394,-20.716990`
`TO   -73.791763,-16.315395,-20.716990`
`RADIUS 0.450000`
`HITPOS -21.078253,-10.003813,-45.558628`
`HITNORM -0.130766,0.990271,-0.047580`
",example output frame distance radius frame distance radius frame distance radius,issue,negative,neutral,neutral,neutral,neutral,neutral
209815139,"Ive made a 150 line gist that reliably reproduces the bug for me. 
[https://gist.github.com/ktfh/dc9c4d26ed2e59ef4eb43aff9a98f1cd](https://gist.github.com/ktfh/dc9c4d26ed2e59ef4eb43aff9a98f1cd)
",made line gist reliably bug,issue,negative,neutral,neutral,neutral,neutral,neutral
208381083,"I meant, use the collision shape of the m_collisionObject, which is stored in the btCollisionObjectWrapper, that should point to the original gimpact shape:

objectWrap->getCollisionObject()->getCollisionShape();
",meant use collision shape point original shape,issue,negative,positive,positive,positive,positive,positive
208269099,"I eventually tried:

``` c++
btJointFeedback *fb = new btJointFeedback();
hinge->setJointFeedback(fb);
```

And then later have a look at the data populated in the joint feedback
However, there is still applied torque even if I set the maximum impulse to 0, so this is not really the information I want, any idea?
",eventually tried new later look data joint feedback however still applied torque even set maximum impulse really information want idea,issue,negative,positive,positive,positive,positive,positive
208235092,"Note that `getJointFeedback()` returns NULL even when calling `enableFeedback(true)` 
",note null even calling true,issue,negative,positive,positive,positive,positive,positive
205779048,"the m_collisionShape in the collisionObjectWrapper still points to you gimpact shape, no need for custom pointers
",still shape need custom,issue,negative,neutral,neutral,neutral,neutral,neutral
205767328,"So it looks like when gImpact creates the `btCollisionObjectWrapper` it provides a `btTriangleShapeEx` and not the `btGImpactMeshShape`. In other words, gImpact reports the triangle that collided rather than the mesh shape. This makes sense, but I needed the user pointer for the `btGImpactMeshShape`.

For now I'm just setting the user pointer for the mesh part to be equal to the user pointer for the mesh shape and the user pointer for the triangle to be equal to the user pointer for the mesh part in `btGImpactCollisionAlgorithm::gimpact_vs_shape`.
",like triangle rather mesh shape sense user pointer setting user pointer mesh part equal user pointer mesh shape user pointer triangle equal user pointer mesh part,issue,negative,neutral,neutral,neutral,neutral,neutral
205378450,"Thanks, but I'm looking to find the pair of **non-compound** collision shapes that collided. I note that the `btCollisionObjectWrapper::getCollisionShape()` function exists. However, it appears that this doesn't work correctly for concave gImpact mesh shapes inside of compound shapes. In such cases `getUserPointer` is returning 0 when I have definitely set the user pointer for the gImpact shape.

**Edit:** Ok, I think I've narrowed down the problem to this call in `btGImpactCollisionAlgorithm::gimpact_vs_shape()`:

```
gimpact_vs_shape(body0Wrap,
                  body1Wrap,
                  meshshape0->getMeshPart(part), // Here's the problem...
                  shape1,swapped);
```

Hopefully I can devise a fix for this tomorrow.
",thanks looking find pair collision note function however work correctly concave mesh inside compound definitely set user pointer shape edit think problem call part problem shape hopefully devise fix tomorrow,issue,negative,positive,neutral,neutral,positive,positive
204468503,"If you have access to the `btCollisionObjectWrapper`, such as in the callback when a contact is added, you can walk up the hierarchy to find that information. For example:

``` cpp
int findCompoundShapeIndex(const btCollisionObjectWrapper *obj)
{
    while (obj->m_parent)
    {
        if (obj->m_parent->getCollisionShape()->isCompound())
            return obj->m_index;
        else
            obj = obj->m_parent;
    }

    return -1;
}
```
",access contact added walk hierarchy find information example return else return,issue,negative,neutral,neutral,neutral,neutral,neutral
201960951,"Thanks for the report Brecht, I'll look into fixing it soon.
",thanks report look fixing soon,issue,negative,positive,positive,positive,positive,positive
201960331,"It seems this is a bug in Bullet, introduced in #165 . The previous code would check if the constraint is enabled before disabling collisions, the new code no longer does that as far as I can tell.
",bug bullet previous code would check constraint new code longer far tell,issue,negative,positive,neutral,neutral,positive,positive
199525553,"I'm going to close this PR, since I haven't been able to get back to it in a reasonable amount of time.  cmake is working fine.
",going close since able get back reasonable amount time working fine,issue,negative,positive,positive,positive,positive,positive
197384865,"If you use the premake build system (bullet/build2) then the example browser has a command-line flag --enable_experimental_opencl that let's you experiment with a few OpenCL examples. This is not enabled in CMake, just in premake. Not all OpenCL examples have been ported (yet). Let's close this for now. If you have time and enable some more OpenCL examples in the example browser, please create a new pull request and use premake.
",use premake build system example browser flag let experiment premake ported yet let close time enable example browser please create new pull request use premake,issue,positive,positive,positive,positive,positive,positive
197372966,"thanks for the report, the issue was resolved a while ago so let's close it.
",thanks report issue resolved ago let close,issue,positive,positive,positive,positive,positive,positive
193492362,"It looks good, but could you please rename the 'STATIC' to 'B3_STATIC'?
",good could please rename,issue,positive,positive,positive,positive,positive,positive
192468119,"Good point, that doesn't make any sense to check a squared norm < 0. Thanks for the report and fix!
",good point make sense check squared norm thanks report fix,issue,positive,positive,positive,positive,positive,positive
190106773,"Sorry, it was my mistake!
There is no ""lib"" folder in Bullet3 anymore. it was a problem with my Makefile.
",sorry mistake folder bullet problem,issue,negative,negative,negative,negative,negative,negative
188767457,"I guess it is a bug.
When I test it with Bullet 2.82, with the pairwise linking, it compiles and runs well without any errors.

Does anyone know what is the problem?
",guess bug test bullet pairwise linking well without anyone know problem,issue,positive,neutral,neutral,neutral,neutral,neutral
188342151,"Indeed, the cmakelist files for opencl are out-of-date and need fixing, please use premake for now.
",indeed need fixing please use premake,issue,negative,neutral,neutral,neutral,neutral,neutral
188341294,"> Maybe I am being dumb, but I can't get the GPU examples to show.

I've just tried them now and they seems to work for me (box-box and pair-bench demos).
Have you read the **README.md** file ?
I suggest you use premake instead of CMake: it's precompiled in the build3 folder fo Linux, Linux64, Windows and OSX.

P.S. the only additional step I needed to make the openCL demos work on my (Ubuntu) Linux64 machine was to install the _nvidia-modprobe_ package (otherwise I need to have to be super user to be allowed to use Cuda/OpenCL in all the Linux applications in general, but this is only related to Ubuntu+Nvidia AFAIK).

> There is no Demos3 folder though? 

Nope, AFAIK they should be in the examples/OpenCL folder.
",maybe dumb ca get show tried work demo read file suggest use premake instead build folder additional step make demo work machine install package otherwise need super user use general related demo folder though nope folder,issue,negative,positive,neutral,neutral,positive,positive
187782352,"Thanks for the feedback, I'll look into it. In general, re-quantization is needed if/when the world AABB size changes.
",thanks feedback look general world size,issue,negative,positive,positive,positive,positive,positive
187781124,"Thanks for the feedback. Yes, I'll look into adding this.
",thanks feedback yes look,issue,positive,positive,positive,positive,positive,positive
186248424,"Yes, it is recommended to explicitly destroy objects in the reverse order of construction, don't use  smart pointers etc. Memory in Bullet is managed explicitly in the right order, not in random arbitrary order.
I envy C-API's that make such smart pointer mess-up harder :)
",yes explicitly destroy reverse order construction use smart memory bullet explicitly right order random arbitrary order envy make smart pointer harder,issue,negative,negative,neutral,neutral,negative,negative
185912384,"This is great!
The speedup of my project is really impressive using this branch.
The kinematic-fix doesn't work for me though. It crashes when i remove a static body and then change it and recreate another one (with modifications to a compundshape) in the same place.
Since i use the MLCP solver another thing that helped a lot with performance was removing the minimum size of a simulation island and reducing solver batch size.
",great project really impressive branch work though remove static body change recreate another one place since use solver another thing lot performance removing minimum size simulation island reducing solver batch size,issue,positive,positive,positive,positive,positive,positive
185091250,"Maybe I am being dumb, but I can't get the GPU examples to show.
Looking into it, the CMakeLists looks for the '${BULLET_PHYSICS_SOURCE_DIR}/Demos3' directory otherwise it sets NO_OPENGL3.

There is no Demos3 folder though?
",maybe dumb ca get show looking directory otherwise demo folder though,issue,negative,negative,negative,negative,negative,negative
184822458,"You could also try:
Game Physics Engine Development by Ian Millington (older editions ok, too)
and
Learning Game Physics with Bullet Physics and OpenGL by Chris Dickinson  (not current Bullet though).
",could also try game physic engine development older learning game physic bullet physic current bullet though,issue,negative,negative,negative,negative,negative,negative
184760630,"For a gentle introduction to mechanical physics I'd recommend ""Conceptual Physics by Paul G. Hewitt"".  It starts off assuming you have familiarity with algebra, not necessarily calculus as found in University level books.

Besides books I'd recommend that you implement some basics on your own starting with a 2D point on the screen and:
- applying a set velocity to the point to make it move on the screen
- bound the point by the screen, and when it collides make it's velocity reflect appropriately
- use keyboard input to apply velocities to the point (up, down, left, right)
- apply gravity to the point
- make a point have a radius, and have collision react appropriately
- make many points, and have them collide, and bounce correctly
- see how many points you can get on a screen at a decent frame-rate, then try to optimize your code!

This may be trivial for you, or it may be a significant amount of effort, but this will give you some insight into the basic concerns of a physics engine. 

Afterwards, I'd recommend using bullet, or box2D, to make a simple game that duplicates what you've created, and and stepping into some of the code to get an idea of how those engines implemented.

-Good Luck!
",gentle introduction mechanical physic recommend conceptual physic assuming familiarity algebra necessarily calculus found university level besides recommend implement starting point screen set velocity point make move screen bound point screen make velocity reflect appropriately use keyboard input apply point left right apply gravity point make point radius collision react appropriately make many collide bounce correctly see many get screen decent try optimize code may trivial may significant amount effort give insight basic physic engine afterwards recommend bullet make simple game stepping code get idea luck,issue,positive,positive,positive,positive,positive,positive
184600304,"start with the physical books from school and college.
",start physical school college,issue,negative,neutral,neutral,neutral,neutral,neutral
183009204,"Also from what I know you work at Google ? 
This could be great to have a powerfull physic engine on Android 
",also know work could great physic engine android,issue,positive,positive,positive,positive,positive,positive
183008881,"Thanks, I think you should ask help to AMD, since gpuopen (http://wccftech.com/amds-answer-to-nvidias-gameworks-gpuopen-announced-open-source-tools-graphics-effects-and-libraries/)  they need for be on par with nvidia gameworks an open alternative to physx. 

The openCL support is no longer a problem, opencl 1.2 is supported on all pc drivers on all platforms, even on Android. More and more mainstream softs use opencl, like Gimp,photoshop , libreoffice, blender, civilisation 5, etc.
",thanks think ask help since need par open alternative support longer problem even android use like gimp blender,issue,positive,positive,neutral,neutral,positive,positive
182949482,"The OpenCL implementation is available in experimental state. You can use the --enable_experimental_opencl command-line flag to try out a few examples. There is no active OpenCL/GPU development and there have been no contributions for the OpenCL/GPU work so there is no roadmap for that part. One of the other issues is that OpenCL is not a reliable platform for games, due to driver/GPU issues and potential lack of support of OpenCL.
",implementation available experimental state use flag try active development work part one reliable platform due potential lack support,issue,negative,positive,neutral,neutral,positive,positive
182948649,"Most of the OpenCL/GPU demos are not enabled in the transition to the new Bullet Example Browser. You can run the example browser with the --enable_experimental_opencl command line flag and then there will be a section with a few OpenCL examples. Again, most of the samples are not ported yet. but the source code is in examples/OpenCL. If you feel like converting them, please consider contributing.
",demo transition new bullet example browser run example browser command line flag section ported yet source code feel like converting please consider,issue,positive,positive,positive,positive,positive,positive
182700589,"this question is also what i want to know
",question also want know,issue,negative,neutral,neutral,neutral,neutral,neutral
180286451,"> The Bullet code base values portability and support for older 
> compilers and platforms, so C++11 and C++14 is not allowed just yet. I 
> rather have the code base look old and hairy rather than getting 
> compile errors on various platforms.

Deprecated platforms.

Also, a check can be quickly done with CMake to see if a specific 
typedef exists :-)

include(CheckTypeSize)
check_type_size(uintptr_t HAVE_UINTPTR_T)

Then you can easily add your own implementation if uintptr_t is missing.
",bullet code base portability support older yet rather code base look old hairy rather getting compile various also check quickly done see specific include easily add implementation missing,issue,negative,negative,neutral,neutral,negative,negative
180069070,"That's what I told indeed, C99. Some C++2003 implementations support the intptr_t C99 feature, others don't. You don't need to have C++11 for that. Even in C++11 the intptr_t is optional, hence non-portable.
",told indeed support feature need even optional hence,issue,negative,neutral,neutral,neutral,neutral,neutral
180067499,"That's _C_ 99, not C++ - those were .cpp files I modified..

On 4 February 2016 at 21:38, erwincoumans notifications@github.com wrote:

> Sure, I'll look into it.
> 
> intptr_t has some portability issues but it only requires C99 not C++11,
> see also
> http://stackoverflow.com/questions/9492798/using-intptr-t-instead-of-void
> 
> The Bullet code base values portability and support for older compilers
> and platforms, so C++11 and C++14 is not allowed just yet. I rather have
> the code base look old and hairy rather than getting compile errors on
> various platforms.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/394#issuecomment-180063176
> .

## 

---

johnfredcee@googlemail.com
",wrote sure look portability see also bullet code base portability support older yet rather code base look old hairy rather getting compile various reply directly view,issue,positive,negative,negative,negative,negative,negative
180063176,"Sure, I'll look into it.

intptr_t has some portability issues but it only requires C99 not C++11, see also http://stackoverflow.com/questions/9492798/using-intptr-t-instead-of-void

The Bullet code base values portability and support for older compilers and platforms, so C++11 and C++14 is not allowed just yet. I rather have the code base look old and hairy rather than getting compile errors on various platforms.
",sure look portability see also bullet code base portability support older yet rather code base look old hairy rather getting compile various,issue,positive,negative,negative,negative,negative,negative
179752555,"No idea. Is C++11 specific code ok? The code base looks old and hairy, so I went for an old and hairy solution!
",idea specific code code base old hairy went old hairy solution,issue,negative,negative,negative,negative,negative,negative
179363392,"long is not big enough to hold a pointer : one possible fix is to change these to long long ; there are only a few sites where it is a problem.
",long big enough hold pointer one possible fix change long long problem,issue,negative,negative,neutral,neutral,negative,negative
177601178,"Hi all,

I've completed basic Bullet 2 LinearMath C API.

Now I want to write _embedded_ C API for Bullet 2 Core(collision&dynamics). By _embedded_ I mean that the function decelerations are in the original header, and their implementation are in the original source.

(AndresTraks especially, I want you to answer this :)
How do you recommend me to merge AndresTraks work there? Where to start?
Does any one want to join?
",hi basic bullet want write bullet core collision dynamic mean function original header implementation original source especially want answer recommend merge work start one want join,issue,positive,positive,neutral,neutral,positive,positive
176665629,"This branch [https://github.com/lunkhound/bullet3/tree/kinematic-fix] contains a fix for this kinematic issue. Basically I added a unique id to each collision body and each island solver can store thread-specific info in a separate array indexed by the id. I have kept that change in a separate branch because it likely causes trouble for the featherstone multi-body point-to-point constraint. The MultiBody dynamics world isn't threadable anyway, so it's no loss if you want to use threads.
",branch fix kinematic issue basically added unique id collision body island solver store separate array indexed id kept change separate branch likely trouble constraint dynamic world anyway loss want use,issue,negative,positive,neutral,neutral,positive,positive
174751610,"Was the kinematic thing ever solved?
If this branch can multithread solving of MLCP islands, this would help me a lot.
",kinematic thing ever branch would help lot,issue,negative,neutral,neutral,neutral,neutral,neutral
173650211,"Yes, Bullet has been widely used in the movie industry and we received an Academy Award for it. Let's close the issue. This was last year 2015 by the way. not this year.
",yes bullet widely used movie industry received academy award let close issue last year way year,issue,positive,negative,neutral,neutral,negative,negative
173644289,"Apologies for commenting on a false issue report but:

Congratulations to all concerned, well deserved.
",false issue report concerned well deserved,issue,negative,negative,negative,negative,negative,negative
171086260,"I can also disable tests for the homebrew build; that should be a suitable workaround.
",also disable build suitable,issue,negative,positive,positive,positive,positive,positive
171086023,"The default homebrew arguments are:

```
cmake .. \
  -DBUILD_BULLET2_DEMOS=OFF \
  -DBUILD_EXTRAS=OFF
```

So that doesn't build the example browser, but it does try to build the tests.
",default build example browser try build,issue,negative,neutral,neutral,neutral,neutral,neutral
171084122,"Does the homebrew formula build the example browser by default (but not the extras)?
",formula build example browser default,issue,negative,neutral,neutral,neutral,neutral,neutral
171081920,"I found this while trying to update the bullet homebrew formula, since it turns off extras during the build by default.
",found trying update bullet formula since turn build default,issue,negative,neutral,neutral,neutral,neutral,neutral
171081123,"I tried disabling that test with the following:

```
diff --git a/test/CMakeLists.txt b/test/CMakeLists.txt
index e8b0842..3422500 100644
--- a/test/CMakeLists.txt
+++ b/test/CMakeLists.txt
@@ -1,6 +1,8 @@
 IF(BUILD_BULLET3)
        #SUBDIRS( TestBullet3OpenCL )
+  IF(BUILD_EXTRAS)
        SUBDIRS(  InverseDynamics )
+  ENDIF()
 ENDIF(BUILD_BULLET3)

 SUBDIRS(  gtest-1.7.0  collision BulletDynamics/pendulum )
```

and then the `App_ExampleBrowser` fails to link:

```
ld: library not found for -lBulletInverseDynamicsUtils
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [examples/ExampleBrowser/App_ExampleBrowser] Error 1
make[1]: *** [examples/ExampleBrowser/CMakeFiles/App_ExampleBrowser.dir/all] Error 2
make: *** [all] Error 2
```
",tried test following git index collision link library found clang error linker command exit code use see invocation make error make error make error,issue,negative,neutral,neutral,neutral,neutral,neutral
170147350,"Thanks for the report, but indeed it is better to build out-of-source if that is the issue. Let's close the pull request then.
",thanks report indeed better build issue let close pull request,issue,positive,positive,positive,positive,positive,positive
170010944,"Sadly I'm very busy these days, but I didn't forget it, just need some time and help.

As said above, I focused on first supporting LinearMath before the rest of Bullet.
I have completed the API for Bullet vectors, working on the rest.

You might use this, and extend this binding to the Bullet API function in your project, and send your implementation for updating the C API.

I would like however some help on finishing LinearMath implementation, contact me if you're interested.
",sadly busy day forget need time help said first supporting rest bullet bullet working rest might use extend binding bullet function project send implementation would like however help finishing implementation contact interested,issue,positive,positive,positive,positive,positive,positive
168564902,"Bump. Any progress on this since the last update? I am very interested in writing up-to-date Bullet bindings for Rust, which would require a C FFI.
",bump progress since last update interested writing bullet rust would require,issue,positive,positive,positive,positive,positive,positive
164080206,"Do you have a patch that applies this to the existing Bullet CMakeLists.txt for all projects/libraries?

Or alternatively, can you share your CMake build files that can build with those warnings enabled for all Bullet libraries?
",patch bullet alternatively share build build bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
164076247,"As far as I know `set_property(TARGET...` is the same as `set_target_property(...`
This is a function that I call and it's pretty much the last thing on my cmake configs. (CMakelists.txt includes a bunch of .cmake files and it is in last of those)
",far know target function call pretty much last thing bunch last,issue,negative,positive,neutral,neutral,positive,positive
162739834,"Thanks tommimarkus, do you have a patch/pull request for this? Where do you put those lines in the CMakeLists.txt files? Is set_property(TARGET the same as SET_TARGET_PROPERTY(... ?
",thanks request put target,issue,negative,positive,positive,positive,positive,positive
162700201,"Good point, we should compile one of the CI projects using this flag (travis and/or appveyor) to catch such issues automatically in the future.
",good point compile one flag travis catch automatically future,issue,negative,positive,positive,positive,positive,positive
162571784,"After banging on this a bit more I've concluded that it is impossible to do what we want... using premake4.  We would have to upgrade to premake5 or maybe something closer to the bleeding edge (to get access to **removeconfigurations**).  Let's not close this PR quite yet: I'll try to make it work and if I come up with a solution then we can decide whether to keep or discard.
",banging bit impossible want premake would upgrade premake maybe something closer bleeding edge get access let close quite yet try make work come solution decide whether keep discard,issue,negative,negative,negative,negative,negative,negative
162382301,"With these settings:

```
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_WARNING_CFLAGS ""-Wreorder"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_WARNING_LDFLAGS "" "")
    # C/C++
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_CXX0X_EXTENSIONS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_ABOUT_INVALID_OFFSETOF_MACRO ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_HIDDEN_VIRTUAL_FUNCTIONS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_NON_VIRTUAL_DESTRUCTOR ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN__EXIT_TIME_DESTRUCTORS ""NO"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_UNUSED_VARIABLE ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_UNUSED_VALUE ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_UNUSED_PARAMETER ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_UNUSED_LABEL ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_UNUSED_FUNCTION ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_UNREACHABLE_CODE ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_UNKNOWN_PRAGMAS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_UNINITIALIZED_AUTOS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_TYPECHECK_CALLS_TO_PRINTF ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_TREAT_IMPLICIT_FUNCTION_DECLARATIONS_AS_ERRORS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_TREAT_INCOMPATIBLE_POINTER_TYPE_WARNINGS_AS_ERRORS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_SUSPICIOUS_IMPLICIT_CONVERSION ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_SIGN_COMPARE ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_ABOUT_POINTER_SIGNEDNESS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_ASSIGN_ENUM ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_ABOUT_MISSING_NEWLINE ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_ABOUT_MISSING_PROTOTYPES ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_ABOUT_MISSING_FIELD_INITIALIZERS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_MISSING_PARENTHESES ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_ABOUT_RETURN_TYPE ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_INITIALIZER_NOT_FULLY_BRACKETED ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_IMPLICIT_SIGN_CONVERSION ""NO"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_NULLABLE_TO_NONNULL_CONVERSION ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_INT_CONVERSION ""$(CLANG_WARN_SUSPICIOUS_IMPLICIT_CONVERSION)"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_ENUM_CONVERSION ""$(CLANG_WARN_SUSPICIOUS_IMPLICIT_CONVERSION)"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_CONSTANT_CONVERSION ""$(CLANG_WARN_SUSPICIOUS_IMPLICIT_CONVERSION)"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_BOOL_CONVERSION ""$(CLANG_WARN_SUSPICIOUS_IMPLICIT_CONVERSION)"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_64_TO_32_BIT_CONVERSION ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_SHADOW ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_FOUR_CHARACTER_CONSTANTS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_EMPTY_BODY ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_DOCUMENTATION_COMMENTS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_ABOUT_DEPRECATED_FUNCTIONS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_CHECK_SWITCH_STATEMENTS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_TREAT_WARNINGS_AS_ERRORS ""NO"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_PEDANTIC ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_INHIBIT_ALL_WARNINGS ""NO"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_SHORT_ENUMS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_ENABLE_BUILTIN_FUNCTIONS ""YES"")
    # Obj-C
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_DIRECT_OBJC_ISA_USAGE ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN__DUPLICATE_METHOD_MATCH ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_OBJC_IMPLICIT_ATOMIC_PROPERTIES ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_OBJC_MISSING_PROPERTY_SYNTHESIS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_ALLOW_INCOMPLETE_PROTOCOL ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_MULTIPLE_DEFINITION_TYPES_FOR_SELECTOR ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_DEPRECATED_OBJC_IMPLEMENTATIONS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_STRICT_SELECTOR_MATCH ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_UNDECLARED_SELECTOR ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_OBJC_ROOT_CLASS ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_OBJC_EXPLICIT_OWNERSHIP_TYPE ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_OBJC_IMPLICIT_RETAIN_SELF ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_OBJC_REPEATED_USE_OF_WEAK ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN_OBJC_RECEIVER_WEAK ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_CLANG_WARN__ARC_BRIDGE_CAST_NONARC ""YES"")
    set_property (TARGET ${target} PROPERTY XCODE_ATTRIBUTE_GCC_WARN_CHECK_SWITCH_STATEMENTS ""YES"")
```

I get 6340 warnings from bullet3 :-/
",target target property target target property target target property yes target target property yes target target property yes target target property yes target target property target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property target target property yes target target property target target property target target property target target property target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property target target property yes target target property target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes target target property yes get bullet,issue,positive,neutral,neutral,neutral,neutral,neutral
162354688,"Ok, I'll to dust off the OSX partition of this laptop and try to build on that platform.
",dust partition try build platform,issue,negative,neutral,neutral,neutral,neutral,neutral
162347891,"Creating XCode project fails when applying this patch. I'll try Windows and report later.
It might be better to create either static or dynamic libraries, but not both at the same time.

./premake_osx xcode4
Project 'Bullet3Common' uses more than one target kind; not supported by Xcode
",project patch try report later might better create either static dynamic time project one target kind,issue,positive,positive,positive,positive,positive,positive
162347692,"I just tried compiling the dll version of BulletCollision on Mac OSX, at it produces a linker error:
./premake_osx gmake
cd gmake
make config=releasedll64 BulletCollision

Linking BulletCollision
ld: warning: directory not found for option '-L/usr/lib64'
Undefined symbols for architecture x86_64:
  ""_maxdot_large(float const_, float const_, unsigned long, float_)"", referenced from:
      FindMaxSeparation(int_, btBox2dShape const_, btTransform const&, btBox2dShape const_, btTransform const&) in btBox2dBox2dCollisionAlgorithm.o
      btConvexHullShape::localGetSupportingVertexWithoutMargin(btVector3 const&) const in btConvexHullShape.o
      btConvexHullShape::batchedUnitVectorGetSupportingVertexWithoutMargin(btVector3 const_, btVector3_, int) const in btConvexHullShape.o

I guess we need to explicitly express dependencies (similar to  TARGET_LINK_LIBRARIES(BulletCollision LinearMath) in CMAKE) ?
",tried version mac linker error make linking warning directory found option undefined architecture float float unsigned long guess need explicitly express similar,issue,negative,negative,neutral,neutral,negative,negative
162279678,"Ok the premake scripts have been improved.  The shared libs are not build automatically, one must explicitly specify ""config=releasedll64"" at the **make** step.  I assume on windows one would select the correct config via the UI.

I also added a **--target-suffix** option so that it is possible to produce custom library names that don't have 'gmake' in them.
",premake build automatically one must explicitly specify make step assume one would select correct via also added option possible produce custom library,issue,negative,neutral,neutral,neutral,neutral,neutral
162223742,"Could it be you enabled EIGEN library instead of Bullet LinearMath?
",could library instead bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
162163694,"Thank you for your help. And I'll try with these instructions.
I have not decided the license right now. But it can be used freely and in any way you like, and also can be added into Bullet.
",thank help try decided license right used freely way like also added bullet,issue,positive,positive,positive,positive,positive,positive
162157785,"Yeah, the proliferation of default projects and bulk-copying of code sucks.  Let me see if I can clean it up and come up with something cleaner and easier to maintain.  I'm enjoying playing with **premake** and am motivated to learn more about it.  If I can't come up with something acceptable then I'll settle for using **cmake**.
",yeah proliferation default code let see clean come something cleaner easier maintain enjoying premake learn ca come something acceptable settle,issue,positive,positive,positive,positive,positive,positive
162145774,"Sure, that looks good. We could as well enable the compilation of the SimpleOpenGL3 example (it is mainly a simple start project to create an OpenGL context, without external dependencies. We can also remove 'gwen' library from SimpleOpenGL3 because it is not used.
",sure good could well enable compilation example mainly simple start project create context without external also remove library used,issue,positive,positive,positive,positive,positive,positive
162143960,"I need to think about it, there are some issues. First of all, I prefer not to build DLL by default, and only make it an option that has to be turned on. 2nd, this is going to add maintenance, due to the duplication of all the projects. 

Perhaps we can use a 'function' to re-use premake bits, see
https://github.com/bulletphysics/bullet3/blob/old_demos/Demos3/premake4.lua
Still, it adds more complexity.

Did you consider using CMake instead? It has more features than premake and it already supports dynamic libraries.
",need think first prefer build default make option turned going add maintenance due duplication perhaps use premake see still complexity consider instead premake already dynamic,issue,negative,positive,neutral,neutral,positive,positive
162102882,"I just realized that I'm not happy with the name of the output shared libraries.  I'm going to fight with premake to see if I can get it to do what I want.  Marking this PR as **DO NOT MERGE** until that fight is over.
",happy name output going fight premake see get want marking merge fight,issue,negative,positive,positive,positive,positive,positive
162016634,"That ?w=1 is a handy option. It is still preferable to keep the whitespace fixes in a separate commit from the actual changes in the code.
",handy option still preferable keep separate commit actual code,issue,negative,positive,positive,positive,positive,positive
161885753,"Here's a tip for those who don't know: add ?w=1 to the end of the github diff URL to make force it to ignore whitespace differences.
",tip know add end make force ignore,issue,negative,neutral,neutral,neutral,neutral,neutral
161879729,"Thanks for the contribution!
Bullet uses tabs for indentation, but it is not always consistent for various (sloppy) reasons.
Here is the old code style document: https://docs.google.com/document/d/1u9vyzPtrVoVhYqQOGNWUgjRbfwfCdIts_NzmvgiJ144/edit?usp=sharing
In the future for Bullet 3.x we might switch to a different coding style, but Bullet 2.x will stick to this.
",thanks contribution bullet indentation always consistent various sloppy old code style document future bullet might switch different style bullet stick,issue,negative,positive,neutral,neutral,positive,positive
161865581,"I had a look at your example, thanks for sharing. There are many issues, here are a couple:
1) First of all, the collision meshes are way too detailed, and should be simplified a lot (don't reuse visual mesh for collision mesh)
2) You should disable self-collision for the btMultiBody (this could be one of the reasons for torque)
3) It is best to not rely on constraint limits until grasping works well. Just use 'continuous' joints without limits (one more reason to get undesired torques). Use motors instead.
4) It is best to use joint motors to drive the fingers, at least in the beginning. See ImportURDF demo how to do this. Once that works nicely, then consider using other control methods (computed torque + inverse dynamics, or PID control etc)
5) The masses and inertias are extremely small and this will lead to instability. It is best to use larger masses/inertias first, until the grasp works nicely. Once grasping an object works well, then you can adjust to more realistic masses, use double precision, better constraint solver etc.

What is the license of the grasp example and the URDF file? Can it be added to Bullet?
I consider creating a working grasp demo, and this seems a nice starting point.
",look example thanks many couple first collision way detailed simplified lot reuse visual mesh collision mesh disable could one torque best rely constraint grasping work well use without one reason get undesired torque use best use joint drive least beginning see work nicely consider control torque inverse dynamic control extremely small lead instability best use first grasp work nicely grasping object work well adjust realistic use double precision better constraint solver license grasp example file added bullet consider working grasp nice starting point,issue,positive,positive,positive,positive,positive,positive
161576772,"Thanks for the example. It looks like I just had a bug in my code (forgot the extra 6 dummy values). I think there might be a small typo in the example. 

qdot6[6+i] = qdot6[i];
q6[6+i] = q6[i];
joint_force6[6+i] = joint_force6[i];
=>
qdot6[6 + i] = qdot[i];
q6[6 + i] = q[i];
joint_force6[6 + i] = joint_force[i];
",thanks example like bug code forgot extra dummy think might small typo example,issue,positive,negative,neutral,neutral,negative,negative
161374547,"The first inverse dynamics example code didn't support floating base.
I modified the example to support floating base, by adding 6 dummy values that represent the floating base. See https://github.com/bulletphysics/bullet3/pull/542
",first inverse dynamic example code support floating base example support floating base dummy represent floating base see,issue,positive,negative,negative,negative,negative,negative
161187629,"what compiler+version do you use? Did you use premake or cmake to create Makefiles? What linux distro?

(It works fine here on Linux 64 by the way)
",use use premake create work fine way,issue,negative,positive,positive,positive,positive,positive
160535588,"Hi, I've push my codes here https://github.com/mirsking/bullet3/tree/graspit_demo  and there are two commits. The first one is without btMultiBodyJointLimitConstraint in URDFRevoluteJoint, and I've modify URDF2Bullet.cpp to add btMultiBodyJointLimitConstraint for URDFRevoluteJoint in the other commit.
Thank you for your help!
",hi push two first one without modify add commit thank help,issue,positive,positive,positive,positive,positive,positive
160433160,"Can you fork the latest bullet3 repo and modify/add a demo with your grasp sim + URDF file,
and provide a link? Please make it build out-of-the-box similar to the existing Bullet demos, using either premake or cmake. Thanks!
",fork latest bullet grasp file provide link please make build similar bullet demo either premake thanks,issue,positive,positive,positive,positive,positive,positive
159991783,"Yes, done here: https://github.com/bulletphysics/bullet3/pull/538
If there are other struct definitions with the same issue, please report them in a separate issue.
Thanks for the report!
",yes done issue please report separate issue thanks report,issue,positive,positive,positive,positive,positive,positive
159382431,"accidently merged a pull request, hitting the wrong button, github GUI :-1: 
",accidently pull request wrong button,issue,negative,negative,negative,negative,negative,negative
157002398,"Remove redundant if test (seq impulse solver) (redundant if isEnabled() )  
I actually deleted the first one; but the diff ended up deleting inbetween... so it's not as easy to see the delete of the empty if test...
",remove redundant test impulse solver redundant actually first one ended easy see delete empty test,issue,negative,positive,neutral,neutral,positive,positive
156394995,"> My guess is that latest modern compilers automatically create SIMD code from regular C,C++ code, so manual SIMD as used in a few parts in Bullet is likely obsolete. More important, data optimizations are likely more important nowadays.

Data optimizations are important of course, but..  On neon arch I have better results with NEON disabled in btVector3 math.  For example btGenerateInternalEdgeInfo is approx 20% faster.  I keep NEON vectorisation in minDot/maxDot only - there it make sense - it's batch operation and most of time is faster than scalar version.  Common btVector3 math like operator+ and others leads in real-app to frequent load/store float32x4_t which is slow.  Implementing SIMD in general vector/matrix math is not good idea.
",guess latest modern automatically create code regular code manual used bullet likely obsolete important data likely important nowadays data important course neon arch better neon disabled math example faster keep neon make sense batch operation time faster scalar version common math like frequent slow general math good idea,issue,positive,positive,positive,positive,positive,positive
156146959,"Hi Erwin,

Since you start to improve the btMultiBody model, do you have any idea if you will improve the spherical joint usage and its joint limit capabilities soon? Is that on the roadmap of the near future?

Best,

P.S. I would love to help you on that, but I do not know enough about the codebase to help you improve it.
",hi since start improve model idea improve spherical joint usage joint limit soon near future best would love help know enough help improve,issue,positive,positive,positive,positive,positive,positive
155258961,"At this stage I prefer not to break the API and people having to fix their code bases when they upgrade to a newer version of Bullet 2.x. I'll make sure to fix it in Bullet 3.x.
",stage prefer break people fix code base upgrade version bullet make sure fix bullet,issue,negative,negative,negative,negative,negative,negative
155170291,"Thanks for the pull request. Let me have a look at it, I may move the strDup into an existing class.
",thanks pull request let look may move class,issue,negative,positive,positive,positive,positive,positive
154961108,"Thank you for the quick fix. Yes, I confirm that the problem reported is now fixed in HEAD of master.
",thank quick fix yes confirm problem fixed head master,issue,negative,positive,positive,positive,positive,positive
154911099,"Both look valid fixes, thanks for the contribution!
",look valid thanks contribution,issue,negative,positive,positive,positive,positive,positive
154910756,"Clang got confused by duplicate class names in Bullet3OpenGL and BulletCollision. Fixed in latest revision, see https://github.com/bulletphysics/bullet3/pull/521
",clang got confused duplicate class fixed latest revision see,issue,negative,positive,neutral,neutral,positive,positive
154878400,"I could reproduce it, it might be some clang issue related to namespaces.
Can you see if this pull request fixes the issue for you too?
https://github.com/bulletphysics/bullet3/pull/521
",could reproduce might clang issue related see pull request issue,issue,negative,neutral,neutral,neutral,neutral,neutral
154864014,"Thanks for the report. I can't reproduce such crash, on Mac OSX, 64bit, release build with Rolling Friction demo.
1) Is this an unmodified version of Bullet?
2) What build system did you use, premake or cmake, all details/flags etc, please.
3) What version of the compiler (Xcode and clang version) and operating system version?
4) Does it reproduce in an unoptimized debug build?
",thanks report ca reproduce crash mac bit release build rolling friction unmodified version bullet build system use premake version compiler clang version operating system version reproduce build,issue,negative,positive,positive,positive,positive,positive
154860898,"(dlls are runtime) yeah; forgot again what my issue with that was... library destination SHOULD apply to DLLs and doesn't... or RUNTIME should apply to .so's and doesn't.  

My reaction was more that it was a 'FIX for MinGW-w64' and it was a do-nothing change that just complicates finding how things installed.

Looking further; shouldn't the macro also handle the APPLE target switch; and the header file install?  
",yeah forgot issue library destination apply apply reaction change finding looking macro also handle apple target switch header file install,issue,negative,neutral,neutral,neutral,neutral,neutral
154856864,"@d3x0r:
- no, you're wrong, .DLL files are treated as RUNTIME
- do you have a case against macros that avoid duplicate code, or it's just personal ?
",wrong case avoid duplicate code personal,issue,negative,negative,negative,negative,negative,negative
154855855,"-           RUNTIME DESTINATION bin
-           LIBRARY DESTINATION lib${LIB_SUFFIX}
-           ARCHIVE DESTINATION lib${LIB_SUFFIX})

I guess Bullet builds static lib... but LIBRARY DESTINATION is also where .DLL files go, which should be bin not lib for windows.

include( GNUInstallDirs ) is the recommended place to get destinations by cmake; though it really doesn't work all that well... since it doesn't produce bin/lib for windows but tries to drop all into the install destination.

and do you really HAVE to change all the install targets to a macro?
",destination bin library destination archive destination guess bullet static library destination also go bin include place get though really work well since produce drop install destination really change install macro,issue,negative,positive,positive,positive,positive,positive
154291937,"Yes, a joint motor with target velocity to zero is a good approach for now. In a future revision of Bullet we may add built-in support for joint friction.
",yes joint motor target velocity zero good approach future revision bullet may add support joint friction,issue,positive,positive,positive,positive,positive,positive
153232474,"I'm happy to help. Ready to close this issue?
",happy help ready close issue,issue,positive,positive,positive,positive,positive,positive
153163103,"Ended up with other disrelated 'fixes' which should have been rolled back before making this request.
",ended disrelated rolled back making request,issue,negative,neutral,neutral,neutral,neutral,neutral
153146079,"Thank you very much for the link to the impulse wikipage. Now I know why I had to use ridiculously high values in my simulator :)

Thank you also very much for the link to the source code. That's a nice trick that I can easily adapt to my simulator. 
",thank much link impulse know use ridiculously high simulator thank also much link source code nice trick easily adapt simulator,issue,positive,positive,positive,positive,positive,positive
152598766,"Well, the `btHingeConstraint` function is called [setMaxMotorImpulse](https://github.com/bulletphysics/bullet3/blob/5ded2d3ee437c74caccc136bf8c35bebf3e2fc62/src/BulletDynamics/ConstraintSolver/btHingeConstraint.h#L179), but the `btSliderConstraint` function is called [setMaxMotorImpulse](https://github.com/bulletphysics/bullet3/blob/master/src/BulletDynamics/ConstraintSolver/btSliderConstraint.h#L239). You can convert from force to impulse with a fixed-step solver by multiplying by the time-step size (see [impulse definition here](https://en.wikipedia.org/wiki/Impulse_%28physics%29)).
",well function function convert force impulse solver multiplying size see impulse definition,issue,negative,neutral,neutral,neutral,neutral,neutral
152479840,"Thank you very much for the quick reply. I will definitely have a look at the code in the next couple of days. I didn't really understand the difference of impulse force/torque in bullet. I couldn't find any documentation on it.
",thank much quick reply definitely look code next couple day really understand difference impulse bullet could find documentation,issue,positive,positive,positive,positive,positive,positive
152226419,"The approach we have taken in gazebo (see [issue 381](https://bitbucket.org/osrf/gazebo/issues/381/ode-joints-dont-support-friction-parameter#comment-12148418)) is to use the joint motor functionality. I set the desired velocity to zero and the motor force/torque to the friction value.

For the slider joint: https://bitbucket.org/osrf/gazebo/src/ba680b40dcadefb8bebb9835ae26b8b4d2c6cc0e/gazebo/physics/bullet/BulletSliderJoint.cc?fileviewer=file-view-default#BulletSliderJoint.cc-376

For the hinge joint: https://bitbucket.org/osrf/gazebo/src/ba680b40dcadefb8bebb9835ae26b8b4d2c6cc0e/gazebo/physics/bullet/BulletHingeJoint.cc?at=default&fileviewer=file-view-default#BulletHingeJoint.cc-398

Look at the code, because some functions take an impulse instead of a force/torque.
",approach taken gazebo see issue use joint motor functionality set desired velocity zero motor friction value slider joint hinge joint look code take impulse instead,issue,positive,neutral,neutral,neutral,neutral,neutral
151612675,"Need to figure out a way to re-trigger travis on this pull request 
",need figure way travis pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
151611392,"There is no real active development in the OpenCL acceleration and due to refactoring of the examples (old demos) the pull request is in conflict. Unless you have time to make it work with latest trunk, lets close the pull request. Thanks a lot for the contributions anyhow!
",real active development acceleration due old demo pull request conflict unless time make work latest trunk close pull request thanks lot anyhow,issue,positive,positive,neutral,neutral,positive,positive
151610817,"I glanced over the pull request again, and it shouldn't cause conflicts. So I'm going to merge it.
Thanks a lot for the contribution and excuses for the long delay.
",pull request cause going merge thanks lot contribution long delay,issue,negative,positive,neutral,neutral,positive,positive
151589742,"That looks good to me. At some stage it would be useful to create unit tests to catch those cases and avoid regression.
",good stage would useful create unit catch avoid regression,issue,positive,positive,positive,positive,positive,positive
151589194,"That sounds good to me. It look like it is barely used in the source tree anyway. Thanks for the contribution!
",good look like barely used source tree anyway thanks contribution,issue,positive,positive,positive,positive,positive,positive
151263530,"Sure I know about shadow builds :-) The .gitignore file won't prevent anyone from using them either. I just find this helpful in some cases. Just reject the pull request if it's not useful. 
",sure know shadow file wo prevent anyone either find helpful reject pull request useful,issue,positive,positive,positive,positive,positive,positive
151252751,"In siconos, we use OutOfSourcesBuild.cmake to forbid building in the source directory. You have to switch the IN_SOURCE_BUILD variable if you want to change this default behavior.
",use forbid building source directory switch variable want change default behavior,issue,negative,neutral,neutral,neutral,neutral,neutral
151250622,"I would say so too. Generally you should make a separate build folder to build a cmake project. By that, you can easily delete the folder again or have multiple build folders with multiple cmake configurations such as Release and Debug compilations.
",would say generally make separate build folder build project easily delete folder multiple build multiple release,issue,negative,positive,positive,positive,positive,positive
151229438,"I thought it was better practice to use a separate build folder:

```
mkdir build
cd build
cmake ..
make
```
",thought better practice use separate build folder build build make,issue,negative,positive,positive,positive,positive,positive
150946339,"I have similar issues with modified btGeneric6DofSpring2Constraint. In my case assert hits after I disable constraints due to breaking.
I did do some studying how this issue should be solved.

Basic issue is that infom may get set to zero which causes assert failure later in multiply2_p8r
There should probably be additional logic for such cases.
I tried few variations and visual/pyhsical response was best for case where most of block was just skipped if infom is zero. Only incrementation of jj is done.
https://github.com/simo-11/bullet3/commit/e35bad0df19d0a72fbd38c849fbfbacb1d9bae2b

```
            const unsigned int infom =  row__ < m_tmpSolverNonContactConstraintPool.size() ? m_tmpConstraintSizesPool[jj].m_numConstraintRows : numContactRows;
  if(infom>0){      
            const btScalar *JinvMrow = JinvM + 2*8*(size_t)row__;
            const btScalar *Jrow = Jptr + 2*8*(size_t)row__;
            m_A.multiply2_p8r (JinvMrow, Jrow, infom, infom, row__,row__);
            if (orgBodyB) 
            {
                m_A.multiplyAdd2_p8r (JinvMrow + 8*(size_t)infom, Jrow + 8*(size_t)infom, infom, infom,  row__,row__);
            }
            row__ += infom;
          }
            jj++;
```
",similar case assert disable due breaking issue basic issue may get set zero assert failure later probably additional logic tried response best case block zero incrementation done unsigned,issue,negative,positive,neutral,neutral,positive,positive
150336568,"Regarding comparing the isolated performance of the for-loop versus the memmove, I tried the Google benchmark library (https://github.com/google/benchmark).

Here is the complete code I used:

``` c++
#include <benchmark/benchmark_api.h>
#include <vector>
#include <cstring>

int stacksize = 20000;
int j = 100;

void BM_forloop(benchmark::State& state) {

    std::vector<int> stack;
    stack.resize(stacksize);

    while (state.KeepRunning()) {
        for(int k=stack.size(); k>j; --k) {
            stack[k] = stack[k-1];
        }
    }
}

BENCHMARK(BM_forloop);

void BM_memmove(benchmark::State& state) {

    std::vector<int> stack;
    stack.resize(stacksize);

    while (state.KeepRunning()) {
        int num_items_to_move = stack.size()-1-j;
        if(num_items_to_move > 0)
            memmove(&stack[j+1],&stack[j],sizeof(int)*num_items_to_move);
    }
}

BENCHMARK(BM_memmove);

void BM_unsafememmove(benchmark::State& state) {

    std::vector<int> stack;
    stack.resize(stacksize);

    while (state.KeepRunning()) {
        memmove(&stack[j+1],&stack[j],sizeof(int)*(stack.size()-1-j));
    }
}

BENCHMARK(BM_unsafememmove);

BENCHMARK_MAIN()
```

The result output on my Linux machine looks like this:

```
Run on (8 X 2261 MHz CPU s)
2015-10-22 21:46:07
Benchmark          Time(ns)    CPU(ns) Iterations
-------------------------------------------------
BM_forloop            12736      12667      51471                                 
BM_memmove             3083       3084     224359                                 
BM_unsafememmove       3060       3062     227273  
```

First time I tried the benchmark library so I'm no expert at it. Found it after watching this here,
https://youtu.be/nXaxk27zwlk
",regarding isolated performance versus tried library complete code used include include vector include void state stack stack stack void state stack stack stack void state stack stack stack result output machine like run time first time tried library expert found watching,issue,negative,positive,positive,positive,positive,positive
150104746,"By the way, can you explain how you used the  google benchmark utility exactly?
",way explain used utility exactly,issue,negative,positive,positive,positive,positive,positive
150104237,"You should be able to edit the file Bullet/src/LinearMath/btScalar.h
Just comment out the line that tells #define BT_USE_SSE (all occurences or just for your platform.)
",able edit file comment line define platform,issue,negative,positive,positive,positive,positive,positive
150103945,"should be fixed by this pull request:
https://github.com/bulletphysics/bullet3/pull/500

thanks for the report!
",fixed pull request thanks report,issue,negative,positive,positive,positive,positive,positive
150046740,"I'll make a new pull request tomorrow.
",make new pull request tomorrow,issue,negative,positive,positive,positive,positive,positive
150045780,"Oops far too many commits in this pull request, was only supposed to be a single one (381eee6)
",far many pull request supposed single one,issue,negative,positive,positive,positive,positive,positive
150010417,"I started looking at this again now, hope to make some kind of fix in the end. 
",looking hope make kind fix end,issue,positive,positive,positive,positive,positive,positive
149752752,"Actually, I put a breakpoint while running PhysicsClient/PhysicsServer and after a long while continued running. Then the timestep became huge, and the PhysicsServer 'stepSimulation' took forever. That's why I clamped to 10, which got accidently committed. Might be worth thinking about a way to clamp the stepSimulation to some reasonable amount for such debug sessions (1 or 2 seconds).
",actually put running long continued running huge took forever got accidently might worth thinking way clamp reasonable amount session,issue,negative,positive,positive,positive,positive,positive
147778231,"You mention AMD CodeXL. I believe running SSE on AMD was slower at some point than Intel, not sure if this is still the case or if it would explain the discrepancies you see here, but could be worth checking out if you haven't already done so.
",mention believe running point sure still case would explain see could worth already done,issue,negative,positive,positive,positive,positive,positive
147463430,"Sorry, I was too set up in the GitHub mindset. Thank you for your answer.
",sorry set thank answer,issue,negative,negative,negative,negative,negative,negative
147451877,"This is not a place for discussion and questions, please use the forums at http://bulletphysics.org

In a nutshell, a raycast is just a collision query, and it should work fine. A raycast or collision query has no impact on simulation.
",place discussion please use nutshell collision query work fine collision query impact simulation,issue,negative,positive,positive,positive,positive,positive
146936325,"good find, thanks for the report and fix!
",good find thanks report fix,issue,positive,positive,positive,positive,positive,positive
146933594,"sure, that's a bug, thanks for the report and fix!
",sure bug thanks report fix,issue,positive,positive,positive,positive,positive,positive
146928416,"Sorry, you're right! I was looking for ""printf"", but Visual Studio didn't look into btMatrixX.h since the file isn't included in the project file created by CMake.
",sorry right looking visual studio look since file included project file,issue,negative,negative,neutral,neutral,negative,negative
146384717,"Thanks for your report too. Right now I am working on some other areas of Bullet. At some stage I'll optimize the implementation...
",thanks report right working bullet stage optimize implementation,issue,positive,positive,positive,positive,positive,positive
146383445,"It you fix the build for clang on Linux please re-open the issue and we can enable the Travis.

Otherwise Linux+clang is just a not-supported combination. In other words, I don't have time to track down the clang-Linux issues.
",fix build clang please issue enable travis otherwise combination time track,issue,negative,neutral,neutral,neutral,neutral,neutral
146382891,"My guess is that latest modern compilers automatically create SIMD code from regular C,C++ code, so manual SIMD as used in a few parts in Bullet is likely obsolete. More important, data optimizations are likely more important nowadays. Right now I don't have time for optimizations, so unless you have a patch ready, lets close this report.
",guess latest modern automatically create code regular code manual used bullet likely obsolete important data likely important nowadays right time unless patch ready close report,issue,positive,positive,positive,positive,positive,positive
146377278,"I upgraded to Bullet 2.83.6, and reran the tests, but the results were much the same, in SSE2, I get a time of 25.648 seconds (averaged over three runs of the test), and in scalar, I get 25.207 seconds (averaged over three runs). Based on your comment, it does sound expected that SIMD speedup does not apply to modern CPUs/current compilers? Or do you think it would be more a case of the current SIMD codebase just being ""out of tune"" on VS2015/Haswell?
",bullet much get time three test scalar get three based comment sound apply modern think would case current tune,issue,negative,positive,positive,positive,positive,positive
146352313,"Thanks, I was using 2.82 since the engine I'm working with is currently integrated with that version. I didn't realize that 2.82 was actually so old, from October 2013. I'll see about upgrading to see how it behaves.
",thanks since engine working currently version realize actually old see see,issue,negative,positive,positive,positive,positive,positive
146349862,"I would recommend using the latest Bullet (which is 2.83.5), why would you use an old version 2.82?

My guess: the SSE/SIMD implementation was written many years ago, when compilers didn't do auto vectorization. Nowadays, compilers perform auto vectorization and automatically optimize for SSE/SIMD.

It would be good to optimize Bullet again, using recent compilers. Nowadays, it is better to optimize for memory access instead of just clock cycles.
",would recommend latest bullet would use old version guess implementation written many ago auto nowadays perform auto automatically optimize would good optimize bullet recent nowadays better optimize memory access instead clock,issue,positive,positive,positive,positive,positive,positive
146347163,"Ops, very sorry, the flags I had been testing with in above were `BT_USE_SSE`+`BT_USE_SIMD_VECTOR3`, and not `BT_USE_SSE`+`BT_USE_SSE_IN_API`. I tried rerunning the tests with `BT_USE_SSE`+`BT_USE_SIMD_VECTOR3`+`BT_USE_SSE_IN_API`, but the results were practically the same.
",sorry testing tried practically,issue,negative,negative,negative,negative,negative,negative
145503835,"It happens in three separate commercial games but i can't provide those as test case, sorry.
",three separate commercial ca provide test case sorry,issue,negative,negative,negative,negative,negative,negative
145014649,"thanks for the report, I'll look at it. Dou you have a reproduction case you can share?
",thanks report look reproduction case share,issue,positive,positive,positive,positive,positive,positive
140691006,"Ah, I think at some point LinearMath was no longer needed in HACD and the link was commented out from the build script. Now that V-HACD uses LinearMath again, the source code includes btConvexHullComputer.h and btAlignedObjectArray.h. But I left them out and included the ones in bullet instead without adding back the linker dependency to LinearMath.
Should work now.
",ah think point longer link build script source code left included bullet instead without back linker dependency work,issue,negative,neutral,neutral,neutral,neutral,neutral
140591756,"It does seem like it. It works on Windows, but I can check Linux tomorrow.
",seem like work check tomorrow,issue,negative,neutral,neutral,neutral,neutral,neutral
140590510,"Great, thanks for the contribution! It is one of the first user-contributed examples using the new Example Browser :-) I'll have a look at it soon. It looks like the DLL version has a compile issue, perhaps you need to add a dependency to LinearMath library?
",great thanks contribution one first new example browser look soon like version compile issue perhaps need add dependency library,issue,positive,positive,positive,positive,positive,positive
139423215,"Ping, I need to look at this. Still too busy with other things.
",ping need look still busy,issue,negative,positive,neutral,neutral,positive,positive
139423139,"Yes, not all example code releases the memory, it needs to be fixed at some stage...
",yes example code memory need fixed stage,issue,negative,positive,neutral,neutral,positive,positive
139423048,"Yes, that URL is the best place to get vectormath. Vectormath was dropped because it was only used in BulletMultiThreaded, which was dropped.
",yes best place get used,issue,positive,positive,positive,positive,positive,positive
139422855,"Yes, this should be addressed. We lack resources to address this at the moment and fix it once we have time.
",yes lack address moment fix time,issue,negative,neutral,neutral,neutral,neutral,neutral
135442726,"Thanks! I think this may be closed now.
",thanks think may closed,issue,negative,positive,neutral,neutral,positive,positive
134589807,"This might be relevant in the same run:
#463 Implement btMultiBodyJointMotor and btMultiBodyJointLimitConstraint for Spherical Joint
",might relevant run implement spherical joint,issue,negative,positive,positive,positive,positive,positive
132266090,"The fact the ray does not hit from inside is not the problem. The problem is that it sometimes hits and sometimes doesn't on a seemly random basis.
Also, inverting the ray is not a solution, unless you are using AllHitsRayResultCallback.
It's not clear if they ment to use back culling or not. The kF_FilterBackfaces is not used at all in the source code.
",fact ray hit inside problem problem sometimes sometimes seemly random basis also ray solution unless clear use back culling used source code,issue,negative,negative,negative,negative,negative,negative
132236536,"I tried the same with other shapes, in my case the box and the capsule shape and I also do not get any hits from inside. 

I even tried to remove the filter backfaces in case that was the problem, but it does not change it at all.

```
 rayCallback.m_flags &= !btTriangleRaycastCallback::kF_FilterBackfaces;
```

My solution here was just to invert the ray to get proper hits. But it should be looked into from the Bullet Physics side.
",tried case box capsule shape also get inside even tried remove filter case problem change solution invert ray get proper bullet physic side,issue,negative,neutral,neutral,neutral,neutral,neutral
128158133,"```
mkdir build
cd build
cmake .. -DBUILD_SHARED_LIBS=ON
```

See also the [bullet homebrew formula](https://github.com/Homebrew/homebrew/blob/master/Library/Formula/bullet.rb#L37).
",build build see also bullet formula,issue,negative,neutral,neutral,neutral,neutral,neutral
128121094,"See #446 : Mathematically, theta and d should be larger than _epsilon for 1.0-SIMD_EPSILON (also increased precision for results near 0.0), so if the dotproduct is below the presicion threshold, theta and d would be >0, so no extra check is probably needed after that point.
",see mathematically theta also precision near threshold theta would extra check probably point,issue,negative,positive,neutral,neutral,positive,positive
127437261,"sure, that is a harmless change. Thanks for the patch.
",sure harmless change thanks patch,issue,positive,positive,positive,positive,positive,positive
127048340,"Yes, that is a bug and I'll fix it right away. Thanks for reporting!
",yes bug fix right away thanks,issue,positive,positive,positive,positive,positive,positive
126754264,"The effect you describe in the HelloWorld with varying timestep is likely due to continuous collision detection. I'll look at it after the SIGGRAPH conference.
",effect describe likely due continuous collision detection look conference,issue,negative,negative,neutral,neutral,negative,negative
125744268,"The box size is computed in [InertiaVisual.cc](https://bitbucket.org/osrf/gazebo/src/533f2914646453e3dc090d1795ca3e8924bcc683/gazebo/rendering/InertiaVisual.cc#InertiaVisual.cc-52). I think it's a useful tool too. :)
",box size think useful tool,issue,negative,positive,positive,positive,positive,positive
125488717,"To simplify everything, forget about my code for now (since it is complex and composed of thousands objects), 
you can open the famous helloWorld example and set the time increment to 0.01, and restitution of both falling and static object to 1.  Let the fall object to free fall from a certain height. monitor the position of the fall object. it'll be nice, but if you set the time increment to 0.001, or less, the fall  object wont bounce any more!

It is reported also here: http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=10695&p=35903#p35903

there seem to be something goes wrong when the time increment is less than a certain amount.
",simplify everything forget code since complex composed open famous example set time increment restitution falling static object let fall object free fall certain height monitor position fall object nice set time increment le fall object wont bounce also seem something go wrong time increment le certain amount,issue,positive,positive,positive,positive,positive,positive
124800837,"A race condition was discovered with solving islands in parallel if kinematic objects are present. If a kinematic object is part of 2 or more islands, and the islands are running in separate threads, the `companionId` field of the kinematic body will get stomped on in `btSequentialImpulseConstraintSolver::getOrInitSolverBody`.

Basically the solver is storing it's own private data in an object that is being shared between threads. That can't work. If each body had a unique-id assigned to it, then the solver could store the data it wants in an array indexed by the body's unique-id.
",race condition discovered parallel kinematic present kinematic object part running separate field kinematic body get basically solver private data object ca work body assigned solver could store data array indexed body,issue,negative,neutral,neutral,neutral,neutral,neutral
121300787,"Those fixes are in latest Bullet github repository, so issue can be closed.
",latest bullet repository issue closed,issue,negative,positive,positive,positive,positive,positive
121288144,"The code in your repository won't compile because it has different folder layout and requires external dependencies. If you can modify an origin Bullet example (in Bullet/examples directory) without adding platform/compiler/external dependencies, I will have a look at it. Could you do that and create a simple pull request on a modified example?
",code repository wo compile different folder layout external modify origin bullet example directory without look could create simple pull request example,issue,negative,neutral,neutral,neutral,neutral,neutral
121286804,"The feature has been implemented. See examples/MultiBody/TestJointTorqueSetup how to use it. Separately, there is also feedback for a multibody constraint, such as a hinge motor. See examples/MultiBody/MultiBodyConstraintFeedback.cpp
",feature see use separately also feedback constraint hinge motor see,issue,negative,neutral,neutral,neutral,neutral,neutral
121286232,"@jbohren There is no active development on the OpenCL/GPU pipeline, there have been no contributions in this area since a year a so. Access of GPU accelerated features using the Bullet 2 API is not available anymore, unless you digg into some earlier version of the repository. I plan on creating a new Bullet 3 API that is compatible with OpenCL and the regular CPU C++ version. I'll check about the glewInit issue later.
",active development pipeline area since year access accelerated bullet available unless version repository plan new bullet compatible regular version check issue later,issue,negative,positive,neutral,neutral,positive,positive
121285085,"Those fixes are in latest Bullet github repository, so we can close this issue, right? If not, please create a new one. Thanks for the report and confirming it has been fixed.
",latest bullet repository close issue right please create new one thanks report confirming fixed,issue,positive,positive,positive,positive,positive,positive
121225229,"After fixes by GaborPuhr solution is stable in my tests with single precision using 10 iterations.
https://github.com/bulletphysics/bullet3/commit/98e1334a64e0efd69afec20a58e3720d9f3ac87a
",solution stable single precision,issue,positive,negative,neutral,neutral,negative,negative
120763666,"If you can reproduce the issue using Bullet in this repository, using C++ and modifying any of the included examples, I can have a look at it.
",reproduce issue bullet repository included look,issue,negative,neutral,neutral,neutral,neutral,neutral
120762991,"finalize has been added, issue should be fixed now.
",finalize added issue fixed,issue,negative,positive,neutral,neutral,positive,positive
120762937,"applied sim0-11 fix, thanks everyone for report and suggested fixes:
https://github.com/bulletphysics/bullet3/pull/421
",applied fix thanks everyone report,issue,negative,positive,positive,positive,positive,positive
120762884,"if alignment doesn't fix it, please provide a reproduction case using the ATTRIBUTE_ALIGNED16 macro and file a new issue. Thanks!
",alignment fix please provide reproduction case macro file new issue thanks,issue,positive,positive,positive,positive,positive,positive
120683424,"please do not use the issue tracker for discussions like this. you can use the Bulet forums at http://bulletphysics.org
",please use issue tracker like use,issue,positive,neutral,neutral,neutral,neutral,neutral
120681629,"I don't understand this, but I managed to compile the program with,

`g++ ./bullet3/examples/HelloWorld/HelloWorld.cpp -lGL -lGLU -I ./bullet3/src ./bullet3/src/BulletDynamics/libBulletDynamics.a ./bullet3/src/BulletCollision/libBulletCollision.a ./bullet3/src/LinearMath/libLinearMath.a`

and opening the output,

`./a.out`

gives the expected numbers? I don't understand why I get the error when I try to make the project files, but it still compiles as expected - it's really confusing ???
",understand compile program opening output understand get error try make project still really,issue,negative,positive,positive,positive,positive,positive
120463982,"This seems to work and and does not reduce quality if full size can be handled.
I could not make pull request of this change only but it is available as
https://github.com/simo-11/bullet3/commit/575033d1cfdcfa81847817a7e5619acc6398e9b3

Spec says that minimum size is 64 so else above is not handled.
",work reduce quality full size handled could make pull request change available spec minimum size else handled,issue,negative,positive,positive,positive,positive,positive
120446247,"As noted in initial report it asserts and getting 0x505 means that gl instance cannot recover.
Solution suggested above seems attractive.
I could do some testing and then report results.
",noted initial report getting instance recover solution attractive could testing report,issue,positive,positive,positive,positive,positive,positive
120441361,"sorry to butt in but I would suggest something like:

```
size = max_desired_size
texture = 0
while(size > 0)
    generate texture
    if texture generated then break
    size = size >> 1
if texture then
    yay
else
    tell user to not use intel GPUs and disable feature
```

that's what I do in my game for these kind of global buffers allocated on the GPU
",sorry butt would suggest something like size texture size generate texture texture break size size texture else tell user use disable feature game kind global,issue,positive,negative,neutral,neutral,negative,negative
120437050,"Is there a point in the application where it crashes or asserts? We could add some logic that next time, it runs with lower resolution shadow-map size. It seems mainly an issue with some Intel GPUs, because AMD and NVIDIA GPUs usually have plenty of memory. Lowering the shadowmap resolution+size for Intel GPUs seems more attractive. Another option is a small startup screen. I prefer not to lower the quality of everyone else, just because of limited capability GPUs. Note that you can also run with --opengl2 then it will use stencil buffer shadows.
",point application could add logic next time lower resolution size mainly issue usually plenty memory lowering attractive another option small screen prefer lower quality everyone else limited capability note also run use stencil buffer,issue,negative,positive,neutral,neutral,positive,positive
120425124,"Having low shadow map size will make shadows look quite bad.

That happens already with 4096 but I compensated it by making 
shadowMapWorldSize smaller
float shadowMapWorldSize=5; // was 100

This is with shadow map size=4096 and shadowMapWorldSize=5
![image](https://cloud.githubusercontent.com/assets/1210784/8620597/444739d6-2729-11e5-8ab3-800b06cb1ec7.png)

This is with shadow map size=256 and shadowMapWorldSize=5
![image](https://cloud.githubusercontent.com/assets/1210784/8620698/ecd48d56-2729-11e5-862a-9c39315c1e3a.png)

If this causes issues for others some solution should probably be done. 
I can help in testing if someone comes up with solution that Erwin accepts.
",low shadow map size make look quite bad already making smaller float shadow map image shadow map image solution probably done help testing someone come solution,issue,negative,negative,negative,negative,negative,negative
120399937,"It would be much easier just to have a field which has the shadow map size
by default to a very low value, and allow the user to change it. Unless for
some reason the user shouldn't change the shadow map size, I don't see a
problem with that.

On Fri, Jul 10, 2015, 8:11 AM Simo Nikula notifications@github.com wrote:

> In my machine glGetIntegerv(GL_MAX_TEXTURE_SIZE, &size); gives 0x2000 but
> after glTextImage2D glGetError will return 0x505 if size is 0x2000.
> [image: image]
> https://cloud.githubusercontent.com/assets/1210784/8618274/2293ec26-2715-11e5-9a2e-85e2b77c21de.png
> 
> [image: image]
> https://cloud.githubusercontent.com/assets/1210784/8618303/6472ce00-2715-11e5-96ae-919bf578aeca.png
> 
> Solving this may not be worth the trouble but users that run into this
> issue can change the size of shadowMap
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/405#issuecomment-120396950
> .
",would much easier field shadow map size default low value allow user change unless reason user change shadow map size see problem wrote machine size return size image image image image may worth trouble run issue change size reply directly view,issue,negative,positive,neutral,neutral,positive,positive
120396950,"In my machine glGetIntegerv(GL_MAX_TEXTURE_SIZE, &size); gives 0x2000 but after glTextImage2D glGetError will return 0x505 if size is 0x2000.
![image](https://cloud.githubusercontent.com/assets/1210784/8618274/2293ec26-2715-11e5-9a2e-85e2b77c21de.png)

![image](https://cloud.githubusercontent.com/assets/1210784/8618303/6472ce00-2715-11e5-96ae-919bf578aeca.png)

Solving this may not be worth the trouble but users that run into this issue can change the size of shadowMap
",machine size return size image image may worth trouble run issue change size,issue,negative,positive,neutral,neutral,positive,positive
119875208,"You can find the tests in C++ here: https://github.com/Ehsanizadi/Bullet-examples/tree/master/directShearTest

With double precision turned on, very negligible changes happen to plots. So, the issue still exists.

Also another post regarding reducing of timestep reported in Bullet forums : http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=10695&p=35899#p35899
",find double precision turned negligible happen issue still also another post regarding reducing bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
119834675,"Sorry, it's not only this line, but also the remain block. For a reason, function wrapper didn't work (it throws an error, don't remember which) but macro version works indeed.
",sorry line also remain block reason function wrapper work error remember macro version work indeed,issue,negative,negative,negative,negative,negative,negative
119822668,"#if WINVER <0x0602 is applied in master, thanks for the report!
",applied master thanks report,issue,negative,positive,positive,positive,positive,positive
119133169,"I'm a Windows XP user, and I had to change that line by this one to make it really work:

#if WINVER <0x0602
// ULONGLONG GetTickCount64 () {return GetTickCount (); }
#define GetTickCount64 GetTickCount
#endif
",user change line one make really work return define,issue,negative,positive,positive,positive,positive,positive
118980581,"If I'm correct with OpenGL, you can `glGetInteger(GL_MAX_TEXTURE_SIZE, &size);`, and that will return the maximum supported texture size for the current GPU, you'd also cache that value because it wouldn't change, I could be wrong though.
",correct size return maximum texture size current also cache value would change could wrong though,issue,negative,negative,negative,negative,negative,negative
118863178,"Can you implement tests in C++ and create a pull request? Make sure to use double precision when using a small timestep. For general discussion please use the Bullet forums. Thanks!
",implement create pull request make sure use double precision small general discussion please use bullet thanks,issue,positive,positive,neutral,neutral,positive,positive
115532320,"Hello, Mr. Coumans.
Explicit Constructor is not a C++11's feature. :)
http://en.cppreference.com/w/cpp/language/explicit
https://msdn.microsoft.com/en-us/library/h1y7x448(v=vs.80).aspx
",hello explicit constructor feature,issue,negative,neutral,neutral,neutral,neutral,neutral
115304320,"Thanks for the report. Perhaps we can do some checking for maximum texture sizes in OpenGL? Otherwise a check based on Vendor could help.
",thanks report perhaps maximum texture size otherwise check based vendor could help,issue,positive,positive,positive,positive,positive,positive
115304062,"I'll look at the compound shape construction. We cannot use the 'explicit' keyword because we don't require c++11 for Bullet. Thanks for the contribution!
",look compound shape construction use require bullet thanks contribution,issue,negative,positive,positive,positive,positive,positive
115128583,"a first comparison between joint force/torque feedback using rigid body versus multi body looks promising, results are fairly similar. Note that the joint feedback of btMultiBody is in local link space by default. A temporary global variable can switch it to world space (as used in the example, for comparison with constraint feedback, which is always in world space). use 'extern bool gJointFeedbackInWorldSpace; gJointFeedbackInWorldSpace = true; to enable world space feedback.

push request is here: https://github.com/bulletphysics/bullet3/pull/411
More testing and review is needed for the btMultiBody joint feedback
",first comparison joint feedback rigid body versus body promising fairly similar note joint feedback local link space default temporary global variable switch world space used example comparison constraint feedback always world space use bool true enable world space feedback push request testing review joint feedback,issue,positive,positive,positive,positive,positive,positive
113673761,"A new commit to support measuring the joint force/torque feedback for the motor/limits of the btMultiBody mobilizers (applying a force along the axis), and a pull request: https://github.com/bulletphysics/bullet3/pull/410
Still needs some testing, but mechanisms seems to work.
",new commit support measuring joint feedback force along axis pull request still need testing work,issue,positive,positive,positive,positive,positive,positive
113620872,"All constraints (contacts, mobilizer motors and mobilizer limits, other pair-wise constraints between btMultiBody and other btMultiBody or btRigidBody) will induce joint reaction forces. The way I implement it now is that after solving all constraints, the force output (impulse/dt) of the MLCP solver will be applied as 'external' forces to the btMultiBody. Then all those forces will be propagated in the articulated body algorithm and generate force/torque feedback for each mobilizer (btMultiBody internal joint). Does that work for you?
",induce joint reaction way implement force output solver applied articulated body algorithm generate feedback internal joint work,issue,negative,neutral,neutral,neutral,neutral,neutral
113598407,"Will the constraint (motor/limits) induced forces be separate from the joint reaction force ? The former is the forces along the axis of mobilizers while the latter are the reaction forces perpendicular to the mobilizer axis.  Is the former the same as ""appliedImpulse"" on constraints ? Since appliedImpulse is already throttled by ""maxImpulse"" on motors/limits, the existing implementation may suffice in many cases. The latter is currently lacking to implement ""break-able"" mobilizer joints for example.
",constraint induced separate joint reaction force former along axis latter reaction perpendicular axis former since already implementation may suffice many latter currently implement example,issue,negative,positive,neutral,neutral,positive,positive
113562861,"A first implementation is in my fork, but some more work needs to be done for 'mobilizer' motor and limits (explicitly computing the required forces, rather than updating the acceleration immediately).
https://github.com/erwincoumans/bullet3/commit/89edc40d61b7b9d36233094393ed07ff5470376f
",first implementation fork work need done motor explicitly rather acceleration immediately,issue,negative,positive,positive,positive,positive,positive
113522486,"Yes, I'm aware that there are other coordinate systems that people use besides my own considering the fact that I had to deal with this when I convert models/skeletons from blender's Z-up coordinate system to my engine's. 

However, I've decided that this issue should be closed because I just checked the header file of btSimpleDynamicsWorld again and it states that it is a unit-test class and one should use btDiscreteDynamicsWorld instead (which uses the Y-axis by default). I guess when testing btSimpleDynamicsWorld, the author decided to test the gravity on a different axis.

Anyway, I blame whatever tutorial I followed when I first used Bullet a couple years ago for telling me to use btSimpleDynamicsWorld even though the documentation states not to.
",yes aware people use besides considering fact deal convert blender system engine however decided issue closed checked header file class one use instead default guess testing author decided test gravity different axis anyway blame whatever tutorial first used bullet couple ago telling use even though documentation,issue,negative,positive,neutral,neutral,positive,positive
113490308,"Some graphics systems are Y-up, some are Z-up. In most cases it's easy to change, so use whichever feels natural. Just make sure the graphics subsystem, the physics subsystem and the model assets use the same setting.

Both make sense depending on where you come from. If you draw a graph on paper, the X-axis goes to the right and the Y-axis goes up. But if you draw a world map and try to map it to the real world, the X-axis goes across the land in one direction and the Y-axis goes across the land in another direction perpendicular to the X-axis. Now if you want to express elevation, all you're left with is the Z-axis, so you end up with Z pointing up.
",graphic easy change use whichever natural make sure graphic subsystem physic subsystem model asset use setting make sense depending come draw graph paper go right go draw world map try map real world go across land one direction go across land another direction perpendicular want express elevation left end pointing,issue,positive,positive,positive,positive,positive,positive
113435186,"To me it seems quite logical. As I always set Z axis as vertical axis in my dynamics world.
But its not a serious issue, you can always set it to a different value when you want to init your world.
",quite logical always set axis vertical axis dynamic world serious issue always set different value want world,issue,positive,negative,neutral,neutral,negative,negative
111742770,"FYI, I think a bug was introduced in this commit: [https://github.com/lunkhound/bullet3/commit/5b8f306271933511384d59319e0660f3e3fc64e8]
I'm looking into it now.
",think bug commit looking,issue,negative,neutral,neutral,neutral,neutral,neutral
111574011,"Apparently it is not, so you need to align your data for this API call.
Indeed, it would be great if NEON would work on un-aligned data. I don't have the time create a work-around, so please use the alignment macro.
",apparently need align data call indeed would great neon would work data time create please use alignment macro,issue,positive,positive,positive,positive,positive,positive
111183686,"Isn't it already aligned without the macro?
Besides that I think it should accept any argument without crashing, aligned or not. 
",already without macro besides think accept argument without,issue,negative,neutral,neutral,neutral,neutral,neutral
111137847,"Did you make sure your destination matrix is 16-byte aligned?
",make sure destination matrix,issue,negative,positive,positive,positive,positive,positive
110957920,"Thanks for the contribution. It looks fine to me at a first glance. I hope it doesn't conflict with other pull requests, such as the multi threaded patch.
",thanks contribution fine first glance hope conflict pull threaded patch,issue,positive,positive,positive,positive,positive,positive
110845027,"Great, if that answered the question, then feel free to close the issue. Glad to help.
",great question feel free close issue glad help,issue,positive,positive,positive,positive,positive,positive
110679892,"Yes, I can surely help. My interest is that Bullet could be compiled into a .dll/.so library with the C symbols exported. This is a standard way of writing wrappers for other languages like C# and Lua.
",yes surely help interest bullet could library standard way writing like,issue,positive,positive,positive,positive,positive,positive
109548084,"Yes, it changed in a165ff54c9e6ec789945a3d7c7e37cda47573efb (see justification in #328). It was incorrect before, now the units should be Nm.
",yes see justification incorrect,issue,negative,neutral,neutral,neutral,neutral,neutral
109511995,"b3ThreadSupportInterface lacks some functionality. It lacks any way for code to ask if it is the main thread or a worker thread. This is needed to keep the profiling system in Bullet 2.x from running amok.
Also it lacks a way of starting tasks which would be needed to do things.
b3ThreadSupportInterface looks like it was designed for the Playstation 3 (Cell) hardware, rather than modern multicore CPUs. Do you intend to support PS3 type hardware in Bullet 2?
",functionality way code ask main thread worker thread keep system bullet running amok also way starting would like designed cell hardware rather modern multicore intend support type hardware bullet,issue,positive,positive,positive,positive,positive,positive
109486823,"No idea about the C++11 thing, but I likely want to implement a solution based on C++2003 with the b3ThreadSupportInterface that works out-of-the-box. I'll give some more feedback about the patch soon. Thanks!
",idea thing likely want implement solution based work give feedback patch soon thanks,issue,positive,positive,neutral,neutral,positive,positive
109485755,"Hmmm. I wouldn't expect that. I know at least one person had it working with GCC, though I don't know if it was Ubuntu or not.
The check for C++11 compliance must not be working for your configuration (btThreads.cpp, line 43). The check is `#if __cplusplus >= 201103L` which is a more conservative check than it needs to be since it only requires a subset of <atomic> and <thread> from C++11 in order to work.
Is there some compiler flag that suppresses C++11 compatibility being used?
",would expect know least one person working though know check compliance must working configuration line check conservative check need since subset atomic thread order work compiler flag compatibility used,issue,negative,negative,negative,negative,negative,negative
109414995,"I just applied the patch for testing on Linux/Ubuntu. Without enabling any flags, cmake builds fine.

If we enable the definition BULLET2_USE_THREAD_LOCKS in cmake, the following error shows up:
/usr/local/google/home/erwincoumans/develop/bullet3/src/LinearMath/btThreads.cpp:151:2: error: #error ""no threading primitives defined -- unknown platform""

Note I didn't enable any other options yet. Is this to be expected?
",applied patch testing without fine enable definition following error error error defined unknown platform note enable yet,issue,negative,positive,positive,positive,positive,positive
109381729,"This patch got missing when moving from Demos3 -> examples/ExampleBrowser.
https://github.com/erwincoumans/bullet3/commit/5d40d90bd039150084862fe4bf1094fdca7efb92#diff-b900a5055ee1bcfab289964fa6e8fe70R1299

You need to 'finalize' a constraint after all links are added to a multi body.
",patch got missing moving demo need constraint link added body,issue,negative,negative,negative,negative,negative,negative
109378630,"We need to review and apply outstanding patches in the issue tracker/pull request before making changes in the entire codebase, such as optional namespace, style improvements, inconsistencies etc. 

Bullet is mainly a 1-man development project (me) and occasional contributors (see push requests/issues). I can see how inconsistent indentation, tabs, spaces are a hassle for someone who wants to add functionality inside Bullet. If someone who makes an actual contribution that adds functionality to Bullet, I am more likely to accept style improvements.

Long lines don't bother me (I've been using wide-screen monitors for many years now, and in my opinion 80-line limits are prehistoric) but excessive long lines are not necessary indeed. If you think it is useful, we can pick some more relaxed maximum line width such as 120 characters, would that help?

By the way, I'm preparing another SIGGRAPH 2015 course about Bullet and likely create some slides with high-level information about which algorithms are used where.

By the way, there is some old coding style guide here:
https://docs.google.com/document/d/1u9vyzPtrVoVhYqQOGNWUgjRbfwfCdIts_NzmvgiJ144/edit

I'm happy to discuss or change the style guide with a contributor of Bullet.
",need review apply outstanding issue request making entire optional style bullet mainly development project occasional see push see inconsistent indentation hassle someone add functionality inside bullet someone actual contribution functionality bullet likely accept style long bother many opinion prehistoric excessive long necessary indeed think useful pick relaxed maximum line width would help way another course bullet likely create information used way old style guide happy discus change style guide contributor bullet,issue,positive,positive,positive,positive,positive,positive
109258787,"Here are previous discussions about namespaces and code style in general:
http://bulletphysics.org/Bullet/phpBB3/viewtopic.php?t=2723
http://bulletphysics.org/Bullet/phpBB3/viewtopic.php?t=7600
http://bulletphysics.org/Bullet/phpBB3/viewtopic.php?t=9642

On the topic of code style, some time ago there was an effort to clean up the formatting of the 2.xx code: https://code.google.com/p/bullet/issues/detail?id=110
There are still currently long lines, tabs in arbitrary places like method declarations and inconsistent indenting. Is there any chance that patches like these could be applied? http://pastebin.com/NJHfShZm
",previous code style general topic code style time ago effort clean code still currently long arbitrary like method inconsistent chance like could applied,issue,positive,positive,neutral,neutral,positive,positive
109091631,"I am happy to accept a contribution for an optional namespace, as long as namespaces are disabled by default and doesn't mess with anything (build systems, doxygen etc).
Also a patch should not make any other changes aside from adding the namespace macros (no change in layout, converting tabs to spaces, remove warnings).
If you consider making such a patch, please first create a small example patch for a few files, so we can iterate how to implement the macros.
",happy accept contribution optional long disabled default mess anything build also patch make aside change layout converting remove consider making patch please first create small example patch iterate implement,issue,positive,positive,neutral,neutral,positive,positive
109090995,"Yes, you'd define a namespace for your personal bullet library. Then two copies of bullet could exist in the same process and dynamic symbol space.  For example, I've done this to bullet 2.7 where my build at Disney is called DisneyBullet so that it doesn't conflict with the non namespaced version that is being exposed in Houdini. Without that I get crashes.
",yes define personal bullet library two bullet could exist process dynamic symbol space example done bullet build conflict non version exposed without get,issue,negative,neutral,neutral,neutral,neutral,neutral
109001851,"AndresTraks,
As you might see, I aim to have C API embedded in Bullet 3.
For doing this, the big challenge is to make LinearMath library of Bullet compatible with C, with no loose of optimizations. (Actually, I theoretically improved optimization since I use a generic ""restricted"" pointer specifier when possible

After this, the C API might be easily written in full Bullet 3 API.

Do you think we should combine our efforts?
",might see aim bullet big challenge make library bullet compatible loose actually theoretically optimization since use generic restricted pointer specifier possible might easily written full bullet think combine,issue,negative,positive,positive,positive,positive,positive
108657195,"Can you explain how the name spaces would avoid conflicts for multiple shared libraries with exported Bullet libraries? Would you rename the namespace for each shared library that uses of Bullet?
",explain name would avoid multiple bullet would rename library bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
106931890,"It's strange that the build failed in one of the 4 test cases, however it seems the build just timed out.  I can say locally I am using TDM-GCC distribution of MinGW and the changes compile and work fine.  
",strange build one test however build timed say locally distribution compile work fine,issue,negative,positive,positive,positive,positive,positive
106462938,"Well, sorry couldn't find any workaround so I just deleted the file :/ 
Hope it'll get fixed asap.
",well sorry could find file hope get fixed,issue,positive,negative,negative,negative,negative,negative
106057542,"Thanks for the fix/improvement!

See also discussion here:
http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=10541
",thanks see also discussion,issue,negative,positive,positive,positive,positive,positive
105702501,"Thanks for the feedback Erwin.

On (1). Yes I've tried to adhere to that, not introducing any extra dependencies out of the box. I've also tried to follow the principal of ""you only pay for what you use"" -- meaning that if someone doesn't compile with the threadsafe flag, there shouldn't be any performance or memory penalties compared to without this patch.
The Cmake flag is called `BULLET2_USE_THREAD_LOCKS`, which defaults to off. With that flag off, no dependencies are added. In addition, there should be no performance degradation because the locking calls (`btMutexLock`, `btMutexUnlock`) become inlined empty functions.
If `BULLET2_USE_THREAD_LOCKS` is **enabled**, then the patch requires having C++11 or a recent MSVC compiler. As the name suggests, this flag by itself doesn't enable multithreading, it merely makes certain operations threadsafe.
The only thing that runs multithreaded is the MultiThreadedDemo. In order to build that, one must set the `BULLET2_USE_THREAD_LOCKS` flag as well as `BUILD_BULLET2_DEMOS`. Then 3 new Cmake flags should appear (all defaulted to off):
  `BULLET2_MULTITHREADED_OPEN_MP_DEMO`
  `BULLET2_MULTITHREADED_TBB_DEMO`
  `BULLET2_MULTITHREADED_PPL_DEMO`
Each of these adds a dependency. Any combination of the flags is supported, though at least one of them must be enabled to see the MultiThreadedDemo. TBB is the only external dependency, if TBB is selected, Cmake will require directories be specified pointing to an installed TBB.

On (2). You'll notice that in this patch, no changes were made to any constraint solvers. I simply added the ability to simulate islands in parallel. For collision detection, minor changes were made to make some narrowphase checks threadsafe. There should be no loss of functionality. Although, as cameronwhite pointed out above, the collision dispatcher in MultiThreadedDemo is nondeterministic.

So a big difference between this patch and the old BulletMultiThreaded is that in this patch, the multithreaded version is running basically the same code as single-threaded bullet. The only difference is that a few `for` loops are swapped out with a `parallelFor`. The old BulletMultiThreaded stuff looked like quite a maintenance burden due to duplicated classes such as `btParallelConstraintSolver`.

On (3). No reason it has to be one or the other -- both would be best. It works fine with TBB to have tasks launching other tasks. But I think the user should be able to choose one or the other (or both simultaneously).

One reason I have all of the task scheduler specific stuff outside of the main bullet libraries is that I didn't want Bullet to be dictating which task scheduler to use. I'd like to be able to use my own custom task scheduler if I choose, so that it integrates better with the rest of my application.

Looking at the `b3ThreadSupportInterface` class, I can't work out how you start tasks with it. The interface I'm using is `parallelFor`, look here [https://github.com/lunkhound/bullet3/commit/c820ed13452eb977b23a2e0c335695fc4244a9a5]
and search for `parallelFor` to see how it is used.

My apologies for taking your attention away from Bullet3. But until Bullet3 is stable and ready for production, I'd really like to be able to have multithreading in Bullet2 working. And by reusing the single-threaded code, I'm hoping to minimize the burden.
",thanks feedback yes tried adhere extra box also tried follow principal pay use meaning someone compile flag performance memory without patch flag flag added addition performance degradation locking become empty patch recent compiler name flag enable merely certain thing multithreaded order build one must set flag well new appear dependency combination though least one must see external dependency selected require pointing notice patch made constraint simply added ability simulate parallel collision detection minor made make loss functionality although pointed collision dispatcher big difference patch old patch multithreaded version running basically code bullet difference old stuff like quite maintenance burden due class reason one would best work fine think user able choose one simultaneously one reason task specific stuff outside main bullet want bullet task use like able use custom task choose better rest application looking class ca work start interface look search see used taking attention away bullet bullet stable ready production really like able bullet working code minimize burden,issue,positive,positive,positive,positive,positive,positive
105513186,"For the MLCP solver suite (and possibly Featherstone as well), it would be useful to keep the per-island approach. I don't see how a graph-colouring approach would apply for those methods, and the nature of matrix factorization means that the overhead involved in parallelizing some of the dot product operations, etc., would outweigh any benefits for solving the smaller, stiff systems that one would typically use a direct solver for anyway. At least that's my thought on it, I would love for someone to prove me wrong however :-)
",solver suite possibly well would useful keep approach see approach would apply nature matrix factorization overhead involved dot product would outweigh smaller stiff one would typically use direct solver anyway least thought would love someone prove wrong however,issue,positive,negative,neutral,neutral,negative,negative
105381017,"Yes, graph coloring (splitting constraints in batches that don't share bodies) is/was implemented both in the btParallelConstraintSolver (which is now removed) and in the OpenCL GPU rigid body pipeline.
I removed the BulletMultiThreaded because it was not fully supporting most features, and because I want to move to Bullet 3.x and re-implement multi-threading.

Problem is that there is no team working on Bullet, it is just myself and occasional contributors, so things move slowly. Now you are pulling the attention back to Bullet 2.x, re-enabling multithreading using Intel TBB etc. Of course I welcome contributions and give some preliminary feedback on this pull request. I'll try to give some feedback later.

1) By default, Bullet should compile out-of-the-box without any external dependencies: Bullet cannot have any dependency on C++11, BOOST, STL, Intel TBB, OpenMP.
We can have some optional CMake/premake flag that enables Intel TBB and pthreads for example.

2) If we re-enable multi-threading for Bullet 2.x, it should support all features of one or more of the existing constraint solvers and collision dispatcher.

3) I prefer parallelizing using graph coloring, instead of per-island. Perhaps we can have both.

There are some threading classes that I want to re-enable, if possible, similar to the BulletMultiThreading classes. I haven't looked your the code of this pull request yet, but perhaps we can enable Intel TBB, OpenMP and those b3ThreadSupportInterface and user-defined thread support? See also https://github.com/bulletphysics/bullet3/tree/old_demos/btgui/MultiThreading

Thanks!
Erwin
",yes graph coloring splitting share removed rigid body pipeline removed fully supporting want move bullet problem team working bullet occasional move slowly attention back bullet course welcome give preliminary feedback pull request try give feedback default bullet compile without external bullet dependency boost optional flag bullet support one constraint collision prefer graph coloring instead perhaps class want possible similar class code pull request yet perhaps enable thread support see also thanks,issue,positive,positive,positive,positive,positive,positive
105373986,"The idea is to split the constraints into batches that don't share any bodies, and then for each batch you can safely solve those constraints in parallel. For e.g. a chain of bodies A-B-C-D-E you can solve constraints AB and CD in parallel, followed by BC and DE in parallel
",idea split share batch safely solve parallel chain solve parallel de parallel,issue,positive,positive,positive,positive,positive,positive
105368089,"Yep if everything is in one big island, then there's no benefit to running the islands in parallel. It is very scene-dependent. It would definitely be nice to parallelize the constraint solver. I tried to do that with `btSequentialImpulseConstraintSolver` but it got messy and the results were mixed so I pulled it all out. The graph coloring idea sounds interesting. I don't see how it could be deterministic though, could it be?

One nice feature about running the islands in parallel is that it works with different constraint solvers, not just the sequential impulse one.
",yep everything one big island benefit running parallel would definitely nice parallelize constraint solver tried got messy mixed graph coloring idea interesting see could deterministic though could one nice feature running parallel work different constraint sequential impulse one,issue,positive,positive,positive,positive,positive,positive
104971078,"We do have the option to use `btParalleConstraintSolver` (which was removed in 2.83), but it's on my todo list to look into multi-threading the regular constraint solver. Many of our simulations have large islands (e.g. a building collapsing), so I suspect that a graph coloring approach to splitting the constraints into batches might provide better performance in our case than solving islands in parallel.
",option use removed list look regular constraint solver many large building suspect graph coloring approach splitting might provide better performance case parallel,issue,negative,positive,positive,positive,positive,positive
104942632,"It's reassuring that you identified the same threadsafe issues that I did. Does your implementation solve constraints in parallel also?
",reassuring implementation solve parallel also,issue,positive,neutral,neutral,neutral,neutral,neutral
104802724,"Sorry, yeah, I meant the Gimpact shape. It looks like I did it by adding actual locking around the modifications inside of `TrimeshPrimitiveManager::lock()` and `TrimeshPrimitiveManager::unlock()`
",sorry yeah meant shape like actual locking around inside,issue,positive,negative,negative,negative,negative,negative
104794130,"I didn't make any change the concave-convex algorithm, do you mean Gimpact? Thanks for looking into that.
",make change algorithm mean thanks looking,issue,negative,negative,neutral,neutral,negative,negative
104463886,"I'll double check our Bullet patches tomorrow, but I think the only required changes were to add a lock in the concave collision detection algorithm and to allocate the `btVoronoiSimplexSolver` on the stack in the convex vs convex algorithm, and it looks like you've made similar changes.
",double check bullet tomorrow think add lock concave collision detection algorithm allocate stack convex convex algorithm like made similar,issue,negative,positive,neutral,neutral,positive,positive
104451712,"Yes this narrowphase is about as simple as possible, and doesn't attempt to be deterministic. That's a good point, thanks for pointing that out.

I'd certainly be interested in seeing your narrowphase if you are able to share it. Did you need to make any changes to Bullet source for it?
",yes simple possible attempt deterministic good point thanks pointing certainly interested seeing able share need make bullet source,issue,positive,positive,positive,positive,positive,positive
104375166,"I think the multi-threaded narrowphase here will produce non-deterministic simulation results (the constraint solver is sensitive to the ordering of the contact manifolds, and allocating manifolds from multiple threads will result in a different order for `m_manifoldPtr` when re-running a simulation). I wrote a multi-threaded btCollisionDispatcher subclass for the Bullet solver in Houdini, so I'll see if I can make that available (it currently has some dependencies on other parts of our codebase).

My implementation doesn't involve any locking, though - the simulations we deal with are typically large enough that the memory pools don't help much, and the `m_manifoldPtr` list is built using the `getAllContactManifolds` method after dispatching the pairs and allocating the manifolds - this ensures that the order of the manifolds is deterministic (provided that the list of overlapping pairs has a deterministic order).
",think produce simulation constraint solver sensitive contact multiple result different order simulation wrote subclass bullet solver see make available currently implementation involve locking though deal typically large enough memory help much list built method order deterministic provided list deterministic order,issue,negative,positive,positive,positive,positive,positive
103689677,"Yes, I hope that gcc on MinGW gets fixed soon, as you are using a buggy compiler. 
In the meanwhile, if you have a workaround for your buggy compiler that makes Bullet compile, can you please share it? Otherwise, just delete the btInternalEdgeUtility.cpp and you should be good to go.
",yes hope fixed soon buggy compiler meanwhile buggy compiler bullet compile please share otherwise delete good go,issue,positive,positive,positive,positive,positive,positive
102598062,"I've also been working on a C API as part of a P/Invoke .NET wrapper. It's pretty much complete for bullet 2 and I've planned to start with bullet 3 this summer. https://github.com/AndresTraks/BulletSharpPInvoke/tree/master/libbulletc

It's a bit different though as it's first and foremost designed to be an intermediate layer between bullet and other higher level wrappers instead of being a natural C API. The code is completely independent from bullet, so nothing needs to be modified in bullet itself.

Here's the idea of how it currently works:

``` cpp
//btCollisionShape_wrap.h
#ifndef BT_COLLISION_SHAPE_H
#define btCollisionShape void
#endif
EXPORT void btCollisionShape_delete(btCollisionShape* obj);
```

``` cpp
//btSphereShape_wrap.h
#ifndef BT_SPHERE_MINKOWSKI_H
#define btSphereShape void
#endif
EXPORT btSphereShape* btSphereShape_new(btScalar radius);
EXPORT btScalar btSphereShape_getRadius(btSphereShape* obj);
```

``` cpp
//btCollisionShape_wrap.cpp
#include <BulletCollision/CollisionShapes/btCollisionShape.h>
#include ""btCollisionShape_wrap.h""

void btCollisionShape_delete(btCollisionShape* obj)
{
    delete obj;
}
```

``` cpp
//btSphereShape_wrap.cpp
#include <BulletCollision/CollisionShapes/btSphereShape.h>
#include ""btSphereShape_wrap.h""

btSphereShape* btSphereShape_new(btScalar radius)
{
    return new btSphereShape(radius);
}

btScalar btSphereShape_getRadius(btSphereShape* obj)
{
    return obj->getRadius();
}
```

``` cpp
//bulletc.h
#include ""btCollisionShape_wrap.h""
#include ""btSphereShape_wrap.h""
```

``` cpp
//test.cpp
#include <bulletc.h>

btSphereShape* shape = btSphereShape_new(1.0f);
btScalar radius = btSphereShape_getRadius(shape);
btCollisionShape_delete(shape);
```
",also working part wrapper pretty much complete bullet start bullet summer bit different though first foremost designed intermediate layer bullet higher level instead natural code completely independent bullet nothing need bullet idea currently work define void export void define void export radius export include include void delete include include radius return new radius return include include include shape radius shape shape,issue,positive,positive,positive,positive,positive,positive
102542290,"I really hope bullet 3 api will have a supported c api.

Lack of a stable supported fully featured wrapper has been biggest slow down with using Bullet in my non c++ projects.

Is the bullet 3 api going to be able to downgrade back to the cpu if the video card card isn't capable enough?

Thanks for all the great work.
",really hope bullet lack stable fully featured wrapper biggest slow bullet non bullet going able downgrade back video card card capable enough thanks great work,issue,positive,positive,positive,positive,positive,positive
102539777,"I am currently working on rebasing the work in this patch to the current version of bullet. I've collapsed it from 50+ commits to about 12 or so. I'm stripping out various dead-end lines of development and failed experiments, so the resulting patch should be much easier to follow. All the changes to the bullet core are already applied, all that remains is to port the demo to the new example browser framework. When it is ready I'll create a new pull request.
",currently working work patch current version bullet stripping various development resulting patch much easier follow bullet core already applied remains port new example browser framework ready create new pull request,issue,positive,positive,neutral,neutral,positive,positive
101854288,"There might be other issues with the spring in the btGeneric6DofSpring2Constraint
See http://bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=10541
We need to look at it again.
",might spring see need look,issue,negative,neutral,neutral,neutral,neutral,neutral
101100236,":+1: Gazebo compilation is currently broken on Arch Linux (Bullet 2.83) because of this.
",gazebo compilation currently broken arch bullet,issue,negative,negative,negative,negative,negative,negative
100375338,"ok, I'll try to add the 'sudo make install' line back in travis.yml. Thanks!
",try add make install line back thanks,issue,negative,positive,neutral,neutral,positive,positive
100042395,"Mac setup done using travis, seems to work
",mac setup done travis work,issue,negative,neutral,neutral,neutral,neutral,neutral
100035911,"I already added the check inside the cpp file, so we don't have to change each build system (premake, cmake and customers own build system). See https://github.com/erwincoumans/bullet3/commit/cedd0432bfe6789445e9031fcd8cd7b27e18ac53
",already added check inside file change build system premake build system see,issue,negative,neutral,neutral,neutral,neutral,neutral
100022226,"ok, first pull request is now building on Mac too, for travis, see
https://travis-ci.org/bulletphysics/bullet3/builds/61684139
",first pull request building mac travis see,issue,negative,positive,positive,positive,positive,positive
100022175,"See also #379, either one should work.
",see also either one work,issue,negative,neutral,neutral,neutral,neutral,neutral
100018824,"Actually, the multi-OS feature was enabled for Bullet back in 2014, so I need to check it out if it still works. I'll see if adding - osx to the travis file works.
",actually feature bullet back need check still work see travis file work,issue,negative,neutral,neutral,neutral,neutral,neutral
100012127,"I think [SimpleOpenGL3App](https://github.com/bulletphysics/bullet3/blob/master/examples/OpenGLWindow/SimpleOpenGL3App.cpp) is being compiled on Mountain Lion. We should only compile that if OpenGL3 is available right? I think that is causing the linking errors.
",think mountain lion compile available right think causing linking,issue,negative,positive,positive,positive,positive,positive
100010501,"It's complaining about symbols from `SimpleOpenGL3App.o`; I thought those were disabled. Can we double check that logic really quick?
",thought disabled double check logic really quick,issue,negative,positive,neutral,neutral,positive,positive
100010162,"So the static version works fine, just the shared lib version on Mountain Lion is broken?
Then I'm happy to go ahead with marking a new release.
",static version work fine version mountain lion broken happy go ahead marking new release,issue,negative,positive,positive,positive,positive,positive
100009812,"The `GLPrimitiveRenderer` is [disabled if OpenGL3 is not available](https://github.com/bulletphysics/bullet3/commit/0da584a42d1dc8792f2efd6e169cea6b5dc0caf8#diff-07c1d8af86c634224739c8b549cd999eR1). I don't know why the shared library linker wants to see them.
",disabled available know library linker see,issue,negative,positive,neutral,neutral,positive,positive
99999726,"works on Mavericks, the only failure I see is on Mountain Lion.
",work failure see mountain lion,issue,negative,negative,negative,negative,negative,negative
99997694,"It works on yosemite, just not on Mountain Lion.

You can decide how much you want to support.
",work mountain lion decide much want support,issue,negative,positive,positive,positive,positive,positive
99982220,"How do I replicate this, operating system, build system, compiler etc? I never use BUILD_SHARED.
I tried running this, but couldn't replicate an error on Yosmite:
cmake .. -G ""Unix Makefiles"" -DBUILD_SHARED_LIBS=ON
make
",replicate operating system build system compiler never use tried running could replicate error make,issue,negative,neutral,neutral,neutral,neutral,neutral
99979551,"have you used travis or appveyor for Mac OSX?
Checking out the error now.
",used travis mac error,issue,negative,neutral,neutral,neutral,neutral,neutral
99978848,"```
Undefined symbols for architecture x86_64:
  ""GLPrimitiveRenderer::setScreenSize(int, int)"", referenced from:
      SimpleResizeCallback(float, float) in SimpleOpenGL3App.o
  ""GLPrimitiveRenderer::drawTexturedRect3D(PrimVertex const&, PrimVertex const&, PrimVertex const&, PrimVertex const&, float*, float*, bool)"", referenced from:
      SimpleOpenGL3App::drawText3D(char const*, float, float, float, float) in SimpleOpenGL3App.o
  ""GLPrimitiveRenderer::GLPrimitiveRenderer(int, int)"", referenced from:
      SimpleOpenGL3App::SimpleOpenGL3App(char const*, int, int) in SimpleOpenGL3App.o
  ""GLInstancingRenderer::InitShaders()"", referenced from:
      SimpleOpenGL3App::SimpleOpenGL3App(char const*, int, int) in SimpleOpenGL3App.o
  ""GLInstancingRenderer::GLInstancingRenderer(int, int)"", referenced from:
      SimpleOpenGL3App::SimpleOpenGL3App(char const*, int, int) in SimpleOpenGL3App.o
  ""OpenGL2RenderCallbacks::OpenGL2RenderCallbacks(GLPrimitiveRenderer*)"", referenced from:
      SimpleOpenGL3App::SimpleOpenGL3App(char const*, int, int) in SimpleOpenGL3App.o
  ""_stbi_write_png"", referenced from:
      SimpleOpenGL3App::swapBuffer() in SimpleOpenGL3App.o
ld: symbol(s) not found for architecture x86_64
```
",undefined architecture float float float float bool char float float float float char char char char symbol found architecture,issue,negative,neutral,neutral,neutral,neutral,neutral
99974375,"if you have time, please try this one: 
https://github.com/bulletphysics/bullet3/pull/376
",time please try one,issue,negative,neutral,neutral,neutral,neutral,neutral
99973699,"Yes, we should setup CI for various versions of OSX, because fixing it in one version can still be broken in another, as we noticed a few times. Do you have time to help set it up with appveyor or travis?

In the meanwhile, I have a fix ready, commit in a few minutes :-)
",yes setup various fixing one version still broken another time time help set travis meanwhile fix ready commit,issue,positive,negative,neutral,neutral,negative,negative
99964735,"Sorry, now I get the following on Yosemite:

```
/Users/scpeters/osrf/bullet3/examples/OpenGLWindow/MacOpenGLWindow.mm:1041:29: error: instance variable
      'm_context' is protected
 [m_internalData->m_myview->m_context flushBuffer];
                            ^
1 error generated.
```
",sorry get following error instance variable error,issue,negative,negative,negative,negative,negative,negative
99668255,"Aargh, cmake compiles just fine on 10.6.8, so they moved glSwapApple to gl3.h, but that header doesn't exist on my machine. What a waste of time, I'll see how to get around this.
",fine header exist machine waste time see get around,issue,negative,positive,positive,positive,positive,positive
99658798,"Actually I've got a compilation error on my yosemite machine when I do a plain cmake build (no options):

```
examples/OpenGLWindow/MacOpenGLWindow.mm:1039:5: error: use of
      undeclared identifier 'glSwapAPPLE'
    glSwapAPPLE();
    ^
1 error generated.
make[2]: *** [examples/OpenGLWindow/CMakeFiles/OpenGLWindow.dir/MacOpenGLWindow.o] Error 1
make[2]: *** Waiting for unfinished jobs....
```
",actually got compilation error machine plain build error use undeclared identifier error make error make waiting unfinished,issue,negative,negative,negative,negative,negative,negative
99557147,"Looks like [appveyor failed](https://ci.appveyor.com/project/erwincoumans/bullet3/build/1.0.212#L2339). I'll test the compilation on 10.8 with my virtual machine, but I'm not sure OpenGL will work; I'll give it a shot though.
",like test compilation virtual machine sure work give shot though,issue,positive,positive,positive,positive,positive,positive
99550408,"Hi Steven, can you try if this works for you? It should build the ExampleBrowser on older Mac OSX versions, with just limited OpenGL2 enabled (not all examples will show graphics because it requires GL3, but quite a few do).
",hi steven try work build older mac limited show graphic quite,issue,negative,positive,neutral,neutral,positive,positive
99544599,"Sure, I'll close the pull request for now.
",sure close pull request,issue,negative,positive,positive,positive,positive,positive
99543944,"Can you delay the homebrew one day, I commit a fix that let's you run the
examples on older Mac OSX versions using OpenGL2. Testing that right now.

Thanks,
Erwin

On 6 May 2015 at 09:29, Steven Peters notifications@github.com wrote:

> I would recommend 2.83.1 (or 2.83.0), while keeping the existing 2.83 tag.
> It's good to keep them for historical reference, even if they are broken.
> 
> Also, I'm using cmake with homebrew (see lines 75-77 in the formula
> https://github.com/scpeters/homebrew/blob/bullet_2_83/Library/Formula/bullet.rb#L75-L77).
> The --with-demo option is a shortcut for enabling or disabling demos
> using the homebrew command line tool. I added some logic in the formula to
> disable the demos on 10.8 and earlier.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/bulletphysics/bullet3/issues/371#issuecomment-99530011
> .
",delay one day commit fix let run older mac testing right thanks may steven wrote would recommend keeping tag good keep historical reference even broken also see formula option demo command line tool added logic formula disable demo reply directly view,issue,positive,positive,positive,positive,positive,positive
99530011,"I would recommend 2.83.1 (or 2.83.0), while keeping the existing 2.83 tag. It's good to keep them for historical reference, even if they are broken.

Also, I'm using cmake with homebrew (see [lines 75-77 in the formula](https://github.com/scpeters/homebrew/blob/bullet_2_83/Library/Formula/bullet.rb#L75-L77)). The `--with-demo` option is a shortcut for enabling or disabling demos using the homebrew command line tool. I added some logic in the formula to disable the demos on 10.8 and earlier.
",would recommend keeping tag good keep historical reference even broken also see formula option demo command line tool added logic formula disable demo,issue,negative,positive,neutral,neutral,positive,positive
99526818,"By the way, what build system are you using for 'homebrew'? Who is using the --with-demos option?
Would a solution be that ExampleBrowser be available for newer platforms in homebrew, and disabled for older?
",way build system option would solution available disabled older,issue,negative,positive,positive,positive,positive,positive
99515531,"it also includes some other essential bug fix. What do you suggest for a new patch release?
Name it 2.83.1 and delete the old 2.83 tag? I rather not have people use the broken tag.
",also essential bug fix suggest new patch release name delete old tag rather people use broken tag,issue,negative,negative,neutral,neutral,negative,negative
99515275,"temp workaround, disabling all examples for old Mac OSX versions using cmake, is in this pull request. I'll see if I can re-enable the examples with only compiling OpenGL2 parts, using ifdefs
https://github.com/bulletphysics/bullet3/pull/373
",temp old mac pull request see,issue,negative,positive,neutral,neutral,positive,positive
99507148,"The Bullet 3 and Bullet 2 demos are merged into App_ExampleBrowser. So we need to fix compilation, using some 'USE_OPENGL2' define, so on older platforms it will only compile the OpenGL2 fallback. I'll see what I can do.
",bullet bullet demo need fix compilation define older compile fallback see,issue,negative,positive,positive,positive,positive,positive
99504797,"This is an issue indeed, I'll fix it right away. Thanks for reporting!
",issue indeed fix right away thanks,issue,negative,positive,positive,positive,positive,positive
99213981,"Oei! Thanks for catching that.

Manually unrolling is unnecessary in most cases when you can pass -funroll-loops in both gcc and clang and is also done in msvc when producing optimized builds.
",thanks catching manually unrolling unnecessary pas clang also done,issue,negative,positive,positive,positive,positive,positive
99203515,"It looks like the loops were manually unrolled. I'm not sure if there are performance implications of this change.
",like manually unrolled sure performance change,issue,positive,positive,positive,positive,positive,positive
99175432,"I likely re-enable other OpenCL demos too. I just wanted to get 'some' 2.83 release tagged, and cleaned up some mess into a single Example Browser.

If you want, you can try to enable a few other OpenCL demos. In fact, it should be almost trivial to enable a few more demos in the examples/OpenCL/rigidbody/GpuConvexScene.cpp file (next to box-box). The other files in examples/OpenCL/rigidbody/ need a bit more conversion work, not too complex.

So using 'clew' we dynamically load the OpenCL runtime, that's why I enabled compiling the OpenCL demos it by default: users don't need to install an OpenCL sdk to compile the Bullet demos. I just disabled running them by default, otherwise too many people start complaining that those OpenCL demos don't work, or don't work fast etc. Buggy OpenCL compilers/driver should be send at AMD and NVIDIA etc, not to me :-)

Thanks!
",likely demo get release tagged mess single example browser want try enable demo fact almost trivial enable demo file next need bit conversion work complex dynamically load demo default need install compile bullet demo disabled running default otherwise many people start demo work work fast buggy send thanks,issue,positive,positive,neutral,neutral,positive,positive
99150990,"> I think @sherm1 did the same thing recently with simbody, so you're not alone. But I think I complained to him too.

Guilty, but repentant and reformed!
",think thing recently alone think guilty repentant reformed,issue,negative,negative,negative,negative,negative,negative
99030050,"Yes, the <b>ExampleBrowser</b> works (I've just tested the bullet3-2.83 release package).

But now I can't find <b>App_Bullet3_OpenCL_Demos_clew_gmake_x64_release</b> anymore.
The demos inside ""ExampleBrowser"" all seem to be related to Bullet2, isn't it ?
So now the bullet3(=GPU support) demos are only accessible through the  --enable_experimental_opencl command line flag (i.e Box-Box and Pair Bench). Is that correct ?

[Edit:]<b>Yes</b>. I've just found out myself what you wrote in another post:

> I'm refactoring the demos/examples at the moment, and consider what to do with the experimental Bullet3/OpenCL work. My focus is currently higher-quality rigid body dynamics for robotics. There isn't anyone working on the OpenCL/GPU acceleration at the moment, so I likely mark it as 'experimental'. One of the on-going issues with OpenCL is lack of stable drivers and proper debugging tools. I plan merge some of the OpenCL demos in the new 'ExampleBrowser', and disable their compilation by default (you will be able to enable the 'OpenCL' examples in the build system, premake and cmake).

And since I'm happy with Bullet2, I'm glad it keeps improving...
",yes work tested release package ca find demo inside seem related bullet bullet support demo accessible command line flag pair bench correct edit yes found wrote another post moment consider experimental work focus currently rigid body dynamic anyone working acceleration moment likely mark one lack stable proper plan merge demo new disable compilation default able enable build system premake since happy bullet glad improving,issue,positive,positive,positive,positive,positive,positive
98992346,"Added an additional patch that fixes the same problem, but also in the bullet3 side of things.

Rebased on latest master.
",added additional patch problem also bullet side latest master,issue,negative,positive,positive,positive,positive,positive
98965474,"True, I thought no-one would notice this on a Sunday. Hey, stop working in the weekend Steven:-)
Fair enough, I'll use patch release next time.
",true thought would notice hey stop working weekend steven fair enough use patch release next time,issue,negative,positive,positive,positive,positive,positive
98943325,"In my modified version, I add an array in `btManifoldResult` to store the contact points, then add a function `processContactPoints()` to process all contact points at once. And then I make `btManifoldResult`  instance shared by all of the collision algorithm in the same frame. I got a nice performance improvement.

``` diff
 .../CollisionDispatch/btManifoldResult.cpp         | 168 +++++++++++----------
 .../CollisionDispatch/btManifoldResult.h           |  82 +++++++---
 2 files changed, 145 insertions(+), 105 deletions(-)

diff --git a/src/BulletCollision/CollisionDispatch/btManifoldResult.cpp b/src/BulletCollision/CollisionDispatch/btManifoldResult.cpp
index 4b2986a..1b2339c 100644
--- a/src/BulletCollision/CollisionDispatch/btManifoldResult.cpp
+++ b/src/BulletCollision/CollisionDispatch/btManifoldResult.cpp
@@ -59,96 +59,98 @@ btScalar    btManifoldResult::calculateCombinedRestitution(const btCollisionObject*
 }


-
-btManifoldResult::btManifoldResult(const btCollisionObjectWrapper* body0Wrap,const btCollisionObjectWrapper* body1Wrap)
-       :m_manifoldPtr(0),
-       m_body0Wrap(body0Wrap),
-       m_body1Wrap(body1Wrap)
-#ifdef DEBUG_PART_INDEX
-       ,m_partId0(-1),
-   m_partId1(-1),
-   m_index0(-1),
-   m_index1(-1)
-#endif //DEBUG_PART_INDEX
-{
-}
-
-
-void btManifoldResult::addContactPoint(const btVector3& normalOnBInWorld,const btVector3& pointInWorld,btScalar depth)
+void btManifoldResult::processContactPoints(btPersistentManifold* manifoldPtr)
 {
-   btAssert(m_manifoldPtr);
+   btAssert(manifoldPtr);
    //order in manifold needs to match

-   if (depth > m_manifoldPtr->getContactBreakingThreshold())
-// if (depth > m_manifoldPtr->getContactProcessingThreshold())
-       return;
-
-   bool isSwapped = m_manifoldPtr->getBody0() != m_body0Wrap->getCollisionObject();
-
-   btVector3 pointA = pointInWorld + normalOnBInWorld * depth;
-
-   btVector3 localA;
-   btVector3 localB;
-   
-   if (isSwapped)
+   int i;
+   for (i = 0; i < m_numContactPoints; ++i)
    {
-       localA = m_body1Wrap->getCollisionObject()->getWorldTransform().invXform(pointA );
-       localB = m_body0Wrap->getCollisionObject()->getWorldTransform().invXform(pointInWorld);
-   } else
-   {
-       localA = m_body0Wrap->getCollisionObject()->getWorldTransform().invXform(pointA );
-       localB = m_body1Wrap->getCollisionObject()->getWorldTransform().invXform(pointInWorld);
+       const btContactPoint& contactPoint = m_contactPointArray[i];
+       const btVector3& normalOnBInWorld = contactPoint.m_normalOnBInWorld;
+       const btVector3& pointInWorld = contactPoint.m_pointInWorld;
+       const btScalar depth = contactPoint.m_depth;
+
+       // if (depth > m_manifoldPtr->getContactProcessingThreshold())
+       if (depth > manifoldPtr->getContactBreakingThreshold())
+           continue;
+
+       bool isSwapped = manifoldPtr->getBody0() != m_body0Wrap->getCollisionObject();
+
+       btVector3 pointA = pointInWorld + normalOnBInWorld * depth;
+
+       btVector3 localA;
+       btVector3 localB;
+
+       if (isSwapped)
+       {
+           localA = m_body1Wrap->getCollisionObject()->getWorldTransform().invXform(pointA);
+           localB = m_body0Wrap->getCollisionObject()->getWorldTransform().invXform(pointInWorld);
+       }
+       else
+       {
+           localA = m_body0Wrap->getCollisionObject()->getWorldTransform().invXform(pointA);
+           localB = m_body1Wrap->getCollisionObject()->getWorldTransform().invXform(pointInWorld);
+       }
+
+       btManifoldPoint newPt(localA, localB, normalOnBInWorld, depth);
+       newPt.m_positionWorldOnA = pointA;
+       newPt.m_positionWorldOnB = pointInWorld;
+
+       int insertIndex = manifoldPtr->getCacheEntry(newPt);
+
+       newPt.m_combinedFriction = calculateCombinedFriction(m_body0Wrap->getCollisionObject(), m_body1Wrap->getCollisionObject());
+       newPt.m_combinedRestitution = calculateCombinedRestitution(m_body0Wrap->getCollisionObject(), m_body1Wrap->getCollisionObject());
+       newPt.m_combinedRollingFriction = calculateCombinedRollingFriction(m_body0Wrap->getCollisionObject(), m_body1Wrap->getCollisionObject());
+       btPlaneSpace1(newPt.m_normalWorldOnB, newPt.m_lateralFrictionDir1, newPt.m_lateralFrictionDir2);
+
+
+
+       //BP mod, store contact triangles.
+       if (isSwapped)
+       {
+           newPt.m_partId0 = m_partId1;
+           newPt.m_partId1 = m_partId0;
+           newPt.m_index0 = m_index1;
+           newPt.m_index1 = m_index0;
+       }
+       else
+       {
+           newPt.m_partId0 = m_partId0;
+           newPt.m_partId1 = m_partId1;
+           newPt.m_index0 = m_index0;
+           newPt.m_index1 = m_index1;
+       }
+       //printf(""depth=%f\n"",depth);
+       ///@todo, check this for any side effects
+       if (insertIndex >= 0)
+       {
+           //const btManifoldPoint& oldPoint = m_manifoldPtr->getContactPoint(insertIndex);
+           manifoldPtr->replaceContactPoint(newPt, insertIndex);
+       }
+       else
+       {
+           insertIndex = manifoldPtr->addManifoldPoint(newPt);
+       }
+
+       //User can override friction and/or restitution
+       if (gContactAddedCallback &&
+           //and if either of the two bodies requires custom material
+           ((m_body0Wrap->getCollisionObject()->getCollisionFlags() & btCollisionObject::CF_CUSTOM_MATERIAL_CALLBACK) ||
+           (m_body1Wrap->getCollisionObject()->getCollisionFlags() & btCollisionObject::CF_CUSTOM_MATERIAL_CALLBACK)))
+       {
+           //experimental feature info, for per-triangle material etc.
+           const btCollisionObjectWrapper* obj0Wrap = isSwapped ? m_body1Wrap : m_body0Wrap;
+           const btCollisionObjectWrapper* obj1Wrap = isSwapped ? m_body0Wrap : m_body1Wrap;
+           (*gContactAddedCallback)(manifoldPtr->getContactPoint(insertIndex), obj0Wrap, newPt.m_partId0, newPt.m_index0, obj1Wrap, newPt.m_partId1, newPt.m_index1);
+       }
    }

-   btManifoldPoint newPt(localA,localB,normalOnBInWorld,depth);
-   newPt.m_positionWorldOnA = pointA;
-   newPt.m_positionWorldOnB = pointInWorld;
-   
-   int insertIndex = m_manifoldPtr->getCacheEntry(newPt);
-
-   newPt.m_combinedFriction = calculateCombinedFriction(m_body0Wrap->getCollisionObject(),m_body1Wrap->getCollisionObject());
-   newPt.m_combinedRestitution = calculateCombinedRestitution(m_body0Wrap->getCollisionObject(),m_body1Wrap->getCollisionObject());
-   newPt.m_combinedRollingFriction = calculateCombinedRollingFriction(m_body0Wrap->getCollisionObject(),m_body1Wrap->getCollisionObject());
-   btPlaneSpace1(newPt.m_normalWorldOnB,newPt.m_lateralFrictionDir1,newPt.m_lateralFrictionDir2);
-   
-
-   
-   //BP mod, store contact triangles.
-   if (isSwapped)
-   {
-       newPt.m_partId0 = m_partId1;
-       newPt.m_partId1 = m_partId0;
-       newPt.m_index0  = m_index1;
-       newPt.m_index1  = m_index0;
-   } else
-   {
-       newPt.m_partId0 = m_partId0;
-       newPt.m_partId1 = m_partId1;
-       newPt.m_index0  = m_index0;
-       newPt.m_index1  = m_index1;
-   }
-   //printf(""depth=%f\n"",depth);
-   ///@todo, check this for any side effects
-   if (insertIndex >= 0)
+   if (m_numContactPoints > 0)
    {
-       //const btManifoldPoint& oldPoint = m_manifoldPtr->getContactPoint(insertIndex);
-       m_manifoldPtr->replaceContactPoint(newPt,insertIndex);
-   } else
-   {
-       insertIndex = m_manifoldPtr->addManifoldPoint(newPt);
-   }
-   
-   //User can override friction and/or restitution
-   if (gContactAddedCallback &&
-       //and if either of the two bodies requires custom material
-        ((m_body0Wrap->getCollisionObject()->getCollisionFlags() & btCollisionObject::CF_CUSTOM_MATERIAL_CALLBACK) ||
-          (m_body1Wrap->getCollisionObject()->getCollisionFlags() & btCollisionObject::CF_CUSTOM_MATERIAL_CALLBACK)))
-   {
-       //experimental feature info, for per-triangle material etc.
-       const btCollisionObjectWrapper* obj0Wrap = isSwapped? m_body1Wrap : m_body0Wrap;
-       const btCollisionObjectWrapper* obj1Wrap = isSwapped? m_body0Wrap : m_body1Wrap;
-       (*gContactAddedCallback)(m_manifoldPtr->getContactPoint(insertIndex),obj0Wrap,newPt.m_partId0,newPt.m_index0,obj1Wrap,newPt.m_partId1,newPt.m_index1);
+       ++m_numActiveManifolds;
+       m_numContactPoints = 0;
    }
-
 }

diff --git a/src/BulletCollision/CollisionDispatch/btManifoldResult.h b/src/BulletCollision/CollisionDispatch/btManifoldResult.h
index 977b9a0..4b2d78d 100644
--- a/src/BulletCollision/CollisionDispatch/btManifoldResult.h
+++ b/src/BulletCollision/CollisionDispatch/btManifoldResult.h
@@ -40,7 +40,22 @@ class btManifoldResult : public btDiscreteCollisionDetectorInterface::Result
 {
 protected:

-   btPersistentManifold* m_manifoldPtr;
+   struct btContactPoint
+   {
+       btVector3   m_normalOnBInWorld;
+       btVector3   m_pointInWorld;
+       btScalar    m_depth;
+
+       /**@brief No initialization constructor */
+       SIMD_FORCE_INLINE btContactPoint()
+       {
+       }
+   };
+
+   int m_numContactPoints;
+   btAlignedObjectArray<btContactPoint> m_contactPointArray;
+
+   int m_numActiveManifolds;

    const btCollisionObjectWrapper* m_body0Wrap;
    const btCollisionObjectWrapper* m_body1Wrap;
@@ -53,32 +68,43 @@ protected:
 public:

    btManifoldResult()
+       : m_numContactPoints(0)
+       , m_contactPointArray()
+       , m_numActiveManifolds(0)
 #ifdef DEBUG_PART_INDEX
-       :
-   m_partId0(-1),
-   m_partId1(-1),
-   m_index0(-1),
-   m_index1(-1)
+       , m_partId0(-1)
+       , m_partId1(-1)
+       , m_index0(-1)
+       , m_index1(-1)
 #endif //DEBUG_PART_INDEX
    {
    }

-   btManifoldResult(const btCollisionObjectWrapper* body0Wrap,const btCollisionObjectWrapper* body1Wrap);
+   btManifoldResult(const btCollisionObjectWrapper* body0Wrap, const btCollisionObjectWrapper* body1Wrap)
+       : m_numContactPoints(0)
+       , m_contactPointArray()
+       , m_numActiveManifolds(0)
+       , m_body0Wrap(body0Wrap)
+       , m_body1Wrap(body1Wrap)
+#ifdef DEBUG_PART_INDEX
+       , m_partId0(-1)
+       , m_partId1(-1)
+       , m_index0(-1)
+       , m_index1(-1)
+#endif //DEBUG_PART_INDEX
+   {
+   }

    virtual ~btManifoldResult() {};

-   void    setPersistentManifold(btPersistentManifold* manifoldPtr)
+   int     getNumContactPoints()
    {
-       m_manifoldPtr = manifoldPtr;
+       return m_numContactPoints;
    }

-   const btPersistentManifold* getPersistentManifold() const
-   {
-       return m_manifoldPtr;
-   }
-   btPersistentManifold*   getPersistentManifold()
+   int     getNumActiveManifolds()
    {
-       return m_manifoldPtr;
+       return m_numActiveManifolds;
    }

    virtual void setShapeIdentifiersA(int partId0,int index0)
@@ -93,23 +119,35 @@ public:
        m_index1=index1;
    }

+   virtual void addContactPoint(const btVector3& normalOnBInWorld, const btVector3& pointInWorld, btScalar depth)
+   {
+       if (m_numContactPoints >= m_contactPointArray.size())
+       {
+           m_contactPointArray.resizeNoInitialize(m_numContactPoints + 8);
+       }
+       btContactPoint& contactPoint = m_contactPointArray[m_numContactPoints];
+       contactPoint.m_normalOnBInWorld = normalOnBInWorld;
+       contactPoint.m_pointInWorld = pointInWorld;
+       contactPoint.m_depth = depth;
+       ++m_numContactPoints;
+   }

-   virtual void addContactPoint(const btVector3& normalOnBInWorld,const btVector3& pointInWorld,btScalar depth);
+   virtual void processContactPoints(btPersistentManifold* manifoldPtr);

-   SIMD_FORCE_INLINE   void refreshContactPoints()
+   SIMD_FORCE_INLINE void refreshContactPoints(btPersistentManifold* manifoldPtr)
    {
-       btAssert(m_manifoldPtr);
-       if (!m_manifoldPtr->getNumContacts())
+       btAssert(manifoldPtr);
+       if (!manifoldPtr->getNumContacts())
            return;

-       bool isSwapped = m_manifoldPtr->getBody0() != m_body0Wrap->getCollisionObject();
+       bool isSwapped = manifoldPtr->getBody0() != m_body0Wrap->getCollisionObject();

        if (isSwapped)
        {
-           m_manifoldPtr->refreshContactPoints(m_body1Wrap->getCollisionObject()->getWorldTransform(),m_body0Wrap->getCollisionObject()->getWorldTransform());
+           manifoldPtr->refreshContactPoints(m_body1Wrap->getCollisionObject()->getWorldTransform(), m_body0Wrap->getCollisionObject()->getWorldTransform());
        } else
        {
-           m_manifoldPtr->refreshContactPoints(m_body0Wrap->getCollisionObject()->getWorldTransform(),m_body1Wrap->getCollisionObject()->getWorldTransform());
+           manifoldPtr->refreshContactPoints(m_body0Wrap->getCollisionObject()->getWorldTransform(), m_body1Wrap->getCollisionObject()->getWorldTransform());
        }
    }


```
",version add array store contact add function process contact make instance collision algorithm frame got nice performance improvement git index ba depth manifold need match depth depth return bool depth else depth depth depth continue bool depth else depth store contact else depth check side effect else override friction restitution either two custom material feature material depth store contact else depth check side effect else override friction restitution either two custom material feature material git index ba class public brief constructor public virtual void return return return return virtual void index public virtual void depth depth virtual void depth virtual void void void return bool bool else,issue,positive,positive,positive,positive,positive,positive
98751387,"I have never used memmove, and wonder if the memmove is wrongly used, or if the memmove on your platform is wrongly implemented. memmove seems to deal with overlapping source/destination. Do you mind figuring out memmove, and how it compares with the working C reference using a for loop?
",never used wonder wrongly used platform wrongly deal mind working reference loop,issue,negative,negative,negative,negative,negative,negative
98730405,"ok, re-opened the issue. The Bullet 2.83 release is already tagged, so a fix/workaround will be for 2.84. It should be trivial for you to workaround, right?
",issue bullet release already tagged trivial right,issue,negative,positive,positive,positive,positive,positive
98637860,"Hi Erwin,

i tried it out here using the fix. There is no crash anymore, but the frustum culling is still broken using memmove. Basically items inside the view frustum flickers on and off seemingly at random and at a high frequency. So we're disabling memmove again for now, the alternative for-loop implementation works perfectly. 

So I think the issue needs to be re-opened, there is still something wrong there. 

For the 2.83-release maybe a quick fix is to just disable memmove for now. 
",hi tried fix crash frustum culling still broken basically inside view frustum seemingly random high frequency alternative implementation work perfectly think issue need still something wrong maybe quick fix disable,issue,negative,positive,neutral,neutral,positive,positive
98518130,"By the way, I disabled OpenCL support in the ExampleBrowser by default, but you can enable it using a command-line flag: App_ExampleBrowser_gmake --enable_experimental_opencl
I fixed another NVIDIA/OpenCL issue, one kernal was reading an array out-of-bounds.
",way disabled support default enable flag fixed another issue one reading array,issue,negative,negative,neutral,neutral,negative,negative
98518053,"The demos are all refactored into 'examples/ExampleBrowser', and this sets 'glewExperimental=true;'
Can you please give the latest revision at http://github.com/bulletphysics/bullet3 a try and report back?
",demo please give latest revision try report back,issue,negative,positive,positive,positive,positive,positive
98514700,"Just wanted to report that on Unbuntu 64bit 15.04, I experienced the same (or a similiar) issue:

> > ./App_Bullet3*
> > main startCreating context
> > Created GL 3.0 context
> > Direct GLX rendering context obtained
> > Making context current
> > GL_VENDOR=NVIDIA Corporation
> > GL_RENDERER=GeForce GT 630/PCIe/SSE2
> > GL_VERSION=3.2.0 NVIDIA 346.59
> > GL_SHADING_LANGUAGE_VERSION=1.50 NVIDIA via Cg compiler
> > pthread_getconcurrency()=0
> > App_Bullet3_OpenCL_Demos_clew_gmake_x64_release: ../../btgui/OpenGLWindow/LoadShader.cpp:21: GLuint gltLoadShaderPair(const char_, const char_): Assertion `glGetError()==0' failed.
> > started GwenUserInterfaceAborted

I just wanted to report this (because I'm just interested in Bullet2 actually...).

However : <b>Test_OpenCL_Bullet3_gmake_x64_release, Test_OpenCL_primitives, etc.</b> all run correctly, and even <b>Test_Gwen_OpenGL_gmake_x64_release</b> works, even if I got a strange output when I close the window:

>   visual 0x24 selected
> GL_VENDOR=NVIDIA Corporation
> GL_RENDERER=GeForce GT 630/PCIe/SSE2
> GL_VERSION=4.5.0 NVIDIA 346.59
> GL_SHADING_LANGUAGE_VERSION=4.50 NVIDIA
> pthread_getconcurrency()=0
> XIO:  fatal IO error 11 (Resource temporarily unavailable) on X server "":0""
>       after 5557 requests (5557 known processed) with 0 events remaining.
",report bit experienced issue main context context direct rendering context making context current corporation via compiler assertion report interested bullet actually however run correctly even work even got strange output close window visual selected corporation fatal io error resource temporarily unavailable server known,issue,negative,positive,positive,positive,positive,positive
98440209,"I won't have time to implement the feature for Bullet 2.83. I wonder how your damping (and spring) compares with the btGeneric6DofSpring2Constraint version?
",wo time implement feature bullet wonder damping spring version,issue,negative,neutral,neutral,neutral,neutral,neutral
98439882," I cannot accept the patch right now, because I am focussing on Bullet 3.x and rethinking the whole API and such. I'll take a look at your patch anyway, and see what will be useful for future refactoring.
I'll leave the pull request open anyway, hopefully someone can use the patch.
",accept patch right bullet whole take look patch anyway see useful future leave pull request open anyway hopefully someone use patch,issue,positive,positive,positive,positive,positive,positive
98439812,"The btGeneric6DofSpringConstraint will be deprecated and replaced by btGeneric6DofSpring2Constraint. Not sure if it will suffer the same issue. Thanks for the report!
",sure suffer issue thanks report,issue,negative,positive,positive,positive,positive,positive
98439749,"It won't make it for Bullet 2.83, but possibly in the next release (I really need to push out the 2.83 release, it has been delayed way too long)
",wo make bullet possibly next release really need push release way long,issue,negative,positive,neutral,neutral,positive,positive
98439720,"Yes, I added the 2.82 tag. Also, I will add the Bullet 2.83 tag very soon now.
",yes added tag also add bullet tag soon,issue,negative,neutral,neutral,neutral,neutral,neutral
98439696,"I'll consider it for a release after Bullet 2.83, so let's keep this issue open. THanks for the request!
",consider release bullet let keep issue open thanks request,issue,negative,positive,neutral,neutral,positive,positive
98439660,"It looks like an issue of the use of memmove, should be fixed in upcoming pull request/Bullet 2.83
https://github.com/bulletphysics/bullet3/commit/7a0288bf56b5ae7c7bb1f7de99fccc397bec5f47
Thanks for the report!

 #if DBVT_USE_MEMMOVE
-                           memmove(&stack[j+1],&stack[j],sizeof(int)*(stack.size()-j-1));
-                           memmove(&stack[j],&stack[j-1],sizeof(int)*(stack.size()-j-1));
  #else
-                           for(int k=stack.size()-1;k>j;--k) stack[k]=stack[k-1];
-                           for(int k=stack.size()-1;k>j;--k) 
-                           {
-                               stack[k]=stack[k-1];
-                           }
  #endif
",like issue use fixed upcoming pull thanks report stack stack stack stack else stack stack,issue,positive,positive,positive,positive,positive,positive
98437922,"I haven't tested that feature, the btSoftBodyHelpers might have issues. If you end up fixing it, please share a patch.
",tested feature might end fixing please share patch,issue,positive,neutral,neutral,neutral,neutral,neutral
98204506,"I haven't checked for missing features. I was just noticing a failed gazebo build, so we'll probably have to use ifdef's until bullet 2.83 is available on Ubuntu platforms.
",checked missing gazebo build probably use bullet available,issue,negative,positive,neutral,neutral,positive,positive
98203715,"The btGeneric6DofSpringConstraint is going to be deprecated and removed in the future. Is there a particular feature/API thing missing from the new btGeneric6DofSpring2Constraint and/or btRotationalLimitMotor2? Thanks for the feedback!
",going removed future particular thing missing new thanks feedback,issue,negative,positive,neutral,neutral,positive,positive
97990311,"Good point.  In most cases the basis in rayFromTrans is identity, so it doesn't matter. In the case of a compound shape, it could be an issue. I need to spend more time to review this. Thanks for bringing this up.
",good point basis identity matter case compound shape could issue need spend time review thanks,issue,positive,positive,positive,positive,positive,positive
97886994,"no release log, you will have to digg into the commits. I'll add the main new features/changes/improvement in the quickstart guide.
",release log add main new guide,issue,negative,positive,positive,positive,positive,positive
97747322,"That's great news :)
Is there a release log for 2.83?
",great news release log,issue,positive,positive,positive,positive,positive,positive
97603468,"Thanks for the reminder, yes, I add it and make some updates for Bullet 2.83 this week.
The manual is part of this pull request, will be integrated:
https://github.com/bulletphysics/bullet3/pull/363
",thanks reminder yes add make bullet week manual part pull request,issue,positive,positive,positive,positive,positive,positive
97524725,"As the demos moved to examples, I manually applied your patch, thanks for your contribution!
https://github.com/erwincoumans/bullet3/commit/a165ff54c9e6ec789945a3d7c7e37cda47573efb
so it will be applied with that pull request later today
",demo manually applied patch thanks contribution applied pull request later today,issue,negative,positive,neutral,neutral,positive,positive
97520599,"I''l apply this pull request, replacing the demos/demos3/btgui with examples folder:
https://github.com/bulletphysics/bullet3/pull/363
",apply pull request folder,issue,negative,neutral,neutral,neutral,neutral,neutral
97495597,"yes, cmake files are not up-to-date, only premake. i'll fix that today
",yes premake fix today,issue,negative,neutral,neutral,neutral,neutral,neutral
96792632,"This looks safe to merge now if you want the added safety for the build while you're reworking the demos.
",safe merge want added safety build demo,issue,positive,positive,positive,positive,positive,positive
96032572,"I made number of constraint solver iterations tunable and using values of 60 or higher produces reasonable results for my case.
",made number constraint solver tunable higher reasonable case,issue,negative,positive,positive,positive,positive,positive
95981070,"Actually, I changed the physics engine i use to one that is more .NET (c#) friendly and i deleted the clone on my pc and was going(maybe) to delete my github fork too.
Also i would not have been able to test/change stuff anymore so i thought i should close this pull request.
But I could leave it as it ,or reopen it if you like :)
",actually physic engine use one friendly clone going maybe delete fork also would able stuff thought close pull request could leave reopen like,issue,positive,positive,positive,positive,positive,positive
95304812,"Source in in GitHub as fork for bullet and is based on Bullet demo.
Hammer is 20 kg and specimen two times 20 g. 
Timestep is automatically adjusted from 5 ms to 0.1 as hammer gets closer to specimen. Above 1.68 ms.
Number of solver iterations is not currently changed from default 10, but making it tunable is a good idea.
Appendix C: Building with Visual Studio Express 2013
Download source, run premake4 via vs2013.bat, open pbuild\vs2013\0_BulletPlasticity.sln, build Solution e.g. using DebugDouble
e.g. using GitHub PowerShell
D:\GitHub> git clone https://github.com/simo-11/bullet3 pbullet  
In cmd
D:\GitHub\pbullet\pbuild>vs2013.bat
D:\GitHub\pbullet\pbuild>vs2013\0_BulletPlasticity.sln
",source fork bullet based bullet hammer specimen two time automatically hammer closer specimen number solver currently default making tunable good idea appendix building visual studio express source run premake via open build solution git clone,issue,positive,positive,positive,positive,positive,positive
95297536,"Why is the issue closed? I haven't had time yet to look at it.
",issue closed time yet look,issue,negative,negative,neutral,neutral,negative,negative
95296877,"Can you modify a default Bullet demo, and share the source code, so we can reproduce the problem easily? What are the masses of all objects involved, time step size and number of constraint solver iterations?
",modify default bullet share source code reproduce problem easily involved time step size number constraint solver,issue,negative,positive,positive,positive,positive,positive
95292236,"I'm using btGeneric6DofSpring2Constraint in my project which tries to make bullet handle plasticity and it behaves reasonable if double precision and MLCP solver are used. 
In picture below SI solver is used and specimen jumps and breaks into two peaces before hammer hits it.
More details can be found in https://docs.google.com/document/d/1WA-BEf2ZuWSIU8XanfdIVvTK08Rk4Gy8H_Ll0X5bTsc/
![image](https://cloud.githubusercontent.com/assets/1210784/7282036/fe8164e8-e935-11e4-831b-ad09a23067ee.png)
",project make bullet handle plasticity reasonable double precision solver used picture si solver used specimen two hammer found image,issue,negative,positive,neutral,neutral,positive,positive
95210416,"Can you try using the new btGeneric6DofSpring2Constraint instead? It should solve this issue.
",try new instead solve issue,issue,negative,positive,positive,positive,positive,positive
95209545,"Thanks for the report and fix, good find!
",thanks report fix good find,issue,positive,positive,positive,positive,positive,positive
95086118,"This problem also comes up when writing the result of btRigidBody.getOrientation to an unaligned location, so +1 to this fix.
https://code.google.com/p/bulletsharp/issues/detail?id=42
",problem also come writing result unaligned location fix,issue,negative,neutral,neutral,neutral,neutral,neutral
94921200,"@erwincoumans Is there a status / checklist somewhere detailing the features missing from the GPU-accelerated Bullet3 API? Also, the main README in the repository suggests that you can use some of the GPU-accelerated features with the Bullet2 API, but it wasn't exactly clear how to do it. Is that possible?
",status somewhere missing bullet also main repository use bullet exactly clear possible,issue,negative,positive,neutral,neutral,positive,positive
94513479,"Thanks for the contribution, but I can only accept the patch if it addresses the following:
1) patches should not include any whitespace/tab/space changes
2) Bullet is only C++2003, so no 'default' etc
3) it breaks the build (see travis/appveyor result)
4) Bullet3 is experimental and if you want to add double-precision build support, is requires modifying all OpenCL kernels so it works in single/double precision on GPU/OpenCL as well.
5) don't mix unrelated fixes in a single patch
If you are willing to address above, please re-open a new request.
Thanks!
",thanks contribution accept patch following include bullet build see result bullet experimental want add build support work precision mix unrelated single patch willing address please new request thanks,issue,positive,positive,positive,positive,positive,positive
94511646,"sure, thanks for the pull request!
",sure thanks pull request,issue,positive,positive,positive,positive,positive,positive
94091510,"> You should take a look at this:
> https://bitbucket.org/osrf/gazebo/issue/963/add-support-for-bullet3-gpu-accelerated

Yeah, I came across that. If I get it working, I'll post there, too, though it looks like @scpeters already knows I'm trying this out.

> I plan merge some of the OpenCL demos in the new 'ExampleBrowser', and disable their compilation by default (you will be able to enable the 'OpenCL' examples in the build system, premake and cmake).

I noticed that the main CMakeLists.txt builds the Bullet3 stuff too, is there any difference between that and the build config files in the `build3` directory?
",take look yeah came across get working post though like already trying plan merge demo new disable compilation default able enable build system premake main bullet stuff difference build build directory,issue,positive,positive,positive,positive,positive,positive
94026237,"I'm refactoring the demos/examples at the moment, and consider what to do with the experimental Bullet3/OpenCL work. My focus is currently higher-quality rigid body dynamics for robotics. There isn't anyone working on the OpenCL/GPU acceleration at the moment, so I likely mark it as 'experimental'. One of the on-going issues with OpenCL is lack of stable drivers and proper debugging tools. I plan merge some of the OpenCL demos in the new 'ExampleBrowser', and disable their compilation by default (you will be able to enable the 'OpenCL' examples in the build system, premake and cmake).
Oh, and I'm in touch with the Gazebo/OSRF people, and try to help improving the Bullet integration.
",moment consider experimental work focus currently rigid body dynamic anyone working acceleration moment likely mark one lack stable proper plan merge demo new disable compilation default able enable build system premake oh touch people try help improving bullet integration,issue,positive,positive,positive,positive,positive,positive
94005028,"> Nope.

Ah, that's too bad.

> After the eighth or so attempt at getting the CodeXL demo to work and having it freeze before causing a total system crash, I moved on with my life and got a job as a CUDA developer.

Hahaha.

> Maybe in a few weeks I will have the time to start working on this again and see how much (if any) debugging tools for OpenCL have improved. Upgrading the Gazebo-Bullet API to utilize Bullet3 is an important task IMO.

Well, the demos work on 12.04 with CUDA 7.0 sdk / nvidia-346 driver running a GTX690 and a GTX660. Though, after running them a couple of times I started getting OpenCL status `-9999` so it might be doing something unsavory. I'm going to see if I can build Gazebo against this and see what the performance looks like.
",nope ah bad eighth attempt getting work freeze causing total system crash life got job developer maybe time start working see much utilize bullet important task well demo work driver running though running couple time getting status might something unsavory going see build gazebo see performance like,issue,negative,negative,neutral,neutral,negative,negative
93929123,"Nope. 

The narrow phase kernel test failed on my old HD 6950, so I thought to use CodeXL to debug the program to see what was wrong. After the eighth or so attempt at getting the CodeXL demo to work and having it freeze before causing a total system crash, I moved on with my life and got a job as a CUDA developer.

Maybe in a few weeks I will have the time to start working on this again and see how much (if any) debugging tools for OpenCL have improved. Upgrading the Gazebo-Bullet API to utilize Bullet3 is an important task IMO.

Of course that is all unrelated to the glewInit() issue though as my problem was more about the narrow phase kernel's portability across older devices than any problem(s) with OpenGL.
",nope narrow phase kernel test old thought use program see wrong eighth attempt getting work freeze causing total system crash life got job developer maybe time start working see much utilize bullet important task course unrelated issue though problem narrow phase kernel portability across older problem,issue,negative,negative,neutral,neutral,negative,negative
93891909,"@odellus Did you ever have any luck building Gazebo against bullet3?
",ever luck building gazebo bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
93891863,"Note that this most likely fixes the assertion error reported here: https://github.com/bulletphysics/bullet3/issues/200#issuecomment-56907645
",note likely assertion error,issue,negative,neutral,neutral,neutral,neutral,neutral
93504424,"ok, I merged the pull request (somehow I thought it was already merged, but it wasn't).
Note you should not use the 'explicit' version, but the 'implicit' one, to avoid adding energy/blowing up your simulation. BT_ENABLE_GYROPSCOPIC_FORCE maps to the implicit version now.

Also, I am refactoring all demos/examples at the moment, for a new Bullet 2.83 release really soon now.
",pull request somehow thought already note use version one avoid simulation implicit version also moment new bullet release really soon,issue,negative,positive,positive,positive,positive,positive
93494074,"Pull requests #348 and #350 would fix this, but they haven't been merged yet.
",pull would fix yet,issue,negative,neutral,neutral,neutral,neutral,neutral
92493975,"Best to close now. For further issue it is best to use the forums at http://bulletphysics.org, unless you are very sure there is a bug in Bullet itself. Thanks!
",best close issue best use unless sure bug bullet thanks,issue,positive,positive,positive,positive,positive,positive
92490829,"Well, the problem was definition of child collision shapes as array. (I defined local transforms and collision shapes of children both as array).
I used btAlignedObjectArray for both of them, now there is no segfault. Compiles well and runs well.

However, in the profiling using valgrind there seems to be some errors as below. I just post them to report, I am not sure if they really troublesome or not:

```
 .
.
.
==11818== Conditional jump or move depends on uninitialised value(s)
==11818==    at 0x462789: btDbvt::update(btDbvtNode*, btDbvtAabbMm&, btVector3 const&, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x429921: btDbvtBroadphase::setAabb(btBroadphaseProxy*, btVector3 const&, btVector3 const&, btDispatcher*) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x433A8F: btCollisionWorld::updateSingleAabb(btCollisionObject*) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x433C65: btCollisionWorld::updateAabbs() (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x431F91: btCollisionWorld::performDiscreteCollisionDetection() (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x40A656: btDiscreteDynamicsWorld::internalSingleStepSimulation(float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x406A09: btDiscreteDynamicsWorld::stepSimulation(float, int, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x402A5F: main (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818== 
==11818== Conditional jump or move depends on uninitialised value(s)
==11818==    at 0x462798: btDbvt::update(btDbvtNode*, btDbvtAabbMm&, btVector3 const&, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x429921: btDbvtBroadphase::setAabb(btBroadphaseProxy*, btVector3 const&, btVector3 const&, btDispatcher*) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x433A8F: btCollisionWorld::updateSingleAabb(btCollisionObject*) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x433C65: btCollisionWorld::updateAabbs() (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x431F91: btCollisionWorld::performDiscreteCollisionDetection() (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x40A656: btDiscreteDynamicsWorld::internalSingleStepSimulation(float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x406A09: btDiscreteDynamicsWorld::stepSimulation(float, int, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x402A5F: main (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818== 
==11818== Conditional jump or move depends on uninitialised value(s)
==11818==    at 0x4627A7: btDbvt::update(btDbvtNode*, btDbvtAabbMm&, btVector3 const&, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x429921: btDbvtBroadphase::setAabb(btBroadphaseProxy*, btVector3 const&, btVector3 const&, btDispatcher*) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x433A8F: btCollisionWorld::updateSingleAabb(btCollisionObject*) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x433C65: btCollisionWorld::updateAabbs() (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x431F91: btCollisionWorld::performDiscreteCollisionDetection() (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x40A656: btDiscreteDynamicsWorld::internalSingleStepSimulation(float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x406A09: btDiscreteDynamicsWorld::stepSimulation(float, int, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x402A5F: main (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818== 
==11818== Conditional jump or move depends on uninitialised value(s)
==11818==    at 0x4627B8: btDbvt::update(btDbvtNode*, btDbvtAabbMm&, btVector3 const&, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x429921: btDbvtBroadphase::setAabb(btBroadphaseProxy*, btVector3 const&, btVector3 const&, btDispatcher*) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x433A8F: btCollisionWorld::updateSingleAabb(btCollisionObject*) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x433C65: btCollisionWorld::updateAabbs() (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x431F91: btCollisionWorld::performDiscreteCollisionDetection() (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x40A656: btDiscreteDynamicsWorld::internalSingleStepSimulation(float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x406A09: btDiscreteDynamicsWorld::stepSimulation(float, int, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x402A5F: main (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818== 
==11818== Conditional jump or move depends on uninitialised value(s)
==11818==    at 0x40CBCD: btRigidBody::predictIntegratedTransform(float, btTransform&) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x40704C: btDiscreteDynamicsWorld::integrateTransforms(float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x40A695: btDiscreteDynamicsWorld::internalSingleStepSimulation(float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x406A09: btDiscreteDynamicsWorld::stepSimulation(float, int, float) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818==    by 0x402A5F: main (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==11818== 
==11818== 
==11818== More than 10000000 total errors detected.  I'm not reporting any more.
==11818== Final error counts will be inaccurate.  Go fix your program!
==11818== Rerun with --error-limit=no to disable this cutoff.  Note
==11818== that errors may occur in your program without prior warning from
==11818== Valgrind, because errors are no longer being displayed.
==11818== 
==11818== 
==11818== HEAP SUMMARY:
==11818==     in use at exit: 0 bytes in 0 blocks
==11818==   total heap usage: 160,116 allocs, 160,116 frees, 335,220,876 bytes allocated
==11818== 
==11818== All heap blocks were freed -- no leaks are possible
==11818== 
==11818== For counts of detected and suppressed errors, rerun with: -v
==11818== Use --track-origins=yes to see where uninitialised values come from
==11818== ERROR SUMMARY: 10000000 errors from 93 contexts (suppressed: 0 from 0)
```
",well problem definition child collision array defined local collision array used well well however post report sure really troublesome conditional jump move value float float float float main conditional jump move value float float float float main conditional jump move value float float float float main conditional jump move value float float float float main conditional jump move value float float float float float main total final error inaccurate go fix program rerun disable cutoff note may occur program without prior warning longer displayed heap summary use exit total heap usage heap freed possible suppressed rerun use see come error summary suppressed,issue,positive,positive,positive,positive,positive,positive
92487329,"'didn't work' is not enough of an explanation, it should work. If not, provide the full compiler/linker error and a very small code snippet of your use (maximum of 5 to 10 lines)

Make sure to include the header file ,`LinearMath/btAlignedObjectArray.h`
",work enough explanation work provide full error small code snippet use maximum make sure include header file,issue,negative,positive,positive,positive,positive,positive
92484941,"Oop!
I thought it will solve my problem , because I see the usage of btAlignedObjectArray in demos.
However, it complies  and runs well in the demos. (thus, I reopen the issue, sorry for closing it beforehand)

But in my code even usage of btAlignedObjectArray did not work! 
Also I changed the size of that from 8 to 9, but same segfault error.

I am working on Ubuntu 14.04 (64bit) and gcc as compiler.

I will be trying disabling SIMD, then I will post the outcome...
",thought solve problem see usage demo however well demo thus reopen issue sorry beforehand code even usage work also size error working bit compiler trying post outcome,issue,negative,negative,negative,negative,negative,negative
92482260,"So the `btAlignedObjectArray<btTransform> localTransform; localTransform.resize(8);` fixed the issue, because of alignment, right?
Another workaround would be to disable SIMD all together, see `LinearMath/btScalar.h` for how to do that, dependent on your platform.
",fixed issue alignment right another would disable together see dependent platform,issue,negative,positive,positive,positive,positive,positive
92481141,"Just adding a comment for prospective readers:
even if I use

```
btTransform    localTransform[9];
```

I still get segmentation fault.
The following is a part of output Valgrind (as I use it for profiling) shows:

```
.
.
.
==8926== Use of uninitialised value of size 8
==8926==    at 0x404175: btTransform::setOrigin(btVector3 const&) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==8926==    by 0x402075: main (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==8926== 
==8926== Invalid write of size 8
==8926==    at 0x404175: btTransform::setOrigin(btVector3 const&) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==8926==    by 0x402075: main (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==8926==  Address 0xe6854bb7 is not stack'd, malloc'd or (recently) free'd
==8926== 
==8926== 
==8926== Process terminating with default action of signal 11 (SIGSEGV)
==8926==  Access not within mapped region at address 0xE6854BB7
==8926==    at 0x404175: btTransform::setOrigin(btVector3 const&) (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
==8926==    by 0x402075: main (in /home/ehsan/Desktop/Bullet-Examples/directShearTest/output.out)
.
.
.
```
",comment prospective even use still get segmentation fault following part output use use value size main invalid write size main address stack recently process default action signal access within region address main,issue,negative,positive,neutral,neutral,positive,positive
92445881,"The seg-faults occur because of accessing beyond the end of the array.

```
btTransform    localTransform[8];
// This is incorrect
localTransform[8].setOrigin(btVector3(1, 2, 3));
```
",occur beyond end array incorrect,issue,negative,neutral,neutral,neutral,neutral,neutral
92444048,"It is better to store btTransform object in a btAlignedObjectArray, to make sure it is memory-aligned (SIMD requires it, otherwise you can get crashes). So use 
`btAlignedObjectArray<btTransform> localTransform;
localTransform.resize(8);`

and do as you did before. An additional benefit is that this array type asserts for out-of-bounds conditions.
",better store object make sure otherwise get use additional benefit array type,issue,positive,positive,positive,positive,positive,positive
92428143,"I don't think so, since the array index starts from zero, so, it will be total number of 9 arrays of btTransfroms.

If you want to try the code, you can find it here:
https://github.com/Ehsanizadi/Bullet-examples/blob/6712682adf1cb1ea55e5d01107a864041e61a573/directShearTest/directShearTest.cpp

@ line 87 the btTransform is defined.
Note that I also tried defining the btTransforms on the memory stack, but the results was the same.
",think since array index zero total number want try code find line defined note also tried memory stack,issue,negative,neutral,neutral,neutral,neutral,neutral
92421394,"Your array is declared of length 8, but you are accessing the 9th element. Is that the problem?

```
// Try this
btTransform    localTransform[9];
```
",array declared length th element problem try,issue,negative,neutral,neutral,neutral,neutral,neutral
91994286,"There's at least one compilation error.
",least one compilation error,issue,negative,negative,negative,negative,negative,negative
87801452,"We are using a fork of ODE, so I'm not sure if we have that OpenDe/Cooper code.
",fork ode sure code,issue,negative,positive,positive,positive,positive,positive
87792073,"The pull request for the gyroscopic backward compatibility is here now, waiting for test builds: https://github.com/bulletphysics/bullet3/pull/350 I'll look into a temporary glut fix, probably your pull request (until demos/example refactor, hopefully very soon too)
",pull request gyroscopic backward compatibility waiting test look temporary glut fix probably pull request hopefully soon,issue,negative,neutral,neutral,neutral,neutral,neutral
87789568,"I am reworking the demos and plan to replace all old Bullet2 demos with the 'new' Demos3 version. (free)glut will not be needed anymore, I'll make sure of that. Lets leave this pull request open, and I refer to it with a proper fix. Thanks for reporting though!
",demo plan replace old bullet demo demo version free glut make sure leave pull request open refer proper fix thanks though,issue,positive,positive,positive,positive,positive,positive
87789554,"Well, the build is currently broken; are you going to submit that soon?
",well build currently broken going submit soon,issue,negative,negative,negative,negative,negative,negative
87789204,"Good point. I am renaming the new Coriolis/gyroscopic APIs and make sure to have the backwards compatibility sorted. We can leave this open, and in the pull request I'll refer to here.
",good point new make sure backwards compatibility sorted leave open pull request refer,issue,positive,positive,positive,positive,positive,positive
86696006,"Hi Gabor,

Yes indeed you are right.
The graph was only to give an idea to the user how the accuracy would be affected by the range of time step.
",hi yes indeed right graph give idea user accuracy would affected range time step,issue,negative,positive,positive,positive,positive,positive
86477662,"Hi Ehsan,

For the time steps:
<30hz is usually not advised
30hz can work, but the result will be very approximate (for games sometimes it is enough)
50-60hz is the most common for realtime applications.
100-120hz for high precision.

For a few special application for example in robotics it is not rare the 1000hz, but it can be usually realtime only with a very few objects and/or constraints.

Above 100hz it is usually advised to use the double precision version.

Best Regards
",hi time usually advised work result approximate sometimes enough common high precision special application example rare usually usually advised use double precision version best,issue,positive,positive,neutral,neutral,positive,positive
86407510,"Not at all, Its a pleasure.
I am currently working on Bullet for my research dealing with applicability of physics engines (I've already chosen Bullet) in simulation of (geotechnical) engineering problems.
The example problems I work on, all are [here](https://github.com/Ehsanizadi/Bullet-examples). They are now at very basic level, because I had to first check the some basic features of Bullet, such as accuracy of friction calculation with different pairs of collision shapes (box-box, box sphere, trimnesh-box, etc.) and also the spring simulation. Currently, I have some results on the accuracy of the friction in Bullet, if you are interested I can share them with you.
The codes are not written in the pattern of Bullet app demos, but in a very simple form, mostly like the format of ""HelloWorld"" example! :)
Afterwards, I will simulate some more sophisticated geotechnical engineering-based problems including thousands of rigidbodies as well as softbodies.

In the above link, the friction calculation example is put in the ""tiltPlaneTest"" folder (since the friction test was simulated using a tilting plane) and the springSimulation folder contains the code I posted the results of that.

For the above graph there are two cases, lets call them 'high damping' and 'low damping' cases, the chosen parameters are as listed below:

## High damping case:

---

### Bullet parameters
- Mass: 5
- SpringStiffness: 50
- Damping: 15
- Amplitude: 3  (or initial displacement)
- Time step size: 0.01

### Analytical solution
- Frequency:  3.16227766
- kappa: 1.5
- Initial displacement: 3

## Low damping case:

---

### Bullet parameters
- Mass: 2
- SpringStiffness: 10
- Damping: 0.7
- Amplitude: 3  (or initial displacement)
- Time step size: 0.01

### Analytical solution
- Frequency:  2.236067977
- kappa: 0.175
- Initial displacement: 3

Apart from that, I did a small test on the effect of time step size on the accuracy of Bullet. Favorable accuracy can be achieved with tunning of the time step size: 
![2](https://cloud.githubusercontent.com/assets/7814193/6842827/9daedffa-d39c-11e4-84f4-e091731fb972.png)
The chosen parameters here, are the same as the Low damping case.

Thank you for developing this great engine!
Ehsan
",pleasure currently working bullet research dealing applicability physic already chosen bullet simulation engineering example work basic level first check basic bullet accuracy friction calculation different collision box sphere also spring simulation currently accuracy friction bullet interested share written pattern bullet demo simple form mostly like format example afterwards simulate sophisticated well link friction calculation example put folder since friction test tilting plane folder code posted graph two call damping damping chosen listed high damping case bullet mass damping amplitude initial displacement time step size analytical solution frequency kappa initial displacement low damping case bullet mass damping amplitude initial displacement time step size analytical solution frequency kappa initial displacement apart small test effect time step size accuracy bullet favorable accuracy time step size chosen low damping case thank great engine,issue,positive,positive,positive,positive,positive,positive
86231850,"@scpeters See this video, the OpenDe/Cooper doesn't capture the effect: https://www.youtube.com/watch?v=qw74KV_R5Y0
Yes, some more tests would be useful. The implicit integrator dampens the coriolis/gyroscopic effect.
",see video capture effect yes would useful implicit integrator effect,issue,positive,positive,positive,positive,positive,positive
86219735,"I have a test for angular momentum conservation in gazebo; it would be interesting to run the test with each of these flags.

EDIT: the gazebo test was added in [pull request 1482](https://bitbucket.org/osrf/gazebo/pull-request/1482/add-link-getworldangularmomentum-enable/diff)
",test angular momentum conservation gazebo would interesting run test edit gazebo test added pull request,issue,negative,positive,positive,positive,positive,positive
86102645,"Thanks for the help Gabor and for the report Ehsanizadi. Ehsanizadi, do you mind helping out with some code snippet for Bullet that can help re-creating that spring test case, as well as the values you entered for the analytic solution (used to create that graph)?
",thanks help report mind helping code snippet bullet help spring test case well analytic solution used create graph,issue,positive,positive,positive,positive,positive,positive
86093814,"You are welcome. 
Thanks for the correction. I was lost in those lot of damping values. :)
Your results are nice. 
That difference in the case with the bigger damping can be decreased if you decrease the time step. (if you need it)
I made the btGeneric6DofSpring2Constraint for the Engineering simulation that I am working on, because there was precision problems with the original.
So I also think it is preferred to be used at least with Engineering simulations. :)
Best Regards
",welcome thanks correction lost lot damping nice difference case bigger damping decrease time step need made engineering simulation working precision original also think preferred used least engineering best,issue,positive,positive,positive,positive,positive,positive
86052127,"Thank you Gabor, it solves the problem. 
Small correction is that "" c = Kappa \* (2 \* m) ""
I did simulation for single direction linear spring and here is the results (with default solver). it seems good now: 
![ss](https://cloud.githubusercontent.com/assets/7814193/6826715/b417ab62-d303-11e4-97aa-b726fc86b100.png)

It is for two cases with different mass, stiffness and damping, but with the same initial amplitude.

It may be concluded that for engineering simulations (or even in other applications) usage of btGeneric6DofSpring2Constraint would be preferred, since the damping here is not dependent on the time step size (tested). Moreover, its is more physically correct.
",thank problem small correction kappa simulation single direction linear spring default solver good two different mass stiffness damping initial amplitude may engineering even usage would preferred since damping dependent time step size tested moreover physically correct,issue,negative,positive,neutral,neutral,positive,positive
85994030,"Hi,

The equation in 
http://keisan.casio.com/exec/system/1224772199
is a transformed version of the original
F = -k \* x - c \* dx/dt
equation.

In here the c is the viscous damping coefficient. The btGeneric6DofSpring2Constraint uses this.

You have to transform your resistance coefficient (Kappa)

c = Kappa / (2 \* m)

However I think it is generally better to use the damping ratio (zeta), because in this case:
zeta > 1 -> overdamped
zeta = 1 -> critically damped
zeta < 1 -> underdamped

c = zeta \* (2 \* sqrt(m \* k))

As for the frequency that you wrote is correct:

k = omega0 ^ 2 \* m

Please note that while the analytic equation is the perfect solution for the above differential equation, the Bullet can't use this because other forces and constraints have to be considered.
So the result is an approximation.
The good news is: if you set up the k and c values correctly the solution of the Bullet is very close for the analytic solution. (even with the original SI/PGS solver)
(My colleague Tamas Ummenhoffer made small example with a few different spring solvers and the Bullet's solution was the closest.)
Obviously you will never be able got a perfect solution (but that would be impossible in computer calculation world anyway)

You can always increase a precision by decreasing the delta t of the Bullet or play with the solver. (change it to Dijkstra, NNCG or increase the iteration count if it has)

Let me know if it solves your problem.

Best Regards:
Gabor
",hi equation version original equation viscous damping coefficient transform resistance coefficient kappa kappa however think generally better use damping ratio zeta case zeta zeta critically damped zeta zeta frequency wrote correct omega please note analytic equation perfect solution differential equation bullet ca use considered result approximation good news set correctly solution bullet close analytic solution even original solver colleague tamas made small example different spring bullet solution obviously never able got perfect solution would impossible computer calculation world anyway always increase precision decreasing delta bullet play solver change increase iteration count let know problem best,issue,positive,positive,positive,positive,positive,positive
85880954,"@erwincoumans I think you could just do the following:

```
git checkout 19f999a
git tag 2.82
git push --tags
```
",think could following git fa git tag git push,issue,negative,neutral,neutral,neutral,neutral,neutral
85740239,"Great, thanks for reporting the fix on the Blender side of things. Let's close the issue then!
",great thanks fix blender side let close issue,issue,positive,positive,positive,positive,positive,positive
85734601,"Hi,

as you can see in the fix https://developer.blender.org/rB0b4a71b07245d5370a02fae4dbde9195c9c58881
the issue raised when the group definitions were converted more that one time. This issue happened when a group instance was made from a linked group instance and both were on the active layer.

Due to this, I think that the pull request is not necessary anymore. Thanks for reviewing, Erwin.
",hi see fix issue raised group converted one time issue group instance made linked group instance active layer due think pull request necessary thanks,issue,positive,negative,neutral,neutral,negative,negative
85656412,"I asked the developer of the btGeneric6DofSpring2Constraint for some comments, so hopefully he will reply here later. Although I haven't looked into the damping terms myself yet, here are some possible reasons for differences between analytical solution and btGeneric6DofSpring2Constraint:
1) damping might be time-step size dependent
2) we only simulate first order (velocity level) so differences might be in second order terms (acceleration)
3) the use of integrator

It would be good to create a spring demo, based on btGeneric6DofSpring2Constraint (the older variant will be deprecated), and provide actual comparison numbers/graphs.
",developer hopefully reply later although damping yet possible analytical solution damping might size dependent simulate first order velocity level might second order acceleration use integrator would good create spring based older variant provide actual comparison,issue,positive,positive,positive,positive,positive,positive
84772479,"Oh, this is an improve suggestion. 

Processing manifold result is too heavy weight for some kind collision object just like sensor object who just want to know the overlapping objects.

So I wonder if we could separate the manifold result processing from collision processing.
",oh improve suggestion manifold result heavy weight kind collision object like sensor object want know wonder could separate manifold result collision,issue,positive,positive,positive,positive,positive,positive
84653929,"```
collisionPair.m_algorithm->processManifoldResult(&obj0Wrap,&obj1Wrap,dispatchInfo,&contactPointResult);
```

...bullet api does not contains this function, what is that?  btCollisionAlgorithm::processCollision() needs manifold result.. I don't really understand what about is that issue.
",bullet function need manifold result really understand issue,issue,negative,positive,positive,positive,positive,positive
78664213,"> I think 19f999a should be the 2.82 tag

Agreed.
",think fa tag agreed,issue,negative,neutral,neutral,neutral,neutral,neutral
77998405,"I will investigate deeper to see what you comment.

the main steps to build blender from http://wiki.blender.org/index.php/Dev:Doc/Building_Blender/Windows/msvc/CMake
- Get Blender code:
  cd C:\BlenderDEV
  git clone git://git.blender.org/blender.git
  cd blender
  git submodule update --init --recursive
  git submodule foreach git checkout master
  git submodule foreach git pull --rebase origin master
- Get Visual 2013 libraries:
  cd C:\BlenderDEV
  svn checkout https://svn.blender.org/svnroot/bf-blender/trunk/lib/win64_vc12  lib/win64_vc12
- Generate Visual 2013 project files using CMake in cd C:\BlenderDEV\build
- Load Blender.sln solution
- Build INSTALL target
",investigate see comment main build blender get blender code git clone git blender git update recursive git git master git git pull rebase origin master get visual generate visual project load solution build install target,issue,negative,positive,neutral,neutral,positive,positive
77949756,"I suspect that only the constraint is added, and not the rigid bodies, could that be the case? I would have to setup a way to compile recent Blender source code for more info what happens with 'linking' .blend files and adding grouped rigid bodies/constraints. It used to be easy to compile Blender on Windows, using a lib/Windows repository for external dependencies, does that still exist?
",suspect constraint added rigid could case would setup way compile recent blender source code grouped rigid used easy compile blender repository external still exist,issue,negative,positive,positive,positive,positive,positive
77279480,"Sure, it seems harmless change. Thanks for the contribution!
",sure harmless change thanks contribution,issue,positive,positive,positive,positive,positive,positive
76683296,"In case this is helpful, this is the code where I setup the joints. When I have 2 hinge joints enabled as in the code below, the code crashes as mentioned above

if( true )
{
    btGeneric6DofConstraint \* hinge = new btGeneric6DofConstraint(*m_bodies[PIVOT_PART], localA, false );
    // NOTE: 6DofConstraint only supports (currently) rotational motors!
    hinge->getRotationalLimitMotor(0)->m_loLimit = 1;
    hinge->getRotationalLimitMotor(0)->m_hiLimit = 0;
    hinge->getRotationalLimitMotor(0)->m_enableMotor = true;

```
hinge->getRotationalLimitMotor(1)->m_loLimit = 1;
hinge->getRotationalLimitMotor(1)->m_hiLimit = 0;
hinge->getRotationalLimitMotor(1)->m_enableMotor = true;

hinge->getRotationalLimitMotor(2)->m_loLimit = 1;
hinge->getRotationalLimitMotor(2)->m_hiLimit = 0;
hinge->getRotationalLimitMotor(2)->m_enableMotor = true;

m_joints[PIVOT] = hinge;
m_bulletWorld->addConstraint(hinge, true );
```

}

{
    btSliderConstraint \* slider = new btSliderConstraint(*m_bodies[PIVOT_PART], *m_bodies[SHAFT], localA, shaftTipCenter, true);
    slider->setLowerLinLimit(1);
    slider->setUpperLinLimit(0);
    slider->setPoweredLinMotor( true );
    m_joints[SLIDER] = slider;
    m_bulletWorld->addConstraint(slider, true);
}

btVector3 zAxis(0,0,1);
if( true )
{  
    btHingeConstraint \* hinge = new btHingeConstraint(*m_bodies[SHAFT], *m_bodies[UPPER_JAW], shaftUpperJawHingePos, upperJawHingePos, zAxis, zAxis );
    hinge->enableAngularMotor( true, 0, 0 );
    m_joints[UPPER_JAW_ROT] = hinge;
    m_bulletWorld->addConstraint(m_joints[UPPER_JAW_ROT], true );
}

if( true )
{  
     btHingeConstraint \* hinge = new btHingeConstraint(*m_bodies[SHAFT], *m_bodies[LOWER_JAW], shaftLowerJawHingePos, lowerJawHingePos, zAxis, zAxis );
     hinge->enableAngularMotor( true, 0, 0 );
     m_joints[LOWER_JAW_ROT] = hinge;
     m_bulletWorld->addConstraint(m_joints[LOWER_JAW_ROT], true );  
}
",case helpful code setup hinge code code true hinge new false note currently rotational true true true pivot hinge hinge true slider new shaft true true slider slider slider true true hinge new shaft true hinge true true hinge new shaft true hinge true,issue,positive,positive,positive,positive,positive,positive
76621977,"The mass (and inertia) of kinematic objects needs to be set to zero, otherwise all constraints don't work well. Need to double-check if this is really the issue. If the mass for kinematic objects is not set to zero, than the constraint solver writes back an incorrect velocity, which could cause the problem.
",mass inertia kinematic need set zero otherwise work well need really issue mass kinematic set zero constraint solver back incorrect velocity could cause problem,issue,negative,positive,neutral,neutral,positive,positive
76500278,"The issue occurs when we link, from other file, a group with 2 rigid bodies that have a constraint in between. If we link the same 2 rigid bodies individually, instead of forming a group, then there is no crash. 
",issue link file group rigid constraint link rigid individually instead forming group crash,issue,negative,neutral,neutral,neutral,neutral,neutral
76495308,"Thanks for the report!
This is a very odd bug. Is that a constraint between two rigid bodies that are not inserted in the dynamics world? If not, can you try to explain what is happening?
",thanks report odd bug constraint two rigid inserted dynamic world try explain happening,issue,negative,positive,neutral,neutral,positive,positive
76289622,"One tricky aspect for us was switching the joint damping constraint on and off at joint limits (see [ODEJoint::ApplyImplicitStiffnessDamping](https://bitbucket.org/osrf/gazebo/src/783d80d6567cebb1d350296145a87f311acfb38f/gazebo/physics/ode/ODEJoint.cc#cl-842)).
",one tricky aspect u switching joint damping constraint joint see,issue,negative,neutral,neutral,neutral,neutral,neutral
76217958,"Thanks.

For another reference point, note that [btGeneric6DofSpringConstraint](https://github.com/bulletphysics/bullet3/blob/d347bca2bad80420869217282535fb4ff919e8b5/src/BulletDynamics/ConstraintSolver/btGeneric6DofSpringConstraint.cpp#L134) divides by `fps` as well.
",thanks another reference point note well,issue,positive,positive,positive,positive,positive,positive
76204764,"thanks, I'll look into it before next 2.83 release
",thanks look next release,issue,negative,positive,neutral,neutral,positive,positive
75392057,"It looks like things compile fine. I was picking up boost's header for regex like a dummy.  Sorry for my confusion - I'll close this out.
",like compile fine boost header like dummy sorry confusion close,issue,positive,negative,neutral,neutral,negative,negative
75388214,"It would be great if you can help sorting out the mess on Fedora with gtest. Can you check out how to link against POSIX regex on Fedora?
",would great help mess check link,issue,positive,positive,positive,positive,positive,positive
75388145,"Okay, that's a bad assumption on my part (boost dependency).  I will dig further into this.
",bad assumption part boost dependency dig,issue,negative,negative,negative,negative,negative,negative
75387362,"Bullet has no dependency on boost, this is a bug and any boost usage should be removed. If gtest really depends on boost, then we have to remove gtest or fix that.
",bullet dependency boost bug boost usage removed really boost remove fix,issue,positive,positive,positive,positive,positive,positive
75326003,"Likely this is an issue with some standard C++ header that is included before a Bullet header, right?
Sorting the order of the header includes (first Bullet, than C++ header) should fix it too, right?
Anyway, I applied a fix.
",likely issue standard header included bullet header right order header first bullet header fix right anyway applied fix,issue,negative,positive,positive,positive,positive,positive
74460615,"The value '0' is overwritten in btDiscreteDynamicsWorld::updateActivationState so it shouldn't have a real impact, but it should have a proper name indeed, we could name it UNINITIALIZED_TAG (or remove that setActivationState completely).

> > btw: bullet sources are full of strange and performance penalty code like this

Please report them so we can address it. Thanks!
",value real impact proper name indeed could name remove completely bullet full strange performance penalty code like please report address thanks,issue,positive,positive,positive,positive,positive,positive
74438917,"~
just for reference purposes

``` C
#define ACTIVE_TAG 1
#define ISLAND_SLEEPING 2
#define WANTS_DEACTIVATION 3
#define DISABLE_DEACTIVATION 4
#define DISABLE_SIMULATION 5
```

https://github.com/erwincoumans/experiments/blob/master/bullet2/BulletCollision/CollisionDispatch/btCollisionObject.h
",reference define define define define define,issue,negative,neutral,neutral,neutral,neutral,neutral
74171294,"It is probably not difficult to implement, so if you have time please give it a try :+1: The history of the file shows some changes related to joint limits that can likely be simplified with the change.
",probably difficult implement time please give try history file related joint likely simplified change,issue,negative,negative,negative,negative,negative,negative
74170990,"Sorry for the delay, I just confirmed that the `btHingeAccumulatedAngleConstraint` class is properly storing the accumulated angle. It does not allow for unwrapped joint limits, however. Is that difficult to implement?
",sorry delay confirmed class properly angle allow unwrapped joint however difficult implement,issue,negative,negative,negative,negative,negative,negative
74158027,"This issue is fixed in the latest repo, by this commit:
https://github.com/bulletphysics/bullet3/commit/a159fbac698520b7fcca585d6129eaa79bcdd69b#diff-bbc3160e91a1636299055c622964e0f1
Thanks for the report!
",issue fixed latest commit thanks report,issue,positive,positive,positive,positive,positive,positive
74111419,"@erwincoumans I've had this similar issue happen with PhysX (so its just not bullet doing this). In order to get around it for my sphere/trianglemesh geometry, I just iterated over all of the contact points before processing them and told PhysX to ignore points that were ""bad"". Is that possible to do with bullet, as I haven't found a way to iterate over the manifold and remove contact points before processing them?
",similar issue happen bullet order get around geometry contact told ignore bad possible bullet found way iterate manifold remove contact,issue,negative,negative,negative,negative,negative,negative
73998905,"- `INCLUDE_INSTALL_DIR` is set in your [root CMakeLists.txt](https://github.com/bulletphysics/bullet3/blob/master/CMakeLists.txt#L289) (I don't think it's a standard cmake variable)
- `CMAKE_INSTALL_PREFIX` has a default value on each platform, but is frequently modified by the user to change the install location (for example with `cmake .. -DCMAKE_INSTALL_PREFIX=/usr`). This should not be hard-coded anywhere, since the user must be able to change it.
- `CMAKE_PREFIX_PATH` is a way to tell cmake where to look for software when you call `find_package`. It's analogous to the `PKG_CONFIG_PATH`.
",set root think standard variable default value platform frequently user change install location example anywhere since user must able change way tell look call analogous,issue,negative,positive,positive,positive,positive,positive
73997774,"Thanks for the explanation, adding a new -I flag while staying backward compatible is fine with me.
By the way, do you know where are the variables CMAKE_INSTALL_PREFIX and  INCLUDE_INSTALL_DIR defined exactly? I guess somewhere in CMake, but where?
So on Linux,  CMAKE_INSTALL_PREFIX =""/usr/local/"" and INCLUDE_INSTALL_DIR  = include/bullet?
And how does CMAKE_PREFIX_PATH  and those other variable relate?
",thanks explanation new flag backward compatible fine way know defined exactly guess somewhere variable relate,issue,positive,positive,positive,positive,positive,positive
73996164,"Sorry that got a little long-winded. Here's the patch I'm thinking of (I can make a pull request):

```
diff --git a/bullet.pc.cmake b/bullet.pc.cmake
index a504b1f..8b989fa 100644
--- a/bullet.pc.cmake
+++ b/bullet.pc.cmake
@@ -3,4 +3,4 @@ Description: Bullet Continuous Collision Detection and Physics Library
 Requires:
 Version: @BULLET_VERSION@
 Libs: -L@CMAKE_INSTALL_PREFIX@/@LIB_DESTINATION@ -lBulletSoftBody -lBulletDynamics -lBulletCollision -lLinearMath
-Cflags: @BULLET_DOUBLE_DEF@ -I@CMAKE_INSTALL_PREFIX@/@INCLUDE_INSTALL_DIR@
+Cflags: @BULLET_DOUBLE_DEF@ -I@CMAKE_INSTALL_PREFIX@/@INCLUDE_INSTALL_DIR@ -I@CMAKE_INSTALL_PREFIX@/include
```

One other reference point, here's an example `#include` from gazebo:

```
#include <gazebo/physics/physics.hh>
```

For gazebo 5.0, this is installed to the following location:

```
/usr/include/gazebo-5.0/gazebo/physics/physics.hh
```

with the following `-I` flag:

```
-I/usr/include/gazebo-5.0
```
",sorry got little patch thinking make pull request git index description bullet continuous collision detection physic library version one reference point example include gazebo include gazebo following location following flag,issue,negative,negative,negative,negative,negative,negative
73995711,"I'll respond to your comments about the background first. Among the many use cases of bullet, consider the following two (note that I'm not judging or advocating for either one, just listing them as different types of considerations):
- Monolithic applications that uses bullet and have no downstream developers writing code that links against it (such as games, visual effects software)
- Modular libraries that use bullet and have downstream developers writing code against it (such as the [gazebo robotic simulator](http://gazebosim.org), of which I am a core developer)

I think static linking is fine for monolithic applications, but it causes problems for use in software stacks involving more modularity. When you have multiple pieces of software interacting on a system, there can be problems if different pieces are using different versions of the same library (most prominent in my mind are some difficult linking problems).

Regarding the different behavior of each version, we use [pkg-config in cmake](https://bitbucket.org/osrf/gazebo/src/default/cmake/SearchForStuff.cmake#cl-361) with logic to prefer specific versions of bullet. For example, you fixed some bugs in version 2.81, so we have been requiring version 2.82 or greater for gazebo.

Regarding your specific questions, a source install will have a default `CMAKE_PREFIX_PATH` of `/usr/local`, so the `btVector3.h` header would be installed to:

```
/usr/local/include/bullet/LinearMath/btVector3.h
```

When packaged as a binary for debian systems, the prefix is typically `/usr`, so it would go to:

```
/usr/include/bullet/LinearMath/btVector3.h
```

Using [homebrew](http://brew.sh) on Mac OS X, the prefix is usually `/usr/local/Cellar/bullet/version`, so version 2.82 would be installed to:

```
/usr/local/Cellar/bullet/2.82/include/bullet/LinearMath/btVector3.h
```

but homebrew also makes sym-links to `/usr/local` so it would also be available from

```
/usr/local/include/bullet/LinearMath/btVector3.h
```

As a downstream developer, I can use `pkg-config` or cmake `find_package` to get info about where the header files are installed. The pkg-config file bullet.pc is configure from the template [bullet.pc.cmake](https://github.com/bulletphysics/bullet3/blob/master/bullet.pc.cmake) to add a `-I` argument to the `CFLAGS` variable that resolves to something like the following:

```
-I/usr/include/bullet
```

With that include flag, I can use the following:

```
#include <LinearMath/btVector3.h>
```

If we add another `-I` argument:

```
-I/usr/include/bullet -I/usr/include
```

then the following would work as well (which I prefer):

```
#include <bullet/LinearMath/btVector3.h>
```
",respond background first among many use bullet consider following two note either one listing different monolithic bullet downstream writing code link visual effect modular use bullet downstream writing code gazebo simulator core developer think static linking fine monolithic use multiple system different different library prominent mind difficult linking regarding different behavior version use logic prefer specific bullet example fixed version version greater gazebo regarding specific source install default header would binary prefix typically would go mac o prefix usually version would also would also available downstream developer use get header file configure template add argument variable something like following include flag use following include add another argument following would work well prefer include,issue,negative,positive,neutral,neutral,positive,positive
73991335,"I have no idea where Bullet installs its headers when using 'make install'. Can you explain a bit further about your proposal and where the files are installed etc? Do I need to change all the internal #include to use bullet/LinearMath/... or can the internal includes stay LinearMath/...?

Just some background, for anyone interested:
I have only supported static linkage and expect developers to copy the bullet/src folder in their own project. Others insisted in having a 'make install' option, even though I think it is a really bad idea, especially for games: you don't want to switch to a different version of Bullet, because the behavior changes (slightly) and it could break the gameplay. Perhaps for non-gaming apps this is no issue?
",idea bullet install explain bit proposal need change internal include use internal stay background anyone interested static linkage expect copy folder project install option even though think really bad idea especially want switch different version bullet behavior slightly could break perhaps issue,issue,negative,negative,neutral,neutral,negative,negative
73990478,"The `LinearMath` name has to stay for 2.x, but this `CFLAGS` proposal may improve clarity if people do `#include <bullet/LinearMath/...>`
",name stay proposal may improve clarity people include,issue,positive,neutral,neutral,neutral,neutral,neutral
73989875,"The name 'LinearMath' was badly chosen. Originally I wanted the BulletMath (LinearMath), BulletCollision and BulletDynamics to be independent libraries. I've had similar requests and I consider making that change for Bullet 3.x (but not for Bullet 2.x)
",name badly chosen originally independent similar consider making change bullet bullet,issue,negative,negative,negative,negative,negative,negative
73849776,"could you tell how to reproduce this bug.?
",could tell reproduce bug,issue,negative,neutral,neutral,neutral,neutral,neutral
73823639,"ok, I confirmed the issue and that your patch fixes it, thanks for the contribution!
",confirmed issue patch thanks contribution,issue,negative,positive,positive,positive,positive,positive
73766249,"I can confirm that the issue is there (under iOS, tested). In my case I just disabled neon code because my team was in a rush for release and also because I was actually using 2.82 r2704. I will soon migrate to this github version tho and would be nice if it was fixed.
",confirm issue tested case disabled neon code team rush release also actually soon migrate version tho would nice fixed,issue,negative,positive,positive,positive,positive,positive
73065749,"m_interpolationWorldTransform
m_interpolationLinearVelocity
m_interpolationAngularVelocity

always given the values of

m_worldTransform
m_linearVelocity
m_angularVelocity

consecutively, when btRigidBody::setCenterOfMassTransform is called.
I find no use for them. Even when m_interpolationWorldTransform is set by calling btRigidBody::predictIntegratedTransform it is never made use of. Interpolation works fine though.
",always given consecutively find use even set calling never made use interpolation work fine though,issue,negative,positive,positive,positive,positive,positive
72938243,"Xcode forces 64bit now, that's how the function 'btSqrt' stopped working. I'm expecting this to hit more people that use the 'USE_APPROXIMATION' macro.
",bit function stopped working hit people use macro,issue,negative,neutral,neutral,neutral,neutral,neutral
72936977,"No, I was waiting for Basroil to submit his patch, otherwise I would have included it in that pull request.

If it would help, I can try to condense the number of commits in #303, there were a few dead-end lines of development that I ended up backing off of.
",waiting submit patch otherwise would included pull request would help try condense number development ended backing,issue,negative,neutral,neutral,neutral,neutral,neutral
72924252,"The btTriangleMesh::addTriangleIndices call is added
https://github.com/bulletphysics/bullet3/commit/c7671779c238d9761c9d14de25898d60f44ff3fa
Thanks for the contribution!
",call added thanks contribution,issue,negative,positive,positive,positive,positive,positive
72922027,"Would it be fixed by this large pull request?
https://github.com/bulletphysics/bullet3/pull/303
I still have to review if all those changes are acceptable (rather not break the API etc)
",would fixed large pull request still review acceptable rather break,issue,negative,positive,positive,positive,positive,positive
72921561,"I think the difference is in the variable definitions in CMakeLists.txt; in [bullet 2.82](https://code.google.com/p/bullet/source/browse/trunk/CMakeLists.txt#401), the `LIB_DESTINATION` and other variables had `CMAKE_INSTALL_PREFIX` at the beginning. Now, however, these variables [use relative paths](https://github.com/bulletphysics/bullet3/blob/master/CMakeLists.txt#L287-L290).
",think difference variable bullet beginning however use relative,issue,negative,neutral,neutral,neutral,neutral,neutral
72920763,"It is odd, because this CMAKE_INSTALL_PREFIX has never been used from the history:
https://code.google.com/p/bullet/source/browse/trunk/bullet.pc.cmake
Would installation in a relative path location still work with this CMAKE_INSTALL_PREFIX?
",odd never used history would installation relative path location still work,issue,negative,negative,neutral,neutral,negative,negative
72920238,"Someone on the Bullet forums (Basroil), have said they are making a patch for this.

[http://bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&t=10232&sid=c266427de1e84e2b153b5de6f98dfdad&start=45]
",someone bullet said making patch,issue,negative,neutral,neutral,neutral,neutral,neutral
72917333,"It used to work with 2.82 with the absolute path, but something has changed since then.
",used work absolute path something since,issue,negative,positive,positive,positive,positive,positive
72916201,"And #320 fixes the linking issue. I'll leave this closed in favor of #320 and #319.
",linking issue leave closed favor,issue,negative,negative,neutral,neutral,negative,negative
72916069,"Thanks for the contribution. Where did you get the double-precision number from? http://www.azillionmonkeys.com/qed/sqroot.html ?
",thanks contribution get number,issue,negative,positive,positive,positive,positive,positive
72915688,"Ok, I can reproduce it with the following on 14.04:

```
mkdir build
cd build
cmake .. -DUSE_DOUBLE_PRECISION=OFF -DBUILD_SHARED_LIBS=ON -DCMAKE_BUILD_TYPE=Release -G ""Unix Makefiles""
```
",reproduce following build build,issue,negative,neutral,neutral,neutral,neutral,neutral
72915354,"I never use system-wide install myself, but others do. I just hope this change doesn't break things for others. I'll apply the fix once it passes the builds and we'll hear if people complain :-)
",never use install hope change break apply fix hear people complain,issue,negative,neutral,neutral,neutral,neutral,neutral
72915066,"It might be fixed by one of the commits in my other pull request: https://github.com/bulletphysics/bullet3/pull/320
If not, please let me know the full build flags with cmake, so I can recreate/fix it (I have Ubuntu 14.04 here)
",might fixed one pull request please let know full build,issue,negative,positive,positive,positive,positive,positive
72911939,"The 'Gwen' OpenGL target_link_libraries is only needed when building shared libs, this is fixed in latest trunk, so I need to skip that part. I wonder if we can 'cherry-pick' the addTriangle commit ( 0d4adc6) using the web interface.
",building fixed latest trunk need skip part wonder commit web interface,issue,negative,positive,positive,positive,positive,positive
72911817,"Ok, I can't reproduce it. I don't know what happened yesterday, but I can't reproduce the linking error. I'll close this and make a new pull request.
",ca reproduce know yesterday ca reproduce linking error close make new pull request,issue,negative,positive,positive,positive,positive,positive
72910794,"Yes, I pasted the linker error above. Travis only builds against Ubuntu 12.04, so it won't show the error.
",yes pasted linker error travis wo show error,issue,negative,neutral,neutral,neutral,neutral,neutral
72909145,"I'm not planning to depend on C++11 just yet, so moving the memory as a class member should be fine. Do you mind creating a patch? Otherwise I'll do it later.
",depend yet moving memory class member fine mind patch otherwise later,issue,negative,positive,positive,positive,positive,positive
72908692,"It is very strange. Only under Linux we link pthreads for a workaround for buggy NVIDIA drivers, and as far as I know, the OpenGL library needs it. So I expected OpenGL to come first, and then pthreads (because libraries that use other libraries come first). So you got a linker error?
",strange link buggy far know library need come first use come first got linker error,issue,negative,positive,positive,positive,positive,positive
72787175,"I got the same error today.   :-)   btw, I've got a ATI Radeon HD 6770M in my OSX machine.   Also, running  App_AllBullet2Demos_gmake works, and I can run the Demos and Experiments and MultiBody stuf etc, no prob. Also, App_BasicDemoCustomOpenGL2_gmake, and many others ( like App_SimpleOpenGL3_gmake and ./Test_OpenCL_Primitives_clew_gmake etc ) are fine too.     
",got error today got machine also running work run demo prob also many like fine,issue,negative,positive,positive,positive,positive,positive
72742589,"Thanks for contributing. I will have to look a bit further how this impacts the default memory consumption for compound shapes. Many developers store a single object in a btCompoundShape, to shift/rotate the center of mass, and it might increase their memory usage a lot. I have to check if this is true and how much.
",thanks look bit default memory consumption compound many store single object center mass might increase memory usage lot check true much,issue,positive,positive,positive,positive,positive,positive
72674104,"I cannot keep on adding workaround to Bullet for a broken compiler, I hope they fix gcc/mingw. Thanks for reporting to the right location. Let's close the issue.
",keep bullet broken compiler hope fix thanks right location let close issue,issue,negative,positive,neutral,neutral,positive,positive
72131397,"Unfortunately I cannot submit the files cause i have not an account and the account creation is not working. I have the file (.i) tho.

EDIT:
This is the file that I think should be submitted 
https://drive.google.com/file/d/0B94Tjh5z72FdS1ZYZXlDNHZGTkE/view?usp=sharing
",unfortunately submit cause account account creation working file tho edit file think,issue,negative,negative,negative,negative,negative,negative
72130865,"They are asking for a preprocessed source version of that file in that issue. Perhaps you can ask them how to generate a preprocessed source version and help them fixing gcc/mingw?
",source version file issue perhaps ask generate source version help fixing,issue,negative,neutral,neutral,neutral,neutral,neutral
72129529,"Yes I use latest repo.
I found a bug report of the same issue already open https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63386

The compilation with -O1 flag works as suggested in that link, fail with -O2 or -O3.
",yes use latest found bug report issue already open compilation flag work link fail,issue,negative,neutral,neutral,neutral,neutral,neutral
72082023,"Are you using latest Bullet git version from https://github.com/bulletphysics/bullet3?
We applied this workaround from the closed issue, it doesn't work for you?
https://github.com/bulletphysics/bullet3/issues/39

As your report states, please report as a compiler bug:
Please submit a full bug report, with preprocessed source if appropriate. See http://gcc.gnu.org/bugs.html for instructions.
",latest bullet git version applied closed issue work report please report compiler bug please submit full bug report source appropriate see,issue,positive,positive,positive,positive,positive,positive
71728767,"Thanks for sharing your multithreading code! 
I'll give some feedback once I get the time to review it properly.
",thanks code give feedback get time review properly,issue,negative,positive,neutral,neutral,positive,positive
71526244,"The original motivation for the change from GetTickCount to GetTickCount64 was for compatibility with Windows Phone/Windows Store apps (see commit aaaf8dc4e27eb4a48224b7fa265ef3c0b7b664a1).  You could probably do a compile-time check for that (i.e. only use GetTickCount64 when compiling for Windows Phone or Windows Store).

Though I have to wonder how necessary these GetTickCount calls really are.  There is no mention of the issue they are trying to work around (KB274323) on Microsoft's site anymore.  Most PCs these days don't even have an ISA bus.  I have a vague memory of encountering that issue with the windows performance counter jumping back in the late 90's with Windows NT4.
And these timers are only for the profiler from what I can tell.
",original motivation change compatibility store see commit could probably check use phone store though wonder necessary really mention issue trying work around site day even bus vague memory issue performance counter back late profiler tell,issue,positive,negative,neutral,neutral,negative,negative
71376641,"I reckon the answer is, unfortunately, ""no"" - the runtime ""solution"" (not working as intended, sadly) would be to use e.g.

``` c++
#if WINVER < 0x0600
ULONGLONG GetTickCountLocal() {
  return GetTickCount();
}
#else
ULONGLONG GetTickCountLocal() {
  OSVERSIONINFO vi;
  memset(&vi, 0, sizeof(vi));
  vi.dwOSVersionInfoSize = sizeof(vi);
  GetVersionEx(&vi);
  return (vi.dwMajorVersion >= 6) ? GetTickCount64() : GetTickCount();
}
#endif
```

... and replace the 3 `GetTickCount64()` calls with `GetTickCountLocal()` calls - but that'd solve nothing, as the very fact that `GetTickCount64` symbol was included in the import table of the DLL will prevent the library from loading on OSes without it. IMO the only options are either to stay with compile check or to use a replacement/wrapper for `GetTickCount64()`, along the lines iSLC proposed (maybe GetTickCount() with manual overflow check? AFAIR that's the only difference between them) - pity there's no C++11 support in the old MSVC compilers.
",reckon answer unfortunately solution working intended sadly would use return else return replace solve nothing fact symbol included import table prevent library loading without either stay compile check use along maybe manual overflow check difference pity support old,issue,negative,negative,negative,negative,negative,negative
71319576,"I applied a compile time check. This still means that an executable build with a newer compiler doesn't run on XP. Would a runtime check be possible?
",applied compile time check still executable build compiler run would check possible,issue,negative,neutral,neutral,neutral,neutral,neutral
71135756,"thanks for the contribution, all bits help big or small :+1: 
",thanks contribution help big small,issue,positive,negative,neutral,neutral,negative,negative
70995540,"Thanks for your answer, finally it helped a lot. I added my offset to 'points' from start and everything went fine.

``` c++
auto vertexBuffer = geometry->vertexBuffer(""position""); 
    float* points = &vertexBuffer->data()[0];    
    int vertexBufferSize = vertexBuffer->numVertices();

    auto attr = vertexBuffer->attribute(""position"");
    auto offset = std::get<2>(*attr);

    auto size = vertexBuffer->vertexSize();


    auto btShape = std::shared_ptr<btConvexHullShape>(
        new btConvexHullShape(
            points + offset, 
            vertexBufferSize, 
            vertexBuffer->vertexSize() * sizeof(float)
        )
    );
```
",thanks answer finally lot added offset start everything went fine auto position float data auto attribute position auto offset auto size auto new offset float,issue,positive,positive,positive,positive,positive,positive
70886932,"How about making 'points' point to your xyz value? It shouldn't matter in what order the xyz or uv values are.
",making point value matter order,issue,negative,neutral,neutral,neutral,neutral,neutral
70790953,"I did not build the tests (I'm ignorant of the premake build system)

However, I'm debugging against a full application (with an SSE desktop target too) and was wondering why the kinematic character controller was flinging my character out of the map on NEON with the same code. 

This edit fixed the character controller behavior like the SSE build
",build ignorant premake build system however full application target wondering kinematic character controller character map neon code edit fixed character controller behavior like build,issue,negative,positive,positive,positive,positive,positive
70789312,"thanks for the report and fix. Did you run the iOS tests by any chance (under tests/Bullet2) ? I will have to setup my iOS build environment to double-check. Thanks!
",thanks report fix run chance setup build environment thanks,issue,positive,positive,positive,positive,positive,positive
70217872,"@vaxquis If you have a C++11 compiler available then you could make use of [this patch](https://github.com/bulletphysics/bullet3/pull/305).
",compiler available could make use patch,issue,negative,positive,positive,positive,positive,positive
69422177,"thanks for the update. I haven't had the time to get back to this, but it will happen eventually. Hope to see you again at SIGGRAPH!
",thanks update time get back happen eventually hope see,issue,positive,positive,neutral,neutral,positive,positive
68956525,"I did implement this in my project (easier than I expected).  The collision response looked maybe a little bit better than using triangle meshes, but it runs about 10x slower than the GImpact version, so for most cases I switched back.  I can share a little code after the Siggraph deadline.
",implement project easier collision response maybe little bit better triangle version switched back share little code deadline,issue,positive,positive,neutral,neutral,positive,positive
68295333,"Erwin, as I said before, I've forked bullet3 for embedded C binding:
https://github.com/Tal500/bullet3

Right now, I'm focused on the old Bullet2 API, since the B3 API isn't stable yet.

I'm currently working on LinearMath, making mathematical structures the same between C&C++.
I did thought about src\Bullet3Common\shared\b3Float4.h, and I think that a b3Float4 adapter isn't the best approach. I don't claim the structure is useless, I even suppose it's more natural for OpenCL code, but shouldn't be treated as C adapter.

The idea is that ALL mathematical structure is shared between C&C++. If the user is in C++, she can call function member and language features. See my src/LinearMath/btVector3.h for example.

And about the simplified structures, such as b3Float4, it can be easily retrieved from btVector:

```
btVector4 some1;
b3Float4 some2 = some1.m_floats;
```

And the opposite in a similar way.

The code is far from being finished, but would you consider such approach in b3?
",said forked bullet binding right old bullet since stable yet currently working making mathematical thought think adapter best approach claim structure useless even suppose natural code adapter idea mathematical structure user call function member language see example simplified easily opposite similar way code far finished would consider approach,issue,positive,positive,neutral,neutral,positive,positive
67549884,"@erwincoumans: ok, I'll leave the removal of maxgyroscopic force to you when I push my changes.

@kingchurch:  not sure about that exact case, but the gyroscopic force fix does improve the behavior of long thin spinning cylinders.  btw.  you may have brought a life-time's worth of russian spam upon yourself from mr ozzi :)
",leave removal force push sure exact case gyroscopic force fix improve behavior long thin spinning may brought worth upon,issue,positive,positive,positive,positive,positive,positive
67539804,"@ozzi:  I noticed that Cylinder collision shapes on top of 0 height box collision shape as ground are not rotating properly. Sometimes when accumulating high velocity the cylinders will rotate with weird axis that almost feels like the primary axis is wobbling around.  If I simply switch the btRigidBody to btMultiBody it doesn't have the weird problem anymore.  Do you think your ""GyroScopic Force"" fix will possibly improve such scenarios ?  What artifacts did you notice to justify this fix ?  Thanks!
",cylinder collision top height box collision shape ground rotating properly sometimes high velocity rotate weird axis almost like primary axis wobbling around simply switch weird problem think gyroscopic force fix possibly improve notice justify fix thanks,issue,negative,positive,neutral,neutral,positive,positive
67259258,"The crash is fixed in latest trunk, my fault: https://github.com/bulletphysics/bullet3/pull/299
I am working in moving all the Bullet 2.x demos into the new 'AllDemoExecutable', and add OpenGL 2.x support (next to OpenGL 3.x). Then I will create a new release for that (2.83 or so). That is one of the steps of slowly moving to Bullet 3.x. The serialization needs to be updated, best not to remove fields from any of the serialization data structures, or let me do it. I should make it a bit easier to update them and document that :-)
",crash fixed latest trunk fault working moving bullet demo new add support next create new release one slowly moving bullet serialization need best remove serialization data let make bit easier update document,issue,positive,positive,positive,positive,positive,positive
67228252,"Hey Erwin,

actually it's not a problem with my changes.  AppBasicDemo segfaults on my Linux system on a clean Bullet3 build.  Maybe those are deprecated, or I'm not building them right.  The Demos3 executables work fine.

I did do one thing I thought was a bit dodgy I should ask you about.  I edited 
src/Bullet3Serialize/Bullet2FileLoader/autogenerated/bullet2.h to remove maxGyroscopicForce.  I didn't see how to regenerate that file, but it is checked into the source repository, so I figured it should be submitted with the change.
",hey actually problem system clean bullet build maybe building right demo work fine one thing thought bit dodgy ask remove see regenerate file checked source repository figured change,issue,negative,positive,positive,positive,positive,positive
67208267,"Those are static to avoid dynamic memory allocations on every call, so performance is the reason.  Moving them to class scope should do just as well.  A nicer alternative would be making them thread_local instead of static.  This would be cleaner code since you wouldn't be cluttering up the class with a bunch of data members that don't contain any data.  But thread_local is a C++11 thing, so we might need to create a BT_THREAD_LOCAL macro for compatibility.

[edit] On second thoughts, it looks like thread_local isn't well supported for objects with contructors/destructors.  It isn't supported in the latest MSVC for example.  Given that, I think simply moving them into class scope is a better option.
",static avoid dynamic memory every call performance reason moving class scope well alternative would making instead static would cleaner code since would class bunch data contain data thing might need create macro compatibility edit second like well latest example given think simply moving class scope better option,issue,positive,positive,positive,positive,positive,positive
67042514,"ozzi please stop wasting our time with your Russian spam, I reported abuse to github.
",please stop wasting time abuse,issue,negative,neutral,neutral,neutral,neutral,neutral
66957560,"Я до щ у тебя есть у кого есть возможность скачать игру компьютер
14 дек. 2014 г. 11:03 пользователь ""Michael Alexander Ewert"" <
notifications@github.com> написал:

> Hey Erwin. No problem happy to be able to contribute to Bullet!
> 
> Yes, I do intend to share my improvements for the gyroscopic forces. I
> need to hold off, until post-GDC. Erin will be presenting this technique
> there, and I got some help indirectly from him when I implemented this, so
> I don't want to contribute this until he has gone public with it. I also
> need to track down a segfault... :)
> 
> For featherstone, I think implicitly integrating the wxIw term for the
> link velocities would be pretty tricky and slow. I think you would need to
> solve an nxn system for n links to do it. Perhaps it would all fall out
> into a nice recurance relation, though. If I have time I'll try it out.
> However, it should be straightforwards enough to do the implicit
> integration for the root velocity.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/bulletphysics/bullet3/pull/297#issuecomment-66904932.
",hey problem happy able contribute bullet yes intend share gyroscopic need hold technique got help indirectly want contribute gone public also need track think implicitly term link would pretty tricky slow think would need solve system link perhaps would fall nice relation though time try however straightforwards enough implicit integration root velocity reply directly view,issue,positive,positive,positive,positive,positive,positive
66904932,"Hey Erwin.  No problem happy to be able to contribute to Bullet!

Yes, I do intend to share my improvements for the gyroscopic forces.  I need to hold off, until post-GDC.  Erin will be presenting this technique there, and I got some help indirectly from him when I implemented this, so I don't want to contribute this until he has gone public with it.  I also need to track down a segfault... :)

For featherstone, I think implicitly integrating the wxIw term for the link velocities would be pretty tricky and slow.  I think you would need to solve an nxn system for n links to do it.  Perhaps it would all fall out into a nice recurance relation, though.  If I have time I'll try it out.  However, it should be straightforwards enough to do the implicit integration for the root velocity.
",hey problem happy able contribute bullet yes intend share gyroscopic need hold technique got help indirectly want contribute gone public also need track think implicitly term link would pretty tricky slow think would need solve system link perhaps would fall nice relation though time try however straightforwards enough implicit integration root velocity,issue,positive,positive,positive,positive,positive,positive
66865688,"Thanks a lot for your help Michael, a fix for GrahamScan2dConvexHull  is very much appreciated :+1:  
Your commit log has mention about gyropscopic force calculations, which was reverted. Do you have any intention on sharing some improvements in that area? For the btRigidBody case, I added some hack to clamp the energy increase, and a similar clamp for the btMultiBody (Featherstone articulated body algorithm). For both cases, some (semi) implicit computation that involves damping (rather than energy gain) would be great to have.
",thanks lot help fix much commit log mention force intention area case added hack clamp energy increase similar clamp articulated body algorithm semi implicit computation damping rather energy gain would great,issue,positive,positive,positive,positive,positive,positive
66776667,"Can you send a pull request, rraalvv? Thanks
",send pull request thanks,issue,negative,positive,positive,positive,positive,positive
66740383,"I'm having the same problem, it's caused when velocity is passed with a magnitude equal to zero to this method

```
void btKinematicCharacterController::setVelocityForTimeInterval
(
const btVector3& velocity,
btScalar timeInterval
)
{
//  printf(""setVelocity!\n"");
//  printf(""  interval: %f\n"", timeInterval);
//  printf(""  velocity: (%f, %f, %f)\n"",
//       velocity.x(), velocity.y(), velocity.z());

    m_useWalkDirection = false;
    m_walkDirection = velocity;
    m_normalizedDirection = getNormalizedVector(m_walkDirection);
    m_velocityTimeInterval += timeInterval;
}
```

When m_useWalkDirection is false and m_walkDirection has magnitude zero the the method playerStep should return without doing any motion

```
void btKinematicCharacterController::playerStep (  btCollisionWorld* collisionWorld, btScalar dt)
{
//  printf(""playerStep(): "");
//  printf(""  dt = %f"", dt);

    // quick check...
    if (!m_useWalkDirection && (m_velocityTimeInterval <= 0.0 || m_walkDirection.fuzzyZero())) {
//      printf(""\n"");
        return;     // no motion
    }
//.....
}
```
",problem velocity magnitude equal zero method void velocity interval velocity false velocity false magnitude zero method return without motion void quick check return motion,issue,negative,negative,negative,negative,negative,negative
66388113,"I fixed some issue that was leading to the self-collision 'explosion', see https://github.com/bulletphysics/bullet3/pull/295
There is still an issue of energy gain, likely due to explicit integration of coriolis forces, so damping is still needed for each multibody add:
    multiBody->setLinearDamping(0.1f);
    multiBody->setAngularDamping(0.9f);
Please open a new issue if there are still energy gain/explosions with btMultibody when using damping.
",fixed issue leading see still issue energy gain likely due explicit integration damping still add please open new issue still energy damping,issue,positive,positive,neutral,neutral,positive,positive
66291558,"Fair enough.

I see that B3 API is far from being stable, so I won't try making them C-compatible yet.
Since you're working on higher priority tasks which necessary for Bullet3, I think to fork Bullet3 and make the lagecy BT API compatible with C, without touching(yet) the B3 API.

This would allow to users to use this fork of Bullet if they want to use it in the lagecy API.
When the time is right I think it should be merged with master branch.

What do you think?
",fair enough see far stable wo try making yet since working higher priority necessary bullet think fork bullet make compatible without touching yet would allow use fork bullet want use time right think master branch think,issue,positive,positive,positive,positive,positive,positive
65834839,"I don't have much time to digg into this further at this moment, but I'll get to it. For the math C-API, it would be helpful to stay compatible with OpenCL when it makes sense to do so. In OpenCL there is a float4, and there is some b3Float4 for compatibility, see src\Bullet3Common\shared\b3Float4.h. The idea is to store common structures can be used in C++, C and OpenCL in 'shared' folders. Again, I need to think more about this and your feedback/thoughts are welcome.
",much time moment get math would helpful stay compatible sense float compatibility see idea store common used need think welcome,issue,positive,positive,positive,positive,positive,positive
65485919,"First, I want to thank you for your review and comments! It's really motivate me.

I'm glad to announce I've complete to wrap a **very** minor API in order to complete Hello World test/example. it's working! (tested with bullet-2.82-r2704)
(It's located in the same repository link I posted before)

I have tried to push down restricted pointers, macro, and inlining in purpose, to see how far it could work, and I think it worked well. Some could be dropped if you decide it too complex.
The code is not organized nor documented well yet however.

There are many places in the code that I thought to myself - why we need structure duplication? It's hard to maintain, bad in converting performance, and a source for bugs!
Therefore, I thought to myself, why not go to the direction Erwin suggest?

Bullet could support the entire C API directly, in its headers, everything with the ""bt""/""b3"" prefix, no need for ""cbt"", like at my header.
There are 3 level of structures:
- Basic structures (e.g. vector, matrix, transform, ...)
- Simple structures (e.g. btDefaultCollisionConstructionInfo)
- High-level object (all ""classes"")

As same as Erwin suggest in b3OpenCLUtils.h, for example, the header could look like this:

``` cplusplus
// Example header

#include <btVector.h>
...

// C&C++ shared structures
typedef struct {
    btScalar num;
}
AConstructionInfo;

// C++ special defs
#ifdef __cplusplus
class btA {
    A(const AConstructionInfo& info);
    ...
    void foo(const btVector& some_vector, const btOtherCommonStruct& something);
    ...
};
#else
BT_DECLARE_HANDLE(btA)
#endif

// C wrapper
#ifdef __cplusplus
extern ""C"" {
#endif
// ~~~ All btA creation&destruction funcs ~~~
// ...
void btA_foo(btA* handle, const btVector* some_vector, const btOtherCommonStruct* something);
// ...
#ifdef __cplusplus
}
#endif
```

Finally, I have two suggestion about changing API that would fit both C and C++:
- Omit the ""m_"" prefix from basic and simple structures, for convenience, but it's a matter of opinion.
- Mathematical structures should support plain C, including all alignment&SIMD optimization. If not in C++, the member function wouldn't be available.
- The should be a structure, btVector, which would be the base class for btVector3 and btVector4. It's not convenient to use btVector3 with 4 fields in C, just because there is no inheritance in C.

Future thinking - custom C sub-classing and overriding with vtables?

What do you think? What C features from here do you want in Bullet3?
",first want thank review really motivate glad announce complete wrap minor order complete hello world working tested repository link posted tried push restricted macro purpose see far could work think worked well could decide complex code organized well yet however many code thought need structure duplication hard maintain bad converting performance source therefore thought go direction suggest bullet could support entire directly everything prefix need like header level basic vector matrix transform simple object class suggest example header could look like example header include special class void foo something else wrapper extern creation destruction void handle something finally two suggestion would fit omit prefix basic simple convenience matter opinion mathematical support plain alignment optimization member function would available structure would base class convenient use inheritance future thinking custom think want bullet,issue,positive,positive,neutral,neutral,positive,positive
64297575,"My changes are here: [https://github.com/lunkhound/bullet3](https://github.com/lunkhound/bullet3)

Instructions:
- install TBB 4.3 (build if using the open source version)
- download my bullet3 fork
- run Cmake on bullet
- look for and enable the cmake option called BULLET2_USE_THREAD_LOCKS
- look for and enable the cmake option called BULLET2_MULTITHREADED_TBB_DEMO
- do a cmake configure (new options should appear)
- set the option called BULLET2_TBB_INCLUDE_DIR to the path to the TBB includes directory
- set the option called BULLET2_TBB_LIB_DIR to the path to the TBB .lib files (needs tbb.lib and tbbmalloc.lib)
- do a cmake generate
- open up the resulting solution in Visual Studio (there should be a project called ""AppMultiThreadedDemo"")
- build the MultiThreadedDemo project in ""Release""
- find the appropriate TBB .dlls (tbb.dll and tbbmalloc.dll) for your version of Visual Studio and manually copy them into the same directory as AppMultiThreadedDemo.exe

Now you should be able to run the demo.  Pay attention to the numbers after ""collision detection time"" on screen.  Those are the numbers that should be improved compared to a single-threaded version.  To compile a single-threaded version for comparison, edit MultiThreadedDemo.cpp, and change USE_PARALLEL_DISPATCHER to 0.

Oh, and keep in mind that in this particular demo, most of the time is going towards solving constraints, and that part is still completely single threaded.
",install build open source version bullet fork run bullet look enable option look enable option configure new appear set option path directory set option path need generate open resulting solution visual studio project build project release find appropriate version visual studio manually copy directory able run pay attention collision detection time screen version compile version comparison edit change oh keep mind particular time going towards part still completely single threaded,issue,negative,positive,positive,positive,positive,positive
64135849,"I'll put up a fork of it shortly.  It is still a work in progress.  The lock is only implemented for win32 at the moment.  Also, bullet's built-in profiling isn't threadsafe, so I've disabled it.  And I haven't tried to set up CMAKE to work with TBB yet.

I did a bit of profiling on my 4-core machine.  My test scene has about 1300 capsules on a triangle mesh terrain.  Single-threaded, the dispatchAllPairs was taking about 2.2ms, whereas multi-threaded it was taking 0.9ms--that's a speedup of about 2.4x.  It seems like there is quite alot of collision algorithm objects being allocated and freed each simulation step (about 1300 in fact).  So I think there is contention for the lock on the collision alg pool allocator (which may account for the lackluster speedup).  I need to look into this further.
",put fork shortly still work progress lock win moment also bullet disabled tried set work yet bit machine test scene triangle mesh terrain taking whereas taking like quite collision algorithm freed simulation step fact think contention lock collision pool allocator may account lackluster need look,issue,positive,positive,positive,positive,positive,positive
64092981,"I'm working on getting Bullet 2 running on multiple CPU threads.  So far, I've got the collision detection (dispatchAllPairs) part working.  I had to add a couple of locks to the collision dispatcher (around the manifold pool and collision algorithm pool allocs and deallocs).  I also had to get rid of the persistent btVoroniSimplexSolver that was being shared across threads and replace it with local versions.  So far the changes to Bullet have been pretty minimal.

I'm using TBB as the task scheduler, but I've avoided introducing any TBB-dependency into Bullet libraries.  All of the TBB-specific code (which is very little) is residing in the MultiThreadedDemo app (which I've dusted off and stripped out the BulletMultiThreaded parts of).

Also, in order to avoid adding any overhead to the single-threaded version, the locks that I added get compiled out unless a BT_THREADSAFE macro is set to 1.

If anyone is interested I can put this up on GitHub.
",working getting bullet running multiple far got collision detection part working add couple collision dispatcher around manifold pool collision algorithm pool also get rid persistent across replace local far bullet pretty minimal task bullet code little stripped also order avoid overhead version added get unless macro set anyone interested put,issue,negative,positive,neutral,neutral,positive,positive
63748985,"I tracked down some causes of instability. One of them is self-collision can cause near-singular configurations where resolving the collision adds a lot of energy. We can add a fix/hack for this, but I need to figure out if that is ok to do. Another potential instability is rotational gain, probably due to  coriolis forces, but it could be a bug too. Enabling some damping reduces/hides this issue. I'll post again when I find out more.
",tracked instability one cause collision lot energy add need figure another potential instability rotational gain probably due could bug damping issue post find,issue,negative,negative,neutral,neutral,negative,negative
63731361,"That's great, thanks for the reproduction case. I am tracking down the issue now.
",great thanks reproduction case issue,issue,positive,positive,positive,positive,positive,positive
63585783,"I've modified the MultiBodyVehicle demo to use my btMultiBody construction code. At the top of MultiBodyVehicle.cpp, you can modify two constants (FIXED_STEP, NUM_MULTIBODIES) to change the time step used, or change the number of btMultiBody in the simulation.

https://gist.github.com/donnyward/f2130d62915bd8b896cf
",use construction code top modify two change time step used change number simulation,issue,negative,positive,positive,positive,positive,positive
63571029,"@khouzam yeah, creating a wrapper is probably an even better idea than making a macro here; redefining symbols seems a bit 1990-ish in comparison.
",yeah wrapper probably even better idea making macro bit comparison,issue,positive,positive,positive,positive,positive,positive
63568855,"How ironic that we broke XP. I should have paid a little more attention to the change.
The solution proposed will work, I'm wondering if it would be cleaner to have the call explicitly defined
#if WINVER < 0x0600
ULONGLONG GetTickCount64() {return GetTickCount();}
#endif

This would keep the return type consistent across the different versions of the system.
",broke little attention change solution work wondering would cleaner call explicitly defined return would keep return type consistent across different system,issue,negative,positive,neutral,neutral,positive,positive
63558700,"I've been able to patch together a repro case @ https://gist.github.com/vaxquis/2d3989ed3e3ce7326410 ; things that are worth noting about it:
- it apparently _does_ matter what the order of magnitude of used forces is vs time step, fixed time step etc, AFAIK because of the contact threshold vs the actual distance from the edge when the collision happens; changing the stepSimulation parameters, as well as changing speed (gravity), as well as changing tri dimensions can result with either proper behaviour or different anomalies,
- it _can_ be reproduced with various settings (i.e. timesteps, triangles) but the exact placement of tri edges causing the issues is a bit different for each timestep/speed values,
- btAdjustInternalEdgeContacts _has_ an impact on the overall simulation quality in some of the cases, but, as can be shown in this example, doesn't help this particular issue, and sometimes even makes it worse,
- the default setting of filtering for the repro case is ""disabled"", press ` to reset the simulation with filtering enabled. the behaviour is then (and only then) consistent with what happens at ""regular"" speeds/timesteps,
- I haven't noticed any visible difference when the tri winding is changed.

also, setCameraDistance(8.) is about right for this example.

My gut tells me this shows an underlying numerical problem. One way or another, removing extraneous collisions makes it behave as expected. Making timestep shorter or reducing the velocities, however, solves this issue only sometimes, and still can be screwed up by a ""nasty"" (small or thin) triangle.

Anyway, using algo such as

```
// after all collision points for a body hitting trimesh has been created
    for each ( collisionPoint in Manifold(body) )
        if ( collisionPoint.isOnTriSurface && !collisionPoint.isOnTriEdge )
            for each ( collisionPoint2 != collisionPoint in Manifold )
                if ( collisionPoint2.isOnTriEdge && collisionPoint2.triangle.isAdjacentTo( collisionPoint.triangle ) )
                    collisionPoint2.removeFromManifold
```

works OK here IMO, at least during my tests.

Edit: just checked today that removing contacts based on their distance also works wonders here, although that's way too crude/context specific of a fix to be used in production code IMO.
",able patch together case worth apparently matter order magnitude used time step fixed time step contact threshold actual distance edge collision well speed gravity well tri result either proper behaviour different various exact placement tri causing bit different impact overall simulation quality shown example help particular issue sometimes even worse default setting filtering case disabled press reset simulation filtering behaviour consistent regular visible difference tri winding also right example gut underlying numerical problem one way another removing extraneous behave making shorter reducing however issue sometimes still screwed nasty small thin triangle anyway collision body manifold body manifold work least edit checked today removing based distance also work although way specific fix used production code,issue,negative,negative,neutral,neutral,negative,negative
63543050,"Adding a check that doesn't change the behavior, except for fixing Windows XP seems ok to me, it doesn't break non-Windows platforms and doesn't break Windows VISTA, 7, 8 etc.

Does anyone have a better solution than the one proposed?

#if WINVER < 0x0600
#define GetTickCount64 GetTickCount
#endif
",check change behavior except fixing break break vista anyone better solution one define,issue,positive,positive,positive,positive,positive,positive
63537550,"@CGAnderson very well said. For some applications & fields, e.g. academic ones, XP is still very common, high above the magic 50% in some countries. As to the user base, I've seen numerous situations where lack of support for XP resulted in an angry mob, new 3D X-COM revamp being one of them... finally it turned out that by fixing _one_ DLL import you could run the game on XP with no further troubles. If all it takes to make the app run on some platform is one line of code, why not do it, I always asked myself?

BTW As to forking opensource projects, I'm always in favour of merging vs forking. Forking is usually bad - if a fork fails, its changes are basically lost (too much merging to be done manually for anyone to bother); if a fork succeeds and gains a lot of momentum, it usually results in a ""civil war"" of kinds, see OpenOffice vs LibreOffice for example.
",well said academic still common high magic user base seen numerous lack support angry mob new revamp one finally turned fixing import could run game make run platform one line code always always usually bad fork basically lost much done manually anyone bother fork gain lot momentum usually civil war see example,issue,negative,negative,negative,negative,negative,negative
63533394,"XP isn't broken and it isn't ugly (that's also a personal view, but I don't see a mix of C/C++ and asm as ugly or dangerous (pointers are not to be feared, just respected), nor see Win32 or the other 'conventions' used as weak or inappropriate for the h/w they were targeting).  I've yet to see an OS that is 'beautiful, flawless'.  Don't get me started on some of the issues with Linux or Unix. :)

As for patching, true, but that doesn't mean XP is dangerous.  Patches do not necessarily imply better security; sometimes not being the target of attacks is more viable (Mac's have benefited from this for years). And humans are always always the weakest link in security.  I still have a laptop running XP because to change would be to lose a lot of h/w dependent functionality, and a slower runtime since the newer OS's are not designed to run on older slower h/w. I'm sensible about how I use it, so have never had an issue with security.

It might be better to argue whether the change is viable based on marketability.  
First case: Is there a large enough XP base out there that may want to run bullet applications?  And of course, what constitutes large enough? So if XP is still 20%, is that 20% actually likely to be marketable with regard to Bullet?  

Second case: would such functionality also be useful to embedded/mobile OS's since often they are using architectures that are more similar to older OS's? 

Overall, if the answer is no, well, this is github...opensource....if someone wants it bad enough, they can roll their own version, can't they?  (may not be easy, of course, but it's still an option).
",broken ugly also personal view see mix ugly dangerous feared see win used weak inappropriate yet see o flawless get true mean dangerous necessarily imply better security sometimes target viable mac always always link security still running change would lose lot dependent functionality since o designed run older sensible use never issue security might better argue whether change viable based marketability first case large enough base may want run bullet course large enough still actually likely marketable regard bullet second case would functionality also useful o since often similar older o overall answer well someone bad enough roll version ca may easy course still option,issue,negative,negative,neutral,neutral,negative,negative
63528066,"@TyRoXx wrong again... http://bgr.com/2014/05/01/microsoft-windows-xp-internet-explorer-patch/ , https://www.google.pl/search?q=last+xp+patches etc
Last XP patches were issued about 6 months ago. If that's ""a long time ago"" for you, then indeed, I consider my further input void. Also, quote from my last comment:

> Still, while I removed the ""offending words""

and quote from you

> You edited your first post without notice,

... you're wrong yet again.

Also, using C, JNI or assembler is also ""dangerous"", the very same can be said about driving any car that's more than 3 years old. If you assume I'm, quote, [trying to get people] ""encouraged to use XP"" then please quote the exact place in which I do so - otherwise we're down to calling each other names, not arguing in a civilized and educated manner. I advocate _support_ for XP, not _using_ XP. Every user should have the right to make the OS selection based on his _own_ criteria, not necessarily the very same _you_ use.
",wrong last ago long time ago indeed consider input void also quote last comment still removed quote first post without notice wrong yet also assembler also dangerous said driving car old assume quote trying get people use please quote exact place otherwise calling civilized educated manner advocate every user right make o selection based criterion necessarily use,issue,negative,negative,neutral,neutral,negative,negative
63524511,"By ""broken"" I meant that Microsoft stopped patching XP a long time ago. No one should be encouraged to use XP because it is dangerous.
You edited your first post without notice, so there is no point in further discussion.
",broken meant stopped long time ago one use dangerous first post without notice point discussion,issue,negative,negative,negative,negative,negative,negative
63522050,"@TyRoXx a) I only proposed that as one of the possible solutions - not demanded that; exactly why I gave the `#if` as the main solution, b) `why break Bullet` assumes that adding three-line `#if` is breaking anything; I don't consider making the code fully compatible with a platform it's intrinsically tied with a bad thing to do. Besides, there ain't many _important_ kernel differences between 5.2 and 6.0 - please list them if you wish to discuss this matter further - otherwise you're just opinionating, not discussing.

And no, it's not funny. You can easily detect and prevent the overflow even with `GetTickCount`, all it takes is a single line of code AFAIR. I don't find that funny. Still, while I removed the ""offending words"", I don't think that game servers running more than 2 months without a single maintenance reset constitute more than 20% of the Bullet user base. I, of cource, might be wrong.

http://en.wikipedia.org/wiki/Usage_share_of_operating_systems

Windows XP is currently about 20% of the user base. If you're willing to say goodbye to 20% of your user base and thus 20% of your application's income - you're free to do it. I am not. Especially if all it takes is to make it go is to add 3 lines of code, less than 100 characters.

Also, saying `broken operating system` and `no one should be using anyway` is basically forcing your personal views on the whole open-source community. XP is ""broken"" the very same way Vista or Win7 is - it's based on weak Win32 API, using conventions (threading model, hungarian notation, ugly C/C++ mix etc) that are decades old and deprecated. As such, should we ban all Windows users from using Bullet?

BTW, I remember almost exactly the same words used during the late 1990's by Unix users about Linux ...
",one possible exactly gave main solution break bullet breaking anything consider making code fully compatible platform intrinsically tied bad thing besides ai many kernel please list wish discus matter otherwise funny easily detect prevent overflow even single line code find funny still removed think game running without single maintenance reset constitute bullet user base might wrong currently user base willing say user base thus application income free especially make go add code le also saying broken operating system one anyway basically forcing personal whole community broken way vista win based weak win model notation ugly mix old ban bullet remember almost exactly used late,issue,negative,negative,neutral,neutral,negative,negative
63516929,"""I seriously doubt if that (50 day running time) would happen during Bullet executions.""
Very funny. As if game servers weren't a thing.

Seriously, why break Bullet for a broken\* operating system that no one should be using anyway?

EDIT: \* broken because no security updates ever again
",seriously doubt day running time would happen bullet funny game thing seriously break bullet operating system one anyway edit broken security ever,issue,negative,negative,negative,negative,negative,negative
63492911,"The btAdjustInternalEdgeContacts should solve this issue. Perhaps the triangle winding is inconsistent?

If btAdjustInternalEdgeContacts doesn't help, it is best to simply create a reproduction case by modifying a Bullet demo, such as Demos/BasicDemo or Demos/InternalEdgeDemo to show the issue. Copy and paste the code in a gist, https://gist.github.com/, and share the link in this issue.
Thanks for the help,
Erwin
",solve issue perhaps triangle winding inconsistent help best simply create reproduction case bullet show issue copy paste code gist share link issue thanks help,issue,positive,positive,positive,positive,positive,positive
63150147,"In Bullet 2.x you can do world->getSolverInfo().m_numIterations = x
see also http://bulletphysics.org/mediawiki-1.5.8/index.php/BtContactSolverInfo

For Bullet 3.x the API is still undecided, but the Bullet 2.x API is not going to change anymore (beyond fixing bugs).
THanks!
",bullet see also bullet still undecided bullet going change beyond fixing thanks,issue,negative,positive,positive,positive,positive,positive
62215414,"Ok, thanks!
If you need any help with that - let me know, maybe I can help.
",thanks need help let know maybe help,issue,positive,positive,positive,positive,positive,positive
61926876,"@Tal500 
Nice work on it so far. I can't really give any suggestions without any experience writing a C API for C++, but a cursory glance at the code generates a positive view for the direction the C API is going in while looking at `BulletCTest.c`

@erwincoumans 
Take as long as you need! I'm glad that the C API will be worked on and hopefully done before/when bullet3 comes out. This will be very important to opening avenues for this excellent physics library to enter other programming languages.  Many will jump at the chance to use bullet3 as an option when the C API is available.
",tal nice work far ca really give without experience writing cursory glance code positive view direction going looking take long need glad worked hopefully done bullet come important opening excellent physic library enter many jump chance use bullet option available,issue,positive,positive,positive,positive,positive,positive
61875036,"I am still figuring the new Bullet 3.x API out, let alone a C-API. Note that Bullet 2.x is moving all into Bullet 3. I did one experiment for a C-API file in Bullet 3 here: bullet3\src\Bullet3OpenCL\Initialize\b3OpenCLUtils.h
Please have a look at that file, it supports both C++ and C.
",still new bullet let alone note bullet moving bullet one experiment file bullet please look file,issue,negative,positive,positive,positive,positive,positive
61872277,"@resttime thanks for your comment!

Lately, I was very short in my free time, so my current result are not very huge.
However, I would like to post it here to hear your opinion, if I'm going at the right direction at all.

Here is my work repository:
https://bitbucket.org/tal500/bullet-c-proposal/src

The first goal is to have a fast and convince C API as possible, for the Hello World example (work in progress).

Notice that macro helpers are meant to be used widely in the CPP files, the header should be easy to understand.

I know I need to fix alignment to be 16-byte aligned, and the Vector3 is probably not the smartest thing, should change it to Vector(4 components).

Any suggestion would be appreciated.
",thanks comment lately short free time current result huge however would like post hear opinion going right direction work repository first goal fast convince possible hello world example work progress notice macro meant used widely header easy understand know need fix alignment vector probably thing change vector suggestion would,issue,positive,positive,positive,positive,positive,positive
61804452,"I'm interested in seeing this C API come together (as someone who might write a wrapper) and I think @Tal500 makes good points. I'd rather see the C API designed like that.
",interested seeing come together someone might write wrapper think tal good rather see designed like,issue,positive,positive,positive,positive,positive,positive
61779330,"As usual in these things I have answered my own question. I am running demo OK using the following cmd:
App_Bullet3_OpenCL_Demos_clew_vs2010_debug.exe --cl_platform=1
Perhaps it would be a good idea to put the command line option in the Readme?

Please note above comment about adding #include <algorithm> in fem_add_plasticity_force.h for VS2013
",usual question running following perhaps would good idea put command line option please note comment include algorithm,issue,positive,positive,positive,positive,positive,positive
61521532,"ah, gtest needs it? I will check it out and add it. Thanks for the report!
",ah need check add thanks report,issue,negative,positive,positive,positive,positive,positive
61466440,"would that help if I send you the two other files directly (email or other) ?
",would help send two directly,issue,negative,positive,neutral,neutral,positive,positive
61426137,"Do you mind if I send you smaller fixes? The ones that really are a nuisance to us over at OpenMW?
",mind send smaller really nuisance u,issue,negative,positive,neutral,neutral,positive,positive
61423959,"I will have to perform this task manually myself in the future, because this patch causes too many merge conflicts in private repositories. Thanks for your contribution anyway. Please don't do further rounds, because I cannot apply them. Again, I will cleanup the stuff myself.
",perform task manually future patch many merge private thanks contribution anyway please apply cleanup stuff,issue,positive,positive,positive,positive,positive,positive
61423521,"Thanks a lot for the contribution. The additional vcxproj file prevents the automatic pull request from applied (otherwise we add a visual studio file to Bullet). Once I have time to figure out the manual process I'll apply the patch. Thanks!
",thanks lot contribution additional file automatic pull request applied otherwise add visual studio file bullet time figure manual process apply patch thanks,issue,positive,positive,positive,positive,positive,positive
60154662,"If you create a kinematic character controller and add it, then step it, it will assert because it defaults to m_useWalkDirection, but with a zero m_walkDirection, which fails in a normalize.
I changed around line 665 in playerStep to:

```
    if (m_useWalkDirection) {
            if (!m_walkDirection.fuzzyZero())
                    stepForwardAndStrafe (collisionWorld, m_walkDirection);
```

Then it won't move if it has a fuzzyZero()
",create kinematic character controller add step assert zero normalize around line wo move,issue,negative,neutral,neutral,neutral,neutral,neutral
60139518,"Yes, I agree. I'll consider it for Bullet 3.x (no such change in Bullet 2 API), if I can do it without making the library a big mess of templates.. I highly recommend embedding the Bullet source in your project, rather than using a system-side installation.
",yes agree consider bullet change bullet without making library big mess highly recommend bullet source project rather installation,issue,positive,negative,neutral,neutral,negative,negative
60135647,"I fixed the wikipedia article.  Interestingly, the reference at the bottom of the article (whose images were copied for the wikipedia illustrations) had the correct equations.
",fixed article interestingly reference bottom article whose copied correct,issue,negative,positive,positive,positive,positive,positive
60126901,"You're right.  In fact, that is the exact error I made in my calculations, which is why I had to apply the impulse along the direction of the relative offset vector.  This morning I've redone the math, modified my matrix, and reverted to the correct applyImpulse() implementation and things are correctly stable.  I'll try to find out what it takes to fix the wikipedia article.
",right fact exact error made apply impulse along direction relative offset vector morning math matrix correct implementation correctly stable try find fix article,issue,negative,positive,positive,positive,positive,positive
60109606,"Yes, it is counter intuitive, as described here: https://www.physicsforums.com/threads/apparent-paradox-with-angular-and-linear-motion.623383/
I just checked the wikipedia entry for collision response and 1a and 1b is wrong (or wrongly worded) :http://en.m.wikipedia.org/wiki/Collision_response
",yes counter intuitive checked entry collision response wrong wrongly worded,issue,negative,negative,negative,negative,negative,negative
60106163,"Sigh... yeah, you're right.  Thinking it over again this morning has made me realize that this happens to be true for the special case I was considering, but is not true in general.

It is odd that a unit impulse applied at an offset actually introduces more energy into the system (changing both linear and angular velocity) than one unit applied at the center of mass (changing only linear velocity by the same amount), but I guess the paradox is resolved when the responsibility of conserving of energy is transferred to whatever code computed the impulse in the first place.
",sigh yeah right thinking morning made realize true special case considering true general odd unit impulse applied offset actually energy system linear angular velocity one unit applied center mass linear velocity amount guess paradox resolved responsibility energy transferred whatever code impulse first place,issue,positive,positive,positive,positive,positive,positive
60037703,"As far as I know, the effect of an impulse on the linear velocity of the center of mass is the same, no matter where on the object you apply it. Can you provide a reference or derivation of the true linear component?
Thanks!
Erwin
",far know effect impulse linear velocity center mass matter object apply provide reference derivation true linear component thanks,issue,positive,positive,positive,positive,positive,positive
59601759,"And indeed, the github button placement is absurd, they need a UX designer for the website.
",indeed button placement absurd need designer,issue,negative,negative,negative,negative,negative,negative
59601749,"Yes, in the current Bullet code there is some wrong use of DEBUG that needs to be fixed. Let's keep this issue open to fix that, and your memset :-)
",yes current bullet code wrong use need fixed let keep issue open fix,issue,negative,negative,neutral,neutral,negative,negative
59601663,"I did on my PR. If you conditionally use memset, then include its header conditionally as well.
This is what you actually have around L60. I did not write it.

```
#if DEBUG
    memset( stack_array, -1, STACK_ARRAY_COUNT * sizeof(stack_array[0]) );
#endif
```

I just added the missing header:

```
#if DEBUG
#include <string.h>
#endif
```
",conditionally use include header conditionally well actually around write added missing header include,issue,negative,negative,neutral,neutral,negative,negative
59597692,"The problem is coming inside of [LoadShader.cpp:21](https://github.com/bulletphysics/bullet3/blob/master/btgui/OpenGLWindow/LoadShader.cpp#L21). I do not quite understand why it is checking for errors in the start of the function, but glGetError() has a value of GL_INVALID_ENUM (1280).

I am trying to search, but can not seem to easily find it. Do you know where calls to OpenGL is being called before that?

My configuration: 

> Ubuntu 14.04 64-bit
> GL_VENDOR=NVIDIA Corporation
> GL_RENDERER=GeForce GTX 970/PCIe/SSE2
> GL_VERSION=3.2.0 NVIDIA 343.22

UPDATE:

```
727     glewInit();
(gdb) next
730     gui = new GwenUserInterface();
(gdb) call glGetError()
$12 = 1280
```

The call for glewInit() seems to be doing it. ;o

UPDATE2: 
I found the source of the problem, this line is setting the error:

```
extStart = glGetString(GL_EXTENSIONS);
```

And here is _a_ solution:
http://stackoverflow.com/questions/19453439/solved-opengl-error-gl-invalid-enum-0x0500-while-glewinit#comment28878875_19466432

I set glewExperimental = true, and it worked for a minute or so, but then it crashed at GLInstancingRenderer.cpp:1835, again with glGetError() as GL_INVALID_ENUM. 

UPDATE3:
I am not sure what to make of this anymore. It works fine for most of the time, but I seem to getting random exceptions: 

> App_Bullet3_OpenCL_Demos_clew_gmake_x64_debug: ../../src/Bullet3OpenCL/ParallelPrimitives/b3OpenCLArray.h:283: void b3OpenCLArray<T>::copyToHostPointer(T*, size_t, size_t, bool) const [with T = b3Vector3; size_t = long unsigned int]: Assertion `status==0' failed.

Any help? 

UPDATE4:
Seems to be working fine for the most time, except for the random crash here and there.
Also, learned a lot about OpenGL, recommend reading: https://developer.nvidia.com/sites/default/files/akamai/gamedev/docs/Porting%20Source%20to%20Linux.pdf and ARB_debug_output
",problem coming inside quite understand start function value trying search seem easily find know configuration corporation update next new call call update found source problem line setting error solution set true worked minute update sure make work fine time seem getting random void bool long unsigned assertion help update working fine time except random crash also learned lot recommend reading,issue,positive,positive,positive,positive,positive,positive
59574559,"we should not rely on flags defined by custom build systems, I'll have a look what a proper solution would be.
",rely defined custom build look proper solution would,issue,negative,neutral,neutral,neutral,neutral,neutral
59569002,"Thanks for the help. I actually made a similar pull request here: https://github.com/bulletphysics/bullet3/pull/271 so we can close this one.
",thanks help actually made similar pull request close one,issue,positive,positive,neutral,neutral,positive,positive
59554746,"https://gist.github.com/odellus/c32a258d521aee982fb1

I updated the catalyst drivers to the latest stable branch and now there is only one error:

from the gist:
`compiling kernel mprPenetrationKernel ready.  
../../test/OpenCL/AllBullet3Kernels/testExecuteBullet3NarrowphaseKernels.cpp:414: Failure  
Value of: numContacts  
Actual: 0  
Expected: results[i]   
Which is: 1`

So it's only off by one!  :smiley: 
So close. I'm pretty sure users just need to scrape the money together for a refurbished GTX 680 if they don't have a more modern card that Bullet3 is known to work with. This is what I am doing.
",catalyst latest stable branch one error gist kernel ready failure value actual one close pretty sure need scrape money together modern card bullet known work,issue,positive,positive,positive,positive,positive,positive
59019013,"@odellus I have the same issue.
Could you please keep us updated if you have found the solution?
I am running Ubuntu 14.04 (64bit) with GTX Titan graphics card (the only one I have).
Thanks
",issue could please keep u found solution running bit graphic card one thanks,issue,positive,positive,neutral,neutral,positive,positive
58834209,"Thanks, if you have a workaround, please open a pull request (or issue with patch etc).
Closing for now.
",thanks please open pull request issue patch,issue,positive,positive,neutral,neutral,positive,positive
58833598,"It means the OpenCL context could not be created, likely some driver issue.
At the moment the App_Bullet3_OpenCL_Demos_clew is only for developers who are experienced with OpenCL and fix their own OpenCL kernels. Good luck!
",context could likely driver issue moment experienced fix good luck,issue,positive,positive,positive,positive,positive,positive
58762817,"Hey Erwin! (and every one)

First, I think that Bullet is great!
I don't have experience with Bullet so sorry for my ignorance.

I would like to support Bullet C API, since as said before, it is the most important feature if we want portability with other language (I do :-) ).

Since you tagged this in milestone Bullet 3.00, I test the latest C-API(of ngb...@gmail.com) in the Bullet3 repo.

First I found this tree possible bugs:
- Bug in Bullet3? : function btCollisionWorld::getCollisionConfiguration() doesn't exist in Bullet3
- Bug in C binding: field btGjkPairDetector::ClosestPointInput::m_stackAlloc doesn't exist, used in plNearestPoints. I've checked this and this applies both for Bullet2&3.
- A placement new() operator is called after btAlignedAlloc(), but no destructor gets called before btAlignedFree(). It's not the correct behavior according to C++ rules[1]

Question that I have:
- Does Bullet ever ""steal"" pointer ownership? I.e. is Bullet ever delete pointer it took from user? It has a huge impact for the Create&Destroy functions implementation.

After those global points, I would like to describe the current status, why it's not good and my alternative.

== Current Status - OpenPL-like library ==
1. The C wrapper is different than what a C++ API.
   The description in header for function ""plNewBulletSdk()"" says:
   //this could be also another sdk, like ODE, PhysX etc.

It sound nice, OpenGL-ES-like idea, every one could implement the library differently.
Why I think it's bad? Two reasons which is actually the same:
- This is not a C wrapper, as the same way the OpenGL isn't a C wrapper.
- It's give C developers far less access to Bullet API than C++ developers. When initializing Bullet, there are many options in the constructor and in member functions. This is only one example for many features in this wrapper.
1. In my opinion, ""pl"" prefix isn't good for Bullet wrapper, unless we choose the OpenPL idea.
2. It's not trivial to match between the C function to the Bullet C++ function. Sometime this function call more than one function.

If someone want to make an OpenPL-like idea, it should be separated from Bullet C wrapper.

== Alternative - ""real"" C wrapper ==

I think that bullet should look like the ""standard"" style of API. I took ODE for example, but actually it's the same as most wrappers(for every language).

Notice that the numbers matches to previous numbers.
1. The C API should be as much as powerful as C++ API.
   The idea is that should be a one to one match between those two, except to cases when it's impossible or not beneficial on the other language(C). In my opinion, it's a definition to a good C wrapper.
   Each function in the C wrapper should either call the matched C++ function, or do the same(e.g. optimized mathematics functions/macros).
2. In my opinion, a good prefix is ""cbt"" or ""btc""(not to be confused with Bitcoin) but this is the least important issue.
3. As same as ODE, function and structs should have the following match:
   C++:
   class btSomeClass {
   void foo();
   }
   C:
   btSomeClassFoo(btSomeClassHandle someClass);

Believe me, it's easier for everyone:
- C wrappers which maintain this
- Wrappers for other languages
- The simple, end-user non-C++ developer.

== Summery ==

I know I might put a bomb after people hard work, but I only wish the best for Bullet.
I really want to hear your opinion about this, before I start something unofficially.

BTW: Sorry for my English.
- Tal

[1] See the example for placement new in: http://en.cppreference.com/w/cpp/language/new
",hey every one first think bullet great experience bullet sorry ignorance would like support bullet since said important feature want portability language since tagged milestone bullet test latest bullet first found tree possible bug bullet function exist bullet bug binding field exist used checked bullet placement new operator destructor correct behavior according question bullet ever steal pointer ownership bullet ever delete pointer took user huge impact create destroy implementation global would like describe current status good alternative current status library wrapper different description header function could also another like ode sound nice idea every one could implement library differently think bad two actually wrapper way wrapper give far le access bullet bullet many constructor member one example many wrapper opinion prefix good bullet wrapper unless choose idea trivial match function bullet function sometime function call one function someone want make idea bullet wrapper alternative real wrapper think bullet look like standard style took ode example actually every language notice previous much powerful idea one one match two except impossible beneficial language opinion definition good wrapper function wrapper either call function mathematics opinion good prefix confused least important issue ode function following match class void foo believe easier everyone maintain simple developer summery know might put bomb people hard work wish best bullet really want hear opinion start something unofficially sorry tal see example placement new,issue,positive,positive,positive,positive,positive,positive
58730493,"I meant it as a +1, since ODE and Bullet have very similar architectures. We noticed it missing from ODE, so we added it in our fork. So +1 for adding it to bullet as well.

Sorry for being so cryptic.
",meant since ode bullet similar missing ode added fork bullet well sorry cryptic,issue,negative,negative,negative,negative,negative,negative
58727894,"@scpeters I don't understand, this is a Bullet issue, not an OpenDE issue. The pull request pertains to OpenDE not Bullet.
",understand bullet issue issue pull request bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
58690916,"The Bullet btSequentialImpulseConstraintSolver has all features of the ODE quickstep solver and be configured to be equivalent and better, so there is no 'extras/quickstep' because that is pointless. If you need better quality joints (hinges etc) than the btSequentialImpulseConstraintSolver (==quickstep) then the best bet is the new Featherstone btMultiBody. There is still a small bug in there that I am tracking down right now, but this will be the way forward. the btMultiBody is ideal for tanks, vehicles, robots, hand grasping etc.
",bullet ode quickstep solver equivalent better pointless need better quality best bet new still small bug right way forward ideal hand grasping,issue,positive,positive,positive,positive,positive,positive
58598347,"We added this to our fork of ODE in Gazebo ([pull request 448](https://bitbucket.org/osrf/gazebo/pull-request/448)).
",added fork ode gazebo pull request,issue,negative,neutral,neutral,neutral,neutral,neutral
58584669,"Thanks Erwin.
Yes, at some point I may need some help with those tanks. The first port attempt from OpenDE to Bullet yielded a very unstable sim, even with miniscule timesteps, so I need to play around with different settings and solvers.
",thanks yes point may need help first port attempt bullet unstable even need play around different,issue,positive,positive,positive,positive,positive,positive
58573232,"(also I will be fixing some remaining bugs in btMultiBody and then it could be useful to create tanks/vehicles you might want to try that out later!)
",also fixing could useful create might want try later,issue,positive,positive,positive,positive,positive,positive
58573086,"That is likely a bug, although the code is not active by default (unless you enable the SAT clipping code, using 'convex->initializePolyhedralFeatures()' and world->getDispatchInfo()->m_enableSatConvex=true; )
Thanks for reporting, I'll fix it soon.
",likely bug although code active default unless enable sat clipping code thanks fix soon,issue,positive,positive,neutral,neutral,positive,positive
58224655,"Did you report it to the developers of your broken compiler? It is an internal compiler error, not a Bullet issue. Thanks!
",report broken compiler internal compiler error bullet issue thanks,issue,negative,negative,neutral,neutral,negative,negative
58219686,"Related: http://sourceforge.net/p/mingw/bugs/2143/

I've narrowed it down to line 216:

```
btQuaternion orn2(calculatedEdge,-correctedAngle);
```

Seems to have something to do with memory alignment in btVector3, but that's mostly a guess.
",related line something memory alignment mostly guess,issue,negative,positive,positive,positive,positive,positive
57895415,"This bug is still happening:

btGetVersion() returns 283

It's asserting inside the `stepForwardAndStrafe` method of the `btKinematicCharacterController` when `start` and `end` are equal. It breaks when trying to do the `convexSweepTest`.

Checking for `start == end` and returning or continuing doesn't really work (avoinding the `convexSweepTest` doesn't work either)

The code above also doesn't change anything.

The full callstack bellow:

>   LuckEngine.exe!btVector3::normalize() Line 300  C++
>     LuckEngine.exe!btQuantizedBvh::walkStacklessTreeAgainstRay(btNodeOverlapCallback \* nodeCallback, const btVector3 & raySource, const btVector3 & rayTarget, const btVector3 & aabbMin, const btVector3 & aabbMax, int startNodeIndex, int endNodeIndex) Line 493 C++
>     LuckEngine.exe!btQuantizedBvh::reportBoxCastOverlappingNodex(btNodeOverlapCallback \* nodeCallback, const btVector3 & raySource, const btVector3 & rayTarget, const btVector3 & aabbMin, const btVector3 & aabbMax) Line 805 C++
>     LuckEngine.exe!btBvhTriangleMeshShape::performConvexcast(btTriangleCallback \* callback, const btVector3 & raySource, const btVector3 & rayTarget, const btVector3 & aabbMin, const btVector3 & aabbMax) Line 229    C++
>     LuckEngine.exe!btCollisionWorld::objectQuerySingleInternal(const btConvexShape \* castShape, const btTransform & convexFromTrans, const btTransform & convexToTrans, const btCollisionObjectWrapper \* colObjWrap, btCollisionWorld::ConvexResultCallback & resultCallback, float allowedPenetration) Line 691    C++
>     LuckEngine.exe!btCollisionWorld::objectQuerySingle(const btConvexShape \* castShape, const btTransform & convexFromTrans, const btTransform & convexToTrans, btCollisionObject \* collisionObject, const btCollisionShape \* collisionShape, const btTransform & colObjWorldTransform, btCollisionWorld::ConvexResultCallback & resultCallback, float allowedPenetration) Line 578 C++
>     LuckEngine.exe!btGhostObject::convexSweepTest(const btConvexShape \* castShape, const btTransform & convexFromWorld, const btTransform & convexToWorld, btCollisionWorld::ConvexResultCallback & resultCallback, float allowedCcdPenetration) Line 139   C++
>     LuckEngine.exe!KinematicCharacterController::stepForwardAndStrafe(btCollisionWorld \* collisionWorld, const btVector3 & walkMove) Line 389   C++
>     LuckEngine.exe!KinematicCharacterController::playerStep(btCollisionWorld \* collisionWorld, float dt) Line 691   C++
>     LuckEngine.exe!KinematicCharacterController::updateAction(btCollisionWorld \* collisionWorld, float deltaTime) Line 109  C++
>     LuckEngine.exe!luck::character_system::update() Line 202    C++
>     LuckEngine.exe!main() Line 361  C++
",bug still happening inside method start end equal trying start end really work work either code also change anything full bellow line line line line float line float line float line line float line float line luck line main line,issue,negative,positive,positive,positive,positive,positive
57871268,"I've begone working through the list, first just the dead code areas:
https://github.com/bulletphysics/bullet3/pull/256 
",begone working list first dead code,issue,negative,positive,neutral,neutral,positive,positive
57790794,"This is a compiler bug. Did you submit the issue to the compiler writers, you provided the url above in the log: http://tdm-gcc.tdragon.net/bugs
If you have a workaround, please provide it. We don't spend time on broken compilers.
",compiler bug submit issue compiler provided log please provide spend time broken,issue,negative,negative,negative,negative,negative,negative
57639434,"Thanks for the report, I hope to find some time to check it out and fix issues/warnings
",thanks report hope find time check fix,issue,positive,positive,positive,positive,positive,positive
57505203,"Bullet 2.83 won't have any of those files so it should be resolved automatically, I'll close the issue with the next release.
",bullet wo resolved automatically close issue next release,issue,negative,neutral,neutral,neutral,neutral,neutral
57430461,"Here is the full result (5.7MiB bz2) of the Clang's Static Analyzer run on the master branch at commit 46bd05f4f769ae0c6229489bb515ea6e471f17b7 (Sep 17):

https://dl.dropboxusercontent.com/u/396161/scan-build-2014-10-01-094545-6237-1.tar.bz2

It contains a lot of low-hanging fruit.
",full result clang static analyzer run master branch commit lot fruit,issue,negative,positive,positive,positive,positive,positive
57264272,"Just wondering, how much has already been done and what is left?
",wondering much already done left,issue,negative,positive,neutral,neutral,positive,positive
57071512,"The AppBenchmarks results on Linux 12.04 + i5-4200U.
Scalar version:

```
Results for 3000 fall: 8.688848
Results for 1000 stack: 10.941212
Results for 136 ragdolls: 0.914280
Results for 1000 convex: 9.045226
Results for prim-trimesh: 1.782335
Results for convex-trimesh: 2.166815
Results for raytests: 5.741157
```

SIMD version:

```
Results for 3000 fall: 8.287493
Results for 1000 stack: 10.853206
Results for 136 ragdolls: 5.783679
Results for 1000 convex: 6.698566
Results for prim-trimesh: 1.744925
Results for convex-trimesh: 1.866980
Results for raytests: 4.790749
```
",scalar version fall stack convex version fall stack convex,issue,negative,positive,positive,positive,positive,positive
57018040,"I'm using Ubuntu 14.04 with ATI Catalyst 14.4 (non-beta). The problem might(?) come from the fact that I also have an nVidia card beside my ATI, so I have drivers from both nVidia and ATI installed. I can run OpenCL on both of them for most applications and this hasn't been an issue since getting both cards to work initially (which was non-trivial). 

The source I was building came from yesterday's master branch.

I meant to ask you which set of drivers and OS are fully supported by bullet3 at this time. I understand not having the bandwidth to deal with everyone's buggy drivers. When I started using the catalyst drivers in Ubuntu a few years ago they were **terrible**, and they haven't really improved that much since then.
",catalyst problem might come fact also card beside run issue since getting work initially source building came yesterday master branch meant ask set o fully bullet time understand deal everyone buggy catalyst ago terrible really much since,issue,negative,negative,negative,negative,negative,negative
56977800,"@odellus   Actually the assert happens right before loading a glsl shader. What operating system + version are you using? Is it a beta graphics GPU driver or recent non-beta one? Is this the latest github source code revision you are using (from http://github.com/bulletphysics/bullet3) ?
",actually assert right loading shader operating system version beta graphic driver recent one latest source code revision,issue,negative,positive,positive,positive,positive,positive
56908839,"@odellus this seems to be some GLSL shader loading issue. We should make sure that the glGetError also shows the GLSL shader compiler error. 
Separately: there are many possible combinations of driver, operating system and OpenCL compiler version, and each of them can cause issues with a OpenCL kernel. I don't have bandwidth to provide support for all buggy OpenCL drivers out there. At this point, the best you can do is learn to fix OpenCL kernels by yourself :-)
",shader loading issue make sure also shader compiler error separately many possible driver operating system compiler version cause kernel provide support buggy point best learn fix,issue,positive,positive,positive,positive,positive,positive
56907645,"I'm having a simliar issue testing the build from https://github.com/bulletphysics/bullet3/commit/46bd05f4f769ae0c6229489bb515ea6e471f17b7.

```
_clew_gmake_x64_release
main startglewXInit dynamically loaded using dlopen/dlsym OK
glewXInit OK
Creating context
Created GL 3.0 context
Direct GLX rendering context obtained
Making context current
GL_VENDOR=ATI Technologies Inc.
GL_RENDERER=AMD Radeon HD 6900 Series 
GL_VERSION=3.2.12874 Core Profile/Debug Context 14.10.1006.1001
GL_SHADING_LANGUAGE_VERSION=4.30
pthread_getconcurrency()=0
-----------------------------------------------------
App_Bullet3_OpenCL_Demos_clew_gmake_x64_release: ../../btgui/OpenGLWindow/LoadShader.cpp:21: 
GLuint gltLoadShaderPair(const char*, const char*): Assertion `glGetError()==0' failed.
started GwenUserInterfaceAborted (core dumped)
```

The only other test in bullet3/bin that had any problems was bin/Test_OpenCL_Bullet3_gmake_x64_release. The output from running this test is located below:

https://gist.github.com/odellus/e8751fd7aafec6e8d73c

I'm looking more carefully into this issue at the moment, but I must admit I am brand new to Bullet so any help would be most well received.
",issue testing build main dynamically loaded context context direct rendering context making context current series core context char char assertion core test output running test looking carefully issue moment must admit brand new bullet help would well received,issue,positive,positive,neutral,neutral,positive,positive
56748748,"@erwincoumans , I tried the bullet SSE path on Linux + x86. I didn't see any speedup in `BenchmarkDemo` with `SOLVER_SIMD | SOLVER_INTERLEAVE_CONTACT_AND_FRICTION_CONSTRAINTS` or `SOLVER_SIMD+SOLVER_USE_WARMSTARTING`. Do you have any thoughts on performance of bullet SSE path? Thanks.
",tried bullet path see performance bullet path thanks,issue,negative,positive,positive,positive,positive,positive
56016938,"yes I explicitly define DEBUG in my custom build system (msvc2013/premake).
compiler defines _DEBUG though.
",yes explicitly define custom build system compiler though,issue,negative,neutral,neutral,neutral,neutral,neutral
55926827,"ok, I submitted a fix, only in case BUILD_SHARED_LIBS is defined:
https://github.com/bulletphysics/bullet3/pull/249
Thanks for the report!
",fix case defined thanks report,issue,negative,positive,positive,positive,positive,positive
55922945,"Who defines the symbol ""DEBUG"" exactly? Your custom build system? For which compiler/platform (+version)?

> > #if DEBUG
",symbol exactly custom build system,issue,negative,positive,positive,positive,positive,positive
55838764,"I'll give it another thought for src/Bullet3\* directories, Bullet 2.x API will not change anymore.
",give another thought bullet change,issue,negative,neutral,neutral,neutral,neutral,neutral
55817665,"I would by no means want to make anything more difficult for anyone. My wrapper includes the version of bullet it is built for to eliminate possible conflicts with future versions and allowing the end user to do a single compilation which compiles bullet along with the wrapper to reduce complexity of the build process for the end user. Having the `.cpp` files along with the `.h` files creates a sort of congestion on my end but it can be dealt with.

Thank you very much for your time.
",would want make anything difficult anyone wrapper version bullet built eliminate possible future end user single compilation bullet along wrapper reduce complexity build process end user along sort congestion end dealt thank much time,issue,negative,negative,neutral,neutral,negative,negative
55813239,"Usually such split is made when there are 'internal' headers and 'external' headers, but I don't have such thing with Bullet at the moment, each header can be used. In addition, several tools stop working if the headers are not in the same directory as the cpp file (such as XCode toggle between .h and .cpp) and it makes navigation harder for me.

You can 'install' Bullet and then the header files will be copied to some location. Is that not sufficient?
",usually split made thing bullet moment header used addition several stop working directory file toggle navigation harder bullet header copied location sufficient,issue,negative,negative,negative,negative,negative,negative
54355659,"By default gwen is being built as dynamic library on my system _using cmake_ and it failed on linking stage with ""unable to find"" any of the gl functions that it references.

Visible Cmake options enabled are:
BUILD_SHARED_LIBS                       YES
CMAKE_OSX_ARCHITECTURES      X86_64

Not sure what other flags you mention. do you mean in the gnerated xcodeproject?
",default built dynamic library system linking stage unable find visible yes sure mention mean,issue,positive,negative,neutral,neutral,negative,negative
54349490,"I have been mostly testing using static libraries using premake and cmake (static linking is the default).
Can you tell how you compile gwen.dlyb exactly (what flags/settings)?
Note that there is an option to dynamic load (different from dynamic linking) OpenGL, glx and glew, and in that case we don't need to link (static or dynamic) against OpenGL/glew etc).
",mostly testing static premake static linking default tell compile exactly note option dynamic load different dynamic linking case need link static dynamic,issue,positive,positive,positive,positive,positive,positive
54190390,"Hi Erwin, I am also very much interested in CPU Support and might be supporting in developping a solution. 

My major concerns in developing a CPU MultiThreaded version are the following: 
- I would like to make heavy use of collision callbacks into c++ application code and have the fear that using GPU this will not be as easy. (Maybe there is another way of doing this by fetching collision data from the gpu but this will also end up in consuming bandwith. Due to stability reasons i need all the data it in physics step size frequency. Sometimes i need to apply forces on the physics bodies back again and so on)
- Secondly I would like to use the good old GImpact Concave collision detection as it is doing a quite goo job for me. My Guess is that this will not be available under OpenCL/GPU acceleration, or am I wrong?

What were the exact reasons for dropping the cpu multithreaded support in bullet? I could reactivate the code in 2.82 and it seemed to scale linearly with the number of cpus available. At least with the Many Box demos.. How about Gimpact concave meshes with this demo? The scaling factors with number of CPU would be perfectly usefull for our applications.

Can you please give me some directions on what to do to find a solution? Thank you Georg.
",hi also much interested support might supporting solution major multithreaded version following would like make heavy use collision application code fear easy maybe another way fetching collision data also end consuming due stability need data physic step size frequency sometimes need apply physic back secondly would like use good old concave collision detection quite goo job guess available acceleration wrong exact dropping multithreaded support bullet could reactivate code scale linearly number available least many box demo concave scaling number would perfectly please give find solution thank,issue,positive,positive,positive,positive,positive,positive
53999823,"removed the BUILD_MULTITHREADING option from Demos/CMakeListst.txt
https://github.com/bulletphysics/bullet3/commit/701ce71a1e2c022de54dd6aa90e53c6ae27da739

thanks for the report
",removed option thanks report,issue,negative,positive,positive,positive,positive,positive
53999646,"The BUILD_MULTITHREADED option was removed in the latest github revision. How did you enable it? Note that this will be re-implemented for Bullet 3. For the time being, I'll remove those demos from CMakeLists.txt
",option removed latest revision enable note bullet time remove demo,issue,negative,positive,positive,positive,positive,positive
53999534,"Thanks for the contribution, I applied it in a separate pull request (https://github.com/bulletphysics/bullet3/pull/229)
",thanks contribution applied separate pull request,issue,negative,positive,positive,positive,positive,positive
53972376,"Can you provide a pull request? Thanks!
",provide pull request thanks,issue,negative,positive,positive,positive,positive,positive
53514801,"The latest github revision has a new btMultiBody test in App_AllBullet2Demos,
Thanks!
Erwin
",latest revision new test thanks,issue,negative,positive,positive,positive,positive,positive
53283217,"Thanks, I moved the 'clearForcesAndTorques' manually in a separate commit:
https://github.com/bulletphysics/bullet3/commit/6cbf89905f60db80bfef21954acceada3a6b6b7b
I will create a GUI test later today.

Can you please report what error you get when building the App_AllBullet2Demos GUI app?
It should compile/link/run out-of-the-box on Windows, Linux and Mac OSX,
On Linux and Mac you could use the terminal for example:
cd build3
./premake_linux64 gmake 
or ./premake_osx gmake
cd gmake
make App_AllBullet2Demos
",thanks manually separate commit create test later today please report error get building mac mac could use terminal example build make,issue,positive,positive,neutral,neutral,positive,positive
52652255,"It looks like the travis build error was not related. Also there is a duplicate request, see https://github.com/bulletphysics/bullet3/pull/187 I'll pull in the other one. Thanks for the help!
",like travis build error related also duplicate request see pull one thanks help,issue,positive,positive,neutral,neutral,positive,positive
52625051,"This was in bullet-2.82-r2704.
Apparently fixed in the new code.
",apparently fixed new code,issue,negative,positive,positive,positive,positive,positive
52592435,"this seems to break the build, see the travis CI
",break build see travis,issue,negative,neutral,neutral,neutral,neutral,neutral
51724453,"best to avoid concave collision meshes, use convex decomposition (HACD) or the gimpact to compound util. both ways will lead to a btCompoundShape with convex child shapes.
",best avoid concave collision use convex decomposition compound way lead convex child,issue,negative,positive,positive,positive,positive,positive
51459533,"Hi Erwin, I have been following up a bug in Blender that led me here.
https://developer.blender.org/T32105
Could you give your opinion on this and how this would fit with blender?
",hi following bug blender led could give opinion would fit blender,issue,negative,positive,positive,positive,positive,positive
51278386,"I dug into it a bit more.  I got it to compile for forcing it to the secondary device.  Now it gives:

b3Error[/Users/griffon/dev/Perforce/Lux/extra/libBullet/Bullet3OpenCL/NarrowphaseCollision/b3ConvexHullContact.cpp,140]:
Assert errNum==CL_SUCCESS in line 140, file /Users/griffon/dev/Perforce/Lux/extra/libBullet/Bullet3OpenCL/NarrowphaseCollision/b3ConvexHullContact.cpp

I'll dig into it a bit more.
",dug bit got compile forcing secondary device assert line file dig bit,issue,negative,negative,negative,negative,negative,negative
51273376,"Yes, the GPU physics pipeline is broken on several OpenCL implementations, and needs fixing.
",yes physic pipeline broken several need fixing,issue,negative,negative,negative,negative,negative,negative
51083783,"Thanks for reporting.  What is exactly included in the OpenSuse version of Bullet?
I will remove those Extras files from the repository and for the next Bullet 2.83 release. In fact, those files don't exist in the latest github repository at http://github.com/bulletphysics/bullet3 Also makesdna will not be included anymore.
",thanks exactly included version bullet remove repository next bullet release fact exist latest repository also included,issue,negative,positive,positive,positive,positive,positive
50974394,"The latest revision worked fine, thank you for your feedback. Yes I taught it could be related to Clang, I had some trouble targeting the problem from a new Maratis bug report.
",latest revision worked fine thank feedback yes taught could related clang trouble problem new bug report,issue,negative,positive,positive,positive,positive,positive
50973732,"The download on googlecode is not broken, Clang is broken. Anyway, I created a workround for the Clang bug, but we cannot upload new files on googlecode so it is up to Clang to fix their compiler. The next Bullet release will likely be on bulletphysics.org, and then I will replace the googlecode Download section with a new URL.
",broken clang broken anyway clang bug new clang fix compiler next bullet release likely replace section new,issue,negative,negative,neutral,neutral,negative,negative
50973206,"Yes, sorry I just understood that bullet 2 was also merged here. Just be aware that the featured download on google.code is broken by default on mac. I'm trying the latest repo right now and will reply.
",yes sorry understood bullet also aware featured broken default mac trying latest right reply,issue,negative,positive,neutral,neutral,positive,positive
50973044,"anael-seghezzi, as far as I can tell, things work fine on Mac OSX with latest git repo version. Can you please check using current/latest revision of this git repository?
",far tell work fine mac latest git version please check revision git repository,issue,negative,positive,positive,positive,positive,positive
50972842,"Similar issue with bullet 2.82-r2704 on OSX 10.9.4 / XCode 5.1 :
The simulation is unstable in release mode (objects are bouncing in random directions)
I had to comment BT_USE_SIMD_VECTOR3, BT_USE_SSE and BT_USE_SSE_IN_API (by default on mac)
",similar issue bullet simulation unstable release mode bouncing random comment default mac,issue,negative,negative,negative,negative,negative,negative
50938197,"Can we also use the unwrapped angle for the joint limits?
",also use unwrapped angle joint,issue,negative,neutral,neutral,neutral,neutral,neutral
50824426,"after some searching Ive found the edit button for the file at last! changed the file and all should be safe and sound now.
",searching found edit button file last file safe sound,issue,negative,positive,positive,positive,positive,positive
50823664,"At line 242 of btQuickprof.cpp I accidentally wrote inline in front of the function definition for getTimeSeconds() which caused a compile error.
",line accidentally wrote front function definition compile error,issue,negative,neutral,neutral,neutral,neutral,neutral
50821462,"why was this issue closed? I consider just taking the pull request.
Thanks!
",issue closed consider taking pull request thanks,issue,negative,positive,neutral,neutral,positive,positive
50698168,"Hey Erwin, any updates on the C API? I'd like to use Bullet in my pure LuaJIT 3D game engine and this means we need to bind with the C API with FFI to avoid the slower actual Lua API bindings.

Thanks!
",hey like use bullet pure game engine need bind avoid actual thanks,issue,negative,positive,neutral,neutral,positive,positive
50693415,"I implemented a basic version as a class derived from btHingeConstraint to avoid default computation cost. 
See https://github.com/bulletphysics/bullet3/commit/1d00d91707c88cd5d48902001d6973c125052929
",basic version class derived avoid default computation cost see,issue,negative,neutral,neutral,neutral,neutral,neutral
49559758,"thanks for the contribution, I'll try to address it. Right now I am still figuring out how to move to Bullet 3, so any Bullet 2 work will delay this. One small note after glancing at your patch: there is a lot of white-space diff-lines, would be nice to avoid this next time. Thanks!
",thanks contribution try address right still move bullet bullet work delay one small note glancing patch lot would nice avoid next time thanks,issue,positive,positive,positive,positive,positive,positive
49030064,"Having the same problem.
-Uncommnet BT_USE_SSE_IN_API.
-Launch the basic demo on Release.
-Enjoy the falling boxes.

Tested on W7 64 with VS2013.
",problem basic release falling tested,issue,negative,neutral,neutral,neutral,neutral,neutral
48924596,"It works now, thanks a lot ! Sorry to bother you with such mundane things.

On 14/07/2014 18:24, erwincoumans wrote:

> I re-created the phpbb3_qa_confirm table from an earlier sql backup and registration seems to work again. Can you try it again? Thanks a lot for the report!
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/bulletphysics/bullet3/issues/198#issuecomment-48921953
",work thanks lot sorry bother mundane wrote table backup registration work try thanks lot report reply directly view,issue,negative,negative,neutral,neutral,negative,negative
48922443,"m_fixContactNormalDirection was buggy indeed and disabled in latest revisions of this repository. Thanks for the report anyway.
",buggy indeed disabled latest repository thanks report anyway,issue,negative,positive,positive,positive,positive,positive
48922268,"looks good to me, thanks for the contribution. Note that I'm moving away from using Glut by default in upcoming releases.
",good thanks contribution note moving away glut default upcoming,issue,positive,positive,positive,positive,positive,positive
48921953,"I re-created the phpbb3_qa_confirm table from an earlier sql backup and registration seems to work again. Can you try it again? Thanks a lot for the report!
",table backup registration work try thanks lot report,issue,negative,positive,positive,positive,positive,positive
48776032,"I'll pull in the file and check it out today, thanks for the contribution!
I'll likely want to enable premake generated builds too.
",pull file check today thanks contribution likely want enable premake,issue,negative,positive,neutral,neutral,positive,positive
48771569,"It's an easy way to get automated Linux builds for free. Is there anything else you'd like to know about travis integration?
",easy way get free anything else like know travis integration,issue,positive,positive,positive,positive,positive,positive
48621844,"Once I built again with Xcode 5.02 the problem went away as described in the issue.
If this is fixed now in the bullet3 repo, I will build again and confirm the issue is resolved.
",built problem went away issue fixed bullet build confirm issue resolved,issue,negative,positive,neutral,neutral,positive,positive
48551822,"That should be fixed in latest github bullet3 repo, did you try it?
See commit https://github.com/bulletphysics/bullet3/issues/164 in particular
",fixed latest bullet try see commit particular,issue,negative,positive,positive,positive,positive,positive
48548946,"I am seeing the exact same issue in several samples in gameplay3d.org which is just push 2.82 to the next branch. When I build the samples with clang and use C++11 objects slide around as if there is now friction or mass is not correct.

I using MacOSX 10.9.3 on XCode 5.1
",seeing exact issue several push next branch build clang use slide around friction mass correct,issue,negative,positive,neutral,neutral,positive,positive
47831274,"Thanks for the update, I'll check it out (I have been on a long vacation and have to catch up on many things).
",thanks update check long vacation catch many,issue,negative,positive,positive,positive,positive,positive
47660862,"sure, I changed ConstraintDemo (pulled fresh repo today - 07/01/14), 

diff : http://nova.dnp.fmph.uniba.sk/~fekete/bullet/ConstraintDemo.cpp.diff
cpp file : http://nova.dnp.fmph.uniba.sk/~fekete/bullet/ConstraintDemo.cpp
and test wavefront object: http://nova.dnp.fmph.uniba.sk/~fekete/bullet/test.obj

and of course the 'test.obj' file must be in correct directory while debugging (in my case it's build3/vs2010/)
",sure fresh today file test object course file must correct directory case,issue,positive,positive,positive,positive,positive,positive
47644929,"If sum is 0, there is an issue with the constraint that shouldn't happen. Can you recreate the issue in a modified Bullet demo?
",sum issue constraint happen recreate issue bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
47628475,"I have the same problem for btSliderConstraint where body is made out of btShapeHull (I don't observe assertion failure in case of primitive collision shapes cylinder). Concerning the bullet version, I pulled out the last one (063a0344acdae57df0321d898f1375d68a152aaf) and saw, that faulty part is line 1440 (as was written before about bug 666) :

1439  btScalar fsum = btFabs(sum);
1440  btAssert(fsum > SIMD_EPSILON);
1441  solverConstraint.m_jacDiagABInv = fsum>SIMD_EPSILON?btScalar(1.)/sum : 0.f;

Although I don't understand the reason for all those dot products being computed as ""sum"" in lines before 1439, one can see, that the fsum is checked for being bigger than SIMD_EPSILON properly at line 1441 which is _after_ assert. This must be the correct (inteded) behavior in case of fsum being ""0"" (assertion failed). So i simply commented the line 1440 and everything works as it supposed to - aka constraints behave properly. 

Imho assertion is just a raised finger for developer, that there is a situation that should not happen, however the code counts with this situation and behaves properly as far as I can see. (hope this helps anybody to temporary fix this)
",problem body made observe assertion failure case primitive collision cylinder concerning bullet version last one saw faulty part line written bug sum although understand reason dot sum one see checked bigger properly line assert must correct behavior case assertion simply line everything work supposed aka behave properly assertion raised finger developer situation happen however code situation properly far see hope anybody temporary fix,issue,negative,negative,neutral,neutral,negative,negative
47624111,"You're welcome :) It works on my laptop, and didn't break Bullet on my desktop :)
",welcome work break bullet,issue,negative,positive,positive,positive,positive,positive
47573653,"Thanks for the report and fix. I don't have a machine to test this right now, but as long as it fixes your issue it is fine with me. Thanks!
",thanks report fix machine test right long issue fine thanks,issue,positive,positive,positive,positive,positive,positive
47444737,"I've started on an effort to rewrite the soft body code here:
https://github.com/rtrius/bullet3/tree/softbody_refactor
(work in progress)

Not completely sure about what direction to take, but the main focus for now is to add documentation, improve the API, and refactor the data structures to be more GPU friendly.

One major change in the branch is that support for Clusters is completely removed. The main reason for this is that the Cluster system essentially re-implements a rigid body system within the soft body system, adding an enormous amount of complexity. 

In the future, a better approach might be to use 'virtual' rigid bodies. That is, to create a btRigidBody for each cluster and have it exchange impulses with a set of soft body nodes. One benefit of this approach is that all rigid body features, including constraints, would be available for soft bodies without any duplication of code.

On another note, I encountered linker errors when trying to compile any of the Bullet2 demos (commit 28f19f1bab4ef07f20e56583afae3f19e9f594cc in the main branch), and had to replace the static Glut with the Glut from Bullet 2.81/2.82 in order to get them to compile.
",effort rewrite soft body code work progress completely sure direction take main focus add documentation improve data friendly one major change branch support completely removed main reason cluster system essentially rigid body system within soft body system enormous amount complexity future better approach might use rigid create cluster exchange set soft body one benefit approach rigid body would available soft without duplication code another note linker trying compile bullet demo commit main branch replace static glut glut bullet order get compile,issue,positive,positive,positive,positive,positive,positive
47444373,"I've ran some additional tests(no specific numbers at the moment), and the performance gap between the 2 approaches is much smaller if the rigid bodies are not uniformly distributed. That is, if the rigid bodies are scattered throughout the scene as opposed to being in a large stack.
",ran additional specific moment performance gap much smaller rigid uniformly distributed rigid scattered throughout scene opposed large stack,issue,negative,positive,neutral,neutral,positive,positive
47410066,"I missed the request, but it should be fixed in latest commit.
Thanks for the report/discussion!
",request fixed latest commit thanks,issue,positive,positive,positive,positive,positive,positive
47409935,"Yes, it should be fixed in a recent commit, can you please try it again?
Thanks for the report!
",yes fixed recent commit please try thanks report,issue,positive,positive,positive,positive,positive,positive
46702946,"It looks wrong indeed, but it is correct. The reason is that the normal vector for body B, m_contactNormal2, is negative, so that is acting as the minus sign.

If there are any friction issues, can you please file a new issue including a reproduction case?
Thanks!
Erwin
",wrong indeed correct reason normal vector body negative acting minus sign friction please file new issue reproduction case thanks,issue,negative,negative,neutral,neutral,negative,negative
45696797,"@JodiTheTigger Thanks! I got one more error after making this change. I have fixed both of these and given Erwin a pull request: https://github.com/bulletphysics/bullet3/pull/184
",thanks got one error making change fixed given pull request,issue,negative,positive,positive,positive,positive,positive
45694101,"```
diff --git a/btgui/OpenGLWindow/SimpleOpenGL3App.cpp b/btgui/OpenGLWindow/SimpleOpenGL3App.cpp
index fe69cfb..a8957a1 100644
--- a/btgui/OpenGLWindow/SimpleOpenGL3App.cpp
+++ b/btgui/OpenGLWindow/SimpleOpenGL3App.cpp
@@ -210,14 +210,16 @@ void SimpleOpenGL3App::drawText( const char* txt, int posX, int posY)

        glDisable(GL_BLEND);
 }
+
+struct GfxVertex
+{
+    float x,y,z,w;
+    float nx,ny,nz;
+    float u,v;
+};
+
 int    SimpleOpenGL3App::registerCubeShape(float halfExtentsX,float halfExtentsY, float halfExtentsZ)
 {
-       struct GfxVertex
-       {
-               float x,y,z,w;
-               float nx,ny,nz;
-               float u,v;
-       };

        int strideInBytes = 9*sizeof(float);
        int numVertices = sizeof(cube_vertices)/strideInBytes;
@@ -327,4 +329,4 @@ void SimpleOpenGL3App::swapBuffer()
 {
        m_window->endRendering();
        m_window->startRendering();
-}
\ No newline at end of file
+}
```
",git index aa void char posy float float float float float float float float float float void end file,issue,negative,neutral,neutral,neutral,neutral,neutral
45689953,"http://stackoverflow.com/questions/5751977/local-type-as-template-arguments-in-c

§14.3.1/2 from the 2003 C++ Standard:

> A local type, a type with no linkage, an unnamed type or a type compounded from any of these types shall not be used as a template-argument for a template type-parameter.

Fix is to move the struct definition outside the function.
",standard local type type linkage unnamed type type shall used template fix move definition outside function,issue,negative,neutral,neutral,neutral,neutral,neutral
45237979,"Same system, I'm facing the same error too. I know that it will go away if -std=c++11 is added to the compilation string. I'm not familiar with premake and don't know how to add this option to the compilation. Can someone indicate how to add this?
",system facing error know go away added compilation string familiar premake know add option compilation someone indicate add,issue,negative,positive,positive,positive,positive,positive
45050786,"I've drafted a Constraint Fluid solver as described in the GDC presentation. 
It is more or less a simplification of the method in the 'Constraint Fluids' paper by Bodin et al. 
The main differences can be found in the comments here:
https://github.com/rtrius/Bullet-FLUIDS/blob/master/bullet-2.81-rev2613/src/BulletFluids/Sph/Experimental/btFluidSphSolverConstraint.h

The greatest difference is that Gustafsson's implemenation assumes that 
the mass and rest density are always equal to 1, and uses the kernel (1 - (d/h)^2)^3. 

There is still much to be done, but it would probably be best to wait until the 
API and other components are further developed before continuing to work on this.
",constraint fluid solver presentation le simplification method paper al main found difference mass rest density always equal kernel still much done would probably best wait work,issue,positive,positive,positive,positive,positive,positive
44817305,"I just did too, bug not fixed.
If I set m_fixContactNormalDirection = 0, it fix bug
",bug fixed set fix bug,issue,negative,positive,neutral,neutral,positive,positive
44816155,"Hi, just did, and everything works fine again. :-) Tested using double-precision-mode. 

I had not tried compiling from this repo in a while (using Linux), great to see all the things that have happened here during the last month or so. 
",hi everything work fine tested tried great see last month,issue,positive,positive,positive,positive,positive,positive
44813470,"It should be fixed in latest github revision, did you try it?
",fixed latest revision try,issue,negative,positive,positive,positive,positive,positive
44811000,"I've having this problem as well. Boxes falls through about half of my triangles. 

It works using 2.81, but not with 2.82. This is a rather serious regression I would say. 
",problem well half work rather serious regression would say,issue,negative,negative,negative,negative,negative,negative
44137935,"... I'm sorry, I can't believe I missed that option...

At any rate, yes that did do the trick, however it does fail when building the kernel on my GTX 670.

main startVersion = 4.4.0
Vendor = NVIDIA Corporation

## Renderer = GeForce GTX 670/PCIe/SSE2

started GwenUserInterfaceinit fontsclewInit succesfull using OpenCL.dll
numDevices=1
compiling kernel copyTransformsToVBOKernel ready.
clBuildProgram successfully compiled cached binary: cache/mpr.cl.GeForce GTX 670.335.23.bin
compiling kernel mprPenetrationKernel ready.
compiling kernel findSeparatingAxisUnitSphereKernel ready.
clBuildProgram successfully compiled cached binary: cache/sat.cl.GeForce GTX 670.335.23.bin
clBuildProgram successfully compiled cached binary: cache/satConcave.cl.GeForce GTX 670.335.23.bin
compiling kernel findSeparatingAxisKernel ready.
compiling kernel findSeparatingAxisVertexFaceKernel ready.
compiling kernel findSeparatingAxisEdgeEdgeKernel ready.
compiling kernel findConcaveSeparatingAxisKernel ready.
compiling kernel findConcaveSeparatingAxisVertexFaceKernel ready.
compiling kernel findConcaveSeparatingAxisEdgeEdgeKernel ready.
compiling kernel findCompoundPairsKernel ready.
compiling kernel processCompoundPairsKernel ready.
clBuildProgram successfully compiled cached binary: cache/satClipHullContacts.cl.GeForce GTX 670.335.23.bin
compiling kernel clipHullHullKernel ready.
compiling kernel clipCompoundsHullHullKernel ready.
compiling kernel findClippingFacesKernel ready.
compiling kernel clipFacesAndFindContactsKernel ready.
compiling kernel clipHullHullConcaveConvexKernel ready.
compiling kernel newContactReductionKernel ready.
clBuildProgram successfully compiled cached binary: cache/bvhTraversal.cl.GeForce GTX 670.335.23.bin
compiling kernel bvhTraversalKernel ready.
clBuildProgram successfully compiled cached binary: cache/primitiveContacts.cl.GeForce GTX 670.335.23.bin
compiling kernel primitiveContactsKernel ready.
compiling kernel findConcaveSphereContactsKernel ready.
compiling kernel processCompoundPairsPrimitivesKernel ready.
clBuildProgram successfully compiled cached binary: cache/sap.cl.GeForce GTX 670.335.23.bin
clBuildProgram successfully compiled cached binary: cache/PrefixScanFloat4Kernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
compiling kernel computePairsKernelLocalSharedMemory ready.
compiling kernel computePairsKernelTwoArrays ready.
compiling kernel prepareSumVarianceKernel ready.
compiling kernel flipFloatKernel ready.
compiling kernel copyAabbsKernel ready.
compiling kernel scatterKernel ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 670.335.23.bin
compiling kernel StreamCountSortDataKernel ready.
compiling kernel StreamCountKernel ready.
compiling kernel SortAndScatterSortDataKernel ready.
compiling kernel SortAndScatterKernel ready.
compiling kernel PrefixScanKernel ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/jointSolver.cl.GeForce GTX 670.335.23.bin
compiling kernel solveJointConstraintRows ready.
compiling kernel initSolverBodies ready.
compiling kernel getInfo1Kernel ready.
compiling kernel initBatchConstraintsKernel ready.
compiling kernel getInfo2Kernel ready.
compiling kernel writeBackVelocitiesKernel ready.
compiling kernel breakViolatedConstraintsKernel ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/solverUtils.cl.GeForce GTX 670.335.23.bin
compiling kernel CountBodiesKernel ready.
compiling kernel ContactToConstraintSplitKernel ready.
compiling kernel ClearVelocitiesKernel ready.
compiling kernel AverageVelocitiesKernel ready.
compiling kernel UpdateBodyVelocitiesKernel ready.
compiling kernel SolveContactJacobiKernel ready.
compiling kernel SolveFrictionJacobiKernel ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 670.335.23.bin
compiling kernel StreamCountSortDataKernel ready.
compiling kernel StreamCountKernel ready.
compiling kernel SortAndScatterSortDataKernel ready.
compiling kernel SortAndScatterKernel ready.
compiling kernel PrefixScanKernel ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/BoundSearchKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel SearchSortDataLowerKernel ready.
compiling kernel SearchSortDataUpperKernel ready.
compiling kernel SubtractKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/solveContact.cl.GeForce GTX 670.335.23.bin
clBuildProgram successfully compiled cached binary: cache/solveFriction.cl.GeForce GTX 670.335.23.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup2.cl.GeForce GTX 670.335.23.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup.cl.GeForce GTX 670.335.23.bin
compiling kernel BatchSolveKernelFriction ready.
compiling kernel BatchSolveKernelContact ready.
compiling kernel ContactToConstraintKernel ready.
compiling kernel SetSortDataKernel ready.
compiling kernel ReorderContactKernel ready.
compiling kernel CopyConstraintKernel ready.
clBuildProgram successfully compiled cached binary: cache/batchingKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel CreateBatches ready.
clBuildProgram successfully compiled cached binary: cache/batchingKernelsNew.cl.GeForce GTX 670.335.23.bin
compiling kernel CreateBatchesNew ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 670.335.23.bin
compiling kernel StreamCountSortDataKernel ready.
compiling kernel StreamCountKernel ready.
compiling kernel SortAndScatterSortDataKernel ready.
compiling kernel SortAndScatterKernel ready.
compiling kernel PrefixScanKernel ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/BoundSearchKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel SearchSortDataLowerKernel ready.
compiling kernel SearchSortDataUpperKernel ready.
compiling kernel SubtractKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/solveContact.cl.GeForce GTX 670.335.23.bin
clBuildProgram successfully compiled cached binary: cache/solveFriction.cl.GeForce GTX 670.335.23.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup2.cl.GeForce GTX 670.335.23.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup.cl.GeForce GTX 670.335.23.bin
compiling kernel BatchSolveKernelFriction ready.
compiling kernel BatchSolveKernelContact ready.
compiling kernel solveSingleContactKernel ready.
compiling kernel solveSingleFrictionKernel ready.
compiling kernel ContactToConstraintKernel ready.
compiling kernel SetSortDataKernel ready.
compiling kernel SetDeterminismSortDataBodyA ready.
compiling kernel SetDeterminismSortDataBodyB ready.
compiling kernel SetDeterminismSortDataChildShapeA ready.
compiling kernel SetDeterminismSortDataChildShapeB ready.
compiling kernel ReorderContactKernel ready.
compiling kernel CopyConstraintKernel ready.
clBuildProgram successfully compiled cached binary: cache/batchingKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel CreateBatches ready.
clBuildProgram successfully compiled cached binary: cache/batchingKernelsNew.cl.GeForce GTX 670.335.23.bin
compiling kernel CreateBatchesNew ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 670.335.23.bin
compiling kernel StreamCountSortDataKernel ready.
compiling kernel StreamCountKernel ready.
compiling kernel SortAndScatterSortDataKernel ready.
compiling kernel SortAndScatterKernel ready.
compiling kernel PrefixScanKernel ready.
clBuildProgram successfully compiled cached binary: cache/parallelLinearBvh.cl.GeForce GTX 670.335.23.bin
compiling kernel separateAabbs ready.
compiling kernel findAllNodesMergedAabb ready.
compiling kernel assignMortonCodesAndAabbIndicies ready.
compiling kernel computeAdjacentPairCommonPrefix ready.
compiling kernel buildBinaryRadixTreeLeafNodes ready.
compiling kernel buildBinaryRadixTreeInternalNodes ready.
compiling kernel findDistanceFromRoot ready.
compiling kernel buildBinaryRadixTreeAabbsRecursive ready.
compiling kernel findLeafIndexRanges ready.
compiling kernel plbvhCalculateOverlappingPairs ready.
compiling kernel plbvhRayTraverse ready.
compiling kernel plbvhLargeAabbAabbTest ready.
compiling kernel plbvhLargeAabbRayTest ready.
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel LocalScanKernel ready.
compiling kernel TopLevelScanKernel ready.
compiling kernel AddOffsetKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 670.335.23.bin
compiling kernel StreamCountSortDataKernel ready.
compiling kernel StreamCountKernel ready.
compiling kernel SortAndScatterSortDataKernel ready.
compiling kernel SortAndScatterKernel ready.
compiling kernel PrefixScanKernel ready.
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel FillIntKernel ready.
compiling kernel FillUnsignedIntKernel ready.
compiling kernel FillFloatKernel ready.
compiling kernel FillInt2Kernel ready.
clBuildProgram successfully compiled cached binary: cache/rayCastKernels.cl.GeForce GTX 670.335.23.bin
compiling kernel rayCastKernel ready.
compiling kernel rayCastPairsKernel ready.
compiling kernel findRayRigidPairIndexRanges ready.
clBuildProgram successfully compiled cached binary: cache/integrateKernel.cl.GeForce GTX 670.335.23.bin
compiling kernel integrateTransformsKernel ready.
clBuildProgram successfully compiled cached binary: cache/updateAabbsKernel.cl.GeForce GTX 670.335.23.bin
compiling kernel initializeGpuAabbsFull ready.

## compiling kernel clearOverlappingPairsKernel ready.

Demo settings:
  SelectedDemo=0, demoname = BoxTrimesh
  x_dim=30, y_dim=30, z_dim=30
  x_gap=16.299999, y_gap=6.300000, z_gap=16.299999

OpenCL settings:
  Preferred cl_device index -1
  Preferred cl_platform index1

Platform info:
  CL_PLATFORM_VENDOR:                   NVIDIA Corporation
  CL_PLATFORM_NAME:                     NVIDIA CUDA
  CL_PLATFORM_VERSION:                  OpenCL 1.1 CUDA 6.0.1

Device Info:
  CL_DEVICE_NAME:                       GeForce GTX 670
  CL_DEVICE_VENDOR:                     NVIDIA Corporation
  CL_DRIVER_VERSION:                    335.23
  CL_DEVICE_TYPE:                       CL_DEVICE_TYPE_GPU
  CL_DEVICE_MAX_COMPUTE_UNITS:          7
  CL_DEVICE_MAX_WORK_ITEM_DIMENSIONS:   3
  CL_DEVICE_MAX_WORK_ITEM_SIZES:        1024 / 1024 / 64
  CL_DEVICE_MAX_WORK_GROUP_SIZE:        1024
  CL_DEVICE_MAX_CLOCK_FREQUENCY:        1058 MHz
  CL_DEVICE_ADDRESS_BITS:               32
  CL_DEVICE_MAX_MEM_ALLOC_SIZE:         512 MByte
  CL_DEVICE_GLOBAL_MEM_SIZE:            2048 MByte
  CL_DEVICE_ERROR_CORRECTION_SUPPORT:   no
  CL_DEVICE_LOCAL_MEM_TYPE:             local
  CL_DEVICE_LOCAL_MEM_SIZE:             48 KByte
  CL_DEVICE_MAX_CONSTANT_BUFFER_SIZE:   64 KByte
  CL_DEVICE_QUEUE_PROPERTIES:           CL_QUEUE_OUT_OF_ORDER_EXEC_MODE_ENABLE
  CL_DEVICE_QUEUE_PROPERTIES:           CL_QUEUE_PROFILING_ENABLE
  CL_DEVICE_IMAGE_SUPPORT:              1
  CL_DEVICE_MAX_READ_IMAGE_ARGS:        256
  CL_DEVICE_MAX_WRITE_IMAGE_ARGS:       16

  CL_DEVICE_IMAGE <dim>                 2D_MAX_WIDTH     32768
                                        2D_MAX_HEIGHT    32768
                                        3D_MAX_WIDTH     4096
                                        3D_MAX_HEIGHT    4096
                                        3D_MAX_DEPTH     4096

  CL_DEVICE_EXTENSIONS:cl_khr_byte_addressable_store cl_khr_icd cl_khr_gl_sharing cl_nv_d3d9_sharing cl_nv_d3d10_sharing
 cl_khr_d3d10_sharing cl_nv_d3d11_sharing cl_nv_compiler_options cl_nv_device_attribute_query cl_nv_pragma_unroll  cl_kh
r_global_int32_base_atomics cl_khr_global_int32_extended_atomics cl_khr_local_int32_base_atomics cl_khr_local_int32_exte
nded_atomics cl_khr_fp64
  CL_DEVICE_PREFERRED_VECTOR_WIDTH_<t>  CHAR 1, SHORT 1, INT 1,LONG 1, FLOAT 1, DOUBLE 1

Error: OpenCL status = -4
Error: OpenCL status = -4
Error: OpenCL status = -4
Error: OpenCL status = -4
Error: OpenCL status = -4
Error: OpenCL status = -4
Error: OpenCL status = -4
Error: OpenCL status = -4
Error: OpenCL status = -4
",sorry ca believe option rate yes trick however fail building kernel main vendor corporation renderer kernel ready successfully binary bin kernel ready kernel ready successfully binary bin successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin successfully binary bin successfully binary bin successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready successfully binary bin kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin successfully binary bin successfully binary bin successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready successfully binary bin kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready successfully binary bin kernel ready kernel ready preferred index preferred index platform corporation device corporation local dim char short long float double error status error status error status error status error status error status error status error status error status,issue,positive,positive,positive,positive,positive,positive
43669078,"We love it! It only tests on Linux but we have it run both gcc and clang, and with and without C++11 enabled. And we do use -Werror to keep the build clean. It is beautifully integrated with GitHub -- every commit and pull request causes a new build to be kicked off, and the corresponding GitHub page turns yellow until the build completes successfully, after which it is green. It runs silently until something goes wrong, then it sends out immediate emails to interested parties.
",love run clang without use keep build clean beautifully every commit pull request new build corresponding page turn yellow build successfully green silently something go wrong immediate interested,issue,positive,positive,positive,positive,positive,positive
43664860,"The great thing about travis is that it's super easy and free. All you need to do is add this file to your repository and log in to their website to enable the builds, and then it just starts building. Jenkins is more flexible, but it requires quite a bit more overhead.
",great thing travis super easy free need add file repository log enable building flexible quite bit overhead,issue,positive,positive,positive,positive,positive,positive
43663783,"Hi Stephen,

Thanks for the contribution. I need to think about adding continuous integration support, and specific files for that. I have only experimented a bit with Jenkins. 

What are the benefits of having the 'travis' file be part of the main repository?
",hi thanks contribution need think continuous integration support specific experimented bit file part main repository,issue,positive,positive,positive,positive,positive,positive
43663372,"I added a test case for `USE_DOUBLE_PRECISION=ON` since that can be easy to break without noticing.
",added test case since easy break without,issue,negative,positive,positive,positive,positive,positive
43583949,"Hope this is fixed by this commit:
https://github.com/bulletphysics/bullet3/commit/f213b000220702d4debd878d27d5e7f0206b75d2
thanks for the report!
",hope fixed commit thanks report,issue,positive,positive,positive,positive,positive,positive
43564556,"Also, here's some of my system info:

```
CPU: 8-core 64-bit ivybridge
OS X: 10.8.5-x86_64
Xcode: 5.1.1
CLT: 5.1.0.0.1.1396320587
LLVM-GCC: build 2336
Clang: 5.1 build 503
X11: 2.7.5 => /opt/X11
```
",also system o build clang build,issue,negative,neutral,neutral,neutral,neutral,neutral
43563516,"It should work now, please try to update. I will be working on removing more warnings before beta/final 2.83 release. Thanks for the report, more feedback is welcome!
",work please try update working removing release thanks report feedback welcome,issue,positive,positive,positive,positive,positive,positive
43547318,"The server is back up, it was running out of diskspace because of all the local stored forum backups. Let's cross the fingers the website keeps running now.
",server back running local forum let cross running,issue,negative,neutral,neutral,neutral,neutral,neutral
43540788,"I'll see if it is easy to fix, and otherwise I simple disable building those particular demos if 'BT_USE_DOUBLE_PRECISION' is defined.
",see easy fix otherwise simple disable building particular demo defined,issue,negative,positive,positive,positive,positive,positive
43540611,"Yes, I am working on contacting the hosting company to sort it out. I do have a backup of the phpBB3 forum data, in case all fails.
",yes working hosting company sort backup forum data case,issue,negative,neutral,neutral,neutral,neutral,neutral
43530614,"Thanks! Looking forward to being able to browse it again.

Thanks for quick reply.
",thanks looking forward able browse thanks quick reply,issue,positive,positive,positive,positive,positive,positive
43518645,"The server has issues recently indeed, I'll notify GoDaddy (the hosting company).
Thanks for the report!
",server recently indeed notify hosting company thanks report,issue,negative,positive,neutral,neutral,positive,positive
43518471,"Indeed, the Bullet 3.x parts don't support double precision yet, and this OpenGL class is single-precision float only at the moment. Thanks for reporting!
",indeed bullet support double precision yet class float moment thanks,issue,positive,positive,neutral,neutral,positive,positive
43430046,"The latest commits add a specialized function for the first hit raycast. It is much faster than I expected. I initially thought to avoid implementing the ray-rigid intersection in the BVH traversal kernel due to the added coupling between ray intersection and BVH code but the performance gains outweigh the costs by far.

Timings with the same settings as 'Raycast Scene 2' in issue #3:
(8000 rigid bodies and 262 144 rays)
- ray-rigid pairs(8 bytes/pair): 236 ms/frame (85ms primary rays, 34ms shadow rays) 
- ray-rigid pairs(24 bytes/pair): 205 ms/frame (74ms primary rays, 29ms shadow rays)
- no ray-rigid pairs: 130 ms/frame(12ms primary rays, 34ms shadow rays)

Where,
- ms/frame includes ray generation, CPU-GPU transfer, and writing the result to OpenGL.
- 'primary rays' and 'shadow rays' is the time spent executing BVH/raycast kernels. Does not include the time for CPU-GPU transfer.

Still need to clean up and reorganize some of the code, so a review can be delayed until the next commit.
",latest add specialized function first hit much faster initially thought avoid intersection traversal kernel due added coupling ray intersection code performance gain outweigh far scene issue rigid primary shadow primary shadow primary shadow ray generation transfer writing result time spent include time transfer still need clean reorganize code review next commit,issue,positive,positive,positive,positive,positive,positive
43425527,"ah, yes I meant false.
Thanks for the quick fix.
",ah yes meant false thanks quick fix,issue,positive,positive,neutral,neutral,positive,positive
43424590,"Use btCollisionObject::setIgnoreCollisionCheck to enable/disable collision between two specific body instances.
",use collision two specific body,issue,negative,neutral,neutral,neutral,neutral,neutral
43424565,"It should be fixed now, thanks a lot for the report!
https://github.com/bulletphysics/bullet3/commit/26019322496936df5fc76c1bb6ff1dd824d001d5
",fixed thanks lot report,issue,negative,positive,positive,positive,positive,positive
43416092,"In your pastebin sample, the constraint is added with argument 'false',
while in your original report you mention disableCollisionsBetweenLinkedBodies=true.
Did you mean 'disableCollisionsBetweenLinkedBodies=false'?
",sample constraint added argument original report mention mean,issue,negative,positive,neutral,neutral,positive,positive
43301168,"Yes, the workaround in the GJK implementation to deal with degenerate cases using small/zero collision margin was causing the issues. Thanks for tracking it down. Commit here: https://github.com/bulletphysics/bullet3/commit/7f3cbc066ff8e72c48e8b292b0b0d6fc415d401c
",yes implementation deal degenerate collision margin causing thanks commit,issue,positive,positive,positive,positive,positive,positive
43236926,"One idea is to affect step (2) and (3). Yes, multiple threads (work items) per ray, and possibly multiple compute units (work groups).
The idea is that each compute unit computes the closest hit, and maintains its local minimum/closest hit. We could use local/shared memory to maintain the closest hit for each work unit. Afterwards, we need to compute the 'global' minimum/closest hit. 
Is that clear enough?
",one idea affect step yes multiple work per ray possibly multiple compute work idea compute unit hit local hit could use memory maintain hit work unit afterwards need compute hit clear enough,issue,positive,positive,neutral,neutral,positive,positive
42933363,"the issue https://github.com/bulletphysics/bullet3/issues/57 isnt completly fixed. If the terrain is moving sometimes the collisions still fail, but its a bit more stable i think.
i just commented out this part:  
if (diff.dot(normalInB) < 0.f)
      normalInB *= -1.f;

and the terrain demo and my bullet terrain mesh collisions as static mesh works perfectly with cubes and capsules. 
Because i am not that experienced with your bullet lib i am not sure if this change have any impact on other things that would be fixed with that.
This piece of code have some meanings i think?

This pull request was just an extension as u suggested. But because the collision now always works this pull request makes no sense.

Hopefully as more as i am writing my english should getting better -_-
",issue fixed terrain moving sometimes still fail bit stable think part terrain bullet terrain mesh static mesh work perfectly experienced bullet sure change impact would fixed piece code think pull request extension collision always work pull request sense hopefully writing getting better,issue,positive,positive,positive,positive,positive,positive
42921919,"In order to find the single closest intersection without being limited by the number of potential AABB hits, we would still have to test all intersecting AABBs in the BVH, as the AABBs can overlap. Taking that requirement into consideration, the best option I am aware of is to add another kernel that performs ray-convex intersection while traversing the BVH (without creating ray-rigid pairs). I'll implement this kernel and make another post after checking the results.

Could you elaborate on the local shared memory? Is more than 1 thread launched for each ray?

The current algorithm is roughly:
1. For each ray, traverse BVH to generate ray-rigid pairs
2. For each ray-rigid pair, perform ray-convex intersection
3. For each ray, find first hit

Which step would the local/shared memory affect? Step 3?
",order find single intersection without limited number potential would still test overlap taking requirement consideration best option aware add another kernel intersection traversing without implement kernel make another post could elaborate local memory thread ray current algorithm roughly ray traverse generate pair perform intersection ray find first hit step would memory affect step,issue,positive,positive,positive,positive,positive,positive
42875477,"I am confused why this issue is closed? What action do you want me to make to fix an issue?
",confused issue closed action want make fix issue,issue,negative,negative,negative,negative,negative,negative
42873547,"closed the pull request: https://github.com/bulletphysics/bullet3/pull/162
actually it works for me. maybe u find some time to make a comment here. :)
actually the problem with static terrain is solved for me. Hope it doesnt have any bad influence on other things...
",closed pull request actually work maybe find time make comment actually problem static terrain hope doesnt bad influence,issue,negative,negative,neutral,neutral,negative,negative
42860578,"Thanks for the patch, I'll have a look.
Ideally we have one mode that reports ALL hits (within a maximum), which is what you have done so far and another mode that only reports the CLOSEST hit. This closest hit could use a local shared memory and then perform a global shared minimum on the hit fraction. That way, we can always report the closest hit, no matter how many potential AABB hits we find. Do you have any ideas how to implement a SINGLE CLOSTEST?
",thanks patch look ideally one mode within maximum done far another mode hit hit could use local memory perform global minimum hit fraction way always report hit matter many potential find implement single,issue,positive,positive,positive,positive,positive,positive
42740412,"spent some more time testing and debugging.
if i comment out the following code in btGjkPairDetector.h the collisoin for Cube,Capsule seems to work for static terrains.

```
    //  //if (m_fixContactNormalDirection)
    //{
    //  ///@workaround for sticky convex collisions
    //  //in some degenerate cases (usually when the use uses very small margins) 
    //  //the contact normal is pointing the wrong direction
    //  //so fix it now (until we can deal with all degenerate cases in GJK and EPA)
    //  //contact normals need to point from B to A in all cases, so we can simply check if the contact normal really points from B to A
    //  //We like to use a dot product of the normal against the difference of the centroids, 
    //  //once the centroid is available in the API
    //  //until then we use the center of the aabb to approximate the centroid
    //  btVector3 aabbMin,aabbMax;
    //  m_minkowskiA->getAabb(localTransA,aabbMin,aabbMax);
    //  btVector3 posA  = (aabbMax+aabbMin)*btScalar(0.5);
    //
    //  m_minkowskiB->getAabb(localTransB,aabbMin,aabbMax);
    //  btVector3 posB = (aabbMin+aabbMax)*btScalar(0.5);//btVector3 diff = posA-posB;
    //  //if (diff.dot(normalInB) < 0.f)
    //  //  normalInB *= -1.f;
    //}
```

but i dont understand it :P just searched the collison parts in code an tried to find a difference between the working collisions and not working collisions.
made a shot in the dark
",spent time testing comment following code cube capsule work static sticky convex degenerate usually use small contact normal pointing wrong direction fix deal degenerate need point simply check contact normal really like use dot product normal difference centroid available use center approximate centroid dont understand code tried find difference working working made shot dark,issue,negative,positive,neutral,neutral,positive,positive
42207755,"No problem. Great to ear documentation will be improved, specially commonly used functions. :)
",problem great ear documentation specially commonly used,issue,negative,positive,positive,positive,positive,positive
42201056,"Excuses, at this stage I don't accept documentation patches. I plan on sorting out the documentation and (unit) testing in the future.
",stage accept documentation plan documentation unit testing future,issue,negative,neutral,neutral,neutral,neutral,neutral
42177481,"By the way...
To compile bullet 2.82 in VS 2013 I had to add

```
#include <algorithm>
```

to Extras\HACD\hacdICHull.cpp
",way compile bullet add include algorithm,issue,negative,neutral,neutral,neutral,neutral,neutral
41736132,"This commit seems to be a work-around for the Clang
https://github.com/bulletphysics/bullet3/commit/907ac49892ede3f4a3295f7cbd96759107e5fc0e
If I have time, I will create a repro case for Clang/LLVM developers (unless they already fixed it)
",commit clang time create case unless already fixed,issue,positive,positive,neutral,neutral,positive,positive
41572721,"Jens wrote:

""Just look like i solved this problem in Blender.
Problem is inlining in btSolverBody.h

``` C++
#ifdef USE_SIMD

struct  btSimdScalar
{
    SIMD_FORCE_INLINE   btSimdScalar()
    {

    }
/* workaround for clang 3.4 ( == apple clang 5.1 ) issue, friction would fail with forced inlining */
#if (defined(__clang__) && defined(__apple_build_version__) &&  (__clang_major__ == 5) && (__clang_minor__ == 1)) \
|| (defined(__clang__) && !defined(__apple_build_version__) && (__clang_major__ == 3) && (__clang_minor__ == 4))
    inline __attribute__ ((noinline)) btSimdScalar(float    fl)
#else
    SIMD_FORCE_INLINE   btSimdScalar(float  fl)
#endif
```

Perhaps not the root problem ( compiler bug or strictness ? )

Cheers ... Jens""
",wrote look like problem blender problem clang apple clang issue friction would fail forced defined defined defined defined float else float perhaps root problem compiler bug strictness,issue,negative,negative,negative,negative,negative,negative
41336763,"did u mean something like that?
if u press 't' in the simulation a cube is falling down.
if the cube is falling through the terrain(didnt collide) it will be reseted in height and is falling again.
Its not hard to find a not colliding terrain triangle in the demo ... 
what would be the best way to check if the cube has missed the terrain automaticly?
a raytest? so u would have an entrypoint for debugging if the collision failed?
or is that to cheap? 
",mean something like press simulation cube falling cube falling terrain didnt collide height falling hard find terrain triangle would best way check cube terrain would collision cheap,issue,negative,positive,positive,positive,positive,positive
40320213,"that could take a while (i am just trying it in my free time). but if i want to use the bullet heightfield, i have no other choice.
in current state its unusable.
but its strange, that no one else spent time on it. O.o
a suggestion in the forum was, to add a new feature for setting heightfield thickness.

more feedback with other user experiences could be helpfull :)
",could take trying free time want use bullet choice current state unusable strange one else spent time suggestion forum add new feature setting thickness feedback user could,issue,negative,positive,neutral,neutral,positive,positive
40314302,"It would be good to have a reproduction case of a failing collision, that doesn't need user input (mouse/keyboard etc). If you still have time, perhaps you can modify the ObsoleteDemos\TerrainDemo? Thanks!
",would good reproduction case failing collision need user input still time perhaps modify thanks,issue,negative,positive,positive,positive,positive,positive
40314266,"not tested, will need to add unit tests for all later...
",tested need add unit later,issue,negative,neutral,neutral,neutral,neutral,neutral
40307892,"the original issue isn't solved with the face correction.
found ""one"" triangle in the terrain that doesnt collide ... :(
",original issue face correction found one triangle terrain doesnt collide,issue,negative,positive,positive,positive,positive,positive
40284353,"my problem is actualy solved with that. 
but i am not sure if its the same problem as in the issue description.
i've checked my terrain for collision holes but didn't find one, ""till"" now.
pull request is on the way.
",problem sure problem issue description checked terrain collision find one till pull request way,issue,negative,positive,positive,positive,positive,positive
40283104,"Does that solve the problem for you? 
If so, could you provide a patch or generate a pull request in git? If you don't know how to create those, I'll have a look at applying it manually later. Thanks for looking into this!
",solve problem could provide patch generate pull request git know create look manually later thanks looking,issue,negative,positive,neutral,neutral,positive,positive
40281842,"ok just spent a bit time testing and seems, if i switch vertices[1] and vertices[2] all faces are in front:

if (m_flipQuadEdges || (m_useDiamondSubdivision && !((j + x) & 1)) || (m_useZigzagSubdivision && !(j & 1)))
            {               //first triangle
                getVertex(x, j, vertices[0]);
                getVertex(x, j + 1, vertices[1]);
                getVertex(x + 1, j + 1, vertices[2]);
                callback->processTriangle(vertices, x, j);
                //second triangle
                // getVertex(x,j,vertices[0]);//already got this vertex before, thanks to Danny Chapman
                getVertex(x + 1, j + 1, vertices[1]);
                getVertex(x + 1, j, vertices[2]);
                callback->processTriangle(vertices, x, j);
",spent bit time testing switch vertex vertex front triangle vertex vertex vertex vertex triangle vertex got vertex thanks chapman vertex vertex vertex,issue,negative,positive,neutral,neutral,positive,positive
40280212,"i could try . whats the suggestion? :)
",could try whats suggestion,issue,negative,neutral,neutral,neutral,neutral,neutral
40261812,"It is likely a bug. Right now I don't have time to look into this. Do you have time to work on a suggested patch?
",likely bug right time look time work patch,issue,negative,positive,positive,positive,positive,positive
40253184,"ok it seems that
- if i dont use DiamondSubdivision all Triangle faces are in front direction
- if i use DiamondSubdivision the Triangle frontfaces and backfaces are mixed like a chess
- if i use ZigzagSubdivision the Triangle are alternately 1 line frontfaced and 1 line backfaced

but i need DiamondSubdivision where all triangle faces are in front direction.
Is this a bug or intended?
",dont use triangle front direction use triangle mixed like chess use triangle alternately line line need triangle front direction bug intended,issue,negative,neutral,neutral,neutral,neutral,neutral
40124693,"Hi!, i am having same problems with the btheightfieldterrainshape.
i notice that when i am using:
nmf.m_flags = btTriangleRaycastCallback::kF_FilterBackfaces;  
if (test.collides(rayFromWorld, rayToWorld, nmf))

the collision on the triangles are sometimes on the front and sometimes on the backside.
I am using setUseDiamondSubdivision(true); if that means what. Hope its only a little problem.
",hi notice collision sometimes front sometimes backside true hope little problem,issue,negative,positive,neutral,neutral,positive,positive
40005837,"The check to see if joint position violates imposed limits: [testRotationalLimit](https://bitbucket.org/osrf/gazebo/src/1950d8efa845a3ca693e8e4a582bf3d58452dbcb/deps/opende/src/joints/hinge.cpp?at=default#cl-75) is called after `cumulative_angle` update.

The check to [make sure user specified lower limit is less than upper limit](https://bitbucket.org/osrf/gazebo/src/1950d8efa845a3ca693e8e4a582bf3d58452dbcb/deps/opende/src/joints/hinge.cpp?at=default#cl-65) is called before.  This is done so if joint limits are invalid (i.e. lower limit is larger than upper limit), joint limits are not enforced.
",check see joint position update check make sure user lower limit le upper limit done joint invalid lower limit upper limit joint enforced,issue,negative,positive,positive,positive,positive,positive
39986406,"I am looking the update of in the implementation of your copy of ODE.
Can you explain why the limit test is performed, before the update of cumulative_angle?

 if ( limot.lostop <= limot.histop )
    {
        dReal angle = getHingeAngle( ...
        // From angle, update cumulative_angle, which does not wrap.
        // Assume this is called only once per time step.
        cumulative_angle = dShortestAngularDistanceUpdate(cumulative_angle,angle);
",looking update implementation copy ode explain limit test update angle angle update wrap assume per time step angle,issue,negative,neutral,neutral,neutral,neutral,neutral
39872805,"Added new method btSoftBodyHelpers::ReoptimizeLinkOrder.
It has been applied here https://github.com/bulletphysics/bullet3/commit/aa76b8893622134b57eb5d04caf2bb184bc2ceb4
",added new method applied,issue,negative,positive,positive,positive,positive,positive
39867770,"ok, the patch is applied in latest revision:
https://github.com/bulletphysics/bullet3/commit/84693c23844b89900a1f1ebed66d3db6fef9fde6
Thanks for the contribution!
",patch applied latest revision thanks contribution,issue,negative,positive,positive,positive,positive,positive
39172772,"I didn't realize that people use case-sensitive file names when doing a Windows build. Is that a cross-compilation?
",realize people use file build,issue,negative,neutral,neutral,neutral,neutral,neutral
39172319,"The most recent AMD OpenCL driver/compiler fails to compile the MPR kernel, while it used to work fine before :( I reported the issue to AMD, now crossing the fingers it gets resolved.
",recent compile kernel used work fine issue crossing resolved,issue,negative,positive,positive,positive,positive,positive
39171718,"Good point, optimizing data structures/access is likely more beneficial.
Can you share any tips how to optimize data for the btSequentialImpulseConstraintSolver? Setup and/or solver iterations?
",good point data likely beneficial share optimize data setup solver,issue,positive,positive,positive,positive,positive,positive
39143586,"I have optimize the solver by avx2, but just gain a bit performance boost,  cache is the bottle neck instead of save 20+ cycles by avx2 !  bullet random access the object in a big object list ,  a simple cache miss  will cost 130+ cycles 
",optimize solver gain bit performance boost cache bottle neck instead save bullet random access object big object list simple cache miss cost,issue,positive,negative,negative,negative,negative,negative
39057224,"Hi,
On my linux-mingw platform the fs is case-sensitive, i've got only a ""windows.h"", not ""Windows.h"".
Doesn't it work for you ?
xan.
",hi platform got work,issue,negative,neutral,neutral,neutral,neutral,neutral
39034050,"The (velocity/impulse level ) constraint based fluids as presented by Dennis Gustafson seems a good start for fluid+rigid in Bullet 3. See presentation at http://box2d.org/downloads/
",level constraint based good start bullet see presentation,issue,negative,positive,positive,positive,positive,positive
39031016,"I can't wait for the GPU stuff!!

Just realized I could more simply implement a custom broadphaseRayCallback that calls a special method for custom types and then the regular rayTestSingle for everything else.  Works well for me.

Still, a custom do-it-yourself shape would be very convenient for user development.  It would also be a good catch-all for any shape customization needs, and prevent confusion for things like getAabb which appear to be configurable virtuals but are often passed over for methods like getAabbNonVirtual or static casts based on shapeType.  Then again, most users will be just fine with the built in shapes I imagine... so certainly not worth any large effort.
",ca wait stuff could simply implement custom special method custom regular everything else work well still custom shape would convenient user development would also good shape need prevent confusion like appear often like static based fine built imagine certainly worth large effort,issue,positive,positive,positive,positive,positive,positive
39030806,"I have to think about it. I will have to make a lot of changes to the Bullet 2 API to suit the new Bullet 3 GPU pipeline. Ideally we have a concept like 'physics shaders', the question is how to implement those.
",think make lot bullet suit new bullet pipeline ideally concept like question implement,issue,positive,positive,positive,positive,positive,positive
38911965,"Just tried by replacing my lib with some compiled using Xcode 5.0 on an other computer.
This confirms the problem, as it now works fine again, and the problem re-appears when going back to the lib compiled with 5.1.
",tried computer problem work fine problem going back,issue,negative,positive,positive,positive,positive,positive
38513878,"Latest revision supports CMake project generation for AppAllBullet2Demos and AppBullet3OpenCLDemos. Cmake generation of unit tests are on the todo
",latest revision project generation generation unit,issue,negative,positive,positive,positive,positive,positive
38083326,"This is not likely going to happen, zero resources available.
",likely going happen zero available,issue,negative,positive,positive,positive,positive,positive
37735808,"Here are some timings for the RaycastShadowDemo with the simulation paused,
and the same GPU as above. (Edit: texture size is 512 x 512 == 262 144 rays.)
- ms/frame includes ray generation, CPU-GPU transfer, and writing the result to OpenGL.
- 'primary rays' and 'shadow rays' is the time spent executing BVH/raycast kernels.

## Raycast Scene 1

Timings for Scene 1 (5 x 50 x 5 = 1250 dynamic rigids):
- Brute force: 716ms/frame (294ms primary rays, 313ms shadow rays)
- BVH: 120 ms/frame (25ms primary rays, 26ms shadow rays)

Timings with same camera position as Scene 1, but fewer rigid bodies
(2 x 50 x 2 = 200 dynamic rigids):
- Brute force: 211 ms/frame (48ms primary rays, 50ms shadow rays )
- BVH: 106 ms/frame (14ms primary rays, 13ms shadow rays)
  ![raycastscene1](https://f.cloud.github.com/assets/1758207/2429301/e2e3b976-ac77-11e3-9103-5db090547493.png)

## Raycast Scene 2

Timings for Scene2 (20 x 20 x 20 = 8000 dynamic rigids)
- Brute force: 4100ms/frame (2100ms primary rays, 1900ms shadow rays)
- BVH: 236 ms/frame (85ms primary rays, 34ms shadow rays)
  ![raycastscene2](https://f.cloud.github.com/assets/1758207/2429302/ea24545c-ac77-11e3-8851-63e6830cee67.png)

## Actual profiling output for 'Raycast Scene 2'

(The time for 'Root' over multiple frames varies from 221ms to 244ms):
Profiling: Root (total running time: 235.173 ms) ---
0 -- glFinish (0.00 %) :: 0.000 ms / frame (1 calls)
1 -- window->endRendering (0.22 %) :: 0.521 ms / frame (1 calls)
2 -- gui->draw (1.37 %) :: 3.215 ms / frame (1 calls)
3 -- renderScene (98.30 %) :: 231.175 ms / frame (1 calls)
4 -- texture (0.00 %) :: 0.000 ms / frame (0 calls)
Unaccounted: (0.111 %) :: 0.262 ms
...----------------------------------
...Profiling: renderScene (total running time: 231.175 ms) ---
...0 -- raytrace (99.98 %) :: 231.140 ms / frame (1 calls)
...Unaccounted: (0.015 %) :: 0.035 ms
......----------------------------------
......Profiling: raytrace (total running time: 231.140 ms) ---
......0 -- drawTexturedRect (0.29 %) :: 0.672 ms / frame (1 calls)
......1 -- glGetError (0.00 %) :: 0.001 ms / frame (2 calls)
......2 -- glTexImage2D (0.32 %) :: 0.739 ms / frame (1 calls)
......3 -- get error (0.00 %) :: 0.006 ms / frame (1 calls)
......4 -- write texels (7.16 %) :: 16.544 ms / frame (1 calls)
......5 -- cast shadow rays (19.94 %) :: 46.086 ms / frame (1 calls)
......6 -- init shadow rays (6.98 %) :: 16.132 ms / frame (1 calls)
......7 -- shadowHits.resize (5.88 %) :: 13.596 ms / frame (1 calls)
......8 -- shadowRays.resize (3.99 %) :: 9.223 ms / frame (1 calls)
......9 -- cast primary rays (39.27 %) :: 90.778 ms / frame (1 calls)
......10 -- init hits (1.56 %) :: 3.612 ms / frame (1 calls)
......11 -- hits.resize (3.72 %) :: 8.602 ms / frame (1 calls)
......12 -- Generate primary rays (7.90 %) :: 18.258 ms / frame (1 calls)
......13 -- readbackAllBodiesToCpu (0.47 %) :: 1.079 ms / frame (1 calls)
......14 -- update camera (0.00 %) :: 0.005 ms / frame (1 calls)
......Unaccounted: (2.512 %) :: 5.807 ms
.........----------------------------------
.........Profiling: cast shadow rays (total running time: 46.086 ms) ---
.........0 -- castRaysGPU (99.99 %) :: 46.082 ms / frame (1 calls)
.........Unaccounted: (0.009 %) :: 0.004 ms
............----------------------------------
............Profiling: castRaysGPU (total running time: 46.082 ms) ---
............0 -- raycast copyToHost (11.08 %) :: 5.108 ms / frame (1 calls)
............1 -- ray-rigid intersection (6.17 %) :: 2.845 ms / frame (1 calls)
............2 -- detect ray-rigid pair index ranges (9.96 %) :: 4.588 ms / frame (1 calls)
............3 -- sort ray-rigid pairs (0.26 %) :: 0.121 ms / frame (1 calls)
............4 -- PLBVH testRaysAgainstBvhAabbs() (46.53 %) :: 21.443 ms / frame (1 calls)
............5 -- b3ParallelLinearBvh::build() (6.45 %) :: 2.972 ms / frame (1 calls)
............6 -- raycast copyFromHost (19.11 %) :: 8.807 ms / frame (1 calls)
............Unaccounted: (0.430 %) :: 0.198 ms
...............----------------------------------
...............Profiling: detect ray-rigid pair index ranges (total running time: 4.588 ms) ---
...............0 -- reset ray-rigid pair index ranges (68.55 %) :: 3.145 ms / frame (1 calls)
...............Unaccounted: (31.452 %) :: 1.443 ms
...............----------------------------------
...............Profiling: PLBVH testRaysAgainstBvhAabbs() (total running time: 21.443 ms) ---
...............0 -- PLBVH ray test large AABB (19.36 %) :: 4.151 ms / frame (1 calls)
...............1 -- PLBVH ray test small AABB (78.53 %) :: 16.839 ms / frame (1 calls)
...............Unaccounted: (2.113 %) :: 0.453 ms
...............----------------------------------
...............Profiling: b3ParallelLinearBvh::build() (total running time: 2.972 ms) ---
...............0 -- m_findLeafIndexRangesKernel (4.41 %) :: 0.131 ms / frame (1 calls)
...............1 -- b3GpuParallelLinearBvh::constructBinaryRadixTree() (37.18 %) :: 1.105 ms / frame (1 calls)
...............2 -- Sort leaves by morton codes (23.82 %) :: 0.708 ms / frame (1 calls)
...............3 -- Assign morton codes (4.07 %) :: 0.121 ms / frame (1 calls)
...............4 -- Find AABB of merged nodes (9.35 %) :: 0.278 ms / frame (1 calls)
...............5 -- Separate large and small AABBs (20.83 %) :: 0.619 ms / frame (1 calls)
...............Unaccounted: (0.336 %) :: 0.010 ms
..................----------------------------------
..................Profiling: b3GpuParallelLinearBvh::constructBinaryRadixTree() (total running time: 1.105 ms) ---
..................0 -- m_buildBinaryRadixTreeAabbsRecursiveKernel (46.15 %) :: 0.510 ms / frame (1 calls)
..................1 -- m_findDistanceFromRootKernel (12.94 %) :: 0.143 ms / frame (1 calls)
..................2 -- m_buildBinaryRadixTreeInternalNodesKernel (19.00 %) :: 0.210 ms / frame (1 calls)
..................3 -- m_buildBinaryRadixTreeLeafNodesKernel (10.68 %) :: 0.118 ms / frame (1 calls)
..................4 -- m_computeAdjacentPairCommonPrefixKernel (11.04 %) :: 0.122 ms / frame (1 calls)
..................Unaccounted: (0.181 %) :: 0.002 ms
.....................----------------------------------
.....................Profiling: m_buildBinaryRadixTreeAabbsRecursiveKernel (total running time: 0.510 ms) ---
.....................0 -- copy maxDistanceFromRoot to CPU (30.39 %) :: 0.155 ms / frame (1 calls)
.....................Unaccounted: (69.608 %) :: 0.355 ms
.........----------------------------------
.........Profiling: cast primary rays (total running time: 90.778 ms) ---
.........0 -- castRaysGPU (100.00 %) :: 90.775 ms / frame (1 calls)
.........Unaccounted: (0.003 %) :: 0.003 ms
............----------------------------------
............Profiling: castRaysGPU (total running time: 90.775 ms) ---
............0 -- raycast copyToHost (5.46 %) :: 4.957 ms / frame (1 calls)
............1 -- ray-rigid intersection (7.01 %) :: 6.367 ms / frame (1 calls)
............2 -- detect ray-rigid pair index ranges (17.13 %) :: 15.552 ms / frame (1 calls)
............3 -- sort ray-rigid pairs (0.13 %) :: 0.122 ms / frame (1 calls)
............4 -- PLBVH testRaysAgainstBvhAabbs() (57.84 %) :: 52.507 ms / frame (1 calls)
............5 -- b3ParallelLinearBvh::build() (3.37 %) :: 3.059 ms / frame (1 calls)
............6 -- raycast copyFromHost (8.83 %) :: 8.014 ms / frame (1 calls)
............Unaccounted: (0.217 %) :: 0.197 ms
...............----------------------------------
...............Profiling: detect ray-rigid pair index ranges (total running time: 15.552 ms) ---
...............0 -- reset ray-rigid pair index ranges (49.18 %) :: 7.649 ms / frame (1 calls)
...............Unaccounted: (50.817 %) :: 7.903 ms
...............----------------------------------
...............Profiling: PLBVH testRaysAgainstBvhAabbs() (total running time: 52.507 ms) ---
...............0 -- PLBVH ray test large AABB (9.62 %) :: 5.053 ms / frame (1 calls)
...............1 -- PLBVH ray test small AABB (89.46 %) :: 46.975 ms / frame (1 calls)
...............Unaccounted: (0.912 %) :: 0.479 ms
...............----------------------------------
...............Profiling: b3ParallelLinearBvh::build() (total running time: 3.059 ms) ---
...............0 -- m_findLeafIndexRangesKernel (4.09 %) :: 0.125 ms / frame (1 calls)
...............1 -- b3GpuParallelLinearBvh::constructBinaryRadixTree() (36.81 %) :: 1.126 ms / frame (1 calls)
...............2 -- Sort leaves by morton codes (24.75 %) :: 0.757 ms / frame (1 calls)
...............3 -- Assign morton codes (3.89 %) :: 0.119 ms / frame (1 calls)
...............4 -- Find AABB of merged nodes (9.02 %) :: 0.276 ms / frame (1 calls)
...............5 -- Separate large and small AABBs (21.22 %) :: 0.649 ms / frame (1 calls)
...............Unaccounted: (0.229 %) :: 0.007 ms
..................----------------------------------
..................Profiling: b3GpuParallelLinearBvh::constructBinaryRadixTree() (total running time: 1.126 ms) ---
..................0 -- m_buildBinaryRadixTreeAabbsRecursiveKernel (46.80 %) :: 0.527 ms / frame (1 calls)
..................1 -- m_findDistanceFromRootKernel (12.70 %) :: 0.143 ms / frame (1 calls)
..................2 -- m_buildBinaryRadixTreeInternalNodesKernel (18.56 %) :: 0.209 ms / frame (1 calls)
..................3 -- m_buildBinaryRadixTreeLeafNodesKernel (10.66 %) :: 0.120 ms / frame (1 calls)
..................4 -- m_computeAdjacentPairCommonPrefixKernel (10.83 %) :: 0.122 ms / frame (1 calls)
..................Unaccounted: (0.444 %) :: 0.005 ms
.....................----------------------------------
.....................Profiling: m_buildBinaryRadixTreeAabbsRecursiveKernel (total running time: 0.527 ms) ---
.....................0 -- copy maxDistanceFromRoot to CPU (31.88 %) :: 0.168 ms / frame (1 calls)
.....................Unaccounted: (68.121 %) :: 0.359 ms
",simulation edit texture size ray generation transfer writing result time spent scene scene dynamic brute force primary shadow primary shadow camera position scene rigid dynamic brute force primary shadow primary shadow scene scene dynamic brute force primary shadow primary shadow actual output scene time multiple root total running time frame frame draw frame frame texture frame unaccounted total running time frame unaccounted total running time frame frame frame get error frame write frame cast shadow frame shadow frame frame frame cast primary frame frame frame generate primary frame frame update camera frame unaccounted cast shadow total running time frame unaccounted total running time frame intersection frame detect pair index frame sort frame frame frame frame unaccounted detect pair index total running time reset pair index frame unaccounted total running time ray test large frame ray test small frame unaccounted total running time frame frame sort leaf frame assign frame find frame separate large small frame unaccounted total running time frame frame frame frame frame unaccounted total running time copy frame unaccounted cast primary total running time frame unaccounted total running time frame intersection frame detect pair index frame sort frame frame frame frame unaccounted detect pair index total running time reset pair index frame unaccounted total running time ray test large frame ray test small frame unaccounted total running time frame frame sort leaf frame assign frame find frame separate large small frame unaccounted total running time frame frame frame frame frame unaccounted total running time copy frame unaccounted,issue,positive,positive,neutral,neutral,positive,positive
37704423,"Thanks a lot, that sounds good! 
You provided the timings for finding the overlapping pairs, right?
Do you have any timings for the actual ray test? There is a noticeable slow-down when doing a ray test for many objects, when using the 1-SAP and Grid, because ray test is brute force.
How are the timings of the ray test using the BVH compare?
",thanks lot good provided finding right actual ray test noticeable ray test many grid ray test brute force ray test compare,issue,positive,positive,positive,positive,positive,positive
37703897,"The plbvh_raycast branch is now ready for evaluation.

The latest commit includes slides in the /docs folder that explains the LBVH construction. Additionally, both construction and traversal should be functional and reasonably optimized.

The raycaster is also acclerated using the BVH. With the acceleration, most of the time in the raycasting demo is spent in ray generation and CPU-GPU data transfer. However, ray-triangle mesh and ray-compound tests are still not implemented.

The current method for raycasting is:
    -Update BVH using AABBs from any broadphase
    -BVH traversal generates {ray_index, rigid_index} pairs
    -Sort {ray_index, rigid_index} pairs by ray_index
    -Launch ray-rigid narrowphase/intersection kernel, 1 thread per ray

In my tests, the Linear BVH performs better than the 1-axis SAP for dense scenes, but worse for sparse scenes. Both broadphases are worse than the grid, due to the uniform size of objects. With 27000 AABBs, the break even point where the PLBVH starts to outperform the 1-axis SAP in the PairBench is about scale 76(~5700 overlapping pairs).

```
Some timings for the PairBench with 30x30x30 == 27000 objects, Radeon 5850HD:

At scale: 20 (~226000 overlapping pairs)
    GPU Grid: 9.9 ms
    GPU 1-SAP LDS: 13 ms
    PLBVH: 10.1 ms (3 ms construction, 7 ms traversal)

At scale: 300 (~100 overlapping pairs)
    GPU Grid: 1.9 ms
    GPU 1-SAP LDS: 2.5 ms
    PLBVH: 4 ms (2.8 ms construction, 1.2 ms traversal)
```

Please let me know if there are any issues or places for improvement.
",branch ready evaluation latest commit folder construction additionally construction traversal functional reasonably also acceleration time spent ray generation data transfer however mesh still current method traversal kernel thread per ray linear better sap dense worse sparse worse grid due uniform size break even point outperform sap scale scale grid construction traversal scale grid construction traversal please let know improvement,issue,positive,positive,neutral,neutral,positive,positive
36928011,"latest version should work, see https://github.com/erwincoumans/bullet3/commit/1835e422c807b182217368a4317ec60ec4791ee1
in a nutshell, C-API and vectormath are obsolete and removed from 'install'
",latest version work see nutshell obsolete removed,issue,negative,positive,positive,positive,positive,positive
36412144,"If you have a patch for Bullet, I promise to apply it :) Otherwise, I might still do it myself at some stage, I'm just busy with GDC preparation (game developers conference) in March.
http://schedule.gdconf.com/session-id/828103
""Exploring MLCP and Featherstone Solvers""
",patch bullet promise apply otherwise might still stage busy preparation game conference march exploring,issue,negative,negative,negative,negative,negative,negative
35701406,"That is very exciting! So you are building the tree on the GPU, and also the traversal?
Please keep me posted if you have something to merge, then j can review and pull/merge!
",exciting building tree also traversal please keep posted something merge review,issue,positive,positive,positive,positive,positive,positive
35698734,"I'm starting to make some effort on accelerating the GPU raycaster in this branch
(work in progress, not ready for review):
https://github.com/rtrius/bullet3/tree/plbvh_raycast

Presently, the branch implements a Linear BVH that runs on the GPU.
Only the PairBench demo, without large AABBs, is currently supported.

Using the LBVH for the broadphase is ~1-2 ms slower than the 1-axis GPU SAP broadphase. However, the BVH construction algorithm is of extremely low quality and it has yet to be optimized, so there should be a large amount of room for improvement.
",starting make effort branch work progress ready review presently branch linear without large currently sap however construction algorithm extremely low quality yet large amount room improvement,issue,positive,positive,neutral,neutral,positive,positive
35596301,"I'm very busy, not sure if I get to it. The language/spelling/typo's need to be fixed.
",busy sure get need fixed,issue,negative,positive,positive,positive,positive,positive
35348383,"Any feedback on this pull request? Is there something that can be improved?
",feedback pull request something,issue,negative,neutral,neutral,neutral,neutral,neutral
35332530,"Ok, alternatively I can use the code of The Josh for 2.x version, isn't it? 

BTW, will there be a way to choose CPU or GPU versions of the lib?

Thanks for providing this great library ;) cheers
",alternatively use code josh version way choose thanks providing great library,issue,positive,positive,positive,positive,positive,positive
35313889,"Nothing intentional. I have been focusing on Bullet 3 and just added Bullet 2 in preparation of a merge of the two code bases. We can add the missing file, just copy it from the old repo or so.
",nothing intentional bullet added bullet preparation merge two code base add missing file copy old,issue,negative,negative,negative,negative,negative,negative
34535414,"Thanks for your time; splitting the findCompoundPairs kernel also still fixes it on my machine. I've updated the patch at https://gist.github.com/rtrius/7970089, and tested it against the latest commit, bd5c2ff5ec88ed4fbf75f9932e5835f43bd8e9e6.

The first patch causes satKernels.h to exceed the string length limit (65535 bytes) on VS2008, so another patch is attached in the gist above to move the findCompoundPairs kernels into new files (satCompound.cl, and satCompoundKernels.h). The other kernels in sat.cl share more code, such as calling findSeparatingAxis(), so moving only the findCompoundPairs kernels is probably the easiest solution.
",thanks time splitting kernel also still machine patch tested latest commit first patch exceed string length limit another patch attached gist move new share code calling moving probably easiest solution,issue,positive,positive,positive,positive,positive,positive
34300496,"Thanks for the report, pity that the OpenCL compiler is still having issues. I'll test and apply your patch soon.
",thanks report pity compiler still test apply patch soon,issue,negative,positive,neutral,neutral,positive,positive
34299681,"Using the current commit, with hash 3768a30bb20615007e3cb3c42ced9107eda74272
'added very crude little LuaDemo...' (6 February 2014)

It continues to crash after updating to the latest non-beta driver, Catalyst 13.12.
CL_DRIVER_VERSION: 1348.5 (VM)

The result is the same, with only 2 compounds needed to reproduce the crash;
no issues occur if compounds do not collide, and commenting out the

if ((collidables[collidableIndexA].m_shapeType==SHAPE_COMPOUND_OF_CONVEX_HULLS) &&(collidables[collidableIndexB].m_shapeType==SHAPE_COMPOUND_OF_CONVEX_HULLS))

branch of sat.cl(line 987) still prevents the crash. I haven't re-tested the patch though.
",current commit hash crude little crash latest driver catalyst result reproduce crash occur collide branch line still crash patch though,issue,negative,negative,neutral,neutral,negative,negative
34031819,"CL_DEVICE_NAME: Cypress
CL_DEVICE_VENDOR: Advanced Micro Devices, Inc.
CL_DRIVER_VERSION: 1268.1 (VM)

1268.1  is a really old OpenCL driver, could you please update the driver and try it again?
",cypress advanced micro really old driver could please update driver try,issue,positive,positive,positive,positive,positive,positive
34031737,"By the way, you can revert to the old behavior using the following setting:
resultCallback.m_flags |= btTriangleRaycastCallback::kF_UseSubSimplexConvexCastRaytest;
",way revert old behavior following setting,issue,negative,positive,neutral,neutral,positive,positive
33943677,"I've just unpacked content of http://llvm.org/releases/3.4/clang+llvm-3.4-x86_64-linux-gnu-ubuntu-13.10.tar.xz into respective folders in /usr/local, and added

```
export CC=clang
export CXX=clang++
```

lines to my ~/.profile file (relog required). Or you can just set CC/CXX in current shell, or even one-shot for single script invocation, like that:

```
$ CC=gcc-4.8 CXX=g++-4.8 make -j8
```

Last way may be useful for setting up automatic tests on different compilers.

Anyway - fix confirmed, no compilation error on commit 23ace43ca035dab1d0ef7b0e905394cff0b10391.

Cheers :).
",unpacked content respective added export export file set current shell even single script invocation like make last way may useful setting automatic different anyway fix confirmed compilation error commit,issue,positive,positive,neutral,neutral,positive,positive
33908304,"By the way, how do you enable Clang under Ubuntu exactly? Did you un-install gcc/g++? How do you select between Clang and gcc?
",way enable clang exactly select clang,issue,negative,positive,positive,positive,positive,positive
33908256,"Can you check latest revision? I added a 'public:', it should fix it.
",check latest revision added fix,issue,negative,positive,positive,positive,positive,positive
32590259,"I can’t anymore with 10.8, meanwhile I installed Mavericks... I tested it a little bit, there are less problems.

Thanks !

Stéphane

Le 16 janv. 2014 à 23:32, erwincoumans notifications@github.com a écrit :

> Can you test latest version and make sure to delete the 'cache' folder in your build system?
> (ideally check out the source in a clean location)
> Please re-open if you still experience crashes. Make sure to run the demo a couple of times.
> 
> —
> Reply to this email directly or view it on GitHub.
",meanwhile tested little bit le thanks test latest version make sure delete folder build system ideally check source clean location please still experience make sure run couple time reply directly view,issue,positive,positive,positive,positive,positive,positive
32554451,"Can you test latest version and make sure to delete the 'cache' folder in your build system?
(ideally check out the source in a clean location)
Please re-open if you still experience crashes. Make sure to run the demo a couple of times.
",test latest version make sure delete folder build system ideally check source clean location please still experience make sure run couple time,issue,positive,positive,positive,positive,positive,positive
32118390,"It all builds fine except for
In function `ClothDrawSprings'
Demos3/ImplicitCloth/stan/Cloth.cpp:78: undefined reference to`Line(vec3<float> const&, vec3<float> const&, vec3<float> const&)'

because Line is defined as extern but is never define. However ClothDrawSprings is never called, so commenting it fixes the error
",fine except function undefined reference line float float float line defined extern never define however never error,issue,negative,positive,positive,positive,positive,positive
32080780,"I already manually fixed the Linux issues, can you please check it? Thanks anyway.
",already manually fixed please check thanks anyway,issue,positive,positive,positive,positive,positive,positive
32055678,"Ported the Minkowski Portal Refinement from libccd to OpenCL, shared with host/CPU:
https://github.com/erwincoumans/bullet3/blob/master/src/Bullet3Collision/NarrowPhaseCollision/shared/b3MprPenetration.h
It needs a bit more work: on some OpenCL implementations it crashes/hangs the compiler...
",ported portal refinement need bit work compiler,issue,negative,neutral,neutral,neutral,neutral,neutral
30617878,"Thanks for the report/patch.
On some other Mac OSX OpenCL combination (GPU/OS etc) there is an issue with m_clipCompoundsHullHullKernel, it has to be broken up too. I'll look into it soon.
Note that the clipHullHull and clipHullHullConcaveConvexKernel are also broken up into multiple stages.
",thanks mac combination issue broken look soon note also broken multiple,issue,negative,negative,negative,negative,negative,negative
30599925,"After looking into it some more, I am fully confident that the crash occurs in findCompoundPairsKernel, but am not sure of the exact cause. The data structures/input seem fine, and there are no out-of-bounds array accesses. It's probably a driver/compiler bug or some other platform specific issue.

Splitting findCompoundPairsKernel into a kernel for compound-compound, and another for compound-\* seems to fix it for all demos with compound-compound collision.

Here is an example patch against the latest commit,
dca5bbb74431f2f38b127ffa160fabc7b3c554bc (14 December 2013):
https://gist.github.com/rtrius/7970089

I'm unable to test on other platforms, though, so it might not be a good idea to apply the patch if you cannot replicate the issue.
",looking fully confident crash sure exact cause data seem fine array probably bug platform specific issue splitting kernel another fix demo collision example patch latest commit unable test though might good idea apply patch replicate issue,issue,positive,positive,positive,positive,positive,positive
30355667,"That's understandable. Let me know if there's any way for me to more easily format this change.
",understandable let know way easily format change,issue,negative,positive,positive,positive,positive,positive
30352895,"There is a BasicDemo and FeatherstoneMultiBodyDemo using the Bullet 2.x API and source code in src/BulletCollision, src/BulletDynamics.
This work needs to be refactored and merged properly with Bullet 3.x.
",bullet source code work need properly bullet,issue,negative,neutral,neutral,neutral,neutral,neutral
30352798,"sorry, I don't have the time to double-check that your manual/scripted cleanup didn't introduce any issue.
At the moment I only accept bug fixes or new features, no pure code layout changes.
",sorry time cleanup introduce issue moment accept bug new pure code layout,issue,negative,negative,neutral,neutral,negative,negative
30352492,"Did you get my email? I included the log,

Im going to close this bug, as it is based off previous revision. Likely better to start from scratch cause there has been a lot of changes in the last 1.5 months.
",get included log going close bug based previous revision likely better start scratch cause lot last,issue,negative,positive,neutral,neutral,positive,positive
30351266,"I need a better way to report what happens exactly, this thread is very unclear and vague: does the program crash in OpenGL, or in some OpenCL kernel (and if so, what kernel?).
Can you run the program again using the command-line parameter --debug_kernel_launch and see if you can determine which kernel causes the crash?
",need better way report exactly thread unclear vague program crash kernel kernel run program parameter see determine kernel crash,issue,negative,positive,neutral,neutral,positive,positive
30349857,"You can use the command-line flag --use_uniform_grid and --use_large_batches, it can improve performance.
I don't have the resources to optimize for mobile GPU, so I close the issue.
If there is a specific issue with a very slow kernel on OSX (or other platform) we should open a new issue, specifically referring to a kernel by name.
",use flag improve performance optimize mobile close issue specific issue slow kernel platform open new issue specifically kernel name,issue,positive,negative,neutral,neutral,negative,negative
30349372,"The latest trunk version can handle OpenCL CPU on some platforms (only tested on Windows 7/8 with Intel OpenCL CPU). You need to use some flags: --cl_platform=x --allow_opencl_cpu --use_large_batches --use_uniform_grid
The performance is not as bad as I expected, but a high-end GPU outperforms it.
",latest trunk version handle tested need use performance bad,issue,negative,negative,neutral,neutral,negative,negative
30191993,"If you can help tracking down/fixing the issue, I would really appreciate it. There is tons of work in writing OpenCL kernels, each combination of kernel, GPU, driver, operating system potentially has its own issues. There is no dedicated team behind Bullet Physics, so I rely on adhoc/external contributions.
",help issue would really appreciate work writing combination kernel driver operating system potentially team behind bullet physic rely,issue,positive,negative,neutral,neutral,negative,negative
29946299,"Created a new issue, hopefully without the ""references this issue"" clutter:
https://github.com/erwincoumans/bullet3/issues/26
",new issue hopefully without issue clutter,issue,negative,positive,positive,positive,positive,positive
29946161,"I will delete this issue and create a new one, just to remove the stupid cluttering references by scrawl and conversy

What a timewaster this github :( :( :(
",delete issue create new one remove stupid scrawl,issue,negative,negative,negative,negative,negative,negative
29386359,"and part 2:

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel CountBodiesKernel ready. 
compiling kernel ContactToConstraintSplitKernel ready. 
compiling kernel ClearVelocitiesKernel ready. 
compiling kernel AverageVelocitiesKernel ready. 
compiling kernel UpdateBodyVelocitiesKernel ready. 
compiling kernel SolveContactJacobiKernel ready. 
compiling kernel SolveFrictionJacobiKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/BoundSearchKernels.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:38:11: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        if( gIdx < nSrc )
            ~~~~ ^ ~~~~
<program source>:43:25: warning: comparison of integers of different signs: 'int' and 'unsigned int'
                SortData jData = (gIdx==nSrc)? end: src[gIdx];
                                  ~~~~^ ~~~~
<program source>:60:11: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        if( gIdx < nSrc+1 )
            ~~~~ ^ ~~~~~~
<program source>:65:25: warning: comparison of integers of different signs: 'int' and 'unsigned int'
                SortData jData = (gIdx==nSrc)? end: src[gIdx];
                                  ~~~~^ ~~~~
<program source>:82:11: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        if( gIdx < nDst )
            ~~~~ ^ ~~~~

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel SearchSortDataLowerKernel ready. 
compiling kernel SearchSortDataUpperKernel ready. 
compiling kernel SubtractKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/solveContact.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:98:8: warning: unused function 'normalize3'
float4 normalize3(const float4 a)
       ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/solveFriction.cl.ATI Radeon HD 6750M.1.0.bin
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/solverSetup2.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:39:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:45:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:55:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:55:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:55:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:86:26: warning: unknown OpenCL extension 'cl_amd_printf' - ignoring
#pragma OPENCL EXTENSION cl_amd_printf : enable
                         ^
<program source>:113:9: warning: 'make_float4' macro redefined
#define make_float4 (float4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3140:9: note: previous definition is here
#define make_float4(A,B,C,D) (float4)((A),(B),(C),(D))
        ^
<program source>:114:9: warning: 'make_float2' macro redefined
#define make_float2 (float2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3137:9: note: previous definition is here
#define make_float2(A,B) (float2)((A),(B))
        ^
<program source>:115:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:116:9: warning: 'make_int4' macro redefined
#define make_int4 (int4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3115:9: note: previous definition is here
#define make_int4(A,B,C,D) (int4)((A),(B),(C),(D))
        ^
<program source>:117:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:118:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^
<program source>:520:8: warning: unused variable 'bStatic'
                bool bStatic = (bPtrAndSignBit<0) ||(bPtrAndSignBit==staticIdx);
                     ^
<program source>:53:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:77:12: warning: unused function 'b3Contact4Data_getNumPoints'
inline int b3Contact4Data_getNumPoints(const struct b3Contact4Data\* contact)
           ^
<program source>:81:13: warning: unused function 'b3Contact4Data_setNumPoints'
inline void b3Contact4Data_setNumPoints(struct b3Contact4Data\* contact, int numPoints)
            ^
<program source>:125:7: warning: unused function 'fastDiv'
float fastDiv(float numerator, float denominator)
      ^
<program source>:131:8: warning: unused function 'fastDiv4'
float4 fastDiv4(float4 numerator, float4 denominator)
       ^
<program source>:136:7: warning: unused function 'fastSqrtf'
float fastSqrtf(float f2)
      ^
<program source>:142:7: warning: unused function 'fastRSqrt'
float fastRSqrt(float f2)
      ^
<program source>:147:7: warning: unused function 'fastLength4'
float fastLength4(float4 v)
      ^
<program source>:175:7: warning: unused function 'length3'
float length3(const float4 a)
      ^
<program source>:186:7: warning: unused function 'dot3w1'
float dot3w1(const float4 point, const float4 eqn)
      ^
<program source>:199:8: warning: unused function 'normalize4'
float4 normalize4(const float4 a)
       ^
<program source>:205:8: warning: unused function 'createEquation'
float4 createEquation(const float4 a, const float4 b, const float4 c)
       ^
<program source>:234:11: warning: unused function 'mtZero'
Matrix3x3 mtZero()
          ^
<program source>:243:11: warning: unused function 'mtIdentity'
Matrix3x3 mtIdentity()
          ^
<program source>:261:11: warning: unused function 'mtMul'
Matrix3x3 mtMul(Matrix3x3 a, Matrix3x3 b)
          ^
<program source>:281:8: warning: unused function 'mtMul1'
float4 mtMul1(Matrix3x3 a, float4 b)
       ^
<program source>:291:8: warning: unused function 'mtMul3'
float4 mtMul3(float4 a, Matrix3x3 b)
       ^
<program source>:325:12: warning: unused function 'qtNormalize'
Quaternion qtNormalize(Quaternion in)
           ^
<program source>:346:8: warning: unused function 'qtInvRotate'
float4 qtInvRotate(const Quaternion q, float4 vec)
       ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/solverSetup.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:39:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:45:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:55:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:55:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:55:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:372:6: warning: no previous prototype for function 'setLinearAndAngular'
void setLinearAndAngular( b3Float4ConstArg n, b3Float4ConstArg r0, b3Float4ConstArg r1, b3Float4\* linear, b3Float4\* angular0, b3Float4\* angular1)
     ^
<program source>:378:7: warning: no previous prototype for function 'calcRelVel'
float calcRelVel( b3Float4ConstArg l0, b3Float4ConstArg l1, b3Float4ConstArg a0, b3Float4ConstArg a1, b3Float4ConstArg linVel0,
      ^
<program source>:383:7: warning: no previous prototype for function 'calcJacCoeff'
float calcJacCoeff(b3Float4ConstArg linear0, b3Float4ConstArg linear1, b3Float4ConstArg angular0, b3Float4ConstArg angular1,
      ^
<program source>:393:6: warning: no previous prototype for function 'setConstraint4'
void setConstraint4( b3Float4ConstArg posA, b3Float4ConstArg linVelA, b3Float4ConstArg angVelA, float invMassA, b3Mat3x3ConstArg invInertiaA,
     ^
<program source>:467:26: warning: unknown OpenCL extension 'cl_amd_printf' - ignoring
#pragma OPENCL EXTENSION cl_amd_printf : enable
                         ^
<program source>:494:9: warning: 'make_float4' macro redefined
#define make_float4 (float4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3140:9: note: previous definition is here
#define make_float4(A,B,C,D) (float4)((A),(B),(C),(D))
        ^
<program source>:495:9: warning: 'make_float2' macro redefined
#define make_float2 (float2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3137:9: note: previous definition is here
#define make_float2(A,B) (float2)((A),(B))
        ^
<program source>:496:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:497:9: warning: 'make_int4' macro redefined
#define make_int4 (int4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3115:9: note: previous definition is here
#define make_int4(A,B,C,D) (int4)((A),(B),(C),(D))
        ^
<program source>:498:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:499:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^
<program source>:53:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:77:12: warning: unused function 'b3Contact4Data_getNumPoints'
inline int b3Contact4Data_getNumPoints(const struct b3Contact4Data\* contact)
           ^
<program source>:81:13: warning: unused function 'b3Contact4Data_setNumPoints'
inline void b3Contact4Data_setNumPoints(struct b3Contact4Data\* contact, int numPoints)
            ^
<program source>:110:14: warning: unused function 'b3GetFrictionCoeff'
inline  float b3GetFrictionCoeff(b3ContactConstraint4_t\* constraint) 
              ^
<program source>:140:15: warning: unused function 'b3FastNormalize4'
inline float4 b3FastNormalize4(float4 v)
              ^
<program source>:159:15: warning: unused function 'b3QuatNormalized'
inline b3Quat b3QuatNormalized(b3QuatConstArg in)
              ^
<program source>:188:15: warning: unused function 'b3QuatInvRotate'
inline float4 b3QuatInvRotate(b3QuatConstArg q, b3QuatConstArg vec)
              ^
<program source>:192:17: warning: unused function 'b3TransformPoint'
inline b3Float4 b3TransformPoint(b3Float4ConstArg point, b3Float4ConstArg translation, b3QuatConstArg  orientation)
                ^
<program source>:214:17: warning: unused function 'b3QuatGetRotationMatrix'
inline b3Mat3x3 b3QuatGetRotationMatrix(b3Quat quat)
                ^
<program source>:232:17: warning: unused function 'b3AbsoluteMat3x3'
inline b3Mat3x3 b3AbsoluteMat3x3(b3Mat3x3ConstArg matIn)
                ^
<program source>:253:10: warning: unused function 'mtZero'
b3Mat3x3 mtZero()
         ^
<program source>:262:10: warning: unused function 'mtIdentity'
b3Mat3x3 mtIdentity()
         ^
<program source>:280:10: warning: unused function 'mtMul'
b3Mat3x3 mtMul(b3Mat3x3 a, b3Mat3x3 b)
         ^
<program source>:300:10: warning: unused function 'mtMul1'
b3Float4 mtMul1(b3Mat3x3 a, b3Float4 b)
         ^
<program source>:506:7: warning: unused function 'fastDiv'
float fastDiv(float numerator, float denominator)
      ^
<program source>:512:8: warning: unused function 'fastDiv4'
float4 fastDiv4(float4 numerator, float4 denominator)
       ^
<program source>:517:7: warning: unused function 'fastSqrtf'
float fastSqrtf(float f2)
      ^
<program source>:523:7: warning: unused function 'fastRSqrt'
float fastRSqrt(float f2)
      ^
<program source>:528:7: warning: unused function 'fastLength4'
float fastLength4(float4 v)
      ^
<program source>:556:7: warning: unused function 'length3'
float length3(const float4 a)
      ^
<program source>:567:7: warning: unused function 'dot3w1'
float dot3w1(const float4 point, const float4 eqn)
      ^
<program source>:580:8: warning: unused function 'normalize4'
float4 normalize4(const float4 a)
       ^
<program source>:586:8: warning: unused function 'createEquation'
float4 createEquation(const float4 a, const float4 b, const float4 c)
       ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel BatchSolveKernelFriction ready. 
compiling kernel BatchSolveKernelContact ready. 
compiling kernel ContactToConstraintKernel ready. 
compiling kernel SetSortDataKernel ready. 
compiling kernel ReorderContactKernel ready. 
compiling kernel CopyConstraintKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/batchingKernels.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:39:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:45:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:55:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:55:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:55:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:86:26: warning: unknown OpenCL extension 'cl_amd_printf' - ignoring
#pragma OPENCL EXTENSION cl_amd_printf : enable
                         ^
<program source>:113:9: warning: 'make_float4' macro redefined
#define make_float4 (float4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3140:9: note: previous definition is here
#define make_float4(A,B,C,D) (float4)((A),(B),(C),(D))
        ^
<program source>:114:9: warning: 'make_float2' macro redefined
#define make_float2 (float2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3137:9: note: previous definition is here
#define make_float2(A,B) (float2)((A),(B))
        ^
<program source>:115:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:116:9: warning: 'make_int4' macro redefined
#define make_int4 (int4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3115:9: note: previous definition is here
#define make_int4(A,B,C,D) (int4)((A),(B),(C),(D))
        ^
<program source>:117:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:118:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^
<program source>:142:5: warning: no previous prototype for function 'readBuf'
u32 readBuf(**local u32\* buff, int idx)
    ^
<program source>:149:6: warning: no previous prototype for function 'writeBuf'
void writeBuf(__local u32\* buff, int idx)
     ^
<program source>:157:5: warning: no previous prototype for function 'tryWrite'
u32 tryWrite(__local u32\* buff, int idx)
    ^
<program source>:203:16: warning: comparison of integers of different signs: '__attribute**((address_space(3))) u32' (aka '**attribute**((address_space(3))) unsigned int') and 'const int'
                        if( ldsGEnd < m_n )
                            ~~~~~~~ ^ ~~~
<program source>:207:18: warning: comparison of integers of different signs: '**attribute**((address_space(3))) u32' (aka '**attribute**((address_space(3))) unsigned int') and 'const int'
                                        if( ldsGEnd >= m_n ) break;
                                            ~~~~~~~ ^  ~~~
<program source>:312:20: warning: comparison of integers of different signs: 'int' and '**attribute**((address_space(3))) u32' (aka '**attribute**((address_space(3))) unsigned int')
                for(int i=lIdx; i<ldsStackEnd; i+=WG_SIZE)
                                ~^~~~~~~~~~~~
<program source>:323:21: warning: comparison of integers of different signs: 'int' and '**attribute**((address_space(3))) u32' (aka '**attribute**((address_space(3))) unsigned int')
                        for(int i=lIdx; i<ldsRingEnd; i+=WG_SIZE)
                                        ~^~~~~~~~~~~
<program source>:336:15: warning: comparison of integers of different signs: '**attribute**((address_space(3))) u32' (aka '**attribute**((address_space(3))) unsigned int') and 'const int'
                if( ldsGEnd == m_n && ldsRingEnd == 0 )
                    ~~~~~~~ ^  ~~~
<program source>:53:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:77:12: warning: unused function 'b3Contact4Data_getNumPoints'
inline int b3Contact4Data_getNumPoints(const struct b3Contact4Data\* contact)
           ^
<program source>:81:13: warning: unused function 'b3Contact4Data_setNumPoints'
inline void b3Contact4Data_setNumPoints(struct b3Contact4Data\* contact, int numPoints)
            ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel CreateBatches ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/batchingKernelsNew.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:39:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:45:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:55:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:55:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:55:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:86:26: warning: unknown OpenCL extension 'cl_amd_printf' - ignoring
#pragma OPENCL EXTENSION cl_amd_printf : enable
                         ^
<program source>:114:9: warning: 'make_float4' macro redefined
#define make_float4 (float4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3140:9: note: previous definition is here
#define make_float4(A,B,C,D) (float4)((A),(B),(C),(D))
        ^
<program source>:115:9: warning: 'make_float2' macro redefined
#define make_float2 (float2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3137:9: note: previous definition is here
#define make_float2(A,B) (float2)((A),(B))
        ^
<program source>:116:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:117:9: warning: 'make_int4' macro redefined
#define make_int4 (int4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3115:9: note: previous definition is here
#define make_int4(A,B,C,D) (int4)((A),(B),(C),(D))
        ^
<program source>:118:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:119:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^
<program source>:156:5: warning: no previous prototype for function 'readBuf'
u32 readBuf(__local u32\* buff, int idx)
    ^
<program source>:163:6: warning: no previous prototype for function 'writeBuf'
void writeBuf(__local u32\* buff, int idx)
     ^
<program source>:171:5: warning: no previous prototype for function 'tryWrite'
u32 tryWrite(__local u32\* buff, int idx)
    ^
<program source>:53:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:77:12: warning: unused function 'b3Contact4Data_getNumPoints'
inline int b3Contact4Data_getNumPoints(const struct b3Contact4Data\* contact)
           ^
<program source>:81:13: warning: unused function 'b3Contact4Data_setNumPoints'
inline void b3Contact4Data_setNumPoints(struct b3Contact4Data\* contact, int numPoints)
            ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel CreateBatchesNew ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/BoundSearchKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel SearchSortDataLowerKernel ready. 
compiling kernel SearchSortDataUpperKernel ready. 
compiling kernel SubtractKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/solveContact.cl.ATI Radeon HD 6750M.1.0.bin
clBuildProgram successfully compiled cached binary: cache/solveFriction.cl.ATI Radeon HD 6750M.1.0.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup2.cl.ATI Radeon HD 6750M.1.0.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel BatchSolveKernelFriction ready. 
compiling kernel BatchSolveKernelContact ready. 
compiling kernel solveSingleContactKernel ready. 
compiling kernel solveSingleFrictionKernel ready. 
compiling kernel ContactToConstraintKernel ready. 
compiling kernel SetSortDataKernel ready. 
compiling kernel SetDeterminismSortDataBodyA ready. 
compiling kernel SetDeterminismSortDataBodyB ready. 
compiling kernel SetDeterminismSortDataChildShapeA ready. 
compiling kernel SetDeterminismSortDataChildShapeB ready. 
compiling kernel ReorderContactKernel ready. 
compiling kernel CopyConstraintKernel ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel CreateBatches ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernelsNew.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel CreateBatchesNew ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/rayCastKernels.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:118:6: warning: no previous prototype for function 'trInverse'
void    trInverse(float4 translationIn, Quaternion orientationIn,
        ^
<program source>:124:6: warning: no previous prototype for function 'rayConvex'
bool rayConvex(float4 rayFromLocal, float4 rayToLocal, int numFaces, int faceOffset,
     ^
<program source>:178:6: warning: no previous prototype for function 'sphere_intersect'
bool sphere_intersect(float4 spherePos,  float radius, float4 rayFrom, float4 rayTo, float\* hitFraction)
     ^
<program source>:199:8: warning: no previous prototype for function 'setInterpolate3'
float4 setInterpolate3(float4 from, float4 to, float t)
       ^
<program source>:236:29: warning: comparison of integers of different signs: 'int' and 'unsigned int'
                if (cachedCollidableIndex != body.m_collidableIdx)
                    ~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~~~~~~~~~
<program source>:92:13: warning: unused function 'qtNormalize'
        Quaternion qtNormalize(Quaternion in)
                   ^
<program source>:114:9: warning: unused function 'qtInvRotate'
        float4 qtInvRotate(const Quaternion q, float4 vec)
               ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel rayCastKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/integrateKernel.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:39:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:45:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:55:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:55:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:55:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:53:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:78:15: warning: unused function 'b3FastNormalize4'
inline float4 b3FastNormalize4(float4 v)
              ^
<program source>:126:15: warning: unused function 'b3QuatInvRotate'
inline float4 b3QuatInvRotate(b3QuatConstArg q, b3QuatConstArg vec)
              ^
<program source>:130:17: warning: unused function 'b3TransformPoint'
inline b3Float4 b3TransformPoint(b3Float4ConstArg point, b3Float4ConstArg translation, b3QuatConstArg  orientation)
                ^
<program source>:152:17: warning: unused function 'b3QuatGetRotationMatrix'
inline b3Mat3x3 b3QuatGetRotationMatrix(b3Quat quat)
                ^
<program source>:170:17: warning: unused function 'b3AbsoluteMat3x3'
inline b3Mat3x3 b3AbsoluteMat3x3(b3Mat3x3ConstArg matIn)
                ^
<program source>:191:10: warning: unused function 'mtZero'
b3Mat3x3 mtZero()
         ^
<program source>:200:10: warning: unused function 'mtIdentity'
b3Mat3x3 mtIdentity()
         ^
<program source>:218:10: warning: unused function 'mtMul'
b3Mat3x3 mtMul(b3Mat3x3 a, b3Mat3x3 b)
         ^
<program source>:238:10: warning: unused function 'mtMul1'
b3Float4 mtMul1(b3Mat3x3 a, b3Float4 b)
         ^
<program source>:248:10: warning: unused function 'mtMul3'
b3Float4 mtMul3(b3Float4 a, b3Mat3x3 b)
         ^
<program source>:336:13: warning: unused function 'b3IntegrateTransform'
inline void b3IntegrateTransform( __global b3RigidBodyData_t\* body, float timeStep, float angularDamping, b3Float4ConstArg gravityAcceleration)
            ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel integrateTransformsKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/updateAabbsKernel.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:29:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:35:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:45:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:45:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:45:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:386:6: warning: no previous prototype for function 'b3ComputeWorldAabb'
void b3ComputeWorldAabb(  int bodyId, __global const b3RigidBodyData_t\* bodies, __global const  b3Collidable_t\* collidables, __global const  b3Aabb_t\* localShapeAABB, __global b3Aabb_t\* worldAabbs)
     ^
<program source>:43:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:70:15: warning: unused function 'b3FastNormalize4'
inline float4 b3FastNormalize4(float4 v)
              ^
<program source>:89:15: warning: unused function 'b3QuatNormalized'
inline b3Quat b3QuatNormalized(b3QuatConstArg in)
              ^
<program source>:118:15: warning: unused function 'b3QuatInvRotate'
inline float4 b3QuatInvRotate(b3QuatConstArg q, b3QuatConstArg vec)
              ^
<program source>:176:10: warning: unused function 'mtZero'
b3Mat3x3 mtZero()
         ^
<program source>:185:10: warning: unused function 'mtIdentity'
b3Mat3x3 mtIdentity()
         ^
<program source>:203:10: warning: unused function 'mtMul'
b3Mat3x3 mtMul(b3Mat3x3 a, b3Mat3x3 b)
         ^
<program source>:223:10: warning: unused function 'mtMul1'
b3Float4 mtMul1(b3Mat3x3 a, b3Float4 b)
         ^
<program source>:233:10: warning: unused function 'mtMul3'
b3Float4 mtMul3(b3Float4 a, b3Mat3x3 b)
         ^
<program source>:283:13: warning: unused function 'b3TestAabbAgainstAabb'
inline bool b3TestAabbAgainstAabb(b3Float4ConstArg aabbMin1,b3Float4ConstArg aabbMax1,
            ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel initializeGpuAabbsFull ready. 
clBuildProgram successfully compiled cached binary: cache/rayCastKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel rayCastKernel ready. 
",part warning kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning comparison different program source warning comparison different end program source warning comparison different program source warning comparison different end program source warning comparison different warning kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning unused function float normalize float warning open binary bin open binary bin error build warning compiler build log program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning unknown extension extension enable program source warning macro define float note previous definition define float program source warning macro define float note previous definition define float program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning unused variable bool program source warning unused function bool program source warning unused function contact program source warning unused function void contact program source warning unused function float float numerator float denominator program source warning unused function float float numerator float denominator program source warning unused function float float program source warning unused function float float program source warning unused function float float program source warning unused function float length float program source warning unused function float float point float program source warning unused function float normalize float program source warning unused function float float float float program source warning unused function program source warning unused function program source warning unused function program source warning unused function float float program source warning unused function float float program source warning unused function quaternion quaternion program source warning unused function float quaternion float warning open binary bin error build warning compiler build log program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning previous prototype function void linear angular angular program source warning previous prototype function float program source warning previous prototype function float linear linear angular angular program source warning previous prototype function void float program source warning unknown extension extension enable program source warning macro define float note previous definition define float program source warning macro define float note previous definition define float program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning unused function bool program source warning unused function contact program source warning unused function void contact program source warning unused function float constraint program source warning unused function float float program source warning unused function program source warning unused function float program source warning unused function point translation orientation program source warning unused function quat program source warning unused function matin program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function float float numerator float denominator program source warning unused function float float numerator float denominator program source warning unused function float float program source warning unused function float float program source warning unused function float float program source warning unused function float length float program source warning unused function float float point float program source warning unused function float normalize float program source warning unused function float float float float warning kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning unknown extension extension enable program source warning macro define float note previous definition define float program source warning macro define float note previous definition define float program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning previous prototype function local buff program source warning previous prototype function void buff program source warning previous prototype function buff program source warning comparison different aka attribute unsigned program source warning comparison different attribute aka attribute unsigned break program source warning comparison different attribute aka attribute unsigned program source warning comparison different attribute aka attribute unsigned program source warning comparison different attribute aka attribute unsigned program source warning unused function bool program source warning unused function contact program source warning unused function void contact warning kernel ready open binary bin error build warning compiler build log program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning unknown extension extension enable program source warning macro define float note previous definition define float program source warning macro define float note previous definition define float program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning previous prototype function buff program source warning previous prototype function void buff program source warning previous prototype function buff program source warning unused function bool program source warning unused function contact program source warning unused function void contact warning kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready successfully binary bin successfully binary bin successfully binary bin successfully binary bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready successfully binary bin kernel ready open binary bin error build warning compiler build log program source warning previous prototype function void float quaternion program source warning previous prototype function bool float float program source warning previous prototype function bool float float radius float float program source warning previous prototype function float float float float program source warning comparison different program source warning unused function quaternion quaternion program source warning unused function float quaternion float warning kernel ready open binary bin error build warning compiler build log program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning unused function bool program source warning unused function float float program source warning unused function float program source warning unused function point translation orientation program source warning unused function quat program source warning unused function matin program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function void body float float warning kernel ready open binary bin error build warning compiler build log program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning previous prototype function void program source warning unused function bool program source warning unused function float float program source warning unused function program source warning unused function float program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function bool warning kernel ready successfully binary bin kernel ready,issue,negative,positive,neutral,neutral,positive,positive
29386348,"here is the kernel compile part (part1):

gdb ./App_Bullet3_OpenCL_Demos_Apple_gmake_debug 
GNU gdb 6.3.50-20050815 (Apple version gdb-1824) (Wed Feb  6 22:51:23 UTC 2013)
Copyright 2004 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type ""show copying"" to see the conditions.
There is absolutely no warranty for GDB.  Type ""show warranty"" for details.
This GDB was configured as ""x86_64-apple-darwin""...No symbol table is loaded.  Use the ""file"" command.
Breakpoint 1 (ptrace if _((unsigned int_)($esp+4)) == 0x1f) pending.
Reading symbols for shared libraries ........... done

(gdb) r
Starting program: /Users/conversy/recherche/wingLift/code/bullet3/bin/App_Bullet3_OpenCL_Demos_Apple_gmake_debug 
Reading symbols for shared libraries ++++++++++...................................................................................................................................... done
Breakpoint 1 at 0x9188eabc
Pending breakpoint 1 - ""ptrace if _((unsigned int_)($esp+4)) == 0x1f"" resolved
Reading symbols for shared libraries . done
Reading symbols for shared libraries . done
Reading symbols for shared libraries . done
Reading symbols for shared libraries . done
Reading symbols for shared libraries .. done
Reading symbols for shared libraries ... done
Reading symbols for shared libraries .. done
Reading symbols for shared libraries .......... done
main startVendor: ATI Technologies Inc.
Renderer: AMD Radeon HD 6750M OpenGL Engine
Version: 3.2 ATI-1.8.19
GLSL: 1.50

## Reading symbols for shared libraries . done

started GwenUserInterfaceinit fontscompiling kernel copyTransformsToVBOKernel b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:3:418: warning: double precision constant requires cl_khr_fp64, casting to single precision
typedef struct { float4 m_pos; float4 m_quat; float4 m_linVel; float4 m_angVel; unsigned int m_collidableIdx; float m_invMass; float m_restituitionCoeff; float m_frictionCoeff; } Body; __kernel void copyTransformsToVBOKernel( __global Body\* gBodies, __global float4\* posOrnColor, const int numNodes) { int nodeID = get_global_id(0); if( nodeID < numNodes ) { posOrnColor[nodeID] = (float4) (gBodies[nodeID].m_pos.xyz,1.0); posOrnColor[nodeID + numNodes] = gBodies[nodeID].m_quat; } }
                                                                                                                                                                                                                                                                                                                                                                                                                                 ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/sat.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:49:5: warning: no previous prototype for function 'getTriangleIndex'
int     getTriangleIndex(const b3QuantizedBvhNode\* rootNode)
        ^
<program source>:56:5: warning: no previous prototype for function 'getTriangleIndexGlobal'
int     getTriangleIndexGlobal(__global const b3QuantizedBvhNode\* rootNode)
        ^
<program source>:63:5: warning: no previous prototype for function 'isLeafNode'
int isLeafNode(const b3QuantizedBvhNode\* rootNode)
    ^
<program source>:68:5: warning: no previous prototype for function 'isLeafNodeGlobal'
int isLeafNodeGlobal(__global const b3QuantizedBvhNode\* rootNode)
    ^
<program source>:74:5: warning: no previous prototype for function 'getEscapeIndex'
int getEscapeIndex(const b3QuantizedBvhNode\* rootNode)
    ^
<program source>:78:5: warning: no previous prototype for function 'getEscapeIndexGlobal'
int getEscapeIndexGlobal(__global const b3QuantizedBvhNode\* rootNode)
    ^
<program source>:168:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:174:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:184:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:184:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:184:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:459:9: warning: 'make_float4' macro redefined
#define make_float4 (float4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3140:9: note: previous definition is here
#define make_float4(A,B,C,D) (float4)((A),(B),(C),(D))
        ^
<program source>:618:6: warning: no previous prototype for function 'findSeparatingAxisLocalA'
bool findSeparatingAxisLocalA(  const ConvexPolyhedronCL\* hullA, __global const ConvexPolyhedronCL\* hullB, 
     ^
<program source>:636:6: warning: unused variable 'i'
        int i = get_global_id(0);
            ^
<program source>:668:6: warning: no previous prototype for function 'findSeparatingAxisLocalB'
bool findSeparatingAxisLocalB(  __global const ConvexPolyhedronCL\* hullA,  const ConvexPolyhedronCL\* hullB, 
     ^
<program source>:685:6: warning: unused variable 'i'
        int i = get_global_id(0);
            ^
<program source>:717:6: warning: no previous prototype for function 'findSeparatingAxisEdgeEdgeLocalA'
bool findSeparatingAxisEdgeEdgeLocalA(  const ConvexPolyhedronCL\* hullA, __global const ConvexPolyhedronCL\* hullB, 
     ^
<program source>:734:6: warning: unused variable 'i'
        int i = get_global_id(0);
            ^
<program source>:739:6: warning: unused variable 'curPlaneTests'
        int curPlaneTests=0;
            ^
<program source>:805:6: warning: no previous prototype for function 'findSeparatingAxis'
bool findSeparatingAxis(        __global const ConvexPolyhedronCL\* hullA, __global const ConvexPolyhedronCL\* hullB, 
     ^
<program source>:818:6: warning: unused variable 'i'
        int i = get_global_id(0);
            ^
<program source>:856:6: warning: no previous prototype for function 'findSeparatingAxisEdgeEdge'
bool findSeparatingAxisEdgeEdge(        __global const ConvexPolyhedronCL\* hullA, __global const ConvexPolyhedronCL\* hullB, 
     ^
<program source>:869:6: warning: unused variable 'i'
        int i = get_global_id(0);
            ^
<program source>:874:6: warning: unused variable 'curPlaneTests'
        int curPlaneTests=0;
            ^
<program source>:1000:7: warning: unused variable 'numFacesA'
                int numFacesA = convexShapes[shapeIndexA].m_numFaces;
                    ^
<program source>:1131:11: warning: unused variable 'endNodeIndexA'
                                                int endNodeIndexA = startNodeIndexA+subtreeA.m_subtreeSize;
                                                    ^
<program source>:1133:11: warning: unused variable 'endNodeIndexB'
                                                int endNodeIndexB = startNodeIndexB+subtreeB.m_subtreeSize;
                                                    ^
<program source>:1274:13: warning: unused variable 'numFacesA'
                                                                int numFacesA = convexShapes[shapeIndexA].m_numFaces;
                                                                    ^
<program source>:1275:15: warning: unused variable 'dmin'
                                                                float dmin = FLT_MAX;
                                                                      ^
<program source>:1286:22: warning: unused variable 'DeltaC2'
                                                                const float4 DeltaC2 = c0 - c1;
                                                                             ^
<program source>:1301:12: warning: unused variable 'numFacesA'
                                                        int numFacesA = convexShapes[shapeIndexA].m_numFaces;
                                                            ^
<program source>:1302:14: warning: unused variable 'dmin'
                                                        float dmin = FLT_MAX;
                                                              ^
<program source>:1313:21: warning: unused variable 'DeltaC2'
                                                        const float4 DeltaC2 = c0 - c1;
                                                                     ^
<program source>:1344:11: warning: unused variable 'numFacesA'
                                                int numFacesA = convexShapes[shapeIndexA].m_numFaces;
                                                    ^
<program source>:1345:13: warning: unused variable 'dmin'
                                                float dmin = FLT_MAX;
                                                      ^
<program source>:1356:20: warning: unused variable 'DeltaC2'
                                                const float4 DeltaC2 = c0 - c1;
                                                             ^
<program source>:1419:7: warning: unused variable 'numFacesA'
                int numFacesA = convexShapes[shapeIndexA].m_numFaces;
                    ^
<program source>:1584:10: warning: unused variable 'c1'
                        float c1 = -face.m_plane.w;
                              ^
<program source>:1543:7: warning: unused variable 'localCC'
                int localCC=0;
                    ^
<program source>:1504:6: warning: unused variable 'numFacesA'
        int numFacesA = convexShapes[shapeIndexA].m_numFaces;
            ^
<program source>:1517:9: warning: unused variable 'triMinAabb'
        float4 triMinAabb, triMaxAabb;
               ^
<program source>:1517:21: warning: unused variable 'triMaxAabb'
        float4 triMinAabb, triMaxAabb;
                           ^
<program source>:182:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:209:15: warning: unused function 'b3FastNormalize4'
inline float4 b3FastNormalize4(float4 v)
              ^
<program source>:228:15: warning: unused function 'b3QuatNormalized'
inline b3Quat b3QuatNormalized(b3QuatConstArg in)
              ^
<program source>:257:15: warning: unused function 'b3QuatInvRotate'
inline float4 b3QuatInvRotate(b3QuatConstArg q, b3QuatConstArg vec)
              ^
<program source>:315:10: warning: unused function 'mtZero'
b3Mat3x3 mtZero()
         ^
<program source>:324:10: warning: unused function 'mtIdentity'
b3Mat3x3 mtIdentity()
         ^
<program source>:342:10: warning: unused function 'mtMul'
b3Mat3x3 mtMul(b3Mat3x3 a, b3Mat3x3 b)
         ^
<program source>:362:10: warning: unused function 'mtMul1'
b3Float4 mtMul1(b3Mat3x3 a, b3Float4 b)
         ^
<program source>:372:10: warning: unused function 'mtMul3'
b3Float4 mtMul3(b3Float4 a, b3Mat3x3 b)
         ^
<program source>:510:12: warning: unused function 'qtNormalize'
Quaternion qtNormalize(Quaternion in)
           ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel findSeparatingAxisKernel ready. 
compiling kernel findConcaveSeparatingAxisKernel ready. 
compiling kernel findCompoundPairsKernel ready. 
compiling kernel processCompoundPairsKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/satClipHullContacts.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:4:26: warning: unknown OpenCL extension 'cl_amd_printf' - ignoring
#pragma OPENCL EXTENSION cl_amd_printf : enable
                         ^
<program source>:54:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:60:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:70:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:70:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:70:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:425:9: warning: 'make_float4' macro redefined
#define make_float4 (float4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3140:9: note: previous definition is here
#define make_float4(A,B,C,D) (float4)((A),(B),(C),(D))
        ^
<program source>:426:9: warning: 'make_float2' macro redefined
#define make_float2 (float2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3137:9: note: previous definition is here
#define make_float2(A,B) (float2)((A),(B))
        ^
<program source>:427:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:428:9: warning: 'make_int4' macro redefined
#define make_int4 (int4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3115:9: note: previous definition is here
#define make_int4(A,B,C,D) (int4)((A),(B),(C),(D))
        ^
<program source>:429:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:430:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^
<program source>:527:5: warning: no previous prototype for function 'clipFaceGlobal'
int clipFaceGlobal(__global const float4\* pVtxIn, int numVertsIn, float4 planeNormalWS,float planeEqWS, __global float4\* ppVtxOut)
    ^
<program source>:574:5: warning: no previous prototype for function 'clipFace'
int clipFace(const float4\* pVtxIn, int numVertsIn, float4 planeNormalWS,float planeEqWS, float4\* ppVtxOut)
    ^
<program source>:618:5: warning: no previous prototype for function 'clipFaceAgainstHull'
int clipFaceAgainstHull(const float4 separatingNormal, __global const b3ConvexPolyhedronData_t\* hullA,  
    ^
<program source>:707:5: warning: no previous prototype for function 'clipFaceAgainstHullLocalA'
int clipFaceAgainstHullLocalA(const float4 separatingNormal, const b3ConvexPolyhedronData_t\* hullA,  
    ^
<program source>:799:5: warning: no previous prototype for function 'clipHullAgainstHull'
int     clipHullAgainstHull(const float4 separatingNormal,
        ^
<program source>:847:5: warning: no previous prototype for function 'clipHullAgainstHullLocalA'
int     clipHullAgainstHullLocalA(const float4 separatingNormal,
        ^
<program source>:903:5: warning: no previous prototype for function 'extractManifoldSequentialGlobal'
int extractManifoldSequentialGlobal(__global const float4\* p, int nPoints, float4 nearNormal, int4\* contactIdx)
    ^
<program source>:995:5: warning: no previous prototype for function 'extractManifoldSequentialGlobalFake'
int extractManifoldSequentialGlobalFake(__global const float4\* p, int nPoints, float4 nearNormal, int\* contactIdx)
    ^
<program source>:1008:5: warning: no previous prototype for function 'extractManifoldSequential'
int extractManifoldSequential(const float4\* p, int nPoints, float4 nearNormal, int\* contactIdx)
    ^
<program source>:1135:6: warning: no previous prototype for function 'trInverse'
void    trInverse(float4 translationIn, Quaternion orientationIn,
        ^
<program source>:1141:6: warning: no previous prototype for function 'trMul'
void    trMul(float4 translationA, Quaternion orientationA,
        ^
<program source>:1395:15: warning: double precision constant requires cl_khr_fp64, casting to single precision
                                if (len > 0.00001)
                                          ^
<program source>:1526:10: warning: unused variable 'c1'
                        float c1 = -face.m_plane.w;
                              ^
<program source>:1598:15: warning: incompatible pointer types passing '__float4 (_)[3]' to parameter of type 'const __float4 *'
                                                                                                                &verticesA,&facesA,&indicesA,
                                                                                                                ^~~~~~~~~~
<program source>:852:16: note: passing argument to parameter 'verticesA' here
        const float4_ verticesA,
                      ^
<program source>:1598:26: warning: incompatible pointer types passing 'b3GpuFace_t (_)[5]' to parameter of type 'const b3GpuFace_t *' (aka 'const struct b3GpuFace *')
                                                                                                                &verticesA,&facesA,&indicesA,
                                                                                                                           ^~~~~~~
<program source>:853:21: note: passing argument to parameter 'facesA' here
        const b3GpuFace_t_ facesA,
                           ^
<program source>:1598:34: warning: incompatible pointer types passing 'int (_)[12]' to parameter of type 'const int *'
                                                                                                                &verticesA,&facesA,&indicesA,
                                                                                                                                   ^~~~~~~~~
<program source>:854:13: note: passing argument to parameter 'indicesA' here
        const int_ indicesA,
                   ^
<program source>:1468:8: warning: unused variable 'overlap'
                bool overlap = false;
                     ^
<program source>:1485:9: warning: unused variable 'dmin'
                float dmin = FLT_MAX;
                      ^
<program source>:1486:7: warning: unused variable 'localCC'
                int localCC=0;
                    ^
<program source>:1639:5: warning: no previous prototype for function 'findClippingFaces'
int     findClippingFaces(const float4 separatingNormal,
        ^
<program source>:1721:5: warning: no previous prototype for function 'clipFaces'
int clipFaces(__global float4\* worldVertsA1,
    ^
<program source>:1733:9: warning: unused variable 'closestFaceB'
    int closestFaceB = clippingFaces[pairIndex].y;
        ^
<program source>:1846:8: warning: unused variable 'numLocalContactsOut'
                        int numLocalContactsOut = findClippingFaces(separatingNormals[i],
                            ^
<program source>:1823:6: warning: unused variable 'pairIndex'
        int pairIndex = i;
            ^
<program source>:1905:21: warning: unused variable 'closestFaceB'
                int closestFaceB = clippingFaces[pairIndex].y;
                    ^
<program source>:1891:8: warning: unused variable 'bodyIndexA'
                        int bodyIndexA = pairs[i].x;
                            ^
<program source>:1892:8: warning: unused variable 'bodyIndexB'
                        int bodyIndexB = pairs[i].y;
                            ^
<program source>:68:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:92:12: warning: unused function 'b3Contact4Data_getNumPoints'
inline int b3Contact4Data_getNumPoints(const struct b3Contact4Data\* contact)
           ^
<program source>:96:13: warning: unused function 'b3Contact4Data_setNumPoints'
inline void b3Contact4Data_setNumPoints(struct b3Contact4Data\* contact, int numPoints)
            ^
<program source>:126:15: warning: unused function 'b3FastNormalize4'
inline float4 b3FastNormalize4(float4 v)
              ^
<program source>:145:15: warning: unused function 'b3QuatNormalized'
inline b3Quat b3QuatNormalized(b3QuatConstArg in)
              ^
<program source>:174:15: warning: unused function 'b3QuatInvRotate'
inline float4 b3QuatInvRotate(b3QuatConstArg q, b3QuatConstArg vec)
              ^
<program source>:178:17: warning: unused function 'b3TransformPoint'
inline b3Float4 b3TransformPoint(b3Float4ConstArg point, b3Float4ConstArg translation, b3QuatConstArg  orientation)
                ^
<program source>:294:17: warning: unused function 'b3QuatGetRotationMatrix'
inline b3Mat3x3 b3QuatGetRotationMatrix(b3Quat quat)
                ^
<program source>:312:17: warning: unused function 'b3AbsoluteMat3x3'
inline b3Mat3x3 b3AbsoluteMat3x3(b3Mat3x3ConstArg matIn)
                ^
<program source>:333:10: warning: unused function 'mtZero'
b3Mat3x3 mtZero()
         ^
<program source>:342:10: warning: unused function 'mtIdentity'
b3Mat3x3 mtIdentity()
         ^
<program source>:360:10: warning: unused function 'mtMul'
b3Mat3x3 mtMul(b3Mat3x3 a, b3Mat3x3 b)
         ^
<program source>:380:10: warning: unused function 'mtMul1'
b3Float4 mtMul1(b3Mat3x3 a, b3Float4 b)
         ^
<program source>:390:10: warning: unused function 'mtMul3'
b3Float4 mtMul3(b3Float4 a, b3Mat3x3 b)
         ^
<program source>:432:7: warning: unused function 'fastDiv'
float fastDiv(float numerator, float denominator)
      ^
<program source>:438:8: warning: unused function 'fastDiv4'
float4 fastDiv4(float4 numerator, float4 denominator)
       ^
<program source>:483:12: warning: unused function 'qtNormalize'
Quaternion qtNormalize(Quaternion in)
           ^
<program source>:504:8: warning: unused function 'qtInvRotate'
float4 qtInvRotate(const Quaternion q, float4 vec)
       ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel clipHullHullKernel ready. 
compiling kernel clipCompoundsHullHullKernel ready. 
compiling kernel findClippingFacesKernel ready. 
compiling kernel clipFacesAndFindContactsKernel ready. 
compiling kernel clipHullHullConcaveConvexKernel ready. 
compiling kernel extractManifoldAndAddContactKernel ready. 
compiling kernel newContactReductionKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/bvhTraversal.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:58:5: warning: no previous prototype for function 'getTriangleIndex'
int     getTriangleIndex(const btQuantizedBvhNode\* rootNode)
        ^
<program source>:65:5: warning: no previous prototype for function 'isLeaf'
int isLeaf(const btQuantizedBvhNode\* rootNode)
    ^
<program source>:71:5: warning: no previous prototype for function 'getEscapeIndex'
int getEscapeIndex(const btQuantizedBvhNode\* rootNode)
    ^
<program source>:130:5: warning: no previous prototype for function 'testQuantizedAabbAgainstQuantizedAabb'
int testQuantizedAabbAgainstQuantizedAabb(
    ^
<program source>:155:6: warning: no previous prototype for function 'quantizeWithClamp'
void quantizeWithClamp(unsigned short\* out, float4 point2,int isMax, float4 bvhAabbMin, float4 bvhAabbMax, float4 bvhQuantization)
     ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel bvhTraversalKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/primitiveContacts.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:27:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:33:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:43:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:43:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:43:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:79:26: warning: unknown OpenCL extension 'cl_amd_printf' - ignoring
#pragma OPENCL EXTENSION cl_amd_printf : enable
                         ^
<program source>:174:9: warning: 'make_float4' macro redefined
#define make_float4 (float4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3140:9: note: previous definition is here
#define make_float4(A,B,C,D) (float4)((A),(B),(C),(D))
        ^
<program source>:175:9: warning: 'make_float2' macro redefined
#define make_float2 (float2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3137:9: note: previous definition is here
#define make_float2(A,B) (float2)((A),(B))
        ^
<program source>:176:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:177:9: warning: 'make_int4' macro redefined
#define make_int4 (int4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3115:9: note: previous definition is here
#define make_int4(A,B,C,D) (int4)((A),(B),(C),(D))
        ^
<program source>:178:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:179:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^
<program source>:262:6: warning: no previous prototype for function 'trInverse'
void    trInverse(float4 translationIn, Quaternion orientationIn,
        ^
<program source>:268:6: warning: no previous prototype for function 'trMul'
void    trMul(float4 translationA, Quaternion orientationA,
        ^
<program source>:288:7: warning: no previous prototype for function 'signedDistanceFromPointToPlane'
float signedDistanceFromPointToPlane(float4 point, float4 planeEqn, float4\* closestPointOnFace)
      ^
<program source>:314:25: warning: comparison of integers of different signs: 'unsigned int' and 'const int'
    for(unsigned i=0; i != face->m_numIndices; ++i)
                      ~ ^  ~~~~~~~~~~~~~~~~~~
<program source>:346:6: warning: no previous prototype for function 'computeContactSphereConvex'
void    computeContactSphereConvex(int pairIndex,
        ^
<program source>:398:11: warning: unused variable 'zeroPos'
                        float4 zeroPos = make_float4(0,0,0,0);
                               ^
<program source>:477:5: warning: no previous prototype for function 'extractManifoldSequential'
int extractManifoldSequential(const float4\* p, int nPoints, float4 nearNormal, int4\* contactIdx)
    ^
<program source>:570:5: warning: no previous prototype for function 'computeContactPlaneConvex'
int computeContactPlaneConvex(int pairIndex,
    ^
<program source>:619:18: warning: double precision constant requires cl_khr_fp64, casting to single precision
        float maxDot = -1e30;
                        ^
<program source>:594:6: warning: unused variable 'numContactsOut'
        int numContactsOut = 0;
            ^
<program source>:595:6: warning: unused variable 'numWorldVertsB1'
        int numWorldVertsB1= 0;
            ^
<program source>:696:6: warning: no previous prototype for function 'computeContactPlaneSphere'
void    computeContactPlaneSphere(int pairIndex,
        ^
<program source>:882:15: warning: double precision constant requires cl_khr_fp64, casting to single precision
                                if (len > 0.00001)
                                          ^
<program source>:778:8: warning: unused variable 'minDist'
        float minDist = -1e30f;
              ^
<program source>:772:9: warning: unused variable 'worldVertsB1'
        float4 worldVertsB1[64];
               ^
<program source>:775:9: warning: unused variable 'localContactsOut'
        float4 localContactsOut[64];
               ^
<program source>:779:8: warning: unused variable 'maxDist'
        float maxDist = 0.02f;
              ^
<program source>:773:9: warning: unused variable 'worldVertsB2'
        float4 worldVertsB2[64];
               ^
<program source>:776:6: warning: unused variable 'localContactCapacity'
        int localContactCapacity=64;
            ^
<program source>:774:6: warning: unused variable 'capacityWorldVerts'
        int capacityWorldVerts = 64;  
            ^
<program source>:973:7: warning: unused variable 'shapeIndexA'
                int shapeIndexA = collidables[collidableIndexA].m_shapeIndex;
                    ^
<program source>:974:7: warning: unused variable 'shapeIndexB'
                int shapeIndexB = collidables[collidableIndexB].m_shapeIndex;
                    ^
<program source>:1021:6: warning: no previous prototype for function 'pointInTriangle'
bool pointInTriangle(const float4\* vertices, const float4\* normal, float4 _p )
     ^
<program source>:1049:7: warning: no previous prototype for function 'segmentSqrDistance'
float segmentSqrDistance(float4 from, float4 to,float4 p, float4_ nearest) 
      ^
<program source>:1074:6: warning: no previous prototype for function 'computeContactSphereTriangle'
void    computeContactSphereTriangle(int pairIndex,
        ^
<program source>:1094:6: warning: unused variable 'numFaces'
        int numFaces = 3;
            ^
<program source>:1225:6: warning: unused variable 'pairIdx'
        int pairIdx = i;
            ^
<program source>:1231:6: warning: unused variable 'shapeIndexB'
        int shapeIndexB = collidables[collidableIndexB].m_shapeIndex;
            ^
<program source>:41:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:65:12: warning: unused function 'b3Contact4Data_getNumPoints'
inline int b3Contact4Data_getNumPoints(const struct b3Contact4Data\* contact)
           ^
<program source>:69:13: warning: unused function 'b3Contact4Data_setNumPoints'
inline void b3Contact4Data_setNumPoints(struct b3Contact4Data\* contact, int numPoints)
            ^
<program source>:181:7: warning: unused function 'fastDiv'
float fastDiv(float numerator, float denominator)
      ^
<program source>:187:8: warning: unused function 'fastDiv4'
float4 fastDiv4(float4 numerator, float4 denominator)
       ^
<program source>:232:12: warning: unused function 'qtNormalize'
Quaternion qtNormalize(Quaternion in)
           ^
<program source>:253:8: warning: unused function 'qtInvRotate'
float4 qtInvRotate(const Quaternion q, float4 vec)
       ^
<program source>:281:17: warning: unused function 'lerp3'
__inline float4 lerp3(const float4 a,const float4 b, float  t)
                ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel primitiveContactsKernel ready. 
compiling kernel findConcaveSphereContactsKernel ready. 
compiling kernel processCompoundPairsPrimitivesKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/sap.cl.ATI Radeon HD 6750M.1.0.bin
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/sapFast.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:113:30: warning: comparison of integers of different signs: 'int' and 'unsigned int'
                                for (int j=prevMinIndex;j!=curMinIndex;j+=stepMin)
                                                        ~^ ~~~~~~~~~~~
<program source>:206:30: warning: comparison of integers of different signs: 'int' and 'unsigned int'
                                for (int j=prevMaxIndex;j!=curMaxIndex;j+=stepMax)
                                                        ~^ ~~~~~~~~~~~

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel computePairsKernelTwoArrays ready. 
compiling kernel prepareSumVarianceKernel ready. 
compiling kernel computePairsIncremental3dSapKernel ready. 
compiling kernel computePairsKernelLocalSharedMemory ready. 
compiling kernel flipFloatKernel ready. 
compiling kernel copyAabbsKernel ready. 
compiling kernel scatterKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/PrefixScanKernels.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:34:5: warning: no previous prototype for function 'ScanExclusive'
u32 ScanExclusive(__local u32\* data, u32 n, int lIdx, int lSize)
    ^
<program source>:56:31: warning: comparison of integers of different signs: 'int' and 'u32' (aka 'unsigned int')
    for(int nActive=1; nActive<n; nActive<<=1, offset>>=1 )
                       ~~~~~~~^~
<program source>:79:33: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        ldsData[2_lIdx]     = ( 2_gIdx < cb.m_numElems )? src[2*gIdx]: 0;
                                ~~~~~~ ^ ~~~~~~~~~~~~~
<program source>:80:35: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        ldsData[2_lIdx + 1] = ( 2_gIdx+1 < cb.m_numElems )? src[2_gIdx + 1]: 0;
                                ~~~~~~~~ ^ ~~~~~~~~~~~~~
<program source>:83:15: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        if( (2_gIdx) < cb.m_numElems )
             ~~~~~~  ^ ~~~~~~~~~~~~~
<program source>:87:19: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        if( (2*gIdx + 1) < cb.m_numElems )
             ~~~~~~~~~~  ^ ~~~~~~~~~~~~~
<program source>:114:19: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        for(int i=lIdx; i<cb.m_numScanBlocks; i+=lSize )
                        ~^~~~~~~~~~~~~~~~~~~
<program source>:116:18: warning: comparison of integers of different signs: 'int' and 'unsigned int'
                ldsData[i] = (i<cb.m_numBlocks)? dst[i]:0;
                              ~^~~~~~~~~~~~~~~
<program source>:120:19: warning: comparison of integers of different signs: 'int' and 'unsigned int'
        for(int i=lIdx; i<cb.m_numBlocks; i+=lSize )
                        ~^~~~~~~~~~~~~~~

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/FillKernels.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:15:26: warning: unknown OpenCL extension 'cl_amd_printf' - ignoring
#pragma OPENCL EXTENSION cl_amd_printf : enable
                         ^
<program source>:26:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:27:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:28:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/RadixSort32Kernels.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:30:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:31:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:32:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^
<program source>:64:6: warning: no previous prototype for function 'prefixScanVectorEx'
uint prefixScanVectorEx( uint4\* data )
     ^
<program source>:81:5: warning: no previous prototype for function 'localPrefixSum'
u32 localPrefixSum( u32 pData, uint lIdx, uint\* totalSum, **local u32\* sorterSharedMemory, int wgSize /_64 or 128_/ )
    ^
<program source>:148:7: warning: no previous prototype for function 'localPrefixSum128V'
uint4 localPrefixSum128V( uint4 pData, uint lIdx, uint\* totalSum, __local u32\* sorterSharedMemory )
      ^
<program source>:155:7: warning: no previous prototype for function 'localPrefixSum64V'
uint4 localPrefixSum64V( uint4 pData, uint lIdx, uint\* totalSum, __local u32\* sorterSharedMemory )
      ^
<program source>:161:5: warning: no previous prototype for function 'unpack4Key'
u32 unpack4Key( u32 key, int keyIdx ){ return (key>>(keyIdx_8)) & 0xff;}
    ^
<program source>:162:5: warning: no previous prototype for function 'bit8Scan'
u32 bit8Scan(u32 v)
    ^
<program source>:215:17: warning: comparison of integers of different signs: 'int' and 'size_t' (aka 'unsigned int')
                for(int i=0; i<GET_GROUP_SIZE; i++)
                             ~^~~~~~~~~~~~~~~
<program source>:173:6: warning: unused variable 'gIdx'
        u32 gIdx = GET_GLOBAL_IDX;
            ^
<program source>:176:6: warning: unused variable 'wgSize'
        u32 wgSize = GET_GROUP_SIZE;
            ^
<program source>:269:17: warning: comparison of integers of different signs: 'int' and 'size_t' (aka 'unsigned int')
                for(int i=0; i<GET_GROUP_SIZE; i++)
                             ~^~~~~~~~~~~~~~~
<program source>:227:6: warning: unused variable 'gIdx'
        u32 gIdx = GET_GLOBAL_IDX;
            ^
<program source>:230:6: warning: unused variable 'wgSize'
        u32 wgSize = GET_GROUP_SIZE;
            ^
<program source>:290:23: warning: comparison of integers of different signs: 'unsigned int' and 'int'
                if( (nPerWI_lIdx+i) < NUM_BUCKET_nWGs )
                     ~~~~~~~~~~~~~  ^ ~~~~~~~~~~~~~~~
<program source>:284:6: warning: unused variable 'wgIdx'
        u32 wgIdx = GET_GROUP_IDX;
            ^
<program source>:355:6: warning: no previous prototype for function 'sort4Bits'
void sort4Bits(u32 sortData[4], int startBit, int lIdx, __local u32_ ldsSortData)
     ^
<program source>:383:6: warning: no previous prototype for function 'sort4Bits1'
void sort4Bits1(u32 sortData[4], int startBit, int lIdx, __local u32\* ldsSortData)
     ^
<program source>:467:6: warning: unused variable 'gIdx'
        u32 gIdx = GET_GLOBAL_IDX;
            ^
<program source>:470:6: warning: unused variable 'wgSize'
        u32 wgSize = GET_GROUP_SIZE;
            ^
<program source>:585:6: warning: no previous prototype for function 'sort4Bits1KeyValue'
void sort4Bits1KeyValue(u32 sortData[4], int sortVal[4], int startBit, int lIdx, __local u32\* ldsSortData, __local int _ldsSortVal)
     ^
<program source>:711:22: warning: passing 'int [4]' to parameter of type 'u32 *' (aka 'unsigned int *') converts between pointers to integer types with different sign
                sort4Bits1KeyValue(sortData, sortVal, startBit, lIdx, ldsSortData, ldsSortVal);
                                   ^~~~~~~~
<program source>:585:29: note: passing argument to parameter 'sortData' here
void sort4Bits1KeyValue(u32 sortData[4], int sortVal[4], int startBit, int lIdx, __local u32_ ldsSortData, __local int *ldsSortVal)
                            ^
<program source>:711:57: warning: passing '__attribute**((address_space(3))) int [272]' to parameter of type '**attribute**((address_space(3))) u32 _' (aka '**attribute**((address_space(3))) unsigned int *') converts between pointers to integer types with different sign
                sort4Bits1KeyValue(sortData, sortVal, startBit, lIdx, ldsSortData, ldsSortVal);
                                                                      ^~~~~~~~~~~
<program source>:585:95: note: passing argument to parameter 'ldsSortData' here
void sort4Bits1KeyValue(u32 sortData[4], int sortVal[4], int startBit, int lIdx, __local u32_ ldsSortData, __local int *ldsSortVal)
                                                                                              ^
<program source>:677:6: warning: unused variable 'gIdx'
        u32 gIdx = GET_GLOBAL_IDX;
            ^
<program source>:680:6: warning: unused variable 'wgSize'
        u32 wgSize = GET_GROUP_SIZE;
            ^
<program source>:827:6: warning: unused variable 'gIdx'
        u32 gIdx = GET_GLOBAL_IDX;
            ^
<program source>:830:6: warning: unused variable 'wgSize'
        u32 wgSize = GET_GROUP_SIZE;
            ^
<program source>:871:6: warning: unused variable 'gIdx'
        u32 gIdx = GET_GLOBAL_IDX;
            ^
<program source>:874:6: warning: unused variable 'wgSize'
        u32 wgSize = GET_GROUP_SIZE;
            ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/jointSolver.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:206:6: warning: no previous prototype for function 'resolveSingleConstraintRowGeneric'
void resolveSingleConstraintRowGeneric(__global b3GpuSolverBody\* body1, __global b3GpuSolverBody\* body2, __global b3SolverConstraint\* c)
     ^
<program source>:382:6: warning: no previous prototype for function 'getSkewSymmetricMatrix'
void    getSkewSymmetricMatrix(float4 vecIn, __global float4\* v0,__global float4\* v1,__global float4\* v2)
        ^
<program source>:384:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        _v0 = (float4)(0.               ,-vecIn.z               ,vecIn.y,0.f);
                       ^
<program source>:385:26: warning: double precision constant requires cl_khr_fp64, casting to single precision
        *v1 = (float4)(vecIn.z  ,0.                     ,-vecIn.x,0.f);
                                 ^
<program source>:388:6: warning: no previous prototype for function 'getInfo2Point2Point'
void getInfo2Point2Point(__global b3GpuGenericConstraint_ constraint,b3GpuConstraintInfo2\* info,__global b3RigidBodyCL\* bodies)
     ^
<program source>:431:9: warning: incompatible pointer types initializing 'float _' with an expression of type '__float4 *'
        float_ resultPtr = &result;
               ^           ~~~~~~~
<program source>:437:12: warning: no previous prototype for function 'nearest'
Quaternion nearest( Quaternion first, Quaternion qd)
           ^
<program source>:447:7: warning: no previous prototype for function 'b3Acos'
float b3Acos(float x) 
      ^
<program source>:455:7: warning: no previous prototype for function 'getAngle'
float getAngle(Quaternion orn)
      ^
<program source>:462:6: warning: no previous prototype for function 'calculateDiffAxisAngleQuaternion'
void calculateDiffAxisAngleQuaternion( Quaternion orn0,Quaternion orn1a,float4\* axis,float\* angle)
     ^
<program source>:477:6: warning: no previous prototype for function 'getInfo2FixedOrientation'
void getInfo2FixedOrientation(__global b3GpuGenericConstraint\* constraint,b3GpuConstraintInfo2\* info,__global b3RigidBodyCL\* bodies, int start_row)
     ^
<program source>:503:9: warning: incompatible pointer types initializing 'float _' with an expression of type '__float4 *'
        float_ resultPtr = &diff;
               ^           ~~~~~
<program source>:621:7: warning: unused variable 'rowskip'
                int rowskip = sizeof(b3SolverConstraint)/sizeof(float);//check this
                    ^
<program source>:181:12: warning: unused function 'qtNormalize'
Quaternion qtNormalize(Quaternion in)
           ^

b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,89]:
warning
compiling kernel solveJointConstraintRows ready. 
compiling kernel initSolverBodies ready. 
compiling kernel getInfo1Kernel ready. 
compiling kernel initBatchConstraintsKernel ready. 
compiling kernel getInfo2Kernel ready. 
compiling kernel writeBackVelocitiesKernel ready. 
compiling kernel breakViolatedConstraintsKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.ATI Radeon HD 6750M.1.0.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
b3Warning[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,817]:
Cannot open cached binary: cache/solverUtils.cl.ATI Radeon HD 6750M.1.0.bin
b3Error[../../src/Bullet3OpenCL/Initialize/b3OpenCLUtils.cpp,82]:
Error: OpenCL Build Warning : Compiler build log:
<program source>:39:8: warning: no previous prototype for function 'b3Dot3F4'
        float b3Dot3F4(b3Float4ConstArg v0,b3Float4ConstArg v1)
              ^
<program source>:45:11: warning: no previous prototype for function 'b3Cross3'
        b3Float4 b3Cross3(b3Float4ConstArg v0,b3Float4ConstArg v1)
                 ^
<program source>:55:17: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                       ^
<program source>:55:37: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                           ^
<program source>:55:57: warning: double precision constant requires cl_khr_fp64, casting to single precision
        if(b3Fabs(v.x)>1e-6 || b3Fabs(v.y)>1e-6 || b3Fabs(v.z)>1e-6)  
                                                               ^
<program source>:86:26: warning: unknown OpenCL extension 'cl_amd_printf' - ignoring
#pragma OPENCL EXTENSION cl_amd_printf : enable
                         ^
<program source>:113:9: warning: 'make_float4' macro redefined
#define make_float4 (float4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3140:9: note: previous definition is here
#define make_float4(A,B,C,D) (float4)((A),(B),(C),(D))
        ^
<program source>:114:9: warning: 'make_float2' macro redefined
#define make_float2 (float2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3137:9: note: previous definition is here
#define make_float2(A,B) (float2)((A),(B))
        ^
<program source>:115:9: warning: 'make_uint4' macro redefined
#define make_uint4 (uint4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3121:9: note: previous definition is here
#define make_uint4(A,B,C,D) (uint4)((A),(B),(C),(D))
        ^
<program source>:116:9: warning: 'make_int4' macro redefined
#define make_int4 (int4)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3115:9: note: previous definition is here
#define make_int4(A,B,C,D) (int4)((A),(B),(C),(D))
        ^
<program source>:117:9: warning: 'make_uint2' macro redefined
#define make_uint2 (uint2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3119:9: note: previous definition is here
#define make_uint2(A,B) (uint2)((A),(B))
        ^
<program source>:118:9: warning: 'make_int2' macro redefined
#define make_int2 (int2)
        ^
/System/Library/Frameworks/OpenCL.framework/Resources/cl_kernel.h:3113:9: note: previous definition is here
#define make_int2(A,B) (int2)((A),(B))
        ^
<program source>:448:6: warning: no previous prototype for function 'setLinearAndAngular'
void setLinearAndAngular( float4 n, float4 r0, float4 r1, float4\* linear, float4\* angular0, float4\* angular1)
     ^
<program source>:454:7: warning: no previous prototype for function 'calcRelVel'
float calcRelVel( float4 l0, float4 l1, float4 a0, float4 a1, float4 linVel0, float4 angVel0, float4 linVel1, float4 angVel1 )
      ^
<program source>:458:7: warning: no previous prototype for function 'calcJacCoeff'
float calcJacCoeff(const float4 linear0, const float4 linear1, const float4 angular0, const float4 angular1,
      ^
<program source>:496:6: warning: no previous prototype for function 'solveContact'
void solveContact(**global Constraint4\* cs,
     ^
<program source>:543:6: warning: no previous prototype for function 'solveContactConstraint'
void solveContactConstraint(__global Body\* gBodies, __global Shape\* gShapes, __global Constraint4\* ldsCs, 
     ^
<program source>:607:6: warning: no previous prototype for function 'solveFrictionConstraint'
void solveFrictionConstraint(__global Body\* gBodies, __global Shape\* gShapes, __global Constraint4\* ldsCs,
     ^
<program source>:765:6: warning: no previous prototype for function 'setConstraint4'
void setConstraint4( const float4 posA, const float4 linVelA, const float4 angVelA, float invMassA, const Matrix3x3 invInertiaA,
     ^
<program source>:869:4: warning: passing 'const __attribute**((address_space(1))) struct b3Contact4Data _' to parameter of type '**attribute**((address_space(1))) struct b3Contact4Data *' discards qualifiers
                        &gContact[gIdx], dt, positionDrift, positionConstraintCoeff,countA,countB,
                        ^~~~~~~~~~~~~~~
<program source>:767:34: note: passing argument to parameter 'src' here
        __global struct b3Contact4Data_ src, float dt, float positionDrift, float positionConstraintCoeff,float countA, float countB,
                                        ^
<program source>:53:13: warning: unused function 'b3IsAlmostZero'
inline bool b3IsAlmostZero(b3Float4ConstArg v)
            ^
<program source>:77:12: warning: unused function 'b3Contact4Data_getNumPoints'
inline int b3Contact4Data_getNumPoints(const struct b3Contact4Data\* contact)
           ^
<program source>:81:13: warning: unused function 'b3Contact4Data_setNumPoints'
inline void b3Contact4Data_setNumPoints(struct b3Contact4Data\* contact, int numPoints)
            ^
<program source>:125:7: warning: unused function 'fastDiv'
float fastDiv(float numerator, float denominator)
      ^
<program source>:131:8: warning: unused function 'fastDiv4'
float4 fastDiv4(float4 numerator, float4 denominator)
       ^
<program source>:136:7: warning: unused function 'fastSqrtf'
float fastSqrtf(float f2)
      ^
<program source>:142:7: warning: unused function 'fastRSqrt'
float fastRSqrt(float f2)
      ^
<program source>:147:7: warning: unused function 'fastLength4'
float fastLength4(float4 v)
      ^
<program source>:179:7: warning: unused function 'length3'
float length3(const float4 a)
      ^
<program source>:190:7: warning: unused function 'dot3w1'
float dot3w1(const float4 point, const float4 eqn)
      ^
<program source>:203:8: warning: unused function 'normalize4'
float4 normalize4(const float4 a)
       ^
<program source>:209:8: warning: unused function 'createEquation'
float4 createEquation(const float4 a, const float4 b, const float4 c)
       ^
<program source>:238:11: warning: unused function 'mtZero'
Matrix3x3 mtZero()
          ^
<program source>:247:11: warning: unused function 'mtIdentity'
Matrix3x3 mtIdentity()
          ^
<program source>:265:11: warning: unused function 'mtMul'
Matrix3x3 mtMul(Matrix3x3 a, Matrix3x3 b)
          ^
<program source>:329:12: warning: unused function 'qtNormalize'
Quaternion qtNormalize(Quaternion in)
           ^
<program source>:350:8: warning: unused function 'qtInvRotate'
float4 qtInvRotate(const Quaternion q, float4 vec)
       ^
",kernel compile part part gnu apple version wed copyright free foundation free covered gnu general public license welcome change distribute certain type show see absolutely warranty type show warranty symbol table loaded use file command unsigned pending reading done starting program reading done pending unsigned resolved reading done reading done reading done reading done reading done reading done reading done reading done main renderer engine version reading done kernel error build warning compiler build log program source warning double precision constant casting single precision float float float float unsigned float float float body void float warning ready open binary bin error build warning compiler build log program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning macro define float note previous definition define float program source warning previous prototype function bool program source warning unused variable program source warning previous prototype function bool program source warning unused variable program source warning previous prototype function bool program source warning unused variable program source warning unused variable program source warning previous prototype function bool program source warning unused variable program source warning previous prototype function bool program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable float program source warning unused variable float program source warning unused variable program source warning unused variable float program source warning unused variable float program source warning unused variable program source warning unused variable float program source warning unused variable float program source warning unused variable program source warning unused variable float program source warning unused variable program source warning unused variable program source warning unused variable float program source warning unused variable float program source warning unused function bool program source warning unused function float float program source warning unused function program source warning unused function float program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function quaternion quaternion warning kernel ready kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning unknown extension extension enable program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning macro define float note previous definition define float program source warning macro define float note previous definition define float program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning previous prototype function float float program source warning previous prototype function float float program source warning previous prototype function float program source warning previous prototype function float program source warning previous prototype function float program source warning previous prototype function float program source warning previous prototype function float program source warning previous prototype function float program source warning previous prototype function float program source warning previous prototype function void float quaternion program source warning previous prototype function void float quaternion program source warning double precision constant casting single precision program source warning unused variable float program source warning incompatible pointer passing parameter type program source note passing argument parameter program source warning incompatible pointer passing parameter type aka program source note passing argument parameter program source warning incompatible pointer passing parameter type program source note passing argument parameter program source warning unused variable bool overlap false program source warning unused variable float program source warning unused variable program source warning previous prototype function float program source warning previous prototype function program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused function bool program source warning unused function contact program source warning unused function void contact program source warning unused function float float program source warning unused function program source warning unused function float program source warning unused function point translation orientation program source warning unused function quat program source warning unused function matin program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function program source warning unused function float float numerator float denominator program source warning unused function float float numerator float denominator program source warning unused function quaternion quaternion program source warning unused function float quaternion float warning kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function void unsigned float point float float float warning kernel ready open binary bin error build warning compiler build log program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning unknown extension extension enable program source warning macro define float note previous definition define float program source warning macro define float note previous definition define float program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning previous prototype function void float quaternion program source warning previous prototype function void float quaternion program source warning previous prototype function float float point float program source warning comparison different unsigned program source warning previous prototype function void program source warning unused variable float program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision float program source warning unused variable program source warning unused variable program source warning previous prototype function void program source warning double precision constant casting single precision program source warning unused variable float program source warning unused variable float program source warning unused variable float program source warning unused variable float program source warning unused variable float program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning previous prototype function bool vertex normal float program source warning previous prototype function float float float float nearest program source warning previous prototype function void program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused function bool program source warning unused function contact program source warning unused function void contact program source warning unused function float float numerator float denominator program source warning unused function float float numerator float denominator program source warning unused function quaternion quaternion program source warning unused function float quaternion float program source warning unused function float lerp float float float warning kernel ready kernel ready kernel ready open binary bin open binary bin error build warning compiler build log program source warning comparison different program source warning comparison different warning kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning previous prototype function data program source warning comparison different aka offset program source warning comparison different program source warning comparison different program source warning comparison different program source warning comparison different program source warning comparison different program source warning comparison different program source warning comparison different warning kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning unknown extension extension enable program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define warning kernel ready kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning previous prototype function data program source warning previous prototype function local program source warning previous prototype function program source warning previous prototype function program source warning previous prototype function key return key program source warning previous prototype function program source warning comparison different aka program source warning unused variable program source warning unused variable program source warning comparison different aka program source warning unused variable program source warning unused variable program source warning comparison different program source warning unused variable program source warning previous prototype function void program source warning previous prototype function void program source warning unused variable program source warning unused variable program source warning previous prototype function void program source warning passing parameter type aka integer different sign program source note passing argument parameter void program source warning passing parameter type attribute aka attribute unsigned integer different sign program source note passing argument parameter void program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable program source warning unused variable warning kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning previous prototype function void body body program source warning previous prototype function void float program source warning double precision constant casting single precision float program source warning double precision constant casting single precision float program source warning previous prototype function void constraint program source warning incompatible pointer expression type result program source warning previous prototype function quaternion nearest quaternion first quaternion program source warning previous prototype function float float program source warning previous prototype function float quaternion program source warning previous prototype function void quaternion quaternion orna axis angle program source warning previous prototype function void constraint program source warning incompatible pointer expression type program source warning unused variable float program source warning unused function quaternion quaternion warning kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready successfully binary bin kernel ready kernel ready kernel ready kernel ready open binary bin error build warning compiler build log program source warning previous prototype function float program source warning previous prototype function program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning double precision constant casting single precision program source warning unknown extension extension enable program source warning macro define float note previous definition define float program source warning macro define float note previous definition define float program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning macro define note previous definition define program source warning previous prototype function void float float float linear angular angular program source warning previous prototype function float float float float float float float float float program source warning previous prototype function float float linear float linear float angular float angular program source warning previous prototype function void global program source warning previous prototype function void program source warning previous prototype function void program source warning previous prototype function void float float float float program source warning passing parameter type attribute program source note passing argument parameter float float float float float program source warning unused function bool program source warning unused function contact program source warning unused function void contact program source warning unused function float float numerator float denominator program source warning unused function float float numerator float denominator program source warning unused function float float program source warning unused function float float program source warning unused function float float program source warning unused function float length float program source warning unused function float float point float program source warning unused function float normalize float program source warning unused function float float float float program source warning unused function program source warning unused function program source warning unused function program source warning unused function quaternion quaternion program source warning unused function float quaternion float,issue,negative,negative,neutral,neutral,negative,negative
29062314,"Thanks for looking into this. Let me know if I can help with anything. First I though it erroneously used the integrated card instead of the NVidia one, but it is not case.
",thanks looking let know help anything first though erroneously used card instead one case,issue,positive,negative,neutral,neutral,negative,negative
29016694,"Steven, can you share some OpenCL sample(s) that run with similar performance on Mac OSX and Windows?
I am running my tests on Mavericks, 10.9 by the way. My experience with Mac OSX OpenCL is that there are many issues, both in compilation (large kernels silently fail) and in performance.
",steven share sample run similar performance mac running way experience mac many compilation large silently fail performance,issue,negative,positive,neutral,neutral,positive,positive
29015885,"There is something up with that... ive got plenty of OpenCL code running on Windows and OSX and im not getting 20x slowdown. I do agree there is a slight performance degradation running on OSX, but not 20x. Ive heard mavericks is providing a little better performance and supporting more devices,

EDIT: i should read more carefully, ;-)... definitely looks like the issue is on your GPU. 
",something got plenty code running getting slowdown agree slight performance degradation running providing little better performance supporting edit read carefully definitely like issue,issue,positive,positive,neutral,neutral,positive,positive
29011507,"OpenCL for NVIDIA on Mac OSX is terrible. Using the same hardware, Windows OpenCL runs much faster. Still your performance is even worse then on my Macbook Retina 15"" with NVIDIA 650m (first generation):
Timings for 'stepSimulation':

Your NVIDIA 650m on Mac OSX using a grid of 10x10x10 ~300ms 
My NVIDIA 650m on Mac OSX using a grid of 10x10x10 ~90ms
My NVIDIA 650m on Windows 8 using a grid of 10x10x10  ~15ms
My NVIDIA 650m on Windows 8 using a grid of 30x30x30  ~140 ms
So your setup is more than 20 times slower than the same GPU under Windows...
Now, Bullet 3 is created for high-end discrete GPU, as you can read in the readme.txt (front page)
My AMD Radeon 7970 GPU on Windows using a grid of 10x10x10  ~6ms (under-utilized compute units)
My AMD Radeon 7970 GPU on Windows using a grid of 30x30x30  ~22ms
My AMD Radeon 7970 GPU on Windows using a grid of 40x40x40  ~48ms

I am using latest git repo, and additional command-line parameters:
App_Bullet... --use_uniform_grid --use_large_batches --benchmark --x_dim=... --y_dim=... --z_dim=....

So Steven: although a high-end desktop GPU is recommended, the OpenCL performance on Mac OSX is terrible compared to Windows.
",mac terrible hardware much faster still performance even worse retina first generation mac grid mac grid grid grid setup time bullet discrete read front page grid compute grid grid latest git additional steven although performance mac terrible,issue,negative,negative,negative,negative,negative,negative
29009747,"Ive seen similar performance, but this is expected on mobile GPUs... the number of compute cores is relatively low on your mobile GPU (192 per SMX).

Ive seen code highly optimized towards the return value of CL_DEVICE_MAX_COMPUTE_UNITS, and in your case this value is two. You could look at some of the kernels to make sure the SMXs are fully utilized... could be some bad choices for work dimensions that are causing issues.

That said, I believe the code is really targeting desktop GPUs...

You could try some smaller sim sizes,
",seen similar performance mobile number compute relatively low mobile per seen code highly towards return value case value two could look make sure fully could bad work causing said believe code really could try smaller size,issue,negative,positive,neutral,neutral,positive,positive
28913737,"The source code compile and runs without issue on my Ubuntu 13.04 machine, with a recent Radeon GPU (7970 etc). Unfortunately I don't have the time to fix other peoples configurations at the moment, perhaps next year.
",source code compile without issue machine recent unfortunately time fix moment perhaps next year,issue,negative,negative,negative,negative,negative,negative
28842550,"Just noticed there were some build errors in my log with debug64.
Unlike usual makefiles, it went on compiling, so I didn't notice that.

 make config=debug64 -j4
==== Building gwen (debug64) ====
==== Building Bullet2FileLoader (debug64) ====
==== Building Bullet3OpenCL_clew (debug64) ====
==== Building Bullet3Dynamics (debug64) ====
==== Building Bullet3Collision (debug64) ====
==== Building Bullet3Geometry (debug64) ====
==== Building Bullet3Common (debug64) ====
==== Building App_ImplicitCloth (debug64) ====
==== Building App_SimpleOpenGL3 (debug64) ====
Linking App_ImplicitCloth
==== Building Test_clew (debug64) ====
==== Building Test_OpenCL_intialize_clew (debug64) ====
==== Building Test_OpenCL_kernel_launch_clew (debug64) ====
==== Building Test_OpenCL_Primitives_clew (debug64) ====
==== Building Test_OpenCL_RadixSortBenchmark_clew (debug64) ====
==== Building Test_BitonicSort_clew (debug64) ====
Creating obj/x64/Debug/Test_OpenCL_Primitives_clew
Creating obj/x64/Debug/Test_BitonicSort_clew
Creating obj/x64/Debug/Test_OpenCL_RadixSortBenchmark_clew
clew.c
clew.c
clew.c
main.cpp
main.cpp
main.cpp
obj/x64/Debug/App_ImplicitCloth/Cloth.o: In function `ClothDrawSprings(Cloth*)':
/home/scrawl/Dev/bullet4/build3/gmake/../../Demos3/ImplicitCloth/stan/Cloth.cpp:78: undefined reference to`Line(vec3<float> const&, vec3<float> const&, vec3<float> const&)'
collect2: error: ld returned 1 exit status
make[1]: **\* [../../bin/App_ImplicitCloth_gmake_x64_debug] Error 1
make: **\* [App_ImplicitCloth] Error 2
make: **\* Waiting for unfinished jobs....
b3OpenCLUtils.cpp
b3BitonicSort.cpp
b3AlignedAllocator.cpp
b3OpenCLUtils.cpp
b3Logging.cpp
b3FillCL.cpp
b3Clock.cpp
Linking Test_BitonicSort_clew
b3OpenCLUtils.cpp
b3BoundSearchCL.cpp
b3FillCL.cpp
b3PrefixScanCL.cpp
b3PrefixScanCL.cpp
b3RadixSort32CL.cpp
b3RadixSort32CL.cpp
b3LauncherCL.cpp
b3LauncherCL.cpp
b3AlignedAllocator.cpp
b3AlignedAllocator.cpp
b3Logging.cpp
b3Logging.cpp
b3Quickprof.cpp
b3Clock.cpp
Linking Test_OpenCL_Primitives_clew
Linking Test_OpenCL_RadixSortBenchmark_clew
",build log unlike usual went notice make building building building building building building building building building linking building building building building building building function cloth undefined reference line float float float collect error returned exit status make error make error make waiting unfinished linking linking linking,issue,negative,negative,negative,negative,negative,negative
28841721,"Who the hell added a Close button next to the Comment button? Insane user interface designer at github.
",hell added close button next comment button insane user interface designer,issue,negative,negative,negative,negative,negative,negative
28841623,"Please figure out why SelectedDemo=0, while it should be 1, around line 103
in main_opengl3core.cpp.
Also, remove bin (make clean, rm -rf bin) and rm -rf cache (if cache exists)

On 19 November 2013 14:13, scrawl notifications@github.com wrote:

> scrawl-desktop:~/Dev/bullet3[master]$ git diff
> scrawl-desktop:~/Dev/bullet3[master]$
> 
> —
> Reply to this email directly or view it on GitHubhttps://github.com/erwincoumans/bullet3/issues/23#issuecomment-28841450
> .
",please figure around line also remove bin make clean bin cache cache scrawl wrote master git master reply directly view,issue,positive,positive,positive,positive,positive,positive
28841397,"Something went wrong, because SelectedDemo=0 but an unmodified github clone should have SelectedDemo=1
Can you double check that you have no changes (git diff=0)?
",something went wrong unmodified clone double check git,issue,negative,negative,negative,negative,negative,negative
28840285,"```
scrawl-desktop:~/Dev/bullet3[master]$ gdb ./bin/App_Bullet3_OpenCL_Demos_clew_gmake_x64_debug
GNU gdb (GDB) 7.6.1
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type ""show copying""
and ""show warranty"" for details.
This GDB was configured as ""x86_64-unknown-linux-gnu"".
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>...
Reading symbols from /home/scrawl/Dev/bullet3/bin/App_Bullet3_OpenCL_Demos_clew_gmake_x64_debug...done.
(gdb) run --disable_shadowmap --shadowmap_size=1024
Starting program: /home/scrawl/Dev/bullet3/./bin/App_Bullet3_OpenCL_Demos_clew_gmake_x64_debug --disable_shadowmap --shadowmap_size=1024
[Thread debugging using libthread_db enabled]
Using host libthread_db library ""/lib/x86_64-linux-gnu/libthread_db.so.1"".
main start
    visual 0x27 selected
GL_VENDOR=NVIDIA Corporation
GL_RENDERER=GeForce GTX 560 Ti/PCIe/SSE2
GL_VERSION=4.3.0 NVIDIA 319.32
GL_SHADING_LANGUAGE_VERSION=4.30 NVIDIA via Cg compiler
-----------------------------------------------------
started GwenUserInterfaceinit fontsclewInit succesfull using libOpenCL.so.1
numDevices=1
[New Thread 0x7fffe5d96700 (LWP 30365)]
[New Thread 0x7fffe488f700 (LWP 30366)]
[New Thread 0x7fffe408e700 (LWP 30367)]
[New Thread 0x7fffe388d700 (LWP 30368)]
[New Thread 0x7fffe308c700 (LWP 30369)]
[New Thread 0x7fffe288b700 (LWP 30370)]
compiling kernel copyTransformsToVBOKernel ready. 
clBuildProgram successfully compiled cached binary: cache/sat.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel findSeparatingAxisKernel ready. 
compiling kernel findConcaveSeparatingAxisKernel ready. 
compiling kernel findCompoundPairsKernel ready. 
compiling kernel processCompoundPairsKernel ready. 
clBuildProgram successfully compiled cached binary: cache/satClipHullContacts.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel clipHullHullKernel ready. 
compiling kernel clipCompoundsHullHullKernel ready. 
compiling kernel findClippingFacesKernel ready. 
compiling kernel clipFacesAndContactReductionKernel ready. 
compiling kernel clipHullHullConcaveConvexKernel ready. 
compiling kernel extractManifoldAndAddContactKernel ready. 
compiling kernel newContactReductionKernel ready. 
clBuildProgram successfully compiled cached binary: cache/bvhTraversal.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel bvhTraversalKernel ready. 
clBuildProgram successfully compiled cached binary: cache/primitiveContacts.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel primitiveContactsKernel ready. 
compiling kernel findConcaveSphereContactsKernel ready. 
compiling kernel processCompoundPairsPrimitivesKernel ready. 
clBuildProgram successfully compiled cached binary: cache/sap.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/sapFast.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/PrefixScanFloat4Kernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
compiling kernel computePairsKernelTwoArrays ready. 
compiling kernel prepareSumVarianceKernel ready. 
compiling kernel computePairsIncremental3dSapKernel ready. 
compiling kernel computePairsKernel ready. 
compiling kernel flipFloatKernel ready. 
compiling kernel copyAabbsKernel ready. 
compiling kernel scatterKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/jointSolver.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel solveJointConstraintRows ready. 
compiling kernel initSolverBodies ready. 
compiling kernel getInfo1Kernel ready. 
compiling kernel initBatchConstraintsKernel ready. 
compiling kernel getInfo2Kernel ready. 
compiling kernel writeBackVelocitiesKernel ready. 
compiling kernel breakViolatedConstraintsKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/solverUtils.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CountBodiesKernel ready. 
compiling kernel ContactToConstraintSplitKernel ready. 
compiling kernel ClearVelocitiesKernel ready. 
compiling kernel AverageVelocitiesKernel ready. 
compiling kernel UpdateBodyVelocitiesKernel ready. 
compiling kernel SolveContactJacobiKernel ready. 
compiling kernel SolveFrictionJacobiKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/BoundSearchKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel SearchSortDataLowerKernel ready. 
compiling kernel SearchSortDataUpperKernel ready. 
compiling kernel SubtractKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/solveContact.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solveFriction.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup2.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel BatchSolveKernelFriction ready. 
compiling kernel BatchSolveKernelContact ready. 
compiling kernel ContactToConstraintKernel ready. 
compiling kernel SetSortDataKernel ready. 
compiling kernel ReorderContactKernel ready. 
compiling kernel CopyConstraintKernel ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CreateBatches ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernelsNew.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CreateBatchesNew ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/BoundSearchKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel SearchSortDataLowerKernel ready. 
compiling kernel SearchSortDataUpperKernel ready. 
compiling kernel SubtractKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/solveContact.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solveFriction.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup2.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel BatchSolveKernelFriction ready. 
compiling kernel BatchSolveKernelContact ready. 
compiling kernel ContactToConstraintKernel ready. 
compiling kernel SetSortDataKernel ready. 
compiling kernel SetDeterminismSortDataBodyA ready. 
compiling kernel SetDeterminismSortDataBodyB ready. 
compiling kernel SetDeterminismSortDataChildShapeA ready. 
compiling kernel SetDeterminismSortDataChildShapeB ready. 
compiling kernel ReorderContactKernel ready. 
compiling kernel CopyConstraintKernel ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CreateBatches ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernelsNew.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CreateBatchesNew ready. 
clBuildProgram successfully compiled cached binary: cache/rayCastKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel rayCastKernel ready. 
clBuildProgram successfully compiled cached binary: cache/integrateKernel.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel integrateTransformsKernel ready. 
clBuildProgram successfully compiled cached binary: cache/updateAabbsKernel.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel initializeGpuAabbsFull ready. 
-----------------------------------------------------
Demo settings:
  SelectedDemo=0, demoname = BoxTrimesh
  x_dim=30, y_dim=30, z_dim=30
  x_gap=16.299999, y_gap=6.300000, z_gap=16.299999

OpenCL settings:
  Preferred cl_device index -1
  Preferred cl_platform index-1

Platform info:
  CL_PLATFORM_VENDOR:           NVIDIA Corporation
  CL_PLATFORM_NAME:             NVIDIA CUDA
  CL_PLATFORM_VERSION:          OpenCL 1.1 CUDA 4.2.1

Device Info:
  CL_DEVICE_NAME:           GeForce GTX 560 Ti
  CL_DEVICE_VENDOR:             NVIDIA Corporation
  CL_DRIVER_VERSION:            319.32
  CL_DEVICE_TYPE:           CL_DEVICE_TYPE_GPU
  CL_DEVICE_MAX_COMPUTE_UNITS:      8
  CL_DEVICE_MAX_WORK_ITEM_DIMENSIONS:   3
  CL_DEVICE_MAX_WORK_ITEM_SIZES:    1024 / 1024 / 64 
  CL_DEVICE_MAX_WORK_GROUP_SIZE:    1024
  CL_DEVICE_MAX_CLOCK_FREQUENCY:    1800 MHz
  CL_DEVICE_ADDRESS_BITS:       32
  CL_DEVICE_MAX_MEM_ALLOC_SIZE:     255 MByte
  CL_DEVICE_GLOBAL_MEM_SIZE:        1023 MByte
  CL_DEVICE_ERROR_CORRECTION_SUPPORT:   no
  CL_DEVICE_LOCAL_MEM_TYPE:     local
  CL_DEVICE_LOCAL_MEM_SIZE:     48 KByte
  CL_DEVICE_MAX_CONSTANT_BUFFER_SIZE:   64 KByte
  CL_DEVICE_QUEUE_PROPERTIES:       CL_QUEUE_OUT_OF_ORDER_EXEC_MODE_ENABLE
  CL_DEVICE_QUEUE_PROPERTIES:       CL_QUEUE_PROFILING_ENABLE
  CL_DEVICE_IMAGE_SUPPORT:      1
  CL_DEVICE_MAX_READ_IMAGE_ARGS:    128
  CL_DEVICE_MAX_WRITE_IMAGE_ARGS:   8

  CL_DEVICE_IMAGE <dim>         2D_MAX_WIDTH     32768
                    2D_MAX_HEIGHT    32768
                    3D_MAX_WIDTH     2048
                    3D_MAX_HEIGHT    2048
                    3D_MAX_DEPTH     2048

  CL_DEVICE_EXTENSIONS:cl_khr_byte_addressable_store cl_khr_icd cl_khr_gl_sharing cl_nv_compiler_options cl_nv_device_attribute_query cl_nv_pragma_unroll  cl_khr_global_int32_base_atomics cl_khr_global_int32_extended_atomics cl_khr_local_int32_base_atomics cl_khr_local_int32_extended_atomics cl_khr_fp64 
  CL_DEVICE_PREFERRED_VECTOR_WIDTH_<t>  CHAR 1, SHORT 1, INT 1,LONG 1, FLOAT 1, DOUBLE 1




Program received signal SIGSEGV, Segmentation fault.
0x0000000000000000 in ?? ()
(gdb) bt
#0  0x0000000000000000 in ?? ()
#1  0x000000000044484c in GLInstancingRenderer::renderSceneInternal (this=0xbe3af0, renderMode=1) at ../../btgui/OpenGLWindow/GLInstancingRenderer.cpp:1724
#2  0x0000000000443030 in GLInstancingRenderer::renderScene (this=0xbe3af0) at ../../btgui/OpenGLWindow/GLInstancingRenderer.cpp:1295
#3  0x0000000000424a9e in GpuRigidBodyDemo::renderScene (this=0xb6a120) at ../../Demos3/GpuDemos/rigidbody/GpuRigidBodyDemo.cpp:177
#4  0x0000000000411399 in main (argc=3, argv=0x7fffffffe608) at ../../Demos3/GpuDemos/main_opengl3core.cpp:971
```
",master gnu copyright free foundation license gnu version later free free change redistribute warranty extent permitted law type show show warranty bug please see reading done run starting program thread host library main start visual selected corporation via compiler new thread new thread new thread new thread new thread new thread kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin successfully binary ti bin successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin successfully binary ti bin successfully binary ti bin successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin successfully binary ti bin successfully binary ti bin successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready preferred index preferred platform corporation device ti corporation local dim char short long float double program received signal segmentation fault main,issue,positive,positive,positive,positive,positive,positive
28840121,"Can you please provide the full output, when using --disable_shadowmap --shadowmap_size=1024
",please provide full output,issue,negative,positive,positive,positive,positive,positive
28839788,"Both options didn't change anything. (also I'm certain I have 4k render textures)
",change anything also certain render,issue,negative,positive,positive,positive,positive,positive
28839641,"It might be that the shadow map is too large. Can you try to play with some of the following options:
--disable_shadowmap
--shadowmap_size=1024
thanks for testing
",might shadow map large try play following thanks testing,issue,positive,positive,positive,positive,positive,positive
28839219,"Here you go (symbols worked this time)

```
gdb ./bin/App_Bullet3_OpenCL_Demos_clew_gmake_x64_debug
GNU gdb (GDB) 7.6.1
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type ""show copying""
and ""show warranty"" for details.
This GDB was configured as ""x86_64-unknown-linux-gnu"".
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>...
Reading symbols from /home/scrawl/Dev/bullet3/bin/App_Bullet3_OpenCL_Demos_clew_gmake_x64_debug...rdone.
(gdb) run --debug_kernel_launch
Starting program: /home/scrawl/Dev/bullet3/./bin/App_Bullet3_OpenCL_Demos_clew_gmake_x64_debug --debug_kernel_launch
[Thread debugging using libthread_db enabled]
Using host libthread_db library ""/lib/x86_64-linux-gnu/libthread_db.so.1"".
main start
    visual 0x27 selected
GL_VENDOR=NVIDIA Corporation
GL_RENDERER=GeForce GTX 560 Ti/PCIe/SSE2
GL_VERSION=4.3.0 NVIDIA 319.32
GL_SHADING_LANGUAGE_VERSION=4.30 NVIDIA via Cg compiler
-----------------------------------------------------
started GwenUserInterfaceinit fontsclewInit succesfull using libOpenCL.so.1
numDevices=1
[New Thread 0x7fffe5d96700 (LWP 28104)]
[New Thread 0x7fffe488f700 (LWP 28105)]
[New Thread 0x7fffe408e700 (LWP 28106)]
[New Thread 0x7fffe388d700 (LWP 28107)]
[New Thread 0x7fffe308c700 (LWP 28108)]
[New Thread 0x7fffe288b700 (LWP 28109)]
compiling kernel copyTransformsToVBOKernel ready. 
clBuildProgram successfully compiled cached binary: cache/sat.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel findSeparatingAxisKernel ready. 
compiling kernel findConcaveSeparatingAxisKernel ready. 
compiling kernel findCompoundPairsKernel ready. 
compiling kernel processCompoundPairsKernel ready. 
clBuildProgram successfully compiled cached binary: cache/satClipHullContacts.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel clipHullHullKernel ready. 
compiling kernel clipCompoundsHullHullKernel ready. 
compiling kernel findClippingFacesKernel ready. 
compiling kernel clipFacesAndContactReductionKernel ready. 
compiling kernel clipHullHullConcaveConvexKernel ready. 
compiling kernel extractManifoldAndAddContactKernel ready. 
compiling kernel newContactReductionKernel ready. 
clBuildProgram successfully compiled cached binary: cache/bvhTraversal.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel bvhTraversalKernel ready. 
clBuildProgram successfully compiled cached binary: cache/primitiveContacts.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel primitiveContactsKernel ready. 
compiling kernel findConcaveSphereContactsKernel ready. 
compiling kernel processCompoundPairsPrimitivesKernel ready. 
clBuildProgram successfully compiled cached binary: cache/sap.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/sapFast.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/PrefixScanFloat4Kernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
compiling kernel computePairsKernelTwoArrays ready. 
compiling kernel prepareSumVarianceKernel ready. 
compiling kernel computePairsIncremental3dSapKernel ready. 
compiling kernel computePairsKernel ready. 
compiling kernel flipFloatKernel ready. 
compiling kernel copyAabbsKernel ready. 
compiling kernel scatterKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/jointSolver.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel solveJointConstraintRows ready. 
compiling kernel initSolverBodies ready. 
compiling kernel getInfo1Kernel ready. 
compiling kernel initBatchConstraintsKernel ready. 
compiling kernel getInfo2Kernel ready. 
compiling kernel writeBackVelocitiesKernel ready. 
compiling kernel breakViolatedConstraintsKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/solverUtils.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CountBodiesKernel ready. 
compiling kernel ContactToConstraintSplitKernel ready. 
compiling kernel ClearVelocitiesKernel ready. 
compiling kernel AverageVelocitiesKernel ready. 
compiling kernel UpdateBodyVelocitiesKernel ready. 
compiling kernel SolveContactJacobiKernel ready. 
compiling kernel SolveFrictionJacobiKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/BoundSearchKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel SearchSortDataLowerKernel ready. 
compiling kernel SearchSortDataUpperKernel ready. 
compiling kernel SubtractKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/solveContact.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solveFriction.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup2.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel BatchSolveKernelFriction ready. 
compiling kernel BatchSolveKernelContact ready. 
compiling kernel ContactToConstraintKernel ready. 
compiling kernel SetSortDataKernel ready. 
compiling kernel ReorderContactKernel ready. 
compiling kernel CopyConstraintKernel ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CreateBatches ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernelsNew.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CreateBatchesNew ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/RadixSort32Kernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel StreamCountSortDataKernel ready. 
compiling kernel StreamCountKernel ready. 
compiling kernel SortAndScatterSortDataKernel ready. 
compiling kernel SortAndScatterKernel ready. 
compiling kernel PrefixScanKernel ready. 
clBuildProgram successfully compiled cached binary: cache/PrefixScanKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel LocalScanKernel ready. 
compiling kernel TopLevelScanKernel ready. 
compiling kernel AddOffsetKernel ready. 
clBuildProgram successfully compiled cached binary: cache/BoundSearchKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel SearchSortDataLowerKernel ready. 
compiling kernel SearchSortDataUpperKernel ready. 
compiling kernel SubtractKernel ready. 
clBuildProgram successfully compiled cached binary: cache/FillKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel FillIntKernel ready. 
compiling kernel FillUnsignedIntKernel ready. 
compiling kernel FillFloatKernel ready. 
compiling kernel FillInt2Kernel ready. 
clBuildProgram successfully compiled cached binary: cache/solveContact.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solveFriction.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup2.cl.GeForce GTX 560 Ti.319.32.bin
clBuildProgram successfully compiled cached binary: cache/solverSetup.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel BatchSolveKernelFriction ready. 
compiling kernel BatchSolveKernelContact ready. 
compiling kernel ContactToConstraintKernel ready. 
compiling kernel SetSortDataKernel ready. 
compiling kernel SetDeterminismSortDataBodyA ready. 
compiling kernel SetDeterminismSortDataBodyB ready. 
compiling kernel SetDeterminismSortDataChildShapeA ready. 
compiling kernel SetDeterminismSortDataChildShapeB ready. 
compiling kernel ReorderContactKernel ready. 
compiling kernel CopyConstraintKernel ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CreateBatches ready. 
clBuildProgram successfully compiled cached binary: cache/batchingKernelsNew.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel CreateBatchesNew ready. 
clBuildProgram successfully compiled cached binary: cache/rayCastKernels.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel rayCastKernel ready. 
clBuildProgram successfully compiled cached binary: cache/integrateKernel.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel integrateTransformsKernel ready. 
clBuildProgram successfully compiled cached binary: cache/updateAabbsKernel.cl.GeForce GTX 560 Ti.319.32.bin
compiling kernel initializeGpuAabbsFull ready. 
-----------------------------------------------------
Demo settings:
  SelectedDemo=0, demoname = BoxTrimesh
  x_dim=30, y_dim=30, z_dim=30
  x_gap=16.299999, y_gap=6.300000, z_gap=16.299999

OpenCL settings:
  Preferred cl_device index -1
  Preferred cl_platform index-1

Platform info:
  CL_PLATFORM_VENDOR:           NVIDIA Corporation
  CL_PLATFORM_NAME:             NVIDIA CUDA
  CL_PLATFORM_VERSION:          OpenCL 1.1 CUDA 4.2.1

Device Info:
  CL_DEVICE_NAME:           GeForce GTX 560 Ti
  CL_DEVICE_VENDOR:             NVIDIA Corporation
  CL_DRIVER_VERSION:            319.32
  CL_DEVICE_TYPE:           CL_DEVICE_TYPE_GPU
  CL_DEVICE_MAX_COMPUTE_UNITS:      8
  CL_DEVICE_MAX_WORK_ITEM_DIMENSIONS:   3
  CL_DEVICE_MAX_WORK_ITEM_SIZES:    1024 / 1024 / 64 
  CL_DEVICE_MAX_WORK_GROUP_SIZE:    1024
  CL_DEVICE_MAX_CLOCK_FREQUENCY:    1800 MHz
  CL_DEVICE_ADDRESS_BITS:       32
  CL_DEVICE_MAX_MEM_ALLOC_SIZE:     255 MByte
  CL_DEVICE_GLOBAL_MEM_SIZE:        1023 MByte
  CL_DEVICE_ERROR_CORRECTION_SUPPORT:   no
  CL_DEVICE_LOCAL_MEM_TYPE:     local
  CL_DEVICE_LOCAL_MEM_SIZE:     48 KByte
  CL_DEVICE_MAX_CONSTANT_BUFFER_SIZE:   64 KByte
  CL_DEVICE_QUEUE_PROPERTIES:       CL_QUEUE_OUT_OF_ORDER_EXEC_MODE_ENABLE
  CL_DEVICE_QUEUE_PROPERTIES:       CL_QUEUE_PROFILING_ENABLE
  CL_DEVICE_IMAGE_SUPPORT:      1
  CL_DEVICE_MAX_READ_IMAGE_ARGS:    128
  CL_DEVICE_MAX_WRITE_IMAGE_ARGS:   8

  CL_DEVICE_IMAGE <dim>         2D_MAX_WIDTH     32768
                    2D_MAX_HEIGHT    32768
                    3D_MAX_WIDTH     2048
                    3D_MAX_HEIGHT    2048
                    3D_MAX_DEPTH     2048

  CL_DEVICE_EXTENSIONS:cl_khr_byte_addressable_store cl_khr_icd cl_khr_gl_sharing cl_nv_compiler_options cl_nv_device_attribute_query cl_nv_pragma_unroll  cl_khr_global_int32_base_atomics cl_khr_global_int32_extended_atomics cl_khr_local_int32_base_atomics cl_khr_local_int32_extended_atomics cl_khr_fp64 
  CL_DEVICE_PREFERRED_VECTOR_WIDTH_<t>  CHAR 1, SHORT 1, INT 1,LONG 1, FLOAT 1, DOUBLE 1




Program received signal SIGSEGV, Segmentation fault.
0x0000000000000000 in ?? ()
(gdb) bt
#0  0x0000000000000000 in ?? ()
#1  0x0000000000448a0a in GLRenderToTexture::init (this=0x1ded1b0, width=8192, height=8192, textureId=6, renderTextureType=2) at ../../btgui/OpenGLWindow/GLRenderToTexture.cpp:36
#2  0x0000000000443d2e in GLInstancingRenderer::renderSceneInternal (this=0xbe3a10, renderMode=2) at ../../btgui/OpenGLWindow/GLInstancingRenderer.cpp:1536
#3  0x0000000000443002 in GLInstancingRenderer::renderScene (this=0xbe3a10) at ../../btgui/OpenGLWindow/GLInstancingRenderer.cpp:1289
#4  0x0000000000424a9e in GpuRigidBodyDemo::renderScene (this=0xb6a040) at ../../Demos3/GpuDemos/rigidbody/GpuRigidBodyDemo.cpp:177
#5  0x0000000000411399 in main (argc=2, argv=0x7fffffffe618) at ../../Demos3/GpuDemos/main_opengl3core.cpp:971
(gdb) 
```
",go worked time gnu copyright free foundation license gnu version later free free change redistribute warranty extent permitted law type show show warranty bug please see reading run starting program thread host library main start visual selected corporation via compiler new thread new thread new thread new thread new thread new thread kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin successfully binary ti bin successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin successfully binary ti bin successfully binary ti bin successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready successfully binary ti bin kernel ready kernel ready kernel ready kernel ready successfully binary ti bin successfully binary ti bin successfully binary ti bin successfully binary ti bin kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready successfully binary ti bin kernel ready preferred index preferred platform corporation device ti corporation local dim char short long float double program received signal segmentation fault main,issue,positive,positive,positive,positive,positive,positive
28839145,"I think you need to use the following line for debug:
make config=debug64
",think need use following line make,issue,negative,neutral,neutral,neutral,neutral,neutral
28838846,"Please use the latest revision and use the --debug_kernel_launch command-line option, and provide full output (including the launch line)

Thanks!
",please use latest revision use option provide full output launch line thanks,issue,positive,positive,positive,positive,positive,positive
28815312,"Perhaps posting a gist works, at gist.github.com?
",perhaps posting gist work,issue,negative,neutral,neutral,neutral,neutral,neutral
28814567,"pastebin... blocked, as per company policy ;-(
",blocked per company policy,issue,negative,neutral,neutral,neutral,neutral,neutral
28759778,"Right, now I did config=debug64 make.
Still not showing symbols.

Here's what 'thread apply all bt' shows, just in case.

Thread 7 (Thread 0x7fffe288b700 (LWP 16219)):
#0  sem_wait () at ../nptl/sysdeps/unix/sysv/linux/x86_64/sem_wait.S:86
#1  0x00007fffe68d3dde in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#2  0x00007fffe6446e5d in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#3  0x00007fffe68d5729 in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#4  0x00007ffff6747e9a in start_thread (arg=0x7fffe288b700) at pthread_create.c:308
#5  0x00007ffff6a513fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 6 (Thread 0x7fffe308c700 (LWP 16218)):
#0  sem_wait () at ../nptl/sysdeps/unix/sysv/linux/x86_64/sem_wait.S:86
#1  0x00007fffe68d3dde in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#2  0x00007fffe6446e5d in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#3  0x00007fffe68d5729 in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#4  0x00007ffff6747e9a in start_thread (arg=0x7fffe308c700) at pthread_create.c:308
#5  0x00007ffff6a513fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 5 (Thread 0x7fffe388d700 (LWP 16217)):
#0  sem_wait () at ../nptl/sysdeps/unix/sysv/linux/x86_64/sem_wait.S:86
#1  0x00007fffe68d3dde in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#2  0x00007fffe6446e5d in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#3  0x00007fffe68d5729 in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#4  0x00007ffff6747e9a in start_thread (arg=0x7fffe388d700) at pthread_create.c:308
#5  0x00007ffff6a513fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

---Type <return> to continue, or q <return> to quit---
Thread 4 (Thread 0x7fffe408e700 (LWP 16216)):
#0  sem_wait () at ../nptl/sysdeps/unix/sysv/linux/x86_64/sem_wait.S:86
#1  0x00007fffe68d3dde in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#2  0x00007fffe6446e5d in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#3  0x00007fffe68d5729 in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#4  0x00007ffff6747e9a in start_thread (arg=0x7fffe408e700) at pthread_create.c:308
#5  0x00007ffff6a513fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 3 (Thread 0x7fffe488f700 (LWP 16215)):
#0  sem_wait () at ../nptl/sysdeps/unix/sysv/linux/x86_64/sem_wait.S:86
#1  0x00007fffe68d3dde in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#2  0x00007fffe6446e5d in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#3  0x00007fffe68d5729 in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#4  0x00007ffff6747e9a in start_thread (arg=0x7fffe488f700) at pthread_create.c:308
#5  0x00007ffff6a513fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 2 (Thread 0x7fffe5d96700 (LWP 16214)):
#0  0x00007ffff6a4a763 in select () at ../sysdeps/unix/syscall-template.S:82
#1  0x00007fffe68d437b in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#2  0x00007fffe63b10db in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#3  0x00007fffe68d5729 in ?? () from /usr/lib/nvidia-319-updates/libnvidia-opencl.so.1
#4  0x00007ffff6747e9a in start_thread (arg=0x7fffe5d96700) at pthread_create.c:308
#5  0x00007ffff6a513fd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112
#6  0x0000000000000000 in ?? ()

Thread 1 (Thread 0x7ffff7fca740 (LWP 16211)):
---Type <return> to continue, or q <return> to quit---
#0  0x0000000000000000 in ?? ()
#1  0x00000000004369fd in ?? ()
#2  0x0000000000435029 in ?? ()
#3  0x000000000043507a in ?? ()
#4  0x00000000004061d0 in ?? ()
#5  0x00007ffff697e76d in __libc_start_main (main=0x405620, argc=1, ubp_av=0x7fffffffe638, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffe628)
    at libc-start.c:226
#6  0x00000000004089d9 in ?? ()
#7  0x00007fffffffe628 in ?? ()
#8  0x000000000000001c in ?? ()
#9  0x0000000000000001 in ?? ()
#10 0x00007fffffffe90b in ?? ()
#11 0x0000000000000000 in ?? ()
",right make still showing apply case thread thread clone thread thread clone thread thread clone return continue return quit thread thread clone thread thread clone thread thread select clone thread thread return continue return quit,issue,negative,positive,positive,positive,positive,positive
28753798,"You could paste all lines to http://pastebin.com 

We'll figure it out, I can reproduce some errors. The Mac OSX OpenCL driver/compiler needs some workarounds.
",could paste figure reproduce mac need,issue,negative,neutral,neutral,neutral,neutral,neutral
28753646,"How would you like the debug info? its 2100 lines...

Sadly, with the latest code i get a reasonably clean run ever few times i run it. This is worrisome though as it would appear to be the dreaded nondeterministic threading problem,

Code runs fine on three of my nvidia MBPs,
",would like sadly latest code get reasonably clean run ever time run worrisome though would appear problem code fine three,issue,negative,positive,positive,positive,positive,positive
28633698,":( Too bad, I understand, Not sure I can add something like that inside my Mac mini ;)

But thanks for the quick response.
",bad understand sure add something like inside mac thanks quick response,issue,negative,positive,neutral,neutral,positive,positive
28633655,"Even if we can make it work on OpenCL CPU or HD4000, it will be slow and not practical and just a theoretical thing, possibly useful for a benchmark tool.

You better get a 7970 or GTX 280/290, it will fly...
",even make work slow practical theoretical thing possibly useful tool better get fly,issue,positive,positive,positive,positive,positive,positive
28633599,"Hi, I am trying to play with bullet3 but my GPU (HD 4000) doesn't work with bullet. Do you have any news about the support of CPU ??
",hi trying play bullet work bullet news support,issue,positive,neutral,neutral,neutral,neutral,neutral
28514893,"I know, sorry i traced it through in much more detail... i just got sidetracked, given the AMD dev summit, i was hoping to meet with you but had the panel talk for web-tech on tuesday during your talk.

I hope to touch this again by tomorrow afternoon and will update with the requested info,

Cheers,
",know sorry much detail got given dev summit meet panel talk talk hope touch tomorrow afternoon update,issue,negative,negative,negative,negative,negative,negative
28229522,"b3GpuRigidBodyPipeline::stepSimulation(float deltaTime) is the entry point of the entire simulation, so it is not really narrowing down anything :-) 

I am working on improved the code, so it becomes easier to enable/disable every kernel. That way, we can quicker narrow down which kernel causes issues. Apple OpenCL is very finicky about large kernel code, and we often need to split the code into multiple kernels.

Thanks for more detailed help. If you get an error, it helps if you provide the full error log, using the command-line:

App_ >errorlog.txt and attach it.
Thanks!
",float entry point entire simulation really anything working code becomes easier every kernel way narrow kernel apple large kernel code often need split code multiple thanks detailed help get error provide full error log attach thanks,issue,positive,positive,positive,positive,positive,positive
28228259,"I tried the updated code and it seems a little less troublesome... im going to test out today. However, the call bullet3 / Demos3 / GpuDemos / rigidbody / GpuRigidBodyDemo.cpp::stepSimulation (line 218) is the problematic one. I had it tracked down to a couple simple kernels a couple weeks ago but want to verify those are the problem before having you spend any time on it.
",tried code little le troublesome going test today however call bullet demo line problematic one tracked couple simple couple ago want verify problem spend time,issue,negative,negative,neutral,neutral,negative,negative
27607729,"Sure, please let me know the debug info.
The GPU rigid body pipeline is mainly designed for high-end desktop GPUs, so it won't run fast on a laptop or integrated GPU. Still, it is good to make sure there are no issues with the pipeline.
",sure please let know rigid body pipeline mainly designed wo run fast still good make sure pipeline,issue,positive,positive,positive,positive,positive,positive
26477514,"Another idea is to use an LCP solver for the convex collision detection, see the Lemke solver in GPU Gems 3, chapter 33 for example: http://http.developer.nvidia.com/GPUGems3/gpugems3_ch33.html
",another idea use solver convex collision detection see solver chapter example,issue,negative,positive,positive,positive,positive,positive
24710597,"There is a b3GpuDynamicsWorld that is compatible with Bullet 2.x API and lets you use Bullet 3.x on GPU,
with a BasicGpuDemo. Unzip the Bullet 2.x source code AND Bullet 3.x source code in the same location,
then you can click on build3/vs2010_bullet2gpu.bat 
Of course Bullet 3.x is more limited than Bullet 2.x, so you cannot use all constraints and collision shape types.
",compatible bullet use bullet bullet source code bullet source code location click course bullet limited bullet use collision shape,issue,negative,negative,neutral,neutral,negative,negative
24481960,"You don't see any project that ends with _clew?

If you have projects that end with _AMD, you must have installed the AMD OpenCL SDK. Premake recognizes the environment variable AMDAPPSDKROOT. Is the AMD OpenCL sdk in thr location at $AMDAPPSDKROOT?

Anyhow, the *clew projects should build. 
",see project end must premake environment variable location anyhow clew build,issue,negative,neutral,neutral,neutral,neutral,neutral
24476182,"B3_USE_CLEW  seems not defined
Where this macro should be define..
and
I'm using Release configuration.
",defined macro define release configuration,issue,negative,neutral,neutral,neutral,neutral,neutral
24476109,"Is there any enviromental variable affecting this compile ?
Just let me check that ..
or
I installed GLEW library can it cause problem ?
",variable affecting compile let check library cause problem,issue,negative,neutral,neutral,neutral,neutral,neutral
24476059,"1>------ Build started: Project: Bullet3OpenCL_AMD, Configuration: Release Win32 ------
1>Build started 2013-09-16 오전 2:41:16.
1>InitializeBuildStatus:
1>  Touching ""obj\x32\Release\Bullet3OpenCL_AMD\Bullet3OpenCL_AMD.unsuccessfulbuild"".
1>ClCompile:
1>  b3GpuSapBroadphase.cpp
1>  b3OpenCLUtils.cpp
1>  b3ConvexHullContact.cpp
1>  b3BoundSearchCL.cpp
1>  b3FillCL.cpp
1>  b3PrefixScanCL.cpp
1>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\Initialize\b3OpenCLUtils.cpp)
1>  b3PrefixScanFloat4CL.cpp
1>  b3RadixSort32CL.cpp
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\BroadphaseCollision\b3GpuSapBroadphase.cpp)
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3PrefixScanCL.cpp)
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3FillCL.cpp)
1>  b3GpuRaycast.cpp
1>  b3GpuBatchingPgsSolver.cpp
1>  b3GpuNarrowPhase.cpp
1>  b3GpuPgsJacobiSolver.cpp
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3BoundSearchCL.cpp)
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3PrefixScanFloat4CL.cpp)
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\RigidBody\b3GpuBatchingPgsSolver.cpp)
2>------ Build started: Project: OpenCL_GUI_Intialize_AMD, Configuration: Release Win32 ------
1>  b3GpuRigidBodyPipeline.cpp
1>  b3Solver.cpp
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\RigidBody\b3GpuRigidBodyPipeline.cpp)
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\NarrowphaseCollision\b3ConvexHullContact.cpp)
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\Raycast\b3GpuRaycast.cpp)
2>Build started 2013-09-16 오전 2:41:16.
2>InitializeBuildStatus:
2>  Touching ""obj\x32\Release\OpenCL_GUI_Intialize_AMD\OpenCL_GUI_Intialize_AMD.unsuccessfulbuild"".
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3RadixSort32CL.cpp)
2>ClCompile:
2>  All outputs are up-to-date.
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\RigidBody\b3GpuNarrowPhase.cpp)
1>d:\vsprojects\lib\bullet3\src\bullet3opencl\rigidbody\b3GpuSolverBody.h(20): warning C4099: 'b3RigidBody' : type name first seen using 'struct' now seen using 'class' (....\src\Bullet3OpenCL\RigidBody\b3GpuPgsJacobiSolver.cpp)
1>          d:\vsprojects\lib\bullet3\src\bullet3dynamics\constraintsolver\b3SolverConstraint.h(19) : see declaration of 'b3RigidBody'
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\RigidBody\b3Solver.cpp)
1>d:\vsprojects\lib\bullet3\src\bullet3opencl\rigidbody\b3GpuSolverConstraint.h(20): warning C4099: 'b3RigidBody' : type name first seen using 'struct' now seen using 'class' (....\src\Bullet3OpenCL\RigidBody\b3GpuPgsJacobiSolver.cpp)
1>          d:\vsprojects\lib\bullet3\src\bullet3dynamics\constraintsolver\b3SolverConstraint.h(19) : see declaration of 'b3RigidBody'
1>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\RigidBody\b3GpuPgsJacobiSolver.cpp)
2>  main.cpp
2>  b3OpenCLUtils.cpp
2>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\Initialize\b3OpenCLUtils.cpp)
3>------ Build started: Project: Test_OpenCL_intialize_AMD, Configuration: Release Win32 ------
4>------ Build started: Project: Test_OpenCL_kernel_launch_AMD, Configuration: Release Win32 ------
5>------ Build started: Project: Test_OpenCL_Primitives_AMD, Configuration: Release Win32 ------
6>------ Build started: Project: Test_OpenCL_RadixSortBenchmark_AMD, Configuration: Release Win32 ------
7>------ Build started: Project: Test_BitonicSort_AMD, Configuration: Release Win32 ------
3>Build started 2013-09-16 오전 2:41:17.
4>Build started 2013-09-16 오전 2:41:17.
4>InitializeBuildStatus:
4>  Touching ""obj\x32\Release\Test_OpenCL_kernel_launch_AMD\Test_OpenCL_kernel_launch_AMD.unsuccessfulbuild"".
3>InitializeBuildStatus:
3>  Touching ""obj\x32\Release\Test_OpenCL_intialize_AMD\Test_OpenCL_intialize_AMD.unsuccessfulbuild"".
6>Build started 2013-09-16 오전 2:41:17.
5>Build started 2013-09-16 오전 2:41:17.
6>InitializeBuildStatus:
6>  Touching ""obj\x32\Release\Test_OpenCL_RadixSortBenchmark_AMD\Test_OpenCL_RadixSortBenchmark_AMD.unsuccessfulbuild"".
5>InitializeBuildStatus:
5>  Touching ""obj\x32\Release\Test_OpenCL_Primitives_AMD\Test_OpenCL_Primitives_AMD.unsuccessfulbuild"".
7>Build started 2013-09-16 오전 2:41:17.
3>ClCompile:
3>  main.cpp
3>  b3OpenCLUtils.cpp
7>InitializeBuildStatus:
7>  Touching ""obj\x32\Release\Test_BitonicSort_AMD\Test_BitonicSort_AMD.unsuccessfulbuild"".
4>ClCompile:
4>  main.cpp
4>  b3OpenCLUtils.cpp
3>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\test\OpenCL\BasicInitialize\main.cpp)
4>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\test\OpenCL\KernelLaunch\main.cpp)
3>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\Initialize\b3OpenCLUtils.cpp)
4>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\Initialize\b3OpenCLUtils.cpp)
6>ClCompile:
6>  main.cpp
5>ClCompile:
6>  b3OpenCLUtils.cpp
6>  b3FillCL.cpp
6>  b3PrefixScanCL.cpp
6>  b3RadixSort32CL.cpp
5>  main.cpp
5>  b3OpenCLUtils.cpp
5>  b3FillCL.cpp
5>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\test\OpenCL\ParallelPrimitives\main.cpp)
5>  b3BoundSearchCL.cpp
5>  b3PrefixScanCL.cpp
6>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3FillCL.cpp)
3>
6>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3PrefixScanCL.cpp)
6>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\Initialize\b3OpenCLUtils.cpp)
3>Build FAILED.
3>
3>Time Elapsed 00:00:00.31
5>  b3RadixSort32CL.cpp
4>
4>Build FAILED.
4>
4>Time Elapsed 00:00:00.33
6>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3RadixSort32CL.cpp)
5>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\Initialize\b3OpenCLUtils.cpp)
5>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3FillCL.cpp)
5>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3BoundSearchCL.cpp)
5>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3PrefixScanCL.cpp)
5>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\ParallelPrimitives\b3RadixSort32CL.cpp)
7>ClCompile:
7>  main.cpp
7>  b3BitonicSort.cpp
7>  b3OpenCLUtils.cpp
7>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\test\OpenCL\BitonicSort\b3BitonicSort.cpp)
7>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\test\OpenCL\BitonicSort\main.cpp)
5>
7>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\src\Bullet3OpenCL\Initialize\b3OpenCLUtils.cpp)
5>Build FAILED.
5>
5>Time Elapsed 00:00:00.40
2>d:\vsprojects\lib\bullet3\btgui\openglwindow\TwFonts.h : warning C4819: The file contains a character that cannot be represented in the current code page (949). Save the file in Unicode format to prevent data loss (....\Demos3\GpuGuiInitialize\main.cpp)
7>
7>Build FAILED.
7>
7>Time Elapsed 00:00:00.40
2>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuGuiInitialize\main.cpp)
1>
1>Build FAILED.
1>
1>Time Elapsed 00:00:01.52
2>
2>Build FAILED.
2>
2>Time Elapsed 00:00:01.25
8>------ Build started: Project: App_Bullet3_OpenCL_Demos_AMD, Configuration: Release Win32 ------
8>Build started 2013-09-16 오전 2:41:17.
8>InitializeBuildStatus:
8>  Touching ""obj\x32\Release\App_Bullet3_OpenCL_Demos_AMD\App_Bullet3_OpenCL_Demos_AMD.unsuccessfulbuild"".
6>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\test\OpenCL\RadixSortBenchmark\main.cpp)
8>ClCompile:
8>  All outputs are up-to-date.
6>
6>Build FAILED.
6>
6>Time Elapsed 00:00:00.64
8>  GpuDemo.cpp
8>  main_opengl3core.cpp
8>  ParticleDemo.cpp
8>  PairBench.cpp
8>  ConstraintsDemo.cpp
8>d:\vsprojects\lib\bullet3\demos3\gpudemos\ParticleDemo.h(5): warning C4099: 'GLInstancingRenderer' : type name first seen using 'class' now seen using 'struct' (....\Demos3\GpuDemos\ParticleDemo.cpp)
8>          d:\vsprojects\lib\bullet3\demos3\gpudemos\GpuDemo.h(3) : see declaration of 'GLInstancingRenderer'
8>  RaytracedShadowDemo.cpp
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\GpuDemo.cpp)
8>  Bullet2FileDemo.cpp
8>  BulletDataExtractor.cpp
8>  ConcaveScene.cpp
8>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\rigidbody\Bullet2FileDemo.cpp)
8>  GpuCompoundScene.cpp
8>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\ParticleDemo.cpp)
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\raytrace\RaytracedShadowDemo.cpp)
8>  GpuConvexScene.cpp
8>  GpuRigidBodyDemo.cpp
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\constraints\ConstraintsDemo.cpp)
8>  GpuSphereScene.cpp
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\broadphase\PairBench.cpp)
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\rigidbody\GpuCompoundScene.cpp)
8>  GpuSoftBodyDemo.cpp
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\rigidbody\ConcaveScene.cpp)
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\rigidbody\GpuConvexScene.cpp)
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\rigidbody\GpuSphereScene.cpp)
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\rigidbody\GpuRigidBodyDemo.cpp)
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\rigidbody\BulletDataExtractor.cpp)
8>....\src\Bullet3OpenCL/Initialize/b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\softbody\GpuSoftBodyDemo.cpp)
8>d:\vsprojects\lib\bullet3\src\bullet3opencl\initialize\b3OpenCLInclude.h(34): fatal error C1083: Cannot open include file: 'CL/cl.h': No such file or directory (....\Demos3\GpuDemos\main_opengl3core.cpp)
8>
8>Build FAILED.
8>
8>Time Elapsed 00:00:00.75
========== Build: 0 succeeded, 8 failed, 19 up-to-date, 0 skipped ==========

Here is full error message code without AMD APP SDK
Can you find what was wrong ??
",build project configuration release win build touching fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory build project configuration release win fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory build touching fatal error open include file file directory fatal error open include file file directory warning type name first seen seen see declaration fatal error open include file file directory warning type name first seen seen see declaration fatal error open include file file directory fatal error open include file file directory build project configuration release win build project configuration release win build project configuration release win build project configuration release win build project configuration release win build build touching touching build build touching touching build touching fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory build time build time fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory build time warning file character current code page save file format prevent data loss build time fatal error open include file file directory build time build time build project configuration release win build touching fatal error open include file file directory build time warning type name first seen seen see declaration fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory fatal error open include file file directory build time build full error message code without find wrong,issue,negative,positive,positive,positive,positive,positive
24474916,"If you didn't install the OpenCL SDK from AMD, NVIDIA or Intel, you shouldn't get any project that ends with  _NVIDIA or _AMD or _Intel. The build system only generates those projects if the environment variables for those SDKs are there. In any case, the _clew version should always work and be there, even without OpenCL SDK installed
",install get project build system environment case version always work even without,issue,negative,neutral,neutral,neutral,neutral,neutral
24474881,"I just tried vs2012 using the vs2010.bat generated projects, and after upgrade it just works fine. No compile error.

App_Bullet3_OpenCL_Demos_clew just compile fine.
The error in your first post doesn't make sense, because clew has B3_USE_CLEW defined, so it shouldn't go there.
Are you compiling the projects that end with _clew?
",tried upgrade work fine compile error compile fine error first post make sense clew defined go end,issue,negative,positive,positive,positive,positive,positive
24474132,"i test under Windows, Linux and MacOSX, it should work without any problem.

please provide all platform and compiler info and full console output.
",test work without problem please provide platform compiler full console output,issue,negative,positive,positive,positive,positive,positive
24473943,"Thank you for reopen.. I complied just document said and got above error then what should I do to compile without APP SDK ?? Actualy I worried about portability issuese
",thank reopen document said got error compile without worried portability,issue,negative,neutral,neutral,neutral,neutral,neutral
24472802,"no, there is no need to install any OpenCL sdk, that is pure optional,
The Bullet 3 SDK comes with clew.
Did you use the build/premake build system?
",need install pure optional bullet come clew use build system,issue,negative,positive,positive,positive,positive,positive
24470295,"I fixed it myself..
OpenCL SDK must be installed to compile this library.
for AMD. APP SDK must be installed..
It fixed all compile errors..
",fixed must compile library must fixed compile,issue,negative,positive,neutral,neutral,positive,positive
23178811,"compound versus compound using tandem tree traversal is implemented now. There is some additional optimizations that can be added in the future, by performing the subtree traversals in parallel.
",compound versus compound tandem tree traversal additional added future parallel,issue,negative,neutral,neutral,neutral,neutral,neutral
21326666,"Thanks for sharing. The performance looks disappointing, ~260ms / frame. The Radeon 7970 runs about 24ms/frame. Even my Macbook 15"" retina mobile GPU is faster, ~100ms/frame (Windows though).

I'm at the SIGGRAPH conference right now, but once I returned, I'll report the numbers for a GTX 470 and GTX 680 under Ubuntu 12.04. The main file is the .txt file, all the profile details are in there.
",thanks performance disappointing frame even retina mobile faster though conference right returned report main file file profile,issue,negative,positive,neutral,neutral,positive,positive
21326233,"Unfortunately it runs super slow.

GPU : NVIDIA Corporation GeForce GTX 580/PCIe/SSE2
CPU : Intel Nehalem EP Xeon Quad-Core processor E5504 - 2.0GHz

Github **only lets me attach images** so I'll just put them on my dropbox:
https://dl.dropboxusercontent.com/u/1474654/GeForce%20GTX%20580_Unix_GRBConcave_30_30_30_date_22-7-2013_time_15-4-33.csv
https://dl.dropboxusercontent.com/u/1474654/GeForce%20GTX%20580_Unix_GRBConcave_30_30_30_date_22-7-2013_time_15-4-33.txt
",unfortunately super slow corporation processor attach put,issue,negative,positive,neutral,neutral,positive,positive
21325819,"Can you let me know how it works for you? What GPU do you have?

Can you attach the two files as output of the benchmark, using the --benchmark option?
",let know work attach two output option,issue,negative,neutral,neutral,neutral,neutral,neutral
21325681,"-lX11 did the trick. I'm not familiar with premake I had to manually add it to some of the generated .make files in ./gmake/
",trick familiar premake manually add,issue,negative,positive,positive,positive,positive,positive
21325385,"I only tested it under Ubuntu 12.04 . Likely some display library is
missing. Just google the undefined references :-)

It could also be some link order issue. You could try to add a links { ""X11"" } in the Linux section of bullet3/Demos3/GpuDemos/premake4.lua
(and run the ./premake_linux\* again)

Let me know if you find out what's the problem.

On 21 July 2013 22:25, joobei notifications@github.com wrote:

> Thank you so much :) Just tried it and it builds fine on Ubuntu 13.04 x64.
> Test_Gwen_OpenGL failed though:
> 
> ==== Building Test_Gwen_OpenGL (release64) ====
> .
> .
> .
> Numeric.cpp
> OpenGLSample.cpp
> ProgressBar.cpp
> StatusBar.cpp
> X11OpenGLWindow.cpp
> ../../btgui/OpenGLWindow/X11OpenGLWindow.cpp: In member function ‘int
> X11OpenGLWindow::getAsciiCodeFromVirtualKeycode(int)’:
> ../../btgui/OpenGLWindow/X11OpenGLWindow.cpp:143:11: warning: ‘KeySym
> XKeycodeToKeysym(Display_, KeyCode, int)’ is deprecated (declared at
> /usr/include/X11/Xlib.h:1695) [-Wdeprecated-declarations]
> ../../btgui/OpenGLWindow/X11OpenGLWindow.cpp:143:55: warning: ‘KeySym
> XKeycodeToKeysym(Display_, KeyCode, int)’ is deprecated (declared at
> /usr/include/X11/Xlib.h:1695) [-Wdeprecated-declarations]
> Linking Test_Gwen_OpenGL
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error:
> undefined reference to 'XOpenDisplay'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error:
> undefined reference to 'XCreateColormap'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error:
> undefined reference to 'XCreateWindow'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error:
> undefined reference to 'XMapWindow'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error:
> undefined reference to 'XStoreName'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::closeWindow(): error: undefined reference to
> 'XDestroyWindow'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::getAsciiCodeFromVirtualKeycode(int): error: undefined
> reference to 'XKeycodeToKeysym'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::getAsciiCodeFromVirtualKeycode(int): error: undefined
> reference to 'XConvertCase'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XPending'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XNextEvent'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::pumpMessage(): error: undefined reference to
> 'XEventsQueued'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XPending'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XPeekEvent'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::pumpMessage(): error: undefined reference to
> 'XLookupKeysym'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XNextEvent'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::startRendering(): error: undefined reference to
> 'XGetWindowAttributes'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::setWindowTitle(char const_): error: undefined reference to
> 'XStoreName'
> obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function
> X11OpenGLWindow::closeWindow(): error: undefined reference to
> 'XCloseDisplay'
> collect2: error: ld returned 1 exit status
> make[1]: *_\* [../../bin/Test_Gwen_OpenGL_gmake_x64_release] Error 1
> make: **\* [Test_Gwen_OpenGL] Error 2
> 
> —
> Reply to this email directly or view it on GitHubhttps://github.com/erwincoumans/bullet3/issues/9#issuecomment-21325321
> .
",tested likely display library missing undefined could also link order issue could try add link section run let know find problem wrote thank much tried fine though building release member function warning declared warning declared linking function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function char error undefined reference function error undefined reference collect error returned exit status make error make error reply directly view,issue,negative,positive,positive,positive,positive,positive
21325321,"Thank you so much :) Just tried it and it builds on Ubuntu 13.04 x64. However. Test_Gwen_OpenGL failed:

==== Building Test_Gwen_OpenGL (release64) ====
.
.
.
Numeric.cpp
OpenGLSample.cpp
ProgressBar.cpp
StatusBar.cpp
X11OpenGLWindow.cpp
../../btgui/OpenGLWindow/X11OpenGLWindow.cpp: In member function ‘int X11OpenGLWindow::getAsciiCodeFromVirtualKeycode(int)’:
../../btgui/OpenGLWindow/X11OpenGLWindow.cpp:143:11: warning: ‘KeySym XKeycodeToKeysym(Display_, KeyCode, int)’ is deprecated (declared at /usr/include/X11/Xlib.h:1695) [-Wdeprecated-declarations]
../../btgui/OpenGLWindow/X11OpenGLWindow.cpp:143:55: warning: ‘KeySym XKeycodeToKeysym(Display_, KeyCode, int)’ is deprecated (declared at /usr/include/X11/Xlib.h:1695) [-Wdeprecated-declarations]
Linking Test_Gwen_OpenGL
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error: undefined reference to 'XOpenDisplay'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error: undefined reference to 'XCreateColormap'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error: undefined reference to 'XCreateWindow'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error: undefined reference to 'XMapWindow'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::createWindow(b3gWindowConstructionInfo const&): error: undefined reference to 'XStoreName'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::closeWindow(): error: undefined reference to 'XDestroyWindow'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::getAsciiCodeFromVirtualKeycode(int): error: undefined reference to 'XKeycodeToKeysym'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::getAsciiCodeFromVirtualKeycode(int): error: undefined reference to 'XConvertCase'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XPending'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XNextEvent'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XEventsQueued'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XPending'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XPeekEvent'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XLookupKeysym'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::pumpMessage(): error: undefined reference to 'XNextEvent'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::startRendering(): error: undefined reference to 'XGetWindowAttributes'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::setWindowTitle(char const_): error: undefined reference to 'XStoreName'
obj/x64/Release/Test_Gwen_OpenGL/X11OpenGLWindow.o:X11OpenGLWindow.cpp:function X11OpenGLWindow::closeWindow(): error: undefined reference to 'XCloseDisplay'
collect2: error: ld returned 1 exit status
make[1]: *_\* [../../bin/Test_Gwen_OpenGL_gmake_x64_release] Error 1
make: **\* [Test_Gwen_OpenGL] Error 2
",thank much tried however building release member function warning declared warning declared linking function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function error undefined reference function char error undefined reference function error undefined reference collect error returned exit status make error make error,issue,negative,positive,positive,positive,positive,positive
21325216,"I added some instructions in the main readme.txt see https://github.com/erwincoumans/bullet3
Can you try it?
",added main see try,issue,negative,positive,positive,positive,positive,positive
20915331,"done, latest version has GPU constraint solving. Batching is only done when/if constraints are added/removed.
",done latest version constraint done,issue,negative,positive,positive,positive,positive,positive
20265158,"The latest default settings should work better, it pre-allocates 32k bodies, see
https://github.com/erwincoumans/bullet3/blob/master/src/Bullet3OpenCL/RigidBody/b3Config.h
If your GPU cannot deal with those new defaults, there is probably no point in using Bullet 3.x for the GPU, and it is better to simply use Bullet 2.x on the CPU.
",latest default work better see deal new probably point bullet better simply use bullet,issue,positive,positive,positive,positive,positive,positive
19825791,"Latest trunk has GPU raycast for sphere and convex shapes. It can be used for picking and for basic raytracing. The App_BasicGpuDemo uses it for picking, and the App_Bullet3\* demo includes a basic raytraced test.
",latest trunk sphere convex used basic basic test,issue,negative,positive,positive,positive,positive,positive
19767632,"fixed in latest revision, thanks for the report!
",fixed latest revision thanks report,issue,negative,positive,positive,positive,positive,positive
19699654,"I have compiled and executed the App_BasicGpuDemo on Ubuntu 12.10 64bit successfully.
Steps:
1. Checkout the bullet2 and bullet3 repository sequentially. Carefully, the bullet3 files must override the bullet2 files.
2. (naming error) Move all files in the demo3/BasicGpuDemo to Demo3/BasicGpuDemo
3. (compiling error) Modify Demos3/BasicGpuDemo/b3GpuDynamicsWorld.cpp

line 131           btQuaternion t_orn = (const b3Quaternion&)m_collisionObjects[i]->getWorldTransform().getRotation();
=============================Modified=================================
line 131           btQuaternion t_orn = m_collisionObjects[i]->getWorldTransform().getRotation();
line 132           b3Quaternion orn = (const b3Quaternion&)(t_orn); 
4. (Makefile) type ""make App_BasicGpuDemo"" at /build/gmake directory, and the binary executable file is at the root directory of bullet3, not the /bin directory

thanks
",executed bit successfully bullet bullet repository sequentially carefully bullet must override bullet naming error move error modify line line line type make directory binary executable file root directory bullet directory thanks,issue,negative,positive,positive,positive,positive,positive
19694500,"Yes, btGpuDynamicWorld still works at least under Windows (haven't tested Linux/OSX recently).

You need to checkout both the Bullet 3.x repository AND the Bullet 2.x repository in the same location, and then create the build system with premake:

Linux:
premake4_linux64  --bullet2gpu gmake
OSX:
premake4_linux64  --bullet2gpu xcode4
Windows:
premake4_linux64  --bullet2gpu vs2010

It should still be very easy to swap btDiscreteDynamicsWorld (or btCpuDynamicsWorld) with btGpuDynamicWorld .
",yes still work least tested recently need bullet repository bullet repository location create build system premake still easy swap,issue,positive,positive,neutral,neutral,positive,positive
18889949,"this was fixed long ago, closed
",fixed long ago closed,issue,negative,negative,neutral,neutral,negative,negative
3433685,"I need to get the files to Erwin somehow. Wish I could easily attach a binary file to an issue.
",need get somehow wish could easily attach binary file issue,issue,positive,positive,positive,positive,positive,positive
